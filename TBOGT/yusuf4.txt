void main()
{
    l_U0 = 0;
    l_U1 = 0;
    l_U2 = 0;
    l_U3 = 0;
    l_U4 = 0;
    l_U5 = 1;
    l_U6 = 0;
    l_U7 = 0;
    l_U8 = 0;
    l_U9 = 1;
    l_U10 = 0;
    l_U11 = 0;
    l_U12 = 0;
    l_U13 = 0;
    l_U14 = 0;
    l_U15 = 0;
    l_U16 = 0;
    l_U17 = 0;
    l_U18 = 0;
    l_U19 = 1;
    l_U20 = 0;
    l_U21 = 0;
    l_U22 = 0;
    l_U23 = 0;
    l_U24 = 0;
    l_U25 = 0;
    l_U26 = 0;
    l_U27 = 1;
    l_U28 = 1;
    l_U29 = 0;
    l_U30 = 0;
    l_U31 = 0;
    l_U32 = 0;
    l_U33 = 0;
    l_U34 = 0;
    l_U35 = 0;
    l_U36 = 0;
    l_U1181 = 90.00000000;
    l_U1182 = 5.00000000;
    l_U1183 = 25.00000000;
    l_U1184 = 15.00000000;
    l_U1185 = 2.00000000;
    l_U1186 = 4.00000000;
    l_U1187 = 0.50000000;
    l_U1188 = 120.00000000;
    l_U1189 = 0.00000000;
    l_U1190 = 0.00000000;
    l_U1192 = 1.00000000;
    l_U1193 = 0.00000000;
    l_U1194 = 1.00000000;
    l_U1195 = 10.00000000;
    l_U1196 = 30.00000000;
    l_U1198 = 1.00000000;
    l_U1200 = 1.00000000;
    l_U1201 = 5.00000000;
    l_U1202 = 1.00000000;
    l_U1203 = 1.00000000;
    l_U1208 = 0.30000000;
    l_U1209 = 0.50000000;
    l_U1210 = 50.00000000;
    l_U1616 = 0;
    l_U1617 = 0;
    l_U1618 = 0;
    l_U1619 = 0;
    l_U1620 = 1;
    l_U1621 = 0;
    l_U1622 = 0;
    l_U1623 = 0;
    l_U1624 = 0;
    l_U1625 = -1;
    l_U1626 = 0;
    l_U1627 = 0;
    l_U1628 = 0;
    l_U1629 = 0;
    l_U1630 = 0;
    l_U1631 = 0;
    l_U1632 = 0;
    l_U2805 = 0;
    l_U2806 = 0;
    l_U2810 = 86.00000000;
    l_U2811 = 274.00000000;
    l_U2816 = 0;
    l_U2817 = 1;
    l_U2818 = 3;
    l_U2820 = 0;
    l_U2821 = -1;
    l_U2822 = 0;
    l_U2823 = 0;
    l_U2828 = 1;
    l_U3013 = 0;
    l_U3014 = 0;
    l_U3015 = 0;
    l_U3016 = 0;
    l_U3017 = 0;
    l_U3018 = 0;
    l_U3046 = 10.00000000;
    l_U3047 = 15.00000000;
    l_U3062 = 0;
    l_U3063 = 0;
    l_U3064 = 0;
    l_U3065 = 0;
    l_U3066 = 1;
    l_U3132 = 6;
    l_U3170 = nil;
    l_U3183 = nil;
    l_U3201 = 1;
    l_U3236 = nil;
    l_U3256 = 1;
    l_U3332 = 6;
    l_U3341 = "BOGT_BoxDrop";
    l_U3342 = "BOGT_Box_TickDrop";
    l_U3407 = 0.63600000;
    l_U3408 = 0.37600000;
    l_U3457 = 0.05200000;
    l_U3458 = 0.35300000;
    l_U3459 = 0.30000000;
    l_U3460 = 0.37200000;
    l_U3461 = 0.37300000;
    l_U3462 = 0.38700000;
    l_U3463 = 0.44400000;
    l_U3464 = 0.03750000;
    l_U3465 = 0.36900000;
    l_U3466 = 0.62350000;
    l_U3467 = 0.60800000;
    l_U3468 = {0.24300000, 0.46700000, 0.00000000};
    l_U3471 = {0.23100000, 0.43500000, 0.00000000};
    l_U3474 = {0.23100000, 0.43500000, 0.00000000};
    l_U3477 = {0.31920000, 0.65250000, 0.00000000};
    l_U3480 = {0.31920000, 0.65250000, 0.00000000};
    l_U3483 = {0.24300000, 0.46700000, 0.00000000};
    l_U3486 = {0.50000000, 1.10000000, 0.00000000};
    l_U3489 = {0.31920000, 0.65250000, 0.00000000};
    l_U3492 = {0.18225000, 0.35025000, 0.00000000};
    l_U3495 = 0.30000000;
    l_U3496 = 0.37000000;
    l_U3497 = 0.56200000;
    l_U3498 = 0.40100000;
    l_U3499 = 0.30000000;
    l_U3500 = 0.37000000;
    l_U3501 = 0.69700000;
    l_U3502 = 0.40100000;
    l_U3503 = 0.30000000;
    l_U3504 = 0.37000000;
    l_U3505 = 0.66500000;
    l_U3506 = 0.40100000;
    l_U3507 = 0.32500000;
    l_U3508 = 0.62500000;
    l_U3509 = 0.00800000;
    l_U3510 = 0.49700000;
    l_U3511 = 0.52500000;
    l_U3512 = 0.49700000;
    l_U3513 = 0.51800000;
    l_U3514 = 1;
    l_U3515 = 0;
    l_U3516 = {0.50000000, 0.50000000, 0};
    l_U3519 = 0.20000000;
    l_U3520 = 0.20000000;
    l_U3564 = 0;
    l_U3565 = 0;
    l_U3577 = 0;
    l_U3581 = 0;
    l_U3582 = 2;
    l_U3583 = 29;
    l_U3584 = 1;
    l_U3585 = 3;
    l_U3586 = 23;
    l_U3587 = 87;
    l_U3588 = 28;
    l_U3589 = 4;
    l_U3590 = 20;
    l_U3591 = 7;
    l_U3592 = 0;
    SET_MISSION_FLAG( 1 );
    LOAD_ADDITIONAL_TEXT( "YUSUF4", 0 );
    if (HAS_DEATHARREST_EXECUTED())
    {
        sub_1447();
        l_U4617 = 99;
        sub_3772();
    }
    while (true)
    {
        WAIT( 0 );
        g_U43137 = 18;
        sub_5889( 0 );
        switch (l_U3592)
        {
            case 0:
            SWITCH_RANDOM_TRAINS( 0 );
            if ((l_U4617 < 8) AND (l_U4617 > 4))
            {
                if (DOES_CHAR_EXIST( l_U3775 ))
                {
                    if ((IS_VEH_DRIVEABLE( l_U3898 )) AND ((NOT (IS_CHAR_INJURED( sub_4345() ))) AND (NOT (IS_CHAR_INJURED( l_U3775 )))))
                    {
                        if ((IS_CHAR_IN_CAR( l_U3775, l_U3898 )) AND (IS_CHAR_IN_CAR( sub_4345(), l_U3898 )))
                        {
                            if (((l_U4727 < 39) AND (l_U4727 > 36)) || (l_U4727 < 6))
                            {
                                BLOCK_CHAR_AMBIENT_ANIMS( l_U3775, 1 );
                            }
                            if (l_U4189 == 1)
                            {
                                sub_13581( l_U4901, ref l_U4908, 6, 1 );
                                l_U4189 = 0;
                            }
                            if (l_U4175 == 1)
                            {
                                sub_14568();
                            }
                        }
                        else
                        {
                            BLOCK_CHAR_AMBIENT_ANIMS( l_U3775, 0 );
                            if ((l_U4189 == 0) AND (sub_3929( l_U4908 )))
                            {
                                sub_23594( ref l_U4908 );
                                l_U4189 = 1;
                            }
                        }
                    }
                }
            }
            if (l_U4617 < 12)
            {
                if (DOES_VEHICLE_EXIST( l_U3881[5] ))
                {
                    if (IS_VEH_DRIVEABLE( l_U3881[5] ))
                    {
                        if (LOCATE_CAR_3D( l_U3881[5], 971.40000000, 202.16000000, 42, 5, 5, 5, 0 ))
                        {
                            if (NOT (IS_CHAR_INJURED( l_U3775 )))
                            {
                                TASK_USE_MOBILE_PHONE_TIMED( l_U3775, 60000 );
                            }
                            l_U4709 = 2;
                            sub_24116();
                        }
                    }
                }
            }
            if (DOES_CHAR_EXIST( l_U3775 ))
            {
                if (IS_CHAR_INJURED( l_U3775 ))
                {
                    sub_25609( 2, l_U3775, 2 );
                    l_U4709 = 4;
                    sub_24116();
                }
                if ((l_U4617 < 8) AND ((l_U4617 > 4) AND ((NOT (IS_CHAR_INJURED( sub_4345() ))) AND (NOT (IS_CHAR_INJURED( l_U3775 ))))))
                {
                    GET_CHAR_COORDINATES( l_U3775, ref l_U4611._fU0, ref l_U4611._fU4, ref l_U4611._fU8 );
                    GET_CHAR_COORDINATES( sub_4345(), ref l_U4566._fU0, ref l_U4566._fU4, ref l_U4566._fU8 );
                    GET_DISTANCE_BETWEEN_COORDS_3D( l_U4611._fU0, l_U4611._fU4, l_U4611._fU8, l_U4566._fU0, l_U4566._fU4, l_U4566._fU8, ref l_U4862 );
                    if (l_U4862 > 300)
                    {
                        if (sub_25909( 1, 1 ))
                        {
                            l_U4709 = 5;
                            sub_24116();
                        }
                    }
                }
            }
            if (DOES_VEHICLE_EXIST( l_U3898 ))
            {
                if (IS_VEH_DRIVEABLE( l_U3898 ))
                {
                    if ((CHECK_STUCK_TIMER( l_U3898, 0, 5000 )) || ((CHECK_STUCK_TIMER( l_U3898, 1, 40000 )) || ((CHECK_STUCK_TIMER( l_U3898, 2, 30000 )) || (CHECK_STUCK_TIMER( l_U3898, 3, 60000 )))))
                    {
                        l_U4727 = 99;
                        l_U4617 = 99;
                        if (sub_26336())
                        {
                            sub_26366( 0 );
                        }
                        if (NOT (IS_CHAR_INJURED( l_U3775 )))
                        {
                            CLEAR_CHAR_TASKS( l_U3775 );
                        }
                        if (l_U4264 == 0)
                        {
                            GET_GAME_TIMER( ref l_U4761 );
                            l_U4264 = 1;
                            PRINT_NOW( "DT_FAIL_1", 7500, 1 );
                        }
                        sub_26588();
                    }
                }
                else
                {
                    l_U4727 = 99;
                    l_U4617 = 99;
                    if (sub_26336())
                    {
                        sub_26366( 0 );
                    }
                    if (NOT (IS_CHAR_INJURED( l_U3775 )))
                    {
                        CLEAR_CHAR_TASKS( l_U3775 );
                    }
                    if (l_U4264 == 0)
                    {
                        PRINT_NOW( "DT_FAIL_1", 7500, 1 );
                        GET_GAME_TIMER( ref l_U4761 );
                        l_U4264 = 1;
                    }
                    sub_26588();
                }
            }
            if (l_U4264 == 1)
            {
                GET_GAME_TIMER( ref l_U4629 );
                if ((l_U4629 - l_U4761) > 7000)
                {
                    if (sub_25909( 1, 1 ))
                    {
                        if (NOT (IS_CHAR_INJURED( l_U3775 )))
                        {
                            SET_CHAR_INVINCIBLE( l_U3775, 1 );
                            if (IS_SCREEN_FADED_IN())
                            {
                                DO_SCREEN_FADE_OUT( 500 );
                                while (IS_SCREEN_FADING_OUT())
                                {
                                    WAIT( 0 );
                                }
                            }
                            l_U4758 = 0;
                            l_U3592 = 3;
                        }
                        else
                        {
                            sub_24116();
                        }
                    }
                }
            }
            if (l_U4617 < 11)
            {
                if (NOT (IS_CHAR_INJURED( sub_4345() )))
                {
                    if (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 967.24000000, 231.60000000, 47, 190, 190, 140, 1 ))
                    {
                        REQUEST_MODEL( 353883353 );
                        REQUEST_MODEL( -1660661558 );
                        REQUEST_MODEL( -183203150 );
                        if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( 225 )))
                        {
                            REQUEST_CAR_RECORDING( 225 );
                        }
                        if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( 215 )))
                        {
                            REQUEST_CAR_RECORDING( 215 );
                        }
                        if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( 235 )))
                        {
                            REQUEST_CAR_RECORDING( 235 );
                        }
                        if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( 237 )))
                        {
                            REQUEST_CAR_RECORDING( 237 );
                        }
                        REQUEST_MODEL( 800869680 );
                        if (HAS_MODEL_LOADED( 800869680 ))
                        {
                            if (NOT (DOES_VEHICLE_EXIST( l_U3881[5] )))
                            {
                                CREATE_MISSION_TRAIN( 4, 751.16300000, 252.12500000, 34.67920000, 1, ref l_U3881[0] );
                                SET_TRAIN_SPEED( l_U3881[0], 0 );
                                SET_TRAIN_CRUISE_SPEED( l_U3881[0], 0 );
                                GET_TRAIN_CARRIAGE( l_U3881[0], 0, ref l_U3881[0] );
                                GET_TRAIN_CARRIAGE( l_U3881[0], 1, ref l_U3881[1] );
                                GET_TRAIN_CARRIAGE( l_U3881[0], 2, ref l_U3881[2] );
                                SET_TRAIN_STOPS_FOR_STATIONS( l_U3881[0], 0 );
                                CREATE_MISSION_TRAIN( 4, 698.80000000, 252.12500000, 34.67920000, 1, ref l_U3881[3] );
                                SET_TRAIN_SPEED( l_U3881[3], 0 );
                                SET_TRAIN_CRUISE_SPEED( l_U3881[3], 0 );
                                GET_TRAIN_CARRIAGE( l_U3881[3], 0, ref l_U3881[3] );
                                GET_TRAIN_CARRIAGE( l_U3881[3], 1, ref l_U3881[4] );
                                GET_TRAIN_CARRIAGE( l_U3881[3], 2, ref l_U3881[5] );
                                SET_TRAIN_STOPS_FOR_STATIONS( l_U3881[3], 0 );
                            }
                            if (NOT (DOES_VEHICLE_EXIST( l_U3869[4] )))
                            {
                                CREATE_MISSION_TRAIN( 4, 970.47000000, 127.50000000, 41.03000000, 1, ref l_U3869[0] );
                                SET_TRAIN_SPEED( l_U3869[0], 0 );
                                SET_TRAIN_CRUISE_SPEED( l_U3869[0], 0 );
                                GET_TRAIN_CARRIAGE( l_U3869[0], 0, ref l_U3869[0] );
                                GET_TRAIN_CARRIAGE( l_U3869[0], 1, ref l_U3888[0] );
                                GET_TRAIN_CARRIAGE( l_U3869[0], 2, ref l_U3888[1] );
                                SET_TRAIN_STOPS_FOR_STATIONS( l_U3869[0], 0 );
                                CREATE_MISSION_TRAIN( 4, 971.07000000, 144.70000000, 41.03000000, 1, ref l_U3869[1] );
                                SET_TRAIN_SPEED( l_U3869[1], 0 );
                                SET_TRAIN_CRUISE_SPEED( l_U3869[1], 0 );
                                GET_TRAIN_CARRIAGE( l_U3869[1], 0, ref l_U3869[1] );
                                GET_TRAIN_CARRIAGE( l_U3869[1], 1, ref l_U3869[2] );
                                GET_TRAIN_CARRIAGE( l_U3869[1], 2, ref l_U3869[3] );
                                SET_TRAIN_STOPS_FOR_STATIONS( l_U3869[1], 0 );
                                CREATE_MISSION_TRAIN( 4, 971.57000000, 196.65000000, 41.03000000, 1, ref l_U3869[4] );
                                SET_TRAIN_SPEED( l_U3869[4], 0 );
                                SET_TRAIN_CRUISE_SPEED( l_U3869[4], 0 );
                                GET_TRAIN_CARRIAGE( l_U3869[4], 0, ref l_U3869[4] );
                                GET_TRAIN_CARRIAGE( l_U3869[4], 1, ref l_U3869[5] );
                                GET_TRAIN_CARRIAGE( l_U3869[4], 2, ref l_U3888[2] );
                                SET_TRAIN_STOPS_FOR_STATIONS( l_U3869[4], 0 );
                            }
                            else
                            {
                                for ( l_U4618 = 0; l_U4618 <= 2; l_U4618++ )
                                {
                                    if (IS_VEH_DRIVEABLE( l_U3888[l_U4618] ))
                                    {
                                        SET_CAR_VISIBLE( l_U3888[l_U4618], 0 );
                                        SET_CAR_COLLISION( l_U3888[l_U4618], 0 );
                                    }
                                }
                                for ( l_U4618 = 0; l_U4618 <= 5; l_U4618++ )
                                {
                                    if (IS_VEH_DRIVEABLE( l_U3869[l_U4618] ))
                                    {
                                        SET_CAR_VISIBLE( l_U3869[l_U4618], 0 );
                                        SET_CAR_COLLISION( l_U3869[l_U4618], 0 );
                                    }
                                }
                            }
                        }
                    }
                }
            }
            if (l_U4221 == 1)
            {
                sub_28564( l_U3898 );
            }
            switch (l_U4617)
            {
                case 0:
                l_U4727 = 99;
                SET_GPS_TEST_IN_3D_FLAG( 1 );
                CLEAR_AREA( 73.48800000, -838.45440000, 3.93330000, 500, 1 );
                sub_31872();
                l_U4220 = 1;
                LOAD_ADDITIONAL_TEXT( "E2Y4AUD", 6 );
                sub_35101( "E2Y4AUD" );
                if (NOT (IS_CHAR_INJURED( sub_4345() )))
                {
                    sub_16117( 0, sub_4345(), "LUIS", 0 );
                }
                if ((g_U43104[18] == 0) || (IS_BIT_SET( g_U10938._fU0, 7 )))
                {
                    if (NOT (sub_35310( 2, 73.48800000, -838.45440000, 3.93330000, 310.88450000, ref l_U3898 )))
                    {
                        WAIT( 0 );
                    }
                    else
                    {
                        MARK_MODEL_AS_NO_LONGER_NEEDED( 1638119866 );
                        SET_CAR_IN_CUTSCENE( l_U3898, 1 );
                        GET_CURRENT_WEATHER( ref l_U4920 );
                        if ((l_U4920 == 2) || ((l_U4920 == 1) || (l_U4920 == 0)))
                        {
                            TURN_OFF_VEHICLE_EXTRA( l_U3898, 1, 1 );
                            TURN_OFF_VEHICLE_EXTRA( l_U3898, 2, 1 );
                            TURN_OFF_VEHICLE_EXTRA( l_U3898, 3, 1 );
                            TURN_OFF_VEHICLE_EXTRA( l_U3898, 4, 0 );
                        }
                        else
                        {
                            TURN_OFF_VEHICLE_EXTRA( l_U3898, 1, 0 );
                            TURN_OFF_VEHICLE_EXTRA( l_U3898, 2, 0 );
                            TURN_OFF_VEHICLE_EXTRA( l_U3898, 3, 0 );
                            TURN_OFF_VEHICLE_EXTRA( l_U3898, 4, 1 );
                        }
                        l_U4053 = 1;
                        if ((g_U43133 == 0) AND (l_U4222 == 0))
                        {
                            if (IS_BIT_SET( g_U10938._fU0, 7 ))
                            {
                                g_U2792 = 1;
                                START_CUTSCENE_NOW( "Y4_AA" );
                                while (NOT HAS_CUTSCENE_LOADED())
                                {
                                    WAIT( 0 );
                                }
                                while (NOT HAS_CUTSCENE_FINISHED())
                                {
                                    sub_5889( 0 );
                                    WAIT( 0 );
                                }
                                CLEAR_NAMED_CUTSCENE( "Y4_AA" );
                            }
                            l_U4222 = 0;
                        }
                        SUPPRESS_CAR_MODEL( 1123216662 );
                        REQUEST_ANIMS( "missyusuf04" );
                        if (g_U43133 == 1)
                        {
                            g_U43104[18] = 0;
                            if (g_U42911[0] < 100)
                            {
                                g_U42911[0] = 100;
                            }
                        }
                        sub_37158();
                        if (NOT (IS_CHAR_INJURED( sub_4345() )))
                        {
                            SET_CHAR_COORDINATES( sub_4345(), 64.72820000, -846.41690000, 3.96630000 );
                            SET_PLAYER_CONTROL( sub_4399(), 1 );
                            SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( sub_4345(), 0 );
                        }
                        SWITCH_ROADS_OFF( 1051.47000000, 215.87000000, 25, 917.30000000, 252, 50 );
                        SET_CAM_BEHIND_PED( sub_4345() );
                        LOAD_COMBAT_DECISION_MAKER( 7, ref l_U3938 );
                        LOAD_COMBAT_DECISION_MAKER( 3, ref l_U3937 );
                        LOAD_COMBAT_DECISION_MAKER( 2, ref l_U3936 );
                        # -sub_C1FFC0-0xc214c8( 2, ref l_U3934 );
                        while (NOT (REQUEST_MISSION_AUDIO_BANK( "EP2_SFX\Y4_MONEY_TRAIN" )))
                        {
                            PRINTSTRING( "ATTEMPTING TO LOAD AUDIO BANK" );
                            PRINTNL();
                            WAIT( 0 );
                        }
                        l_U4617++;
                    }
                }
                else
                {
                    SUPPRESS_CAR_MODEL( 1123216662 );
                    REQUEST_ANIMS( "missyusuf04" );
                    CLEAR_AREA( 64.72820000, -846.41690000, 3.96630000, 200.00000000, 1 );
                    sub_37158();
                    if (NOT (IS_CHAR_INJURED( sub_4345() )))
                    {
                        SET_CHAR_COORDINATES( sub_4345(), 64.72820000, -846.41690000, 3.96630000 );
                        SET_PLAYER_CONTROL( sub_4399(), 1 );
                        SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( sub_4345(), 0 );
                    }
                    SWITCH_ROADS_OFF( 1051.47000000, 215.87000000, 25, 917.30000000, 252, 50 );
                    SET_CAM_BEHIND_PED( sub_4345() );
                    LOAD_COMBAT_DECISION_MAKER( 7, ref l_U3938 );
                    LOAD_COMBAT_DECISION_MAKER( 3, ref l_U3937 );
                    LOAD_COMBAT_DECISION_MAKER( 2, ref l_U3936 );
                    # -sub_C1FFC0-0xc214c8( 2, ref l_U3934 );
                    while (NOT (REQUEST_MISSION_AUDIO_BANK( "EP2_SFX\Y4_MONEY_TRAIN" )))
                    {
                        PRINTSTRING( "ATTEMPTING TO LOAD AUDIO BANK" );
                        PRINTNL();
                        WAIT( 0 );
                    }
                    l_U4617++;
                }
                break;
                case 1:
                l_U4295[4] = {1271.50000000, -316.14000000, 44.33000000};
                l_U4295[5] = {1278.80000000, -320.30000000, 41.80000000};
                l_U4295[6] = {1269.65000000, -318.80000000, 41.89000000};
                l_U4295[20] = {1305.65000000, -94.96000000, 43.60000000};
                l_U4295[21] = {1307.10000000, 65438, 43.60000000};
                l_U4295[22] = {1320.70000000, -32.95000000, 43.80000000};
                l_U4295[23] = {1307, 65505, 43.60000000};
                l_U4295[24] = {1271.94000000, -316.14000000, 43.71000000};
                l_U4295[25] = {1275.14000000, -319.78000000, 40.90000000};
                l_U4295[26] = {1270.30000000, -318.96000000, 40.90000000};
                l_U4295[30] = {916.33000000, -382.46000000, 34.92000000};
                l_U4295[31] = {917.18000000, -381.47000000, 34.49000000};
                l_U4295[32] = {1006.80000000, -553.60000000, 36.50000000};
                l_U4295[33] = {1035.30000000, -563.47000000, 31.72000000};
                l_U4295[34] = {1045.96000000, -564.39000000, 31.72000000};
                l_U4295[35] = {1072, 64975, 32.50000000};
                l_U4295[36] = {1067.60000000, 64978, 32.40000000};
                l_U4295[37] = {1058.70000000, 64977, 32.20000000};
                l_U4295[38] = {1039, -559.60000000, 32.50000000};
                l_U4295[46] = {1270, 65218, 44.30000000};
                l_U4295[47] = {1305.50000000, 65495, 44};
                l_U4295[48] = {1319, -39.60000000, 43};
                l_U4295[49] = {1410.90000000, 362.85000000, 44.20000000};
                l_U4295[50] = {1409.70000000, 337.40000000, 40.90000000};
                l_U4295[51] = {1408.40000000, 348.50000000, 40.50000000};
                l_U4295[52] = {1429.10000000, 332.80000000, 40.80000000};
                l_U4295[53] = {1429, 429.30000000, 43.90000000};
                l_U4295[57] = {1438.71000000, 909.97000000, 16.03000000};
                l_U4295[58] = {2248.44000000, 626.83000000, 23.37000000};
                l_U4295[59] = {2297.67000000, 529.44000000, 26.56000000};
                l_U4295[60] = {2299.45000000, 521.14000000, 29.29000000};
                l_U4295[63] = {922.50000000, -426.30000000, 37};
                l_U4295[64] = {925.40000000, -427.60000000, 36};
                l_U4765[24] = 180;
                l_U4765[25] = 180;
                l_U4765[26] = 180;
                l_U4765[20] = 180;
                l_U4765[21] = 180;
                l_U4765[22] = 180;
                l_U4765[23] = 180;
                l_U4765[30] = 0;
                l_U4765[31] = 0;
                l_U4765[32] = 174.28190000;
                l_U4765[33] = 165.52420000;
                l_U4765[34] = 52.38340000;
                l_U4765[35] = 170;
                l_U4765[36] = 170;
                l_U4765[37] = 170;
                l_U4765[38] = 170;
                l_U4765[46] = 180;
                l_U4765[47] = 90;
                l_U4765[48] = 90;
                l_U4765[49] = 180;
                l_U4765[50] = 180;
                l_U4765[51] = 180;
                l_U4765[52] = 180;
                l_U4765[53] = 180;
                l_U4765[58] = 36.07250000;
                l_U4765[59] = 264.50400000;
                l_U4765[60] = 264.50400000;
                l_U4765[63] = 180;
                l_U4765[64] = 180;
                l_U3684[0] = 7;
                l_U3684[1] = 7;
                l_U3684[2] = 7;
                l_U3684[81] = 7;
                l_U3684[82] = 7;
                l_U3684[83] = 7;
                l_U3684[20] = 7;
                l_U3684[21] = 7;
                l_U3684[22] = 7;
                l_U3684[23] = 7;
                l_U3684[30] = 7;
                l_U3684[31] = 7;
                l_U3684[32] = 7;
                l_U3684[33] = 7;
                l_U3684[34] = 7;
                l_U3684[35] = 7;
                l_U3684[36] = 7;
                l_U3684[37] = 7;
                l_U3684[38] = 7;
                l_U3684[46] = 7;
                l_U3684[47] = 7;
                l_U3684[48] = 7;
                l_U3684[49] = 7;
                l_U3684[50] = 7;
                l_U3684[51] = 7;
                l_U3684[52] = 7;
                l_U3684[53] = 7;
                l_U3684[54] = 7;
                l_U3684[55] = 7;
                l_U3684[56] = 7;
                l_U3684[57] = 7;
                l_U3684[58] = 7;
                l_U3684[59] = 7;
                l_U3684[60] = 7;
                l_U3684[61] = 7;
                l_U3684[63] = 7;
                l_U3684[64] = 7;
                l_U3684[65] = 7;
                l_U3684[66] = 7;
                l_U3684[67] = 7;
                l_U3684[68] = 7;
                l_U3593[24] = -1004762946;
                l_U3593[25] = -1004762946;
                l_U3593[26] = -1004762946;
                l_U3593[20] = -1004762946;
                l_U3593[21] = -1004762946;
                l_U3593[22] = -1004762946;
                l_U3593[23] = -1004762946;
                l_U3593[30] = -183203150;
                l_U3593[31] = -183203150;
                l_U3593[32] = -183203150;
                l_U3593[33] = -183203150;
                l_U3593[34] = -183203150;
                l_U3593[35] = -183203150;
                l_U3593[36] = -183203150;
                l_U3593[37] = -183203150;
                l_U3593[38] = -183203150;
                l_U3593[46] = -1004762946;
                l_U3593[47] = -1004762946;
                l_U3593[48] = -1004762946;
                l_U3593[49] = -1004762946;
                l_U3593[50] = -1004762946;
                l_U3593[51] = -1004762946;
                l_U3593[52] = -1004762946;
                l_U3593[53] = -1004762946;
                l_U3593[54] = -1004762946;
                l_U3593[55] = -1004762946;
                l_U3593[56] = -1004762946;
                l_U3593[57] = -1004762946;
                l_U3593[58] = -1004762946;
                l_U3593[59] = -1004762946;
                l_U3593[60] = -1004762946;
                l_U3593[63] = -1004762946;
                l_U3593[64] = -1004762946;
                l_U3939[24] = l_U3936;
                l_U3939[25] = l_U3937;
                l_U3939[26] = l_U3937;
                l_U3939[20] = l_U3936;
                l_U3939[21] = l_U3936;
                l_U3939[22] = l_U3936;
                l_U3939[23] = l_U3936;
                l_U3939[30] = l_U3937;
                l_U3939[31] = l_U3937;
                l_U3939[32] = l_U3938;
                l_U3939[33] = l_U3938;
                l_U3939[34] = l_U3938;
                l_U3939[35] = l_U3937;
                l_U3939[36] = l_U3937;
                l_U3939[37] = l_U3937;
                l_U3939[38] = l_U3937;
                l_U3939[46] = l_U3937;
                l_U3939[47] = l_U3937;
                l_U3939[48] = l_U3937;
                l_U3939[49] = l_U3937;
                l_U3939[50] = l_U3937;
                l_U3939[51] = l_U3937;
                l_U3939[52] = l_U3937;
                l_U3939[53] = l_U3937;
                l_U3939[54] = l_U3937;
                l_U3939[55] = l_U3937;
                l_U3939[56] = l_U3937;
                l_U3939[57] = l_U3937;
                l_U3939[58] = l_U3937;
                l_U3939[59] = l_U3937;
                l_U3939[60] = l_U3937;
                l_U3939[63] = l_U3937;
                l_U3939[64] = l_U3937;
                if (g_U43104[18] == 1)
                {
                    for ( l_U4618 = 0; l_U4618 <= 5; l_U4618++ )
                    {
                        if (DOES_VEHICLE_EXIST( l_U3881[l_U4618] ))
                        {
                            DELETE_CAR( ref l_U3881[l_U4618] );
                        }
                    }
                    REQUEST_MODEL( 800869680 );
                    if (HAS_MODEL_LOADED( 800869680 ))
                    {
                        if (NOT (DOES_VEHICLE_EXIST( l_U3869[5] )))
                        {
                            CREATE_MISSION_TRAIN( 4, 970.47000000, 127.50000000, 41.03000000, 1, ref l_U3869[0] );
                            SET_TRAIN_SPEED( l_U3869[0], 0 );
                            SET_TRAIN_CRUISE_SPEED( l_U3869[0], 0 );
                            GET_TRAIN_CARRIAGE( l_U3869[0], 0, ref l_U3869[0] );
                            GET_TRAIN_CARRIAGE( l_U3869[0], 1, ref l_U3888[0] );
                            GET_TRAIN_CARRIAGE( l_U3869[0], 2, ref l_U3888[1] );
                            SET_TRAIN_STOPS_FOR_STATIONS( l_U3869[0], 0 );
                            CREATE_MISSION_TRAIN( 4, 971.07000000, 144.70000000, 41.03000000, 1, ref l_U3869[1] );
                            SET_TRAIN_SPEED( l_U3869[1], 0 );
                            SET_TRAIN_CRUISE_SPEED( l_U3869[1], 0 );
                            GET_TRAIN_CARRIAGE( l_U3869[1], 0, ref l_U3869[1] );
                            GET_TRAIN_CARRIAGE( l_U3869[1], 1, ref l_U3869[2] );
                            GET_TRAIN_CARRIAGE( l_U3869[1], 2, ref l_U3869[3] );
                            SET_TRAIN_STOPS_FOR_STATIONS( l_U3869[1], 0 );
                            CREATE_MISSION_TRAIN( 4, 971.57000000, 196.65000000, 41.03000000, 1, ref l_U3869[4] );
                            SET_TRAIN_SPEED( l_U3869[4], 0 );
                            SET_TRAIN_CRUISE_SPEED( l_U3869[4], 0 );
                            GET_TRAIN_CARRIAGE( l_U3869[4], 0, ref l_U3869[4] );
                            GET_TRAIN_CARRIAGE( l_U3869[4], 1, ref l_U3869[5] );
                            GET_TRAIN_CARRIAGE( l_U3869[4], 2, ref l_U3888[2] );
                            SET_TRAIN_STOPS_FOR_STATIONS( l_U3869[4], 0 );
                        }
                        else
                        {
                            for ( l_U4618 = 0; l_U4618 <= 2; l_U4618++ )
                            {
                                if (IS_VEH_DRIVEABLE( l_U3888[l_U4618] ))
                                {
                                    SET_CAR_VISIBLE( l_U3888[l_U4618], 0 );
                                    SET_CAR_COLLISION( l_U3888[l_U4618], 0 );
                                }
                            }
                            for ( l_U4656 = 0; l_U4656 <= 7; l_U4656++ )
                            {
                                l_U4664[l_U4656] = GET_SOUND_ID();
                            }
                            l_U4657 = GET_SOUND_ID();
                            l_U4617++;
                        }
                    }
                }
                else
                {
                    for ( l_U4656 = 0; l_U4656 <= 7; l_U4656++ )
                    {
                        l_U4664[l_U4656] = GET_SOUND_ID();
                    }
                    l_U4657 = GET_SOUND_ID();
                    l_U4617++;
                }
                break;
                case 2:
                if (IS_BIT_SET( g_U10938._fU0, 7 ))
                {
                    g_U43104[18] = 0;
                    l_U4617++;
                }
                else
                {
                    switch (g_U43104[18])
                    {
                        case 0:
                        l_U4617++;
                        break;
                        case 1:
                        REQUEST_MODEL( 353883353 );
                        REQUEST_MODEL( -183203150 );
                        LOAD_SCENE( 965.56000000, 227.89000000, 43.40000000 );
                        if (NOT (IS_CHAR_INJURED( sub_4345() )))
                        {
                            SET_CHAR_COORDINATES( sub_4345(), 965.56000000, 227.89000000, 43.40000000 );
                            SET_PLAYER_CONTROL( sub_4399(), 0 );
                            GIVE_WEAPON_TO_CHAR( sub_4345(), 30, 300, 1 );
                            SET_CHAR_DUCKING( sub_4345(), 1 );
                        }
                        for ( l_U4618 = 0; l_U4618 <= 5; l_U4618++ )
                        {
                            if (DOES_VEHICLE_EXIST( l_U3869[l_U4618] ))
                            {
                                if (IS_VEH_DRIVEABLE( l_U3869[l_U4618] ))
                                {
                                    SET_CAR_VISIBLE( l_U3869[l_U4618], 1 );
                                    SET_CAR_COLLISION( l_U3869[l_U4618], 1 );
                                    SET_TRAIN_SPEED( l_U3869[l_U4618], 14 );
                                    SET_TRAIN_CRUISE_SPEED( l_U3869[l_U4618], 14 );
                                }
                            }
                            if (DOES_VEHICLE_EXIST( l_U3881[l_U4618] ))
                            {
                                if (IS_VEH_DRIVEABLE( l_U3881[l_U4618] ))
                                {
                                    SET_CAR_VISIBLE( l_U3881[l_U4618], 0 );
                                    SET_CAR_COLLISION( l_U3881[l_U4618], 0 );
                                }
                            }
                        }
                        g_U10983 = 0;
                        SET_MAX_WANTED_LEVEL( 0 );
                        l_U4175 = 1;
                        l_U4623 = 5;
                        l_U4587._fU8 = 7;
                        l_U3592 = 0;
                        l_U4617 = 12;
                        break;
                    }
                }
                break;
                case 3:
                if (NOT (DOES_CHAR_EXIST( l_U3775 )))
                {
                    sub_41916( 2, ref l_U3775, 58.95260000, -849.82800000, 3.80900000, 299.04820000 );
                }
                else if (NOT (IS_CHAR_INJURED( l_U3775 )))
                {
                    SET_GROUP_MEMBER( sub_43551(), l_U3775 );
                    MARK_MODEL_AS_NO_LONGER_NEEDED( -448171135 );
                    sub_16117( 1, l_U3775, "YUSUF", 0 );
                    l_U4617++;
                }
                break;
                case 4:
                LOAD_SCENE( 66.35370000, -843.11400000, 3.91080000 );
                CLEAR_AREA( 66.35370000, -843.11400000, 3.91080000, 200.00000000, 0 );
                if (IS_VEH_DRIVEABLE( l_U3898 ))
                {
                    if (NOT (IS_CHAR_INJURED( sub_4345() )))
                    {
                        WARP_CHAR_INTO_CAR( sub_4345(), l_U3898 );
                    }
                    if (NOT (IS_CHAR_INJURED( l_U3775 )))
                    {
                        WARP_CHAR_INTO_CAR_AS_PASSENGER( l_U3775, l_U3898, -1 );
                    }
                }
                SET_CAM_BEHIND_PED( sub_4345() );
                DO_SCREEN_FADE_IN( 500 );
                while (NOT IS_SCREEN_FADED_IN())
                {
                    WAIT( 0 );
                }
                GET_GAME_TIMER( ref l_U4734 );
                sub_43857( l_U3898 );
                l_U4221 = 1;
                l_U4617++;
                break;
                case 5:
                if (IS_PED_IN_GROUP( l_U3775 ))
                {
                    l_U4617++;
                }
                else
                {
                    SET_GROUP_MEMBER( sub_43551(), l_U3775 );
                }
                break;
                case 6:
                GET_GAME_TIMER( ref l_U4629 );
                if (l_U4124[0] == 0)
                {
                    l_U4175 = 1;
                    l_U4727 = 0;
                }
                if ((l_U4264 == 0) AND (l_U4124[0] == 1))
                {
                    sub_44180( 965.72420000, 236.32750000, 45.61060000, 246.56670000 );
                    sub_44370( 971.48130000, 236.36720000, 45.50000000, 253.85100000 );
                    if (sub_44498( 971.48130000, 236.36720000, 49, 4, 4, 4, 1, l_U3775, l_U3898, "DT_bridge", "GETBUDDY", "DT_get_car", 0, 0, "", "DT_left_car" ))
                    {
                        l_U4893 = 3;
                        if (DOES_VEHICLE_EXIST( l_U3869[5] ))
                        {
                            l_U4221 = 0;
                            SET_PLAYER_CONTROL( sub_4399(), 0 );
                            l_U4617++;
                        }
                    }
                }
                if (((l_U4629 - l_U4734) > 10000) AND (l_U4124[0] == 1))
                {
                    if (l_U4124[34] == 0)
                    {
                        l_U4727 = 34;
                        if (l_U4217 == 0)
                        {
                            if (NOT (IS_CHAR_INJURED( sub_4345() )))
                            {
                                GIVE_WEAPON_TO_CHAR( sub_4345(), 30, 300, 0 );
                                l_U4217 = 1;
                            }
                        }
                    }
                }
                if (((l_U4629 - l_U4734) > 15000) AND ((l_U4124[34] == 1) AND (l_U4124[0] == 1)))
                {
                    if ((NOT (sub_17947( l_U4908 ))) AND (NOT (sub_3929( l_U4908 ))))
                    {
                        if (l_U4124[1] == 0)
                        {
                            l_U4727 = 1;
                        }
                    }
                }
                if (l_U4124[4] == 1)
                {
                    if ((NOT (sub_17947( l_U4908 ))) AND (NOT (sub_3929( l_U4908 ))))
                    {
                        if (l_U4124[37] == 0)
                        {
                            l_U4727 = 37;
                        }
                    }
                }
                if (NOT (IS_CHAR_INJURED( l_U3775 )))
                {
                    if ((IS_PED_IN_GROUP( l_U3775 )) AND (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 971.48130000, 236.36720000, 44.92850000, 55, 55, 35, 0 )))
                    {
                        if (sub_3929( l_U4908 ))
                        {
                            if (l_U4124[5] == 0)
                            {
                                sub_4113( ref l_U4908, 1 );
                                l_U4727 = 5;
                            }
                        }
                        else if (sub_17947( l_U4908 ))
                        {
                            sub_13581( l_U4901, ref l_U4908, 6, 1 );
                        }
                        else
                        {
                            sub_4113( ref l_U4908, 0 );
                            if (l_U4124[5] == 0)
                            {
                                l_U4727 = 5;
                            }
                        }
                    }
                }
                break;
                case 7:
                if (sub_3929( l_U4908 ))
                {
                    if (l_U4124[36] == 0)
                    {
                        sub_4113( ref l_U4908, 0 );
                        l_U4727 = 36;
                    }
                    else
                    {
                        l_U4617++;
                    }
                }
                else if (l_U4124[36] == 0)
                {
                    l_U4727 = 36;
                }
                else
                {
                    l_U4617++;
                }
                break;
                case 8:
                if (NOT (DOES_BLIP_EXIST( l_U3924 )))
                {
                    ADD_BLIP_FOR_COORD( 967.21000000, 229.02000000, 48, ref l_U3924 );
                    CHANGE_BLIP_COLOUR( l_U3924, 5 );
                }
                if (NOT (IS_CHAR_INJURED( l_U3775 )))
                {
                    TASK_LOOK_AT_CHAR( l_U3775, sub_4345(), 10000, 20 );
                    REMOVE_CHAR_FROM_GROUP( l_U3775 );
                }
                if (IS_CHAR_IN_ANY_CAR( sub_4345() ))
                {
                    GET_CAR_CHAR_IS_USING( sub_4345(), ref l_U3898 );
                    if (IS_VEH_DRIVEABLE( l_U3898 ))
                    {
                        GET_CAR_SPEED( l_U3898, ref l_U4893 );
                    }
                    if (l_U4893 < 2)
                    {
                        TASK_LEAVE_ANY_CAR( sub_4345() );
                    }
                }
                else
                {
                    SET_PLAYER_CONTROL( sub_4399(), 1 );
                    if (NOT (IS_CHAR_INJURED( l_U3775 )))
                    {
                        if (DOES_VEHICLE_EXIST( l_U3898 ))
                        {
                            MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U3898 );
                            l_U3898 = nil;
                        }
                        if (IS_CHAR_IN_ANY_CAR( l_U3775 ))
                        {
                            GET_CAR_CHAR_IS_USING( l_U3775, ref l_U3898 );
                        }
                        if (IS_VEH_DRIVEABLE( l_U3898 ))
                        {
                            if (l_U4240 == 0)
                            {
                                OPEN_SEQUENCE_TASK( ref l_U4903 );
                                TASK_SHUFFLE_TO_NEXT_CAR_SEAT( 0, l_U3898 );
                                TASK_CAR_DRIVE_WANDER( 0, l_U3898, 20, 3 );
                                CLOSE_SEQUENCE_TASK( l_U4903 );
                                l_U4240 = 1;
                            }
                            if (IS_VEH_DRIVEABLE( l_U3898 ))
                            {
                                GET_CAR_SPEED( l_U3898, ref l_U4893 );
                                SET_CAR_PROOFS( l_U3898, 0, 0, 0, 1, 0 );
                            }
                            TASK_PERFORM_SEQUENCE( l_U3775, l_U4903 );
                            CLEAR_SEQUENCE_TASK( l_U4903 );
                        }
                        else
                        {
                            TASK_WANDER_STANDARD( l_U3775 );
                        }
                    }
                    if ((IS_VEH_DRIVEABLE( l_U3881[3] )) AND (IS_VEH_DRIVEABLE( l_U3881[0] )))
                    {
                        SET_TRAIN_SPEED( l_U3881[0], 14 );
                        SET_TRAIN_CRUISE_SPEED( l_U3881[0], 14 );
                        SET_TRAIN_SPEED( l_U3881[3], 14 );
                        SET_TRAIN_CRUISE_SPEED( l_U3881[3], 14 );
                    }
                    l_U4617++;
                }
                break;
                case 9:
                if (LOCATE_CHAR_ON_FOOT_3D( sub_4345(), 967.31000000, 229.12000000, 48.50000000, 2, 2, 3, 1 ))
                {
                    if (DOES_BLIP_EXIST( l_U3924 ))
                    {
                        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3924 );
                    }
                    CLEAR_PRINTS();
                    l_U4617++;
                }
                break;
                case 10:
                if (NOT (DOES_BLIP_EXIST( l_U3920 )))
                {
                    if (IS_VEH_DRIVEABLE( l_U3881[2] ))
                    {
                        ADD_BLIP_FOR_CAR( l_U3881[2], ref l_U3920 );
                        sub_60108( l_U3920 );
                        CHANGE_BLIP_COLOUR( l_U3920, 3 );
                        CHANGE_BLIP_NAME_FROM_TEXT_FILE( l_U3920, "JBLIP_TRAIN" );
                        PRINT_NOW( "DT_roof", 7500, 1 );
                        l_U4617++;
                    }
                }
                break;
                case 11:
                if (l_U4175 == 1)
                {
                    sub_14568();
                }
                if (IS_VEH_DRIVEABLE( l_U3881[0] ))
                {
                    if (LOCATE_CAR_3D( l_U3881[0], 963.50000000, 234.40000000, 40.21000000, 10, 10, 10, 0 ))
                    {
                        if (HAS_SOUND_FINISHED( l_U4657 ))
                        {
                            PLAY_SOUND_FROM_VEHICLE( l_U4657, "Y4_MONEY_TRAIN_HORN", l_U3881[0] );
                        }
                    }
                }
                if ((NOT (IS_CHAR_INJURED( sub_4345() ))) AND (IS_VEH_DRIVEABLE( l_U3881[0] )))
                {
                    if (LOCATE_CAR_3D( l_U3881[0], 969.90000000, 212.40000000, 41.18000000, 5, 5, 5, 0 ))
                    {
                        if (LOCATE_CHAR_ON_FOOT_3D( sub_4345(), 967.21000000, 229.02000000, 48.50000000, 6, 6, 3, 1 ))
                        {
                            PRINT_NOW( "DT_jump", 7500, 1 );
                        }
                    }
                }
                if ((IS_VEH_DRIVEABLE( l_U3881[0] )) AND ((IS_VEH_DRIVEABLE( l_U3881[1] )) AND ((IS_VEH_DRIVEABLE( l_U3881[2] )) AND ((IS_VEH_DRIVEABLE( l_U3881[3] )) AND ((IS_VEH_DRIVEABLE( l_U3881[4] )) AND ((IS_VEH_DRIVEABLE( l_U3881[5] )) AND (NOT (IS_CHAR_INJURED( sub_4345() )))))))))
                {
                    if (((LOCATE_CAR_3D( l_U3881[0], 965.56000000, 227.89000000, 43.40000000, 5, 5, 10, 0 )) || ((LOCATE_CAR_3D( l_U3881[1], 965.56000000, 227.89000000, 43.40000000, 10, 10, 10, 0 )) || ((LOCATE_CAR_3D( l_U3881[2], 965.56000000, 227.89000000, 43.40000000, 10, 10, 10, 0 )) || ((LOCATE_CAR_3D( l_U3881[3], 965.56000000, 227.89000000, 43.40000000, 10, 10, 10, 0 )) || ((LOCATE_CAR_3D( l_U3881[4], 965.56000000, 227.89000000, 43.40000000, 10, 10, 10, 0 )) || (LOCATE_CAR_3D( l_U3881[5], 965.56000000, 227.89000000, 43.40000000, 5, 5, 10, 0 ))))))) AND (LOCATE_CHAR_ON_FOOT_3D( sub_4345(), 965.56000000, 227.89000000, 43.40000000, 5, 5, 2, 0 )))
                    {
                        l_U4623 = 5;
                        CLEAR_PRINTS();
                        if (sub_3929( l_U4908 ))
                        {
                            if (l_U4124[10] == 0)
                            {
                                sub_4113( ref l_U4908, 0 );
                                l_U4727 = 10;
                            }
                        }
                        else if (l_U4124[10] == 0)
                        {
                            l_U4727 = 10;
                        }
                        if (DOES_BLIP_EXIST( l_U3920 ))
                        {
                            REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3920 );
                            STOP_SOUND( l_U4657 );
                        }
                        for ( l_U4618 = 0; l_U4618 <= 5; l_U4618++ )
                        {
                            if (DOES_VEHICLE_EXIST( l_U3869[l_U4618] ))
                            {
                                if (IS_VEH_DRIVEABLE( l_U3869[l_U4618] ))
                                {
                                    SET_CAR_VISIBLE( l_U3869[l_U4618], 1 );
                                    SET_CAR_COLLISION( l_U3869[l_U4618], 1 );
                                    SET_TRAIN_SPEED( l_U3869[l_U4618], 14 );
                                    SET_TRAIN_CRUISE_SPEED( l_U3869[l_U4618], 14 );
                                }
                            }
                            if (DOES_VEHICLE_EXIST( l_U3881[l_U4618] ))
                            {
                                if (IS_VEH_DRIVEABLE( l_U3881[l_U4618] ))
                                {
                                    SET_CAR_VISIBLE( l_U3881[l_U4618], 0 );
                                    SET_CAR_COLLISION( l_U3881[l_U4618], 0 );
                                }
                            }
                        }
                        SET_PLAYER_FAST_RELOAD( sub_4399(), 1 );
                        l_U4587._fU8 = 7;
                        l_U4617++;
                    }
                    else if ((LOCATE_CAR_3D( l_U3881[0], 957.50000000, 240.63000000, 39.92000000, 7, 7, 10, 0 )) AND (LOCATE_CHAR_ON_FOOT_3D( sub_4345(), 965.56000000, 227.89000000, 43.40000000, 7, 7, 2, 0 )))
                    {
                        SET_CHAR_HEADING( sub_4345(), 198.29760000 );
                        CLEAR_PRINTS();
                        l_U4617 = 14;
                    }
                }
                break;
                case 12:
                if (l_U4175 == 1)
                {
                    sub_14568();
                }
                l_U4623 = 5;
                if (DOES_VEHICLE_EXIST( l_U3869[l_U4623] ))
                {
                    if ((NOT (IS_CHAR_INJURED( sub_4345() ))) AND (IS_VEH_DRIVEABLE( l_U3869[l_U4623] )))
                    {
                        if (g_U43104[18] == 0)
                        {
                            ATTACH_PED_TO_CAR( sub_4345(), l_U3869[l_U4623], 0, 0, -7.30000000, 7, 0, 0, 1, 0 );
                        }
                        else if (g_U43104[18] == 1)
                        {
                            ATTACH_PED_TO_CAR( sub_4345(), l_U3869[l_U4623], 0, 0, -7.30000000, 3.60000000, 0, 0, 1, 0 );
                        }
                        if (DOES_VEHICLE_EXIST( l_U3898 ))
                        {
                            if (IS_VEH_DRIVEABLE( l_U3898 ))
                            {
                                MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U3898 );
                            }
                        }
                        if (DOES_CHAR_EXIST( l_U3775 ))
                        {
                            if (NOT (IS_CHAR_INJURED( l_U3775 )))
                            {
                                SET_CHAR_KEEP_TASK( l_U3775, 1 );
                                MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3775 );
                            }
                        }
                        MARK_MODEL_AS_NO_LONGER_NEEDED( 800869680 );
                        SET_PLAYER_CONTROL_ADVANCED( sub_4399(), 0, 1, 1 );
                        TASK_PLAY_ANIM_WITH_FLAGS( sub_4345(), "Jump_Land_roll", "missyusuf04", 4.00000000, -1, 2 );
                        SET_CHAR_DUCKING( sub_4345(), 1 );
                        if (NOT (DOES_CAM_EXIST( l_U3930 )))
                        {
                            CREATE_CAM( 14, ref l_U3930 );
                        }
                        else if ((IS_VEH_DRIVEABLE( l_U3869[5] )) AND (NOT (IS_CHAR_INJURED( sub_4345() ))))
                        {
                            ATTACH_CAM_TO_VEHICLE( l_U3930, l_U3869[5] );
                            SET_CAM_ATTACH_OFFSET( l_U3930, 0, 7, 3.60000000 );
                            l_U4581._fU0 = 0;
                            l_U4581._fU4 = 7;
                            SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U3930, 1 );
                            POINT_CAM_AT_PED( l_U3930, sub_4345() );
                            SET_CAM_FOV( l_U3930, 45 );
                            SET_CAM_PROPAGATE( l_U3930, 1 );
                            SET_CAM_ACTIVE( l_U3930, 1 );
                            sub_62014();
                            ACTIVATE_SCRIPTED_CAMS( 1, 1 );
                        }
                        if (g_U43104[18] == 1)
                        {
                            if (IS_SCREEN_FADED_OUT())
                            {
                                DO_SCREEN_FADE_IN( 500 );
                                while (NOT IS_SCREEN_FADED_IN())
                                {
                                    WAIT( 0 );
                                }
                            }
                            SET_PLAYER_MOOD_PISSED_OFF( sub_4399(), 100000 );
                            SET_PED_IS_BLIND_RAGING( sub_4345(), 1 );
                            l_U4617++;
                        }
                        else
                        {
                            SET_PLAYER_MOOD_PISSED_OFF( sub_4399(), 100000 );
                            SET_PED_IS_BLIND_RAGING( sub_4345(), 1 );
                            g_U10983 = 0;
                            SET_MAX_WANTED_LEVEL( 0 );
                            l_U4617++;
                        }
                    }
                }
                break;
                case 13:
                if (l_U4175 == 1)
                {
                    sub_14568();
                }
                REQUEST_MODEL( 353883353 );
                REQUEST_MODEL( -183203150 );
                REQUEST_MODEL( -1660661558 );
                REQUEST_CAR_RECORDING( 225 );
                REQUEST_CAR_RECORDING( 215 );
                REQUEST_CAR_RECORDING( 235 );
                REQUEST_CAR_RECORDING( 237 );
                if (IS_VEH_DRIVEABLE( l_U3869[5] ))
                {
                    if (NOT (IS_CHAR_INJURED( sub_4345() )))
                    {
                        if (g_U43104[18] == 0)
                        {
                            if (l_U4587._fU8 > 3.61000000)
                            {
                                l_U4587._fU8 -= 0.60000000;
                                ATTACH_PED_TO_CAR( sub_4345(), l_U3869[5], 0, 0, -7.30000000, l_U4587._fU8, 0, 0, 1, 0 );
                                l_U4623 = 5;
                                l_U4857 = -7.30000000;
                            }
                            else if (l_U4587._fU8 < 3.59000000)
                            {
                                l_U4587._fU8 = 3.60000000;
                                ATTACH_PED_TO_CAR( sub_4345(), l_U3869[5], 0, 0, -7.30000000, l_U4587._fU8, 0, 0, 1, 0 );
                            }
                            else if (NOT (IS_CHAR_INJURED( sub_4345() )))
                            {
                                if (NOT (HAS_CHAR_GOT_WEAPON( sub_4345(), 30 )))
                                {
                                    GIVE_WEAPON_TO_CHAR( sub_4345(), 30, 300, 1 );
                                }
                                SET_CURRENT_CHAR_WEAPON( sub_4345(), 30, 1 );
                                BLOCK_PED_WEAPON_SWITCHING( sub_4345(), 1 );
                                SET_PLAYER_DISABLE_JUMP( sub_4399(), 1 );
                                SET_CHAR_PROOFS( sub_4345(), 0, 1, 1, 0, 0 );
                                SET_CHAR_DUCKING( sub_4345(), 1 );
                                if (NOT (GET_CHAR_MOVEMENT_ANIMS_BLOCKED( sub_4345() )))
                                {
                                    SET_CHAR_MOVEMENT_ANIMS_BLOCKED( sub_4345(), 1 );
                                }
                            }
                            if (l_U4581._fU0 < 6)
                            {
                                l_U4581._fU0 += 0.04000000;
                            }
                            if (l_U4581._fU4 > -4)
                            {
                                l_U4581._fU4 -= 0.30000000;
                                SET_CAM_ATTACH_OFFSET( l_U3930, l_U4581._fU0, l_U4581._fU4, 3.60000000 );
                            }
                            else if (DOES_CAM_EXIST( l_U3930 ))
                            {
                                SET_CAM_PROPAGATE( l_U3930, 0 );
                                SET_CAM_ACTIVE( l_U3930, 0 );
                                ACTIVATE_SCRIPTED_CAMS( 0, 0 );
                                DESTROY_CAM( l_U3930 );
                            }
                            if ((NOT (HAS_MODEL_LOADED( -183203150 ))) || (HAS_MODEL_LOADED( 353883353 )))
                            {
                                if (sub_17947( l_U4908 ))
                                {
                                    sub_13581( l_U4901, ref l_U4908, 6, 1 );
                                }
                                else
                                {
                                    sub_4113( ref l_U4908, 1 );
                                }
                                l_U4623 = 5;
                                l_U4857 = -7.30000000;
                                SET_PLAYER_CONTROL( sub_4399(), 1 );
                                l_U4617 = 0;
                                l_U4175 = 1;
                                l_U3592 = 1;
                                sub_63056();
                                l_U4219 = 1;
                            }
                            if (IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "Jump_Land_roll" ))
                            {
                                SET_CHAR_DUCKING( sub_4345(), 1 );
                                GET_CHAR_ANIM_CURRENT_TIME( sub_4345(), "missyusuf04", "Jump_Land_roll", ref l_U4858 );
                                if (l_U4858 > 0.80000000)
                                {
                                    for ( l_U4618 = 0; l_U4618 <= 5; l_U4618++ )
                                    {
                                        if (DOES_VEHICLE_EXIST( l_U3881[l_U4618] ))
                                        {
                                            DELETE_CAR( ref l_U3881[l_U4618] );
                                        }
                                    }
                                }
                            };;;
                        }
                        else if (g_U43104[18] == 1)
                        {
                            if (NOT (IS_CHAR_INJURED( sub_4345() )))
                            {
                                GIVE_WEAPON_TO_CHAR( sub_4345(), 30, 300, 1 );
                                SET_CURRENT_CHAR_WEAPON( sub_4345(), 30, 1 );
                                BLOCK_PED_WEAPON_SWITCHING( sub_4345(), 1 );
                                SET_PLAYER_DISABLE_JUMP( sub_4399(), 1 );
                                SET_PLAYER_CONTROL_ADVANCED( sub_4399(), 1, 1, 1 );
                                SET_CHAR_PROOFS( sub_4345(), 0, 1, 1, 0, 0 );
                                SET_CHAR_DUCKING( sub_4345(), 1 );
                                l_U4217 = 1;
                            }
                            if (l_U4581._fU0 < 6)
                            {
                                l_U4581._fU0 += 0.04000000;
                            }
                            if (l_U4581._fU4 > -4)
                            {
                                l_U4581._fU4 -= 0.30000000;
                                SET_CAM_ATTACH_OFFSET( l_U3930, l_U4581._fU0, l_U4581._fU4, 3.60000000 );
                            }
                            else if (DOES_CAM_EXIST( l_U3930 ))
                            {
                                SET_CAM_PROPAGATE( l_U3930, 0 );
                                SET_CAM_ACTIVE( l_U3930, 0 );
                                ACTIVATE_SCRIPTED_CAMS( 0, 0 );
                                DESTROY_CAM( l_U3930 );
                            }
                            if (IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "Jump_Land_roll" ))
                            {
                                SET_CHAR_DUCKING( sub_4345(), 1 );
                                GET_CHAR_ANIM_CURRENT_TIME( sub_4345(), "missyusuf04", "Jump_Land_roll", ref l_U4858 );
                                if (l_U4858 > 0.80000000)
                                {
                                    for ( l_U4618 = 0; l_U4618 <= 5; l_U4618++ )
                                    {
                                        if (DOES_VEHICLE_EXIST( l_U3881[l_U4618] ))
                                        {
                                            DELETE_CAR( ref l_U3881[l_U4618] );
                                        }
                                    }
                                }
                            }
                            if ((HAS_CAR_RECORDING_BEEN_LOADED( 237 )) AND ((HAS_CAR_RECORDING_BEEN_LOADED( 235 )) AND ((HAS_CAR_RECORDING_BEEN_LOADED( 215 )) AND ((HAS_CAR_RECORDING_BEEN_LOADED( 225 )) AND ((HAS_MODEL_LOADED( -1660661558 )) AND ((HAS_MODEL_LOADED( -183203150 )) AND (HAS_MODEL_LOADED( 353883353 ))))))))
                            {
                                l_U4623 = 5;
                                l_U4857 = -7.30000000;
                                sub_62014();
                                SET_PLAYER_CONTROL( sub_4399(), 1 );
                                if (sub_17947( l_U4908 ))
                                {
                                    sub_13581( l_U4901, ref l_U4908, 6, 1 );
                                }
                                else
                                {
                                    sub_4113( ref l_U4908, 1 );
                                }
                                l_U4175 = 1;
                                sub_63056();
                                l_U4219 = 1;
                                ADD_SCENARIO_BLOCKING_AREA( 894.80000000, 283.70000000, 60, 1006.70000000, -98.90000000, 22.10000000 );
                                l_U4617 = 0;
                                l_U3592 = 1;
                            }
                        }
                    }
                }
                break;
                case 14:
                if ((IS_VEH_DRIVEABLE( l_U3881[0] )) AND (NOT (IS_CHAR_INJURED( sub_4345() ))))
                {
                    if (IS_CHAR_TOUCHING_VEHICLE( sub_4345(), l_U3881[0] ))
                    {
                        CLEAR_CHAR_TASKS_IMMEDIATELY( sub_4345() );
                        SWITCH_PED_TO_RAGDOLL( sub_4345(), 1, 500, 1, 1, 1, 0 );
                        CREATE_NM_MESSAGE( 1, 246 );
                        SEND_NM_MESSAGE( sub_4345() );
                        APPLY_FORCE_TO_PED( sub_4345(), 1, 0, 9, 1, 0, 0, 0, 0, 1, 0, 1 );
                        GET_GAME_TIMER( ref l_U4726 );
                        l_U4123 = 1;
                    }
                    if (l_U4123 == 1)
                    {
                        GET_GAME_TIMER( ref l_U4629 );
                        if ((l_U4629 - l_U4726) < 600)
                        {
                            GET_CHAR_COORDINATES( sub_4345(), ref l_U4569._fU0, ref l_U4569._fU4, ref l_U4569._fU8 );
                            TRIGGER_PTFX( "blood_shotgun_exit", l_U4569._fU0, l_U4569._fU4, l_U4569._fU8, 0, 0, 0, 3 );
                            l_U4864 = sub_64873( 1, 3 );
                            l_U4865 = sub_64873( 0, 360 );
                            l_U4866 = sub_64873( -0.50000000, 0.50000000 );
                            TRIGGER_PTFX( "blood_shotgun_exit", l_U4569._fU0 + l_U4866, l_U4569._fU4, l_U4569._fU8, l_U4865, l_U4865, l_U4865, l_U4864 );
                            l_U4864 = sub_64873( 1, 3 );
                            l_U4865 = sub_64873( 0, 360 );
                            l_U4866 = sub_64873( -0.50000000, 0.50000000 );
                            TRIGGER_PTFX( "blood_shotgun_exit", l_U4569._fU0 + l_U4866, l_U4569._fU4, l_U4569._fU8, l_U4865, l_U4865, l_U4865, l_U4864 );
                            l_U4864 = sub_64873( 1, 3 );
                            l_U4865 = sub_64873( 0, 360 );
                            l_U4866 = sub_64873( -0.20000000, 0.20000000 );
                            TRIGGER_PTFX( "blood_shotgun_exit", l_U4569._fU0, l_U4569._fU4 + l_U4866, l_U4569._fU8, l_U4865, l_U4865, l_U4865, l_U4864 );
                            l_U4864 = sub_64873( 1, 3 );
                            l_U4865 = sub_64873( 0, 360 );
                            l_U4866 = sub_64873( -0.20000000, 0.20000000 );
                            TRIGGER_PTFX( "blood_shotgun_exit", l_U4569._fU0, l_U4569._fU4 + l_U4866, l_U4569._fU8, l_U4865, l_U4865, l_U4865, l_U4864 );
                        }
                        else if ((l_U4629 - l_U4726) > 1000)
                        {
                            DAMAGE_CHAR( sub_4345(), 1000, 1 );
                        }
                    }
                }
                break;
            }
            break;
            case 1:
            if (NOT (IS_CHAR_INJURED( sub_4345() )))
            {
                SET_PED_WINDY_CLOTHING_SCALE( sub_4345(), 0.30000000 );
            }
            if (l_U4175 == 1)
            {
                sub_14568();
            }
            if ((NOT l_U4061) AND (NOT l_U4033))
            {
                sub_65524();
            }
            sub_71321();
            if (DOES_CHAR_EXIST( l_U3775 ))
            {
                if (IS_CHAR_INJURED( l_U3775 ))
                {
                    sub_25609( 2, l_U3775, 2 );
                    l_U4709 = 4;
                    sub_24116();
                }
            }
            if (DOES_VEHICLE_EXIST( l_U3912 ))
            {
                if (NOT (IS_VEH_DRIVEABLE( l_U3912 )))
                {
                    EXPLODE_CAR( l_U3912, 1, 0 );
                    l_U4709 = 4;
                    sub_24116();
                }
            }
            if (NOT (IS_CHAR_INJURED( sub_4345() )))
            {
                if ((l_U4623 > 0) AND (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 1362.08000000, 125.08000000, 46.22000000, 5, 5, 5, 0 )))
                {
                    if (l_U4110[1] == 0)
                    {
                        PRINT_NOW( "DT_time", 7500, 1 );
                        l_U4110[1] = 1;
                    }
                }
            }
            if (NOT l_U4071[1])
            {
                if (DOES_CHAR_EXIST( l_U3776[21] ))
                {
                    if (IS_CHAR_INJURED( l_U3776[21] ))
                    {
                        if (NOT (IS_CHAR_INJURED( l_U3776[20] )))
                        {
                            HIGH_FALL_SCREAM( l_U3776[20] );
                        }
                        N_1363505769( l_U3776[21], ref l_U4569._fU0, ref l_U4569._fU4, ref l_U4569._fU8 );
                        TRIGGER_PTFX( "blood_shotgun_exit", l_U4569._fU0, l_U4569._fU4, l_U4569._fU8, 0, 0, 0, 3 );
                        l_U4864 = sub_64873( 1, 3 );
                        l_U4865 = sub_64873( 0, 360 );
                        l_U4866 = sub_64873( -0.50000000, 0.50000000 );
                        TRIGGER_PTFX( "blood_shotgun_exit", l_U4569._fU0 + l_U4866, l_U4569._fU4, l_U4569._fU8, l_U4865, l_U4865, l_U4865, l_U4864 );
                        l_U4864 = sub_64873( 1, 3 );
                        l_U4865 = sub_64873( 0, 360 );
                        l_U4866 = sub_64873( -0.50000000, 0.50000000 );
                        TRIGGER_PTFX( "blood_shotgun_exit", l_U4569._fU0 + l_U4866, l_U4569._fU4, l_U4569._fU8, l_U4865, l_U4865, l_U4865, l_U4864 );
                        l_U4864 = sub_64873( 1, 3 );
                        l_U4865 = sub_64873( 0, 360 );
                        l_U4866 = sub_64873( -0.20000000, 0.20000000 );
                        TRIGGER_PTFX( "blood_shotgun_exit", l_U4569._fU0, l_U4569._fU4 + l_U4866, l_U4569._fU8, l_U4865, l_U4865, l_U4865, l_U4864 );
                        l_U4864 = sub_64873( 1, 3 );
                        l_U4865 = sub_64873( 0, 360 );
                        l_U4866 = sub_64873( -0.20000000, 0.20000000 );
                        TRIGGER_PTFX( "blood_shotgun_exit", l_U4569._fU0, l_U4569._fU4 + l_U4866, l_U4569._fU8, l_U4865, l_U4865, l_U4865, l_U4864 );
                        l_U4071[1] = 1;
                    }
                }
            }
            SWITCH_RANDOM_TRAINS( 0 );
            for ( l_U4618 = 0; l_U4618 <= 69; l_U4618++ )
            {
                if (DOES_CHAR_EXIST( l_U3776[l_U4618] ))
                {
                    if (NOT (IS_CHAR_INJURED( l_U3776[l_U4618] )))
                    {
                        GET_CHAR_COORDINATES( sub_4345(), ref l_U4566._fU0, ref l_U4566._fU4, ref l_U4566._fU8 );
                        GET_CHAR_COORDINATES( l_U3776[l_U4618], ref l_U4569._fU0, ref l_U4569._fU4, ref l_U4569._fU8 );
                        GET_DISTANCE_BETWEEN_COORDS_3D( l_U4566._fU0, l_U4566._fU4, l_U4566._fU8, l_U4569._fU0, l_U4569._fU4, l_U4569._fU8, ref l_U4856 );
                        if (l_U4856 > 300)
                        {
                            if (DOES_CHAR_EXIST( l_U3776[l_U4618] ))
                            {
                                MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3776[l_U4618] );
                            }
                        }
                    }
                    else if (DOES_CHAR_EXIST( l_U3776[l_U4618] ))
                    {
                        MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3776[l_U4618] );
                    }
                }
            }
            if (DOES_VEHICLE_EXIST( l_U3904[4] ))
            {
                if (IS_VEH_DRIVEABLE( l_U3904[4] ))
                {
                    GET_CAR_COORDINATES( l_U3904[4], ref l_U4578._fU0, ref l_U4578._fU4, ref l_U4578._fU8 );
                    if (l_U4578._fU8 < 31.50000000)
                    {
                        l_U4578._fU8 = 31.50000000;
                    }
                    SET_CAR_COORDINATES( l_U3904[4], l_U4578._fU0, l_U4578._fU4, l_U4578._fU8 );
                    if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[4] ))
                    {
                        l_U4201[4] = 1;
                        if ((sub_72921( l_U3904[4], 4 )) > 2)
                        {
                            if (l_U4241[0] == 0)
                            {
                                PLAY_SOUND_FROM_VEHICLE( -1, "Y4_MONEY_TRAIN_MAVERICK_DEATH", l_U3904[4] );
                                l_U4241[0] = 1;
                            }
                            EXPLODE_CAR( l_U3904[4], 1, 0 );
                        }
                        if (LOCATE_CAR_3D( l_U3904[4], 917.40000000, -506.35000000, 32.62000000, 5, 5, 5, 0 ))
                        {
                            SET_PLAYBACK_SPEED( l_U3904[4], 0.40000000 );
                        }
                    }
                }
                else if (l_U4241[0] == 0)
                {
                    PLAY_SOUND_FROM_VEHICLE( -1, "Y4_MONEY_TRAIN_MAVERICK_DEATH", l_U3904[4] );
                    l_U4241[0] = 1;
                }
                if (NOT (IS_CAR_DEAD( l_U3904[4] )))
                {
                    if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[4] ))
                    {
                        STOP_PLAYBACK_RECORDED_CAR( l_U3904[4] );
                    }
                    EXPLODE_CAR( l_U3904[4], 1, 0 );
                }
            }
            if (DOES_VEHICLE_EXIST( l_U3904[6] ))
            {
                if (IS_VEH_DRIVEABLE( l_U3904[6] ))
                {
                    if (LOCATE_CAR_3D( l_U3904[6], 915.85000000, -250.36000000, 38.00000000, 6, 6, 6, 0 ))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[6] ))
                        {
                            l_U4201[6] = 1;
                            SET_PLAYBACK_SPEED( l_U3904[6], 1 );
                        }
                    }
                }
            }
            if ((DOES_VEHICLE_EXIST( l_U3904[5] )) AND (DOES_VEHICLE_EXIST( l_U3904[6] )))
            {
                if ((IS_VEH_DRIVEABLE( l_U3904[5] )) AND (IS_VEH_DRIVEABLE( l_U3904[6] )))
                {
                    if ((LOCATE_CAR_3D( l_U3904[5], 918.30000000, -388.71000000, 47.00000000, 10, 10, 10, 0 )) AND (LOCATE_CAR_3D( l_U3904[6], 918.30000000, -388.71000000, 47.00000000, 10, 10, 10, 0 )))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[6] ))
                        {
                            if (NOT (IS_CHAR_INJURED( l_U3776[82] )))
                            {
                                SET_CHAR_KEEP_TASK( l_U3776[82], 1 );
                                TASK_HELI_MISSION( l_U3776[82], l_U3904[6], 0, 0, 1104.50000000, -359.90000000, 63.46000000, 4, 30, 1, -1, 70, 60 );
                            }
                            STOP_PLAYBACK_RECORDED_CAR( l_U3904[6] );
                            l_U4201[6] = 1;
                        }
                    }
                }
            }
            if ((DOES_CHAR_EXIST( l_U3776[82] )) AND (DOES_VEHICLE_EXIST( l_U3904[6] )))
            {
                if ((NOT (IS_CHAR_INJURED( l_U3776[82] ))) AND (IS_VEH_DRIVEABLE( l_U3904[6] )))
                {
                    if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[6] ))
                    {
                        l_U4201[6] = 1;
                        if ((sub_72921( l_U3904[6], 6 )) > 2)
                        {
                            if (l_U4241[1] == 0)
                            {
                                PLAY_SOUND_FROM_VEHICLE( -1, "Y4_MONEY_TRAIN_MAVERICK_DEATH", l_U3904[6] );
                                l_U4241[1] = 1;
                            }
                            EXPLODE_CAR( l_U3904[6], 1, 0 );
                        }
                    }
                }
                else if (l_U4241[1] == 0)
                {
                    PLAY_SOUND_FROM_VEHICLE( -1, "Y4_MONEY_TRAIN_MAVERICK_DEATH", l_U3904[6] );
                    l_U4241[1] = 1;
                }
                if (NOT (IS_CAR_DEAD( l_U3904[6] )))
                {
                    if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[6] ))
                    {
                        STOP_PLAYBACK_RECORDED_CAR( l_U3904[6] );
                    }
                    EXPLODE_CAR( l_U3904[6], 1, 0 );
                }
            }
            if (NOT (IS_CHAR_INJURED( sub_4345() )))
            {
                GET_CHAR_COORDINATES( sub_4345(), ref l_U4566._fU0, ref l_U4566._fU4, ref l_U4566._fU8 );
                SET_FAKE_WANTED_CIRCLE( l_U4566._fU0, l_U4566._fU4, 330 );
            }
            if (DOES_VEHICLE_EXIST( l_U3904[0] ))
            {
                if (IS_VEH_DRIVEABLE( l_U3904[0] ))
                {
                    if (LOCATE_CAR_3D( l_U3904[0], 1277.90000000, -322.20000000, 39.20000000, 130, 130, 50, 0 ))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[0] ))
                        {
                            if (NOT (IS_CHAR_INJURED( l_U3776[39] )))
                            {
                                SET_CHAR_KEEP_TASK( l_U3776[39], 1 );
                                TASK_HELI_MISSION( l_U3776[39], l_U3904[0], 0, 0, 1404.01000000, -391.09000000, 61.11000000, 4, 30, 1, -1, 70, 60 );
                            }
                            STOP_PLAYBACK_RECORDED_CAR( l_U3904[0] );
                        }
                    }
                }
                else if (l_U4241[12] == 0)
                {
                    PLAY_SOUND_FROM_VEHICLE( -1, "Y4_MONEY_TRAIN_MAVERICK_DEATH", l_U3904[0] );
                    l_U4241[12] = 1;
                }
                if (NOT (IS_CAR_DEAD( l_U3904[0] )))
                {
                    if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[0] ))
                    {
                        STOP_PLAYBACK_RECORDED_CAR( l_U3904[0] );
                    }
                }
            }
            if (DOES_VEHICLE_EXIST( l_U3904[5] ))
            {
                if ((NOT (IS_CHAR_INJURED( l_U3776[5] ))) AND (IS_VEH_DRIVEABLE( l_U3904[5] )))
                {
                    if (LOCATE_CAR_3D( l_U3904[5], 1268.56000000, -227.00000000, 47.20000000, 50, 50, 50, 0 ))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[5] ))
                        {
                            SET_CHAR_KEEP_TASK( l_U3776[5], 1 );
                            TASK_HELI_MISSION( l_U3776[5], l_U3904[5], 0, 0, 1198.80000000, -225.90000000, 76.44000000, 4, 30, 1, -1, 70, 60 );
                            STOP_PLAYBACK_RECORDED_CAR( l_U3904[5] );
                        }
                    }
                }
                if (NOT (IS_VEH_DRIVEABLE( l_U3904[5] )))
                {
                    if (NOT (IS_CAR_DEAD( l_U3904[5] )))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[5] ))
                        {
                            STOP_PLAYBACK_RECORDED_CAR( l_U3904[5] );
                        }
                        EXPLODE_CAR( l_U3904[5], 1, 0 );
                    }
                }
            }
            if (DOES_VEHICLE_EXIST( l_U3904[5] ))
            {
                if (IS_VEH_DRIVEABLE( l_U3904[5] ))
                {
                    if (LOCATE_CAR_3D( l_U3904[5], 1274.38000000, -350.30000000, 39.20000000, 50, 50, 50, 0 ))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[5] ))
                        {
                            SET_PLAYBACK_SPEED( l_U3904[5], 1.20000000 );
                        }
                    }
                }
            }
            if (IS_VEH_DRIVEABLE( l_U3904[1] ))
            {
                if (LOCATE_CAR_3D( l_U3904[1], 971, 65497, 36.50000000, 15, 15, 15, 0 ))
                {
                    if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[1] ))
                    {
                        SET_PLAYBACK_SPEED( l_U3904[1], 1.20000000 );
                        l_U4201[1] = 1;
                        if (l_U4188 == 0)
                        {
                            for ( l_U4618 = 0; l_U4618 <= 3; l_U4618++ )
                            {
                                if (DOES_CHAR_EXIST( l_U3776[l_U4618] ))
                                {
                                    if (NOT (IS_CHAR_INJURED( l_U3776[l_U4618] )))
                                    {
                                        GENERATE_RANDOM_INT_IN_RANGE( 0, 4, ref l_U4721 );
                                        if (l_U4721 == 0)
                                        {
                                            SAY_AMBIENT_SPEECH_WITH_VOICE( l_U3776[l_U4618], "COP_HELI_MEGAPHONE_WEAPON", "M_Y_HELI_COP", 1, 1, 3 );
                                        }
                                        else if (l_U4721 == 1)
                                        {
                                            SAY_AMBIENT_SPEECH_WITH_VOICE( l_U3776[l_U4618], "SUSPECT_HAS_GUN", "M_M_FATCOP_01_WHITE", 1, 1, 3 );
                                        }
                                        else if (l_U4721 == 2)
                                        {
                                            SAY_AMBIENT_SPEECH_WITH_VOICE( l_U3776[l_U4618], "DUCK", "M_Y_COP_BLACK_02", 1, 1, 3 );
                                        }
                                        else if (l_U4721 == 3)
                                        {
                                            SAY_AMBIENT_SPEECH_WITH_VOICE( l_U3776[l_U4618], "SPOT_GUN", "M_Y_COP_TRAFFIC_BLACK", 1, 1, 3 );
                                        };;;;
                                        l_U4188 = 1;
                                    }
                                }
                            }
                        }
                    }
                }
            }
            if (l_U4054[0])
            {
                if (IS_VEH_DRIVEABLE( l_U3892[0] ))
                {
                    sub_75539( 0 );
                }
                else if (l_U4241[3] == 0)
                {
                    PLAY_SOUND_FROM_VEHICLE( -1, "Y4_MONEY_TRAIN_ANNIHILATOR_DEATH", l_U3892[0] );
                    l_U4241[3] = 1;
                }
                if (DOES_VEHICLE_EXIST( l_U3892[0] ))
                {
                    if (NOT (IS_CAR_DEAD( l_U3892[0] )))
                    {
                        EXPLODE_CAR( l_U3892[0], 1, 0 );
                    }
                }
            }
            if (l_U4054[1])
            {
                if (IS_VEH_DRIVEABLE( l_U3904[1] ))
                {
                    ;
                }
                else if (l_U4241[4] == 0)
                {
                    PLAY_SOUND_FROM_VEHICLE( -1, "Y4_MONEY_TRAIN_MAVERICK_DEATH", l_U3904[1] );
                    l_U4241[4] = 1;
                }
                if (DOES_VEHICLE_EXIST( l_U3904[1] ))
                {
                    if (NOT (IS_CAR_DEAD( l_U3904[1] )))
                    {
                        EXPLODE_CAR( l_U3904[1], 1, 0 );
                    }
                }
            }
            if (DOES_VEHICLE_EXIST( l_U3892[0] ))
            {
                if (IS_VEH_DRIVEABLE( l_U3892[0] ))
                {
                    if (LOCATE_CAR_3D( l_U3892[0], 1365, 871, 28, 50, 50, 50, 0 ))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3892[0] ))
                        {
                            STOP_PLAYBACK_RECORDED_CAR( l_U3892[0] );
                            MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U3892[0] );
                        }
                    }
                }
                else if (l_U4241[3] == 0)
                {
                    PLAY_SOUND_FROM_VEHICLE( -1, "Y4_MONEY_TRAIN_ANNIHILATOR_DEATH", l_U3892[0] );
                    l_U4241[3] = 1;
                }
                if (DOES_VEHICLE_EXIST( l_U3892[0] ))
                {
                    if (NOT (IS_CAR_DEAD( l_U3892[0] )))
                    {
                        EXPLODE_CAR( l_U3892[0], 1, 0 );
                    }
                }
            }
            if (DOES_VEHICLE_EXIST( l_U3892[0] ))
            {
                if (IS_VEH_DRIVEABLE( l_U3892[0] ))
                {
                    if (LOCATE_CAR_3D( l_U3892[0], 1404, 533.40000000, 49.50000000, 50, 50, 50, 0 ))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3892[0] ))
                        {
                            SET_PLAYBACK_SPEED( l_U3892[0], 1.20000000 );
                        }
                    }
                }
                else if (l_U4241[3] == 0)
                {
                    PLAY_SOUND_FROM_VEHICLE( -1, "Y4_MONEY_TRAIN_ANNIHILATOR_DEATH", l_U3892[0] );
                    l_U4241[3] = 1;
                }
                if (DOES_VEHICLE_EXIST( l_U3892[0] ))
                {
                    if (NOT (IS_CAR_DEAD( l_U3892[0] )))
                    {
                        EXPLODE_CAR( l_U3892[0], 1, 0 );
                    }
                }
            }
            if (l_U4238 == 1)
            {
                g_U43571 = 1;
            }
            else
            {
                g_U43571 = 0;
            }
            if (l_U4049[0] == 1)
            {
                if ((NOT (IS_CHAR_INJURED( l_U3776[54] ))) || (IS_VEH_DRIVEABLE( l_U3892[1] )))
                {
                    sub_77206( 1, 54 );
                    if ((sub_72921( l_U3892[1], 1 )) > 3)
                    {
                        if (IS_VEH_DRIVEABLE( l_U3892[1] ))
                        {
                            if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3892[1] ))
                            {
                                if (NOT (IS_CHAR_INJURED( l_U3776[54] )))
                                {
                                    SET_CHAR_KEEP_TASK( l_U3776[54], 1 );
                                    TASK_HELI_MISSION( l_U3776[54], l_U3892[1], 0, 0, 1395.76000000, -33.61000000, 106.06000000, 4, 30, 1, -1, 70, 60 );
                                }
                                CLEAR_HELP();
                                l_U4238 = 0;
                                l_U4049[0] = 0;
                                if (l_U4194[1] == 1)
                                {
                                    STOP_SOUND( l_U4658[1] );
                                    RELEASE_SOUND_ID( l_U4658[1] );
                                    l_U4194[1] = 0;
                                }
                                STOP_PLAYBACK_RECORDED_CAR( l_U3892[1] );
                            }
                        }
                    }
                    else if (IS_VEH_DRIVEABLE( l_U3892[1] ))
                    {
                        GET_CAR_COORDINATES( l_U3892[1], ref l_U4575._fU0, ref l_U4575._fU4, ref l_U4575._fU8 );
                    }
                    if (NOT (IS_CHAR_INJURED( sub_4345() )))
                    {
                        GET_CHAR_COORDINATES( sub_4345(), ref l_U4566._fU0, ref l_U4566._fU4, ref l_U4566._fU8 );
                    }
                    GET_DISTANCE_BETWEEN_COORDS_3D( l_U4575._fU0, l_U4575._fU4, l_U4575._fU8, l_U4566._fU0, l_U4566._fU4, l_U4566._fU8, ref l_U4862 );
                    if (l_U4862 < 40)
                    {
                        if (l_U4060 == 0)
                        {
                            if (l_U4036 == 0)
                            {
                                PRINT_HELP( "DT_dodge1" );
                                l_U4060 = 1;
                            }
                        }
                        if (NOT (IS_CHAR_INJURED( sub_4345() )))
                        {
                            if (IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "duck" ))
                            {
                                GET_CHAR_ANIM_CURRENT_TIME( sub_4345(), "missyusuf04", "duck", ref l_U4858 );
                            }
                            else
                            {
                                l_U4858 = 0;
                            }
                            if ((IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "duck_idle" )) || (l_U4858 > 0.35000000))
                            {
                                if (l_U4862 < 15)
                                {
                                    l_U4187 = 1;
                                    if (l_U4116 == 0)
                                    {
                                        CLEAR_HELP();
                                        CREATE_CAM( 14, ref l_U3925 );
                                        SET_CAM_POS( l_U3925, 1334.80900000, 88.79127000, 48.10626000 );
                                        SET_CAM_FOV( l_U3925, 31.50004000 );
                                        POINT_CAM_AT_PED( l_U3925, sub_4345() );
                                        SET_CAM_ACTIVE( l_U3925, 1 );
                                        SET_CAM_PROPAGATE( l_U3925, 1 );
                                        SET_TIME_SCALE( 0.20000000 );
                                        ACTIVATE_SCRIPTED_CAMS( 1, 1 );
                                        l_U4238 = 1;
                                        l_U4116 = 1;
                                    }
                                    if (DOES_CAM_EXIST( l_U3925 ))
                                    {
                                        if (NOT (IS_CHAR_INJURED( sub_4345() )))
                                        {
                                            if (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 1350.50000000, 100.83000000, 45.50000000, 2, 2, 3, 0 ))
                                            {
                                                if (sub_3929( l_U4908 ))
                                                {
                                                    if (l_U4124[13] == 0)
                                                    {
                                                        sub_4113( ref l_U4908, 0 );
                                                        l_U4727 = 13;
                                                    }
                                                }
                                                else if (l_U4124[13] == 0)
                                                {
                                                    l_U4727 = 13;
                                                }
                                                ATTACH_CAM_TO_PED( l_U3925, sub_4345() );
                                                SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U3925, 1 );
                                                SET_CAM_ATTACH_OFFSET( l_U3925, 0, 2, -0.80000000 );
                                                POINT_CAM_AT_PED( l_U3925, sub_4345() );
                                                SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U3925, 1 );
                                                SET_CAM_POINT_OFFSET( l_U3925, 0, 0, -0.50000000 );
                                            }
                                        }
                                    }
                                }
                            }
                            else if (l_U4862 < 4)
                            {
                                if (DOES_CAM_EXIST( l_U3925 ))
                                {
                                    DESTROY_CAM( l_U3925 );
                                }
                                l_U4238 = 0;
                                DETACH_PED( sub_4345(), 0 );
                                CLEAR_CHAR_TASKS_IMMEDIATELY( sub_4345() );
                                SWITCH_PED_TO_RAGDOLL( sub_4345(), 1, 100, 1, 1, 1, 0 );
                                if (IS_PED_RAGDOLL( sub_4345() ))
                                {
                                    CREATE_NM_MESSAGE( 1, 246 );
                                    SEND_NM_MESSAGE( sub_4345() );
                                    APPLY_FORCE_TO_PED( sub_4345(), 1, 0, -2, 0, 0, 0, 0, 0, 0, 0, 1 );
                                }
                                DAMAGE_CHAR( sub_4345(), 201, 1 );
                            }
                        }
                    }
                }
                else if (l_U4241[11] == 0)
                {
                    PLAY_SOUND_FROM_VEHICLE( -1, "Y4_MONEY_TRAIN_ANNIHILATOR_DEATH", l_U3892[1] );
                    l_U4241[11] = 1;
                }
                if ((NOT (IS_CHAR_INJURED( l_U3776[54] ))) AND (NOT (IS_CAR_DEAD( l_U3892[1] ))))
                {
                    if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3892[1] ))
                    {
                        SET_CHAR_KEEP_TASK( l_U3776[54], 1 );
                        TASK_HELI_MISSION( l_U3776[54], l_U3892[1], 0, 0, 1535, -310.61000000, 106.06000000, 4, 30, 1, -1, 70, 60 );
                        STOP_PLAYBACK_RECORDED_CAR( l_U3892[1] );
                        CLEAR_HELP();
                    }
                }
                l_U4049[0] = 0;;
            }
            if (DOES_CAM_EXIST( l_U3925 ))
            {
                if (NOT (IS_CHAR_INJURED( sub_4345() )))
                {
                    if (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 1354.68000000, 109.94000000, 45.60000000, 4, 4, 4, 0 ))
                    {
                        ACTIVATE_SCRIPTED_CAMS( 0, 0 );
                        SET_TIME_SCALE( 1 );
                        DESTROY_CAM( l_U3925 );
                        l_U4187 = 0;
                        if (l_U4194[1] == 1)
                        {
                            STOP_SOUND( l_U4658[1] );
                            RELEASE_SOUND_ID( l_U4658[1] );
                            l_U4194[1] = 0;
                        }
                        l_U4049[0] = 0;
                    }
                }
            }
            if (NOT (IS_CHAR_INJURED( sub_4345() )))
            {
                GET_CHAR_COORDINATES( sub_4345(), ref l_U4566._fU0, ref l_U4566._fU4, ref l_U4566._fU8 );
            }
            GET_DISTANCE_BETWEEN_COORDS_3D( 1273.26000000, -300.14000000, 36.05000000, l_U4566._fU0, l_U4566._fU4, l_U4566._fU8, ref l_U4863 );
            if (l_U4863 < 50)
            {
                if (l_U4104 == 0)
                {
                    if (l_U4105[0] == 0)
                    {
                        if (l_U4036 == 0)
                        {
                            PRINT_HELP( "DT_dodge" );
                        }
                        l_U4105[0] = 1;
                    }
                }
            }
            if ((DOES_CHAR_EXIST( l_U3776[70] )) AND (DOES_VEHICLE_EXIST( l_U3892[2] )))
            {
                if ((NOT (IS_CHAR_INJURED( l_U3776[70] ))) AND (IS_VEH_DRIVEABLE( l_U3892[2] )))
                {
                    if (l_U4049[1] == 1)
                    {
                        sub_77206( 2, 70 );
                    }
                    if (LOCATE_CAR_3D( l_U3892[2], 1271.60000000, -217.48000000, 43.44000000, 10, 10, 10, 0 ))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3892[2] ))
                        {
                            SET_PLAYBACK_SPEED( l_U3892[2], 0.40000000 );
                        }
                    }
                }
                else
                {
                    l_U4049[1] = 0;
                    if (l_U4241[7] == 0)
                    {
                        PLAY_SOUND_FROM_VEHICLE( -1, "Y4_MONEY_TRAIN_ANNIHILATOR_DEATH", l_U3892[2] );
                        l_U4241[7] = 1;
                    }
                    if (NOT (IS_CAR_DEAD( l_U3892[2] )))
                    {
                        EXPLODE_CAR( l_U3892[2], 1, 0 );
                    }
                    if (l_U4194[2] == 1)
                    {
                        STOP_SOUND( l_U4658[2] );
                        RELEASE_SOUND_ID( l_U4658[2] );
                        l_U4194[2] = 0;
                    }
                }
            }
            if (IS_VEH_DRIVEABLE( l_U3892[2] ))
            {
                if (LOCATE_CAR_3D( l_U3892[2], 1268.70000000, -258.60000000, 42.20000000, 8, 8, 10, 0 ))
                {
                    l_U4049[1] = 0;
                    if (l_U4194[2] == 1)
                    {
                        STOP_SOUND( l_U4658[2] );
                        RELEASE_SOUND_ID( l_U4658[2] );
                        l_U4194[2] = 0;
                    }
                }
            }
            else if (l_U4241[7] == 0)
            {
                PLAY_SOUND_FROM_VEHICLE( -1, "Y4_MONEY_TRAIN_ANNIHILATOR_DEATH", l_U3892[2] );
                l_U4241[7] = 1;
            }
            if (l_U4194[2] == 1)
            {
                STOP_SOUND( l_U4658[2] );
                RELEASE_SOUND_ID( l_U4658[2] );
                l_U4194[2] = 0;
            }
            if ((DOES_CHAR_EXIST( l_U3776[74] )) AND (DOES_VEHICLE_EXIST( l_U3892[3] )))
            {
                if ((NOT (IS_CHAR_INJURED( l_U3776[74] ))) AND (IS_VEH_DRIVEABLE( l_U3892[3] )))
                {
                    if ((sub_72921( l_U3892[3], 3 )) > 2)
                    {
                        if (l_U4241[10] == 0)
                        {
                            PLAY_SOUND_FROM_VEHICLE( -1, "Y4_MONEY_TRAIN_ANNIHILATOR_DEATH", l_U3892[3] );
                            l_U4241[10] = 1;
                        }
                        if (DOES_VEHICLE_EXIST( l_U3892[3] ))
                        {
                            if (NOT (IS_CAR_DEAD( l_U3892[3] )))
                            {
                                EXPLODE_CAR( l_U3892[3], 1, 0 );
                            }
                        }
                    }
                    if (l_U4049[2] == 1)
                    {
                        sub_77206( 3, 74 );
                    }
                }
                else
                {
                    l_U4049[2] = 0;
                    if (l_U4241[10] == 0)
                    {
                        PLAY_SOUND_FROM_VEHICLE( -1, "Y4_MONEY_TRAIN_ANNIHILATOR_DEATH", l_U3892[3] );
                        l_U4241[10] = 1;
                    }
                    if (NOT (IS_CAR_DEAD( l_U3892[3] )))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3892[3] ))
                        {
                            STOP_PLAYBACK_RECORDED_CAR( l_U3892[3] );
                        }
                        EXPLODE_CAR( l_U3892[3], 1, 0 );
                    }
                    if (l_U4194[3] == 1)
                    {
                        STOP_SOUND( l_U4658[3] );
                        RELEASE_SOUND_ID( l_U4658[3] );
                        l_U4194[3] = 0;
                    }
                }
            }
            if (IS_VEH_DRIVEABLE( l_U3892[3] ))
            {
                if (LOCATE_CAR_3D( l_U3892[3], 1376, 135, 49, 8, 8, 10, 0 ))
                {
                    l_U4049[2] = 0;
                    if (l_U4194[3] == 1)
                    {
                        STOP_SOUND( l_U4658[3] );
                        RELEASE_SOUND_ID( l_U4658[3] );
                        l_U4194[3] = 0;
                    }
                }
                if (LOCATE_CAR_3D( l_U3892[3], 1422.10000000, 247, 45.84000000, 20, 20, 20, 0 ))
                {
                    if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3892[3] ))
                    {
                        SET_PLAYBACK_SPEED( l_U3892[3], 0.10000000 );
                    }
                }
            }
            else if (l_U4241[10] == 0)
            {
                PLAY_SOUND_FROM_VEHICLE( -1, "Y4_MONEY_TRAIN_ANNIHILATOR_DEATH", l_U3892[3] );
                l_U4241[10] = 1;
            }
            if (l_U4194[3] == 1)
            {
                STOP_SOUND( l_U4658[3] );
                RELEASE_SOUND_ID( l_U4658[3] );
                l_U4194[3] = 0;
            }
            if (l_U4076 == 1)
            {
                sub_81852( 353883353, 5, 215 );
            }
            else if (DOES_VEHICLE_EXIST( l_U3904[5] ))
            {
                if (NOT (IS_VEH_DRIVEABLE( l_U3904[5] )))
                {
                    if (DOES_VEHICLE_EXIST( l_U3904[5] ))
                    {
                        if (NOT (IS_CAR_DEAD( l_U3904[5] )))
                        {
                            EXPLODE_CAR( l_U3904[5], 1, 0 );
                        }
                    }
                }
                else if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[5] ))
                {
                    if (NOT (IS_CHAR_INJURED( l_U3776[5] )))
                    {
                        SET_CHAR_KEEP_TASK( l_U3776[5], 1 );
                        TASK_HELI_MISSION( l_U3776[5], l_U3904[5], 0, 0, 1535, 359.40000000, 58.90000000, 4, 30, 5, -1, 50, 50 );
                    }
                    STOP_PLAYBACK_RECORDED_CAR( l_U3904[5] );
                }
            }
            if (IS_VEH_DRIVEABLE( l_U3892[0] ))
            {
                if (LOCATE_CAR_3D( l_U3892[0], 1308, -40.16000000, 42, 20, 20, 10, 0 ))
                {
                    if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3892[0] ))
                    {
                        if (NOT (IS_CHAR_INJURED( l_U3776[58] )))
                        {
                            SET_CHAR_KEEP_TASK( l_U3776[58], 1 );
                            TASK_HELI_MISSION( l_U3776[58], l_U3892[0], 0, 0, 1489, 5.40000000, 41, 4, 30, 5, -1, 50, 50 );
                        }
                        STOP_PLAYBACK_RECORDED_CAR( l_U3892[0] );
                    }
                }
            }
            if ((NOT l_U4117[1]) AND (NOT l_U4117[0]))
            {
                for ( l_U4618 = 1; l_U4618 <= 2; l_U4618++ )
                {
                    if (l_U4618 < l_U4623)
                    {
                        if (IS_VEH_DRIVEABLE( l_U3869[l_U4618] ))
                        {
                            GET_CAR_COORDINATES( l_U3869[l_U4618], ref l_U4289._fU0, ref l_U4289._fU4, ref l_U4289._fU8 );
                            GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( l_U3869[l_U4618], 10, 13, 10, ref l_U4590._fU0, ref l_U4590._fU4, ref l_U4590._fU8 );
                            GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( l_U3869[l_U4618], -10, 13, 10, ref l_U4593._fU0, ref l_U4593._fU4, ref l_U4593._fU8 );
                            GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( l_U3869[l_U4618], 0, -13, -5, ref l_U4596._fU0, ref l_U4596._fU4, ref l_U4596._fU8 );
                            if ((l_U4117[0] == 0) AND (IS_EXPLOSION_IN_AREA( 5, l_U4596._fU0, l_U4596._fU4, l_U4596._fU8, l_U4590._fU0, l_U4590._fU4, l_U4590._fU8 )))
                            {
                                if (l_U4117[0] == 0)
                                {
                                    ADD_EXPLOSION( l_U4289._fU0, l_U4289._fU4, l_U4289._fU8, 6, 0.20000000, 1, 0, 1 );
                                    START_PTFX_ON_VEH( "train_smoke", l_U3869[l_U4618], 1.80000000, 6.50000000, 0, 0, 1.55000000, 0, 1 );
                                    l_U4676 = l_U4618;
                                    l_U4117[0] = 1;
                                }
                            }
                            else if ((l_U4117[1] == 0) AND (IS_EXPLOSION_IN_AREA( 5, l_U4596._fU0, l_U4596._fU4, l_U4596._fU8, l_U4593._fU0, l_U4593._fU4, l_U4593._fU8 )))
                            {
                                if (l_U4117[1] == 0)
                                {
                                    ADD_EXPLOSION( l_U4289._fU0, l_U4289._fU4, l_U4289._fU8, 6, 0.20000000, 1, 0, 1 );
                                    START_PTFX_ON_VEH( "train_smoke_L", l_U3869[l_U4618], -1.80000000, 6.50000000, 0, 0, -1.55000000, 0, 1 );
                                    l_U4676 = l_U4618;
                                    l_U4117[1] = 1;
                                }
                            }
                        }
                    }
                }
            }
            if (NOT l_U4120)
            {
                for ( l_U4618 = 0; l_U4618 <= 2; l_U4618++ )
                {
                    if (DOES_VEHICLE_EXIST( l_U3876[l_U4618] ))
                    {
                        if (IS_VEH_DRIVEABLE( l_U3876[l_U4618] ))
                        {
                            GET_CAR_COORDINATES( l_U3876[l_U4618], ref l_U4292._fU0, ref l_U4292._fU4, ref l_U4292._fU8 );
                            if (IS_EXPLOSION_IN_AREA( 5, l_U4292._fU0 - 10, l_U4292._fU4 - 13, l_U4292._fU8 - 10, l_U4292._fU0 + 10, l_U4292._fU4 + 13, l_U4292._fU8 + 10 ))
                            {
                                ADD_EXPLOSION( l_U4292._fU0, l_U4292._fU4, l_U4292._fU8, 6, 0.20000000, 1, 0, 1 );
                                SET_VEHICLE_RENDER_SCORCHED( l_U3876[l_U4618], 1 );
                                START_PTFX_ON_VEH( "smoke_roman11", l_U3876[l_U4618], 0, 9.20000000, 0, 0, 0, 0, 0.60000000 );
                                l_U4120 = 1;
                            }
                        }
                    }
                }
            }
            if (NOT (IS_CHAR_INJURED( sub_4345() )))
            {
                if (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 917.12000000, -383.23000000, 31.14000000, 50, 50, 50, 0 ))
                {
                    if (HAS_SOUND_FINISHED( l_U4664[0] ))
                    {
                        PLAY_SOUND_FROM_POSITION( l_U4664[0], "Y4_MONEY_TRAIN_WHOOSH_LOOP", 917.12000000, -383.23000000, 31.14000000 );
                    }
                }
                else if (NOT (HAS_SOUND_FINISHED( l_U4664[0] )))
                {
                    STOP_SOUND( l_U4664[0] );
                }
                if (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 917.04000000, -425.27000000, 31.14000000, 50, 50, 50, 0 ))
                {
                    if (HAS_SOUND_FINISHED( l_U4664[1] ))
                    {
                        PLAY_SOUND_FROM_POSITION( l_U4664[1], "Y4_MONEY_TRAIN_WHOOSH_LOOP", 917.04000000, -425.27000000, 31.14000000 );
                    }
                }
                else if (NOT (HAS_SOUND_FINISHED( l_U4664[1] )))
                {
                    STOP_SOUND( l_U4664[1] );
                }
                if (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 1006.88000000, -568.29000000, 34.04000000, 50, 50, 50, 0 ))
                {
                    if (HAS_SOUND_FINISHED( l_U4664[2] ))
                    {
                        PLAY_SOUND_FROM_POSITION( l_U4664[2], "Y4_MONEY_TRAIN_WHOOSH_LOOP", 1006.88000000, -568.29000000, 34.04000000 );
                    }
                }
                else if (NOT (HAS_SOUND_FINISHED( l_U4664[2] )))
                {
                    STOP_SOUND( l_U4664[2] );
                }
                if (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 1017.11000000, -568.59000000, 34.04000000, 50, 50, 50, 0 ))
                {
                    if (HAS_SOUND_FINISHED( l_U4664[3] ))
                    {
                        PLAY_SOUND_FROM_POSITION( l_U4664[3], "Y4_MONEY_TRAIN_WHOOSH_LOOP", 1017.11000000, -568.59000000, 34.04000000 );
                    }
                }
                else if (NOT (HAS_SOUND_FINISHED( l_U4664[3] )))
                {
                    STOP_SOUND( l_U4664[3] );
                }
                if (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 1272.49000000, -320.41000000, 36.39000000, 50, 50, 50, 0 ))
                {
                    if (HAS_SOUND_FINISHED( l_U4664[4] ))
                    {
                        PLAY_SOUND_FROM_POSITION( l_U4664[4], "Y4_MONEY_TRAIN_WHOOSH_LOOP", 1272.49000000, -320.41000000, 36.39000000 );
                    }
                }
                else if (NOT (HAS_SOUND_FINISHED( l_U4664[4] )))
                {
                    STOP_SOUND( l_U4664[4] );
                }
                if (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 1272.93000000, -293.88000000, 37.05000000, 50, 50, 50, 0 ))
                {
                    if (HAS_SOUND_FINISHED( l_U4664[5] ))
                    {
                        PLAY_SOUND_FROM_POSITION( l_U4664[5], "Y4_MONEY_TRAIN_WHOOSH_LOOP", 1272.93000000, -293.88000000, 37.05000000 );
                    }
                }
                else if (NOT (HAS_SOUND_FINISHED( l_U4664[5] )))
                {
                    STOP_SOUND( l_U4664[5] );
                }
            }
            if (DOES_VEHICLE_EXIST( l_U3876[0] ))
            {
                if (HAS_SOUND_FINISHED( l_U4657 ))
                {
                    PLAY_SOUND_FROM_VEHICLE( l_U4657, "Y4_MONEY_TRAIN_HORN", l_U3876[0] );
                }
            }
            else if (NOT (HAS_SOUND_FINISHED( l_U4657 )))
            {
                STOP_SOUND( l_U4657 );
            }
            if (NOT (IS_CHAR_INJURED( sub_4345() )))
            {
                if ((LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 1012.40000000, 64968, 34.90000000, 5, 5, 5, 0 )) AND (NOT (IS_CHAR_DUCKING( sub_4345() ))))
                {
                    SWITCH_PED_TO_ANIMATED( sub_4345(), 0 );
                    DETACH_PED( sub_4345(), 0 );
                    CLEAR_CHAR_TASKS( sub_4345() );
                    APPLY_FORCE_TO_PED( sub_4345(), 1, -10, 0, 0, 0, 0, 0, 0, 0, 0, 0 );
                    DAMAGE_CHAR( sub_4345(), 1000, 1 );
                }
            }
            if (l_U4190 == 1)
            {
                if (NOT (DOES_CAM_EXIST( l_U3931 )))
                {
                    CREATE_CAM( 14, ref l_U3931 );
                    if (l_U4737 == 0)
                    {
                        if (IS_VEH_DRIVEABLE( l_U3869[l_U4737] ))
                        {
                            ATTACH_CAM_TO_VEHICLE( l_U3931, l_U3869[l_U4737] );
                            SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U3931, 1 );
                        }
                    }
                    else if (l_U4737 == 1)
                    {
                        if (IS_VEH_DRIVEABLE( l_U3869[l_U4737] ))
                        {
                            ATTACH_CAM_TO_VEHICLE( l_U3931, l_U3869[l_U4737] );
                            SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U3931, 1 );
                        }
                    }
                    else if (l_U4737 == 2)
                    {
                        if (IS_VEH_DRIVEABLE( l_U3869[l_U4737] ))
                        {
                            ATTACH_CAM_TO_VEHICLE( l_U3931, l_U3869[l_U4737] );
                            SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U3931, 1 );
                        }
                    }
                    else if (l_U4737 == 3)
                    {
                        if (IS_VEH_DRIVEABLE( l_U3912 ))
                        {
                            ATTACH_CAM_TO_VEHICLE( l_U3931, l_U3912 );
                            SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U3931, 1 );
                        }
                    }
                    else if (l_U4737 == 4)
                    {
                        if (NOT (IS_CHAR_INJURED( sub_4345() )))
                        {
                            ATTACH_CAM_TO_PED( l_U3931, sub_4345() );
                            SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U3931, 1 );
                        }
                    };;;;;
                    if (l_U4738 == 1)
                    {
                        if (IS_VEH_DRIVEABLE( l_U3869[0] ))
                        {
                            POINT_CAM_AT_VEHICLE( l_U3931, l_U3869[0] );
                            SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U3931, 1 );
                        }
                        SET_CAM_POINT_OFFSET( l_U3931, l_U4608._fU0, l_U4608._fU4, l_U4608._fU8 );
                    }
                    else if (l_U4738 == 2)
                    {
                        if (IS_VEH_DRIVEABLE( l_U3869[1] ))
                        {
                            POINT_CAM_AT_VEHICLE( l_U3931, l_U3869[1] );
                            SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U3931, 1 );
                        }
                        SET_CAM_POINT_OFFSET( l_U3931, l_U4608._fU0, l_U4608._fU4, l_U4608._fU8 );
                    }
                    else if (l_U4738 == 3)
                    {
                        if (IS_VEH_DRIVEABLE( l_U3912 ))
                        {
                            POINT_CAM_AT_VEHICLE( l_U3931, l_U3912 );
                            SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U3931, 1 );
                        }
                        SET_CAM_POINT_OFFSET( l_U3931, l_U4608._fU0, l_U4608._fU4, l_U4608._fU8 );
                    }
                    else if (l_U4738 == 4)
                    {
                        if (NOT (IS_CHAR_INJURED( sub_4345() )))
                        {
                            POINT_CAM_AT_PED( l_U3931, sub_4345() );
                            SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U3931, 1 );
                        }
                        SET_CAM_POINT_OFFSET( l_U3931, l_U4608._fU0, l_U4608._fU4, l_U4608._fU8 );
                    };;;;
                    SET_CAM_ACTIVE( l_U3931, 1 );
                    SET_CAM_PROPAGATE( l_U3931, 1 );
                    ACTIVATE_SCRIPTED_CAMS( 1, 1 );
                }
                else if (l_U4738 == 0)
                {
                    SET_CAM_ROT( l_U3931, l_U4602._fU0, l_U4602._fU4, l_U4602._fU8 );
                }
                else
                {
                    SET_CAM_POINT_OFFSET( l_U3931, l_U4608._fU0, l_U4608._fU4, l_U4608._fU8 );
                }
                SET_CAM_ATTACH_OFFSET( l_U3931, l_U4584._fU0, l_U4584._fU4, l_U4584._fU8 );
                SET_CAM_FOV( l_U3931, l_U4868 );;
            }
            for ( l_U4618 = 0; l_U4618 <= 4; l_U4618++ )
            {
                if (l_U4209[l_U4618] == 1)
                {
                    if (DOES_VEHICLE_EXIST( l_U3892[l_U4618] ))
                    {
                        if (IS_VEH_DRIVEABLE( l_U3892[l_U4618] ))
                        {
                            if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3892[l_U4618] )))
                            {
                                GET_CAR_COORDINATES( l_U3892[l_U4618], ref l_U4614._fU0, ref l_U4614._fU4, ref l_U4614._fU8 );
                                GET_CHAR_COORDINATES( sub_4345(), ref l_U4566._fU0, ref l_U4566._fU4, ref l_U4566._fU8 );
                                GET_DISTANCE_BETWEEN_COORDS_3D( l_U4614._fU0, l_U4614._fU4, l_U4614._fU8, l_U4566._fU0, l_U4566._fU4, l_U4566._fU8, ref l_U4896 );
                                if (l_U4896 > 200)
                                {
                                    for ( l_U4757 = 0; l_U4757 <= 2; l_U4757++ )
                                    {
                                        if (NOT (IS_CAR_PASSENGER_SEAT_FREE( l_U3892[l_U4618], l_U4757 )))
                                        {
                                            GET_CHAR_IN_CAR_PASSENGER_SEAT( l_U3892[l_U4618], l_U4757, ref l_U3868 );
                                            if (DOES_CHAR_EXIST( l_U3868 ))
                                            {
                                                if (NOT (IS_CHAR_INJURED( l_U3868 )))
                                                {
                                                    SET_CHAR_KEEP_TASK( l_U3868, 1 );
                                                    MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3868 );
                                                }
                                            }
                                        }
                                    }
                                    GET_DRIVER_OF_CAR( l_U3892[l_U4618], ref l_U3868 );
                                    if (DOES_CHAR_EXIST( l_U3868 ))
                                    {
                                        if (NOT (IS_CHAR_INJURED( l_U3868 )))
                                        {
                                            SET_CHAR_KEEP_TASK( l_U3868, 1 );
                                            SET_CHAR_AS_ENEMY( l_U3868, 0 );
                                            TASK_FLEE_CHAR_ANY_MEANS( l_U3868, sub_4345(), 1000, 30000, 0, 2000, 5000, 20 );
                                            MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3868 );
                                        }
                                    }
                                    if (NOT (IS_CAR_ON_SCREEN( l_U3892[l_U4618] )))
                                    {
                                        l_U4273[l_U4618] = 1;
                                        DELETE_CAR( ref l_U3892[l_U4618] );
                                    }
                                }
                            }
                        }
                        else
                        {
                            MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U3892[l_U4618] );
                        }
                    }
                }
            }
            for ( l_U4618 = 0; l_U4618 <= 6; l_U4618++ )
            {
                if (l_U4201[l_U4618] == 1)
                {
                    if (DOES_VEHICLE_EXIST( l_U3904[l_U4618] ))
                    {
                        if (IS_VEH_DRIVEABLE( l_U3904[l_U4618] ))
                        {
                            if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[l_U4618] )))
                            {
                                GET_CAR_COORDINATES( l_U3904[l_U4618], ref l_U4614._fU0, ref l_U4614._fU4, ref l_U4614._fU8 );
                                GET_CHAR_COORDINATES( sub_4345(), ref l_U4566._fU0, ref l_U4566._fU4, ref l_U4566._fU8 );
                                GET_DISTANCE_BETWEEN_COORDS_3D( l_U4614._fU0, l_U4614._fU4, l_U4614._fU8, l_U4566._fU0, l_U4566._fU4, l_U4566._fU8, ref l_U4896 );
                                if (l_U4896 > 200)
                                {
                                    for ( l_U4757 = 0; l_U4757 <= 2; l_U4757++ )
                                    {
                                        if (NOT (IS_CAR_PASSENGER_SEAT_FREE( l_U3904[l_U4618], l_U4757 )))
                                        {
                                            GET_CHAR_IN_CAR_PASSENGER_SEAT( l_U3904[l_U4618], l_U4757, ref l_U3868 );
                                            if (DOES_CHAR_EXIST( l_U3868 ))
                                            {
                                                if (NOT (IS_CHAR_INJURED( l_U3868 )))
                                                {
                                                    SET_CHAR_KEEP_TASK( l_U3868, 1 );
                                                    MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3868 );
                                                }
                                            }
                                        }
                                    }
                                    GET_DRIVER_OF_CAR( l_U3904[l_U4618], ref l_U3868 );
                                    if (DOES_CHAR_EXIST( l_U3868 ))
                                    {
                                        if (NOT (IS_CHAR_INJURED( l_U3868 )))
                                        {
                                            SET_CHAR_KEEP_TASK( l_U3868, 1 );
                                            SET_CHAR_AS_ENEMY( l_U3868, 0 );
                                            TASK_FLEE_CHAR_ANY_MEANS( l_U3868, sub_4345(), 1000, 30000, 0, 2000, 5000, 20 );
                                            MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3868 );
                                        }
                                    }
                                    if (NOT (IS_CAR_ON_SCREEN( l_U3904[l_U4618] )))
                                    {
                                        l_U4265[l_U4618] = 1;
                                        DELETE_CAR( ref l_U3904[l_U4618] );
                                    }
                                }
                            }
                        }
                        else
                        {
                            MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U3904[l_U4618] );
                        }
                    }
                }
            }
            sub_91592();
            if (l_U4219 == 1)
            {
                sub_91948();
            }
            if (l_U4623 == 0)
            {
                if (l_U4124[44] == 0)
                {
                    l_U4727 = 44;
                }
            }
            switch (l_U4617)
            {
                case 0:
                g_U43104[18] = 1;
                if (DOES_BLIP_EXIST( l_U3922 ))
                {
                    REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3922 );
                }
                SET_PED_DENSITY_MULTIPLIER( 0 );
                SET_CAR_DENSITY_MULTIPLIER( 0 );
                SET_SCENARIO_PED_DENSITY_MULTIPLIER( 0, 0 );
                CLEAR_AREA_OF_CHARS( 1012.40000000, 64968, 34.90000000, 500 );
                l_U4262 = 1;
                SET_FAKE_WANTED_LEVEL( 4 );
                l_U4739 = 1000;
                REQUEST_MODEL( 800869680 );
                if (HAS_MODEL_LOADED( 800869680 ))
                {
                    if (NOT (DOES_VEHICLE_EXIST( l_U3876[0] )))
                    {
                        CREATE_MISSION_TRAIN( 4, 1180.10000000, -565.47000000, 23.21000000, 1, ref l_U3876[0] );
                        SET_TRAIN_SPEED( l_U3876[0], 15 );
                        SET_TRAIN_CRUISE_SPEED( l_U3876[0], 15 );
                        SET_TRAIN_AUDIO_ROLLOFF( l_U3876[0], 3.00000000 );
                        GET_TRAIN_CARRIAGE( l_U3876[0], 0, ref l_U3876[0] );
                        GET_TRAIN_CARRIAGE( l_U3876[0], 1, ref l_U3876[1] );
                        GET_TRAIN_CARRIAGE( l_U3876[0], 2, ref l_U3876[2] );
                        SET_TRAIN_STOPS_FOR_STATIONS( l_U3876[0], 0 );
                        l_U4120 = 0;
                    }
                }
                REQUEST_CAR_RECORDING( 225 );
                REQUEST_CAR_RECORDING( 215 );
                REQUEST_CAR_RECORDING( 235 );
                REQUEST_CAR_RECORDING( 237 );
                if ((HAS_CAR_RECORDING_BEEN_LOADED( 235 )) AND ((HAS_CAR_RECORDING_BEEN_LOADED( 237 )) AND ((DOES_VEHICLE_EXIST( l_U3876[0] )) AND ((HAS_CAR_RECORDING_BEEN_LOADED( 215 )) AND (HAS_CAR_RECORDING_BEEN_LOADED( 225 ))))))
                {
                    if (DOES_VEHICLE_EXIST( l_U3869[0] ))
                    {
                        if (IS_VEH_DRIVEABLE( l_U3869[0] ))
                        {
                            if (NOT (DOES_BLIP_EXIST( l_U3920 )))
                            {
                                GET_CAR_COORDINATES( l_U3869[0], ref l_U4289._fU0, ref l_U4289._fU4, ref l_U4289._fU8 );
                                CREATE_OBJECT( -268530289, l_U4289._fU0, l_U4289._fU4, l_U4289._fU8, ref l_U3913, 1 );
                                ATTACH_OBJECT_TO_CAR( l_U3913, l_U3869[0], 0, 0, -7, 2, 0, 0, 0 );
                                SET_OBJECT_VISIBLE( l_U3913, 0 );
                                ADD_BLIP_FOR_OBJECT( l_U3913, ref l_U3920 );
                                CHANGE_BLIP_COLOUR( l_U3920, 3 );
                                sub_60108( l_U3920 );
                                PRINT_NOW( "DT_roof1", 7500, 1 );
                                CHANGE_BLIP_NAME_FROM_TEXT_FILE( l_U3920, "JBLIP_FRONT" );
                                GET_GAME_TIMER( ref l_U4734 );
                                l_U4617++;
                            }
                        }
                    }
                }
                break;
                case 1:
                REQUEST_MODEL( -1660661558 );
                REQUEST_MODEL( -183203150 );
                if ((NOT (HAS_MODEL_LOADED( -183203150 ))) || (HAS_MODEL_LOADED( -1660661558 )))
                {
                    if (NOT (DOES_VEHICLE_EXIST( l_U3904[3] )))
                    {
                        CREATE_CAR( -1660661558, 971, 257.60000000, 61, ref l_U3904[3], 1 );
                        HELI_AUDIO_SHOULD_SKIP_STARTUP( l_U3904[3], 1 );
                        SET_HELI_BLADES_FULL_SPEED( l_U3904[3] );
                        SET_CAR_COLLISION( l_U3904[3], 0 );
                        SET_CAR_HEADING( l_U3904[3], 180.23810000 );
                        SET_CAR_CAN_BE_DAMAGED( l_U3904[3], 0 );
                        SET_CAR_PROOFS( l_U3904[3], 1, 1, 1, 1, 1 );
                        SET_CAR_CAN_BE_VISIBLY_DAMAGED( l_U3904[3], 0 );
                    }
                    else
                    {
                        MARK_MODEL_AS_NO_LONGER_NEEDED( -1660661558 );
                        if (IS_VEH_DRIVEABLE( l_U3904[3] ))
                        {
                            if (NOT (DOES_CHAR_EXIST( l_U3867 )))
                            {
                                CREATE_CHAR_INSIDE_CAR( l_U3904[3], 26, -183203150, ref l_U3867 );
                            }
                            else if (NOT (IS_CHAR_INJURED( l_U3867 )))
                            {
                                SET_CHAR_AS_ENEMY( l_U3867, 1 );
                                SET_CHAR_IS_TARGET_PRIORITY( l_U3867, 1 );
                                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3867, 1 );
                                SET_CHAR_INVINCIBLE( l_U3867, 1 );
                                SET_CHAR_VISIBLE( l_U3867, 0 );
                            }
                            if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( 215 )))
                            {
                                REQUEST_CAR_RECORDING( 215 );
                            }
                            else if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[3] )))
                            {
                                sub_96522( ref l_U3904[3], 215 );
                            }
                            else
                            {
                                SET_CAR_COLLISION( l_U3904[3], 0 );
                                SET_CAR_VISIBLE( l_U3904[3], 0 );
                                GET_GAME_TIMER( ref l_U4762 );
                                l_U4617++;
                            };;;
                        }
                    }
                }
                break;
                case 2:
                REQUEST_MODEL( 353883353 );
                GET_GAME_TIMER( ref l_U4629 );
                if ((l_U4629 - l_U4762) > 2000)
                {
                    if (HAS_MODEL_LOADED( 353883353 ))
                    {
                        if (NOT (DOES_VEHICLE_EXIST( l_U3904[1] )))
                        {
                            CREATE_CAR( 353883353, 1013.40400000, 201.28100000, 51.35920000, ref l_U3904[1], 1 );
                            HELI_AUDIO_SHOULD_SKIP_STARTUP( l_U3904[1], 1 );
                            SET_HELI_BLADES_FULL_SPEED( l_U3904[1] );
                            SET_CAR_HEADING( l_U3904[1], 153.23810000 );
                            SET_CAR_HEALTH( l_U3904[1], 1250 );
                        }
                        else if (IS_VEH_DRIVEABLE( l_U3904[1] ))
                        {
                            if (NOT (DOES_CHAR_EXIST( l_U3776[3] )))
                            {
                                CREATE_CHAR_INSIDE_CAR( l_U3904[1], 26, -183203150, ref l_U3776[0] );
                                SET_CHAR_AS_ENEMY( l_U3776[0], 1 );
                                SET_CHAR_IS_TARGET_PRIORITY( l_U3776[0], 1 );
                                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[0], 1 );
                                CREATE_CHAR_AS_PASSENGER( l_U3904[1], 26, -183203150, -1, ref l_U3776[1] );
                                SET_CHAR_IS_TARGET_PRIORITY( l_U3776[1], 1 );
                                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[1], 1 );
                                SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[1], 0 );
                                SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[1], 0 );
                                SET_CHAR_ACCURACY( l_U3776[1], 1 );
                                CREATE_CHAR_AS_PASSENGER( l_U3904[1], 26, -183203150, -1, ref l_U3776[2] );
                                SET_CHAR_IS_TARGET_PRIORITY( l_U3776[2], 1 );
                                SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[2], 0 );
                                SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[2], 0 );
                                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[2], 1 );
                                SET_CHAR_ACCURACY( l_U3776[2], 1 );
                                CREATE_CHAR_AS_PASSENGER( l_U3904[1], 26, -183203150, -1, ref l_U3776[3] );
                                SET_CHAR_IS_TARGET_PRIORITY( l_U3776[3], 1 );
                                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[3], 1 );
                                SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[3], 0 );
                                SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[3], 0 );
                                SET_CHAR_ACCURACY( l_U3776[3], 1 );
                            }
                        }
                        if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( 237 )))
                        {
                            REQUEST_CAR_RECORDING( 237 );
                        }
                        else if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[1] )))
                        {
                            sub_96522( ref l_U3904[1], 237 );
                        }
                        else
                        {
                            HELI_AUDIO_SHOULD_SKIP_STARTUP( l_U3904[1], 1 );
                            SET_HELI_BLADES_FULL_SPEED( l_U3904[1] );
                            SET_PLAYBACK_SPEED( l_U3904[1], 1.40000000 );
                            GENERATE_RANDOM_INT_IN_RANGE( 0, 2, ref l_U4721 );
                            if (l_U4184 == 0)
                            {
                                if (NOT (DOES_CHAR_EXIST( l_U3775 )))
                                {
                                    TRIGGER_POLICE_REPORT( "Y4_TRAIN_THEFT_SCANNER_01" );
                                    GET_GAME_TIMER( ref l_U4732 );
                                    l_U4184 = 1;
                                }
                            }
                            l_U4076 = 1;
                            l_U4054[1] = 1;
                            l_U4617++;
                        };;;
                    }
                }
                break;
                case 3:
                if (IS_THIS_PRINT_BEING_DISPLAYED( "DT_roof1", 0, 0, 0, 0, -1, -1, -1, -1, -1, -1 ))
                {
                    l_U4110[2] = 1;
                }
                if ((l_U4110[2] == 1) AND (l_U4124[43] == 0))
                {
                    GET_GAME_TIMER( ref l_U4629 );
                    if ((l_U4629 - l_U4734) > 11000)
                    {
                        l_U4727 = 43;
                        for ( l_U4618 = 1; l_U4618 <= 3; l_U4618++ )
                        {
                            if (NOT (IS_CHAR_INJURED( l_U3776[l_U4618] )))
                            {
                                SET_CHAR_AS_ENEMY( l_U3776[l_U4618], 1 );
                                TASK_DRIVE_BY( l_U3776[l_U4618], sub_4345(), 0, -1, -1, -1, 40, 8, 0, 10 );
                            }
                        }
                        for ( l_U4618 = 5; l_U4618 <= 8; l_U4618++ )
                        {
                            if (DOES_CHAR_EXIST( l_U3776[l_U4618] ))
                            {
                                if (NOT (IS_CHAR_INJURED( l_U3776[l_U4618] )))
                                {
                                    SET_CHAR_AS_ENEMY( l_U3776[l_U4618], 1 );
                                    TASK_DRIVE_BY( l_U3776[l_U4618], sub_4345(), 0, -1, -1, -1, 40, 8, 0, 10 );
                                }
                            }
                        }
                    }
                }
                else if (l_U4124[43] == 0)
                {
                    for ( l_U4618 = 5; l_U4618 <= 8; l_U4618++ )
                    {
                        if (DOES_CHAR_EXIST( l_U3776[l_U4618] ))
                        {
                            if (NOT (IS_CHAR_INJURED( l_U3776[l_U4618] )))
                            {
                                CLEAR_CHAR_TASKS( l_U3776[l_U4618] );
                                SET_CHAR_AS_ENEMY( l_U3776[l_U4618], 0 );
                            }
                        }
                    }
                    for ( l_U4618 = 1; l_U4618 <= 3; l_U4618++ )
                    {
                        if (DOES_CHAR_EXIST( l_U3776[l_U4618] ))
                        {
                            if (NOT (IS_CHAR_INJURED( l_U3776[l_U4618] )))
                            {
                                CLEAR_CHAR_TASKS( l_U3776[l_U4618] );
                                SET_CHAR_AS_ENEMY( l_U3776[l_U4618], 0 );
                            }
                        }
                    }
                }
                if (IS_VEH_DRIVEABLE( l_U3869[0] ))
                {
                    if (LOCATE_CAR_3D( l_U3869[0], 911.91000000, -129.23000000, 37.48000000, 50, 50, 50, 0 ))
                    {
                        if (NOT (HAS_MODEL_LOADED( 353883353 )))
                        {
                            REQUEST_MODEL( 353883353 );
                        }
                        else if (NOT (DOES_VEHICLE_EXIST( l_U3904[6] )))
                        {
                            CREATE_CAR( 353883353, 812.35660000, -442.85420000, 31.08730000, ref l_U3904[6], 1 );
                            HELI_AUDIO_SHOULD_SKIP_STARTUP( l_U3904[6], 1 );
                            SET_HELI_BLADES_FULL_SPEED( l_U3904[6] );
                            SET_CAR_HEADING( l_U3904[6], 322.33860000 );
                        }
                        else if (IS_VEH_DRIVEABLE( l_U3904[6] ))
                        {
                            if (NOT (DOES_CHAR_EXIST( l_U3776[85] )))
                            {
                                CREATE_CHAR_INSIDE_CAR( l_U3904[6], 26, -183203150, ref l_U3776[82] );
                                SET_CHAR_AS_ENEMY( l_U3776[82], 1 );
                                SET_CHAR_IS_TARGET_PRIORITY( l_U3776[82], 1 );
                                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[82], 1 );
                                CREATE_CHAR_AS_PASSENGER( l_U3904[6], 26, -183203150, -1, ref l_U3776[83] );
                                SET_CHAR_AS_ENEMY( l_U3776[83], 1 );
                                SET_CHAR_IS_TARGET_PRIORITY( l_U3776[83], 1 );
                                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[83], 1 );
                                SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[83], 0 );
                                SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[83], 0 );
                                TASK_DRIVE_BY( l_U3776[83], sub_4345(), 0, -1, -1, -1, 40, 8, 0, 10 );
                                SET_CHAR_ACCURACY( l_U3776[83], 1 );
                                CREATE_CHAR_AS_PASSENGER( l_U3904[6], 26, -183203150, -1, ref l_U3776[84] );
                                SET_CHAR_AS_ENEMY( l_U3776[84], 1 );
                                SET_CHAR_IS_TARGET_PRIORITY( l_U3776[84], 1 );
                                SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[84], 0 );
                                SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[84], 0 );
                                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[84], 1 );
                                TASK_DRIVE_BY( l_U3776[84], sub_4345(), 0, -1, -1, -1, 40, 8, 0, 10 );
                                SET_CHAR_ACCURACY( l_U3776[84], 1 );
                                CREATE_CHAR_AS_PASSENGER( l_U3904[6], 26, -183203150, -1, ref l_U3776[85] );
                                SET_CHAR_AS_ENEMY( l_U3776[85], 1 );
                                SET_CHAR_IS_TARGET_PRIORITY( l_U3776[85], 1 );
                                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[85], 1 );
                                SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[85], 0 );
                                SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[85], 0 );
                                TASK_DRIVE_BY( l_U3776[85], sub_4345(), 0, -1, -1, -1, 40, 8, 0, 10 );
                                SET_CHAR_ACCURACY( l_U3776[85], 1 );
                            }
                            else if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( 225 )))
                            {
                                REQUEST_CAR_RECORDING( 225 );
                            }
                            else if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[6] )))
                            {
                                sub_96522( ref l_U3904[6], 225 );
                            }
                            else
                            {
                                SET_PLAYBACK_SPEED( l_U3904[6], 0.60000000 );
                                HELI_AUDIO_SHOULD_SKIP_STARTUP( l_U3904[6], 1 );
                                SET_HELI_BLADES_FULL_SPEED( l_U3904[6] );
                            };;;
                        };;;
                    }
                }
                if (NOT (HAS_MODEL_LOADED( -1627000575 )))
                {
                    REQUEST_MODEL( -1627000575 );
                }
                else if (NOT (DOES_VEHICLE_EXIST( l_U3899[0] )))
                {
                    CREATE_CAR( -1627000575, 923, -382.50000000, 35, ref l_U3899[0], 1 );
                }
                else
                {
                    MARK_MODEL_AS_NO_LONGER_NEEDED( -1627000575 );
                    if (NOT (IS_CHAR_INJURED( sub_4345() )))
                    {
                        if (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 917.33000000, -382.46000000, 34.92000000, 190, 190, 100, 0 ))
                        {
                            l_U4280[0] = 1;
                            l_U4200 = 1;
                            sub_99417( 30, 31 );
                            if (IS_VEH_DRIVEABLE( l_U3899[0] ))
                            {
                                SET_CAR_HEADING( l_U3899[0], 100 );
                                SET_CAR_ON_GROUND_PROPERLY( l_U3899[0] );
                                FREEZE_CAR_POSITION( l_U3899[0], 1 );
                                SET_SIREN_WITH_NO_DRIVER( l_U3899[0], 1 );
                                MARK_MODEL_AS_NO_LONGER_NEEDED( -1627000575 );
                            }
                            l_U4617++;
                        }
                    }
                }
                if (l_U4280[0] == 1)
                {
                    if (NOT (IS_CHAR_INJURED( sub_4345() )))
                    {
                        if (NOT (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 917.33000000, -382.46000000, 34.92000000, 190, 190, 100, 0 )))
                        {
                            l_U4617++;
                        }
                    }
                }
                break;
                case 4:
                REQUEST_MODEL( 353883353 );
                if (HAS_MODEL_LOADED( 353883353 ))
                {
                    if (NOT (DOES_VEHICLE_EXIST( l_U3904[4] )))
                    {
                        CREATE_CAR( 353883353, 1000.52600000, -724.53060000, 13.56930000, ref l_U3904[4], 1 );
                        HELI_AUDIO_SHOULD_SKIP_STARTUP( l_U3904[4], 1 );
                        SET_HELI_BLADES_FULL_SPEED( l_U3904[4] );
                        SET_CAR_HEADING( l_U3904[4], 15 );
                    }
                    else if (IS_VEH_DRIVEABLE( l_U3904[4] ))
                    {
                        if (NOT (DOES_CHAR_EXIST( l_U3776[81] )))
                        {
                            CREATE_CHAR_INSIDE_CAR( l_U3904[4], 26, -183203150, ref l_U3776[78] );
                            SET_CHAR_AS_ENEMY( l_U3776[78], 1 );
                            SET_CHAR_IS_TARGET_PRIORITY( l_U3776[78], 1 );
                            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[78], 1 );
                            CREATE_CHAR_AS_PASSENGER( l_U3904[4], 26, -183203150, -1, ref l_U3776[79] );
                            SET_CHAR_AS_ENEMY( l_U3776[79], 1 );
                            SET_CHAR_IS_TARGET_PRIORITY( l_U3776[79], 1 );
                            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[79], 1 );
                            SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[79], 0 );
                            SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[79], 0 );
                            TASK_DRIVE_BY( l_U3776[79], sub_4345(), 0, -1, -1, -1, 40, 8, 0, 10 );
                            SET_CHAR_ACCURACY( l_U3776[79], 1 );
                            CREATE_CHAR_AS_PASSENGER( l_U3904[4], 26, -183203150, -1, ref l_U3776[80] );
                            SET_CHAR_AS_ENEMY( l_U3776[80], 1 );
                            SET_CHAR_IS_TARGET_PRIORITY( l_U3776[80], 1 );
                            SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[80], 0 );
                            SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[80], 0 );
                            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[80], 1 );
                            TASK_DRIVE_BY( l_U3776[80], sub_4345(), 0, -1, -1, -1, 40, 8, 0, 10 );
                            SET_CHAR_ACCURACY( l_U3776[80], 1 );
                            CREATE_CHAR_AS_PASSENGER( l_U3904[4], 26, -183203150, -1, ref l_U3776[81] );
                            SET_CHAR_AS_ENEMY( l_U3776[81], 1 );
                            SET_CHAR_IS_TARGET_PRIORITY( l_U3776[81], 1 );
                            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[81], 1 );
                            SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[81], 0 );
                            SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[81], 0 );
                            TASK_DRIVE_BY( l_U3776[81], sub_4345(), 0, -1, -1, -1, 40, 8, 0, 10 );
                            SET_CHAR_ACCURACY( l_U3776[81], 1 );
                        }
                    }
                    if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( 235 )))
                    {
                        REQUEST_CAR_RECORDING( 235 );
                    }
                    else if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[4] )))
                    {
                        sub_96522( ref l_U3904[4], 235 );
                    }
                    else
                    {
                        SET_PLAYBACK_SPEED( l_U3904[4], 0.80000000 );
                        HELI_AUDIO_SHOULD_SKIP_STARTUP( l_U3904[4], 1 );
                        SET_HELI_BLADES_FULL_SPEED( l_U3904[4] );
                    };;;
                }
                if (NOT (IS_CHAR_INJURED( sub_4345() )))
                {
                    if ((IS_VEH_DRIVEABLE( l_U3869[4] )) AND ((IS_VEH_DRIVEABLE( l_U3869[1] )) AND (IS_VEH_DRIVEABLE( l_U3869[0] ))))
                    {
                        if (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 916.75000000, -252.16000000, 33.60000000, 25, 25, 10, 0 ))
                        {
                            SET_TRAIN_CRUISE_SPEED( l_U3869[0], 10 );
                            SET_TRAIN_CRUISE_SPEED( l_U3869[1], 10 );
                            SET_TRAIN_CRUISE_SPEED( l_U3869[4], 10 );
                            SET_TRAIN_SPEED( l_U3869[0], 10 );
                            SET_TRAIN_SPEED( l_U3869[1], 10 );
                            SET_TRAIN_SPEED( l_U3869[4], 10 );
                        }
                        else
                        {
                            SET_TRAIN_CRUISE_SPEED( l_U3869[0], 14 );
                            SET_TRAIN_CRUISE_SPEED( l_U3869[1], 14 );
                            SET_TRAIN_CRUISE_SPEED( l_U3869[4], 14 );
                            SET_TRAIN_SPEED( l_U3869[0], 14 );
                            SET_TRAIN_SPEED( l_U3869[1], 14 );
                            SET_TRAIN_SPEED( l_U3869[4], 14 );
                        }
                    }
                }
                if (IS_VEH_DRIVEABLE( l_U3869[l_U4623] ))
                {
                    if (LOCATE_CAR_3D( l_U3869[l_U4623], 917.33000000, -382.46000000, 34.92000000, 50, 50, 50, 0 ))
                    {
                        REQUEST_CAR_RECORDING( 230 );
                        REQUEST_CAR_RECORDING( 231 );
                        l_U4617++;
                    }
                }
                break;
                case 5:
                if (l_U4623 > 3)
                {
                    if (NOT (IS_CHAR_INJURED( sub_4345() )))
                    {
                        if (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 917, -412.30000000, 30.66000000, 10, 10, 10, 0 ))
                        {
                            PRINT_NOW( "DT_reminder", 7500, 1 );
                        }
                    }
                }
                if (NOT (IS_CHAR_INJURED( sub_4345() )))
                {
                    if (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 916.88000000, 65083, 29.50000000, 5, 5, 5, 0 ))
                    {
                        if (DOES_CHAR_EXIST( l_U3775 ))
                        {
                            MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3775 );
                        }
                        l_U4617++;
                    }
                }
                break;
                case 6:
                for ( l_U4618 = 0; l_U4618 <= 2; l_U4618++ )
                {
                    if (DOES_VEHICLE_EXIST( l_U3876[l_U4618] ))
                    {
                        DELETE_CAR( ref l_U3876[l_U4618] );
                    }
                }
                if (NOT (IS_CHAR_INJURED( sub_4345() )))
                {
                    if (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 916.70000000, -514.60000000, 29.40000000, 25, 25, 25, 0 ))
                    {
                        l_U4280[1] = 1;
                        if (NOT (DOES_CHAR_EXIST( l_U3776[36] )))
                        {
                            sub_99417( 32, 36 );
                        }
                        if (NOT (DOES_VEHICLE_EXIST( l_U3904[0] )))
                        {
                            CREATE_CAR( 353883353, 1002, 64945, 19.07000000, ref l_U3904[0], 1 );
                            HELI_AUDIO_SHOULD_SKIP_STARTUP( l_U3904[0], 1 );
                            SET_HELI_BLADES_FULL_SPEED( l_U3904[0] );
                            SET_CAR_HEALTH( l_U3904[0], 1250 );
                        }
                        else if (IS_VEH_DRIVEABLE( l_U3904[0] ))
                        {
                            CREATE_CHAR_INSIDE_CAR( l_U3904[0], 26, -183203150, ref l_U3776[39] );
                            SET_CHAR_IS_TARGET_PRIORITY( l_U3776[39], 1 );
                            SET_CHAR_AS_ENEMY( l_U3776[39], 1 );
                            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[39], 1 );
                            CREATE_CHAR_AS_PASSENGER( l_U3904[0], 26, -183203150, -1, ref l_U3776[40] );
                            SET_CHAR_AS_ENEMY( l_U3776[40], 1 );
                            SET_CHAR_IS_TARGET_PRIORITY( l_U3776[40], 1 );
                            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[40], 1 );
                            SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[40], 0 );
                            SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[40], 0 );
                            TASK_DRIVE_BY( l_U3776[40], sub_4345(), 0, -1, -1, -1, 40, 8, 0, 10 );
                            SET_CHAR_ACCURACY( l_U3776[40], 1 );
                            CREATE_CHAR_AS_PASSENGER( l_U3904[0], 26, -183203150, -1, ref l_U3776[41] );
                            SET_CHAR_AS_ENEMY( l_U3776[41], 1 );
                            SET_CHAR_IS_TARGET_PRIORITY( l_U3776[41], 1 );
                            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[41], 1 );
                            SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[41], 0 );
                            SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[41], 0 );
                            TASK_DRIVE_BY( l_U3776[41], sub_4345(), 0, -1, -1, -1, 40, 8, 0, 10 );
                            SET_CHAR_ACCURACY( l_U3776[41], 1 );
                            CREATE_CHAR_AS_PASSENGER( l_U3904[0], 26, -183203150, -1, ref l_U3776[42] );
                            SET_CHAR_AS_ENEMY( l_U3776[42], 1 );
                            SET_CHAR_IS_TARGET_PRIORITY( l_U3776[42], 1 );
                            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[42], 1 );
                            SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[42], 0 );
                            SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[42], 0 );
                            TASK_DRIVE_BY( l_U3776[42], sub_4345(), 0, -1, -1, -1, 40, 8, 0, 10 );
                            SET_CHAR_ACCURACY( l_U3776[42], 1 );
                        }
                    }
                }
                if (DOES_CHAR_EXIST( l_U3776[42] ))
                {
                    l_U4617++;
                }
                if (l_U4280[1] == 1)
                {
                    if (NOT (IS_CHAR_INJURED( sub_4345() )))
                    {
                        if (NOT (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 916.70000000, -514.60000000, 29.40000000, 25, 25, 25, 0 )))
                        {
                            l_U4617++;
                        }
                    }
                }
                break;
                case 7:
                if (NOT (IS_CHAR_INJURED( sub_4345() )))
                {
                    if (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 953.40000000, 64970, 31.90000000, 10, 10, 10, 0 ))
                    {
                        l_U4286[0] = 1;
                        if (IS_VEH_DRIVEABLE( l_U3904[0] ))
                        {
                            sub_96522( ref l_U3904[0], 230 );
                        }
                    }
                }
                if (l_U4286[0] == 1)
                {
                    REQUEST_MODEL( 837858166 );
                    if (HAS_MODEL_LOADED( 837858166 ))
                    {
                        if (NOT (DOES_VEHICLE_EXIST( l_U3892[0] )))
                        {
                            CREATE_CAR( 837858166, 1354.70000000, -304.57000000, 24.40000000, ref l_U3892[0], 1 );
                            HELI_AUDIO_SHOULD_SKIP_STARTUP( l_U3892[0], 1 );
                            SET_HELI_BLADES_FULL_SPEED( l_U3892[0] );
                            SET_CAR_HEALTH( l_U3892[0], 1250 );
                        }
                        FREEZE_CAR_POSITION( l_U3892[0], 1 );
                        REQUEST_CAR_RECORDING( 233 );
                        l_U4617++;
                    }
                }
                break;
                case 8:
                if (l_U4185 == 0)
                {
                    if (NOT (IS_CHAR_INJURED( sub_4345() )))
                    {
                        if (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 1043.60000000, -568.30000000, 34.22000000, 10, 10, 10, 0 ))
                        {
                            SET_FAKE_WANTED_LEVEL( 5 );
                            TRIGGER_POLICE_REPORT( "Y4_TRAIN_THEFT_SCANNER_02" );
                            l_U4185 = 1;
                        }
                    }
                }
                if (NOT (IS_CHAR_INJURED( sub_4345() )))
                {
                    if ((IS_VEH_DRIVEABLE( l_U3869[4] )) AND ((IS_VEH_DRIVEABLE( l_U3869[1] )) AND (IS_VEH_DRIVEABLE( l_U3869[0] ))))
                    {
                        if (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 1051.40000000, 64968, 34.90000000, 20, 20, 5, 0 ))
                        {
                            SET_TRAIN_CRUISE_SPEED( l_U3869[0], 10 );
                            SET_TRAIN_CRUISE_SPEED( l_U3869[1], 10 );
                            SET_TRAIN_CRUISE_SPEED( l_U3869[4], 10 );
                            SET_TRAIN_SPEED( l_U3869[0], 10 );
                            SET_TRAIN_SPEED( l_U3869[1], 10 );
                            SET_TRAIN_SPEED( l_U3869[4], 10 );
                            if (IS_VEH_DRIVEABLE( l_U3904[0] ))
                            {
                                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[0] ))
                                {
                                    SET_PLAYBACK_SPEED( l_U3904[0], 0.80000000 );
                                }
                            }
                        }
                        else
                        {
                            SET_TRAIN_CRUISE_SPEED( l_U3869[0], 14 );
                            SET_TRAIN_CRUISE_SPEED( l_U3869[1], 14 );
                            SET_TRAIN_CRUISE_SPEED( l_U3869[4], 14 );
                            SET_TRAIN_SPEED( l_U3869[0], 14 );
                            SET_TRAIN_SPEED( l_U3869[1], 14 );
                            SET_TRAIN_SPEED( l_U3869[4], 14 );
                            if (IS_VEH_DRIVEABLE( l_U3904[0] ))
                            {
                                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[0] ))
                                {
                                    SET_PLAYBACK_SPEED( l_U3904[0], 1 );
                                }
                            }
                        }
                    }
                }
                REQUEST_MODEL( 1911513875 );
                if (HAS_MODEL_LOADED( 1911513875 ))
                {
                    if (NOT (DOES_VEHICLE_EXIST( l_U3899[2] )))
                    {
                        CREATE_CAR( 1911513875, 1273.50000000, -315.90000000, 42, ref l_U3899[2], 1 );
                        SET_CAR_HEADING( l_U3899[2], 270 );
                        SET_SIREN_WITH_NO_DRIVER( l_U3899[2], 1 );
                    }
                    else
                    {
                        MARK_MODEL_AS_NO_LONGER_NEEDED( 1911513875 );
                    }
                }
                if (NOT (IS_CHAR_INJURED( sub_4345() )))
                {
                    if (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 1104.80000000, -567.70000000, 34.10000000, 10, 10, 10, 0 ))
                    {
                        if (IS_VEH_DRIVEABLE( l_U3904[0] ))
                        {
                            if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[0] ))
                            {
                                SET_PLAYBACK_SPEED( l_U3904[0], 0.95000000 );
                                l_U4617++;
                            }
                        }
                        else
                        {
                            l_U4617++;
                        }
                    }
                }
                break;
                case 9:
                REQUEST_MODEL( 837858166 );
                if (HAS_MODEL_LOADED( 837858166 ))
                {
                    if (NOT (DOES_VEHICLE_EXIST( l_U3892[2] )))
                    {
                        CREATE_CAR( 837858166, 1352.80700000, 30.01280000, 31.30380000, ref l_U3892[2], 1 );
                        SET_CAR_HEALTH( l_U3892[2], 1250 );
                    }
                    else if (NOT (HAS_MODEL_LOADED( -1004762946 )))
                    {
                        REQUEST_MODEL( -1004762946 );
                    }
                    else if (IS_VEH_DRIVEABLE( l_U3892[2] ))
                    {
                        if (NOT (DOES_CHAR_EXIST( l_U3776[70] )))
                        {
                            CREATE_CHAR_INSIDE_CAR( l_U3892[2], 26, -1004762946, ref l_U3776[70] );
                            ADD_ARMOUR_TO_CHAR( l_U3776[70], 65436 );
                            SET_CHAR_MAX_HEALTH( l_U3776[70], 300 );
                            SET_CHAR_HEALTH( l_U3776[70], 300 );
                            SET_CHAR_AS_ENEMY( l_U3776[70], 1 );
                            SET_CHAR_IS_TARGET_PRIORITY( l_U3776[70], 1 );
                            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[70], 1 );
                            SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[70], 0 );
                            SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[70], 0 );
                            GENERATE_RANDOM_INT_IN_RANGE( 0, 3, ref l_U4760 );
                            if (l_U4760 == 0)
                            {
                                SET_CHAR_PROP_INDEX( l_U3776[70], 0, 1 );
                            }
                            else if (l_U4760 == 1)
                            {
                                SET_CHAR_PROP_INDEX( l_U3776[70], 0, 0 );
                            }
                        }
                        if (NOT (DOES_CHAR_EXIST( l_U3776[71] )))
                        {
                            CREATE_CHAR_AS_PASSENGER( l_U3892[2], 26, -1004762946, -1, ref l_U3776[71] );
                            ADD_ARMOUR_TO_CHAR( l_U3776[71], 65436 );
                            SET_CHAR_MAX_HEALTH( l_U3776[71], 300 );
                            SET_CHAR_HEALTH( l_U3776[71], 300 );
                            SET_CHAR_AS_ENEMY( l_U3776[71], 1 );
                            SET_CHAR_IS_TARGET_PRIORITY( l_U3776[71], 1 );
                            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[71], 1 );
                            SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[71], 0 );
                            SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[71], 0 );
                            TASK_DRIVE_BY( l_U3776[71], sub_4345(), 0, -1, -1, -1, 40, 8, 0, 10 );
                            SET_CHAR_ACCURACY( l_U3776[71], 1 );
                            GENERATE_RANDOM_INT_IN_RANGE( 0, 3, ref l_U4760 );
                            if (l_U4760 == 0)
                            {
                                SET_CHAR_PROP_INDEX( l_U3776[71], 0, 1 );
                            }
                            else if (l_U4760 == 1)
                            {
                                SET_CHAR_PROP_INDEX( l_U3776[71], 0, 0 );
                            }
                        }
                        if (NOT (DOES_CHAR_EXIST( l_U3776[72] )))
                        {
                            CREATE_CHAR_AS_PASSENGER( l_U3892[2], 26, -1004762946, -1, ref l_U3776[72] );
                            ADD_ARMOUR_TO_CHAR( l_U3776[72], 65436 );
                            SET_CHAR_MAX_HEALTH( l_U3776[72], 300 );
                            SET_CHAR_HEALTH( l_U3776[72], 300 );
                            SET_CHAR_AS_ENEMY( l_U3776[72], 1 );
                            SET_CHAR_IS_TARGET_PRIORITY( l_U3776[72], 1 );
                            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[72], 1 );
                            SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[72], 0 );
                            SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[72], 0 );
                            TASK_DRIVE_BY( l_U3776[72], sub_4345(), 0, -1, -1, -1, 40, 8, 0, 10 );
                            SET_CHAR_ACCURACY( l_U3776[72], 1 );
                            SET_CHAR_ONLY_DAMAGED_BY_PLAYER( l_U3776[72], 1 );
                            GENERATE_RANDOM_INT_IN_RANGE( 0, 3, ref l_U4760 );
                            if (l_U4760 == 0)
                            {
                                SET_CHAR_PROP_INDEX( l_U3776[72], 0, 1 );
                            }
                            else if (l_U4760 == 1)
                            {
                                SET_CHAR_PROP_INDEX( l_U3776[72], 0, 0 );
                            }
                        }
                        if (NOT (DOES_CHAR_EXIST( l_U3776[73] )))
                        {
                            CREATE_CHAR_AS_PASSENGER( l_U3892[2], 26, -1004762946, -1, ref l_U3776[73] );
                            ADD_ARMOUR_TO_CHAR( l_U3776[73], 65436 );
                            SET_CHAR_MAX_HEALTH( l_U3776[73], 300 );
                            SET_CHAR_HEALTH( l_U3776[73], 300 );
                            SET_CHAR_AS_ENEMY( l_U3776[73], 1 );
                            SET_CHAR_IS_TARGET_PRIORITY( l_U3776[73], 1 );
                            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[73], 1 );
                            SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[73], 0 );
                            SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[73], 0 );
                            TASK_DRIVE_BY( l_U3776[73], sub_4345(), 0, -1, -1, -1, 40, 8, 0, 10 );
                            SET_CHAR_ACCURACY( l_U3776[73], 1 );
                            SET_CHAR_ONLY_DAMAGED_BY_PLAYER( l_U3776[73], 1 );
                            GENERATE_RANDOM_INT_IN_RANGE( 0, 3, ref l_U4760 );
                            if (l_U4760 == 0)
                            {
                                SET_CHAR_PROP_INDEX( l_U3776[73], 0, 1 );
                            }
                            else if (l_U4760 == 1)
                            {
                                SET_CHAR_PROP_INDEX( l_U3776[73], 0, 0 );
                            }
                        }
                        else if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( 220 )))
                        {
                            REQUEST_CAR_RECORDING( 220 );
                        }
                        else if (IS_VEH_DRIVEABLE( l_U3892[2] ))
                        {
                            if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3892[2] )))
                            {
                                START_PLAYBACK_RECORDED_CAR( l_U3892[2], 220 );
                            }
                            else
                            {
                                SET_PLAYBACK_SPEED( l_U3892[2], 0.50000000 );
                                l_U4209[2] = 1;
                                l_U4049[1] = 1;
                            }
                        };;;
                    };;;
                }
                if (IS_VEH_DRIVEABLE( l_U3869[0] ))
                {
                    if (LOCATE_CAR_3D( l_U3869[0], 1259.60000000, -477.08000000, 30.60000000, 15, 15, 10, 0 ))
                    {
                        if (NOT (DOES_CHAR_EXIST( l_U3776[26] )))
                        {
                            sub_99417( 24, 26 );
                        }
                    }
                }
                if (DOES_CHAR_EXIST( l_U3776[24] ))
                {
                    if (NOT (IS_CHAR_INJURED( l_U3776[24] )))
                    {
                        SET_CHAR_SPHERE_DEFENSIVE_AREA( l_U3776[24], 1271.94000000, -316.14000000, 43.71000000, 0.00000000 );
                    }
                }
                if (NOT (IS_CHAR_INJURED( sub_4345() )))
                {
                    if (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 1272.40000000, -342.50000000, 32.40000000, 20, 20, 20, 0 ))
                    {
                        l_U4286[1] = 1;
                        REQUEST_CAR_RECORDING( 233 );
                        if (HAS_CAR_RECORDING_BEEN_LOADED( 233 ))
                        {
                            if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3892[0] )))
                            {
                                sub_96522( ref l_U3892[0], 233 );
                            }
                            else
                            {
                                l_U4209[0] = 1;
                            }
                        }
                    }
                }
                if (NOT (IS_CHAR_INJURED( sub_4345() )))
                {
                    if (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 1272.40000000, -342.50000000, 32.40000000, 80, 80, 80, 0 ))
                    {
                        l_U4280[2] = 1;
                        if (IS_VEH_DRIVEABLE( l_U3892[0] ))
                        {
                            REQUEST_MODEL( -1004762946 );
                            if (HAS_MODEL_LOADED( -1004762946 ))
                            {
                                if (NOT (DOES_CHAR_EXIST( l_U3776[61] )))
                                {
                                    CREATE_CHAR_INSIDE_CAR( l_U3892[0], 26, -1004762946, ref l_U3776[58] );
                                    ADD_ARMOUR_TO_CHAR( l_U3776[58], 65436 );
                                    SET_CHAR_MAX_HEALTH( l_U3776[58], 300 );
                                    SET_CHAR_HEALTH( l_U3776[58], 300 );
                                    SET_CHAR_AS_ENEMY( l_U3776[58], 1 );
                                    SET_CHAR_IS_TARGET_PRIORITY( l_U3776[58], 1 );
                                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[58], 1 );
                                    SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[58], 0 );
                                    SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[58], 0 );
                                    GENERATE_RANDOM_INT_IN_RANGE( 0, 3, ref l_U4760 );
                                    if (l_U4760 == 0)
                                    {
                                        SET_CHAR_PROP_INDEX( l_U3776[58], 0, 1 );
                                    }
                                    else if (l_U4760 == 1)
                                    {
                                        SET_CHAR_PROP_INDEX( l_U3776[58], 0, 0 );
                                    }
                                    CREATE_CHAR_AS_PASSENGER( l_U3892[0], 26, -1004762946, -1, ref l_U3776[59] );
                                    ADD_ARMOUR_TO_CHAR( l_U3776[59], 65436 );
                                    SET_CHAR_MAX_HEALTH( l_U3776[59], 300 );
                                    SET_CHAR_HEALTH( l_U3776[59], 300 );
                                    SET_CHAR_AS_ENEMY( l_U3776[59], 1 );
                                    SET_CHAR_IS_TARGET_PRIORITY( l_U3776[59], 1 );
                                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[59], 1 );
                                    SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[59], 0 );
                                    SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[59], 0 );
                                    TASK_DRIVE_BY( l_U3776[59], sub_4345(), 0, -1, -1, -1, 40, 8, 0, 10 );
                                    SET_CHAR_ACCURACY( l_U3776[59], 1 );
                                    GENERATE_RANDOM_INT_IN_RANGE( 0, 3, ref l_U4760 );
                                    if (l_U4760 == 0)
                                    {
                                        SET_CHAR_PROP_INDEX( l_U3776[59], 0, 1 );
                                    }
                                    else if (l_U4760 == 1)
                                    {
                                        SET_CHAR_PROP_INDEX( l_U3776[59], 0, 0 );
                                    }
                                    CREATE_CHAR_AS_PASSENGER( l_U3892[0], 26, -1004762946, -1, ref l_U3776[60] );
                                    ADD_ARMOUR_TO_CHAR( l_U3776[60], 65436 );
                                    SET_CHAR_MAX_HEALTH( l_U3776[60], 300 );
                                    SET_CHAR_HEALTH( l_U3776[60], 300 );
                                    SET_CHAR_AS_ENEMY( l_U3776[60], 1 );
                                    SET_CHAR_IS_TARGET_PRIORITY( l_U3776[60], 1 );
                                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[60], 1 );
                                    SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[60], 0 );
                                    SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[60], 0 );
                                    TASK_DRIVE_BY( l_U3776[60], sub_4345(), 0, -1, -1, -1, 40, 8, 0, 10 );
                                    SET_CHAR_ACCURACY( l_U3776[60], 1 );
                                    SET_CHAR_ONLY_DAMAGED_BY_PLAYER( l_U3776[60], 1 );
                                    GENERATE_RANDOM_INT_IN_RANGE( 0, 3, ref l_U4760 );
                                    if (l_U4760 == 0)
                                    {
                                        SET_CHAR_PROP_INDEX( l_U3776[60], 0, 1 );
                                    }
                                    else if (l_U4760 == 1)
                                    {
                                        SET_CHAR_PROP_INDEX( l_U3776[60], 0, 0 );
                                    }
                                    FREEZE_CAR_POSITION( l_U3892[0], 0 );
                                    l_U4054[0] = 1;
                                    CREATE_CHAR_AS_PASSENGER( l_U3892[0], 26, -1004762946, -1, ref l_U3776[61] );
                                    ADD_ARMOUR_TO_CHAR( l_U3776[61], 65436 );
                                    SET_CHAR_MAX_HEALTH( l_U3776[61], 300 );
                                    SET_CHAR_HEALTH( l_U3776[61], 300 );
                                    SET_CHAR_AS_ENEMY( l_U3776[61], 1 );
                                    SET_CHAR_IS_TARGET_PRIORITY( l_U3776[61], 1 );
                                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[61], 1 );
                                    SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[61], 0 );
                                    SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[61], 0 );
                                    TASK_DRIVE_BY( l_U3776[61], sub_4345(), 0, -1, -1, -1, 40, 8, 0, 10 );
                                    SET_CHAR_ACCURACY( l_U3776[61], 1 );
                                    SET_CHAR_ONLY_DAMAGED_BY_PLAYER( l_U3776[61], 1 );
                                    GENERATE_RANDOM_INT_IN_RANGE( 0, 3, ref l_U4760 );
                                    if (l_U4760 == 0)
                                    {
                                        SET_CHAR_PROP_INDEX( l_U3776[61], 0, 1 );
                                    }
                                    else if (l_U4760 == 1)
                                    {
                                        SET_CHAR_PROP_INDEX( l_U3776[61], 0, 0 );
                                    }
                                }
                            }
                        }
                    }
                }
                if ((l_U4286[1] == 1) AND (DOES_CHAR_EXIST( l_U3776[61] )))
                {
                    l_U4617++;
                }
                if (l_U4280[2] == 1)
                {
                    if (NOT (IS_CHAR_INJURED( sub_4345() )))
                    {
                        if (NOT (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 1272.40000000, -342.50000000, 32.40000000, 80, 80, 80, 0 )))
                        {
                            l_U4617++;
                        }
                    }
                }
                break;
                case 10:
                if (NOT (DOES_CHAR_EXIST( l_U3776[21] )))
                {
                    sub_99417( 20, 21 );
                }
                else
                {
                    REQUEST_MODEL( 800869680 );
                    if (HAS_MODEL_LOADED( 800869680 ))
                    {
                        if (NOT (DOES_VEHICLE_EXIST( l_U3876[0] )))
                        {
                            CREATE_MISSION_TRAIN( 4, 1424.56000000, 272.85000000, 36.68000000, 1, ref l_U3876[0] );
                            SET_TRAIN_SPEED( l_U3876[0], 15 );
                            SET_TRAIN_CRUISE_SPEED( l_U3876[0], 15 );
                            SET_TRAIN_AUDIO_ROLLOFF( l_U3876[0], 3.00000000 );
                            GET_TRAIN_CARRIAGE( l_U3876[0], 0, ref l_U3876[0] );
                            GET_TRAIN_CARRIAGE( l_U3876[0], 1, ref l_U3876[1] );
                            GET_TRAIN_CARRIAGE( l_U3876[0], 2, ref l_U3876[2] );
                            SET_TRAIN_STOPS_FOR_STATIONS( l_U3876[0], 0 );
                            l_U4120 = 0;
                        }
                    }
                    for ( l_U4618 = 20; l_U4618 <= 21; l_U4618++ )
                    {
                        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[l_U4618], 1 );
                        TASK_SHOOT_AT_CHAR( l_U3776[l_U4618], sub_4345(), 30000, 3 );
                    }
                    l_U4617++;
                }
                break;
                case 11:
                if (l_U4186 == 0)
                {
                    if (NOT (IS_CHAR_INJURED( sub_4345() )))
                    {
                        if (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 1273.80000000, 65330, 39.18000000, 10, 10, 10, 0 ))
                        {
                            for ( l_U4618 = 54; l_U4618 <= 57; l_U4618++ )
                            {
                                if (NOT (IS_CHAR_INJURED( l_U3776[l_U4618] )))
                                {
                                    SAY_AMBIENT_SPEECH_WITH_VOICE( l_U3776[l_U4618], "VAN", "M_Y_SWAT_BLACK", 1, 1, 3 );
                                    l_U4186 = 1;
                                    break;
                                }
                            }
                        }
                    }
                }
                if (NOT (IS_CHAR_INJURED( sub_4345() )))
                {
                    if (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 1308, -40.16000000, 42, 100, 100, 100, 0 ))
                    {
                        l_U4280[3] = 1;
                        REQUEST_MODEL( 837858166 );
                        if (HAS_MODEL_LOADED( 837858166 ))
                        {
                            if (NOT (DOES_VEHICLE_EXIST( l_U3892[1] )))
                            {
                                CREATE_CAR( 837858166, 1331, 110, 34, ref l_U3892[1], 1 );
                                HELI_AUDIO_SHOULD_SKIP_STARTUP( l_U3892[1], 1 );
                                SET_HELI_BLADES_FULL_SPEED( l_U3892[1] );
                                SET_CAR_HEALTH( l_U3892[1], 1250 );
                            }
                            else if (IS_VEH_DRIVEABLE( l_U3892[1] ))
                            {
                                REQUEST_MODEL( -1004762946 );
                                if (HAS_MODEL_LOADED( -1004762946 ))
                                {
                                    if (NOT (DOES_CHAR_EXIST( l_U3776[54] )))
                                    {
                                        CREATE_CHAR_INSIDE_CAR( l_U3892[1], 26, -1004762946, ref l_U3776[54] );
                                        ADD_ARMOUR_TO_CHAR( l_U3776[54], 65436 );
                                        SET_CHAR_MAX_HEALTH( l_U3776[54], 300 );
                                        SET_CHAR_HEALTH( l_U3776[54], 300 );
                                        SET_CHAR_AS_ENEMY( l_U3776[54], 1 );
                                        SET_CHAR_IS_TARGET_PRIORITY( l_U3776[54], 1 );
                                        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[54], 1 );
                                        SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[54], 0 );
                                        SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[54], 0 );
                                        GENERATE_RANDOM_INT_IN_RANGE( 0, 3, ref l_U4760 );
                                        if (l_U4760 == 0)
                                        {
                                            SET_CHAR_PROP_INDEX( l_U3776[54], 0, 1 );
                                        }
                                        else if (l_U4760 == 1)
                                        {
                                            SET_CHAR_PROP_INDEX( l_U3776[54], 0, 0 );
                                        }
                                    }
                                    else if (NOT (DOES_CHAR_EXIST( l_U3776[55] )))
                                    {
                                        CREATE_CHAR_AS_PASSENGER( l_U3892[1], 26, -1004762946, -1, ref l_U3776[55] );
                                        ADD_ARMOUR_TO_CHAR( l_U3776[55], 65436 );
                                        SET_CHAR_MAX_HEALTH( l_U3776[55], 300 );
                                        SET_CHAR_HEALTH( l_U3776[55], 300 );
                                        SET_CHAR_AS_ENEMY( l_U3776[55], 1 );
                                        SET_CHAR_IS_TARGET_PRIORITY( l_U3776[55], 1 );
                                        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[55], 1 );
                                        SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[55], 0 );
                                        SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[55], 0 );
                                        SET_CHAR_ACCURACY( l_U3776[55], 1 );
                                        GENERATE_RANDOM_INT_IN_RANGE( 0, 3, ref l_U4760 );
                                        if (l_U4760 == 0)
                                        {
                                            SET_CHAR_PROP_INDEX( l_U3776[55], 0, 1 );
                                        }
                                        else if (l_U4760 == 1)
                                        {
                                            SET_CHAR_PROP_INDEX( l_U3776[55], 0, 0 );
                                        }
                                    }
                                    else if (NOT (DOES_CHAR_EXIST( l_U3776[56] )))
                                    {
                                        CREATE_CHAR_AS_PASSENGER( l_U3892[1], 26, -1004762946, -1, ref l_U3776[56] );
                                        SET_CHAR_AS_ENEMY( l_U3776[56], 1 );
                                        ADD_ARMOUR_TO_CHAR( l_U3776[56], 65436 );
                                        SET_CHAR_MAX_HEALTH( l_U3776[56], 300 );
                                        SET_CHAR_HEALTH( l_U3776[56], 300 );
                                        SET_CHAR_IS_TARGET_PRIORITY( l_U3776[56], 1 );
                                        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[56], 1 );
                                        SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[56], 0 );
                                        SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[56], 0 );
                                        TASK_DRIVE_BY( l_U3776[56], sub_4345(), 0, -1, -1, -1, 40, 8, 0, 10 );
                                        SET_CHAR_ACCURACY( l_U3776[56], 1 );
                                        SET_CHAR_ONLY_DAMAGED_BY_PLAYER( l_U3776[56], 1 );
                                        GENERATE_RANDOM_INT_IN_RANGE( 0, 3, ref l_U4760 );
                                        if (l_U4760 == 0)
                                        {
                                            SET_CHAR_PROP_INDEX( l_U3776[56], 0, 1 );
                                        }
                                        else if (l_U4760 == 1)
                                        {
                                            SET_CHAR_PROP_INDEX( l_U3776[56], 0, 0 );
                                        }
                                    }
                                    else if (NOT (DOES_CHAR_EXIST( l_U3776[57] )))
                                    {
                                        CREATE_CHAR_AS_PASSENGER( l_U3892[1], 26, -1004762946, -1, ref l_U3776[57] );
                                        ADD_ARMOUR_TO_CHAR( l_U3776[57], 65436 );
                                        SET_CHAR_MAX_HEALTH( l_U3776[57], 300 );
                                        SET_CHAR_HEALTH( l_U3776[57], 300 );
                                        SET_CHAR_AS_ENEMY( l_U3776[57], 1 );
                                        SET_CHAR_IS_TARGET_PRIORITY( l_U3776[57], 1 );
                                        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[57], 1 );
                                        SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[57], 0 );
                                        SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[57], 0 );
                                        TASK_DRIVE_BY( l_U3776[57], sub_4345(), 0, -1, -1, -1, 40, 8, 0, 10 );
                                        SET_CHAR_ACCURACY( l_U3776[57], 1 );
                                        GENERATE_RANDOM_INT_IN_RANGE( 0, 3, ref l_U4760 );
                                        if (l_U4760 == 0)
                                        {
                                            SET_CHAR_PROP_INDEX( l_U3776[57], 0, 1 );
                                        }
                                        else if (l_U4760 == 1)
                                        {
                                            SET_CHAR_PROP_INDEX( l_U3776[57], 0, 0 );
                                        }
                                    }
                                    else
                                    {
                                        l_U4617++;
                                    };;;;
                                }
                            }
                            else if (NOT (IS_CAR_DEAD( l_U3892[1] )))
                            {
                                EXPLODE_CAR( l_U3892[1], 1, 0 );
                                l_U4617++;
                            };;;
                        }
                    }
                }
                if (l_U4280[3] == 1)
                {
                    if (NOT (IS_CHAR_INJURED( sub_4345() )))
                    {
                        if (NOT (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 1308, -40.16000000, 42, 100, 100, 100, 0 )))
                        {
                            l_U4617++;
                        }
                    }
                }
                break;
                case 12:
                REQUEST_CAR_RECORDING( 238 );
                if (HAS_CAR_RECORDING_BEEN_LOADED( 238 ))
                {
                    l_U4617++;
                }
                break;
                case 13:
                if (NOT (IS_CHAR_INJURED( sub_4345() )))
                {
                    if (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 1309, -30.26000000, 44, 80, 80, 10, 0 ))
                    {
                        if (IS_VEH_DRIVEABLE( l_U3892[1] ))
                        {
                            if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3892[1] )))
                            {
                                START_PLAYBACK_RECORDED_CAR( l_U3892[1], 238 );
                            }
                            else
                            {
                                l_U4049[0] = 1;
                                l_U4617++;
                            }
                        }
                        else if (l_U4241[11] == 0)
                        {
                            PLAY_SOUND_FROM_VEHICLE( -1, "Y4_MONEY_TRAIN_ANNIHILATOR_DEATH", l_U3892[1] );
                            l_U4241[11] = 1;
                        }
                        if (NOT (IS_CAR_DEAD( l_U3892[1] )))
                        {
                            EXPLODE_CAR( l_U3892[1], 1, 0 );
                        }
                        l_U4617++;;
                    }
                }
                break;
                case 14:
                REQUEST_MODEL( 1044954915 );
                if (HAS_MODEL_LOADED( 1044954915 ))
                {
                    if (NOT (DOES_VEHICLE_EXIST( l_U3912 )))
                    {
                        CREATE_CAR( 1044954915, 1299.80000000, 493.70000000, 40.26000000, ref l_U3912, 1 );
                        SET_CAR_HEALTH( l_U3912, 2000 );
                        SET_CAR_PROOFS( l_U3912, 0, 1, 0, 1, 1 );
                        SET_CAR_ONLY_DAMAGED_BY_PLAYER( l_U3912, 1 );
                        HELI_AUDIO_SHOULD_SKIP_STARTUP( l_U3912, 1 );
                        SET_HELI_BLADES_FULL_SPEED( l_U3912 );
                    }
                    else if (IS_VEH_DRIVEABLE( l_U3912 ))
                    {
                        if (NOT (DOES_CHAR_EXIST( l_U3775 )))
                        {
                            if (NOT (sub_41927( 2 )))
                            {
                                sub_43487( 2 );
                            }
                            else
                            {
                                sub_110352( 2, ref l_U3775, l_U3912 );
                            }
                        }
                        else if (NOT (IS_CHAR_INJURED( l_U3775 )))
                        {
                            SET_CHAR_ONLY_DAMAGED_BY_PLAYER( l_U3775, 1 );
                        }
                        if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3912 )))
                        {
                            if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( 221 )))
                            {
                                REQUEST_CAR_RECORDING( 221 );
                            }
                            else
                            {
                                START_PLAYBACK_RECORDED_CAR( l_U3912, 221 );
                                SET_PLAYBACK_SPEED( l_U3912, 0.75000000 );
                                PAUSE_PLAYBACK_RECORDED_CAR( l_U3912 );
                                if (NOT (IS_CHAR_INJURED( l_U3775 )))
                                {
                                    sub_16117( 1, l_U3775, "YUSUF", 0 );
                                }
                                l_U4741 = 1000;
                                l_U4617++;
                            }
                        }
                    }
                }
                break;
                case 15:
                if (l_U4209[3] == 0)
                {
                    REQUEST_MODEL( 837858166 );
                    if (HAS_MODEL_LOADED( 837858166 ))
                    {
                        if (NOT (DOES_VEHICLE_EXIST( l_U3892[3] )))
                        {
                            CREATE_CAR( 837858166, 1449.75700000, 508.92410000, 28.21570000, ref l_U3892[3], 1 );
                            SET_CAR_HEADING( l_U3892[3], 189.14770000 );
                        }
                        else
                        {
                            REQUEST_MODEL( -1004762946 );
                            if (HAS_MODEL_LOADED( -1004762946 ))
                            {
                                if (NOT (DOES_CHAR_EXIST( l_U3776[74] )))
                                {
                                    CREATE_CHAR_INSIDE_CAR( l_U3892[3], 26, -1004762946, ref l_U3776[74] );
                                    ADD_ARMOUR_TO_CHAR( l_U3776[74], 65436 );
                                    SET_CHAR_MAX_HEALTH( l_U3776[74], 300 );
                                    SET_CHAR_HEALTH( l_U3776[74], 300 );
                                    SET_CHAR_AS_ENEMY( l_U3776[74], 1 );
                                    SET_CHAR_IS_TARGET_PRIORITY( l_U3776[74], 1 );
                                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[74], 1 );
                                    SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[74], 0 );
                                    SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[74], 0 );
                                    GENERATE_RANDOM_INT_IN_RANGE( 0, 3, ref l_U4760 );
                                    if (l_U4760 == 0)
                                    {
                                        SET_CHAR_PROP_INDEX( l_U3776[74], 0, 1 );
                                    }
                                    else if (l_U4760 == 1)
                                    {
                                        SET_CHAR_PROP_INDEX( l_U3776[74], 0, 0 );
                                    }
                                }
                                if (NOT (DOES_CHAR_EXIST( l_U3776[75] )))
                                {
                                    CREATE_CHAR_AS_PASSENGER( l_U3892[3], 26, -1004762946, -1, ref l_U3776[75] );
                                    ADD_ARMOUR_TO_CHAR( l_U3776[75], 65436 );
                                    SET_CHAR_MAX_HEALTH( l_U3776[75], 300 );
                                    SET_CHAR_HEALTH( l_U3776[75], 300 );
                                    SET_CHAR_AS_ENEMY( l_U3776[75], 1 );
                                    SET_CHAR_IS_TARGET_PRIORITY( l_U3776[75], 1 );
                                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[75], 1 );
                                    SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[75], 0 );
                                    SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[75], 0 );
                                    TASK_DRIVE_BY( l_U3776[75], sub_4345(), 0, -1, -1, -1, 40, 8, 0, 10 );
                                    SET_CHAR_ACCURACY( l_U3776[75], 1 );
                                    GENERATE_RANDOM_INT_IN_RANGE( 0, 3, ref l_U4760 );
                                    if (l_U4760 == 0)
                                    {
                                        SET_CHAR_PROP_INDEX( l_U3776[75], 0, 1 );
                                    }
                                    else if (l_U4760 == 1)
                                    {
                                        SET_CHAR_PROP_INDEX( l_U3776[75], 0, 0 );
                                    }
                                }
                                if (NOT (DOES_CHAR_EXIST( l_U3776[76] )))
                                {
                                    CREATE_CHAR_AS_PASSENGER( l_U3892[3], 26, -1004762946, -1, ref l_U3776[76] );
                                    SET_CHAR_AS_ENEMY( l_U3776[76], 1 );
                                    ADD_ARMOUR_TO_CHAR( l_U3776[76], 65436 );
                                    SET_CHAR_MAX_HEALTH( l_U3776[76], 300 );
                                    SET_CHAR_HEALTH( l_U3776[76], 300 );
                                    SET_CHAR_IS_TARGET_PRIORITY( l_U3776[76], 1 );
                                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[76], 1 );
                                    SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[76], 0 );
                                    SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[76], 0 );
                                    TASK_DRIVE_BY( l_U3776[76], sub_4345(), 0, -1, -1, -1, 40, 8, 0, 10 );
                                    SET_CHAR_ACCURACY( l_U3776[76], 1 );
                                    SET_CHAR_ONLY_DAMAGED_BY_PLAYER( l_U3776[76], 1 );
                                    GENERATE_RANDOM_INT_IN_RANGE( 0, 3, ref l_U4760 );
                                    if (l_U4760 == 0)
                                    {
                                        SET_CHAR_PROP_INDEX( l_U3776[76], 0, 1 );
                                    }
                                    else if (l_U4760 == 1)
                                    {
                                        SET_CHAR_PROP_INDEX( l_U3776[76], 0, 0 );
                                    }
                                }
                                if (NOT (DOES_CHAR_EXIST( l_U3776[77] )))
                                {
                                    CREATE_CHAR_AS_PASSENGER( l_U3892[3], 26, -1004762946, -1, ref l_U3776[77] );
                                    SET_CHAR_AS_ENEMY( l_U3776[77], 1 );
                                    ADD_ARMOUR_TO_CHAR( l_U3776[77], 65436 );
                                    SET_CHAR_MAX_HEALTH( l_U3776[77], 300 );
                                    SET_CHAR_HEALTH( l_U3776[77], 300 );
                                    SET_CHAR_IS_TARGET_PRIORITY( l_U3776[77], 1 );
                                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[77], 1 );
                                    SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[77], 0 );
                                    SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[77], 0 );
                                    TASK_DRIVE_BY( l_U3776[77], sub_4345(), 0, -1, -1, -1, 40, 8, 0, 10 );
                                    SET_CHAR_ACCURACY( l_U3776[77], 1 );
                                    SET_CHAR_ONLY_DAMAGED_BY_PLAYER( l_U3776[77], 1 );
                                    GENERATE_RANDOM_INT_IN_RANGE( 0, 3, ref l_U4760 );
                                    if (l_U4760 == 0)
                                    {
                                        SET_CHAR_PROP_INDEX( l_U3776[77], 0, 1 );
                                    }
                                    else if (l_U4760 == 1)
                                    {
                                        SET_CHAR_PROP_INDEX( l_U3776[77], 0, 0 );
                                    }
                                }
                                else if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( 224 )))
                                {
                                    REQUEST_CAR_RECORDING( 224 );
                                }
                                else if (IS_VEH_DRIVEABLE( l_U3892[3] ))
                                {
                                    if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3892[3] )))
                                    {
                                        START_PLAYBACK_RECORDED_CAR( l_U3892[3], 224 );
                                    }
                                    else
                                    {
                                        SET_PLAYBACK_SPEED( l_U3892[3], 0.60000000 );
                                        l_U4209[3] = 1;
                                        l_U4049[2] = 1;
                                    }
                                };;;
                            }
                        }
                    }
                }
                else if (IS_VEH_DRIVEABLE( l_U3869[0] ))
                {
                    if (LOCATE_CAR_3D( l_U3869[0], 1412.98000000, 362.85000000, 43.69000000, 100, 100, 50, 0 ))
                    {
                        l_U4280[4] = 1;
                        if (NOT (DOES_CHAR_EXIST( l_U3776[52] )))
                        {
                            sub_99417( 49, 52 );
                        }
                        else
                        {
                            for ( l_U4618 = 49; l_U4618 <= 52; l_U4618++ )
                            {
                                TASK_GUARD_CURRENT_POSITION( l_U3776[l_U4618], 0, 10, 0 );
                            }
                            if (NOT (IS_CHAR_INJURED( l_U3776[49] )))
                            {
                                SET_CHAR_SPHERE_DEFENSIVE_AREA( l_U3776[49], 1410.90000000, 362.85000000, 44.20000000, 1 );
                            }
                            l_U4617++;
                        }
                    }
                }
                if (l_U4280[4] == 1)
                {
                    if (NOT (IS_CHAR_INJURED( sub_4345() )))
                    {
                        if (NOT (LOCATE_CAR_3D( l_U3869[0], 1412.98000000, 362.85000000, 43.69000000, 100, 100, 50, 0 )))
                        {
                            l_U4617++;
                        }
                    }
                }
                break;
                case 16:
                if (IS_VEH_DRIVEABLE( l_U3869[0] ))
                {
                    if (LOCATE_CAR_3D( l_U3869[0], 1415.50000000, 430.60000000, 42, 94.50000000, 94.50000000, 94.50000000, 0 ))
                    {
                        for ( l_U4618 = 0; l_U4618 <= 2; l_U4618++ )
                        {
                            if (DOES_VEHICLE_EXIST( l_U3876[l_U4618] ))
                            {
                                DELETE_CAR( ref l_U3876[l_U4618] );
                            }
                        }
                        if (IS_VEH_DRIVEABLE( l_U3912 ))
                        {
                            if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3912 ))
                            {
                                UNPAUSE_PLAYBACK_RECORDED_CAR( l_U3912 );
                                GET_GAME_TIMER( ref l_U4733 );
                                l_U4074 = 1;
                                l_U4858 = 0;
                                l_U4617++;
                            }
                        }
                    }
                }
                break;
                case 17:
                GET_GAME_TIMER( ref l_U4629 );
                if ((l_U4629 - l_U4733) > 6000)
                {
                    if (NOT (IS_CHAR_INJURED( l_U3775 )))
                    {
                        HINT_CAM( 0, 0, 0, l_U3775, 0, 0, 4000 );
                        if (sub_3929( l_U4908 ))
                        {
                            if (l_U4124[16] == 0)
                            {
                                sub_4113( ref l_U4908, 0 );
                                l_U4727 = 16;
                            }
                        }
                        else if (l_U4124[16] == 0)
                        {
                            l_U4727 = 16;
                        }
                    }
                }
                if ((DOES_VEHICLE_EXIST( l_U3869[0] )) AND ((DOES_VEHICLE_EXIST( l_U3869[2] )) AND (DOES_VEHICLE_EXIST( l_U3912 ))))
                {
                    if ((IS_VEH_DRIVEABLE( l_U3869[0] )) AND ((IS_VEH_DRIVEABLE( l_U3869[2] )) AND (IS_VEH_DRIVEABLE( l_U3912 ))))
                    {
                        if ((l_U4062 == 0) AND (LOCATE_CAR_3D( l_U3912, 1401.48000000, 800.45000000, 51.24000000, 50, 50, 50, 0 )))
                        {
                            if (NOT (DOES_CAM_EXIST( l_U3926 )))
                            {
                                CREATE_CAM( 14, ref l_U3926 );
                            }
                            else
                            {
                                ATTACH_CAM_TO_VEHICLE( l_U3926, l_U3869[2] );
                                SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U3926, 1 );
                                SET_CAM_ATTACH_OFFSET( l_U3926, 10, 65516, 20 );
                                l_U4584._fU0 = 10;
                                l_U4584._fU4 = 65516;
                                l_U4584._fU8 = 20;
                                POINT_CAM_AT_VEHICLE( l_U3926, l_U3869[0] );
                                SET_CAM_ACTIVE( l_U3926, 1 );
                                SET_CAM_PROPAGATE( l_U3926, 1 );
                                ACTIVATE_SCRIPTED_CAMS( 1, 1 );
                                GET_GAME_TIMER( ref l_U4630 );
                                if (sub_3929( l_U4908 ))
                                {
                                    if (l_U4124[21] == 0)
                                    {
                                        sub_4113( ref l_U4908, 0 );
                                        l_U4727 = 21;
                                    }
                                }
                                else if (l_U4124[21] == 0)
                                {
                                    l_U4727 = 21;
                                }
                                l_U3592 = 2;
                            }
                        }
                    }
                }
                break;
            }
            break;
            case 2:
            l_U4187 = 1;
            if (l_U4175 == 1)
            {
                sub_14568();
            }
            if (sub_113408())
            {
                sub_62014();
            }
            SET_WIDESCREEN_BORDERS( 1 );
            if (DOES_CHAR_EXIST( l_U3775 ))
            {
                if (NOT (IS_CHAR_INJURED( l_U3775 )))
                {
                    SET_CHAR_INVINCIBLE( l_U3775, 1 );
                }
            }
            if (NOT (IS_CHAR_INJURED( sub_4345() )))
            {
                SET_CHAR_INVINCIBLE( sub_4345(), 1 );
                SET_PLAYER_CONTROL_ADVANCED( sub_4399(), 0, 1, 1 );
            }
            if (DOES_BLIP_EXIST( l_U3921 ))
            {
                REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3921 );
            }
            if (DOES_BLIP_EXIST( l_U3920 ))
            {
                REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3920 );
            }
            if (DOES_BLIP_EXIST( l_U3923 ))
            {
                REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3923 );
            }
            if ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND ((NOT sub_44766()) AND (l_U4124[22] == 1)))
            {
                PRINT_NOW( "DT_FAIL_3", 7500, 1 );
            }
            GET_GAME_TIMER( ref l_U4629 );
            if ((IS_VEH_DRIVEABLE( l_U3869[5] )) AND ((IS_VEH_DRIVEABLE( l_U3869[4] )) AND ((IS_VEH_DRIVEABLE( l_U3869[3] )) AND ((IS_VEH_DRIVEABLE( l_U3869[2] )) AND ((IS_VEH_DRIVEABLE( l_U3869[1] )) AND (IS_VEH_DRIVEABLE( l_U3869[0] )))))))
            {
                if (l_U4584._fU0 < 20)
                {
                    l_U4584._fU0 += 0.04000000;
                }
                if (l_U4584._fU4 < -10)
                {
                    l_U4584._fU4 += 0.04000000;
                }
                if (l_U4584._fU8 > 0)
                {
                    l_U4584._fU8 -= 0.04000000;
                }
                SET_CAM_ATTACH_OFFSET( l_U3926, l_U4584._fU0, l_U4584._fU4, l_U4584._fU8 );
                if ((l_U4629 - l_U4630) > 3750)
                {
                    if (l_U4063[0] == 0)
                    {
                        if (IS_VEH_DRIVEABLE( l_U3912 ))
                        {
                            if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3912 ))
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U3912 );
                            }
                        }
                        if (NOT (IS_CAR_DEAD( l_U3912 )))
                        {
                            EXPLODE_CAR( l_U3912, 1, 0 );
                        }
                        GET_CAR_COORDINATES( l_U3869[0], ref l_U4289._fU0, ref l_U4289._fU4, ref l_U4289._fU8 );
                        ADD_EXPLOSION( l_U4289._fU0, l_U4289._fU4 + 8, l_U4289._fU8, 6, 1, 1, 0, 1065353216 );
                        ADD_EXPLOSION( l_U4289._fU0, l_U4289._fU4, l_U4289._fU8, 6, 1, 1, 0, 1065353216 );
                        START_PTFX_ON_VEH( "smoke_roman11", l_U3869[0], 0, 9.20000000, 0, 0, 0, 0, 1 );
                        START_PTFX_ON_VEH( "train_smoke", l_U3869[2], 1.80000000, 6.50000000, 0, 0, 1.55000000, 0, 1 );
                        START_PTFX_ON_VEH( "train_smoke_L", l_U3869[1], -1.80000000, 6.50000000, 0, 0, -1.55000000, 0, 1 );
                        SET_VEHICLE_RENDER_SCORCHED( l_U3869[0], 1 );
                        SET_VEHICLE_RENDER_SCORCHED( l_U3869[1], 1 );
                        SET_RENDER_TRAIN_AS_DERAILED( l_U3869[0], 1 );
                        SET_RENDER_TRAIN_AS_DERAILED( l_U3869[1], 1 );
                        SET_RENDER_TRAIN_AS_DERAILED( l_U3869[4], 1 );
                        PLAY_SOUND_FROM_VEHICLE( -1, "Y4_MONEY_TRAIN_CRASH", l_U3869[2] );
                        SET_TRAIN_CRUISE_SPEED( l_U3869[0], 11 );
                        SET_TRAIN_SPEED( l_U3869[0], 11 );
                        SET_TRAIN_CRUISE_SPEED( l_U3869[1], 11 );
                        SET_TRAIN_SPEED( l_U3869[1], 11 );
                        SET_TRAIN_CRUISE_SPEED( l_U3869[4], 11 );
                        SET_TRAIN_SPEED( l_U3869[4], 11 );
                        SHAKE_PAD( 0, 400, 50 );
                        l_U4063[0] = 1;
                    }
                }
                if ((l_U4629 - l_U4630) > 5000)
                {
                    if (l_U4063[1] == 0)
                    {
                        GET_CAR_COORDINATES( l_U3869[1], ref l_U4289._fU0, ref l_U4289._fU4, ref l_U4289._fU8 );
                        ADD_EXPLOSION( l_U4289._fU0, l_U4289._fU4, l_U4289._fU8, 6, 1, 1, 0, 1065353216 );
                        SHAKE_PAD( 0, 400, 50 );
                        if (NOT (IS_CAR_DEAD( l_U3912 )))
                        {
                            EXPLODE_CAR( l_U3912, 1, 0 );
                        }
                        l_U4063[1] = 1;
                    }
                }
                if ((l_U4629 - l_U4630) > 5750)
                {
                    if (l_U4063[2] == 0)
                    {
                        GET_CAR_COORDINATES( l_U3869[0], ref l_U4289._fU0, ref l_U4289._fU4, ref l_U4289._fU8 );
                        ADD_EXPLOSION( l_U4289._fU0, l_U4289._fU4, l_U4289._fU8, 6, 1, 1, 0, 1065353216 );
                        ADD_EXPLOSION( l_U4289._fU0, l_U4289._fU4 - 4, l_U4289._fU8, 6, 1, 1, 0, 1065353216 );
                        GET_CAR_COORDINATES( l_U3869[1], ref l_U4289._fU0, ref l_U4289._fU4, ref l_U4289._fU8 );
                        ADD_EXPLOSION( l_U4289._fU0, l_U4289._fU4 + 2, l_U4289._fU8, 6, 1, 1, 0, 1065353216 );
                        SET_TRAIN_CRUISE_SPEED( l_U3869[0], 8 );
                        SET_TRAIN_SPEED( l_U3869[0], 8 );
                        SET_TRAIN_CRUISE_SPEED( l_U3869[1], 8 );
                        SET_TRAIN_SPEED( l_U3869[1], 8 );
                        SET_TRAIN_CRUISE_SPEED( l_U3869[4], 8 );
                        SET_TRAIN_SPEED( l_U3869[4], 8 );
                        SHAKE_PAD( 0, 400, 50 );
                        if (NOT (IS_CAR_DEAD( l_U3912 )))
                        {
                            EXPLODE_CAR( l_U3912, 1, 0 );
                        }
                        l_U4063[2] = 1;
                    }
                }
                if ((l_U4629 - l_U4630) > 7000)
                {
                    if (l_U4063[3] == 0)
                    {
                        GET_CAR_COORDINATES( l_U3869[1], ref l_U4289._fU0, ref l_U4289._fU4, ref l_U4289._fU8 );
                        ADD_EXPLOSION( l_U4289._fU0, l_U4289._fU4 + 2, l_U4289._fU8, 6, 1, 1, 0, 1065353216 );
                        l_U4063[3] = 1;
                    }
                }
                if ((l_U4629 - l_U4630) > 7250)
                {
                    if (l_U4063[4] == 0)
                    {
                        if (NOT (IS_CAR_DEAD( l_U3912 )))
                        {
                            EXPLODE_CAR( l_U3912, 1, 0 );
                        }
                        if (NOT (IS_CHAR_INJURED( sub_4345() )))
                        {
                            SET_PLAYER_FAST_RELOAD( sub_4399(), 0 );
                            if (IS_PED_ATTACHED_TO_ANY_CAR( sub_4345() ))
                            {
                                DETACH_PED( sub_4345(), 0 );
                            }
                            if (GET_CHAR_MOVEMENT_ANIMS_BLOCKED( sub_4345() ))
                            {
                                SET_CHAR_MOVEMENT_ANIMS_BLOCKED( sub_4345(), 0 );
                            }
                            SET_PLAYER_FAST_RELOAD( sub_4399(), 0 );
                            SET_PLAYER_DISABLE_JUMP( sub_4399(), 0 );
                            SET_CHAR_INVINCIBLE( sub_4345(), 0 );
                            SET_PLAYER_CONTROL( sub_4399(), 1 );
                            BLOCK_PED_WEAPON_SWITCHING( sub_4345(), 0 );
                            SET_CHAR_DUCKING( sub_4345(), 0 );
                            FREEZE_CHAR_POSITION( sub_4345(), 0 );
                            CLEAR_CHAR_TASKS( sub_4345() );
                            SWITCH_PED_TO_RAGDOLL( sub_4345(), 1, 100, 1, 1, 1, 0 );
                            if (IS_PED_RAGDOLL( sub_4345() ))
                            {
                                CREATE_NM_MESSAGE( 1, 246 );
                                SEND_NM_MESSAGE( sub_4345() );
                                APPLY_FORCE_TO_PED( sub_4345(), 1, 0, -2, 0, 0, 0, 0, 0, 0, 0, 1 );
                            }
                            DAMAGE_CHAR( sub_4345(), 201, 1 );
                        }
                        l_U4063[4] = 1;
                    }
                }
            }
            break;
            case 4:
            l_U4219 = 0;
            l_U4220 = 0;
            if (l_U4190 == 1)
            {
                if (NOT (DOES_CAM_EXIST( l_U3931 )))
                {
                    CREATE_CAM( 14, ref l_U3931 );
                    if (l_U4737 == 0)
                    {
                        if (IS_VEH_DRIVEABLE( l_U3869[l_U4737] ))
                        {
                            ATTACH_CAM_TO_VEHICLE( l_U3931, l_U3869[l_U4737] );
                            SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U3931, 1 );
                        }
                    }
                    else if (l_U4737 == 1)
                    {
                        if (IS_VEH_DRIVEABLE( l_U3869[l_U4737] ))
                        {
                            ATTACH_CAM_TO_VEHICLE( l_U3931, l_U3869[l_U4737] );
                            SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U3931, 1 );
                        }
                    }
                    else if (l_U4737 == 2)
                    {
                        if (IS_VEH_DRIVEABLE( l_U3869[l_U4737] ))
                        {
                            ATTACH_CAM_TO_VEHICLE( l_U3931, l_U3869[l_U4737] );
                            SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U3931, 1 );
                        }
                    }
                    else if (l_U4737 == 3)
                    {
                        if (IS_VEH_DRIVEABLE( l_U3912 ))
                        {
                            ATTACH_CAM_TO_VEHICLE( l_U3931, l_U3912 );
                            SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U3931, 1 );
                        }
                    };;;;
                    if (l_U4738 == 1)
                    {
                        if (IS_VEH_DRIVEABLE( l_U3869[0] ))
                        {
                            POINT_CAM_AT_VEHICLE( l_U3931, l_U3869[0] );
                            SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U3931, 1 );
                        }
                        SET_CAM_POINT_OFFSET( l_U3931, l_U4608._fU0, l_U4608._fU4, l_U4608._fU8 );
                    }
                    else if (l_U4738 == 2)
                    {
                        if (IS_VEH_DRIVEABLE( l_U3869[1] ))
                        {
                            POINT_CAM_AT_VEHICLE( l_U3931, l_U3869[1] );
                            SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U3931, 1 );
                        }
                        SET_CAM_POINT_OFFSET( l_U3931, l_U4608._fU0, l_U4608._fU4, l_U4608._fU8 );
                    }
                    else if (l_U4738 == 3)
                    {
                        if (IS_VEH_DRIVEABLE( l_U3912 ))
                        {
                            POINT_CAM_AT_VEHICLE( l_U3931, l_U3912 );
                            SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U3931, 1 );
                        }
                        SET_CAM_POINT_OFFSET( l_U3931, l_U4608._fU0, l_U4608._fU4, l_U4608._fU8 );
                    }
                    else if (l_U4738 == 4)
                    {
                        if (NOT (IS_CHAR_INJURED( sub_4345() )))
                        {
                            POINT_CAM_AT_PED( l_U3931, sub_4345() );
                            SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U3931, 0 );
                        }
                        SET_CAM_POINT_OFFSET( l_U3931, l_U4608._fU0, l_U4608._fU4, l_U4608._fU8 );
                    };;;;
                    SET_CAM_ACTIVE( l_U3931, 1 );
                    SET_CAM_PROPAGATE( l_U3931, 1 );
                    ACTIVATE_SCRIPTED_CAMS( 1, 1 );
                }
                else if (l_U4738 == 0)
                {
                    SET_CAM_ROT( l_U3931, l_U4602._fU0, l_U4602._fU4, l_U4602._fU8 );
                }
                else
                {
                    SET_CAM_POINT_OFFSET( l_U3931, l_U4608._fU0, l_U4608._fU4, l_U4608._fU8 );
                }
                SET_CAM_ATTACH_OFFSET( l_U3931, l_U4584._fU0, l_U4584._fU4, l_U4584._fU8 );
                SET_CAM_FOV( l_U3931, l_U4868 );;
            }
            l_U4187 = 1;
            if (l_U4175 == 1)
            {
                sub_14568();
            }
            if (NOT (IS_CHAR_INJURED( sub_4345() )))
            {
                SET_PED_WINDY_CLOTHING_SCALE( sub_4345(), 0.50000000 );
            }
            if (NOT (IS_CHAR_INJURED( sub_4345() )))
            {
                GET_CHAR_COORDINATES( sub_4345(), ref l_U4566._fU0, ref l_U4566._fU4, ref l_U4566._fU8 );
                SET_FAKE_WANTED_CIRCLE( l_U4566._fU0, l_U4566._fU4, 330 );
            }
            if (l_U4078[1] == 1)
            {
                if (sub_116661())
                {
                    if (l_U4736 < 4)
                    {
                        l_U4239 = 1;
                    }
                }
            }
            if (l_U4239 == 1)
            {
                l_U4736 = -1;
                if (IS_SCREEN_FADED_IN())
                {
                    DO_SCREEN_FADE_OUT( 500 );
                    while (IS_SCREEN_FADING_OUT())
                    {
                        WAIT( 0 );
                    }
                }
                l_U4727 = 99;
                while (sub_44766())
                {
                    sub_4113( ref l_U4908, 0 );
                    WAIT( 0 );
                }
                SET_USE_HIGHDOF( 0 );
                if (l_U4194[3] == 1)
                {
                    STOP_SOUND( l_U4658[3] );
                    RELEASE_SOUND_ID( l_U4658[3] );
                    l_U4194[3] = 0;
                }
                SET_WIDESCREEN_BORDERS( 0 );
                if (DOES_VEHICLE_EXIST( l_U3904[5] ))
                {
                    if (DOES_CHAR_EXIST( l_U3776[5] ))
                    {
                        MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3776[5] );
                    }
                    if (DOES_CHAR_EXIST( l_U3776[6] ))
                    {
                        MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3776[6] );
                    }
                    if (DOES_CHAR_EXIST( l_U3776[7] ))
                    {
                        MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3776[7] );
                    }
                    if (DOES_CHAR_EXIST( l_U3776[8] ))
                    {
                        MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3776[8] );
                    }
                    if (DOES_VEHICLE_EXIST( l_U3904[5] ))
                    {
                        MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U3904[5] );
                    }
                }
                if (DOES_BLIP_EXIST( l_U3920 ))
                {
                    REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3920 );
                }
                if (DOES_BLIP_EXIST( l_U3923 ))
                {
                    REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3923 );
                }
                if (DOES_OBJECT_EXIST( l_U3913 ))
                {
                    DELETE_OBJECT( ref l_U3913 );
                }
                if (DOES_BLIP_EXIST( l_U3921 ))
                {
                    REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3921 );
                }
                if (DOES_BLIP_EXIST( l_U3920 ))
                {
                    REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3920 );
                }
                if (DOES_BLIP_EXIST( l_U3923 ))
                {
                    REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3923 );
                }
                ACTIVATE_SCRIPTED_CAMS( 0, 0 );
                if (DOES_CAM_EXIST( l_U3926 ))
                {
                    DESTROY_CAM( l_U3926 );
                }
                if (NOT (IS_CHAR_INJURED( sub_4345() )))
                {
                    if (IS_PED_ATTACHED_TO_ANY_CAR( sub_4345() ))
                    {
                        DETACH_PED( sub_4345(), 0 );
                    }
                    else
                    {
                        CLEAR_CHAR_TASKS_IMMEDIATELY( sub_4345() );
                        if (GET_CHAR_MOVEMENT_ANIMS_BLOCKED( sub_4345() ))
                        {
                            SET_CHAR_MOVEMENT_ANIMS_BLOCKED( sub_4345(), 0 );
                        }
                        sub_3863();
                        BLOCK_PED_WEAPON_SWITCHING( sub_4345(), 0 );
                        SET_PLAYER_DISABLE_JUMP( sub_4399(), 0 );
                        SET_WIDESCREEN_BORDERS( 0 );
                        ACTIVATE_SCRIPTED_CAMS( 0, 0 );
                        SET_CAM_BEHIND_PED( sub_4345() );
                        CLEAR_AREA_OF_CHARS( 1462.50000000, 898.70000000, 15, 100 );
                        SET_CHAR_COORDINATES( sub_4345(), 1498.80900000, 917.97830000, 14.50000000 );
                        SET_CHAR_HEADING( sub_4345(), 208.42190000 );
                        SET_CAM_BEHIND_PED( sub_4345() );
                        SET_PLAYER_MOOD_NORMAL( sub_4399() );
                        SET_PED_IS_BLIND_RAGING( sub_4345(), 0 );
                    }
                }
                if (DOES_VEHICLE_EXIST( l_U3869[0] ))
                {
                    if (IS_VEH_DRIVEABLE( l_U3869[0] ))
                    {
                        if (IS_CAR_ATTACHED( l_U3869[0] ))
                        {
                            DETACH_CAR( l_U3869[0] );
                        }
                        else
                        {
                            DELETE_CAR( ref l_U3869[0] );
                        }
                    }
                }
                if (DOES_CHAR_EXIST( l_U3775 ))
                {
                    DELETE_CHAR( ref l_U3775 );
                }
                if (DOES_VEHICLE_EXIST( l_U3912 ))
                {
                    DELETE_CAR( ref l_U3912 );
                }
                FORCE_HIGH_LOD( 0 );
                if ((NOT (DOES_CHAR_EXIST( l_U3775 ))) AND ((LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), 1498.80900000, 917.97830000, 15.33790000, 10, 10, 10, 0 )) AND ((NOT (DOES_VEHICLE_EXIST( l_U3869[0] ))) AND (NOT (DOES_VEHICLE_EXIST( l_U3912 ))))))
                {
                    GET_GAME_TIMER( ref l_U4631 );
                    LOAD_SCENE( 1498.80900000, 917.97830000, 14.50000000 );
                    SET_PLAYER_CONTROL( sub_4399(), 1 );
                    WAIT( 500 );
                    l_U4736 = 7;
                }
            }
            if (DOES_CHAR_EXIST( l_U3775 ))
            {
                if (IS_CHAR_INJURED( l_U3775 ))
                {
                    l_U4709 = 4;
                    sub_24116();
                }
            }
            if (DOES_VEHICLE_EXIST( l_U3912 ))
            {
                if (NOT (IS_VEH_DRIVEABLE( l_U3912 )))
                {
                    l_U4709 = 4;
                    sub_24116();
                }
            }
            switch (l_U4736)
            {
                case 0:
                if (l_U4194[3] == 1)
                {
                    STOP_SOUND( l_U4658[3] );
                    RELEASE_SOUND_ID( l_U4658[3] );
                    l_U4194[3] = 0;
                }
                SET_WIDESCREEN_BORDERS( 1 );
                SET_CAMERA_CONTROLS_DISABLED_WITH_PLAYER_CONTROLS( 1 );
                if (NOT (IS_CHAR_INJURED( sub_4345() )))
                {
                    HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_4345(), 1 );
                }
                l_U4076 = 0;
                if (DOES_VEHICLE_EXIST( l_U3904[5] ))
                {
                    if (DOES_CHAR_EXIST( l_U3776[5] ))
                    {
                        MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3776[5] );
                    }
                    if (DOES_CHAR_EXIST( l_U3776[6] ))
                    {
                        MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3776[6] );
                    }
                    if (DOES_CHAR_EXIST( l_U3776[7] ))
                    {
                        MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3776[7] );
                    }
                    if (DOES_CHAR_EXIST( l_U3776[8] ))
                    {
                        MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3776[8] );
                    }
                    if (DOES_VEHICLE_EXIST( l_U3904[5] ))
                    {
                        MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U3904[5] );
                    }
                }
                if (DOES_BLIP_EXIST( l_U3920 ))
                {
                    REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3920 );
                }
                if (DOES_BLIP_EXIST( l_U3923 ))
                {
                    REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3923 );
                }
                if (DOES_OBJECT_EXIST( l_U3913 ))
                {
                    DELETE_OBJECT( ref l_U3913 );
                }
                if (sub_113408())
                {
                    sub_62014();
                }
                if (DOES_BLIP_EXIST( l_U3921 ))
                {
                    REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3921 );
                }
                if (DOES_BLIP_EXIST( l_U3920 ))
                {
                    REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3920 );
                }
                if (DOES_BLIP_EXIST( l_U3923 ))
                {
                    REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3923 );
                }
                GET_GAME_TIMER( ref l_U4629 );
                if ((l_U4629 - l_U4675) > 2000)
                {
                    if ((IS_VEH_DRIVEABLE( l_U3869[0] )) AND (NOT (IS_CHAR_INJURED( sub_4345() ))))
                    {
                        if ((l_U4121 == 0) AND ((l_U4062 == 0) AND (NOT (IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "uncouple_train" )))))
                        {
                            OPEN_SEQUENCE_TASK( ref l_U4902 );
                            TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "uncouple_train", "missyusuf04", 4.00000000, 0, 0, 0, 1, -1 );
                            TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "hang_on", "missyusuf04", 1000.00000000, 1, 0, 0, 0, -1 );
                            CLOSE_SEQUENCE_TASK( l_U4902 );
                            TASK_PERFORM_SEQUENCE( sub_4345(), l_U4902 );
                            CLEAR_SEQUENCE_TASK( l_U4902 );
                            ATTACH_PED_TO_CAR( sub_4345(), l_U3869[0], 0, 0, -8.00000000, 3.70000000, 0, 0, 1, 0 );
                            SET_CHAR_INVINCIBLE( sub_4345(), 1 );
                            SET_PLAYER_CONTROL_ADVANCED( sub_4399(), 0, 0, 1 );
                            l_U4858 = 0;
                            l_U4121 = 1;
                        }
                        if (((l_U4629 - l_U4675) < 5000) AND ((l_U4629 - l_U4675) > 4000))
                        {
                            if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND (NOT IS_MESSAGE_BEING_DISPLAYED())))
                            {
                                sub_16284( "E2Y4_GRUNT", ref l_U4908, 5, 1 );
                            }
                        }
                        if (l_U4121 == 1)
                        {
                            if (IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "uncouple_train" ))
                            {
                                GET_CHAR_ANIM_CURRENT_TIME( sub_4345(), "missyusuf04", "uncouple_train", ref l_U4858 );
                            }
                            if (l_U4078[0] == 0)
                            {
                                if (l_U4858 < 0.25900000)
                                {
                                    if ((NOT (IS_CHAR_INJURED( sub_4345() ))) AND (IS_VEH_DRIVEABLE( l_U3869[0] )))
                                    {
                                        if (NOT (DOES_CAM_EXIST( l_U3926 )))
                                        {
                                            CREATE_CAM( 14, ref l_U3926 );
                                            ATTACH_CAM_TO_VEHICLE( l_U3926, l_U3869[0] );
                                            SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U3926, 1 );
                                            SET_CAM_ATTACH_OFFSET( l_U3926, 9.55000000, -13.65000000, 3.60000000 );
                                            POINT_CAM_AT_PED( l_U3926, sub_4345() );
                                            SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U3926, 1 );
                                            SET_CAM_POINT_OFFSET( l_U3926, 0, 0, -1.15000000 );
                                            SET_CAM_FOV( l_U3926, 35.40000000 );
                                            SET_CAM_ACTIVE( l_U3926, 1 );
                                            SET_CAM_PROPAGATE( l_U3926, 1 );
                                            ACTIVATE_SCRIPTED_CAMS( 1, 1 );
                                            SET_USE_HIGHDOF( 1 );
                                            SET_CAM_FAR_DOF( l_U3926, 150 );
                                            SET_CAM_NEAR_DOF( l_U3926, 0 );
                                            l_U4078[0] = 1;
                                        }
                                    }
                                }
                            }
                            if (l_U4078[1] == 0)
                            {
                                if ((l_U4858 < 0.38000000) AND (l_U4858 > 0.25900000))
                                {
                                    if (DOES_CAM_EXIST( l_U3926 ))
                                    {
                                        SET_CAM_ATTACH_OFFSET( l_U3926, 2.41500000, -9.65500000, 4.89000000 );
                                        POINT_CAM_AT_PED( l_U3926, sub_4345() );
                                        SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U3926, 1 );
                                        SET_CAM_POINT_OFFSET( l_U3926, 2, -1, 0.06500000 );
                                        SET_CAM_FOV( l_U3926, 35.40000000 );
                                        SET_USE_HIGHDOF( 0 );
                                        l_U4078[1] = 1;
                                    }
                                }
                            }
                            if (l_U4078[2] == 0)
                            {
                                if ((l_U4858 < 0.72000000) AND (l_U4858 > 0.45000000))
                                {
                                    if (NOT (IS_CHAR_INJURED( l_U3775 )))
                                    {
                                        if (sub_3929( l_U4908 ))
                                        {
                                            if (l_U4124[16] == 0)
                                            {
                                                sub_4113( ref l_U4908, 0 );
                                                l_U4727 = 16;
                                            }
                                        }
                                        else if (l_U4124[16] == 0)
                                        {
                                            l_U4727 = 16;
                                        }
                                    }
                                    if ((IS_VEH_DRIVEABLE( l_U3869[0] )) AND ((IS_VEH_DRIVEABLE( l_U3912 )) AND (DOES_CAM_EXIST( l_U3926 ))))
                                    {
                                        GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( l_U3912, 65516, 33, 17, ref l_U4611._fU0, ref l_U4611._fU4, ref l_U4611._fU8 );
                                        UNATTACH_CAM( l_U3926 );
                                        SET_CAM_POS( l_U3926, l_U4611._fU0, l_U4611._fU4, l_U4611._fU8 );
                                        POINT_CAM_AT_VEHICLE( l_U3926, l_U3869[0] );
                                        SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U3926, 1 );
                                        SET_CAM_POINT_OFFSET( l_U3926, 0, 1, 0 );
                                        SET_CAM_FOV( l_U3926, 50 );
                                        SET_USE_HIGHDOF( 0 );
                                        l_U4078[2] = 1;
                                    }
                                }
                            }
                            if (l_U4078[3] == 0)
                            {
                                if ((l_U4858 < 0.81000000) AND (l_U4858 > 0.72000000))
                                {
                                    if ((NOT (IS_CHAR_INJURED( sub_4345() ))) AND ((IS_VEH_DRIVEABLE( l_U3869[0] )) AND (DOES_CAM_EXIST( l_U3926 ))))
                                    {
                                        ATTACH_CAM_TO_VEHICLE( l_U3926, l_U3869[0] );
                                        SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U3926, 1 );
                                        SET_CAM_ATTACH_OFFSET( l_U3926, 2.80000000, -9.10000000, 1.60000000 );
                                        POINT_CAM_AT_VEHICLE( l_U3926, l_U3869[0] );
                                        SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U3926, 1 );
                                        SET_CAM_POINT_OFFSET( l_U3926, 0, -9.00000000, 1.50000000 );
                                        SET_CAM_FOV( l_U3926, 26 );
                                        SET_USE_HIGHDOF( 1 );
                                        SET_CAM_FAR_DOF( l_U3926, 10 );
                                        SET_CAM_NEAR_DOF( l_U3926, 0 );
                                        CLEAR_AREA( l_U4611._fU0, l_U4611._fU4, l_U4611._fU8, 1000, 1 );
                                        l_U4078[3] = 1;
                                    }
                                }
                            }
                            if (l_U4078[4] == 0)
                            {
                                if ((l_U4858 < 0.88000000) AND (l_U4858 > 0.81000000))
                                {
                                    if ((NOT (IS_CHAR_INJURED( sub_4345() ))) AND ((IS_VEH_DRIVEABLE( l_U3869[0] )) AND (DOES_CAM_EXIST( l_U3926 ))))
                                    {
                                        ATTACH_CAM_TO_VEHICLE( l_U3926, l_U3869[0] );
                                        SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U3926, 1 );
                                        SET_CAM_ATTACH_OFFSET( l_U3926, 1.69000000, -8.65500000, 3.71000000 );
                                        POINT_CAM_AT_PED( l_U3926, sub_4345() );
                                        SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U3926, 1 );
                                        SET_CAM_POINT_OFFSET( l_U3926, 0.60000000, 0, -2.54500000 );
                                        SET_CAM_FOV( l_U3926, 45 );
                                        SET_CAM_FAR_DOF( l_U3926, 150 );
                                        SET_CAM_NEAR_DOF( l_U3926, 0 );
                                        for ( l_U4618 = 0; l_U4618 <= 4; l_U4618++ )
                                        {
                                            if (DOES_VEHICLE_EXIST( l_U3892[l_U4618] ))
                                            {
                                                if (IS_VEH_DRIVEABLE( l_U3892[l_U4618] ))
                                                {
                                                    for ( l_U4757 = 0; l_U4757 <= 2; l_U4757++ )
                                                    {
                                                        if (NOT (IS_CAR_PASSENGER_SEAT_FREE( l_U3892[l_U4618], l_U4757 )))
                                                        {
                                                            GET_CHAR_IN_CAR_PASSENGER_SEAT( l_U3892[l_U4618], l_U4757, ref l_U3868 );
                                                            if (DOES_CHAR_EXIST( l_U3868 ))
                                                            {
                                                                DELETE_CHAR( ref l_U3868 );
                                                            }
                                                        }
                                                    }
                                                    GET_DRIVER_OF_CAR( l_U3892[l_U4618], ref l_U3868 );
                                                    if (DOES_CHAR_EXIST( l_U3868 ))
                                                    {
                                                        DELETE_CHAR( ref l_U3868 );
                                                    }
                                                    if (NOT (IS_CAR_ON_SCREEN( l_U3892[l_U4618] )))
                                                    {
                                                        DELETE_CAR( ref l_U3892[l_U4618] );
                                                    }
                                                }
                                                else
                                                {
                                                    DELETE_CAR( ref l_U3892[l_U4618] );
                                                }
                                            }
                                        }
                                        for ( l_U4618 = 0; l_U4618 <= 6; l_U4618++ )
                                        {
                                            if (DOES_VEHICLE_EXIST( l_U3904[l_U4618] ))
                                            {
                                                if (IS_VEH_DRIVEABLE( l_U3904[l_U4618] ))
                                                {
                                                    for ( l_U4757 = 0; l_U4757 <= 2; l_U4757++ )
                                                    {
                                                        if (NOT (IS_CAR_PASSENGER_SEAT_FREE( l_U3904[l_U4618], l_U4757 )))
                                                        {
                                                            GET_CHAR_IN_CAR_PASSENGER_SEAT( l_U3904[l_U4618], l_U4757, ref l_U3868 );
                                                            if (DOES_CHAR_EXIST( l_U3868 ))
                                                            {
                                                                DELETE_CHAR( ref l_U3868 );
                                                            }
                                                        }
                                                    }
                                                    GET_DRIVER_OF_CAR( l_U3904[l_U4618], ref l_U3868 );
                                                    if (DOES_CHAR_EXIST( l_U3868 ))
                                                    {
                                                        DELETE_CHAR( ref l_U3868 );
                                                    }
                                                    if (NOT (IS_CAR_ON_SCREEN( l_U3904[l_U4618] )))
                                                    {
                                                        DELETE_CAR( ref l_U3904[l_U4618] );
                                                    }
                                                }
                                                else
                                                {
                                                    DELETE_CAR( ref l_U3904[l_U4618] );
                                                }
                                            }
                                        }
                                        l_U4078[4] = 1;
                                    }
                                }
                            }
                            if (l_U4078[5] == 0)
                            {
                                if (l_U4858 > 0.88000000)
                                {
                                    if ((IS_VEH_DRIVEABLE( l_U3869[1] )) AND ((IS_VEH_DRIVEABLE( l_U3869[0] )) AND (DOES_CAM_EXIST( l_U3926 ))))
                                    {
                                        ATTACH_CAM_TO_VEHICLE( l_U3926, l_U3869[1] );
                                        SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U3926, 1 );
                                        SET_CAM_ATTACH_OFFSET( l_U3926, 0, 6.05500000, 3.33000000 );
                                        POINT_CAM_AT_VEHICLE( l_U3926, l_U3869[0] );
                                        SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U3926, 1 );
                                        SET_CAM_POINT_OFFSET( l_U3926, 0, 0, 1.35000000 );
                                        SET_CAM_FOV( l_U3926, 45 );
                                        l_U4078[5] = 1;
                                    }
                                    PLAY_SOUND_FROM_PED( -1, "Y4_MONEY_TRAIN_UNCOUPLE_CARRIAGE", sub_4345() );
                                    if (l_U4124[19] == 0)
                                    {
                                        l_U4727 = 19;
                                    }
                                    l_U4077 = 1;
                                    l_U4062 = 1;
                                    l_U4078[5] = 1;
                                    l_U4736++;
                                }
                            }
                            if ((DOES_VEHICLE_EXIST( l_U3869[0] )) AND (DOES_VEHICLE_EXIST( l_U3912 )))
                            {
                                if ((IS_VEH_DRIVEABLE( l_U3869[0] )) AND (IS_VEH_DRIVEABLE( l_U3912 )))
                                {
                                    if (LOCATE_CAR_3D( l_U3912, 1401.48000000, 800.45000000, 49.50000000, 70, 70, 70, 0 ))
                                    {
                                        if (sub_3929( l_U4908 ))
                                        {
                                            if (l_U4124[20] == 0)
                                            {
                                                sub_4113( ref l_U4908, 0 );
                                                l_U4727 = 20;
                                            }
                                        }
                                        else if (l_U4124[20] == 0)
                                        {
                                            l_U4727 = 20;
                                        }
                                    }
                                }
                            }
                            if ((DOES_VEHICLE_EXIST( l_U3869[0] )) AND (DOES_VEHICLE_EXIST( l_U3912 )))
                            {
                                if ((IS_VEH_DRIVEABLE( l_U3869[0] )) AND (IS_VEH_DRIVEABLE( l_U3912 )))
                                {
                                    if (LOCATE_CAR_3D( l_U3912, 1401.48000000, 800.45000000, 49.50000000, 23, 23, 23, 0 ))
                                    {
                                        if (l_U4078[9] == 0)
                                        {
                                            if (DOES_CAM_EXIST( l_U3926 ))
                                            {
                                                UNATTACH_CAM( l_U3926 );
                                                SET_CAM_POS( l_U3926, 1401.86000000, 828.00000000, 45.30000000 );
                                                POINT_CAM_AT_VEHICLE( l_U3926, l_U3869[0] );
                                                SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U3926, 1 );
                                                SET_CAM_POINT_OFFSET( l_U3926, 0.00000000, 7, 0.56000000 );
                                                SET_CAM_FOV( l_U3926, 58 );
                                                l_U4078[9] = 1;
                                            }
                                        }
                                        ADD_SCENARIO_BLOCKING_AREA( 1420, 858, 0, 1500, 950, 60 );
                                        l_U4078[6] = 1;
                                        l_U4078[7] = 1;
                                        l_U4078[8] = 1;
                                        l_U4736++;
                                    }
                                }
                            }
                        }
                    }
                }
                break;
                case 1:
                if ((DOES_VEHICLE_EXIST( l_U3869[4] )) AND ((DOES_VEHICLE_EXIST( l_U3869[1] )) AND ((DOES_VEHICLE_EXIST( l_U3869[0] )) AND (DOES_VEHICLE_EXIST( l_U3912 )))))
                {
                    if ((NOT (IS_CHAR_INJURED( sub_4345() ))) AND ((IS_VEH_DRIVEABLE( l_U3869[4] )) AND ((IS_VEH_DRIVEABLE( l_U3869[1] )) AND ((IS_VEH_DRIVEABLE( l_U3869[0] )) AND (IS_VEH_DRIVEABLE( l_U3912 ))))))
                    {
                        if (IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "uncouple_train" ))
                        {
                            SET_CHAR_ANIM_CURRENT_TIME( sub_4345(), "missyusuf04", "uncouple_train", 0.99000000 );
                        }
                        ATTACH_PED_TO_CAR( sub_4345(), l_U3869[l_U4623], 0, 0.05000000, -8.85000100, 1.00000000, 0, 0, 1, 0 );
                        SET_TRAIN_SPEED( l_U3869[0], 14 );
                        SET_TRAIN_CRUISE_SPEED( l_U3869[0], 14 );
                        SET_TRAIN_SPEED( l_U3869[1], 11 );
                        SET_TRAIN_CRUISE_SPEED( l_U3869[1], 11 );
                        SET_TRAIN_SPEED( l_U3869[4], 11 );
                        SET_TRAIN_CRUISE_SPEED( l_U3869[4], 11 );
                        l_U4858 = 0;
                        ADD_SCENARIO_BLOCKING_AREA( 1420, 858, 0, 1500, 950, 60 );
                        l_U4736++;
                    }
                }
                break;
                case 2:
                CLEAR_AREA_OF_CHARS( 1462.50000000, 898.70000000, 15, 100 );
                if (l_U4078[9] == 0)
                {
                    if (NOT (IS_CHAR_INJURED( sub_4345() )))
                    {
                        if (IS_VEH_DRIVEABLE( l_U3869[0] ))
                        {
                            if (IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "hang_on" ))
                            {
                                GET_CHAR_ANIM_CURRENT_TIME( sub_4345(), "missyusuf04", "hang_on", ref l_U4858 );
                                if (l_U4078[6] == 0)
                                {
                                    if ((l_U4858 < 0.90000000) AND (l_U4858 > 0.50000000))
                                    {
                                        if ((NOT (IS_CHAR_INJURED( sub_4345() ))) AND ((IS_VEH_DRIVEABLE( l_U3869[0] )) AND (DOES_CAM_EXIST( l_U3926 ))))
                                        {
                                            ATTACH_CAM_TO_VEHICLE( l_U3926, l_U3869[0] );
                                            SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U3926, 1 );
                                            SET_CAM_ATTACH_OFFSET( l_U3926, 2.50000000, -11.26500000, 0.69000000 );
                                            POINT_CAM_AT_PED( l_U3926, sub_4345() );
                                            SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U3926, 1 );
                                            SET_CAM_POINT_OFFSET( l_U3926, 0.90000000, 0, 0.56000000 );
                                            SET_CAM_FOV( l_U3926, 45 );
                                            l_U4078[6] = 1;
                                        }
                                    }
                                }
                                if (l_U4078[7] == 0)
                                {
                                    if (l_U4858 > 0.90000000)
                                    {
                                        if ((IS_VEH_DRIVEABLE( l_U3869[0] )) AND (DOES_CAM_EXIST( l_U3926 )))
                                        {
                                            GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( l_U3869[0], 0, 63, -0.50000000, ref l_U4611._fU0, ref l_U4611._fU4, ref l_U4611._fU8 );
                                            UNATTACH_CAM( l_U3926 );
                                            SET_CAM_POS( l_U3926, l_U4611._fU0, l_U4611._fU4, l_U4611._fU8 );
                                            POINT_CAM_AT_VEHICLE( l_U3926, l_U3869[0] );
                                            SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U3926, 1 );
                                            SET_CAM_POINT_OFFSET( l_U3926, 0, 0, 15 );
                                            SET_CAM_FOV( l_U3926, 58 );
                                            l_U4078[7] = 1;
                                        }
                                    }
                                }
                                if (l_U4078[8] == 0)
                                {
                                    GET_CAR_COORDINATES( l_U3869[0], ref l_U4289._fU0, ref l_U4289._fU4, ref l_U4289._fU8 );
                                    GET_DISTANCE_BETWEEN_COORDS_3D( l_U4611._fU0, l_U4611._fU4, l_U4611._fU8, l_U4289._fU0, l_U4289._fU4, l_U4289._fU8, ref l_U4862 );
                                    if (l_U4862 < 23)
                                    {
                                        if (DOES_CAM_EXIST( l_U3926 ))
                                        {
                                            ATTACH_CAM_TO_VEHICLE( l_U3926, l_U3869[0] );
                                            SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U3926, 1 );
                                            SET_CAM_ATTACH_OFFSET( l_U3926, 4.50000000, -16.50000000, 1.10000000 );
                                            POINT_CAM_AT_VEHICLE( l_U3926, l_U3869[0] );
                                            SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U3926, 1 );
                                            SET_CAM_POINT_OFFSET( l_U3926, 0, -5, 3.30000000 );
                                            SET_CAM_FOV( l_U3926, 50 );
                                            OPEN_SEQUENCE_TASK( ref l_U4902 );
                                            TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "look_out", "missyusuf04", 4.00000000, 0, 0, 0, 0, -1 );
                                            TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "hang_on", "missyusuf04", 1000.00000000, 1, 0, 0, 0, -1 );
                                            CLOSE_SEQUENCE_TASK( l_U4902 );
                                            TASK_PERFORM_SEQUENCE( sub_4345(), l_U4902 );
                                            CLEAR_SEQUENCE_TASK( l_U4902 );
                                            l_U4078[8] = 1;
                                        }
                                    }
                                }
                            }
                        }
                    }
                    if ((DOES_VEHICLE_EXIST( l_U3869[0] )) AND (DOES_VEHICLE_EXIST( l_U3912 )))
                    {
                        if ((IS_VEH_DRIVEABLE( l_U3869[0] )) AND (IS_VEH_DRIVEABLE( l_U3912 )))
                        {
                            if (LOCATE_CAR_3D( l_U3912, 1401.48000000, 800.45000000, 49.50000000, 70, 70, 70, 0 ))
                            {
                                if (l_U4124[20] == 0)
                                {
                                    l_U4727 = 20;
                                }
                            }
                        }
                    }
                }
                if ((DOES_VEHICLE_EXIST( l_U3869[0] )) AND (DOES_VEHICLE_EXIST( l_U3912 )))
                {
                    if ((IS_VEH_DRIVEABLE( l_U3869[0] )) AND (IS_VEH_DRIVEABLE( l_U3912 )))
                    {
                        if (LOCATE_CAR_3D( l_U3912, 1401.48000000, 800.45000000, 49.50000000, 23, 23, 23, 0 ))
                        {
                            if (l_U4078[9] == 0)
                            {
                                if (DOES_CAM_EXIST( l_U3926 ))
                                {
                                    UNATTACH_CAM( l_U3926 );
                                    SET_CAM_POS( l_U3926, 1401.86000000, 828.00000000, 45.30000000 );
                                    POINT_CAM_AT_VEHICLE( l_U3926, l_U3869[0] );
                                    SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U3926, 1 );
                                    SET_CAM_POINT_OFFSET( l_U3926, 0.00000000, 7, 0.56000000 );
                                    SET_CAM_FOV( l_U3926, 58 );
                                    l_U4078[9] = 1;
                                }
                            }
                        }
                    }
                }
                if ((DOES_VEHICLE_EXIST( l_U3869[0] )) AND (DOES_VEHICLE_EXIST( l_U3912 )))
                {
                    if ((IS_VEH_DRIVEABLE( l_U3869[0] )) AND (IS_VEH_DRIVEABLE( l_U3912 )))
                    {
                        if (LOCATE_CAR_3D( l_U3912, 1401.48000000, 800.45000000, 49.50000000, 5, 5, 5, 0 ))
                        {
                            if (l_U4124[25] == 0)
                            {
                                l_U4727 = 25;
                            }
                        }
                    }
                }
                if ((DOES_VEHICLE_EXIST( l_U3869[4] )) AND ((DOES_VEHICLE_EXIST( l_U3869[1] )) AND ((DOES_VEHICLE_EXIST( l_U3869[0] )) AND (DOES_VEHICLE_EXIST( l_U3912 )))))
                {
                    if ((IS_VEH_DRIVEABLE( l_U3869[4] )) AND ((IS_VEH_DRIVEABLE( l_U3869[1] )) AND ((IS_VEH_DRIVEABLE( l_U3869[0] )) AND (IS_VEH_DRIVEABLE( l_U3912 )))))
                    {
                        if (LOCATE_CAR_3D( l_U3912, 1401.48000000, 800.45000000, 49.50000000, 4, 4, 1.10000000, 0 ))
                        {
                            SET_TRAIN_SPEED( l_U3869[1], 8 );
                            SET_TRAIN_CRUISE_SPEED( l_U3869[1], 8 );
                            SET_TRAIN_SPEED( l_U3869[4], 8 );
                            SET_TRAIN_CRUISE_SPEED( l_U3869[4], 8 );
                            ATTACH_CAR_TO_CAR( l_U3869[0], l_U3912, 0, 0, -6.40000000, -2.45000000, 0, 0, 0 );
                            SET_TRAIN_SPEED( l_U3869[0], 0 );
                            SET_TRAIN_CRUISE_SPEED( l_U3869[0], 0 );
                            GET_GAME_TIMER( ref l_U4631 );
                            if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3912 ))
                            {
                                SET_PLAYBACK_SPEED( l_U3912, 0.60000000 );
                            }
                            if (NOT (IS_CHAR_INJURED( sub_4345() )))
                            {
                                SET_CHAR_DUCKING( sub_4345(), 0 );
                            }
                            l_U4858 = 0;
                            l_U4736++;
                        }
                    }
                }
                break;
                case 3:
                CLEAR_AREA_OF_CHARS( 1462.50000000, 898.70000000, 15, 100 );
                GET_GAME_TIMER( ref l_U4629 );
                if ((l_U4629 - l_U4631) > 2700)
                {
                    if (l_U4078[10] == 0)
                    {
                        if ((IS_VEH_DRIVEABLE( l_U3912 )) AND (DOES_CAM_EXIST( l_U3926 )))
                        {
                            UNATTACH_CAM( l_U3926 );
                            SET_USE_HIGHDOF( 0 );
                            SET_CAM_POS( l_U3926, 1464.20600000, 900.26820000, 14.70411000 );
                            SET_CAM_ROT( l_U3926, 14.13473000, 0.00000000, 125.17700000 );
                            SET_CAM_FOV( l_U3926, 58.00000000 );
                            l_U4078[10] = 1;
                        }
                    }
                }
                if ((NOT (IS_CHAR_INJURED( l_U3775 ))) AND (IS_VEH_DRIVEABLE( l_U3912 )))
                {
                    if (LOCATE_CAR_3D( l_U3912, 1411.70000000, 861.53000000, 66.50000000, 5, 5, 5, 0 ))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3912 ))
                        {
                            STOP_PLAYBACK_RECORDED_CAR( l_U3912 );
                            TASK_HELI_MISSION( l_U3775, l_U3912, 0, 0, 1506.80000000, 883.23000000, 18.90000000, 4, 20, 1, -1, 18, 3 );
                            if ((l_U4078[11] == 0) AND ((IS_VEH_DRIVEABLE( l_U3912 )) AND (DOES_CAM_EXIST( l_U3926 ))))
                            {
                                SET_CAM_POS( l_U3926, 1382.64400000, 926.44410000, 58.95085000 );
                                SET_CAM_ROT( l_U3926, -0.28466800, 0.00000000, -140.67320000 );
                                SET_CAM_FOV( l_U3926, 32.29999000 );
                                SET_USE_HIGHDOF( 1 );
                                SET_CAM_FAR_DOF( l_U3926, 100 );
                                SET_CAM_NEAR_DOF( l_U3926, 0 );
                                l_U4078[11] = 1;
                            }
                        }
                    }
                }
                if ((l_U4078[12] == 0) AND ((NOT (IS_CHAR_INJURED( l_U3775 ))) AND (IS_VEH_DRIVEABLE( l_U3912 ))))
                {
                    if ((l_U4629 - l_U4631) > 9300)
                    {
                        if ((IS_VEH_DRIVEABLE( l_U3912 )) AND (DOES_CAM_EXIST( l_U3926 )))
                        {
                            UNATTACH_CAM( l_U3926 );
                            SET_CAM_POS( l_U3926, 1444.21900000, 844.10970000, 53.39596000 );
                            SET_CAM_ROT( l_U3926, 5.07035000, -0.00000000, 27.26581000 );
                            SET_CAM_FOV( l_U3926, 45.00000000 );
                            POINT_CAM_AT_VEHICLE( l_U3926, l_U3912 );
                            SET_CAM_FAR_DOF( l_U3926, 200 );
                            SET_CAM_NEAR_DOF( l_U3926, 0 );
                            l_U4078[12] = 1;
                        }
                    }
                }
                if (l_U4078[13] == 0)
                {
                    if ((l_U4629 - l_U4631) > 12400)
                    {
                        if ((IS_VEH_DRIVEABLE( l_U3869[0] )) AND (NOT (IS_CHAR_INJURED( sub_4345() ))))
                        {
                            if (NOT (IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "jump_off" )))
                            {
                                ATTACH_PED_TO_CAR( sub_4345(), l_U3869[l_U4623], 0, 0.05000000, -8.85000100, 1.00000000, 0, 0, 1, 0 );
                                TASK_PLAY_ANIM_NON_INTERRUPTABLE( sub_4345(), "jump_off", "missyusuf04", 4.00000000, 0, 0, 0, 0, -1 );
                            }
                        }
                        if ((IS_VEH_DRIVEABLE( l_U3912 )) AND (DOES_CAM_EXIST( l_U3926 )))
                        {
                            SET_CAM_POS( l_U3926, 1532.56300000, 902.82580000, 17.18855000 );
                            SET_CAM_ROT( l_U3926, 3.31916000, -0.00000000, 72.08068000 );
                            SET_CAM_FOV( l_U3926, 45.30000000 );
                            POINT_CAM_AT_VEHICLE( l_U3926, l_U3912 );
                            SET_CAM_FAR_DOF( l_U3926, 80 );
                            SET_CAM_NEAR_DOF( l_U3926, 20 );
                            l_U4078[13] = 1;
                        }
                    }
                }
                if (l_U4078[14] == 0)
                {
                    if ((l_U4629 - l_U4631) > 16400)
                    {
                        if ((IS_VEH_DRIVEABLE( l_U3869[0] )) AND (DOES_CAM_EXIST( l_U3926 )))
                        {
                            SET_CAM_POS( l_U3926, 1480.69000000, 931.00110000, 21.92182000 );
                            SET_CAM_ROT( l_U3926, -3.15400400, 0.00000000, -124.03530000 );
                            SET_CAM_FOV( l_U3926, 45.00000000 );
                            POINT_CAM_AT_VEHICLE( l_U3926, l_U3869[0] );
                            SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U3926, 1 );
                            SET_CAM_POINT_OFFSET( l_U3926, 0, -9, 0 );
                            SET_CAM_FAR_DOF( l_U3926, 40 );
                            SET_CAM_NEAR_DOF( l_U3926, 0 );
                            l_U4078[14] = 1;
                        }
                    }
                }
                if (NOT (IS_CHAR_INJURED( sub_4345() )))
                {
                    if (IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "jump_off" ))
                    {
                        GET_CHAR_ANIM_CURRENT_TIME( sub_4345(), "missyusuf04", "jump_off", ref l_U4858 );
                        if (l_U4858 > 0.95000000)
                        {
                            if (IS_VEH_DRIVEABLE( l_U3912 ))
                            {
                                GET_CAR_HEADING( l_U3912, ref l_U4861 );
                            }
                            if (IS_PED_ATTACHED_TO_ANY_CAR( sub_4345() ))
                            {
                                DETACH_PED( sub_4345(), 0 );
                                SET_CHAR_HEADING( sub_4345(), l_U4861 );
                                SET_CHAR_INVINCIBLE( sub_4345(), 0 );
                                l_U4736++;
                            }
                        }
                    }
                }
                break;
                case 4:
                GET_GAME_TIMER( ref l_U4629 );
                if ((NOT (IS_CHAR_INJURED( l_U3775 ))) AND (IS_VEH_DRIVEABLE( l_U3912 )))
                {
                    SET_CHAR_KEEP_TASK( l_U3775, 1 );
                    TASK_HELI_MISSION( l_U3775, l_U3912, 0, 0, 1526.50000000, 65286, 146, 4, 70, 1, -1, 50, 40 );
                    l_U4736++;
                }
                break;
                case 5:
                CLEAR_AREA_OF_CHARS( 1462.50000000, 898.70000000, 15, 100 );
                if (NOT (IS_CHAR_INJURED( sub_4345() )))
                {
                    GET_CHAR_HEIGHT_ABOVE_GROUND( sub_4345(), ref l_U4895 );
                    if (l_U4895 < 2)
                    {
                        if (NOT (IS_CHAR_PLAYING_ANIM( sub_4345(), "jump_std", "Jump_Land_roll" )))
                        {
                            TASK_PLAY_ANIM_NON_INTERRUPTABLE( sub_4345(), "Jump_Land_roll", "jump_std", 4.00000000, 0, 1, 1, 0, -1 );
                        }
                        else
                        {
                            GET_GAME_TIMER( ref l_U4631 );
                            if (GET_CHAR_MOVEMENT_ANIMS_BLOCKED( sub_4345() ))
                            {
                                SET_CHAR_MOVEMENT_ANIMS_BLOCKED( sub_4345(), 0 );
                            }
                            sub_3863();
                            BLOCK_PED_WEAPON_SWITCHING( sub_4345(), 0 );
                            SET_PLAYER_DISABLE_JUMP( sub_4399(), 0 );
                            SET_WIDESCREEN_BORDERS( 0 );
                            CLEAR_AREA_OF_CHARS( 1462.50000000, 898.70000000, 15, 100 );
                            SET_USE_HIGHDOF( 0 );
                            ACTIVATE_SCRIPTED_CAMS( 0, 0 );
                            SET_CAM_BEHIND_PED( sub_4345() );
                            SET_PLAYER_MOOD_NORMAL( sub_4399() );
                            SET_PED_IS_BLIND_RAGING( sub_4345(), 0 );
                            FORCE_HIGH_LOD( 0 );
                            l_U4736++;
                        }
                    }
                }
                break;
                case 6:
                if ((l_U4263 == 0) AND (NOT (IS_CHAR_PLAYING_ANIM( sub_4345(), "jump_std", "Jump_Land_roll" ))))
                {
                    if (NOT (IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "wave_bye" )))
                    {
                        TASK_PLAY_ANIM_NON_INTERRUPTABLE( sub_4345(), "wave_bye", "missyusuf04", 4.00000000, 0, 1, 1, 0, -1 );
                        if (IS_VEH_DRIVEABLE( l_U3912 ))
                        {
                            HINT_CAM( 0, 0, 65519, 0, 0, l_U3912, 13000 );
                        }
                    }
                    else
                    {
                        l_U4263 = 1;
                    }
                }
                if (l_U4263 == 1)
                {
                    if (NOT (IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "wave_bye" )))
                    {
                        SET_PLAYER_CONTROL( sub_4399(), 1 );
                    }
                }
                GET_GAME_TIMER( ref l_U4629 );
                if ((l_U4629 - l_U4631) > 18000)
                {
                    sub_126708();
                }
                break;
                case 7:
                l_U4239 = 0;
                if (IS_SCREEN_FADED_OUT())
                {
                    DO_SCREEN_FADE_IN( 500 );
                    while (IS_SCREEN_FADING_IN())
                    {
                        WAIT( 0 );
                    }
                }
                GET_GAME_TIMER( ref l_U4629 );
                if ((l_U4629 - l_U4631) > 3000)
                {
                    sub_126708();
                }
                break;
            }
            break;
            case 3:
            sub_14568();
            if (sub_116661())
            {
                if ((l_U4758 < 3) AND (l_U4758 > 0))
                {
                    if (IS_SCREEN_FADED_IN())
                    {
                        DO_SCREEN_FADE_OUT( 500 );
                        while (IS_SCREEN_FADING_OUT())
                        {
                            WAIT( 0 );
                        }
                    }
                    if (sub_3929( l_U4908 ))
                    {
                        sub_4113( ref l_U4908, 1 );
                    }
                    else if (sub_17947( l_U4908 ))
                    {
                        sub_13581( l_U4901, ref l_U4908, 6, 1 );
                    }
                    else
                    {
                        sub_4113( ref l_U4908, 0 );
                    }
                    if (DOES_CHAR_EXIST( l_U3775 ))
                    {
                        DELETE_CHAR( ref l_U3775 );
                    }
                    l_U4758 = 3;
                }
            }
            switch (l_U4758)
            {
                case 0:
                if (sub_3929( l_U4908 ))
                {
                    sub_4113( ref l_U4908, 1 );
                }
                else if (sub_17947( l_U4908 ))
                {
                    sub_13581( l_U4901, ref l_U4908, 6, 1 );
                }
                else
                {
                    sub_4113( ref l_U4908, 0 );
                }
                if (NOT (IS_CHAR_INJURED( sub_4345() )))
                {
                    CLEAR_CHAR_TASKS_IMMEDIATELY( sub_4345() );
                    if (IS_CHAR_IN_ANY_CAR( sub_4345() ))
                    {
                        WARP_CHAR_FROM_CAR_TO_COORD( sub_4345(), 69.58030000, -856.40040000, 3.95920000 );
                    }
                    else
                    {
                        SET_CHAR_COORDINATES( sub_4345(), 69.58030000, -856.40040000, 3.95920000 );
                    }
                    SET_CHAR_HEADING( sub_4345(), 41.90000000 );
                }
                if (NOT (IS_CHAR_INJURED( l_U3775 )))
                {
                    CLEAR_CHAR_TASKS_IMMEDIATELY( l_U3775 );
                    EXTINGUISH_CHAR_FIRE( l_U3775 );
                    if (IS_CHAR_IN_ANY_CAR( l_U3775 ))
                    {
                        WARP_CHAR_FROM_CAR_TO_COORD( l_U3775, 67.44490000, -855.94360000, 3.95920000 );
                    }
                    else
                    {
                        SET_CHAR_COORDINATES( l_U3775, 67.44490000, -855.94360000, 3.95920000 );
                    }
                    SET_PED_IS_BLIND_RAGING( l_U3775, 1 );
                    SET_CHAR_HEADING( l_U3775, 301.59990000 );
                }
                if (DOES_VEHICLE_EXIST( l_U3898 ))
                {
                    DELETE_CAR( ref l_U3898 );
                }
                LOAD_SCENE( 67.44490000, -855.94360000, 3.95920000 );
                CLEAR_AREA( 67.44490000, -855.94360000, 3.95920000, 100, 1 );
                if (NOT (DOES_CAM_EXIST( l_U3927 )))
                {
                    CREATE_CAM( 14, ref l_U3927 );
                }
                else
                {
                    SET_CAM_POS( l_U3927, 72.54569000, -851.98260000, 6.49700600 );
                    SET_CAM_ROT( l_U3927, 40.96274000, 0.00000100, 129.71460000 );
                    SET_CAM_FOV( l_U3927, 35.10003000 );
                    if (NOT (DOES_CAM_EXIST( l_U3928 )))
                    {
                        CREATE_CAM( 14, ref l_U3928 );
                    }
                    else
                    {
                        SET_CAM_POS( l_U3928, 73.78478000, -854.60180000, 4.39420700 );
                        SET_CAM_ROT( l_U3928, 12.72100000, -0.00000000, 87.37172000 );
                        SET_CAM_FOV( l_U3928, 55.19997000 );
                        if (NOT (DOES_CAM_EXIST( l_U3929 )))
                        {
                            CREATE_CAM( 3, ref l_U3929 );
                        }
                        else
                        {
                            SET_CAM_ACTIVE( l_U3927, 1 );
                            SET_CAM_ACTIVE( l_U3928, 1 );
                            SET_CAM_INTERP_STYLE_CORE( l_U3929, l_U3927, l_U3928, 8000, 0 );
                            SET_CAM_ACTIVE( l_U3929, 1 );
                            SET_CAM_PROPAGATE( l_U3929, 1 );
                            ACTIVATE_SCRIPTED_CAMS( 1, 1 );
                            SET_PLAYER_CONTROL( sub_4399(), 0 );
                            HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_4345(), 1 );
                            if (NOT (IS_CHAR_INJURED( l_U3775 )))
                            {
                                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3775, 1 );
                            }
                            SET_WIDESCREEN_BORDERS( 1 );
                            if ((NOT (IS_CHAR_INJURED( l_U3775 ))) AND (NOT (IS_CHAR_INJURED( sub_4345() ))))
                            {
                                OPEN_SEQUENCE_TASK( ref l_U4907 );
                                TASK_LOOK_AT_CHAR( 0, sub_4345(), 10000, 0 );
                                TASK_GO_STRAIGHT_TO_COORD( 0, 77.98900000, -847.67630000, 3.87880000, 2, -1 );
                                CLOSE_SEQUENCE_TASK( l_U4907 );
                                TASK_LOOK_AT_CHAR( sub_4345(), l_U3775, 12000, 0 );
                                SET_WIDESCREEN_BORDERS( 1 );
                                GET_GAME_TIMER( ref l_U4759 );
                                l_U4758++;
                            }
                        }
                    }
                }
                break;
                case 1:
                if (IS_SCREEN_FADED_OUT())
                {
                    DO_SCREEN_FADE_IN( 500 );
                    while (IS_SCREEN_FADING_IN())
                    {
                        WAIT( 0 );
                    }
                }
                GET_GAME_TIMER( ref l_U4629 );
                if ((l_U4629 - l_U4759) > 5000)
                {
                    if ((l_U4279 == 0) AND (NOT (IS_CHAR_INJURED( l_U3775 ))))
                    {
                        sub_16284( "E2Y4_YCAR", ref l_U4908, 7, 1 );
                        l_U4279 = 1;
                    }
                }
                if ((l_U4629 - l_U4759) > 6000)
                {
                    if (NOT (IS_CHAR_INJURED( l_U3775 )))
                    {
                        TASK_PERFORM_SEQUENCE( l_U3775, l_U4907 );
                        l_U4758++;
                    }
                }
                break;
                case 2:
                GET_GAME_TIMER( ref l_U4629 );
                if ((l_U4629 - l_U4759) > 9000)
                {
                    if (NOT (IS_CHAR_INJURED( sub_4345() )))
                    {
                        CLEAR_CHAR_TASKS( sub_4345() );
                        SET_PLAYER_CONTROL( sub_4399(), 1 );
                        SET_WIDESCREEN_BORDERS( 0 );
                        ACTIVATE_SCRIPTED_CAMS( 0, 0 );
                        SET_CAM_BEHIND_PED( sub_4345() );
                    }
                    if (DOES_CHAR_EXIST( l_U3775 ))
                    {
                        DELETE_CHAR( ref l_U3775 );
                    }
                    sub_24116();
                }
                break;
                case 3:
                if (NOT (IS_CHAR_INJURED( sub_4345() )))
                {
                    CLEAR_CHAR_TASKS( sub_4345() );
                    SET_PLAYER_CONTROL( sub_4399(), 1 );
                    HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_4345(), 0 );
                    SET_WIDESCREEN_BORDERS( 0 );
                    ACTIVATE_SCRIPTED_CAMS( 0, 0 );
                    SET_CAM_BEHIND_PED( sub_4345() );
                }
                if (IS_SCREEN_FADED_OUT())
                {
                    DO_SCREEN_FADE_IN( 500 );
                    while (IS_SCREEN_FADING_IN())
                    {
                        WAIT( 0 );
                    }
                }
                sub_24116();
                break;
            }
            break;
        }
    }
    return;
}

void sub_1447()
{
    int iVar2;

    iVar2 = 2;
    sub_1461( iVar2 );
    sub_2747( iVar2 );
    return;
}

void sub_1461(unknown uParam0)
{
    int iVar3;
    boolean bVar4;
    unknown uVar5;

    sub_1470();
    if (g_U43133)
    {
        return;
    }
    iVar3 = g_U14925[uParam0]._fU0._fU56;
    bVar4 = iVar3 == 6;
    if (g_U819)
    {
        sub_1646();
        sub_1854();
        g_U11063 = 1;
    }
    else if (NOT g_U12382[uParam0]._fU12)
    {
        if (NOT bVar4)
        {
            sub_1979();
            sub_2031();
            g_U11063 = 1;
        }
    }
    sub_2124();
    sub_2263();
    uVar5 = sub_2376( uParam0 );
    sub_2654( uVar5, 0 );
    return;
}

void sub_1470()
{
    g_U43588 = 0;
    g_U43628 = 0;
    MARK_SCRIPT_AS_NO_LONGER_NEEDED( "MissionStatTracker" );
    if ((GET_NUMBER_OF_INSTANCES_OF_STREAMED_SCRIPT( "MissionResultsTimer" )) > 0)
    {
        TERMINATE_ALL_SCRIPTS_WITH_THIS_NAME( "MissionResultsTimer" );
    }
    return;
}

void sub_1646()
{
    if (g_U10972)
    {
        return;
    }
    sub_1673( g_U10971 );
    if (NOT (IS_BIT_SET( g_U10938._fU0, 7 )))
    {
        sub_1794();
    }
    return;
}

void sub_1673(int iParam0)
{
    int iVar3;

    if (g_U0)
    {
        return;
    }
    if (iParam0 == -1)
    {
        return;
    }
    if (g_U10972)
    {
        return;
    }
    iVar3 = g_U22960[iParam0]._fU100;
    iVar3--;
    g_U22960[iParam0]._fU100 = iVar3;
    DECREMENT_INT_STAT( 255, 1 );
    return;
}

void sub_1794()
{
    if (g_U0)
    {
        return;
    }
    if (g_U10972)
    {
        return;
    }
    DECREMENT_INT_STAT( 256, 1 );
    return;
}

void sub_1854()
{
    sub_1863();
    return;
}

void sub_1863()
{
    if (g_U0)
    {
        return;
    }
    if (COMPARE_STRING( ref g_U10966, "" ))
    {
        return;
    }
    PLAYSTATS_MISSION_CANCELLED( ref g_U10966 );
    StrCopy( ref g_U10966, "", 16 );
    return;
}

void sub_1979()
{
    if (g_U0)
    {
        return;
    }
    if (g_U10972)
    {
        return;
    }
    INCREMENT_INT_STAT_NO_MESSAGE( 254, 1 );
    return;
}

void sub_2031()
{
    sub_2040();
    return;
}

void sub_2040()
{
    if (g_U0)
    {
        return;
    }
    if (COMPARE_STRING( ref g_U10966, "" ))
    {
        return;
    }
    PLAYSTATS_MISSION_FAILED( ref g_U10966 );
    StrCopy( ref g_U10966, "", 16 );
    return;
}

void sub_2124()
{
    int J;
    int I;

    J = 0;
    for ( J = 0; J < 11; J++ )
    {
        I = 0;
        for ( I = 0; I < 5; I++ )
        {
            if (g_U12382[J]._fU148[I]._fU36)
            {
                g_U12382[J]._fU28 = 1;
            }
            g_U12382[J]._fU148[I]._fU36 = 0;
        }
    }
    return;
}

void sub_2263()
{
    int iVar2;
    int iVar3;

    iVar2 = 0;
    GET_GAME_TIMER( ref iVar2 );
    iVar3 = iVar2 + sub_2285();
    if (iVar3 > g_U42731._fU4)
    {
        g_U42731._fU4 = iVar3;
        g_U42731._fU8 = iVar2;
    }
    return;
}

int sub_2285()
{
    if (g_U15811[0])
    {
        return 27000;
    }
    return 15000;
}

int sub_2376(unknown uParam0)
{
    switch (uParam0)
    {
        case 0: return 0;
        case 1: return 1;
        case 2: return 2;
        case 3: return 3;
        case 4: return 4;
        case 5: return 5;
        case 6: return 6;
        case 7: return 7;
        case 8: return 9;
    }
    PRINTSTRING( "UNKNOWN STRAND ID: " );
    PRINTINT( uParam0 );
    PRINTNL();
    sub_2607( "Flow_public: Return_Contact_From_Strand(): Unknown strand" );
    return 37;
}

void sub_2607(unknown uParam0)
{
    SCRIPT_ASSERT( uParam0 );
    return;
}

void sub_2654(int iParam0, boolean bParam1)
{
    int iVar4;

    if (NOT (iParam0 < 37))
    {
        return;
    }
    iVar4 = 0;
    GET_GAME_TIMER( ref iVar4 );
    g_U22883[iParam0] = iVar4;
    if (bParam1)
    {
        g_U22883[iParam0] += 30000;
    }
    return;
}

void sub_2747(int iParam0)
{
    int iVar3;
    boolean bVar4;

    sub_2756();
    if (g_U0)
    {
        return;
    }
    if (g_U43133)
    {
        return;
    }
    if (g_U95._fU40 == 0)
    {
        return;
    }
    if (NOT g_U12379)
    {
        return;
    }
    iVar3 = g_U14925[iParam0]._fU0._fU56;
    bVar4 = iVar3 == 6;
    if (bVar4)
    {
        return;
    }
    if (g_U12382[iParam0]._fU12)
    {
        return;
    }
    if (g_U10938._fU4 == -1)
    {
        return;
    }
    if (NOT (g_U10938._fU4 == iParam0))
    {
        return;
    }
    if (NOT sub_3531())
    {
        return;
    }
    if (NOT g_U819)
    {
        sub_3597();
        SET_BIT( ref g_U10938._fU0, 2 );
    }
    return;
}

void sub_2756()
{
    int I;

    for ( I = 0; I <= (g_U575 - 1); I++ )
    {
        if ((g_U575[I]._fU20) AND ((sub_2794( 5, g_U575[I] )) == 1))
        {
            if ((sub_2794( 1, g_U575[I] )) != 0)
            {
                sub_3080( I );
            }
        }
    }
    if (NOT sub_3246())
    {
        SET_MESSAGES_WAITING( 0 );
        g_U95._fU404 = 1000;
    }
    if (g_U95._fU0 == 1016)
    {
        g_U95._fU92 = 1;
    }
    return;
}

int sub_2794(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
    switch (uParam0)
    {
        case 0:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 14, 23 );
        break;
        case 1:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 0, 13 );
        break;
        case 2:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 14, 27 );
        break;
        case 3:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 0, 13 );
        break;
        case 4:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 24, 27 );
        break;
        case 5:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 28, 31 );
        break;
        case 6:
        return uParam1._fU0[2];
        break;
    }
    return -1;
}

void sub_3080(int iParam0)
{
    int I;

    if (iParam0 < (g_U575 - 1))
    {
        for ( I = iParam0 + 1; I <= (g_U575 - 1); I++ )
        {
            g_U575[I - 1] = {g_U575[I]};
        }
    }
    sub_3165( g_U575 - 1 );
    return;
}

void sub_3165(unknown uParam0)
{
    g_U575[uParam0]._fU0[0] = -1;
    g_U575[uParam0]._fU0[1] = -1;
    g_U575[uParam0]._fU0[2] = -1;
    return;
}

int sub_3246()
{
    int I;

    for ( I = 0; I <= (g_U575 - 1); I++ )
    {
        if ((sub_2794( 4, g_U575[I] )) == 0)
        {
            return 1;
        }
    }
    return 0;
}

int sub_3531()
{
    if ((g_U10938._fU8 == 1) AND (g_U10938._fU4 == 0))
    {
        return 0;
    }
    return 1;
}

void sub_3597()
{
    CLEAR_BIT( ref g_U10938._fU0, 2 );
    CLEAR_BIT( ref g_U10938._fU0, 3 );
    CLEAR_BIT( ref g_U10938._fU0, 4 );
    CLEAR_BIT( ref g_U10938._fU0, 5 );
    CLEAR_BIT( ref g_U10938._fU0, 6 );
    CLEAR_BIT( ref g_U10938._fU0, 8 );
    CLEAR_BIT( ref g_U10938._fU0, 9 );
    CLEAR_BIT( ref g_U10938._fU0, 10 );
    g_U10938._fU12 = 0;
    return;
}

void sub_3772()
{
    SET_CAR_DENSITY_MULTIPLIER( 1.00000000 );
    SET_PED_DENSITY_MULTIPLIER( 1.00000000 );
    SET_SCENARIO_PED_DENSITY_MULTIPLIER( 1, 1 );
    FLUSH_SCENARIO_BLOCKING_AREAS();
    SWITCH_RANDOM_TRAINS( 1 );
    SWITCH_ROADS_BACK_TO_ORIGINAL( 1051.47000000, 215.87000000, 25, 917.30000000, 252, 50 );
    sub_3863();
    SET_TIME_SCALE( 1 );
    SET_WIDESCREEN_BORDERS( 0 );
    g_U10983 = 1;
    if (sub_3929( l_U4908 ))
    {
        sub_4113( ref l_U4908, 0 );
    }
    MARK_MODEL_AS_NO_LONGER_NEEDED( -1627000575 );
    MARK_MODEL_AS_NO_LONGER_NEEDED( 800869680 );
    MARK_MODEL_AS_NO_LONGER_NEEDED( 837858166 );
    MARK_MODEL_AS_NO_LONGER_NEEDED( -1660661558 );
    MARK_MODEL_AS_NO_LONGER_NEEDED( -183203150 );
    MARK_MODEL_AS_NO_LONGER_NEEDED( -1004762946 );
    MARK_MODEL_AS_NO_LONGER_NEEDED( 1911513875 );
    MARK_MODEL_AS_NO_LONGER_NEEDED( 353883353 );
    MARK_MODEL_AS_NO_LONGER_NEEDED( 1044954915 );
    if (NOT (IS_CHAR_INJURED( sub_4345() )))
    {
        SET_PLAYER_MOOD_NORMAL( sub_4399() );
        SET_PED_IS_BLIND_RAGING( sub_4345(), 0 );
        if (IS_PED_ATTACHED_TO_ANY_CAR( sub_4345() ))
        {
            DETACH_PED( sub_4345(), 1 );
        }
        SET_CHAR_MOVEMENT_ANIMS_BLOCKED( sub_4345(), 0 );
        SET_PLAYER_DISABLE_JUMP( sub_4399(), 0 );
        SET_CHAR_INVINCIBLE( sub_4345(), 0 );
        BLOCK_PED_WEAPON_SWITCHING( sub_4345(), 0 );
        SET_CHAR_DUCKING( sub_4345(), 0 );
        FREEZE_CHAR_POSITION( sub_4345(), 0 );
        SET_PLAYER_FAST_RELOAD( sub_4399(), 0 );
        if (l_U4262 == 1)
        {
            SET_PLAYER_CONTROL( sub_4399(), 1 );
        }
        SET_CHAR_PROOFS( sub_4345(), 0, 0, 0, 0, 0 );
    }
    if (DOES_VEHICLE_EXIST( l_U3898 ))
    {
        MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U3898 );
    }
    if (DOES_VEHICLE_EXIST( l_U3912 ))
    {
        MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U3912 );
    }
    if (DOES_CHAR_EXIST( l_U3775 ))
    {
        MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3775 );
    }
    if (DOES_CHAR_EXIST( l_U3867 ))
    {
        MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3867 );
    }
    for ( l_U4618 = 0; l_U4618 <= 89; l_U4618++ )
    {
        if (DOES_CHAR_EXIST( l_U3776[l_U4618] ))
        {
            if (NOT (IS_CHAR_INJURED( l_U3776[l_U4618] )))
            {
                SET_CHAR_KEEP_TASK( l_U3776[l_U4618], 1 );
            }
            MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3776[l_U4618] );
        }
    }
    for ( l_U4618 = 0; l_U4618 <= 5; l_U4618++ )
    {
        if (DOES_VEHICLE_EXIST( l_U3869[l_U4618] ))
        {
            MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U3869[l_U4618] );
        }
    }
    for ( l_U4618 = 0; l_U4618 <= 2; l_U4618++ )
    {
        if (DOES_VEHICLE_EXIST( l_U3888[l_U4618] ))
        {
            DELETE_CAR( ref l_U3888[l_U4618] );
        }
    }
    for ( l_U4618 = 0; l_U4618 <= 5; l_U4618++ )
    {
        if (DOES_VEHICLE_EXIST( l_U3881[l_U4618] ))
        {
            MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U3881[l_U4618] );
        }
    }
    for ( l_U4618 = 0; l_U4618 <= 2; l_U4618++ )
    {
        if (DOES_VEHICLE_EXIST( l_U3876[l_U4618] ))
        {
            MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U3876[l_U4618] );
        }
    }
    for ( l_U4618 = 0; l_U4618 <= 4; l_U4618++ )
    {
        if (DOES_VEHICLE_EXIST( l_U3892[l_U4618] ))
        {
            MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U3892[l_U4618] );
        }
    }
    for ( l_U4618 = 0; l_U4618 <= 5; l_U4618++ )
    {
        if (DOES_VEHICLE_EXIST( l_U3904[l_U4618] ))
        {
            DELETE_CAR( ref l_U3904[l_U4618] );
        }
    }
    for ( l_U4618 = 0; l_U4618 <= 3; l_U4618++ )
    {
        if (DOES_VEHICLE_EXIST( l_U3899[l_U4618] ))
        {
            MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U3899[l_U4618] );
        }
    }
    if (l_U4657 > 0)
    {
        RELEASE_SOUND_ID( l_U4657 );
    }
    for ( l_U4656 = 0; l_U4656 <= 5; l_U4656++ )
    {
        if (l_U4664[l_U4656] > 0)
        {
            RELEASE_SOUND_ID( l_U4664[l_U4656] );
        }
    }
    if (l_U4124[0] == 1)
    {
        g_U42911[0]++;
        l_U4124[0] = 0;
    }
    MISSION_AUDIO_BANK_NO_LONGER_NEEDED();
    UNREGISTER_SCRIPT_WITH_AUDIO();
    if (l_U4262 == 1)
    {
        ACTIVATE_SCRIPTED_CAMS( 0, 0 );
        if (NOT (IS_CHAR_INJURED( sub_4345() )))
        {
            SET_PLAYER_CONTROL( sub_4399(), 1 );
        }
    }
    if (DOES_CAM_EXIST( l_U3925 ))
    {
        DESTROY_CAM( l_U3925 );
    }
    if (DOES_CAM_EXIST( l_U3926 ))
    {
        DESTROY_CAM( l_U3926 );
    }
    if (DOES_CAM_EXIST( l_U3929 ))
    {
        DESTROY_CAM( l_U3929 );
    }
    if (DOES_CAM_EXIST( l_U3930 ))
    {
        DESTROY_CAM( l_U3930 );
    }
    if (DOES_CAM_EXIST( l_U3931 ))
    {
        DESTROY_CAM( l_U3931 );
    }
    if (DOES_CAM_EXIST( l_U3932 ))
    {
        DESTROY_CAM( l_U3932 );
    }
    CLEAR_WANTED_LEVEL( sub_4399() );
    if ((l_U3592 == 1) AND (l_U4709 == 4))
    {
        if (IS_SCREEN_FADED_OUT())
        {
            DO_SCREEN_FADE_IN( 500 );
            while (IS_SCREEN_FADING_IN())
            {
                WAIT( 0 );
            }
        }
    }
    TERMINATE_THIS_SCRIPT();
    return;
}

void sub_3863()
{
    g_U95._fU100 = 0;
    g_U95._fU104 = 0;
    return;
}

int sub_3929(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    if ((g_U8867 == 2) || ((g_U8867 == 1) || (IS_SCRIPTED_CONVERSATION_ONGOING())))
    {
        if (uParam0._fU4 == g_U8866)
        {
            return 1;
        }
        else
        {
            sub_4041( "\n speech is playing, but not from this structure" );
        }
    }
    else
    {
        sub_4041( "\n speech is not playing" );
    }
    return 0;
}

void sub_4041(unknown uParam0)
{
    return;
}

void sub_4113(int iParam0, unknown uParam1)
{
    PRINTSTRING( "\n KILL SPEECH CALLED***************************************" );
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if (iParam0->_fU4 == g_U8866)
        {
            ABORT_SCRIPTED_CONVERSATION( uParam1 );
        }
    }
    return;
}

void sub_4345()
{
    unknown Result;

    GET_PLAYER_CHAR( CONVERT_INT_TO_PLAYERINDEX( GET_PLAYER_ID() ), ref Result );
    return Result;
}

void sub_4399()
{
    return CONVERT_INT_TO_PLAYERINDEX( GET_PLAYER_ID() );
}

void sub_5889(unknown uParam0)
{
    int iVar3;
    int iVar4;
    int iVar5;

    if (sub_5898() == 0)
    {
        sub_5923();
    }
    if (HAS_SCRIPT_LOADED( "MissionResultsTimer" ))
    {
        if ((GET_NUMBER_OF_INSTANCES_OF_STREAMED_SCRIPT( "MissionResultsTimer" )) == 0)
        {
            START_NEW_SCRIPT( "MissionResultsTimer", 1024 );
            MARK_SCRIPT_AS_NO_LONGER_NEEDED( "MissionResultsTimer" );
        }
    }
    if (sub_8678() <= g_U43138[g_U43137]._fU8)
    {
        g_U43568 = 1;
    }
    else
    {
        g_U43568 = 0;
    }
    if (g_U43600 == 1)
    {
        g_U43612 = sub_8960();
        g_U43600 = 0;
    }
    if (g_U43133 == 1)
    {
        if (g_U43624 == 0)
        {
            if (sub_8678() < g_U43612)
            {
                g_U43575 = 1;
            }
            else
            {
                g_U43575 = 0;
            }
        }
        else
        {
            g_U43575 = 0;
        }
    }
    else
    {
        g_U43575 = 0;
    }
    if (g_U43137 == 22)
    {
        if ((sub_9753( 0, 0, 0 )) >= g_U43138[g_U43137]._fU28)
        {
            g_U43569 = 1;
        }
        else
        {
            g_U43569 = 0;
        }
        if (g_U43605 == 1)
        {
            g_U43617 = sub_10063();
            g_U43605 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if ((sub_9753( 0, 0, 0 )) > g_U43617)
                {
                    g_U43580 = 1;
                }
                else
                {
                    g_U43580 = 0;
                }
            }
            else
            {
                g_U43580 = 0;
            }
        }
        else
        {
            g_U43580 = 0;
        }
    }
    if (g_U43137 == 17)
    {
        if ((sub_9753( 1, 0, 0 )) >= g_U43138[g_U43137]._fU28)
        {
            g_U43569 = 1;
        }
        else
        {
            g_U43569 = 0;
        }
        if (g_U43605 == 1)
        {
            g_U43617 = sub_10063();
            g_U43605 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if ((sub_9753( 1, 0, 0 )) > g_U43617)
                {
                    g_U43580 = 1;
                }
                else
                {
                    g_U43580 = 0;
                }
            }
            else
            {
                g_U43580 = 0;
            }
        }
        else
        {
            g_U43580 = 0;
        }
    }
    if (g_U43137 == 15)
    {
        g_U43519 = uParam0;
        if (g_U43519 >= g_U43138[g_U43137]._fU28)
        {
            g_U43569 = 1;
        }
        else
        {
            g_U43569 = 0;
        }
        if (g_U43605 == 1)
        {
            g_U43617 = sub_10063();
            g_U43605 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if (g_U43519 > g_U43617)
                {
                    g_U43580 = 1;
                }
                else
                {
                    g_U43580 = 0;
                }
            }
            else
            {
                g_U43580 = 0;
            }
        }
        else
        {
            g_U43580 = 0;
        }
    }
    if ((g_U43137 == 16) || (g_U43137 == 18))
    {
        if ((sub_9753( 0, 0, 1 )) >= g_U43138[g_U43137]._fU28)
        {
            g_U43569 = 1;
        }
        else
        {
            g_U43569 = 0;
        }
        if (g_U43605 == 1)
        {
            g_U43617 = sub_10063();
            g_U43605 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if ((sub_9753( 0, 0, 1 )) > g_U43617)
                {
                    g_U43580 = 1;
                }
                else
                {
                    g_U43580 = 0;
                }
            }
            else
            {
                g_U43580 = 0;
            }
        }
        else
        {
            g_U43580 = 0;
        }
    }
    if (g_U43137 == 25)
    {
        g_U43519 = uParam0;
        if (g_U43519 >= g_U43138[g_U43137]._fU28)
        {
            g_U43569 = 1;
        }
        else
        {
            g_U43569 = 0;
        }
        if (g_U43605 == 1)
        {
            g_U43617 = sub_10063();
            g_U43605 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if (g_U43519 > g_U43617)
                {
                    g_U43580 = 1;
                }
                else
                {
                    g_U43580 = 0;
                }
            }
            else
            {
                g_U43580 = 0;
            }
        }
        else
        {
            g_U43580 = 0;
        }
    }
    if (g_U43571 == 1)
    {
        iVar3 = 1;
    }
    else
    {
        iVar3 = 0;
    }
    if (g_U43572 == 1)
    {
        iVar4 = 1;
    }
    else
    {
        iVar4 = 0;
    }
    if (g_U43573 == 1)
    {
        iVar5 = 1;
    }
    else
    {
        iVar5 = 0;
    }
    if (g_U43607 == 1)
    {
        g_U43619 = sub_11535();
        g_U43607 = 0;
    }
    if (g_U43133 == 1)
    {
        if (g_U43624 == 0)
        {
            if (iVar3 > g_U43619)
            {
                g_U43582 = 1;
            }
            else
            {
                g_U43582 = 0;
            }
        }
        else
        {
            g_U43582 = 0;
        }
    }
    else
    {
        g_U43582 = 0;
    }
    if (g_U43608 == 1)
    {
        g_U43620 = sub_12231();
        g_U43608 = 0;
    }
    if (g_U43133 == 1)
    {
        if (g_U43624 == 0)
        {
            if (iVar4 > g_U43620)
            {
                g_U43583 = 1;
            }
            else
            {
                g_U43583 = 0;
            }
        }
        else
        {
            g_U43583 = 0;
        }
    }
    else
    {
        g_U43583 = 0;
    }
    if (g_U43609 == 1)
    {
        g_U43621 = sub_12810();
        g_U43609 = 0;
    }
    if (g_U43133 == 1)
    {
        if (g_U43624 == 0)
        {
            if (iVar5 > g_U43621)
            {
                g_U43584 = 1;
            }
            else
            {
                g_U43584 = 0;
            }
        }
        else
        {
            g_U43584 = 0;
        }
    }
    else
    {
        g_U43584 = 0;
    }
    return;
}

int sub_5898()
{
    return 0;
}

void sub_5923()
{
    if (sub_5937( sub_4345() ))
    {
        if (IS_CONTROL_PRESSED( 2, 77 ))
        {
            if (l_U3581 == 0)
            {
                GET_GAME_TIMER( ref l_U3578 );
                l_U3581 = 1;
            }
            GET_GAME_TIMER( ref l_U3579 );
            l_U3580 = l_U3579 - l_U3578;
            if (l_U3580 < 1000)
            {
                PRINTNL();
                PRINTSTRING( "***************************" );
                PRINTNL();
                PRINTSTRING( "Player is in the back of a taxi - Blocking Mission Time Goal" );
                PRINTNL();
                PRINTSTRING( "***************************" );
                PRINTNL();
                g_U43593 = 1;
            }
        }
    }
    sub_6467();
    if (g_U12379 == 1)
    {
        if ((IS_BIT_SET( g_U10938._fU0, 7 )) == 0)
        {
            if (g_U43133 == 0)
            {
                if (l_U3577 == 0)
                {
                    GET_GAME_TIMER( ref l_U3574 );
                    l_U3577 = 1;
                }
                GET_GAME_TIMER( ref l_U3575 );
                l_U3576 = l_U3575 - l_U3574;
                if (l_U3576 < 1000)
                {
                    g_U43597 = 1;
                    PRINTNL();
                    PRINTSTRING( "***************************" );
                    PRINTNL();
                    PRINTSTRING( "Player has used a trip skip - Blocking Mission Goals" );
                    PRINTNL();
                    PRINTSTRING( "***************************" );
                    PRINTNL();
                }
            }
            else
            {
                g_U43597 = 0;
            }
        }
        else
        {
            g_U43597 = 0;
        }
    }
    return;
}

int sub_5937(int iParam0)
{
    unknown uVar3;
    int iVar4;
    int iVar5;

    if (NOT (IS_CHAR_INJURED( iParam0 )))
    {
        if (IS_CHAR_IN_ANY_CAR( iParam0 ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( iParam0, ref uVar3 );
            if (IS_VEH_DRIVEABLE( uVar3 ))
            {
                if (sub_6001( uVar3 ))
                {
                    GET_MAXIMUM_NUMBER_OF_PASSENGERS( uVar3, ref iVar5 );
                    if (iVar5 == 3)
                    {
                        if (NOT (IS_CAR_PASSENGER_SEAT_FREE( uVar3, 1 )))
                        {
                            GET_CHAR_IN_CAR_PASSENGER_SEAT( uVar3, 1, ref iVar4 );
                            if (iVar4 == iParam0)
                            {
                                return 1;
                            }
                        }
                        if (NOT (IS_CAR_PASSENGER_SEAT_FREE( uVar3, 2 )))
                        {
                            GET_CHAR_IN_CAR_PASSENGER_SEAT( uVar3, 2, ref iVar4 );
                            if (iVar4 == iParam0)
                            {
                                return 1;
                            }
                        }
                    }
                }
            }
        }
    }
    return 0;
}

int sub_6001(int iParam0)
{
    if ((iParam0 == g_U2687) || ((IS_CAR_MODEL( iParam0, 1208856469 )) || ((IS_CAR_MODEL( iParam0, 1884962369 )) || (IS_CAR_MODEL( iParam0, -956048545 )))))
    {
        return 1;
    }
    return 0;
}

void sub_6467()
{
    int iVar2;

    iVar2 = 1000;
    if (CHEAT_HAPPENED_RECENTLY( 0, iVar2 ))
    {
        g_U43595 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used Poor Weapon Cheat - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    if (CHEAT_HAPPENED_RECENTLY( 1, iVar2 ))
    {
        g_U43595 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used Advance Weapon Cheat - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    if (CHEAT_HAPPENED_RECENTLY( 22, iVar2 ))
    {
        g_U43595 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used E2 Weapon Cheat - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    if (CHEAT_HAPPENED_RECENTLY( 30, iVar2 ))
    {
        g_U43595 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used E2 Explosive punch cheat - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    if (CHEAT_HAPPENED_RECENTLY( 7, iVar2 ))
    {
        g_U43595 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used Annihilitor cheat - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    if (CHEAT_HAPPENED_RECENTLY( 27, iVar2 ))
    {
        g_U43595 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used Buzzard cheat - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    if (CHEAT_HAPPENED_RECENTLY( 26, iVar2 ))
    {
        g_U43595 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used APC cheat - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    if (CHEAT_HAPPENED_RECENTLY( 2, iVar2 ))
    {
        g_U43594 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used Health Cheat - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    if (CHEAT_HAPPENED_RECENTLY( 4, iVar2 ))
    {
        g_U43596 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used Wanted Level Reduction - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    return;
}

void sub_8678()
{
    float fVar2;
    unknown uVar3;
    unknown uVar4;

    if (g_U12379 == 1)
    {
        if (NOT (IS_CHAR_DEAD( sub_4345() )))
        {
            GET_CHAR_HEALTH( sub_4345(), ref g_U43521 );
        }
    }
    uVar3 = TO_FLOAT( g_U43521 );
    uVar4 = TO_FLOAT( g_U43520 );
    fVar2 = uVar3 / uVar4;
    fVar2 *= 100;
    fVar2 -= 100;
    if (fVar2 < 0)
    {
        fVar2 *= -1;
    }
    fVar2 *= 2;
    if (fVar2 < 0)
    {
        fVar2 = 0;
    }
    if (fVar2 > 100)
    {
        fVar2 = 100;
    }
    g_U43522 = FLOOR( fVar2 );
    if (g_U43522 < 0)
    {
        g_U43522 = 0;
    }
    return g_U43522;
}

int sub_8960()
{
    if (g_U43137 == 0)
    {
        return GET_INT_STAT( 475 );
    }
    if (g_U43137 == 1)
    {
        return GET_INT_STAT( 479 );
    }
    if (g_U43137 == 2)
    {
        return GET_INT_STAT( 484 );
    }
    if (g_U43137 == 3)
    {
        ;
    }
    if (g_U43137 == 21)
    {
        return GET_INT_STAT( 578 );
    }
    if (g_U43137 == 15)
    {
        return GET_INT_STAT( 544 );
    }
    if (g_U43137 == 16)
    {
        return GET_INT_STAT( 550 );
    }
    if (g_U43137 == 17)
    {
        return GET_INT_STAT( 557 );
    }
    if (g_U43137 == 12)
    {
        return GET_INT_STAT( 525 );
    }
    if (g_U43137 == 13)
    {
        return GET_INT_STAT( 533 );
    }
    if (g_U43137 == 19)
    {
        return GET_INT_STAT( 568 );
    }
    if (g_U43137 == 20)
    {
        return GET_INT_STAT( 573 );
    }
    if (g_U43137 == 5)
    {
        return GET_INT_STAT( 493 );
    }
    if (g_U43137 == 4)
    {
        return GET_INT_STAT( 498 );
    }
    if (g_U43137 == 6)
    {
        return GET_INT_STAT( 502 );
    }
    if (g_U43137 == 7)
    {
        return GET_INT_STAT( 506 );
    }
    if (g_U43137 == 8)
    {
        return GET_INT_STAT( 511 );
    }
    if (g_U43137 == 9)
    {
        ;
    }
    if (g_U43137 == 14)
    {
        ;
    }
    if (g_U43137 == 22)
    {
        return GET_INT_STAT( 583 );
    }
    if (g_U43137 == 23)
    {
        return GET_INT_STAT( 591 );
    }
    if (g_U43137 == 24)
    {
        return GET_INT_STAT( 599 );
    }
    if (g_U43137 == 18)
    {
        return GET_INT_STAT( 563 );
    }
    if (g_U43137 == 10)
    {
        ;
    }
    if (g_U43137 == 25)
    {
        return GET_INT_STAT( 605 );
    }
    if (g_U43137 == 11)
    {
        return GET_INT_STAT( 520 );
    }
    return 0;
}

void sub_9753(int iParam0, int iParam1, int iParam2)
{
    if (iParam1 == 1)
    {
        g_U43518 = GET_INT_STAT( 296 );
        g_U43519 = g_U43518 - g_U43517;
    }
    else if (iParam2 == 1)
    {
        g_U43518 = GET_INT_STAT( 297 );
        g_U43519 = g_U43518 - g_U43517;
    }
    else if (iParam0 == 1)
    {
        if (l_U3573 < GET_NO_LAW_VEHICLES_DESTROYED_BY_LOCAL_PLAYER())
        {
            g_U43519++;
        }
        l_U3573 = GET_NO_LAW_VEHICLES_DESTROYED_BY_LOCAL_PLAYER();
    }
    else
    {
        g_U43518 = GET_INT_STAT( 294 );
        g_U43519 = g_U43518 - g_U43517;
    };;;
    if (g_U43519 < 0)
    {
        g_U43519 = 0;
    }
    return g_U43519;
}

int sub_10063()
{
    if (g_U43137 == 0)
    {
        ;
    }
    if (g_U43137 == 1)
    {
        ;
    }
    if (g_U43137 == 2)
    {
        ;
    }
    if (g_U43137 == 3)
    {
        ;
    }
    if (g_U43137 == 21)
    {
        ;
    }
    if (g_U43137 == 15)
    {
        return GET_INT_STAT( 547 );
    }
    if (g_U43137 == 16)
    {
        return GET_INT_STAT( 553 );
    }
    if (g_U43137 == 17)
    {
        return GET_INT_STAT( 558 );
    }
    if (g_U43137 == 12)
    {
        ;
    }
    if (g_U43137 == 13)
    {
        ;
    }
    if (g_U43137 == 19)
    {
        ;
    }
    if (g_U43137 == 20)
    {
        ;
    }
    if (g_U43137 == 5)
    {
        ;
    }
    if (g_U43137 == 4)
    {
        ;
    }
    if (g_U43137 == 6)
    {
        ;
    }
    if (g_U43137 == 7)
    {
        ;
    }
    if (g_U43137 == 8)
    {
        ;
    }
    if (g_U43137 == 9)
    {
        ;
    }
    if (g_U43137 == 14)
    {
        ;
    }
    if (g_U43137 == 22)
    {
        return GET_INT_STAT( 586 );
    }
    if (g_U43137 == 23)
    {
        ;
    }
    if (g_U43137 == 24)
    {
        ;
    }
    if (g_U43137 == 18)
    {
        return GET_INT_STAT( 565 );
    }
    if (g_U43137 == 10)
    {
        ;
    }
    if (g_U43137 == 25)
    {
        return GET_INT_STAT( 608 );
    }
    if (g_U43137 == 11)
    {
        ;
    }
    return 0;
}

int sub_11535()
{
    if (g_U43137 == 0)
    {
        ;
    }
    if (g_U43137 == 1)
    {
        return GET_INT_STAT( 481 );
    }
    if (g_U43137 == 2)
    {
        return GET_INT_STAT( 487 );
    }
    if (g_U43137 == 3)
    {
        ;
    }
    if (g_U43137 == 21)
    {
        return GET_INT_STAT( 579 );
    }
    if (g_U43137 == 15)
    {
        ;
    }
    if (g_U43137 == 16)
    {
        ;
    }
    if (g_U43137 == 17)
    {
        return GET_INT_STAT( 560 );
    }
    if (g_U43137 == 12)
    {
        return GET_INT_STAT( 529 );
    }
    if (g_U43137 == 13)
    {
        return GET_INT_STAT( 534 );
    }
    if (g_U43137 == 19)
    {
        ;
    }
    if (g_U43137 == 20)
    {
        ;
    }
    if (g_U43137 == 5)
    {
        return GET_INT_STAT( 495 );
    }
    if (g_U43137 == 4)
    {
        ;
    }
    if (g_U43137 == 6)
    {
        return GET_INT_STAT( 503 );
    }
    if (g_U43137 == 7)
    {
        return GET_INT_STAT( 507 );
    }
    if (g_U43137 == 8)
    {
        ;
    }
    if (g_U43137 == 9)
    {
        return GET_INT_STAT( 613 );
    }
    if (g_U43137 == 14)
    {
        return GET_INT_STAT( 541 );
    }
    if (g_U43137 == 22)
    {
        return GET_INT_STAT( 587 );
    }
    if (g_U43137 == 23)
    {
        return GET_INT_STAT( 594 );
    }
    if (g_U43137 == 24)
    {
        return GET_INT_STAT( 602 );
    }
    if (g_U43137 == 18)
    {
        return GET_INT_STAT( 564 );
    }
    if (g_U43137 == 10)
    {
        ;
    }
    if (g_U43137 == 25)
    {
        ;
    }
    if (g_U43137 == 11)
    {
        ;
    }
    return 0;
}

int sub_12231()
{
    if (g_U43137 == 0)
    {
        ;
    }
    if (g_U43137 == 1)
    {
        ;
    }
    if (g_U43137 == 2)
    {
        ;
    }
    if (g_U43137 == 3)
    {
        ;
    }
    if (g_U43137 == 21)
    {
        return GET_INT_STAT( 580 );
    }
    if (g_U43137 == 15)
    {
        ;
    }
    if (g_U43137 == 16)
    {
        ;
    }
    if (g_U43137 == 17)
    {
        ;
    }
    if (g_U43137 == 12)
    {
        ;
    }
    if (g_U43137 == 13)
    {
        return GET_INT_STAT( 535 );
    }
    if (g_U43137 == 19)
    {
        ;
    }
    if (g_U43137 == 20)
    {
        ;
    }
    if (g_U43137 == 5)
    {
        return GET_INT_STAT( 494 );
    }
    if (g_U43137 == 4)
    {
        ;
    }
    if (g_U43137 == 6)
    {
        ;
    }
    if (g_U43137 == 7)
    {
        ;
    }
    if (g_U43137 == 8)
    {
        ;
    }
    if (g_U43137 == 9)
    {
        return GET_INT_STAT( 612 );
    }
    if (g_U43137 == 14)
    {
        ;
    }
    if (g_U43137 == 22)
    {
        return GET_INT_STAT( 588 );
    }
    if (g_U43137 == 23)
    {
        return GET_INT_STAT( 595 );
    }
    if (g_U43137 == 24)
    {
        ;
    }
    if (g_U43137 == 18)
    {
        ;
    }
    if (g_U43137 == 10)
    {
        ;
    }
    if (g_U43137 == 25)
    {
        ;
    }
    if (g_U43137 == 11)
    {
        ;
    }
    return 0;
}

int sub_12810()
{
    if (g_U43137 == 0)
    {
        ;
    }
    if (g_U43137 == 1)
    {
        ;
    }
    if (g_U43137 == 2)
    {
        ;
    }
    if (g_U43137 == 3)
    {
        ;
    }
    if (g_U43137 == 21)
    {
        ;
    }
    if (g_U43137 == 15)
    {
        ;
    }
    if (g_U43137 == 16)
    {
        return GET_INT_STAT( 554 );
    }
    if (g_U43137 == 17)
    {
        ;
    }
    if (g_U43137 == 12)
    {
        ;
    }
    if (g_U43137 == 13)
    {
        ;
    }
    if (g_U43137 == 19)
    {
        ;
    }
    if (g_U43137 == 20)
    {
        ;
    }
    if (g_U43137 == 5)
    {
        ;
    }
    if (g_U43137 == 4)
    {
        ;
    }
    if (g_U43137 == 6)
    {
        ;
    }
    if (g_U43137 == 7)
    {
        ;
    }
    if (g_U43137 == 8)
    {
        ;
    }
    if (g_U43137 == 9)
    {
        ;
    }
    if (g_U43137 == 14)
    {
        ;
    }
    if (g_U43137 == 22)
    {
        ;
    }
    if (g_U43137 == 23)
    {
        return GET_INT_STAT( 596 );
    }
    if (g_U43137 == 24)
    {
        ;
    }
    if (g_U43137 == 18)
    {
        ;
    }
    if (g_U43137 == 10)
    {
        ;
    }
    if (g_U43137 == 25)
    {
        ;
    }
    if (g_U43137 == 11)
    {
        ;
    }
    return 0;
}

void sub_13581(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    return sub_13604( uParam0, ref l_U2829._fU0, uParam1, uParam2, uParam3 );
}

int sub_13604(unknown uParam0, unknown uParam1, int iParam2, unknown uParam3, unknown uParam4)
{
    char[16] cVar7;
    char[12] cVar11;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    StrCopy( ref cVar7, uParam1, 16 );
    array(ref cVar11, 2);
    if (iParam2->_fU12)
    {
        StrCopy( ref cVar11[0], uParam0, 16 );
        StrCopy( ref cVar11[1], "END", 16 );
        return sub_13668( ref cVar11, iParam2, uParam3, 1, 0, 0, 0, ref cVar7, uParam4 );
    }
    return 0;
}

int sub_13668(unknown uParam0, int iParam1, unknown uParam2, boolean bParam3, boolean bParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    int I;
    int iVar12;

    iVar12 = 0;
    iParam1->_fU0 = uParam2;
    if (NOT (sub_13690( iParam1 )))
    {
        return 0;
    }
    l_U2829._fU384 = 0;
    iParam1->_fU16 = 0;
    iParam1->_fU20 = uParam5;
    if (bParam3)
    {
        if (iParam1->_fU12)
        {
            iVar12 = iParam1->_fU8;
            iParam1->_fU12 = 0;
        }
    }
    else
    {
        iParam1->_fU12 = 0;
        if (bParam4)
        {
            iVar12 = uParam6;
            iParam1->_fU8 = uParam6;
            iParam1->_fU12 = 0;
        }
        else
        {
            iParam1->_fU8 = 0;
            iParam1->_fU12 = 0;
        }
    }
    iParam1->_fU16 = bParam4;
    for ( I = 0; I <= (g_U8972 - 1); I++ )
    {
        StrCopy( ref g_U8972[I], "END", 16 );
    }
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        g_U8972[I] = {(uParam0^)[I]};
    }
    g_U8966 = {(iParam1^)};
    sub_14370( ref g_U8868, ref l_U2829 );
    StrCopy( ref g_U8868._fU0, uParam7, 16 );
    g_U8868._fU388 = uParam8;
    g_U8867 = 1;
    return 1;
}

int sub_13690(int iParam0)
{
    if (IS_MOBILE_PHONE_CALL_ONGOING())
    {
        sub_4041( "\n !!!!! CANT PLAY SPEECH MOBILE PHONE CALL IS PLAYING" );
        return 0;
    }
    if (IS_THREAD_ACTIVE( g_U561[1] ))
    {
        switch (g_U95._fU0)
        {
            case 1010:
            case 1001:
            case 1000: break;
            default:
            sub_4041( "\n !!!!! CANT PLAY SPEECH CALLING SCRIPT IS STILL ACTIVE" );
            return 0;
            break;
        }
    }
    switch (g_U8867)
    {
        case 4:
        case 1:
        case 2:
        return 0;
        break;
    }
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if (g_U8865 > iParam0->_fU0)
        {
            sub_4041( "\n !!!!! CANT PLAY SPEECH CURRENT SPEECH HAS HIGHER PRIORITY" );
            return 0;
        }
        ABORT_SCRIPTED_CONVERSATION( 0 );
    }
    g_U8865 = iParam0->_fU0;
    g_U8866++;
    if (g_U8866 > 100000)
    {
        g_U8866 = 1;
    }
    iParam0->_fU4 = g_U8866;
    return 1;
}

void sub_14370(int iParam0, int iParam1)
{
    int I;

    iParam0->_fU0 = {iParam1->_fU0};
    for ( I = 0; I <= 8; I++ )
    {
        iParam0->_fU16[I] = {iParam1->_fU16[I]};
        iParam0->_fU344[I] = iParam1->_fU344[I];
    }
    iParam0->_fU384 = iParam1->_fU384;
    iParam0->_fU388 = iParam1->_fU388;
    return;
}

void sub_14568()
{
    if (l_U4074 == 0)
    {
        if (l_U4187 == 0)
        {
            GET_GAME_TIMER( ref l_U4629 );
            if ((l_U4629 - l_U4732) > 10000)
            {
                for ( l_U4618 = 0; l_U4618 <= 89; l_U4618++ )
                {
                    if ((DOES_CHAR_EXIST( l_U3776[l_U4618] )) AND (DOES_CHAR_EXIST( sub_4345() )))
                    {
                        if ((NOT (IS_CHAR_INJURED( l_U3776[l_U4618] ))) AND (NOT (IS_CHAR_INJURED( sub_4345() ))))
                        {
                            if ((NOT (IS_AMBIENT_SPEECH_PLAYING( l_U3776[l_U4618] ))) AND (NOT (sub_3929( l_U4908 ))))
                            {
                                if ((l_U4177 == 0) AND ((l_U4178 == 0) AND ((l_U4179 == 0) AND ((l_U4180 == 0) AND (HAS_CHAR_BEEN_DAMAGED_BY_CHAR( sub_4345(), l_U3776[l_U4618], 0 ))))))
                                {
                                    if (NOT (IS_CHAR_IN_ANY_HELI( l_U3776[l_U4618] )))
                                    {
                                        l_U4177 = 1;
                                        l_U4731 = l_U4618;
                                    }
                                    else
                                    {
                                        l_U4178 = 1;
                                        l_U4731 = l_U4618;
                                    }
                                }
                                if ((l_U4176 == 0) AND (HAS_CHAR_BEEN_DAMAGED_BY_CHAR( l_U3776[l_U4618], sub_4345(), 0 )))
                                {
                                    l_U4731 = l_U4618;
                                    l_U4176 = 1;
                                }
                            }
                            else
                            {
                                CLEAR_CHAR_LAST_DAMAGE_ENTITY( l_U3776[l_U4618] );
                            }
                        }
                    }
                }
                if (DOES_CHAR_EXIST( l_U3776[l_U4731] ))
                {
                    if ((NOT (sub_3929( l_U4914 ))) AND ((NOT (sub_3929( l_U4908 ))) AND (NOT (IS_CHAR_INJURED( l_U3776[l_U4731] )))))
                    {
                        if (l_U4177 == 1)
                        {
                            GENERATE_RANDOM_INT_IN_RANGE( 0, 12, ref l_U4729 );
                            if (l_U4729 == 0)
                            {
                                SAY_AMBIENT_SPEECH_WITH_VOICE( l_U3776[l_U4731], "TARGET", "M_Y_COP_BLACK", 1, 1, 2 );
                            }
                            else if (l_U4729 == 1)
                            {
                                SAY_AMBIENT_SPEECH_WITH_VOICE( l_U3776[l_U4731], "TARGET", "M_Y_COP_BLACK_02", 1, 1, 2 );
                            }
                            else if (l_U4729 == 2)
                            {
                                SAY_AMBIENT_SPEECH_WITH_VOICE( l_U3776[l_U4731], "TARGET", "M_Y_COP_TRAFFIC_BLACK", 1, 1, 2 );
                            }
                            else if (l_U4729 == 3)
                            {
                                SAY_AMBIENT_SPEECH_WITH_VOICE( l_U3776[l_U4731], "TARGET", "M_Y_COP_TRAFFIC_HISPANIC", 1, 1, 2 );
                            }
                            else if (l_U4729 == 4)
                            {
                                SAY_AMBIENT_SPEECH_WITH_VOICE( l_U3776[l_U4731], "TARGET", "M_Y_COP_TRAFFIC_WHITE", 1, 1, 2 );
                            }
                            else if (l_U4729 == 5)
                            {
                                SAY_AMBIENT_SPEECH_WITH_VOICE( l_U3776[l_U4731], "TARGET", "M_Y_COP_WHITE", 1, 1, 2 );
                            }
                            else if (l_U4729 == 6)
                            {
                                SAY_AMBIENT_SPEECH_WITH_VOICE( l_U3776[l_U4731], "MOVE_IN", "M_Y_COP_TRAFFIC_BLACK", 1, 1, 2 );
                            }
                            else if (l_U4729 == 7)
                            {
                                SAY_AMBIENT_SPEECH_WITH_VOICE( l_U3776[l_U4731], "TARGET", "M_Y_COP_WHITE_02", 1, 1, 2 );
                            }
                            else if (l_U4729 == 8)
                            {
                                SAY_AMBIENT_SPEECH_WITH_VOICE( l_U3776[l_U4731], "TARGET", "M_Y_STROOPER_WHITE_01", 1, 1, 2 );
                            }
                            else if (l_U4729 == 9)
                            {
                                SAY_AMBIENT_SPEECH_WITH_VOICE( l_U3776[l_U4731], "TARGET", "M_Y_SWAT_BLACK", 1, 1, 2 );
                            }
                            else if (l_U4729 == 10)
                            {
                                SAY_AMBIENT_SPEECH_WITH_VOICE( l_U3776[l_U4731], "MOVE_IN", "M_M_FATCOP_01_BLACK", 1, 1, 2 );
                            }
                            else if (l_U4729 == 11)
                            {
                                SAY_AMBIENT_SPEECH_WITH_VOICE( l_U3776[l_U4731], "TARGET", "M_M_FATCOP_01_BLACK", 1, 1, 2 );
                            };;;;;;;;;;;;
                            if (IS_AMBIENT_SPEECH_PLAYING( l_U3776[l_U4731] ))
                            {
                                CLEAR_CHAR_LAST_DAMAGE_ENTITY( l_U3776[l_U4731] );
                                GET_GAME_TIMER( ref l_U4732 );
                                l_U4179 = 1;
                                l_U4177 = 0;
                            }
                        }
                        if (l_U4178 == 1)
                        {
                            GENERATE_RANDOM_INT_IN_RANGE( 0, 2, ref l_U4729 );
                            if (l_U4729 == 0)
                            {
                                if ((NOT (sub_3929( l_U4914 ))) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND (NOT IS_MESSAGE_BEING_DISPLAYED()))))
                                {
                                    if (NOT (IS_CHAR_INJURED( l_U3776[l_U4731] )))
                                    {
                                        sub_16117( 2, l_U3776[l_U4731], "NOOSE_AGENT1", 0 );
                                        sub_16284( "E2Y4_COP1", ref l_U4908, 5, 1 );
                                        if (sub_3929( l_U4908 ))
                                        {
                                            CLEAR_CHAR_LAST_DAMAGE_ENTITY( l_U3776[l_U4731] );
                                            l_U4180 = 1;
                                            l_U4178 = 0;
                                            GET_GAME_TIMER( ref l_U4732 );
                                        }
                                    }
                                    else if (DOES_CHAR_EXIST( l_U3776[l_U4731] ))
                                    {
                                        CLEAR_CHAR_LAST_DAMAGE_ENTITY( l_U3776[l_U4731] );
                                    }
                                    l_U4178 = 0;;
                                }
                            }
                            else if (l_U4729 == 1)
                            {
                                if ((NOT (sub_3929( l_U4914 ))) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND (NOT IS_MESSAGE_BEING_DISPLAYED()))))
                                {
                                    if (NOT (IS_CHAR_INJURED( l_U3776[l_U4731] )))
                                    {
                                        sub_16117( 3, l_U3776[l_U4731], "NOOSE_AGENT2", 0 );
                                        sub_16284( "E2Y4_COP2", ref l_U4908, 5, 1 );
                                        if (sub_3929( l_U4908 ))
                                        {
                                            CLEAR_CHAR_LAST_DAMAGE_ENTITY( l_U3776[l_U4731] );
                                            l_U4180 = 1;
                                            l_U4178 = 0;
                                            GET_GAME_TIMER( ref l_U4732 );
                                        }
                                    }
                                    else if (DOES_CHAR_EXIST( l_U3776[l_U4731] ))
                                    {
                                        CLEAR_CHAR_LAST_DAMAGE_ENTITY( l_U3776[l_U4731] );
                                    }
                                    l_U4178 = 0;;
                                }
                            }
                        }
                    }
                    else if (DOES_CHAR_EXIST( l_U3776[l_U4731] ))
                    {
                        CLEAR_CHAR_LAST_DAMAGE_ENTITY( l_U3776[l_U4731] );
                    }
                    l_U4177 = 0;;
                }
                if (l_U4176 == 1)
                {
                    if (DOES_CHAR_EXIST( l_U3776[l_U4731] ))
                    {
                        if ((NOT (sub_3929( l_U4914 ))) AND ((NOT (sub_3929( l_U4908 ))) AND (NOT (IS_CHAR_INJURED( l_U3776[l_U4731] )))))
                        {
                            GENERATE_RANDOM_INT_IN_RANGE( 0, 3, ref l_U4729 );
                            if (l_U4729 == 0)
                            {
                                SAY_AMBIENT_SPEECH_WITH_VOICE( l_U3776[l_U4731], "OFFICER_DOWN", "M_Y_COP_TRAFFIC_BLACK", 1, 1, 2 );
                            }
                            else if (l_U4729 == 1)
                            {
                                SAY_AMBIENT_SPEECH_WITH_VOICE( l_U3776[l_U4731], "OFFICER_DOWN", "M_Y_COP_TRAFFIC_HISPANIC", 1, 1, 2 );
                            }
                            else if (l_U4729 == 2)
                            {
                                SAY_AMBIENT_SPEECH_WITH_VOICE( l_U3776[l_U4731], "OFFICER_DOWN", "M_Y_COP_WHITE_02", 1, 1, 2 );
                            };;;
                            if (IS_AMBIENT_SPEECH_PLAYING( l_U3776[l_U4731] ))
                            {
                                CLEAR_CHAR_LAST_DAMAGE_ENTITY( l_U3776[l_U4731] );
                                GET_GAME_TIMER( ref l_U4732 );
                                l_U4176 = 0;
                            }
                        }
                        else
                        {
                            CLEAR_CHAR_LAST_DAMAGE_ENTITY( l_U3776[l_U4731] );
                            l_U4176 = 0;
                        }
                    }
                }
            }
            if ((NOT (sub_3929( l_U4914 ))) AND ((l_U4177 == 0) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4179))))))
            {
                sub_16284( "E2Y4_FIGHT", ref l_U4914, 6, 1 );
                l_U4179 = 0;
            }
            if ((NOT (sub_3929( l_U4914 ))) AND ((l_U4178 == 0) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4180))))))
            {
                GENERATE_RANDOM_INT_IN_RANGE( 0, 5, ref l_U4729 );
                if (l_U4729 == 0)
                {
                    sub_16284( "E2Y4_FIGHT", ref l_U4914, 5, 1 );
                    l_U4180 = 0;
                }
                else if (l_U4729 == 1)
                {
                    sub_16284( "E2Y4_GRUNT", ref l_U4914, 5, 1 );
                    l_U4180 = 0;
                }
                else
                {
                    sub_16284( "E2Y4_CFIGH", ref l_U4914, 5, 1 );
                    l_U4180 = 0;
                }
            }
        }
    }
    else
    {
        sub_4113( ref l_U4914, 1 );
    }
    switch (l_U4727)
    {
        case 0:
        if ((g_U42911[0] == 100) || (g_U42911[0] == 0))
        {
            if ((NOT (sub_17947( l_U4908 ))) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[0] == 0)))))
            {
                sub_16284( "E2Y4_HEAD", ref l_U4908, 7, 1 );
                l_U4901 = "E2Y4_HEAD";
                l_U4124[0] = 1;
            }
        }
        else if ((NOT (sub_17947( l_U4908 ))) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[0] == 0)))))
        {
            sub_16284( "E2Y4_WHER2", ref l_U4908, 7, 1 );
            l_U4901 = "E2Y4_WHER2";
            l_U4124[0] = 1;
        }
        break;
        case 1:
        if ((g_U42911[0] == 100) || (g_U42911[0] == 0))
        {
            if ((NOT (sub_17947( l_U4908 ))) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[1] == 0)))))
            {
                sub_16284( "E2Y4_B1AV1", ref l_U4908, 5, 1 );
                l_U4901 = "E2Y4_B1AV1";
                l_U4727++;
                l_U4124[1] = 1;
            }
        }
        else if ((g_U42911[0] == 101) || (g_U42911[0] == 1))
        {
            if ((NOT (sub_17947( l_U4908 ))) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[1] == 0)))))
            {
                sub_16284( "E2Y4_B1AV2", ref l_U4908, 5, 1 );
                l_U4901 = "E2Y4_B1AV2";
                l_U4727++;
                l_U4124[1] = 1;
            }
        }
        else if ((NOT (sub_17947( l_U4908 ))) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND ((l_U4124[1] == 0) AND ((g_U42911[0] > 101) || (g_U42911[0] > 1)))))))
        {
            SAY_AMBIENT_SPEECH( l_U3775, "LISTEN_TO_RADIO", 0, 0, 0 );
            l_U4124[1] = 1;
        };;;
        break;
        case 2:
        if ((g_U42911[0] == 100) || (g_U42911[0] == 0))
        {
            if ((NOT (sub_17947( l_U4908 ))) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[2] == 0)))))
            {
                sub_16284( "E2Y4_B1BV1", ref l_U4908, 5, 1 );
                l_U4901 = "E2Y4_B1BV1";
                l_U4727++;
                l_U4124[2] = 1;
            }
        }
        else if ((g_U42911[0] == 101) || (g_U42911[0] == 1))
        {
            if ((NOT (sub_17947( l_U4908 ))) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[2] == 0)))))
            {
                sub_16284( "E2Y4_B1BV2", ref l_U4908, 5, 1 );
                l_U4901 = "E2Y4_B1BV2";
                l_U4727++;
                l_U4124[2] = 1;
            }
        }
        break;
        case 3:
        if ((g_U42911[0] == 100) || (g_U42911[0] == 0))
        {
            if ((NOT (sub_17947( l_U4908 ))) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[3] == 0)))))
            {
                sub_16284( "E2Y4_B1CV1", ref l_U4908, 5, 1 );
                l_U4901 = "E2Y4_B1CV1";
                l_U4727++;
                l_U4124[3] = 1;
            }
        }
        else if ((g_U42911[0] == 101) || (g_U42911[0] == 1))
        {
            if ((NOT (sub_17947( l_U4908 ))) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[3] == 0)))))
            {
                sub_16284( "E2Y4_B1CV2", ref l_U4908, 5, 1 );
                l_U4901 = "E2Y4_B1CV2";
                l_U4727++;
                l_U4124[3] = 1;
            }
        }
        break;
        case 4:
        if ((g_U42911[0] == 100) || (g_U42911[0] == 0))
        {
            if ((NOT (sub_17947( l_U4908 ))) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[4] == 0)))))
            {
                sub_16284( "E2Y4_B1DV1", ref l_U4908, 5, 1 );
                l_U4901 = "E2Y4_B1DV1";
                l_U4124[4] = 1;
            }
        }
        else if ((g_U42911[0] == 101) || (g_U42911[0] == 1))
        {
            if ((NOT (sub_17947( l_U4908 ))) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[4] == 0)))))
            {
                sub_16284( "E2Y4_B1DV2", ref l_U4908, 5, 1 );
                l_U4901 = "E2Y4_B1DV2";
                l_U4124[4] = 1;
            }
        }
        break;
        case 5:
        if ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[5] == 0)))
        {
            sub_16284( "E2Y4_ARRBR", ref l_U4908, 7, 1 );
            l_U4901 = "E2Y4_ARRBR";
            l_U4124[5] = 1;
        }
        break;
        case 7:
        if ((NOT (sub_17947( l_U4908 ))) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[7] == 0)))))
        {
            sub_16284( "E2Y4_TRNCO", ref l_U4908, 7, 1 );
            l_U4901 = "E2Y4_TRNCO";
            l_U4124[7] = 1;
        }
        break;
        case 8:
        if ((NOT (sub_17947( l_U4908 ))) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[8] == 0)))))
        {
            sub_16284( "E2Y4_JUMP", ref l_U4908, 7, 1 );
            l_U4901 = "E2Y4_JUMP";
            l_U4124[8] = 1;
        }
        break;
        case 9:
        if ((NOT (sub_17947( l_U4908 ))) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[9] == 0)))))
        {
            sub_16284( "E2Y4_NJUMP", ref l_U4908, 7, 1 );
            l_U4901 = "E2Y4_NJUMP";
            l_U4124[9] = 1;
        }
        break;
        case 10:
        if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[10] == 0))))
        {
            sub_16284( "E2Y4_LJUMP", ref l_U4908, 7, 1 );
            l_U4124[10] = 1;
        }
        break;
        case 11:
        if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[11] == 0))))
        {
            sub_16284( "E2Y4_FIGHT", ref l_U4908, 5, 1 );
            l_U4124[11] = 1;
        }
        break;
        case 12:
        if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[12] == 0))))
        {
            sub_16284( "E2Y4_CFIGH", ref l_U4908, 5, 1 );
            l_U4124[12] = 1;
        }
        break;
        case 13:
        if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[13] == 0))))
        {
            sub_16284( "E2Y4_CLOSE", ref l_U4908, 7, 1 );
            l_U4124[13] = 1;
        }
        break;
        case 14:
        if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[14] == 0))))
        {
            sub_16284( "E2Y4_GRUNT", ref l_U4908, 5, 1 );
            l_U4124[14] = 1;
        }
        break;
        case 15:
        if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[15] == 0))))
        {
            sub_16284( "E2Y4_CALLF", ref l_U4908, 7, 1 );
            l_U4124[15] = 1;
        }
        break;
        case 16:
        if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[16] == 0))))
        {
            sub_16284( "E2Y4_YUARR", ref l_U4908, 7, 1 );
            l_U4727++;
            l_U4124[16] = 1;
        }
        break;
        case 17:
        if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[17] == 0))))
        {
            sub_16284( "E2Y4_DISCO", ref l_U4908, 7, 1 );
            l_U4727++;
            l_U4124[17] = 1;
        }
        break;
        case 18:
        GENERATE_RANDOM_INT_IN_RANGE( 0, 2, ref l_U4728 );
        if (l_U4728 == 0)
        {
            if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[18] == 0))))
            {
                sub_16284( "E2Y4_HURRY", ref l_U4908, 7, 1 );
                l_U4901 = "E2Y4_HURRY";
                l_U4124[18] = 1;
            }
        }
        else if (l_U4728 == 1)
        {
            if ((NOT (sub_17947( l_U4908 ))) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[18] == 0)))))
            {
                sub_16284( "E2Y4_COMON", ref l_U4908, 7, 1 );
                l_U4901 = "E2Y4_COMON";
                l_U4124[18] = 1;
            }
        }
        break;
        case 19:
        if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[19] == 0))))
        {
            sub_16284( "E2Y4_UNCOU", ref l_U4908, 7, 1 );
            l_U4124[19] = 1;
        }
        break;
        case 20:
        if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[20] == 0))))
        {
            sub_16284( "E2Y4_ABOUT", ref l_U4908, 7, 1 );
            l_U4124[20] = 1;
        }
        break;
        case 21:
        GENERATE_RANDOM_INT_IN_RANGE( 0, 2, ref l_U4728 );
        if (l_U4728 == 0)
        {
            if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[21] == 0))))
            {
                sub_16284( "E2Y4_FORCE", ref l_U4908, 7, 1 );
                l_U4727++;
                l_U4124[21] = 1;
            }
        }
        else if (l_U4728 == 1)
        {
            if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[21] == 0))))
            {
                sub_16284( "E2Y4_ABLOW", ref l_U4908, 7, 1 );
                l_U4727++;
                l_U4124[21] = 1;
            }
        }
        break;
        case 22:
        if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[22] == 0))))
        {
            sub_16284( "E2Y4_YBOOM", ref l_U4908, 7, 1 );
            l_U4124[22] = 1;
        }
        break;
        case 24:
        if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[24] == 0))))
        {
            sub_16284( "E2Y4_LSHOOY", ref l_U4908, 7, 1 );
            l_U4124[24] = 1;
        }
        break;
        case 25:
        if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[25] == 0))))
        {
            sub_16284( "E2Y4_PICUP", ref l_U4908, 7, 1 );
            l_U4727++;
            l_U4124[25] = 1;
        }
        break;
        case 26:
        if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[26] == 0))))
        {
            sub_16284( "E2Y4_SHEIT", ref l_U4908, 7, 1 );
            l_U4727++;
            l_U4124[26] = 1;
        }
        break;
        case 27:
        if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[27] == 0))))
        {
            sub_16284( "E2Y4_FYEAH", ref l_U4908, 7, 1 );
            l_U4727++;
            l_U4124[27] = 1;
        }
        break;
        case 28:
        if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[28] == 0))))
        {
            sub_16284( "E2Y4_LYEAH", ref l_U4908, 7, 1 );
            l_U4727++;
            l_U4124[28] = 1;
        }
        break;
        case 29:
        if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[29] == 0))))
        {
            sub_16284( "E2Y4_YENDM", ref l_U4908, 7, 1 );
            l_U4727 = 41;
            l_U4124[29] = 1;
        }
        break;
        case 30:
        if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[30] == 0))))
        {
            sub_16284( "E2Y4_CMISS", ref l_U4908, 7, 1 );
            l_U4124[30] = 1;
        }
        break;
        case 31:
        if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[31] == 0))))
        {
            sub_16284( "E2Y4_CFALL", ref l_U4908, 7, 1 );
            l_U4124[31] = 1;
        }
        break;
        case 32:
        if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[32] == 0))))
        {
            sub_16284( "E2Y4_CGENF", ref l_U4908, 7, 1 );
            l_U4124[32] = 1;
        }
        break;
        case 33:
        if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[33] == 0))))
        {
            sub_16284( "E2Y4_FCUT", ref l_U4908, 7, 1 );
            l_U4124[33] = 1;
        }
        break;
        case 34:
        GENERATE_RANDOM_INT_IN_RANGE( 0, 2, ref l_U4728 );
        if (l_U4728 == 0)
        {
            if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[34] == 0))))
            {
                sub_16284( "E2Y4_EXAMO", ref l_U4908, 7, 1 );
                l_U4124[34] = 1;
            }
        }
        else if (l_U4728 == 1)
        {
            if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[34] == 0))))
            {
                sub_16284( "E2Y4_EXFUN", ref l_U4908, 7, 1 );
                l_U4124[34] = 1;
            }
        }
        break;
        case 36:
        if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[36] == 0))))
        {
            sub_16284( "E2Y4_SEEYA", ref l_U4908, 7, 1 );
            l_U4124[36] = 1;
        }
        break;
        case 37:
        if (g_U42911[0] == 0)
        {
            if ((NOT (sub_17947( l_U4908 ))) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[37] == 0)))))
            {
                sub_16284( "E2Y4_CHAT1", ref l_U4908, 5, 1 );
                l_U4901 = "E2Y4_CHAT1";
                l_U4727++;
                l_U4124[37] = 1;
            }
        }
        else if (g_U42911[0] == 1)
        {
            if ((NOT (sub_17947( l_U4908 ))) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[37] == 0)))))
            {
                sub_16284( "E2Y4_CHAT3", ref l_U4908, 5, 1 );
                l_U4901 = "E2Y4_CHAT3";
                l_U4727++;
                l_U4124[37] = 1;
            }
        }
        break;
        case 38:
        if ((NOT (sub_17947( l_U4908 ))) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[38] == 0)))))
        {
            sub_16284( "E2Y4_CHAT2", ref l_U4908, 5, 1 );
            l_U4901 = "E2Y4_CHAT2";
            l_U4124[38] = 1;
        }
        break;
        case 41:
        if ((NOT (sub_17947( l_U4908 ))) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[41] == 0)))))
        {
            sub_16284( "E2Y4_ENDCT", ref l_U4908, 7, 1 );
            l_U4901 = "E2Y4_ENDCT";
            l_U4727++;
            l_U4124[41] = 1;
        }
        break;
        case 42:
        if ((NOT (sub_17947( l_U4908 ))) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[42] == 0)))))
        {
            sub_16284( "E2Y4_BYEB", ref l_U4908, 7, 1 );
            l_U4901 = "E2Y4_BYEB";
            l_U4124[42] = 1;
        }
        break;
        case 43:
        if ((NOT (sub_17947( l_U4908 ))) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[43] == 0)))))
        {
            sub_16284( "E2Y4_SHEL", ref l_U4908, 7, 1 );
            l_U4901 = "E2Y4_SHEL";
            l_U4124[43] = 1;
        }
        break;
        case 44:
        if ((NOT (sub_17947( l_U4908 ))) AND ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (l_U4124[44] == 0)))))
        {
            sub_16284( "E2Y4_ETRN", ref l_U4908, 7, 1 );
            l_U4901 = "E2Y4_ETRN";
            l_U4124[44] = 1;
        }
        break;
    }
    return;
}

void sub_16117(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    l_U2829._fU16[uParam0]._fU0 = uParam1;
    StrCopy( ref l_U2829._fU16[uParam0]._fU4, uParam2, 32 );
    if (NOT (IS_CHAR_INJURED( uParam1 )))
    {
        BLOCK_CHAR_AMBIENT_ANIMS( uParam1, uParam3 );
    }
    sub_16201( "\n PED NUMBER ", uParam0 );
    sub_16241( " ADDED WITH VOICE ", uParam2 );
    return;
}

void sub_16201(unknown uParam0, unknown uParam1)
{
    return;
}

void sub_16241(unknown uParam0, unknown uParam1)
{
    return;
}

void sub_16284(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    return sub_16307( uParam0, ref l_U2829._fU0, uParam1, uParam2, uParam3 );
}

void sub_16307(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    char[16] cVar7;
    char[12] cVar11;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    StrCopy( ref cVar7, uParam1, 16 );
    array(ref cVar11, 2);
    StrCopy( ref cVar11[0], uParam0, 16 );
    StrCopy( ref cVar11[1], "END", 16 );
    return sub_13668( ref cVar11, uParam2, uParam3, 0, 0, 0, 0, ref cVar7, uParam4 );
}

void sub_17947(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    return uParam0._fU12;
}

int sub_23594(int iParam0)
{
    if (iParam0->_fU12)
    {
        sub_4041( "\n already paused" );
    }
    else if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if (iParam0->_fU4 == g_U8866)
        {
            iParam0->_fU8 += (ABORT_SCRIPTED_CONVERSATION( 1 )) + 1;
            sub_4041( "\n CONVERSATION PAUSED AT LINE " );
            sub_23734( iParam0->_fU8 );
            iParam0->_fU12 = 1;
            iParam0->_fU16 = 0;
            return 1;
        }
        else
        {
            sub_4041( "\n NOT pausing the line as scripted and global speech id dont match" );
        }
    }
    else
    {
        sub_4041( "\n NOT pausing the line as conversation is not playing" );
    }
    if (NOT iParam0->_fU12)
    {
        iParam0->_fU8 = -1;
        sub_4041( "\n reseting paused struct line" );
    }
    return 0;
}

void sub_23734(unknown uParam0)
{
    return;
}

void sub_24116()
{
    if (DOES_BLIP_EXIST( l_U3920 ))
    {
        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3920 );
    }
    if (DOES_BLIP_EXIST( l_U3921 ))
    {
        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3921 );
    }
    if (DOES_BLIP_EXIST( l_U3922 ))
    {
        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3922 );
    }
    if (DOES_BLIP_EXIST( l_U3923 ))
    {
        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3923 );
    }
    if (DOES_BLIP_EXIST( l_U3924 ))
    {
        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3924 );
    }
    if ((l_U3592 == 1) AND (l_U4709 == 4))
    {
        if ((NOT IS_SCREEN_FADING_OUT()) AND (NOT IS_SCREEN_FADED_OUT()))
        {
            DO_SCREEN_FADE_OUT( 500 );
            while (NOT IS_SCREEN_FADED_OUT())
            {
                WAIT( 0 );
            }
        }
        if (NOT (IS_CHAR_INJURED( sub_4345() )))
        {
            SET_CHAR_DUCKING( sub_4345(), 0 );
            LOAD_SCENE( 2300.66300000, 460.11780000, 20.82560000 );
            CLEAR_AREA( 2300.66300000, 460.11780000, 20.82560000, 50.00000000, 1 );
            if (IS_PED_ATTACHED_TO_ANY_CAR( sub_4345() ))
            {
                DETACH_PED( sub_4345(), 1 );
            }
            if (IS_CHAR_IN_ANY_CAR( sub_4345() ))
            {
                WARP_CHAR_FROM_CAR_TO_COORD( sub_4345(), 2300.66300000, 460.11780000, 20.82560000 );
                SET_CHAR_HEADING( sub_4345(), 266.96430000 );
                SET_CAM_BEHIND_PED( sub_4345() );
            }
            else
            {
                SET_CHAR_COORDINATES( sub_4345(), 2300.66300000, 460.11780000, 20.82560000 );
                SET_CHAR_HEADING( sub_4345(), 266.96430000 );
                SET_CAM_BEHIND_PED( sub_4345() );
            }
        }
    }
    if (l_U4709 == 2)
    {
        PRINT_NOW( "DT_FAIL_2", 7500, 1 );
        sub_24649( 2, "E2Y4_CMISS", "E2Y4AUD", 0 );
    }
    else if (l_U4709 == 4)
    {
        if (l_U4264 == 0)
        {
            PRINT_NOW( "DT_FAIL_4", 7500, 1 );
        }
    }
    else if (l_U4709 == 5)
    {
        PRINT_NOW( "DT_FAIL_5", 7500, 1 );
        sub_24649( 2, "E2Y4_CGENF", "E2Y4AUD", 0 );
    };;;
    sub_25459();
    sub_3772();
    return;
}

void sub_24649(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    char[12] cVar6;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;

    array(ref cVar6, 2);
    StrCopy( ref cVar6[0], uParam1, 16 );
    StrCopy( ref cVar6[1], "END", 16 );
    sub_24693( uParam0, ref cVar6, uParam2, 10000, uParam3, 0 );
    return;
}

void sub_24693(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    unknown uVar36;
    int I;
    int iVar38;

    if (g_U43133)
    {
        PRINTSTRING( "KGM........End of mission call blocked because the mission is being repeated\n" );
        return;
    }
    array(ref uVar8._fU32, 5);
    ref uVar8;
    iVar38 = uVar8._fU32;
    if (NOT (IS_THREAD_ACTIVE( g_U818 )))
    {
        uVar8._fU12 = uParam0;
        if ((uParam1^) > iVar38)
        {
            SCRIPT_ASSERT( "TELL SIMON END CALL ARRAY SIZE NEEDS INCREASING" );
            return;
        }
        for ( I = 0; I <= ((uParam1^) - 1); I++ )
        {
            uVar8._fU32[I] = {(uParam1^)[I]};
        }
        if ((uParam1^) < iVar38)
        {
            StrCopy( ref uVar8._fU32[(uParam1^)], "END", 16 );
        }
        StrCopy( ref uVar8._fU16, uParam2, 16 );
        uVar8._fU0 = uParam3;
        uVar8._fU4 = uParam4;
        uVar8._fU8 = uParam5;
        REQUEST_SCRIPT( "SPcellphoneEndCall" );
        while (NOT (HAS_SCRIPT_LOADED( "SPcellphoneEndCall" )))
        {
            REQUEST_SCRIPT( "SPcellphoneEndCall" );
            WAIT( 0 );
        }
        g_U817 = 1;
        g_U818 = START_NEW_SCRIPT_WITH_ARGS( "SPcellphoneEndCall", ref uVar8, 29, 1024 );
        MARK_SCRIPT_AS_NO_LONGER_NEEDED( "SPcellphoneEndCall" );
    }
    else
    {
        SCRIPT_ASSERT( "MAKE_END_OF_MISSION_CALL() has been called more than once, might be in a loop" );
    }
    return;
}

void sub_25459()
{
    int iVar2;

    iVar2 = 2;
    sub_25473( iVar2 );
    sub_2747( iVar2 );
    return;
}

void sub_25473(unknown uParam0)
{
    if (g_U12382[uParam0]._fU12)
    {
        return;
    }
    SET_PLAYER_MOOD_PISSED_OFF( sub_4399(), 150 );
    CLEAR_HELP();
    sub_1461( uParam0 );
    return;
}

void sub_25609(unknown uParam0, int iParam1, unknown uParam2)
{
    if (iParam1 == nil)
    {
        return;
    }
    if (NOT (DOES_CHAR_EXIST( iParam1 )))
    {
        return;
    }
    g_U42871._fU0 = uParam0;
    g_U42871._fU4 = iParam1;
    g_U42871._fU8 = uParam2;
    g_U42871._fU12 = 0;
    if (g_U12379)
    {
        g_U42871._fU12 = 1;
    }
    return;
}

int sub_25909(boolean bParam0, boolean bParam1)
{
    unknown uVar4;
    int iVar5;
    float fVar6;

    if (IS_MINIGAME_IN_PROGRESS())
    {
        return 0;
    }
    if (bParam1)
    {
        if (IS_CHAR_IN_ANY_CAR( sub_4345() ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_4345(), ref uVar4 );
            if (NOT (IS_CAR_DEAD( uVar4 )))
            {
                GET_CAR_UPRIGHT_VALUE( uVar4, ref fVar6 );
                if ((fVar6 > 1.01100000) || (fVar6 < 0.95000000))
                {
                    return 0;
                }
            }
        }
    }
    if (bParam0)
    {
        if (IS_CHAR_IN_ANY_CAR( sub_4345() ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_4345(), ref uVar4 );
            if (NOT (IS_CAR_DEAD( uVar4 )))
            {
                GET_DRIVER_OF_CAR( uVar4, ref iVar5 );
                if (NOT (iVar5 == sub_4345()))
                {
                    return 0;
                }
            }
        }
    }
    if (IS_CHAR_IN_ANY_CAR( sub_4345() ))
    {
        if (NOT (IS_CHAR_SITTING_IN_ANY_CAR( sub_4345() )))
        {
            return 0;
        }
    }
    if (NOT (IS_PLAYER_READY_FOR_CUTSCENE( sub_4399() )))
    {
        return 0;
    }
    if (NOT (CAN_PLAYER_START_MISSION( sub_4399() )))
    {
        return 0;
    }
    return 1;
}

void sub_26336()
{
    return IS_SCRIPTED_CONVERSATION_ONGOING();
}

void sub_26366(unknown uParam0)
{
    PRINTSTRING( "\n KILL_ANY_MISSION_SPEECH CALLED***************************************" );
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if ((g_U8865 <= 8) AND (g_U8865 >= 4))
        {
            ABORT_SCRIPTED_CONVERSATION( uParam0 );
        }
    }
    return;
}

void sub_26588()
{
    int I;

    sub_26597();
    for ( I = 0; I < 3; I++ )
    {
        if (DOES_BLIP_EXIST( l_U3040[I] ))
        {
            REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3040[I] );
        }
    }
    if (DOES_BLIP_EXIST( l_U3039 ))
    {
        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3039 );
    }
    l_U3045 = nil;
    l_U3019 = 0;
    for ( I = 0; I < l_U3020; I++ )
    {
        l_U3020[I] = 0;
        l_U3035[I] = 0;
    }
    l_U3015 = 0;
    l_U3013 = 0;
    l_U3014 = 0;
    l_U3016 = 0;
    l_U3018 = 0;
    l_U3017 = 0;
    l_U3024 = 0;
    l_U3025 = 0;
    l_U3027 = 0;
    l_U3028 = 0;
    l_U3051 = 0;
    for ( I = 0; I < l_U3053; I++ )
    {
        if (NOT (IS_CHAR_INJURED( l_U3053[I] )))
        {
            BLOCK_CHAR_AMBIENT_ANIMS( l_U3053[I], 0 );
            SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( l_U3053[I], 1 );
        }
    }
    if (IS_PLAYER_PLAYING( sub_4399() ))
    {
        BLOCK_CHAR_AMBIENT_ANIMS( sub_4345(), 0 );
    }
    if (IS_PLAYER_PLAYING( sub_4399() ))
    {
        SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( sub_4345(), 1 );
    }
    l_U3029 = 0;
    l_U3030 = 0;
    l_U3031 = 0;
    l_U3032 = 0;
    return;
}

void sub_26597()
{
    if (DOES_BLIP_EXIST( l_U3044 ))
    {
        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3044 );
    }
    return;
}

void sub_28564(unknown uParam0)
{
    if ((sub_28575( uParam0 )) > g_U43138[g_U43137]._fU12)
    {
        g_U43564 = 0;
    }
    else
    {
        g_U43564 = 1;
    }
    if (g_U43602 == 1)
    {
        g_U43613 = sub_29014();
        g_U43602 = 0;
    }
    if (g_U43133 == 1)
    {
        if (g_U43624 == 0)
        {
            if ((sub_28575( uParam0 )) < g_U43613)
            {
                g_U43577 = 1;
            }
            else
            {
                g_U43577 = 0;
            }
        }
        else
        {
            g_U43577 = 0;
        }
    }
    else
    {
        g_U43577 = 0;
    }
    if (g_U43137 == 4)
    {
        if ((FLOOR( (TO_FLOAT( sub_29612() )) / 1000 )) <= (FLOOR( (TO_FLOAT( g_U43138[g_U43137]._fU44 )) / 1000 )))
        {
            g_U43570 = 1;
        }
        else
        {
            g_U43570 = 0;
        }
        if (g_U43601 == 1)
        {
            g_U43615 = sub_29836();
            g_U43601 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if ((FLOOR( (TO_FLOAT( sub_29612() )) / 1000 )) < (FLOOR( (TO_FLOAT( g_U43615 )) / 1000 )))
                {
                    g_U43576 = 1;
                }
                else
                {
                    g_U43576 = 0;
                }
            }
            else
            {
                g_U43576 = 0;
            }
        }
        else
        {
            g_U43576 = 0;
        }
    }
    if (g_U43137 == 10)
    {
        if ((FLOOR( (TO_FLOAT( sub_29612() )) / 1000 )) <= (FLOOR( (TO_FLOAT( g_U43138[g_U43137]._fU44 )) / 1000 )))
        {
            g_U43570 = 1;
        }
        else
        {
            g_U43570 = 0;
        }
        if (g_U43601 == 1)
        {
            g_U43615 = sub_29836();
            g_U43601 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if ((FLOOR( (TO_FLOAT( sub_29612() )) / 1000 )) < (FLOOR( (TO_FLOAT( g_U43615 )) / 1000 )))
                {
                    g_U43576 = 1;
                }
                else
                {
                    g_U43576 = 0;
                }
            }
            else
            {
                g_U43576 = 0;
            }
        }
        else
        {
            g_U43576 = 0;
        }
    }
    if (g_U43137 == 7)
    {
        if ((FLOOR( (TO_FLOAT( sub_29612() )) / 1000 )) <= (FLOOR( (TO_FLOAT( g_U43138[g_U43137]._fU44 )) / 1000 )))
        {
            g_U43570 = 1;
        }
        else
        {
            g_U43570 = 0;
        }
        if (g_U43601 == 1)
        {
            g_U43615 = sub_29836();
            g_U43601 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if ((FLOOR( (TO_FLOAT( sub_29612() )) / 1000 )) < (FLOOR( (TO_FLOAT( g_U43615 )) / 1000 )))
                {
                    g_U43576 = 1;
                }
                else
                {
                    g_U43576 = 0;
                }
            }
            else
            {
                g_U43576 = 0;
            }
        }
        else
        {
            g_U43576 = 0;
        }
    }
    if ((sub_30943( uParam0 )) >= g_U43138[g_U43137]._fU24)
    {
        g_U43565 = 1;
    }
    else
    {
        g_U43565 = 0;
    }
    if (g_U43606 == 1)
    {
        g_U43618 = sub_31141();
        g_U43606 = 0;
    }
    if (g_U43133 == 1)
    {
        if (g_U43624 == 0)
        {
            if ((sub_30943( uParam0 )) > g_U43618)
            {
                g_U43581 = 1;
            }
            else
            {
                g_U43581 = 0;
            }
        }
        else
        {
            g_U43581 = 0;
        }
    }
    else
    {
        g_U43581 = 0;
    }
    return;
}

void sub_28575(unknown uParam0)
{
    if (g_U43499 == 1)
    {
        if (IS_VEH_DRIVEABLE( uParam0 ))
        {
            GET_CAR_HEALTH( uParam0, ref g_U43511 );
        }
        g_U43512 = g_U43510 - g_U43511;
        g_U43559 = ((TO_FLOAT( g_U43512 )) / (TO_FLOAT( g_U43510 ))) * 100;
    }
    g_U43559 = sub_28692( uParam0 );
    g_U43559 = TO_FLOAT( FLOOR( g_U43559 ) );
    if (g_U43559 < 0)
    {
        g_U43559 = 0;
    }
    return g_U43559;
}

float sub_28692(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    float Result;
    unknown uVar7;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_HEALTH( uParam0, ref uVar7 );
        uVar3 = sub_28738( 100, TO_FLOAT( uVar7 ) );
        uVar4 = GET_PETROL_TANK_HEALTH( uParam0 );
        uVar5 = GET_ENGINE_HEALTH( uParam0 );
        Result = sub_28802( uVar3, sub_28802( uVar4, uVar5 ) );
        Result /= 10.00000000;
        Result = 100 - Result;
        return Result;
    }
    return 100.00000000;
}

void sub_28738(float Result, float fParam1)
{
    if (fParam1 < Result)
    {
        return Result;
    }
    return fParam1;
}

void sub_28802(float Result, float fParam1)
{
    if (Result < fParam1)
    {
        return Result;
    }
    return fParam1;
}

int sub_29014()
{
    if (g_U43137 == 0)
    {
        return GET_INT_STAT( 476 );
    }
    if (g_U43137 == 1)
    {
        ;
    }
    if (g_U43137 == 2)
    {
        ;
    }
    if (g_U43137 == 3)
    {
        return GET_INT_STAT( 490 );
    }
    if (g_U43137 == 21)
    {
        ;
    }
    if (g_U43137 == 15)
    {
        ;
    }
    if (g_U43137 == 16)
    {
        ;
    }
    if (g_U43137 == 17)
    {
        return GET_INT_STAT( 559 );
    }
    if (g_U43137 == 12)
    {
        return GET_INT_STAT( 526 );
    }
    if (g_U43137 == 13)
    {
        ;
    }
    if (g_U43137 == 19)
    {
        ;
    }
    if (g_U43137 == 20)
    {
        ;
    }
    if (g_U43137 == 5)
    {
        ;
    }
    if (g_U43137 == 4)
    {
        ;
    }
    if (g_U43137 == 6)
    {
        ;
    }
    if (g_U43137 == 7)
    {
        ;
    }
    if (g_U43137 == 8)
    {
        return GET_INT_STAT( 513 );
    }
    if (g_U43137 == 9)
    {
        return GET_INT_STAT( 611 );
    }
    if (g_U43137 == 14)
    {
        return GET_INT_STAT( 540 );
    }
    if (g_U43137 == 22)
    {
        ;
    }
    if (g_U43137 == 23)
    {
        ;
    }
    if (g_U43137 == 24)
    {
        ;
    }
    if (g_U43137 == 18)
    {
        ;
    }
    if (g_U43137 == 10)
    {
        ;
    }
    if (g_U43137 == 25)
    {
        ;
    }
    if (g_U43137 == 11)
    {
        ;
    }
    return 0;
}

void sub_29612()
{
    if (g_U43497 == 1)
    {
        GET_GAME_TIMER( ref g_U43505 );
        g_U43506 = g_U43505 - g_U43504;
    }
    if (g_U43506 > 18000000)
    {
        g_U43506 = 18000000;
    }
    if (g_U43506 < 0)
    {
        g_U43506 = 0;
    }
    return g_U43506;
}

int sub_29836()
{
    if (g_U43137 == 0)
    {
        ;
    }
    if (g_U43137 == 1)
    {
        ;
    }
    if (g_U43137 == 2)
    {
        ;
    }
    if (g_U43137 == 3)
    {
        ;
    }
    if (g_U43137 == 21)
    {
        ;
    }
    if (g_U43137 == 15)
    {
        ;
    }
    if (g_U43137 == 16)
    {
        ;
    }
    if (g_U43137 == 17)
    {
        ;
    }
    if (g_U43137 == 12)
    {
        ;
    }
    if (g_U43137 == 13)
    {
        ;
    }
    if (g_U43137 == 19)
    {
        ;
    }
    if (g_U43137 == 20)
    {
        ;
    }
    if (g_U43137 == 5)
    {
        ;
    }
    if (g_U43137 == 4)
    {
        return GET_INT_STAT( 499 );
    }
    if (g_U43137 == 6)
    {
        ;
    }
    if (g_U43137 == 7)
    {
        return GET_INT_STAT( 508 );
    }
    if (g_U43137 == 8)
    {
        ;
    }
    if (g_U43137 == 9)
    {
        ;
    }
    if (g_U43137 == 14)
    {
        ;
    }
    if (g_U43137 == 22)
    {
        ;
    }
    if (g_U43137 == 23)
    {
        ;
    }
    if (g_U43137 == 24)
    {
        ;
    }
    if (g_U43137 == 18)
    {
        ;
    }
    if (g_U43137 == 10)
    {
        return GET_INT_STAT( 517 );
    }
    if (g_U43137 == 25)
    {
        ;
    }
    if (g_U43137 == 11)
    {
        ;
    }
    return 0;
}

void sub_30943(unknown uParam0)
{
    float fVar3;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_SPEED( uParam0, ref fVar3 );
        fVar3 = (fVar3 * 2.23693600) * 1.30000000;
        if (fVar3 > g_U43558)
        {
            g_U43558 = fVar3;
            g_U43558 = (g_U43558 * 2.23693600) * 1.30000000;
        }
    }
    if (g_U43558 < 0)
    {
        g_U43558 = 0;
    }
    return g_U43558;
}

int sub_31141()
{
    if (g_U43137 == 0)
    {
        ;
    }
    if (g_U43137 == 1)
    {
        ;
    }
    if (g_U43137 == 2)
    {
        ;
    }
    if (g_U43137 == 3)
    {
        ;
    }
    if (g_U43137 == 21)
    {
        ;
    }
    if (g_U43137 == 15)
    {
        ;
    }
    if (g_U43137 == 16)
    {
        ;
    }
    if (g_U43137 == 17)
    {
        ;
    }
    if (g_U43137 == 12)
    {
        return sub_31286( GET_INT_STAT( 530 ) );
    }
    if (g_U43137 == 13)
    {
        ;
    }
    if (g_U43137 == 19)
    {
        ;
    }
    if (g_U43137 == 20)
    {
        ;
    }
    if (g_U43137 == 5)
    {
        ;
    }
    if (g_U43137 == 4)
    {
        ;
    }
    if (g_U43137 == 6)
    {
        ;
    }
    if (g_U43137 == 7)
    {
        ;
    }
    if (g_U43137 == 8)
    {
        ;
    }
    if (g_U43137 == 9)
    {
        ;
    }
    if (g_U43137 == 14)
    {
        return sub_31286( GET_INT_STAT( 539 ) );
    }
    if (g_U43137 == 22)
    {
        ;
    }
    if (g_U43137 == 23)
    {
        ;
    }
    if (g_U43137 == 24)
    {
        ;
    }
    if (g_U43137 == 18)
    {
        ;
    }
    if (g_U43137 == 10)
    {
        ;
    }
    if (g_U43137 == 25)
    {
        ;
    }
    if (g_U43137 == 11)
    {
        ;
    }
    return 0;
}

int sub_31286(int iParam0)
{
    return iParam0 / 1670;
}

void sub_31872()
{
    sub_31881();
    if ((GET_NUMBER_OF_INSTANCES_OF_STREAMED_SCRIPT( "MissionResultsTimer" )) > 0)
    {
        TERMINATE_ALL_SCRIPTS_WITH_THIS_NAME( "MissionResultsTimer" );
    }
    g_U43628 = 1;
    g_U43593 = 0;
    g_U43594 = 0;
    g_U43595 = 0;
    g_U43596 = 0;
    REQUEST_SCRIPT( "MissionResultsTimer" );
    if (g_U43137 == 0)
    {
        REQUEST_SCRIPT( "MissionResultHelp" );
        sub_33660();
        sub_33698();
    }
    else
    {
        g_U43626 = 1;
        sub_33660();
        sub_33698();
        if (g_U43137 == 22)
        {
            sub_33801( 0, 0, 0 );
        }
        if (g_U43137 == 17)
        {
            sub_33801( 1, 0, 0 );
        }
        if (g_U43137 == 15)
        {
            sub_33801( 0, 1, 0 );
        }
        if (g_U43137 == 18)
        {
            sub_33801( 0, 0, 1 );
        }
        if (g_U43137 == 16)
        {
            sub_33801( 0, 0, 1 );
        }
    }
    if (g_U43133 == 1)
    {
        if ((g_U43463[g_U43137] == -1) || (g_U43463[g_U43137] == 0))
        {
            PRINTNL();
            PRINTSTRING( "**************************************" );
            PRINTNL();
            PRINTSTRING( "g_FirstPlaythroughOfMission = TRUE" );
            PRINTNL();
            PRINTSTRING( "**************************************" );
            PRINTNL();
            g_U43624 = 1;
        }
        else
        {
            PRINTSTRING( "**************************************" );
            PRINTNL();
            PRINTSTRING( "g_FirstPlaythroughOfMission = FALSE" );
            PRINTNL();
            PRINTSTRING( "**************************************" );
            PRINTNL();
            g_U43624 = 0;
        }
    }
    else
    {
        PRINTSTRING( "**************************************" );
        PRINTNL();
        PRINTSTRING( "g_FirstPlaythroughOfMission = TRUE" );
        PRINTNL();
        PRINTSTRING( "**************************************" );
        PRINTNL();
        g_U43624 = 1;
    }
    g_U43611 = 0;
    g_U43612 = 0;
    g_U43615 = 0;
    g_U43617 = 0;
    g_U43614 = 0;
    g_U43622 = 0;
    g_U43619 = 0;
    g_U43620 = 0;
    g_U43621 = 0;
    g_U43616 = 0;
    g_U43613 = 0;
    g_U43503 = 0;
    g_U43506 = 0;
    g_U43509 = 0;
    g_U43512 = 0;
    g_U43515 = 0;
    g_U43516 = 0;
    g_U43519 = 0;
    g_U43522 = 0;
    g_U43558 = 0;
    g_U43559 = 0;
    l_U3571 = 0;
    g_U43509 = 0;
    g_U43508 = 0;
    g_U43507 = 0;
    g_U43498 = 0;
    PRINTNL();
    PRINTNL();
    PRINTSTRING( "*******************************************************" );
    PRINTSTRING( "g_AreMissionStatsNeeded = TRUE & Requesting MissionStatTracker.sc" );
    PRINTNL();
    PRINTSTRING( "*******************************************************" );
    PRINTNL();
    g_U43588 = 1;
    REQUEST_SCRIPT( "MissionStatTracker" );
    return;
}

void sub_31881()
{
    g_U43138[0]._fU0 = 4;
    g_U43138[0]._fU4 = 30;
    g_U43138[0]._fU8 = 0;
    g_U43138[0]._fU12 = 10;
    g_U43138[1]._fU0 = 5;
    g_U43138[1]._fU4 = 20;
    g_U43138[1]._fU8 = 10;
    g_U43138[1]._fU20 = 70;
    g_U43138[1]._fU16 = 31;
    g_U43138[2]._fU0 = 4;
    g_U43138[2]._fU4 = 0;
    g_U43138[2]._fU8 = 50;
    g_U43138[2]._fU20 = 70;
    g_U43138[2]._fU16 = 11;
    g_U43138[3]._fU0 = 2;
    g_U43138[3]._fU4 = 30;
    g_U43138[3]._fU12 = 0;
    g_U43138[5]._fU0 = 3;
    g_U43138[5]._fU4 = 10;
    g_U43138[5]._fU8 = 40;
    g_U43138[4]._fU0 = 2;
    g_U43138[4]._fU4 = 10;
    g_U43138[4]._fU8 = 0;
    g_U43138[4]._fU44 = 8000;
    g_U43138[6]._fU0 = 5;
    g_U43138[6]._fU4 = 0;
    g_U43138[6]._fU8 = 50;
    g_U43138[7]._fU0 = 5;
    g_U43138[7]._fU4 = 45;
    g_U43138[7]._fU8 = 50;
    g_U43138[7]._fU44 = 35000;
    g_U43138[8]._fU0 = 4;
    g_U43138[8]._fU4 = 35;
    g_U43138[8]._fU8 = 20;
    g_U43138[8]._fU12 = 80;
    g_U43138[9]._fU0 = 8;
    g_U43138[9]._fU4 = 50;
    g_U43138[9]._fU12 = 0;
    g_U43138[10]._fU0 = 3;
    g_U43138[10]._fU4 = 55;
    g_U43138[10]._fU44 = 7000;
    g_U43138[11]._fU0 = 10;
    g_U43138[11]._fU4 = 0;
    g_U43138[11]._fU8 = 50;
    g_U43138[11]._fU20 = 70;
    g_U43138[11]._fU16 = 25;
    g_U43138[12]._fU0 = 5;
    g_U43138[12]._fU4 = 0;
    g_U43138[12]._fU8 = 50;
    g_U43138[12]._fU12 = 60;
    g_U43138[12]._fU20 = 70;
    g_U43138[12]._fU16 = 10;
    g_U43138[12]._fU24 = 70;
    g_U43138[13]._fU0 = 7;
    g_U43138[13]._fU4 = 35;
    g_U43138[13]._fU8 = 0;
    g_U43138[14]._fU0 = 5;
    g_U43138[14]._fU4 = 15;
    g_U43138[14]._fU12 = 20;
    g_U43138[14]._fU24 = 140;
    g_U43138[15]._fU0 = 6;
    g_U43138[15]._fU4 = 0;
    g_U43138[15]._fU8 = 0;
    g_U43138[15]._fU20 = 70;
    g_U43138[15]._fU28 = 4;
    g_U43138[16]._fU0 = 4;
    g_U43138[16]._fU4 = 10;
    g_U43138[16]._fU8 = 50;
    g_U43138[16]._fU20 = 70;
    g_U43138[16]._fU16 = 6;
    g_U43138[16]._fU28 = 4;
    g_U43138[17]._fU0 = 7;
    g_U43138[17]._fU4 = 25;
    g_U43138[17]._fU8 = 50;
    g_U43138[17]._fU28 = 6;
    g_U43138[17]._fU12 = 50;
    g_U43138[18]._fU0 = 4;
    g_U43138[18]._fU4 = 20;
    g_U43138[18]._fU8 = 50;
    g_U43138[18]._fU28 = 8;
    g_U43138[19]._fU0 = 7;
    g_U43138[19]._fU4 = 50;
    g_U43138[19]._fU8 = 40;
    g_U43138[19]._fU16 = 20;
    g_U43138[19]._fU20 = 55;
    g_U43138[20]._fU0 = 5;
    g_U43138[20]._fU4 = 0;
    g_U43138[20]._fU8 = 40;
    g_U43138[20]._fU20 = 55;
    g_U43138[20]._fU16 = 20;
    g_U43138[21]._fU0 = 3;
    g_U43138[21]._fU4 = 10;
    g_U43138[21]._fU8 = 10;
    g_U43138[22]._fU0 = 6;
    g_U43138[22]._fU4 = 30;
    g_U43138[22]._fU8 = 50;
    g_U43138[22]._fU20 = 70;
    g_U43138[22]._fU16 = 20;
    g_U43138[22]._fU28 = 5;
    g_U43138[23]._fU0 = 6;
    g_U43138[23]._fU4 = 40;
    g_U43138[23]._fU8 = 40;
    g_U43138[23]._fU20 = 70;
    g_U43138[23]._fU16 = 20;
    g_U43138[24]._fU0 = 4;
    g_U43138[24]._fU4 = 30;
    g_U43138[24]._fU8 = 40;
    g_U43138[24]._fU20 = 60;
    g_U43138[24]._fU16 = 10;
    g_U43138[25]._fU0 = 4;
    g_U43138[25]._fU4 = 30;
    g_U43138[25]._fU8 = 90;
    g_U43138[25]._fU20 = 70;
    g_U43138[25]._fU16 = 25;
    g_U43138[25]._fU28 = 4;
    return;
}

void sub_33660()
{
    GET_GAME_TIMER( ref g_U43501 );
    g_U43496 = 1;
    return;
}

void sub_33698()
{
    if (NOT (IS_CHAR_DEAD( sub_4345() )))
    {
        GET_CHAR_HEALTH( sub_4345(), ref g_U43520 );
        g_U43520 = 200;
    }
    return;
}

void sub_33801(int iParam0, int iParam1, int iParam2)
{
    if (iParam1 == 1)
    {
        g_U43517 = GET_INT_STAT( 296 );
    }
    else if (iParam2 == 1)
    {
        g_U43517 = GET_INT_STAT( 297 );
    }
    else
    {
        g_U43517 = GET_INT_STAT( 294 );
    }
    if (iParam0 == 1)
    {
        RESET_NO_LAW_VEHICLES_DESTROYED_BY_LOCAL_PLAYER();
    }
    return;
}

void sub_35101(unknown uParam0)
{
    StrCopy( ref l_U2829._fU0, uParam0, 16 );
    sub_35120();
    return;
}

void sub_35120()
{
    int I;

    for ( I = 0; I <= 8; I++ )
    {
        l_U2829._fU16[I]._fU0 = nil;
        StrCopy( ref l_U2829._fU16[I]._fU4, "", 32 );
        l_U2829._fU344[I] = 0;
    }
    return;
}

void sub_35310(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    unknown uVar8;

    uVar8 = sub_35321( uParam0 );
    return sub_35490( uParam5, uVar8, uParam1, uParam4, uParam0 );
}

int sub_35321(unknown uParam0)
{
    switch (uParam0)
    {
        case 0: return -1255452397;
        case 3: return -789894171;
        case 2: return 1638119866;
        case 1: return -304802106;
    }
    SCRIPT_ASSERT( "Return_Contact_Vehicle_Model: Unknown Contact ID\n" );
    return -1660661558;
}

int sub_35490(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
    SUPPRESS_CAR_MODEL( uParam1 );
    REQUEST_MODEL( uParam1 );
    if (NOT (HAS_MODEL_LOADED( uParam1 )))
    {
        REQUEST_MODEL( uParam1 );
        return 0;
    }
    CLEAR_AREA( uParam2._fU0, uParam2._fU4, uParam2._fU8, 5.00000000, 0 );
    CREATE_CAR( uParam1, uParam2._fU0, uParam2._fU4, uParam2._fU8, uParam0, 1 );
    SET_CAR_HEADING( (uParam0^), uParam5 );
    SET_CAR_ON_GROUND_PROPERLY( (uParam0^) );
    sub_35622( (uParam0^), uParam6 );
    if (g_U1)
    {
        MARK_MODEL_AS_NO_LONGER_NEEDED( uParam1 );
    }
    return 1;
}

void sub_35622(unknown uParam0, int iParam1)
{
    if (iParam1 == 8)
    {
        return;
    }
    switch (iParam1)
    {
        case 0:
        TURN_OFF_VEHICLE_EXTRA( uParam0, 1, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 2, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 3, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 4, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 5, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 6, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 7, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 8, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 9, 1 );
        CHANGE_CAR_COLOUR( uParam0, 0, 0 );
        SET_EXTRA_CAR_COLOURS( uParam0, 1, 0 );
        SET_VEHICLE_DIRT_LEVEL( uParam0, 0.00000000 );
        if (NOT (IS_CHAR_DEAD( sub_4345() )))
        {
            if (NOT (IS_CHAR_IN_ANY_CAR( sub_4345() )))
            {
                PRINTSTRING( "KGM.............Retune TONY car to K109_THE_STUDIO\n" );
                RETUNE_RADIO_TO_STATION_NAME( "K109_THE_STUDIO" );
            }
        }
        break;
        case 3:
        TURN_OFF_VEHICLE_EXTRA( uParam0, 1, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 2, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 3, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 4, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 5, 0 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 6, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 7, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 8, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 9, 1 );
        CHANGE_CAR_COLOUR( uParam0, 0, 0 );
        SET_EXTRA_CAR_COLOURS( uParam0, 0, 0 );
        SET_VEHICLE_DIRT_LEVEL( uParam0, 3.00000000 );
        if (NOT (IS_CHAR_DEAD( sub_4345() )))
        {
            if (NOT (IS_CHAR_IN_ANY_CAR( sub_4345() )))
            {
                PRINTSTRING( "KGM.............Retune DOMINICANS car to SAN_JUAN_SOUNDS\n" );
                RETUNE_RADIO_TO_STATION_NAME( "SAN_JUAN_SOUNDS" );
            }
        }
        break;
        case 2:
        TURN_OFF_VEHICLE_EXTRA( uParam0, 5, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 6, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 7, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 8, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 9, 1 );
        CHANGE_CAR_COLOUR( uParam0, 134, 136 );
        SET_EXTRA_CAR_COLOURS( uParam0, 134, 0 );
        SET_VEHICLE_DIRT_LEVEL( uParam0, 0.00000000 );
        if (NOT (IS_CHAR_DEAD( sub_4345() )))
        {
            if (NOT (IS_CHAR_IN_ANY_CAR( sub_4345() )))
            {
                PRINTSTRING( "KGM.............Retune YUSUF car to BEAT\n" );
                RETUNE_RADIO_TO_STATION_NAME( "BEAT_95" );
            }
        }
        break;
        case 1:
        TURN_OFF_VEHICLE_EXTRA( uParam0, 1, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 2, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 3, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 4, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 5, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 6, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 7, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 8, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 9, 1 );
        CHANGE_CAR_COLOUR( uParam0, 45, 45 );
        SET_EXTRA_CAR_COLOURS( uParam0, 35, 0 );
        SET_VEHICLE_DIRT_LEVEL( uParam0, 0.00000000 );
        if (NOT (IS_CHAR_DEAD( sub_4345() )))
        {
            if (NOT (IS_CHAR_IN_ANY_CAR( sub_4345() )))
            {
                PRINTSTRING( "KGM.............Retune MORI car to DANCE_ROCK\n" );
                RETUNE_RADIO_TO_STATION_NAME( "DANCE_ROCK" );
            }
        }
        break;
    }
    return;
}

void sub_37158()
{
    sub_37168( 1 );
    sub_37168( 2 );
    sub_37168( 0 );
    return;
}

void sub_37168(unknown uParam0)
{
    g_U30226[uParam0] = GET_ID_OF_THIS_THREAD();
    g_U30149[uParam0] = 1;
    return;
}

int sub_41916(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    if (sub_41927( uParam0 ))
    {
        sub_42404( uParam0, uParam1, uParam2, uParam3, uParam4, uParam5 );
        return 1;
    }
    sub_43487( uParam0 );
    return 0;
}

void sub_41927(unknown uParam0)
{
    return HAS_MODEL_LOADED( sub_41938( uParam0 ) );
}

int sub_41938(unknown uParam0)
{
    switch (uParam0)
    {
        case 0: return -274568867;
        case 1: return 1662225612;
        case 2: return -448171135;
        case 3: return 1370299619;
        case 4: return -773750838;
        case 5: return 243666427;
        case 6: return -913924918;
        case 7: return 1905515841;
        case 9:
        SCRIPT_ASSERT( "Attempt to Return the model for the Reserve Strand 1 Character" );
        return 0;
        case 30: return -1949352469;
        case 31: return -401698464;
        case 32: return -487173849;
        case 33: return -407067034;
        case 13: return 714517099;
        case 14: return 653404222;
        case 15: return 1798610950;
    }
    sub_2607( "Contacts.sch: Get_Model_For_Contact(): Unknown Contact ID. Tell Keith." );
    return 0;
}

void sub_42404(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    CREATE_CHAR( sub_42415( uParam0 ), sub_41938( uParam0 ), uParam2, uParam3, uParam4, uParam1, 1 );
    sub_42461( uParam0, (uParam1^) );
    SET_CHAR_HEADING( (uParam1^), uParam5 );
    sub_42495( uParam0, (uParam1^) );
    return;
}

int sub_42415(unknown uParam0)
{
    return 25;
}

void sub_42461(unknown uParam0, unknown uParam1)
{
    return;
}

void sub_42495(unknown uParam0, unknown uParam1)
{
    sub_42507( ref uParam1, uParam0 );
    return;
}

void sub_42507(unknown uParam0, int iParam1)
{
    sub_42518( uParam0 );
    if (iParam1 == 37)
    {
        sub_42620( uParam0, 0, 0, 0, 0, 0, 0, 0, -1, -1 );
    }
    else
    {
        sub_43204( (uParam0^), iParam1, g_U42825[iParam1] );
    }
    return;
}

void sub_42518(unknown uParam0)
{
    SET_CHAR_SUFFERS_CRITICAL_HITS( (uParam0^), 0 );
    SET_CHAR_CANT_BE_DRAGGED_OUT( (uParam0^), 1 );
    SET_CHAR_NEVER_TARGETTED( (uParam0^), 1 );
    SET_CHAR_MAX_TIME_IN_WATER( (uParam0^), 10.00000000 );
    SET_CHAR_MAX_TIME_UNDERWATER( (uParam0^), 10.00000000 );
    return;
}

void sub_42620(unknown uParam0, int iParam1, int iParam2, int iParam3, int iParam4, int iParam5, int iParam6, int iParam7, int iParam8, int iParam9)
{
    int iVar12;
    int iVar13;

    if (NOT (IS_CHAR_DEAD( (uParam0^) )))
    {
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 0 )) == 0)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 0 )) == iParam1)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 0, iParam1, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 1 )) == 0)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 1 )) == iParam2)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 1, iParam2, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 2 )) == 0)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 2 )) == iParam3)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 2, iParam3, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 5 )) == 0)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 5 )) == iParam4)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 5, iParam4, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 4 )) == 0)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 4 )) == iParam5)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 4, iParam5, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 3 )) == 0)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 3 )) == iParam6)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 3, iParam6, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 7 )) == 0)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 7 )) == iParam7)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 7, iParam7, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 8 )) == 0)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 8 )) == 0)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 8, 0, 0 );
        }
        iVar12 = -1;
        GET_CHAR_PROP_INDEX( (uParam0^), 0, ref iVar12 );
        if (NOT (iVar12 == iParam8))
        {
            if (iParam8 == -1)
            {
                CLEAR_CHAR_PROP( (uParam0^), 0 );
            }
            else
            {
                SET_CHAR_PROP_INDEX( (uParam0^), 0, iParam8 );
            }
        }
        iVar13 = -1;
        GET_CHAR_PROP_INDEX( (uParam0^), 1, ref iVar13 );
        if (NOT (iVar13 == iParam9))
        {
            if (iParam9 == -1)
            {
                CLEAR_CHAR_PROP( (uParam0^), 1 );
            }
            else
            {
                SET_CHAR_PROP_INDEX( (uParam0^), 1, iParam9 );
            }
        }
    }
    return;
}

void sub_43204(unknown uParam0, unknown uParam1, int iParam2)
{
    switch (uParam1)
    {
        case 0:
        sub_42620( ref uParam0, 0, 0, 0, 0, 0, 0, 0, -1, 0 );
        return;
        case 1:
        sub_42620( ref uParam0, 0, 1, 0, 0, 0, 0, 0, -1, 0 );
        return;
        case 31:
        sub_42620( ref uParam0, 0, 1, 0, 0, 0, 0, 0, -1, -1 );
        return;
        case 7:
        sub_42620( ref uParam0, 0, 0, 0, 0, 0, 0, 0, -1, 0 );
        return;
    }
    if (NOT (iParam2 == 0))
    {
        SCRIPT_ASSERT( "Set_Contacts_Clothes: A contact without a change of clothes attempting to change clothes" );
    }
    sub_42620( ref uParam0, 0, 0, 0, 0, 0, 0, 0, -1, -1 );
    return;
}

void sub_43487(unknown uParam0)
{
    REQUEST_MODEL( sub_41938( uParam0 ) );
    return;
}

void sub_43551()
{
    unknown Result;

    GET_PLAYER_GROUP( CONVERT_INT_TO_PLAYERINDEX( GET_PLAYER_ID() ), ref Result );
    return Result;
}

void sub_43857(unknown uParam0)
{
    sub_43868( uParam0 );
    if (g_U43137 == 4)
    {
        sub_43936();
    }
    if (g_U43137 == 10)
    {
        sub_43936();
    }
    if (g_U43137 == 7)
    {
        sub_43936();
    }
    return;
}

void sub_43868(unknown uParam0)
{
    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_HEALTH( uParam0, ref g_U43510 );
    }
    g_U43499 = 1;
    return;
}

void sub_43936()
{
    GET_GAME_TIMER( ref g_U43504 );
    g_U43497 = 1;
    return;
}

void sub_44180(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    if (DOES_BLIP_EXIST( l_U3044 ))
    {
        if (sub_44211( l_U3044 ))
        {
            sub_44286( ref l_U3044, uParam0, uParam3 );
        }
    }
    return;
}

int sub_44211(unknown uParam0)
{
    int iVar3;

    if (DOES_BLIP_EXIST( uParam0 ))
    {
        iVar3 = GET_BLIP_INFO_ID_TYPE( uParam0 );
        if ((iVar3 == 5) || (iVar3 == 4))
        {
            return 1;
        }
    }
    return 0;
}

void sub_44286(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (DOES_BLIP_EXIST( (uParam0^) ))
    {
        g_U2668 = (uParam0^);
        g_U2683 = {uParam1};
        g_U2681 = uParam4;
    }
    return;
}

void sub_44370(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    l_U3058 = {uParam0, uParam1, uParam2};
    l_U3048 = uParam3;
    l_U3024 = 1;
    return;
}

void sub_44498(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15)
{
    return sub_44558( uParam0, uParam1, uParam2, uParam3, uParam4, uParam5, uParam6, uParam7, 0, 0, uParam8, uParam9, uParam10, uParam10, uParam10, uParam10, uParam11, uParam12, uParam13, uParam14, uParam15 );
}

int sub_44558(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20)
{
    int iVar23;
    int I;
    unknown uVar25;

    l_U3053[0] = uParam7;
    l_U3053[1] = uParam8;
    l_U3053[2] = uParam9;
    l_U3052 = uParam7;
    sub_44606();
    sub_44940();
    sub_45820();
    if (IS_VEH_DRIVEABLE( uParam10 ))
    {
        if (sub_46018( l_U3053[0], l_U3053[1], l_U3053[2], uParam12, uParam13, uParam14, uParam15, l_U3047, uParam17, uParam10, 0, 0 ))
        {
            if (IS_SCREEN_FADED_IN())
            {
                if (IS_CHAR_IN_CAR( sub_4345(), uParam10 ))
                {
                    l_U3017 = 1;
                    l_U3028 = 1;
                    sub_46566( uParam16 );
                    sub_46566( uParam20 );
                    if ((IS_WANTED_LEVEL_GREATER( sub_4399(), 0 )) AND (uParam18))
                    {
                        if ((DOES_BLIP_EXIST( l_U3039 )) || (DOES_BLIP_EXIST( l_U3044 )))
                        {
                            REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3044 );
                            REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3039 );
                            PRINTSTRING( "IS_PLAYER_AT_LOCATION_WITH_BUDDIES_IN_CAR - remove blip 1" );
                            PRINTNL();
                            sub_46566( uParam11 );
                        }
                        if ((NOT l_U3013) AND ((NOT sub_52071()) AND (NOT (sub_50684( 0 )))))
                        {
                            sub_46446( uParam19, 0 );
                            l_U3057 = uParam19;
                            l_U3013 = 1;
                            l_U3014 = 0;
                            if (NOT (IS_CHAR_INJURED( l_U3053[0] )))
                            {
                                SAY_AMBIENT_SPEECH( l_U3053[0], "CAR_POLICE_PURSUIT", 1, 1, 0 );
                            }
                        }
                    }
                    else if (l_U3013)
                    {
                        sub_46566( uParam19 );
                        l_U3013 = 0;
                        l_U3014 = 1;
                    }
                    if (l_U3014)
                    {
                        if (NOT (sub_50684( 0 )))
                        {
                            if (NOT (IS_CHAR_INJURED( l_U3053[0] )))
                            {
                                SAY_AMBIENT_SPEECH( l_U3053[0], "LOSE_WANTED_LEVEL", 1, 1, 0 );
                            }
                            l_U3014 = 0;
                        }
                    }
                    if (LOCATE_CHAR_IN_CAR_3D( sub_4345(), uParam0, uParam1, uParam2, uParam3, uParam4, uParam5, uParam6 ))
                    {
                        iVar23 = 1;
                        for ( I = 0; I < 3; I++ )
                        {
                            if (DOES_CHAR_EXIST( l_U3053[I] ))
                            {
                                if (NOT (IS_CHAR_IN_CAR( l_U3053[I], uParam10 )))
                                {
                                    iVar23 = 0;
                                }
                            }
                        }
                        if ((sub_52470()) AND (iVar23))
                        {
                            sub_46566( uParam11 );
                            sub_46566( uParam12 );
                            sub_46566( uParam13 );
                            sub_46566( uParam14 );
                            sub_46566( uParam15 );
                            sub_46566( uParam19 );
                            sub_26588();
                            for ( I = 0; I < 3; I++ )
                            {
                                if (NOT (IS_CHAR_INJURED( l_U3053[I] )))
                                {
                                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3053[I], 0 );
                                }
                            }
                            return 1;
                        }
                    }
                    else
                    {
                        iVar23 = 1;
                        for ( I = 0; I < 3; I++ )
                        {
                            if (DOES_CHAR_EXIST( l_U3053[I] ))
                            {
                                if (NOT (IS_CHAR_INJURED( l_U3053[I] )))
                                {
                                    if (NOT (IS_CHAR_SITTING_IN_CAR( l_U3053[I], uParam10 )))
                                    {
                                        iVar23 = 0;
                                    }
                                }
                            }
                        }
                        if (NOT (DOES_BLIP_EXIST( l_U3044 )))
                        {
                            if (DOES_BLIP_EXIST( l_U3039 ))
                            {
                                REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3039 );
                            }
                            PRINTSTRING( "IS_PLAYER_AT_LOCATION_WITH_BUDDIES_IN_CAR - remove blip 2" );
                            PRINTNL();
                            ADD_BLIP_FOR_COORD( uParam0, uParam1, uParam2 - 1.00000000, ref l_U3044 );
                            PRINTSTRING( "IS_PLAYER_AT_LOCATION_WITH_BUDDIES_IN_CAR - add blip 1" );
                            PRINTNL();
                            sub_48517( l_U3044 );
                            if (l_U3032)
                            {
                                SHOW_BLIP_ON_ALTIMETER( l_U3044, 1 );
                            }
                        }
                        if (NOT (sub_50684( 0 )))
                        {
                            if (NOT l_U3015)
                            {
                                sub_46446( uParam11, 0 );
                                l_U3015 = 1;
                            }
                        }
                    }
                }
                else if ((NOT l_U3028) AND ((IS_WANTED_LEVEL_GREATER( sub_4399(), 0 )) AND (uParam18)))
                {
                    sub_46566( uParam16 );
                    sub_46566( uParam20 );
                    if ((DOES_BLIP_EXIST( l_U3039 )) || (DOES_BLIP_EXIST( l_U3044 )))
                    {
                        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3044 );
                        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3039 );
                        PRINTSTRING( "IS_PLAYER_AT_LOCATION_WITH_BUDDIES_IN_CAR - remove blip 3" );
                        PRINTNL();
                        sub_46566( uParam11 );
                    }
                    if ((NOT l_U3013) AND ((NOT sub_52071()) AND (NOT (sub_50684( 0 )))))
                    {
                        sub_46446( uParam19, 0 );
                        l_U3057 = uParam19;
                        l_U3013 = 1;
                        l_U3014 = 0;
                        if (NOT (IS_CHAR_INJURED( l_U3053[0] )))
                        {
                            SAY_AMBIENT_SPEECH( l_U3053[0], "CAR_POLICE_PURSUIT", 1, 1, 0 );
                        }
                    }
                }
                else if (l_U3013)
                {
                    sub_46566( uParam19 );
                    l_U3013 = 0;
                    l_U3014 = 1;
                }
                if (l_U3014)
                {
                    if (NOT (sub_50684( 0 )))
                    {
                        if (NOT (IS_CHAR_INJURED( l_U3053[0] )))
                        {
                            SAY_AMBIENT_SPEECH( l_U3053[0], "LOSE_WANTED_LEVEL", 1, 1, 0 );
                        }
                        l_U3014 = 0;
                    }
                }
                if (NOT (DOES_BLIP_EXIST( l_U3039 )))
                {
                    if (DOES_BLIP_EXIST( l_U3044 ))
                    {
                        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3044 );
                        sub_46566( uParam11 );
                    }
                    ADD_BLIP_FOR_CAR( uParam10, ref l_U3039 );
                    CHANGE_BLIP_DISPLAY( l_U3039, 2 );
                    PRINTSTRING( "IS_PLAYER_AT_LOCATION_WITH_BUDDIES_IN_CAR - add blip 2" );
                    PRINTNL();
                    SET_BLIP_AS_FRIENDLY( l_U3039, 1 );
                    if (NOT l_U3018)
                    {
                        sub_48517( l_U3039 );
                    }
                }
                if (NOT (sub_50684( 0 )))
                {
                    if (NOT l_U3017)
                    {
                        sub_46446( uParam16, 0 );
                        l_U3017 = 1;
                    }
                    else if (l_U3028)
                    {
                        if (NOT (IS_STRING_NULL( uParam20 )))
                        {
                            if (NOT l_U3018)
                            {
                                sub_46446( uParam20, 0 );
                                l_U3018 = 1;
                            }
                        }
                        else if (NOT l_U3018)
                        {
                            sub_46446( uParam16, 0 );
                            l_U3018 = 1;
                        }
                    }
                };;;
            }
        }
        else if (l_U3013)
        {
            l_U3013 = 0;
        }
        if (DOES_BLIP_EXIST( l_U3044 ))
        {
            REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3044 );
            sub_46566( uParam11 );
        }
        if (DOES_BLIP_EXIST( l_U3039 ))
        {
            REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3039 );
            PRINTSTRING( "IS_PLAYER_AT_LOCATION_WITH_BUDDIES_IN_CAR - remove blip 3" );
            PRINTNL();
            sub_46566( uParam16 );
        }
    }
    else
    {
        SCRIPT_ASSERT( "IS_PLAYER_AT_LOCATION_WITH_BUDDIES_IN_CAR - check vehicle is alive before calling this." );
        return 0;
    }
    sub_54160( uParam0, uParam1, uParam2, 0, uParam10 );
    sub_58317( uParam0, uParam1, uParam2 );
    l_U3030 = 0;
    l_U3031 = 0;
    l_U3032 = 0;
    return 0;
}

void sub_44606()
{
    int I;

    for ( I = 0; I < l_U3053; I++ )
    {
        if (DOES_CHAR_EXIST( l_U3053[I] ))
        {
            if (NOT (IS_CHAR_INJURED( l_U3053[I] )))
            {
                if ((sub_44766()) AND ((sub_44699( l_U3053[I] )) AND (IS_CHAR_SITTING_IN_ANY_CAR( l_U3053[I] ))))
                {
                    BLOCK_CHAR_AMBIENT_ANIMS( l_U3053[I], 1 );
                }
            }
        }
    }
    if (IS_PLAYER_PLAYING( sub_4399() ))
    {
        if (NOT (IS_CHAR_INJURED( sub_4345() )))
        {
            if ((sub_44766()) AND ((sub_44699( sub_4345() )) AND (IS_CHAR_SITTING_IN_ANY_CAR( sub_4345() ))))
            {
                BLOCK_CHAR_AMBIENT_ANIMS( sub_4345(), 1 );
            }
        }
    }
    return;
}

int sub_44699(int iParam0)
{
    int I;

    for ( I = 0; I < 9; I++ )
    {
        if (l_U2829._fU16[I]._fU0 == iParam0)
        {
            return 1;
        }
    }
    return 0;
}

int sub_44766()
{
    if ((g_U8867 == 2) || ((g_U8867 == 1) || (IS_SCRIPTED_CONVERSATION_ONGOING())))
    {
        return 1;
    }
    return 0;
}

void sub_44940()
{
    if (NOT l_U3026)
    {
        l_U3061 = CREATE_WIDGET_GROUP( "Locates Header" );
        ADD_WIDGET_TOGGLE( "bPrintedLoseWantedLevel", ref l_U3013 );
        ADD_WIDGET_TOGGLE( "bPlayLostCopsSpeech", ref l_U3014 );
        ADD_WIDGET_TOGGLE( "bInitialGodTextPrinted", ref l_U3015 );
        ADD_WIDGET_TOGGLE( "bPrintedGetACar", ref l_U3016 );
        ADD_WIDGET_TOGGLE( "bPrintedGetBackInCar", ref l_U3018 );
        ADD_WIDGET_TOGGLE( "bPrintedGetInCar", ref l_U3017 );
        ADD_WIDGET_TOGGLE( "bPrintedPickupAllBuddysText", ref l_U3019 );
        ADD_WIDGET_TOGGLE( "bPrintedPickupBuddyText[0]", ref l_U3020[0] );
        ADD_WIDGET_TOGGLE( "bPrintedPickupBuddyText[1]", ref l_U3020[1] );
        ADD_WIDGET_TOGGLE( "bPrintedPickupBuddyText[2]", ref l_U3020[2] );
        ADD_WIDGET_TOGGLE( "bUseSpecificJSkipCoords", ref l_U3024 );
        ADD_WIDGET_TOGGLE( "bDontDoSafeForCutsceneCheck", ref l_U3025 );
        ADD_WIDGET_FLOAT_SLIDER( "fClearCarDistance", ref l_U3046, 0.00000000, 100.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "fBuddyJoinDistance", ref l_U3047, 0.00000000, 100.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "fSkipHeading", ref l_U3048, 0.00000000, 360.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "vSkipCoords.x", ref l_U3058._fU0, -9999.00000000, 9999.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "vSkipCoords.y", ref l_U3058._fU4, -9999.00000000, 9999.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "vSkipCoords.z", ref l_U3058._fU8, -9999.00000000, 9999.00000000, 0.10000000 );
        ADD_WIDGET_TOGGLE( "bToldPlayerToFindCarWithMoreSeats", ref l_U3027 );
        ADD_WIDGET_TOGGLE( "bHasBeenInCar", ref l_U3028 );
        END_WIDGET_GROUP();
        l_U3026 = 1;
    }
    return;
}

void sub_45820()
{
    int I;

    if (IS_PLAYER_PLAYING( sub_4399() ))
    {
        SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( sub_4345(), 0 );
    }
    for ( I = 0; I < l_U3053; I++ )
    {
        if (DOES_CHAR_EXIST( l_U3053[I] ))
        {
            if (NOT (IS_CHAR_INJURED( l_U3053[I] )))
            {
                SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( l_U3053[I], 0 );
            }
        }
    }
    return;
}

int sub_46018(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, boolean bParam8, int iParam9, unknown uParam10, unknown uParam11)
{
    int I;
    int iVar15;
    int iVar16;
    int iVar17;
    int iVar18;
    int iVar19;
    int[3] iVar20;
    boolean bVar24;
    boolean bVar25;
    int iVar26;
    int iVar27;
    unknown[3] uVar28;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;

    array(ref iVar20, 3);
    l_U3053[0] = uParam0;
    l_U3053[1] = uParam1;
    l_U3053[2] = uParam2;
    l_U3052 = uParam0;
    array(ref uVar28, 3);
    uVar28[0] = uParam3;
    uVar28[1] = uParam4;
    uVar28[2] = uParam5;
    iVar18 = 1;
    iVar15 = 0;
    iVar16 = 0;
    iVar20[0] = 0;
    iVar20[1] = 0;
    iVar20[2] = 0;
    for ( I = 0; I < 3; I++ )
    {
        if (NOT (IS_CHAR_INJURED( l_U3053[I] )))
        {
            iVar16++;
        }
    }
    if ((NOT (DOES_VEHICLE_EXIST( iParam9 ))) AND ((IS_CHAR_SITTING_IN_ANY_CAR( sub_4345() )) AND (NOT sub_46189())))
    {
        STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_4345(), ref iVar26 );
        if (IS_VEH_DRIVEABLE( iVar26 ))
        {
            if (NOT l_U3033)
            {
                sub_46446( "MORE_SEATS", 0 );
                l_U3033 = 1;
            }
            bVar25 = true;
        }
    }
    else
    {
        bVar25 = false;
        l_U3033 = 0;
        sub_46566( "MORE_SEATS" );
    }
    for ( I = 0; I < 3; I++ )
    {
        if (DOES_CHAR_EXIST( l_U3053[I] ))
        {
            if (NOT (IS_CHAR_INJURED( l_U3053[I] )))
            {
                if (NOT (IS_GROUP_MEMBER( l_U3053[I], sub_43551() )))
                {
                    SET_CHAR_DROWNS_IN_WATER( l_U3053[I], 1 );
                }
                else
                {
                    SET_CHAR_DROWNS_IN_WATER( l_U3053[I], 0 );
                }
                if (IS_CHAR_SITTING_IN_ANY_CAR( sub_4345() ))
                {
                    STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_4345(), ref iVar26 );
                    if (IS_VEH_DRIVEABLE( iVar26 ))
                    {
                        if (IS_GROUP_MEMBER( l_U3053[I], sub_43551() ))
                        {
                            if ((IS_CHAR_SITTING_IN_ANY_CAR( sub_4345() )) AND (NOT sub_46189()))
                            {
                                if (NOT (sub_46842( l_U3053[I] )))
                                {
                                    REMOVE_CHAR_FROM_GROUP( l_U3053[I] );
                                    PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - REMOVE_CHAR_FROM_GROUP - 1" );
                                    PRINTNL();
                                }
                            }
                        }
                    }
                }
                bVar24 = true;
                if (NOT (IS_GROUP_MEMBER( l_U3053[I], sub_43551() )))
                {
                    if (IS_CHAR_SITTING_IN_ANY_CAR( l_U3053[I] ))
                    {
                        STORE_CAR_CHAR_IS_IN_NO_SAVE( l_U3053[I], ref iVar26 );
                        if (IS_VEH_DRIVEABLE( iParam9 ))
                        {
                            if (NOT (iVar26 == iParam9))
                            {
                                if (NOT (IS_CAR_DEAD( iVar26 )))
                                {
                                    if (NOT (IS_CHAR_SITTING_IN_CAR( sub_4345(), iVar26 )))
                                    {
                                        TASK_LEAVE_CAR_IMMEDIATELY( l_U3053[I], iVar26 );
                                        PRINTSTRING( "locates_heder - HAVE_BUDDIES_JOINED_PLAYERS_GROUP - Buddy told to leave car" );
                                        PRINTNL();
                                        bVar24 = false;
                                    }
                                }
                            }
                        }
                    }
                }
                if (IS_GROUP_MEMBER( l_U3053[I], sub_43551() ))
                {
                    if (sub_47403())
                    {
                        if (l_U3035[I])
                        {
                            SET_SPECIFIC_PASSENGER_INDEX_TO_USE_IN_GROUPS( l_U3053[I], -1 );
                            l_U3035[I] = 0;
                        }
                    }
                    else if (NOT l_U3035[I])
                    {
                        SET_SPECIFIC_PASSENGER_INDEX_TO_USE_IN_GROUPS( l_U3053[I], 2 );
                        l_U3035[I] = 1;
                    }
                }
                if ((NOT (sub_47681( l_U3053[I], iParam9 ))) AND ((NOT (sub_47585( l_U3053[I], iParam9 ))) AND (NOT (IS_GROUP_MEMBER( l_U3053[I], sub_43551() )))))
                {
                    if (sub_47794( l_U3053[I], uParam7, uParam10 ))
                    {
                        if (NOT (IS_GROUP_MEMBER( l_U3053[I], sub_43551() )))
                        {
                            GET_SCRIPT_TASK_STATUS( l_U3053[I], 11, ref iVar27 );
                            if (iVar27 == 7)
                            {
                                CLEAR_CHAR_TASKS( l_U3053[I] );
                                PRINTSTRING( "locates_heder - HAVE_BUDDIES_JOINED_PLAYERS_GROUP - CLEAR_CHAR_TASKS - 1" );
                                PRINTNL();
                            }
                            SET_GROUP_MEMBER( sub_43551(), l_U3053[I] );
                            PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - SET_GROUP_MEMBER - 1" );
                            PRINTNL();
                            bVar24 = false;
                        }
                    }
                    if (bVar24)
                    {
                        if (NOT (DOES_BLIP_EXIST( l_U3040[I] )))
                        {
                            GET_GAME_TIMER( ref l_U3050 );
                            ADD_BLIP_FOR_CHAR( l_U3053[I], ref l_U3040[I] );
                            CHANGE_BLIP_DISPLAY( l_U3040[I], 2 );
                            PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - add blip for char - 1" );
                            PRINTNL();
                            SET_BLIP_AS_FRIENDLY( l_U3040[I], 1 );
                            if (bParam8)
                            {
                                sub_48517( l_U3040[I] );
                            }
                        }
                    }
                    iVar18 = 0;
                }
                else if (DOES_BLIP_EXIST( l_U3040[I] ))
                {
                    if ((uParam11) || ((sub_47585( l_U3053[I], iParam9 )) || (sub_48636( l_U3053[I] ))))
                    {
                        if (DOES_BLIP_EXIST( l_U3040[I] ))
                        {
                            REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3040[I] );
                            PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - remove blip for char - 1" );
                            PRINTNL();
                            sub_46566( uVar28[I] );
                            iVar19 = 1;
                        }
                    }
                    else if (bParam8)
                    {
                        sub_48517( l_U3040[I] );
                    }
                    iVar18 = 0;;
                }
                else if (IS_VEH_DRIVEABLE( iParam9 ))
                {
                    if (NOT (IS_CHAR_SITTING_IN_CAR( l_U3053[I], iParam9 )))
                    {
                        if ((NOT l_U3030) AND (LOCATE_CHAR_ANY_MEANS_CAR_3D( l_U3053[I], iParam9, 20.00000000, 20.00000000, 5.00000000, 0 )))
                        {
                            if (IS_CHAR_SITTING_IN_ANY_CAR( l_U3053[I] ))
                            {
                                if (NOT (IS_CHAR_IN_CAR( l_U3053[I], iParam9 )))
                                {
                                    if (NOT (sub_48636( l_U3053[I] )))
                                    {
                                        if (sub_49244( l_U3053[I] ))
                                        {
                                            GET_SCRIPT_TASK_STATUS( l_U3053[I], 31, ref iVar27 );
                                            if (iVar27 == 7)
                                            {
                                                TASK_LEAVE_ANY_CAR( l_U3053[I] );
                                            }
                                        }
                                    }
                                }
                            }
                            else if (NOT (IS_CHAR_SITTING_IN_CAR( sub_4345(), iParam9 )))
                            {
                                SET_FORCE_PLAYER_TO_ENTER_THROUGH_DIRECT_DOOR( sub_4345(), 1 );
                            }
                            if (IS_GROUP_MEMBER( l_U3053[I], sub_43551() ))
                            {
                                REMOVE_CHAR_FROM_GROUP( l_U3053[I] );
                                PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - REMOVE_CHAR_FROM_GROUP - 2" );
                                PRINTNL();
                            }
                            GET_SCRIPT_TASK_STATUS( l_U3053[I], 11, ref iVar27 );
                            if (iVar27 == 7)
                            {
                                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3053[I], 1 );
                                if (l_U3029)
                                {
                                    SET_NEXT_DESIRED_MOVE_STATE( 2 );
                                }
                                TASK_ENTER_CAR_AS_PASSENGER( l_U3053[I], iParam9, -1, I );
                                SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3053[I], 0 );
                                PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - told to enter car as passenger" );
                                PRINTNL();
                            }
                            else if (IS_CHAR_IN_CAR( sub_4345(), iParam9 ))
                            {
                                ADD_BLIP_FOR_CHAR( l_U3053[I], ref l_U3040[I] );
                                CHANGE_BLIP_DISPLAY( l_U3040[I], 2 );
                                PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - add blip for char - 2" );
                                PRINTNL();
                                SET_BLIP_AS_FRIENDLY( l_U3040[I], 1 );
                                iVar18 = 0;
                            };;;
                        }
                        else if (NOT (IS_GROUP_MEMBER( l_U3053[I], sub_43551() )))
                        {
                            if (sub_47794( l_U3053[I], uParam7, uParam10 ))
                            {
                                GET_SCRIPT_TASK_STATUS( l_U3053[I], 11, ref iVar27 );
                                if (iVar27 == 7)
                                {
                                    CLEAR_CHAR_TASKS( l_U3053[I] );
                                    PRINTSTRING( "locates_heder - HAVE_BUDDIES_JOINED_PLAYERS_GROUP - CLEAR_CHAR_TASKS - 2" );
                                    PRINTNL();
                                }
                                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3053[I], 0 );
                                SET_GROUP_MEMBER( sub_43551(), l_U3053[I] );
                                PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - SET_GROUP_MEMBER - 2" );
                                PRINTNL();
                            }
                        }
                    }
                    else if (IS_CHAR_SITTING_IN_CAR( sub_4345(), iParam9 ))
                    {
                        if (NOT (IS_GROUP_MEMBER( l_U3053[I], sub_43551() )))
                        {
                            SET_GROUP_MEMBER( sub_43551(), l_U3053[I] );
                            PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - SET_GROUP_MEMBER - 3" );
                            PRINTNL();
                        }
                    }
                    else if (IS_GROUP_MEMBER( l_U3053[I], sub_43551() ))
                    {
                        REMOVE_CHAR_FROM_GROUP( l_U3053[I] );
                        PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - REMOVE_CHAR_FROM_GROUP - 3" );
                        PRINTNL();
                    };;;
                };;;
            }
            else if (DOES_BLIP_EXIST( l_U3040[I] ))
            {
                REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3040[I] );
                PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - remove blip for char - 2" );
                PRINTNL();
                sub_46566( uVar28[I] );
                iVar19 = 1;
            }
        }
    }
    for ( I = 0; I < 3; I++ )
    {
        if (DOES_BLIP_EXIST( l_U3040[I] ))
        {
            iVar20[I] = 1;
            iVar15++;
        }
    }
    if (NOT (sub_50684( 0 )))
    {
        if (iVar15 > 0)
        {
            for ( I = 0; I < 3; I++ )
            {
                if (iVar20[I])
                {
                    if (NOT (IS_CHAR_INJURED( l_U3053[I] )))
                    {
                        if ((LOCATE_CHAR_ANY_MEANS_CHAR_3D( l_U3053[I], sub_4345(), 40.00000000, 40.00000000, 40.00000000, 0 )) || (sub_46842( l_U3053[I] )))
                        {
                            iVar15--;
                            iVar20[I] = 0;
                        }
                    }
                }
            }
        }
        GET_GAME_TIMER( ref iVar17 );
        if ((iVar16 == 1) || ((iVar17 - l_U3050) > 1500))
        {
            if (iVar15 > 0)
            {
                if (l_U3051 < iVar15)
                {
                    PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - printing 'pickup' text" );
                    PRINTNL();
                    PRINTSTRING( "iPrintedMissingBuddiesNumber = " );
                    PRINTINT( l_U3051 );
                    PRINTNL();
                    PRINTSTRING( "iBuddiesMissing = " );
                    PRINTINT( iVar15 );
                    PRINTNL();
                    PRINTSTRING( "iTotalBuddies = " );
                    PRINTINT( iVar16 );
                    PRINTNL();
                    if ((iVar16 > 1) AND (iVar15 == iVar16))
                    {
                        if ((NOT (l_U3051 == iVar15)) AND (NOT l_U3019))
                        {
                            sub_46446( uParam6, 0 );
                            l_U3019 = 1;
                            l_U3051 = iVar15;
                        }
                    }
                    else
                    {
                        for ( I = 0; I < 3; I++ )
                        {
                            if (iVar20[I])
                            {
                                if ((NOT (l_U3051 == iVar15)) AND (NOT l_U3020[I]))
                                {
                                    sub_46446( uVar28[I], 0 );
                                    l_U3020[I] = 1;
                                    l_U3051 = iVar15;
                                }
                            }
                        }
                    }
                }
            }
            else
            {
                l_U3051 = 0;
            }
        }
    }
    l_U3029 = 0;
    if ((NOT bVar25) AND (iVar18))
    {
        for ( I = 0; I < 3; I++ )
        {
            if (DOES_BLIP_EXIST( l_U3040[I] ))
            {
                REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3040[I] );
                PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - remove blip for char - 3" );
                PRINTNL();
                sub_46566( uVar28[I] );
            }
        }
        sub_46566( "MORE_SEATS" );
        return 1;
    }
    if (IS_KEYBOARD_KEY_JUST_PRESSED( 36 ))
    {
        for ( I = 0; I < 3; I++ )
        {
            if (NOT (IS_CHAR_INJURED( sub_4345() )))
            {
                GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( sub_4345(), 0.00000000, 1.00000000 + (TO_FLOAT( I )), 0.00000000, ref uVar32._fU0, ref uVar32._fU4, ref uVar32._fU8 );
                if (NOT (IS_CHAR_INJURED( l_U3053[I] )))
                {
                    SET_CHAR_COORDINATES( l_U3053[I], uVar32._fU0, uVar32._fU4, uVar32._fU8 );
                }
            }
        }
    }
    return 0;
}

int sub_46189()
{
    unknown uVar2;

    if (IS_CHAR_SITTING_IN_ANY_CAR( sub_4345() ))
    {
        STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_4345(), ref uVar2 );
        if (sub_46230( uVar2 ))
        {
            return 1;
        }
    }
    return 0;
}

int sub_46230(unknown uParam0)
{
    int iVar3;
    int iVar4;
    int I;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        iVar3 = 0;
        for ( I = 0; I < l_U3053; I++ )
        {
            if (DOES_CHAR_EXIST( l_U3053[I] ))
            {
                iVar3++;
            }
        }
        GET_MAXIMUM_NUMBER_OF_PASSENGERS( uParam0, ref iVar4 );
        if (iVar4 >= iVar3)
        {
            return 1;
        }
    }
    return 0;
}

void sub_46446(unknown uParam0, boolean bParam1)
{
    if (NOT bParam1)
    {
        if (NOT (IS_STRING_NULL( uParam0 )))
        {
            if (NOT (COMPARE_STRING( uParam0, "" )))
            {
                PRINT_NOW( uParam0, 7500, 1 );
            }
        }
    }
    GET_GAME_TIMER( ref l_U3049 );
    return;
}

void sub_46566(unknown uParam0)
{
    if (NOT (IS_STRING_NULL( uParam0 )))
    {
        CLEAR_THIS_PRINT( uParam0 );
    }
    return;
}

int sub_46842(unknown uParam0)
{
    int iVar3;
    int iVar4;

    if (IS_PLAYER_PLAYING( sub_4399() ))
    {
        GET_CAR_CHAR_IS_USING( sub_4345(), ref iVar3 );
        if (IS_VEH_DRIVEABLE( iVar3 ))
        {
            if (NOT (IS_CHAR_INJURED( uParam0 )))
            {
                GET_CAR_CHAR_IS_USING( uParam0, ref iVar4 );
                if (IS_VEH_DRIVEABLE( iVar4 ))
                {
                    if (iVar3 == iVar4)
                    {
                        if ((LOCATE_CHAR_ANY_MEANS_CAR_3D( uParam0, iVar4, 20.00000000, 20.00000000, 20.00000000, 0 )) AND (LOCATE_CHAR_ANY_MEANS_CHAR_3D( sub_4345(), uParam0, 20.00000000, 20.00000000, 20.00000000, 0 )))
                        {
                            return 1;
                        }
                    }
                }
            }
        }
    }
    return 0;
}

int sub_47403()
{
    unknown uVar2;

    GET_CAR_CHAR_IS_USING( sub_4345(), ref uVar2 );
    if (sub_46230( uVar2 ))
    {
        return 1;
    }
    return 0;
}

int sub_47585(unknown uParam0, unknown uParam1)
{
    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (DOES_VEHICLE_EXIST( uParam1 ))
        {
            if (IS_VEH_DRIVEABLE( uParam1 ))
            {
                if (IS_CHAR_SITTING_IN_CAR( uParam0, uParam1 ))
                {
                    return 1;
                }
            }
        }
    }
    return 0;
}

int sub_47681(unknown uParam0, int iParam1)
{
    int iVar4;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (NOT (IS_GROUP_MEMBER( uParam0, sub_43551() )))
        {
            GET_CAR_CHAR_IS_USING( uParam0, ref iVar4 );
            if (IS_VEH_DRIVEABLE( iParam1 ))
            {
                if (iVar4 == iParam1)
                {
                    return 1;
                }
            }
        }
    }
    return 0;
}

int sub_47794(unknown uParam0, unknown uParam1, boolean bParam2)
{
    unknown uVar5;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (IS_CHAR_SITTING_IN_ANY_CAR( uParam0 ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( uParam0, ref uVar5 );
            if (NOT (IS_CAR_DEAD( uVar5 )))
            {
                if (IS_VEH_DRIVEABLE( uVar5 ))
                {
                    if (IS_CHAR_SITTING_IN_CAR( sub_4345(), uVar5 ))
                    {
                        if (sub_46189())
                        {
                            return 1;
                        }
                    }
                }
                else if (LOCATE_CHAR_ANY_MEANS_CHAR_3D( sub_4345(), uParam0, uParam1, uParam1, 3.00000000, 0 ))
                {
                    return 1;
                }
            }
        }
        else if (LOCATE_CHAR_ANY_MEANS_CHAR_3D( sub_4345(), uParam0, uParam1, uParam1, 3.00000000, 0 ))
        {
            if (NOT bParam2)
            {
                if (sub_47403())
                {
                    return 1;
                }
                else
                {
                    GET_CAR_CHAR_IS_USING( sub_4345(), ref uVar5 );
                    if (NOT (DOES_VEHICLE_EXIST( uVar5 )))
                    {
                        return 1;
                    }
                }
            }
            else
            {
                return 1;
            }
        }
    }
    return 0;
}

void sub_48517(unknown uParam0)
{
    if (DOES_BLIP_EXIST( uParam0 ))
    {
        if (DOES_BLIP_EXIST( l_U3045 ))
        {
            SET_ROUTE( l_U3045, 0 );
        }
        l_U3045 = uParam0;
        SET_ROUTE( uParam0, 1 );
    }
    return;
}

int sub_48636(unknown uParam0)
{
    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (IS_CHAR_SITTING_IN_ANY_CAR( sub_4345() ))
        {
            if (sub_48684( sub_4345(), uParam0 ))
            {
                SET_GROUP_SEPARATION_RANGE( sub_43551(), 40.00000000 );
                return 1;
            }
        }
        else if (IS_GROUP_MEMBER( uParam0, sub_43551() ))
        {
            SET_GROUP_SEPARATION_RANGE( sub_43551(), 40.00000000 );
            return 1;
        }
    }
    else
    {
        return 1;
    }
    return 0;
}

int sub_48684(unknown uParam0, unknown uParam1)
{
    unknown uVar4;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (IS_CHAR_SITTING_IN_ANY_CAR( uParam0 ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( uParam0, ref uVar4 );
            if (IS_VEH_DRIVEABLE( uVar4 ))
            {
                if (NOT (IS_CHAR_INJURED( uParam1 )))
                {
                    if (IS_CHAR_SITTING_IN_CAR( uParam1, uVar4 ))
                    {
                        return 1;
                    }
                }
            }
        }
    }
    return 0;
}

int sub_49244(unknown uParam0)
{
    float fVar3;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        GET_CHAR_SPEED( uParam0, ref fVar3 );
        if ((fVar3 < 0.50000000) AND (fVar3 > -0.50000000))
        {
            return 1;
        }
    }
    return 0;
}

int sub_50684(boolean bParam0)
{
    if ((sub_50778()) || ((IS_SCRIPTED_CONVERSATION_ONGOING()) || ((sub_50719()) || ((((bParam0) AND (sub_26336())) || ((NOT bParam0) AND (sub_44766()))) || (IS_MESSAGE_BEING_DISPLAYED())))))
    {
        return 1;
    }
    return 0;
}

int sub_50719()
{
    if ((g_U95._fU0 == 1008) || (g_U95._fU0 == 1007))
    {
        return 1;
    }
    return 0;
}

int sub_50778()
{
    int iVar2;
    int iVar3;

    GET_GAME_TIMER( ref iVar3 );
    iVar2 = iVar3 - l_U3049;
    if (iVar2 < 35)
    {
        return 1;
    }
    return 0;
}

int sub_52071()
{
    if (NOT (IS_CHAR_INJURED( l_U3052 )))
    {
        if (IS_AMBIENT_SPEECH_PLAYING( l_U3052 ))
        {
            return 1;
        }
    }
    return 0;
}

int sub_52470()
{
    int iVar2;

    iVar2 = 1;
    if (IS_CHAR_SITTING_IN_ANY_CAR( sub_4345() ))
    {
        if ((IS_CHAR_IN_ANY_HELI( sub_4345() )) || (IS_CHAR_ON_ANY_BIKE( sub_4345() )))
        {
            iVar2 = 0;
        }
    }
    if (l_U3031)
    {
        if (sub_49244( sub_4345() ))
        {
            if ((l_U3025) || (sub_25909( 1, iVar2 )))
            {
                return 1;
            }
        }
    }
    else if ((l_U3025) || (sub_25909( 1, iVar2 )))
    {
        return 1;
    }
    return 0;
}

void sub_54160(unknown uParam0, unknown uParam1, unknown uParam2, boolean bParam3, unknown uParam4)
{
    int I;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;

    sub_44940();
    if (l_U3024)
    {
        uParam0 = l_U3058._fU0;
        uParam1 = l_U3058._fU4;
        uParam2 = l_U3058._fU8;
        uVar12 = l_U3048;
        l_U3024 = 0;
    }
    else if (NOT (IS_CHAR_INJURED( sub_4345() )))
    {
        GET_CHAR_HEADING( sub_4345(), ref uVar12 );
    }
    if (IS_SCREEN_FADED_IN())
    {
        if (IS_KEYBOARD_KEY_JUST_PRESSED( 36 ))
        {
            PRINTSTRING( "J_SKIP - called" );
            PRINTNL();
            DO_SCREEN_FADE_OUT( 500 );
            while (NOT IS_SCREEN_FADED_OUT())
            {
                WAIT( 0 );
            }
            CLEAR_WANTED_LEVEL( sub_4399() );
            sub_54371( ref uVar8 );
            if (bParam3)
            {
                PRINTSTRING( "J_SKIP - onFoot = TRUE" );
                PRINTNL();
                sub_54792( uParam0, uParam1, uParam2, 0 );
                for ( I = 0; I < l_U3053; I++ )
                {
                    if (NOT (IS_CHAR_INJURED( l_U3053[I] )))
                    {
                        CLEAR_CHAR_TASKS_IMMEDIATELY( l_U3053[I] );
                        if (NOT (IS_CHAR_INJURED( sub_4345() )))
                        {
                            GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( sub_4345(), 0.00000000, 1.00000000 + (TO_FLOAT( I )), 0.00000000, ref uVar9._fU0, ref uVar9._fU4, ref uVar9._fU8 );
                            SET_CHAR_COORDINATES( l_U3053[I], uVar9._fU0, uVar9._fU4, uVar9._fU8 );
                            SET_CHAR_HEADING( l_U3053[I], uVar12 );
                        }
                    }
                }
            }
            else if (DOES_VEHICLE_EXIST( uParam4 ))
            {
                PRINTSTRING( "J_SKIP - SpecificCarID exists" );
                PRINTNL();
                if (IS_VEH_DRIVEABLE( uParam4 ))
                {
                    CLEAR_CHAR_TASKS_IMMEDIATELY( sub_4345() );
                    WARP_CHAR_INTO_CAR( sub_4345(), uParam4 );
                    for ( I = 0; I < l_U3053; I++ )
                    {
                        if (DOES_CHAR_EXIST( l_U3053[I] ))
                        {
                            if (NOT (IS_CHAR_INJURED( l_U3053[I] )))
                            {
                                CLEAR_CHAR_TASKS_IMMEDIATELY( l_U3053[I] );
                                WARP_CHAR_INTO_CAR_AS_PASSENGER( l_U3053[I], uParam4, I );
                                SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3053[I], 0 );
                            }
                        }
                    }
                }
                sub_54792( uParam0, uParam1, uParam2, uVar12 );
                if (IS_VEH_DRIVEABLE( uParam4 ))
                {
                    SET_CAR_COORDINATES( uParam4, uParam0, uParam1, uParam2 );
                }
            }
            else
            {
                PRINTSTRING( "J_SKIP - searching for temp_car" );
                PRINTNL();
                if (DOES_VEHICLE_EXIST( uVar8 ))
                {
                    if (NOT (IS_VEH_DRIVEABLE( uVar8 )))
                    {
                        PRINTSTRING( "J_SKIP - temp_car existed but not driveable" );
                        PRINTNL();
                        uVar8 = nil;
                    }
                }
                if (NOT (DOES_VEHICLE_EXIST( uVar8 )))
                {
                    PRINTSTRING( "J_SKIP - creating new temp_car" );
                    PRINTNL();
                    REQUEST_MODEL( 1264341792 );
                    while (NOT (HAS_MODEL_LOADED( 1264341792 )))
                    {
                        WAIT( 0 );
                    }
                    CREATE_CAR( 1264341792, uParam0, uParam1, uParam2, ref uVar8, 1 );
                    MARK_MODEL_AS_NO_LONGER_NEEDED( 1264341792 );
                    CLEAR_CHAR_TASKS_IMMEDIATELY( sub_4345() );
                    WARP_CHAR_INTO_CAR( sub_4345(), uVar8 );
                    sub_55699( uVar8 );
                }
                else
                {
                    PRINTSTRING( "J_SKIP - temp_car exists" );
                    PRINTNL();
                    if (IS_VEH_DRIVEABLE( uVar8 ))
                    {
                        PRINTSTRING( "J_SKIP - temp_car is driveable" );
                        PRINTNL();
                        CLEAR_CHAR_TASKS_IMMEDIATELY( sub_4345() );
                        WARP_CHAR_INTO_CAR( sub_4345(), uVar8 );
                    }
                }
                for ( I = 0; I < l_U3053; I++ )
                {
                    if (DOES_CHAR_EXIST( l_U3053[I] ))
                    {
                        if (NOT (IS_CHAR_INJURED( l_U3053[I] )))
                        {
                            PRINTSTRING( "J_SKIP - buddy exists, clearing tasks." );
                            PRINTNL();
                            CLEAR_CHAR_TASKS_IMMEDIATELY( l_U3053[I] );
                            if (IS_VEH_DRIVEABLE( uVar8 ))
                            {
                                WARP_CHAR_INTO_CAR_AS_PASSENGER( l_U3053[I], uVar8, I );
                            }
                            else
                            {
                                PRINTSTRING( "J_SKIP - buddy exists, clearing tasks." );
                                PRINTNL();
                            }
                        }
                    }
                }
                for ( I = 0; I < l_U3053; I++ )
                {
                    if (DOES_CHAR_EXIST( l_U3053[I] ))
                    {
                        if (NOT (IS_CHAR_INJURED( l_U3053[I] )))
                        {
                            if (IS_VEH_DRIVEABLE( uVar8 ))
                            {
                                PRINTSTRING( "J_SKIP - warping buddy into car" );
                                PRINTNL();
                                WARP_CHAR_INTO_CAR_AS_PASSENGER( l_U3053[I], uVar8, I );
                            }
                        }
                    }
                }
                if (IS_VEH_DRIVEABLE( uVar8 ))
                {
                    SET_CAR_COORDINATES( uVar8, uParam0, uParam1, uParam2 );
                    SET_CAR_HEADING( uVar8, uVar12 );
                }
            }
            LOAD_SCENE( uParam0, uParam1, uParam2 );
            WAIT( 500 );
            sub_56319( 0, 0 );
            DO_SCREEN_FADE_IN( 500 );
        }
    }
    return;
}

void sub_54371(unknown uParam0)
{
    if (IS_PLAYER_PLAYING( sub_4399() ))
    {
        if (IS_CHAR_IN_ANY_CAR( sub_4345() ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_4345(), uParam0 );
        }
    }
    if (NOT (DOES_VEHICLE_EXIST( (uParam0^) )))
    {
        GET_CAR_CHAR_IS_USING( sub_4345(), uParam0 );
    }
    if (DOES_VEHICLE_EXIST( (uParam0^) ))
    {
        if (IS_VEH_DRIVEABLE( (uParam0^) ))
        {
            sub_54491( (uParam0^) );
        }
        else
        {
            (uParam0^) = nil;
        }
    }
    else
    {
        (uParam0^) = nil;
    }
    return;
}

void sub_54491(unknown uParam0)
{
    unknown uVar3;
    int I;
    int iVar5;

    if (DOES_VEHICLE_EXIST( uParam0 ))
    {
        if (IS_VEH_DRIVEABLE( uParam0 ))
        {
            GET_DRIVER_OF_CAR( uParam0, ref uVar3 );
            if (DOES_CHAR_EXIST( uVar3 ))
            {
                if (NOT (IS_CHAR_INJURED( uVar3 )))
                {
                    CLEAR_CHAR_TASKS_IMMEDIATELY( uVar3 );
                }
                else
                {
                    DELETE_CHAR( ref uVar3 );
                }
            }
            GET_MAXIMUM_NUMBER_OF_PASSENGERS( uParam0, ref iVar5 );
            for ( I = 0; I < iVar5; I++ )
            {
                if (NOT (IS_CAR_PASSENGER_SEAT_FREE( uParam0, I )))
                {
                    GET_CHAR_IN_CAR_PASSENGER_SEAT( uParam0, I, ref uVar3 );
                    if (DOES_CHAR_EXIST( uVar3 ))
                    {
                        if (NOT (IS_CHAR_INJURED( uVar3 )))
                        {
                            CLEAR_CHAR_TASKS_IMMEDIATELY( uVar3 );
                        }
                        else
                        {
                            DELETE_CHAR( ref uVar3 );
                        }
                    }
                }
            }
        }
    }
    return;
}

void sub_54792(unknown uParam0, unknown uParam1, float fParam2, unknown uParam3)
{
    fParam2 += 1.00000000;
    SET_CHAR_COORDINATES( sub_4345(), uParam0, uParam1, fParam2 );
    SET_GAME_CAM_HEADING( 0 );
    REQUEST_COLLISION_AT_POSN( uParam0, uParam1, fParam2 );
    LOAD_ALL_OBJECTS_NOW();
    GET_CHAR_COORDINATES( sub_4345(), ref uParam0, ref uParam1, ref fParam2 );
    GET_GROUND_Z_FOR_3D_COORD( uParam0, uParam1, fParam2, ref fParam2 );
    SET_CHAR_COORDINATES( sub_4345(), uParam0, uParam1, fParam2 );
    SET_CHAR_HEADING( sub_4345(), uParam3 );
    return;
}

void sub_55699(unknown uParam0)
{
    MARK_CAR_AS_NO_LONGER_NEEDED( ref uParam0 );
    return;
}

void sub_56319(boolean bParam0, unknown uParam1)
{
    boolean bVar4;
    int iVar5;
    int iVar6;

    PRINTSTRING( "WAIT_FOR_ANY_NEARBY_CLUBS_TO_STREAM_IN - called for " );
    PRINTNL();
    if (NOT bParam0)
    {
        if (NOT IS_SCREEN_FADED_OUT())
        {
            SCRIPT_ASSERT( "WAIT_FOR_ANY_NEARBY_CLUBS_TO_STREAM_IN() - should only be called when screen is faded out." );
        }
        else
        {
            WAIT( 0 );
        }
    }
    if (((bParam0) || (IS_SCREEN_FADED_OUT())) AND (NOT (IS_CHAR_INJURED( sub_4345() ))))
    {
        PRINTSTRING( "WAIT_FOR_ANY_NEARBY_CLUBS_TO_STREAM_IN - checking if player is near a club..." );
        PRINTNL();
        g_U30093[0] = 0;
        g_U30093[1] = 0;
        g_U30093[2] = 0;
        g_U30176 = uParam1;
        if (sub_56699( sub_4345(), 0, 25.00000000 ))
        {
            PRINTSTRING( "WAIT_FOR_ANY_NEARBY_CLUBS_TO_STREAM_IN - bahama mamas" );
            PRINTNL();
            g_U30110[0] = 1;
        }
        if (sub_56699( sub_4345(), 1, 25.00000000 ))
        {
            PRINTSTRING( "WAIT_FOR_ANY_NEARBY_CLUBS_TO_STREAM_IN - maisonette 9" );
            PRINTNL();
            g_U30110[1] = 1;
        }
        if (sub_56699( sub_4345(), 2, 25.00000000 ))
        {
            PRINTSTRING( "WAIT_FOR_ANY_NEARBY_CLUBS_TO_STREAM_IN - hercules" );
            PRINTNL();
            g_U30110[2] = 1;
        }
        sub_57976( 0 );
        sub_57976( 1 );
        sub_57976( 2 );
        bVar4 = false;
        GET_GAME_TIMER( ref l_U3012 );
        while (NOT bVar4)
        {
            GET_GAME_TIMER( ref iVar5 );
            iVar6 = iVar5 - l_U3012;
            if (((g_U30110[2] == 0) AND ((g_U30110[1] == 0) AND (g_U30110[0] == 0))) || (iVar6 > 15000))
            {
                if (iVar6 > 15000)
                {
                    ;
                }
                bVar4 = true;
            }
            else
            {
                PRINTSTRING( "WAIT_FOR_ANY_NEARBY_CLUBS_TO_STREAM_IN  - loading stuff" );
                PRINTNL();
                WAIT( 0 );
            }
        }
        if (NOT bParam0)
        {
            WAIT( 0 );
        }
        PRINTSTRING( "WAIT_FOR_ANY_NEARBY_CLUBS_TO_STREAM_IN - finished" );
        PRINTNL();
    }
    return;
}

int sub_56699(unknown uParam0, unknown uParam1, unknown uParam2)
{
    vector vVar5;
    vector vVar8;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;

    vVar5 = {sub_56710( uParam1 )};
    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (sub_56870( uParam0, uParam1, 0 ))
        {
            return 1;
        }
        else
        {
            GET_CHAR_COORDINATES( uParam0, ref vVar8.x, ref vVar8.y, ref vVar8.z );
            uVar11 = {vVar5 - vVar8};
            uVar11._fU8 = 0.00000000;
            if ((VMAG2( uVar11 )) < (uParam2 * uParam2))
            {
                return 1;
            }
        }
    }
    return 0;
}

vector sub_56710(unknown uParam0)
{
    switch (uParam0)
    {
        case 0:
        return vector( -399.10690000, 397.67000000, 14.17720000);
        break;
        case 1:
        return vector( -468.03000000, 153.41000000, 9.80000000);
        break;
        case 2:
        return vector( -440.28000000, 356.98000000, 11.54000000);
        break;
    }
    return vector( 0.00000000, 0.00000000, 0.00000000);
}

int sub_56870(unknown uParam0, unknown uParam1, boolean bParam2)
{
    unknown uVar5;
    unknown uVar6;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (sub_56898( uParam0, uParam1 ))
        {
            return 1;
        }
        switch (uParam1)
        {
            case 0:
            if (bParam2)
            {
                if (((LOCATE_CHAR_ANY_MEANS_3D( uParam0, -399.10690000, 397.39960000, 14.17720000, 1.60000000, 1.60000000, 1.60000000, 0 )) AND (IS_CHAR_ON_ANY_BIKE( uParam0 ))) || (LOCATE_CHAR_ON_FOOT_3D( uParam0, -399.10690000, 397.39960000, 14.17720000, 1.60000000, 1.60000000, 1.60000000, 0 )))
                {
                    return 1;
                }
            }
            break;
            case 1:
            if (bParam2)
            {
                if (((LOCATE_CHAR_ANY_MEANS_3D( uParam0, -466.92400000, 153.19500000, 9.87400000, 1.60000000, 1.60000000, 1.60000000, 0 )) AND (IS_CHAR_ON_ANY_BIKE( uParam0 ))) || (LOCATE_CHAR_ON_FOOT_3D( uParam0, -466.92400000, 153.19500000, 9.87400000, 1.60000000, 1.60000000, 1.60000000, 0 )))
                {
                    return 1;
                }
            }
            break;
            case 2:
            if (bParam2)
            {
                if (((LOCATE_CHAR_ANY_MEANS_3D( uParam0, -440.46400000, 356.91300000, 11.71800000, 1.60000000, 1.60000000, 1.60000000, 0 )) AND (IS_CHAR_ON_ANY_BIKE( uParam0 ))) || (LOCATE_CHAR_ON_FOOT_3D( uParam0, -440.46400000, 356.91300000, 11.71800000, 1.60000000, 1.60000000, 1.60000000, 0 )))
                {
                    return 1;
                }
            }
            break;
        }
    }
    return 0;
}

int sub_56898(unknown uParam0, unknown uParam1)
{
    int iVar4;
    int iVar5;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        switch (uParam1)
        {
            case 0:
            GET_INTERIOR_AT_COORDS( -395.22000000, 400.50000000, 14.40000000, ref iVar4 );
            GET_INTERIOR_FROM_CHAR( uParam0, ref iVar5 );
            if (NOT (iVar4 == nil))
            {
                if (iVar4 == iVar5)
                {
                    return 1;
                }
            }
            break;
            case 1:
            GET_INTERIOR_AT_COORDS( -483.90180000, 149.43310000, 7.56070000, ref iVar4 );
            GET_INTERIOR_FROM_CHAR( uParam0, ref iVar5 );
            if (NOT (iVar4 == nil))
            {
                if (iVar4 == iVar5)
                {
                    return 1;
                }
            }
            break;
            case 2:
            GET_INTERIOR_AT_COORDS( -431.82560000, 351.76230000, 11.71660000, ref iVar4 );
            GET_INTERIOR_FROM_CHAR( uParam0, ref iVar5 );
            if (NOT (iVar4 == nil))
            {
                if (iVar4 == iVar5)
                {
                    return 1;
                }
            }
            if (IS_CHAR_IN_AREA_3D( sub_4345(), -438.84750000, 349.78630000, 9.59170000, -436.09750000, 353.78630000, 14.46670000, 0 ))
            {
                return 1;
            }
            break;
        }
    }
    return 0;
}

void sub_57976(unknown uParam0)
{
    g_U30114[uParam0] = 1;
    return;
}

void sub_58317(unknown uParam0, unknown uParam1, unknown uParam2)
{
    unknown uVar5;

    if (NOT (sub_58342( uParam0, uParam1, uParam2, l_U3046, 1120403456 )))
    {
        if (NOT (LOCATE_CHAR_ANY_MEANS_3D( sub_4345(), uParam0, uParam1, uParam2, 50.00000000, 50.00000000, 50.00000000, 0 )))
        {
            GET_PLAYERS_LAST_CAR_NO_SAVE( ref uVar5 );
            if (DOES_VEHICLE_EXIST( uVar5 ))
            {
                if (NOT (IS_CAR_DEAD( uVar5 )))
                {
                    if (NOT (LOCATE_CAR_3D( uVar5, uParam0, uParam1, uParam2, l_U3046, l_U3046, l_U3046, 0 )))
                    {
                        CLEAR_AREA_OF_CARS( uParam0, uParam1, uParam2, l_U3046 );
                    }
                }
            }
            else
            {
                CLEAR_AREA_OF_CARS( uParam0, uParam1, uParam2, l_U3046 );
            }
        }
    }
    return;
}

int sub_58342(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (sub_58359( uParam0, uParam1, uParam2, uParam3 ))
    {
        if (NOT (LOCATE_CHAR_ANY_MEANS_2D( sub_4345(), uParam0, uParam1, uParam4, uParam4, 0 )))
        {
            return 0;
        }
        else if (IS_SCREEN_FADED_OUT())
        {
            return 0;
        }
        else
        {
            return 1;
        }
    }
    return 0;
}

int sub_58359(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;

    GET_GAME_VIEWPORT_ID( ref uVar6 );
    if (CAM_IS_SPHERE_VISIBLE( uVar6, uParam0, uParam1, uParam2, uParam3 ))
    {
        return 1;
    }
    return 0;
}

void sub_60108(int iParam0)
{
    if (iParam0 == nil)
    {
        return;
    }
    CHANGE_BLIP_DISPLAY( iParam0, 2 );
    return;
}

void sub_62014()
{
    return sub_62025( 1, 1 );
}

int sub_62025(boolean bParam0, unknown uParam1)
{
    if (bParam0)
    {
        g_U95._fU104 = 1;
    }
    if ((g_U560 != 9) AND (uParam1))
    {
        g_U95._fU100 = 1;
    }
    return 1;
}

void sub_63056()
{
    sub_63065();
    sub_63099();
    return;
}

void sub_63065()
{
    g_U43513 = GET_INT_STAT( 289 );
    return;
}

void sub_63099()
{
    RESET_LOCAL_PLAYER_WEAPON_STAT( 21, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 21, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 29, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 29, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 30, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 30, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 31, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 31, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 32, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 32, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 33, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 33, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 34, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 34, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 35, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 35, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 36, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 36, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 37, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 37, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 39, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 39, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 40, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 40, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 14, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 14, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 7, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 7, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 9, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 9, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 12, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 12, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 13, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 13, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 15, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 15, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 10, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 10, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 11, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 11, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 4, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 4, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 5, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 5, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 18, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 18, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 16, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 16, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 17, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 17, 1 );
    return;
}

void sub_64873(unknown uParam0, unknown uParam1)
{
    unknown Result;

    GENERATE_RANDOM_FLOAT_IN_RANGE( uParam0, uParam1, ref Result );
    return Result;
}

void sub_65524()
{
    switch (l_U4654)
    {
        case 0:
        if (l_U4062 == 0)
        {
            if (l_U4077 == 0)
            {
                if (l_U4121 == 0)
                {
                    if ((NOT (((# -sub_C0D6E0-0xc0e58c( sub_4399() )) AND (NOT IS_USING_CONTROLLER())) || (IS_CONTROL_PRESSED( 0, 6 )))) AND ((NOT (IS_CONTROL_PRESSED( 0, 4 ))) AND (NOT (IS_CHAR_DUCKING( sub_4345() )))))
                    {
                        SET_CHAR_DUCKING( sub_4345(), 1 );
                    }
                    if (l_U4104 == 0)
                    {
                        if (NOT (IS_CHAR_INJURED( sub_4345() )))
                        {
                            if ((NOT (IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "duck_idle" ))) AND ((NOT (IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "get_up" ))) AND ((NOT (IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "duck" ))) AND ((NOT (((# -sub_C0D6E0-0xc0e58c( sub_4399() )) AND (NOT IS_USING_CONTROLLER())) || (IS_CONTROL_PRESSED( 0, 6 )))) AND ((NOT (IS_CONTROL_PRESSED( 0, 4 ))) AND (IS_CONTROL_JUST_PRESSED( 0, 20 )))))))
                            {
                                SET_CHAR_DUCKING( sub_4345(), 1 );
                                if (NOT (IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "duck" )))
                                {
                                    OPEN_SEQUENCE_TASK( ref l_U4906 );
                                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "duck", "missyusuf04", 4.00000000, 0, 1, 1, 1, -1 );
                                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "duck_idle", "missyusuf04", 4.00000000, 1, 1, 1, 0, -1 );
                                    CLOSE_SEQUENCE_TASK( l_U4906 );
                                    TASK_PERFORM_SEQUENCE( sub_4345(), l_U4906 );
                                    CLEAR_SEQUENCE_TASK( l_U4906 );
                                    if (IS_VEH_DRIVEABLE( l_U3869[l_U4623] ))
                                    {
                                        ATTACH_PED_TO_CAR( sub_4345(), l_U3869[l_U4623], 0, 0, l_U4857, 3.56000000, 0, 0, 1, 0 );
                                    }
                                    l_U4036 = 1;
                                }
                            }
                            if (IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "duck" ))
                            {
                                SET_CHAR_ANIM_SPEED( sub_4345(), "missyusuf04", "duck", 1.20000000 );
                                GET_CHAR_ANIM_CURRENT_TIME( sub_4345(), "missyusuf04", "duck", ref l_U4858 );
                                if (l_U4858 > 0.99000000)
                                {
                                    l_U4104 = 1;
                                }
                            }
                        }
                    }
                    else if (NOT (IS_CHAR_INJURED( sub_4345() )))
                    {
                        if ((NOT (((# -sub_C0D6E0-0xc0e58c( sub_4399() )) AND (NOT IS_USING_CONTROLLER())) || (IS_CONTROL_PRESSED( 0, 6 )))) AND ((IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "duck_idle" )) AND ((NOT (IS_CONTROL_PRESSED( 0, 4 ))) AND (IS_CONTROL_JUST_PRESSED( 0, 20 )))))
                        {
                            SET_CHAR_DUCKING( sub_4345(), 1 );
                            if (NOT (IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "get_up" )))
                            {
                                OPEN_SEQUENCE_TASK( ref l_U4905 );
                                TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "get_up", "missyusuf04", 1000.00000000, 0, 1, 1, 1, -1 );
                                TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "idle", "MOVE_CROUCH_RIFLE", 4.00000000, 0, 1, 1, 0, 10 );
                                CLOSE_SEQUENCE_TASK( l_U4905 );
                                TASK_PERFORM_SEQUENCE( sub_4345(), l_U4905 );
                                CLEAR_SEQUENCE_TASK( l_U4905 );
                                l_U4036 = 0;
                            }
                        }
                        if (IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "get_up" ))
                        {
                            SET_CHAR_ANIM_SPEED( sub_4345(), "missyusuf04", "get_up", 1.50000000 );
                            GET_CHAR_ANIM_CURRENT_TIME( sub_4345(), "missyusuf04", "get_up", ref l_U4858 );
                            if (l_U4858 > 0.99000000)
                            {
                                l_U4031 = 0;
                                l_U4032 = 0;
                                l_U4104 = 0;
                            }
                        }
                    }
                    if ((l_U4215 == 0) AND ((l_U4036 == 0) AND (l_U4104 == 0)))
                    {
                        if (l_U4193 == 1)
                        {
                            if (NOT (IS_CHAR_INJURED( sub_4345() )))
                            {
                                if ((NOT (((# -sub_C0D6E0-0xc0e58c( sub_4399() )) AND (NOT IS_USING_CONTROLLER())) || (IS_CONTROL_PRESSED( 0, 6 )))) AND (NOT (IS_CONTROL_PRESSED( 0, 4 ))))
                                {
                                    l_U4216 = 0;
                                    if (IS_VEH_DRIVEABLE( l_U3869[l_U4623] ))
                                    {
                                        DETACH_PED( sub_4345(), 1 );
                                        ATTACH_PED_TO_CAR( sub_4345(), l_U3869[l_U4623], 0, 0, l_U4857, 3.60000000, 180, 0, 1, 0 );
                                    }
                                }
                                else
                                {
                                    l_U4216 = 1;
                                    if (IS_VEH_DRIVEABLE( l_U3869[l_U4623] ))
                                    {
                                        DETACH_PED( sub_4345(), 1 );
                                        ATTACH_PED_TO_CAR( sub_4345(), l_U3869[l_U4623], 0, 0, l_U4857, 3.60000000, 180, 360, 1, 0 );
                                    }
                                }
                            }
                            if (l_U4192 == 1)
                            {
                                if (IS_CONTROL_JUST_PRESSED( 0, 7 ))
                                {
                                    l_U4193 = 0;
                                }
                            }
                        }
                        else if (l_U4192 == 1)
                        {
                            if ((l_U4193 == 0) AND (IS_CONTROL_JUST_PRESSED( 0, 7 )))
                            {
                                l_U4193 = 1;
                            }
                        }
                        if ((NOT (((# -sub_C0D6E0-0xc0e58c( sub_4399() )) AND (NOT IS_USING_CONTROLLER())) || (IS_CONTROL_PRESSED( 0, 6 )))) AND (NOT (IS_CONTROL_PRESSED( 0, 4 ))))
                        {
                            if (IS_VEH_DRIVEABLE( l_U3869[l_U4623] ))
                            {
                                DETACH_PED( sub_4345(), 1 );
                                ATTACH_PED_TO_CAR( sub_4345(), l_U3869[l_U4623], 0, 0, l_U4857, 3.60000000, 0, 0, 1, 0 );
                            }
                        }
                        else if (IS_VEH_DRIVEABLE( l_U3869[l_U4623] ))
                        {
                            DETACH_PED( sub_4345(), 1 );
                            ATTACH_PED_TO_CAR( sub_4345(), l_U3869[l_U4623], 0, 0, l_U4857, 3.60000000, 0, 360, 1, 0 );
                        };;;
                    }
                }
            }
            if ((l_U4036 == 0) AND (l_U4104 == 0))
            {
                if (IS_VEH_DRIVEABLE( l_U3869[l_U4623] ))
                {
                    if (l_U4623 > 0)
                    {
                        GET_POSITION_OF_ANALOGUE_STICKS( 0, ref l_U4619, ref l_U4620, ref l_U4621, ref l_U4622 );
                        if (NOT IS_USING_CONTROLLER())
                        {
                            GET_KEYBOARD_MOVE_INPUT( ref l_U4619, ref l_U4620 );
                        }
                        if ((NOT (IS_CHAR_PLAYING_ANIM( sub_4345(), "gun@aa12", "Reload_Crouch" ))) AND ((l_U4215 == 0) AND ((NOT (((# -sub_C0D6E0-0xc0e58c( sub_4399() )) AND (NOT IS_USING_CONTROLLER())) || (IS_CONTROL_PRESSED( 0, 6 )))) AND ((NOT (IS_CONTROL_PRESSED( 0, 4 ))) AND (l_U4620 < 65496)))))
                        {
                            l_U4193 = 0;
                            if (l_U4857 < 7.30000000)
                            {
                                if (NOT (IS_CONTROL_PRESSED( 0, 1 )))
                                {
                                    l_U4857 += 0.08000000;
                                    if (IS_CHAR_PLAYING_ANIM( sub_4345(), "MOVE_CROUCH_RIFLE", "WALK" ))
                                    {
                                        SET_CHAR_ANIM_SPEED( sub_4345(), "MOVE_CROUCH_RIFLE", "WALK", 0.80000000 );
                                    }
                                }
                                else
                                {
                                    l_U4857 += 0.11000000;
                                    if (IS_CHAR_PLAYING_ANIM( sub_4345(), "MOVE_CROUCH_RIFLE", "WALK" ))
                                    {
                                        SET_CHAR_ANIM_SPEED( sub_4345(), "MOVE_CROUCH_RIFLE", "WALK", 1.10000000 );
                                    }
                                }
                                ATTACH_PED_TO_CAR( sub_4345(), l_U3869[l_U4623], 0, 0, l_U4857, 3.60000000, 0, 0, 1, 0 );
                                if (NOT l_U4031)
                                {
                                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( sub_4345(), "walk", "MOVE_CROUCH_RIFLE", 4.00000000, 1, 1, 1, 0, -1 );
                                    l_U4031 = 1;
                                    l_U4032 = 0;
                                }
                            }
                        }
                        if (l_U4857 >= 7.30000000)
                        {
                            if (l_U4216 == 0)
                            {
                                l_U4215 = 1;
                                if ((NOT (sub_3929( l_U4908 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND (NOT IS_MESSAGE_BEING_DISPLAYED())))
                                {
                                    sub_16284( "E2Y4_GRUNT", ref l_U4908, 5, 1 );
                                }
                                if ((IS_VEH_DRIVEABLE( l_U3869[l_U4623] )) AND (NOT (IS_CHAR_INJURED( sub_4345() ))))
                                {
                                    if (l_U4191 == 1)
                                    {
                                        l_U4857 = -9.96000000;
                                        ATTACH_PED_TO_CAR( sub_4345(), l_U3869[l_U4623], 0, 0, l_U4857, 3.60000000, 0, 0, 1, 0 );
                                        l_U4191 = 0;
                                        l_U4654++;
                                        break;
                                    }
                                    else if (IS_CHAR_PLAYING_ANIM( sub_4345(), "MOVE_CROUCH_RIFLE", "walk" ))
                                    {
                                        GET_CHAR_ANIM_CURRENT_TIME( sub_4345(), "MOVE_CROUCH_RIFLE", "walk", ref l_U4858 );
                                    }
                                    if ((NOT (IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "jump_r" ))) AND (NOT (IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "jump" ))))
                                    {
                                        if ((l_U4858 > 0.75000000) || (l_U4858 < 0.25000000))
                                        {
                                            OPEN_SEQUENCE_TASK( ref l_U4904 );
                                            TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "jump", "missyusuf04", 4.00000000, 0, 1, 1, 0, -1 );
                                            TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "walk", "MOVE_CROUCH_RIFLE", 4.00000000, 1, 1, 1, 0, -1 );
                                            CLOSE_SEQUENCE_TASK( l_U4904 );
                                            TASK_PERFORM_SEQUENCE( sub_4345(), l_U4904 );
                                            CLEAR_SEQUENCE_TASK( l_U4904 );
                                        }
                                        if ((l_U4858 < 0.75000000) AND (l_U4858 > 0.25000000))
                                        {
                                            OPEN_SEQUENCE_TASK( ref l_U4904 );
                                            TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "jump_r", "missyusuf04", 4.00000000, 0, 1, 1, 0, -1 );
                                            TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "walk", "MOVE_CROUCH_RIFLE", 4.00000000, 1, 1, 1, 0, -1 );
                                            CLOSE_SEQUENCE_TASK( l_U4904 );
                                            TASK_PERFORM_SEQUENCE( sub_4345(), l_U4904 );
                                            CLEAR_SEQUENCE_TASK( l_U4904 );
                                        }
                                    }
                                    else
                                    {
                                        l_U4623--;
                                        if (l_U4623 <= 0)
                                        {
                                            l_U4623 = 0;
                                            if ((IS_VEH_DRIVEABLE( l_U3869[l_U4623] )) AND (NOT (IS_CHAR_INJURED( sub_4345() ))))
                                            {
                                                if (DOES_BLIP_EXIST( l_U3920 ))
                                                {
                                                    REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3920 );
                                                }
                                                l_U4857 = -9.96000000;
                                                ATTACH_PED_TO_CAR( sub_4345(), l_U3869[l_U4623], 0, 0, l_U4857, 3.60000000, 0, 0, 1, 0 );
                                                l_U4191 = 0;
                                                l_U4654++;
                                                break;
                                            }
                                        }
                                        l_U4191 = 1;
                                    }
                                }
                            }
                        }
                        if (((l_U4104 == 0) AND ((l_U4036 == 0) AND ((l_U4215 == 0) AND (IS_CONTROL_PRESSED( 0, 4 ))))) || (((# -sub_C0D6E0-0xc0e58c( sub_4399() )) AND (NOT IS_USING_CONTROLLER())) || ((IS_CONTROL_PRESSED( 0, 6 )) || (NOT (l_U4620 < 65496)))))
                        {
                            if (NOT l_U4032)
                            {
                                if (l_U4077 == 0)
                                {
                                    if (IS_VEH_DRIVEABLE( l_U3869[l_U4623] ))
                                    {
                                        TASK_PLAY_ANIM_NON_INTERRUPTABLE( sub_4345(), "idle", "MOVE_CROUCH_RIFLE", 4.00000000, 0, 1, 1, 0, 1 );
                                        ATTACH_PED_TO_CAR( sub_4345(), l_U3869[l_U4623], 0, 0, l_U4857, 3.60000000, 0, 360, 1, 0 );
                                        l_U4031 = 0;
                                        l_U4032 = 1;
                                    }
                                }
                            }
                        }
                        GET_GAME_TIMER( ref l_U4675 );
                    }
                    else if (DOES_BLIP_EXIST( l_U3920 ))
                    {
                        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3920 );
                    }
                    if (l_U4074 == 0)
                    {
                        if (NOT l_U4032)
                        {
                            if (IS_VEH_DRIVEABLE( l_U3869[0] ))
                            {
                                TASK_PLAY_ANIM( sub_4345(), "idle", "MOVE_CROUCH_RIFLE", 4.00000000, 0, 1, 1, 0, 1 );
                                SET_CHAR_DUCKING( sub_4345(), 1 );
                                ATTACH_PED_TO_CAR( sub_4345(), l_U3869[0], 0, 0, l_U4857, 3.60000000, 0, 0, 1, 0 );
                                l_U4031 = 0;
                                l_U4032 = 1;
                            }
                        }
                    }
                    else
                    {
                        GET_GAME_TIMER( ref l_U4629 );
                        if ((l_U4629 - l_U4733) > 4000)
                        {
                            l_U4584._fU0 = 6;
                            l_U4584._fU4 = -12;
                            l_U4584._fU8 = 4.30000000;
                            l_U4608._fU0 = 0;
                            l_U4608._fU4 = -5;
                            l_U4608._fU8 = 0;
                            l_U4868 = 45;
                            l_U3592 = 4;
                            l_U4617 = 99;
                            l_U4654 = 4;
                            break;
                        }
                    }
                }
            }
            else if (l_U4623 == 0)
            {
                if (l_U4074 == 1)
                {
                    GET_GAME_TIMER( ref l_U4629 );
                    if ((l_U4629 - l_U4733) > 4000)
                    {
                        if (NOT (IS_CHAR_INJURED( sub_4345() )))
                        {
                            if (NOT (IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "get_up" )))
                            {
                                TASK_PLAY_ANIM_NON_INTERRUPTABLE( sub_4345(), "get_up", "missyusuf04", 4.00000000, 0, 1, 1, 0, -1 );
                            }
                            else
                            {
                                SET_CHAR_ANIM_SPEED( sub_4345(), "missyusuf04", "get_up", 1.50000000 );
                                GET_CHAR_ANIM_CURRENT_TIME( sub_4345(), "missyusuf04", "get_up", ref l_U4858 );
                                if (l_U4858 > 0.95000000)
                                {
                                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( sub_4345(), "idle", "MOVE_CROUCH_RIFLE", 1.00000000, 0, 1, 1, 0, 1 );
                                    SET_CHAR_DUCKING( sub_4345(), 1 );
                                    l_U4104 = 0;
                                    l_U4036 = 0;
                                }
                            }
                        }
                    }
                }
            }
        }
        break;
        case 1:
        if (IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "jump" ))
        {
            GET_CHAR_ANIM_CURRENT_TIME( sub_4345(), "missyusuf04", "jump", ref l_U4858 );
            GET_FRAME_TIME( ref l_U4894 );
            if ((l_U4858 < 0.99000000) AND (l_U4858 > 0.25000000))
            {
                l_U4857 += (0.15000000 * l_U4894) * 30.00000000;
            }
        }
        if (IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "jump_r" ))
        {
            GET_CHAR_ANIM_CURRENT_TIME( sub_4345(), "missyusuf04", "jump_r", ref l_U4858 );
            GET_FRAME_TIME( ref l_U4894 );
            if ((l_U4858 < 0.99000000) AND (l_U4858 > 0.15000000))
            {
                l_U4857 += (0.15000000 * l_U4894) * 30.00000000;
            }
        }
        if ((NOT (IS_CHAR_INJURED( sub_4345() ))) AND (IS_VEH_DRIVEABLE( l_U3869[l_U4623] )))
        {
            ATTACH_PED_TO_CAR( sub_4345(), l_U3869[l_U4623], 0, 0, l_U4857, 3.60000000, 0, 0, 1, 0 );
        }
        if (l_U4623 > 0)
        {
            if (l_U4191 == 1)
            {
                if ((NOT (IS_CHAR_INJURED( sub_4345() ))) AND (IS_VEH_DRIVEABLE( l_U3869[l_U4623] )))
                {
                    ATTACH_PED_TO_CAR( sub_4345(), l_U3869[l_U4623], 0, 0, l_U4857, 3.60000000, 0, 0, 1, 0 );
                }
                GET_POSITION_OF_ANALOGUE_STICKS( 0, ref l_U4619, ref l_U4620, ref l_U4621, ref l_U4622 );
                if (NOT IS_USING_CONTROLLER())
                {
                    GET_KEYBOARD_MOVE_INPUT( ref l_U4619, ref l_U4620 );
                }
                if ((NOT (sub_70248( 0, 7 ))) AND ((NOT (sub_70248( 0, 5 ))) AND (l_U4620 < 65496)))
                {
                    l_U4031 = 1;
                    l_U4032 = 0;
                }
                else
                {
                    l_U4031 = 0;
                    l_U4032 = 0;
                }
                l_U4191 = 0;
                l_U4215 = 0;
                l_U4654 = 0;
                break;
            }
            if ((HAS_CHAR_ANIM_FINISHED( sub_4345(), "missyusuf04", "jump_r" )) || (HAS_CHAR_ANIM_FINISHED( sub_4345(), "missyusuf04", "jump" )))
            {
                l_U4191 = 1;
            }
        }
        else if (l_U4191 == 1)
        {
            if (NOT l_U4032)
            {
                if (IS_VEH_DRIVEABLE( l_U3869[0] ))
                {
                    TASK_PLAY_ANIM( sub_4345(), "idle", "MOVE_CROUCH", 4.00000000, 0, 0, 0, 0, 1 );
                    SET_CHAR_DUCKING( sub_4345(), 1 );
                    ATTACH_PED_TO_CAR( sub_4345(), l_U3869[0], 0, 0, l_U4857, 3.60000000, 0, 360, 1, 0 );
                    SET_CHAR_USES_UPPERBODY_DAMAGE_ANIMS_ONLY( sub_4345(), 1 );
                    BLEND_OUT_CHAR_MOVE_ANIMS( sub_4345() );
                    l_U4215 = 0;
                    l_U4031 = 0;
                    l_U4032 = 1;
                    l_U4654 = 0;
                    break;
                }
            }
        }
        if ((HAS_CHAR_ANIM_FINISHED( sub_4345(), "missyusuf04", "jump_r" )) || (HAS_CHAR_ANIM_FINISHED( sub_4345(), "missyusuf04", "jump" )))
        {
            l_U4191 = 1;
        }
        if ((NOT (IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "jump_r" ))) AND (NOT (IS_CHAR_PLAYING_ANIM( sub_4345(), "missyusuf04", "jump" ))))
        {
            l_U4857 = -7.40000000;
            l_U4031 = 0;
            l_U4032 = 0;
            l_U4191 = 0;
            l_U4215 = 0;
            l_U4654 = 0;
        }
        break;
    }
    return;
}

int sub_70248(unknown uParam0, int iParam1)
{
    int iVar4;

    if (IS_USING_CONTROLLER())
    {
        PRINTSTRING( "Using controller." );
        return IS_BUTTON_PRESSED( uParam0, iParam1 );
    }
    else
    {
        iVar4 = 185;
        if (iParam1 == 15)
        {
            iVar4 = l_U3585;
        }
        else if (iParam1 == 16)
        {
            iVar4 = l_U3584;
        }
        else if (iParam1 == 14)
        {
            iVar4 = l_U3582;
        }
        else if (iParam1 == 17)
        {
            iVar4 = l_U3583;
        }
        else if (iParam1 == 4)
        {
            iVar4 = l_U3586;
        }
        else if (iParam1 == 5)
        {
            iVar4 = l_U3587;
        }
        else if (iParam1 == 6)
        {
            iVar4 = l_U3588;
        }
        else if (iParam1 == 7)
        {
            iVar4 = l_U3589;
        }
        else if (iParam1 == 18)
        {
            iVar4 = l_U3590;
        }
        else if (iParam1 == 19)
        {
            iVar4 = l_U3591;
        };;;;;;;;;;
        if (iVar4 == 185)
        {
            PRINTSTRING( "MAX_INPUTS." );
            SCRIPT_ASSERT( "Unexpected value (F_IS_INPUT_PRESSED)." );
            return 0;
        }
        else
        {
            PRINTSTRING( "F_IS_INPUT_PRESSED processing INT version of:" );
            PRINTINT( iVar4 );
            return IS_CONTROL_PRESSED( 2, iVar4 );
        }
    }
    PRINTSTRING( "F_IS_INPUT_PRESSED --> Default case, returning false." );
    return 0;
}

void sub_71321()
{
    if (l_U4187 == 0)
    {
        if (l_U4218 == 0)
        {
            GET_GAME_TIMER( ref l_U4629 );
            if ((l_U4629 - l_U4754) > 20000)
            {
                GET_SCRIPT_CAM( ref l_U3933 );
                if (DOES_CAM_EXIST( l_U3933 ))
                {
                    SET_CAM_ACTIVE( l_U3933, 1 );
                    SET_CAM_PROPAGATE( l_U3933, 0 );
                    l_U4218 = 1;
                }
            }
        }
        else
        {
            SET_CAM_ACTIVE( l_U3933, 0 );
            SET_CAM_PROPAGATE( l_U3933, 0 );
            GET_GAME_TIMER( ref l_U4754 );
            l_U4218 = 0;
        }
    }
    return;
}

void sub_72921(unknown uParam0, unknown uParam1)
{
    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        if ((HAS_CAR_BEEN_DAMAGED_BY_CHAR( uParam0, sub_4345() )) || (HAS_CAR_BEEN_DAMAGED_BY_WEAPON( uParam0, 30 )))
        {
            l_U4743[uParam1]++;
            CLEAR_CAR_LAST_DAMAGE_ENTITY( uParam0 );
            CLEAR_CAR_LAST_WEAPON_DAMAGE( uParam0 );
        }
    }
    return l_U4743[uParam1];
}

void sub_75539(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    float fVar12;
    float fVar13;

    if (IS_VEH_DRIVEABLE( l_U3892[uParam0] ))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3892[uParam0] ))
        {
            if (l_U4623 > 0)
            {
                if (IS_VEH_DRIVEABLE( l_U3869[l_U4623 - 1] ))
                {
                    GET_CAR_COORDINATES( l_U3869[l_U4623 - 1], ref uVar3._fU0, ref uVar3._fU4, ref uVar3._fU8 );
                }
                GET_CAR_COORDINATES( l_U3892[uParam0], ref uVar9._fU0, ref uVar9._fU4, ref uVar9._fU8 );
                GET_DISTANCE_BETWEEN_COORDS_3D( uVar3._fU0, uVar3._fU4, uVar3._fU8, uVar3._fU0, uVar9._fU4, uVar9._fU8, ref fVar12 );
            }
            else if (IS_VEH_DRIVEABLE( l_U3869[l_U4623] ))
            {
                GET_CAR_COORDINATES( l_U3869[l_U4623], ref uVar3._fU0, ref uVar3._fU4, ref uVar3._fU8 );
            }
            GET_CAR_COORDINATES( l_U3892[uParam0], ref uVar9._fU0, ref uVar9._fU4, ref uVar9._fU8 );
            GET_DISTANCE_BETWEEN_COORDS_3D( uVar3._fU0, uVar3._fU4, uVar3._fU8, uVar3._fU0, uVar9._fU4, uVar9._fU8, ref fVar12 );;
            if (l_U4623 < 5)
            {
                if (IS_VEH_DRIVEABLE( l_U3869[l_U4623 + 1] ))
                {
                    GET_CAR_COORDINATES( l_U3869[l_U4623 + 1], ref uVar6._fU0, ref uVar6._fU4, ref uVar6._fU8 );
                }
                GET_CAR_COORDINATES( l_U3892[uParam0], ref uVar9._fU0, ref uVar9._fU4, ref uVar9._fU8 );
                GET_DISTANCE_BETWEEN_COORDS_3D( uVar6._fU0, uVar6._fU4, uVar6._fU8, uVar6._fU0, uVar9._fU4, uVar9._fU8, ref fVar13 );
            }
            else if (IS_VEH_DRIVEABLE( l_U3869[l_U4623] ))
            {
                GET_CAR_COORDINATES( l_U3869[l_U4623], ref uVar6._fU0, ref uVar6._fU4, ref uVar6._fU8 );
            }
            GET_CAR_COORDINATES( l_U3892[uParam0], ref uVar9._fU0, ref uVar9._fU4, ref uVar9._fU8 );
            GET_DISTANCE_BETWEEN_COORDS_3D( uVar6._fU0, uVar6._fU4, uVar6._fU8, uVar6._fU0, uVar9._fU4, uVar9._fU8, ref fVar13 );;
            if (NOT l_U4038[uParam0])
            {
                if (fVar12 > fVar13)
                {
                    SET_PLAYBACK_SPEED( l_U3892[uParam0], 1.20000000 );
                    GET_GAME_TIMER( ref l_U4698[uParam0] );
                    l_U4038[uParam0] = 1;
                }
            }
            else if (fVar12 < fVar13)
            {
                GET_GAME_TIMER( ref l_U4629 );
                if ((l_U4629 - l_U4698[uParam0]) > 4000)
                {
                    SET_PLAYBACK_SPEED( l_U3892[uParam0], 1 );
                    l_U4038[uParam0] = 0;
                }
            }
        }
    }
    else
    {
        STOP_PLAYBACK_RECORDED_CAR( l_U3892[uParam0] );
    }
    return;
}

void sub_77206(unknown uParam0, unknown uParam1)
{
    float fVar4;
    float fVar5;
    float fVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    int iVar19;
    int iVar20;
    int iVar21;

    switch (l_U4632[uParam0])
    {
        case 0:
        if ((NOT (IS_CHAR_INJURED( l_U3776[uParam1] ))) AND (IS_VEH_DRIVEABLE( l_U3892[uParam0] )))
        {
            GET_CAR_COORDINATES( l_U3892[uParam0], ref uVar16._fU0, ref uVar16._fU4, ref uVar16._fU8 );
            GET_CHAR_COORDINATES( sub_4345(), ref l_U4572._fU0, ref l_U4572._fU4, ref l_U4572._fU8 );
            GET_DISTANCE_BETWEEN_COORDS_3D( uVar16._fU0, uVar16._fU4, uVar16._fU8, l_U4572._fU0, l_U4572._fU4, l_U4572._fU8, ref fVar6 );
            GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( l_U3892[uParam0], -2.30000000, 2, 0, ref uVar10._fU0, ref uVar10._fU4, ref uVar10._fU8 );
            GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( l_U3892[uParam0], 2.30000000, 2, 0, ref uVar13._fU0, ref uVar13._fU4, ref uVar13._fU8 );
            GET_CAR_PITCH( l_U3892[uParam0], ref uVar7 );
            GET_CAR_ROLL( l_U3892[uParam0], ref uVar8 );
            GET_CAR_HEADING( l_U3892[uParam0], ref uVar9 );
            if (fVar6 < 60)
            {
                GENERATE_RANDOM_FLOAT( ref fVar4 );
                if (fVar4 <= 0.05000000)
                {
                    iVar21 = 0;
                    iVar19 = 0;
                    iVar20 = 0;
                }
                else
                {
                    GENERATE_RANDOM_FLOAT( ref fVar5 );
                    if (fVar5 <= 0.05000000)
                    {
                        iVar21 = 2;
                    }
                    else if ((fVar4 <= 0.20000000) AND (fVar4 > 0.05000000))
                    {
                        iVar21 = -2;
                    }
                    else if ((fVar4 <= 0.40000000) AND (fVar4 > 0.20000000))
                    {
                        iVar19 = -2;
                        iVar20 = 2;
                    }
                    else if ((fVar4 <= 0.60000000) AND (fVar4 > 0.40000000))
                    {
                        iVar19 = 2;
                        iVar20 = -2;
                    }
                    else if ((fVar4 <= 0.80000000) AND (fVar4 > 0.60000000))
                    {
                        iVar19 = -2;
                        iVar20 = -2;
                    }
                    else if ((fVar4 <= 1.00000000) AND (fVar4 > 0.80000000))
                    {
                        iVar19 = 2;
                        iVar20 = 2;
                    };;;;;;
                }
                TRIGGER_PTFX( "muz_minigun", uVar10, uVar7, uVar8, uVar9, 1 );
                TRIGGER_PTFX( "muz_minigun", uVar13, uVar7, uVar8, uVar9, 1 );
                if (fVar6 < 60)
                {
                    if (l_U4194[uParam0] == 0)
                    {
                        l_U4658[uParam0] = GET_SOUND_ID();
                        PLAY_SOUND_FROM_POSITION( l_U4658[uParam0], "Y4_MONEY_TRAIN_HELI_MINIGUN", uVar16._fU0, uVar16._fU4, uVar16._fU8 );
                        l_U4194[uParam0] = 1;
                    }
                }
                else if (l_U4194[uParam0] == 1)
                {
                    STOP_SOUND( l_U4658[uParam0] );
                    RELEASE_SOUND_ID( l_U4658[uParam0] );
                    l_U4194[uParam0] = 0;
                }
                FIRE_SINGLE_BULLET( uVar10._fU0, uVar10._fU4, uVar10._fU8, l_U4572._fU0 + iVar19, l_U4572._fU4 + iVar20, l_U4572._fU8 + iVar21, 4 );
                FIRE_SINGLE_BULLET( uVar13._fU0, uVar13._fU4, uVar13._fU8, l_U4572._fU0 + iVar19, l_U4572._fU4 + iVar20, l_U4572._fU8 + iVar21, 4 );
                SETTIMERA( 0 );
                if ((NOT l_U4117[0]) AND (NOT l_U4117[1]))
                {
                    if (DOES_VEHICLE_EXIST( l_U3869[1] ))
                    {
                        if (IS_VEH_DRIVEABLE( l_U3869[1] ))
                        {
                            GET_CAR_COORDINATES( l_U3869[1], ref l_U4289._fU0, ref l_U4289._fU4, ref l_U4289._fU8 );
                            if (LOCATE_CAR_3D( l_U3869[1], 1273.70000000, -223.10000000, 36.70000000, 25, 25, 10, 0 ))
                            {
                                ADD_EXPLOSION( l_U4289._fU0, l_U4289._fU4, l_U4289._fU8, 6, 0.20000000, 1, 0, 1 );
                                START_PTFX_ON_VEH( "train_smoke_L", l_U3869[1], -1.80000000, 6.50000000, 0, 0, 1.55000000, 0, 1 );
                                l_U4117[1] = 1;
                            }
                        }
                    }
                }
                l_U4632[uParam0]++;
            }
            else if (l_U4194[uParam0] == 1)
            {
                STOP_SOUND( l_U4658[uParam0] );
                RELEASE_SOUND_ID( l_U4658[uParam0] );
                l_U4194[uParam0] = 0;
            }
        }
        else if (l_U4194[uParam0] == 1)
        {
            STOP_SOUND( l_U4658[uParam0] );
            RELEASE_SOUND_ID( l_U4658[uParam0] );
            l_U4194[uParam0] = 0;
        }
        break;
        case 1:
        if (TIMERA() > 30)
        {
            l_U4632[uParam0] = 0;
        }
        break;
    }
    return;
}

void sub_81852(unknown uParam0, int iParam1, unknown uParam2)
{
    float fVar5;
    float fVar6;
    float fVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;

    if (DOES_VEHICLE_EXIST( l_U3904[3] ))
    {
        if (IS_VEH_DRIVEABLE( l_U3904[3] ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[3] ))
            {
                SET_CAR_HEALTH( l_U3904[3], 1000 );
                if (l_U4623 > 1)
                {
                    if (IS_VEH_DRIVEABLE( l_U3869[l_U4623 - 2] ))
                    {
                        GET_CAR_COORDINATES( l_U3869[l_U4623 - 2], ref uVar8._fU0, ref uVar8._fU4, ref uVar8._fU8 );
                    }
                    GET_CAR_COORDINATES( l_U3904[3], ref uVar14._fU0, ref uVar14._fU4, ref uVar14._fU8 );
                    SET_CAR_COORDINATES( l_U3904[3], uVar14._fU0, uVar14._fU4, 200 );
                    GET_DISTANCE_BETWEEN_COORDS_3D( uVar8._fU0, uVar8._fU4, uVar8._fU8, uVar8._fU0, uVar14._fU4, uVar14._fU8, ref fVar5 );
                }
                else if (l_U4623 == 1)
                {
                    if (IS_VEH_DRIVEABLE( l_U3869[l_U4623 - 1] ))
                    {
                        GET_CAR_COORDINATES( l_U3869[l_U4623 - 1], ref uVar8._fU0, ref uVar8._fU4, ref uVar8._fU8 );
                    }
                    GET_CAR_COORDINATES( l_U3904[3], ref uVar14._fU0, ref uVar14._fU4, ref uVar14._fU8 );
                    SET_CAR_COORDINATES( l_U3904[3], uVar14._fU0, uVar14._fU4, 200 );
                    GET_DISTANCE_BETWEEN_COORDS_3D( uVar8._fU0, uVar8._fU4, uVar8._fU8, uVar8._fU0, uVar14._fU4, uVar14._fU8, ref fVar5 );
                }
                else if (IS_VEH_DRIVEABLE( l_U3869[l_U4623] ))
                {
                    GET_CAR_COORDINATES( l_U3869[l_U4623], ref uVar8._fU0, ref uVar8._fU4, ref uVar8._fU8 );
                }
                GET_CAR_COORDINATES( l_U3904[3], ref uVar14._fU0, ref uVar14._fU4, ref uVar14._fU8 );
                SET_CAR_COORDINATES( l_U3904[3], uVar14._fU0, uVar14._fU4, 200 );
                GET_DISTANCE_BETWEEN_COORDS_3D( uVar8._fU0, uVar8._fU4, uVar8._fU8, uVar8._fU0, uVar14._fU4, uVar14._fU8, ref fVar5 );;;
                if (l_U4623 < 5)
                {
                    if (IS_VEH_DRIVEABLE( l_U3869[l_U4623 + 1] ))
                    {
                        GET_CAR_COORDINATES( l_U3869[l_U4623 + 1], ref uVar11._fU0, ref uVar11._fU4, ref uVar11._fU8 );
                    }
                    GET_CAR_COORDINATES( l_U3904[3], ref uVar14._fU0, ref uVar14._fU4, ref uVar14._fU8 );
                    SET_CAR_COORDINATES( l_U3904[3], uVar14._fU0, uVar14._fU4, 200 );
                    GET_DISTANCE_BETWEEN_COORDS_3D( uVar11._fU0, uVar11._fU4, uVar11._fU8, uVar11._fU0, uVar14._fU4, uVar14._fU8, ref fVar6 );
                }
                else if (IS_VEH_DRIVEABLE( l_U3869[l_U4623] ))
                {
                    GET_CAR_COORDINATES( l_U3869[l_U4623], ref uVar11._fU0, ref uVar11._fU4, ref uVar11._fU8 );
                }
                GET_CAR_COORDINATES( l_U3904[3], ref uVar14._fU0, ref uVar14._fU4, ref uVar14._fU8 );
                SET_CAR_COORDINATES( l_U3904[3], uVar14._fU0, uVar14._fU4, 200 );
                GET_DISTANCE_BETWEEN_COORDS_3D( uVar11._fU0, uVar11._fU4, uVar11._fU8, uVar11._fU0, uVar14._fU4, uVar14._fU8, ref fVar6 );;
                if (NOT l_U4038[3])
                {
                    if (fVar5 > fVar6)
                    {
                        SET_PLAYBACK_SPEED( l_U3904[3], 1.20000000 );
                        GET_GAME_TIMER( ref l_U4698[3] );
                        l_U4038[3] = 1;
                    }
                }
                else if (fVar5 < fVar6)
                {
                    GET_GAME_TIMER( ref l_U4629 );
                    if ((l_U4629 - l_U4698[3]) > 7000)
                    {
                        SET_PLAYBACK_SPEED( l_U3904[3], 0.80000000 );
                        l_U4038[3] = 0;
                    }
                }
            }
        }
    }
    if (NOT l_U4075)
    {
        if (DOES_VEHICLE_EXIST( l_U3904[iParam1] ))
        {
            if (IS_VEH_DRIVEABLE( l_U3904[iParam1] ))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[iParam1] ))
                {
                    GET_CAR_COORDINATES( l_U3904[iParam1], ref l_U4578._fU0, ref l_U4578._fU4, ref l_U4578._fU8 );
                    GET_GAME_VIEWPORT_ID( ref l_U4030 );
                    if (NOT (CAM_IS_SPHERE_VISIBLE( l_U4030, l_U4578._fU0, l_U4578._fU4, l_U4578._fU8, 5.00000000 )))
                    {
                        if (IS_VEH_DRIVEABLE( l_U3904[iParam1] ))
                        {
                            SET_CAR_VISIBLE( l_U3904[iParam1], 1 );
                        }
                        if (NOT (IS_CHAR_INJURED( l_U3776[iParam1] )))
                        {
                            SET_CHAR_VISIBLE( l_U3776[iParam1], 1 );
                        }
                        if (NOT (IS_CHAR_INJURED( l_U3776[iParam1 + 1] )))
                        {
                            SET_CHAR_VISIBLE( l_U3776[iParam1 + 1], 1 );
                        }
                        if (NOT (IS_CHAR_INJURED( l_U3776[iParam1 + 2] )))
                        {
                            SET_CHAR_VISIBLE( l_U3776[iParam1 + 2], 1 );
                        }
                        if (NOT (IS_CHAR_INJURED( l_U3776[iParam1 + 3] )))
                        {
                            SET_CHAR_VISIBLE( l_U3776[iParam1 + 3], 1 );
                        }
                        l_U4075 = 1;
                    }
                }
            }
        }
    }
    switch (l_U4710[iParam1])
    {
        case 0:
        if (DOES_VEHICLE_EXIST( l_U3904[3] ))
        {
            if (IS_VEH_DRIVEABLE( l_U3904[3] ))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[3] ))
                {
                    l_U4867 = FIND_POSITION_IN_RECORDING( l_U3904[3] );
                    l_U4869[iParam1] = l_U4867 - 100;
                    if (l_U4869[iParam1] < 0)
                    {
                        l_U4869[iParam1] = 0;
                    }
                }
                if (NOT (IS_CHAR_INJURED( sub_4345() )))
                {
                    GET_CHAR_COORDINATES( sub_4345(), ref l_U4566._fU0, ref l_U4566._fU4, ref l_U4566._fU8 );
                }
                if (DOES_VEHICLE_EXIST( l_U3904[iParam1] ))
                {
                    if (NOT (IS_VEH_DRIVEABLE( l_U3904[iParam1] )))
                    {
                        if (NOT (IS_CHAR_INJURED( l_U3776[iParam1] )))
                        {
                            DAMAGE_CHAR( l_U3776[iParam1], 201, 1 );
                        }
                        if (DOES_CHAR_EXIST( l_U3776[iParam1] ))
                        {
                            MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3776[iParam1] );
                        }
                        if (DOES_CHAR_EXIST( l_U3776[iParam1 + 1] ))
                        {
                            MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3776[iParam1 + 1] );
                        }
                        if (DOES_CHAR_EXIST( l_U3776[iParam1 + 2] ))
                        {
                            MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3776[iParam1 + 2] );
                        }
                        if (DOES_CHAR_EXIST( l_U3776[iParam1 + 3] ))
                        {
                            MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3776[iParam1 + 3] );
                        }
                        if (DOES_VEHICLE_EXIST( l_U3904[iParam1] ))
                        {
                            MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U3904[iParam1] );
                        }
                    }
                }
                else
                {
                    CREATE_CAR( uParam0, l_U4566._fU0, l_U4566._fU4, 65486, ref l_U3904[iParam1], 1 );
                    SET_CAR_HEALTH( l_U3904[iParam1], 1250 );
                    CREATE_CHAR_INSIDE_CAR( l_U3904[iParam1], 26, -183203150, ref l_U3776[iParam1] );
                    SET_CHAR_AS_ENEMY( l_U3776[iParam1], 1 );
                    SET_CHAR_IS_TARGET_PRIORITY( l_U3776[iParam1], 1 );
                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[iParam1], 1 );
                    SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[iParam1], 0 );
                    SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[iParam1], 0 );
                    CREATE_CHAR_AS_PASSENGER( l_U3904[iParam1], 26, -183203150, -1, ref l_U3776[iParam1 + 1] );
                    SET_CHAR_AS_ENEMY( l_U3776[iParam1 + 1], 1 );
                    SET_CHAR_IS_TARGET_PRIORITY( l_U3776[iParam1 + 1], 1 );
                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[iParam1 + 1], 1 );
                    SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[iParam1 + 1], 0 );
                    SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[iParam1 + 1], 0 );
                    TASK_DRIVE_BY( l_U3776[iParam1 + 1], sub_4345(), 0, -1, -1, -1, 70, 1, 1, 20 );
                    SET_CHAR_ACCURACY( l_U3776[iParam1 + 1], 1 );
                    CREATE_CHAR_AS_PASSENGER( l_U3904[iParam1], 26, -183203150, -1, ref l_U3776[iParam1 + 2] );
                    SET_CHAR_AS_ENEMY( l_U3776[iParam1 + 2], 1 );
                    SET_CHAR_IS_TARGET_PRIORITY( l_U3776[iParam1 + 2], 1 );
                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[iParam1 + 2], 1 );
                    SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[iParam1 + 2], 0 );
                    SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[iParam1 + 2], 0 );
                    TASK_DRIVE_BY( l_U3776[iParam1 + 2], sub_4345(), 0, -1, -1, -1, 70, 0, 1, 20 );
                    SET_CHAR_ACCURACY( l_U3776[iParam1 + 2], 1 );
                    CREATE_CHAR_AS_PASSENGER( l_U3904[iParam1], 26, -183203150, -1, ref l_U3776[iParam1 + 3] );
                    SET_CHAR_AS_ENEMY( l_U3776[iParam1 + 3], 1 );
                    SET_CHAR_IS_TARGET_PRIORITY( l_U3776[iParam1 + 3], 1 );
                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3776[iParam1 + 3], 1 );
                    SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3776[iParam1 + 3], 0 );
                    SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3776[iParam1 + 3], 0 );
                    TASK_DRIVE_BY( l_U3776[iParam1 + 3], sub_4345(), 0, -1, -1, -1, 70, 1, 1, 20 );
                    SET_CHAR_ACCURACY( l_U3776[iParam1 + 3], 1 );
                    SET_CAR_VISIBLE( l_U3904[iParam1], 0 );
                    SET_CHAR_VISIBLE( l_U3776[iParam1], 0 );
                    SET_CHAR_VISIBLE( l_U3776[iParam1 + 1], 0 );
                    SET_CHAR_VISIBLE( l_U3776[iParam1 + 2], 0 );
                    SET_CHAR_VISIBLE( l_U3776[iParam1 + 3], 0 );
                    SET_CAR_COLLISION( l_U3904[iParam1], 0 );
                    SET_CAR_PROOFS( l_U3904[iParam1], 1, 1, 1, 1, 1 );
                    l_U4075 = 0;
                    l_U4224[iParam1] = 0;
                    l_U4241[13] = 0;
                    l_U4710[iParam1]++;
                }
            }
        }
        break;
        case 1:
        if (DOES_VEHICLE_EXIST( l_U3904[3] ))
        {
            if (IS_VEH_DRIVEABLE( l_U3904[3] ))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[3] ))
                {
                    l_U4867 = FIND_POSITION_IN_RECORDING( l_U3904[3] );
                    l_U4869[iParam1] = l_U4867 - 100;
                    if (l_U4869[iParam1] < 0)
                    {
                        l_U4869[iParam1] = 0;
                    }
                }
                if (IS_VEH_DRIVEABLE( l_U3904[iParam1] ))
                {
                    if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[iParam1] )))
                    {
                        if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( uParam2 )))
                        {
                            REQUEST_CAR_RECORDING( uParam2 );
                        }
                        else
                        {
                            START_PLAYBACK_RECORDED_CAR( l_U3904[iParam1], uParam2 );
                            SKIP_IN_PLAYBACK_RECORDED_CAR( l_U3904[iParam1], l_U4869[iParam1] );
                            if (l_U4200 == 1)
                            {
                                SET_PLAYBACK_SPEED( l_U3904[iParam1], 2.50000000 );
                                l_U4710[iParam1]++;
                            }
                            else
                            {
                                SET_PLAYBACK_SPEED( l_U3904[iParam1], 1.80000000 );
                                l_U4710[iParam1]++;
                            }
                        }
                    }
                }
                else
                {
                    l_U4710[iParam1] = 0;
                }
            }
        }
        break;
        case 2:
        if (NOT (IS_CHAR_INJURED( sub_4345() )))
        {
            GET_CHAR_COORDINATES( sub_4345(), ref l_U4566._fU0, ref l_U4566._fU4, ref l_U4566._fU8 );
        }
        if (IS_VEH_DRIVEABLE( l_U3904[iParam1] ))
        {
            GET_CAR_COORDINATES( l_U3904[iParam1], ref l_U4578._fU0, ref l_U4578._fU4, ref l_U4578._fU8 );
        }
        else
        {
            l_U4710[iParam1] = 0;
        }
        GET_DISTANCE_BETWEEN_COORDS_3D( l_U4566._fU0, l_U4566._fU4, l_U4566._fU8, l_U4578._fU0, l_U4578._fU4, l_U4578._fU8, ref fVar7 );
        if (fVar7 < 30)
        {
            SET_PLAYBACK_SPEED( l_U3904[iParam1], 1.50000000 );
            SET_CAR_PROOFS( l_U3904[iParam1], 0, 0, 0, 0, 0 );
            SET_CAR_COLLISION( l_U3904[iParam1], 1 );
            l_U4710[iParam1]++;
        }
        break;
        case 3:
        if (NOT (IS_CHAR_INJURED( sub_4345() )))
        {
            GET_CHAR_COORDINATES( sub_4345(), ref l_U4566._fU0, ref l_U4566._fU4, ref l_U4566._fU8 );
        }
        if (IS_VEH_DRIVEABLE( l_U3904[iParam1] ))
        {
            GET_CAR_COORDINATES( l_U3904[iParam1], ref l_U4578._fU0, ref l_U4578._fU4, ref l_U4578._fU8 );
        }
        GET_DISTANCE_BETWEEN_COORDS_3D( l_U4566._fU0, l_U4566._fU4, l_U4566._fU8, l_U4578._fU0, l_U4578._fU4, l_U4578._fU8, ref fVar7 );
        if (fVar7 > 200)
        {
            if (DOES_CHAR_EXIST( l_U3776[iParam1] ))
            {
                MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3776[iParam1] );
            }
            if (DOES_CHAR_EXIST( l_U3776[iParam1 + 1] ))
            {
                MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3776[iParam1 + 1] );
            }
            if (DOES_CHAR_EXIST( l_U3776[iParam1 + 2] ))
            {
                MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3776[iParam1 + 2] );
            }
            if (DOES_CHAR_EXIST( l_U3776[iParam1 + 3] ))
            {
                MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3776[iParam1 + 3] );
            }
            if (DOES_VEHICLE_EXIST( l_U3904[iParam1] ))
            {
                MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U3904[iParam1] );
            }
            l_U4710[iParam1] = 0;
        }
        if (IS_VEH_DRIVEABLE( l_U3904[iParam1] ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3904[iParam1] ))
            {
                if (l_U4623 > 1)
                {
                    l_U4624 = l_U4623 - 2;
                    if (l_U4624 < 0)
                    {
                        l_U4624 = 0;
                    }
                    if (IS_VEH_DRIVEABLE( l_U3869[l_U4624] ))
                    {
                        GET_CAR_COORDINATES( l_U3869[l_U4624], ref uVar8._fU0, ref uVar8._fU4, ref uVar8._fU8 );
                    }
                    GET_CAR_COORDINATES( l_U3904[iParam1], ref uVar14._fU0, ref uVar14._fU4, ref uVar14._fU8 );
                    GET_DISTANCE_BETWEEN_COORDS_3D( uVar8._fU0, uVar8._fU4, uVar8._fU8, uVar8._fU0, uVar14._fU4, uVar14._fU8, ref fVar5 );
                }
                else if (l_U4623 == 1)
                {
                    l_U4624 = l_U4623 - 1;
                    if (l_U4624 < 0)
                    {
                        l_U4624 = 0;
                    }
                    if (IS_VEH_DRIVEABLE( l_U3869[l_U4624] ))
                    {
                        GET_CAR_COORDINATES( l_U3869[l_U4624], ref uVar8._fU0, ref uVar8._fU4, ref uVar8._fU8 );
                    }
                    GET_CAR_COORDINATES( l_U3904[iParam1], ref uVar14._fU0, ref uVar14._fU4, ref uVar14._fU8 );
                    GET_DISTANCE_BETWEEN_COORDS_3D( uVar8._fU0, uVar8._fU4, uVar8._fU8, uVar8._fU0, uVar14._fU4, uVar14._fU8, ref fVar5 );
                }
                else if (IS_VEH_DRIVEABLE( l_U3869[l_U4623] ))
                {
                    GET_CAR_COORDINATES( l_U3869[l_U4623], ref uVar8._fU0, ref uVar8._fU4, ref uVar8._fU8 );
                }
                GET_CAR_COORDINATES( l_U3904[iParam1], ref uVar14._fU0, ref uVar14._fU4, ref uVar14._fU8 );
                GET_DISTANCE_BETWEEN_COORDS_3D( uVar8._fU0, uVar8._fU4, uVar8._fU8, uVar8._fU0, uVar14._fU4, uVar14._fU8, ref fVar5 );;;
                if (l_U4623 < 5)
                {
                    l_U4625 = l_U4623 + 1;
                    if (l_U4625 > 5)
                    {
                        l_U4625 = 5;
                    }
                    if (IS_VEH_DRIVEABLE( l_U3869[l_U4625] ))
                    {
                        GET_CAR_COORDINATES( l_U3869[l_U4625], ref uVar11._fU0, ref uVar11._fU4, ref uVar11._fU8 );
                    }
                    GET_CAR_COORDINATES( l_U3904[iParam1], ref uVar14._fU0, ref uVar14._fU4, ref uVar14._fU8 );
                    GET_DISTANCE_BETWEEN_COORDS_3D( uVar11._fU0, uVar11._fU4, uVar11._fU8, uVar11._fU0, uVar14._fU4, uVar14._fU8, ref fVar6 );
                }
                else if (IS_VEH_DRIVEABLE( l_U3869[l_U4623] ))
                {
                    GET_CAR_COORDINATES( l_U3869[l_U4623], ref uVar11._fU0, ref uVar11._fU4, ref uVar11._fU8 );
                }
                GET_CAR_COORDINATES( l_U3904[iParam1], ref uVar14._fU0, ref uVar14._fU4, ref uVar14._fU8 );
                GET_DISTANCE_BETWEEN_COORDS_3D( uVar11._fU0, uVar11._fU4, uVar11._fU8, uVar11._fU0, uVar14._fU4, uVar14._fU8, ref fVar6 );;
                if (NOT l_U4038[iParam1])
                {
                    if ((fVar5 + 20) > fVar6)
                    {
                        SET_PLAYBACK_SPEED( l_U3904[iParam1], 1.20000000 );
                        GET_GAME_TIMER( ref l_U4698[iParam1] );
                        l_U4038[iParam1] = 1;
                    }
                }
                else if ((fVar5 + 20) < fVar6)
                {
                    GET_GAME_TIMER( ref l_U4629 );
                    if ((l_U4629 - l_U4698[iParam1]) > 7000)
                    {
                        SET_PLAYBACK_SPEED( l_U3904[iParam1], 0.75000000 );
                        l_U4038[iParam1] = 0;
                    }
                }
            }
        }
        else
        {
            PLAY_SOUND_FROM_VEHICLE( -1, "Y4_MONEY_TRAIN_MAVERICK_DEATH", l_U3904[0] );
            l_U4710[iParam1] = 0;
        }
        break;
    }
    return;
}

void sub_91592()
{
    if (l_U4756 > 7)
    {
        g_U43572 = 1;
    }
    else
    {
        g_U43572 = 0;
    }
    for ( l_U4618 = 0; l_U4618 <= 6; l_U4618++ )
    {
        if (l_U4224[l_U4618] == 0)
        {
            if (DOES_VEHICLE_EXIST( l_U3904[l_U4618] ))
            {
                if (NOT (IS_VEH_DRIVEABLE( l_U3904[l_U4618] )))
                {
                    if (l_U4265[l_U4618] == 0)
                    {
                        l_U4756++;
                        l_U4224[l_U4618] = 1;
                    }
                }
            }
        }
    }
    for ( l_U4618 = 0; l_U4618 <= 4; l_U4618++ )
    {
        if (l_U4232[l_U4618] == 0)
        {
            if (DOES_VEHICLE_EXIST( l_U3892[l_U4618] ))
            {
                if (NOT (IS_VEH_DRIVEABLE( l_U3892[l_U4618] )))
                {
                    if (l_U4273[l_U4618] == 0)
                    {
                        l_U4756++;
                        l_U4232[l_U4618] = 1;
                    }
                }
            }
        }
    }
    return;
}

void sub_91948()
{
    if (sub_91957() >= g_U43138[g_U43137]._fU16)
    {
        g_U43566 = 1;
    }
    else
    {
        g_U43566 = 0;
    }
    if (g_U43603 == 1)
    {
        g_U43614 = sub_92101();
        g_U43603 = 0;
    }
    if (g_U43133 == 1)
    {
        if (g_U43624 == 0)
        {
            if (sub_91957() > g_U43614)
            {
                g_U43578 = 1;
            }
            else
            {
                g_U43578 = 0;
            }
        }
        else
        {
            g_U43578 = 0;
        }
    }
    else
    {
        g_U43578 = 0;
    }
    if (g_U43137 != 15)
    {
        if (sub_92722() >= g_U43138[g_U43137]._fU20)
        {
            g_U43567 = 1;
        }
        else
        {
            g_U43567 = 0;
        }
        if (g_U43604 == 1)
        {
            g_U43616 = sub_94263();
            g_U43604 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if (sub_92722() > g_U43616)
                {
                    g_U43579 = 1;
                }
                else
                {
                    g_U43579 = 0;
                }
            }
            else
            {
                g_U43579 = 0;
            }
        }
        else
        {
            g_U43579 = 0;
        }
    }
    if (g_U43137 == 15)
    {
        if (((g_U43523[9] + g_U43523[10]) / 2) >= g_U43138[g_U43137]._fU20)
        {
            g_U43567 = 1;
        }
        else
        {
            g_U43567 = 0;
        }
        if (g_U43604 == 1)
        {
            g_U43616 = sub_94263();
            g_U43604 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if (((g_U43523[9] + g_U43523[10]) / 2) > g_U43616)
                {
                    g_U43579 = 1;
                }
                else
                {
                    g_U43579 = 0;
                }
            }
            else
            {
                g_U43579 = 0;
            }
        }
        else
        {
            g_U43579 = 0;
        }
    }
    return;
}

void sub_91957()
{
    g_U43514 = GET_INT_STAT( 289 );
    g_U43515 = g_U43514 - g_U43513;
    if (g_U43515 < 0)
    {
        g_U43515 = 0;
    }
    return g_U43515;
}

int sub_92101()
{
    if (g_U43137 == 0)
    {
        ;
    }
    if (g_U43137 == 1)
    {
        ;
    }
    if (g_U43137 == 2)
    {
        return GET_INT_STAT( 485 );
    }
    if (g_U43137 == 3)
    {
        ;
    }
    if (g_U43137 == 21)
    {
        ;
    }
    if (g_U43137 == 15)
    {
        ;
    }
    if (g_U43137 == 16)
    {
        return GET_INT_STAT( 551 );
    }
    if (g_U43137 == 17)
    {
        ;
    }
    if (g_U43137 == 12)
    {
        return GET_INT_STAT( 527 );
    }
    if (g_U43137 == 13)
    {
        ;
    }
    if (g_U43137 == 19)
    {
        return GET_INT_STAT( 569 );
    }
    if (g_U43137 == 20)
    {
        return GET_INT_STAT( 574 );
    }
    if (g_U43137 == 5)
    {
        ;
    }
    if (g_U43137 == 4)
    {
        ;
    }
    if (g_U43137 == 6)
    {
        ;
    }
    if (g_U43137 == 7)
    {
        ;
    }
    if (g_U43137 == 8)
    {
        ;
    }
    if (g_U43137 == 9)
    {
        ;
    }
    if (g_U43137 == 14)
    {
        ;
    }
    if (g_U43137 == 22)
    {
        return GET_INT_STAT( 584 );
    }
    if (g_U43137 == 23)
    {
        ;
    }
    if (g_U43137 == 24)
    {
        return GET_INT_STAT( 600 );
    }
    if (g_U43137 == 18)
    {
        ;
    }
    if (g_U43137 == 10)
    {
        ;
    }
    if (g_U43137 == 25)
    {
        return GET_INT_STAT( 606 );
    }
    if (g_U43137 == 11)
    {
        return GET_INT_STAT( 521 );
    }
    return 0;
}

void sub_92722()
{
    unknown uVar2;
    unknown uVar3;
    float fVar4;
    int iVar5;
    int I;

    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 29, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 29, 1 ) );
    g_U43523[1] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 30, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 30, 1 ) );
    g_U43523[2] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 31, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 31, 1 ) );
    g_U43523[3] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 32, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 32, 1 ) );
    g_U43523[4] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 33, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 33, 1 ) );
    g_U43523[5] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 34, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 34, 1 ) );
    g_U43523[6] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 35, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 35, 1 ) );
    g_U43523[7] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 37, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 37, 1 ) );
    g_U43523[9] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 39, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 39, 1 ) );
    g_U43523[10] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 40, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 40, 1 ) );
    g_U43523[11] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 14, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 14, 1 ) );
    g_U43523[12] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 7, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 7, 1 ) );
    g_U43523[13] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 9, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 9, 1 ) );
    g_U43523[14] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 12, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 12, 1 ) );
    g_U43523[15] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 13, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 13, 1 ) );
    g_U43523[16] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 15, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 15, 1 ) );
    g_U43523[17] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 10, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 10, 1 ) );
    g_U43523[18] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 11, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 11, 1 ) );
    g_U43523[19] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 18, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 18, 1 ) );
    g_U43523[22] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 16, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 16, 1 ) );
    g_U43523[23] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 17, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 17, 1 ) );
    g_U43523[24] = (uVar3 / uVar2) * 100;
    fVar4 = 0.00000000;
    iVar5 = 0;
    for ( I = 0; I <= 24; I++ )
    {
        if (g_U43523[I] > 0)
        {
            if (g_U43523[I] != g_U43523[0])
            {
                if (g_U43523[I] != g_U43523[8])
                {
                    if (g_U43523[I] != g_U43523[20])
                    {
                        if (g_U43523[I] != g_U43523[21])
                        {
                            fVar4 += g_U43523[I];
                            iVar5++;
                        }
                    }
                }
            }
        }
    }
    fVar4 /= iVar5;
    g_U43516 = FLOOR( fVar4 );
    if (g_U43516 > 100)
    {
        g_U43516 = 100;
    }
    if (g_U43516 < 0)
    {
        g_U43516 = 0;
    }
    return g_U43516;
}

int sub_94263()
{
    if (g_U43137 == 0)
    {
        ;
    }
    if (g_U43137 == 1)
    {
        return GET_INT_STAT( 480 );
    }
    if (g_U43137 == 2)
    {
        return GET_INT_STAT( 486 );
    }
    if (g_U43137 == 3)
    {
        ;
    }
    if (g_U43137 == 21)
    {
        ;
    }
    if (g_U43137 == 15)
    {
        ;
    }
    if (g_U43137 == 16)
    {
        return GET_INT_STAT( 552 );
    }
    if (g_U43137 == 17)
    {
        ;
    }
    if (g_U43137 == 12)
    {
        return GET_INT_STAT( 528 );
    }
    if (g_U43137 == 13)
    {
        ;
    }
    if (g_U43137 == 19)
    {
        return GET_INT_STAT( 570 );
    }
    if (g_U43137 == 20)
    {
        return GET_INT_STAT( 575 );
    }
    if (g_U43137 == 5)
    {
        ;
    }
    if (g_U43137 == 4)
    {
        ;
    }
    if (g_U43137 == 6)
    {
        ;
    }
    if (g_U43137 == 7)
    {
        ;
    }
    if (g_U43137 == 8)
    {
        ;
    }
    if (g_U43137 == 9)
    {
        ;
    }
    if (g_U43137 == 14)
    {
        ;
    }
    if (g_U43137 == 22)
    {
        return GET_INT_STAT( 585 );
    }
    if (g_U43137 == 23)
    {
        return GET_INT_STAT( 593 );
    }
    if (g_U43137 == 24)
    {
        return GET_INT_STAT( 601 );
    }
    if (g_U43137 == 18)
    {
        ;
    }
    if (g_U43137 == 10)
    {
        ;
    }
    if (g_U43137 == 25)
    {
        return GET_INT_STAT( 607 );
    }
    if (g_U43137 == 11)
    {
        return GET_INT_STAT( 522 );
    }
    return 0;
}

int sub_96522(unknown uParam0, int iParam1)
{
    if ((iParam1 < 3000) AND (iParam1 > 0))
    {
        if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( iParam1 )))
        {
            REQUEST_CAR_RECORDING( iParam1 );
        }
        else if (IS_VEH_DRIVEABLE( (uParam0^) ))
        {
            if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( (uParam0^) )))
            {
                FREEZE_CAR_POSITION( (uParam0^), 0 );
                START_PLAYBACK_RECORDED_CAR( (uParam0^), iParam1 );
                return 1;
            }
        }
    }
    return 0;
}

void sub_99417(unknown uParam0, int iParam1)
{
    for ( l_U4618 = uParam0; l_U4618 <= iParam1; l_U4618++ )
    {
        if (NOT (HAS_MODEL_LOADED( l_U3593[l_U4618] )))
        {
            REQUEST_MODEL( l_U3593[l_U4618] );
        }
        else
        {
            CREATE_CHAR( 26, l_U3593[l_U4618], l_U4295[l_U4618]._fU0, l_U4295[l_U4618]._fU4, l_U4295[l_U4618]._fU8, ref l_U3776[l_U4618], 1 );
            if (l_U3593[l_U4618] == -1004762946)
            {
                ADD_ARMOUR_TO_CHAR( l_U3776[l_U4618], 65436 );
                SET_CHAR_MAX_HEALTH( l_U3776[l_U4618], 300 );
                SET_CHAR_HEALTH( l_U3776[l_U4618], 300 );
            }
            SET_CHAR_AS_ENEMY( l_U3776[l_U4618], 1 );
            SET_CHAR_HEADING( l_U3776[l_U4618], l_U4765[l_U4618] );
            SET_CHAR_RANDOM_COMPONENT_VARIATION( l_U3776[l_U4618] );
            SET_CHAR_DECISION_MAKER( l_U3776[l_U4618], l_U3934 );
            SET_COMBAT_DECISION_MAKER( l_U3776[l_U4618], l_U3939[l_U4618] );
            SET_CHAR_ONLY_DAMAGED_BY_PLAYER( l_U3776[l_U4618], 0 );
            SET_SENSE_RANGE( l_U3776[l_U4618], 150 );
            GIVE_WEAPON_TO_CHAR( l_U3776[l_U4618], l_U3684[l_U4618], 30000, 1 );
            SET_CHAR_AS_ENEMY( l_U3776[l_U4618], 1 );
            SET_PED_DIES_WHEN_INJURED( l_U3776[l_U4618], 1 );
            SET_CHAR_ACCURACY( l_U3776[l_U4618], 1 );
            SET_CHAR_IS_TARGET_PRIORITY( l_U3776[l_U4618], 1 );
            if (l_U3593[l_U4618] == -1004762946)
            {
                GENERATE_RANDOM_INT_IN_RANGE( 0, 3, ref l_U4760 );
                if (l_U4760 == 0)
                {
                    SET_CHAR_PROP_INDEX( l_U3776[l_U4618], 0, 1 );
                }
                else if (l_U4760 == 1)
                {
                    SET_CHAR_PROP_INDEX( l_U3776[l_U4618], 0, 0 );
                }
            }
            if (NOT (IS_CHAR_INJURED( l_U3776[l_U4618] )))
            {
                SET_CHAR_RELATIONSHIP( l_U3776[l_U4618], 5, 0 );
            }
        }
    }
    return;
}

void sub_110352(unknown uParam0, unknown uParam1, unknown uParam2)
{
    CREATE_CHAR_INSIDE_CAR( uParam2, sub_42415( uParam0 ), sub_41938( uParam0 ), uParam1 );
    sub_42461( uParam0, (uParam1^) );
    sub_42495( uParam0, (uParam1^) );
    return;
}

void sub_113408()
{
    return sub_62025( 0, 0 );
}

int sub_116661()
{
    if (((IS_CONTROL_PRESSED( 2, 98 )) AND (NOT IS_USING_CONTROLLER())) || (((IS_CONTROL_PRESSED( 2, 137 )) AND (NOT IS_USING_CONTROLLER())) || ((IS_CONTROL_PRESSED( 2, 77 )) || (IS_CONTROL_PRESSED( 0, 77 )))))
    {
        return 1;
        break;
    }
    return 0;
}

void sub_126708()
{
    g_U25 = 80;
    sub_126724( 24 );
    UNLOCK_MISSION_NEWS_STORY( 78 );
    sub_127896();
    sub_3772();
    return;
}

void sub_126724(int iParam0)
{
    if (iParam0 >= g_U1459)
    {
        SCRIPT_ASSERT( "NEWS STORY ARRAY SIZE NEEDS INCREASING - see simon" );
        return;
    }
    if (sub_126811( iParam0 ))
    {
        sub_127861( iParam0 );
    }
    return;
}

int sub_126811(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;

    if ((IS_BIT_SET( g_U1459[uParam0], 21 )) || (IS_BIT_SET( g_U1459[uParam0], 20 )))
    {
        return 0;
    }
    sub_126868( ref uVar3, 1, 0, 0 );
    sub_127480( uVar3, ref g_U1459[uParam0] );
    SET_BITS_IN_RANGE( ref g_U1459[uParam0], 22, 31, g_U1459[0] );
    g_U1459[0]++;
    SET_BIT( ref g_U1459[uParam0], 20 );
    sub_4041( "\n ----------------------------------------------------------------" );
    sub_16201( "\n  Following block of New Stories has been unlocked NEWS_BLOCK_", uParam0 );
    sub_4041( "\n ----------------------------------------------------------------" );
    return 1;
}

void sub_126868(int iParam0, unknown uParam1, unknown uParam2, boolean bParam3)
{
    GET_CURRENT_DATE( (iParam0 + 0) + 0, (iParam0 + 0) + 4 );
    GET_TIME_OF_DAY( (iParam0 + 8) + 0, (iParam0 + 8) + 4 );
    sub_126921( iParam0, uParam1, uParam2 );
    if (NOT bParam3)
    {
        return;
    }
    if (NOT ((ref iParam0->_fU8->_fU4) == 0))
    {
        if ((ref iParam0->_fU8->_fU4) <= 15)
        {
            ref iParam0->_fU8->_fU4 = 15;
        }
        else if ((ref iParam0->_fU8->_fU4) <= 30)
        {
            ref iParam0->_fU8->_fU4 = 30;
        }
        else if ((ref iParam0->_fU8->_fU4) <= 45)
        {
            ref iParam0->_fU8->_fU4 = 45;
        }
        else
        {
            ref iParam0->_fU8->_fU4 = 0;
            ref iParam0->_fU8->_fU0++;
        };;;
    }
    while ((ref iParam0->_fU8->_fU0) >= 24)
    {
        ref iParam0->_fU8->_fU0 -= 24;
        sub_127053( iParam0 + 0 );
    }
    return;
}

void sub_126921(int iParam0, int iParam1, int iParam2)
{
    ref iParam0->_fU8->_fU4 += iParam2;
    ref iParam0->_fU8->_fU0 += iParam1;
    while ((ref iParam0->_fU8->_fU4) >= 60)
    {
        ref iParam0->_fU8->_fU4 -= 60;
        ref iParam0->_fU8->_fU0++;
    }
    while ((ref iParam0->_fU8->_fU0) >= 24)
    {
        ref iParam0->_fU8->_fU0 -= 24;
        sub_127053( iParam0 + 0 );
    }
    return;
}

void sub_127053(int iParam0)
{
    iParam0->_fU0++;
    if (iParam0->_fU0 > (sub_127084( iParam0->_fU4 )))
    {
        iParam0->_fU0 = 1;
        iParam0->_fU4++;
        if (iParam0->_fU4 > 12)
        {
            iParam0->_fU4 = 1;
        }
    }
    return;
}

int sub_127084(unknown uParam0)
{
    switch (uParam0)
    {
        case 1:
        case 3:
        case 5:
        case 7:
        case 8:
        case 10:
        case 12: return 31;
        case 4:
        case 6:
        case 9:
        case 11: return 30;
        case 2: return 28;
    }
    return 30;
}

void sub_127480(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    SET_BITS_IN_RANGE( uParam4, 0, 4, uParam0._fU0._fU0 );
    SET_BITS_IN_RANGE( uParam4, 5, 8, uParam0._fU0._fU4 );
    SET_BITS_IN_RANGE( uParam4, 9, 13, uParam0._fU8._fU0 );
    SET_BITS_IN_RANGE( uParam4, 14, 19, uParam0._fU8._fU4 );
    return;
}

void sub_127861(unknown uParam0)
{
    return;
}

void sub_127896()
{
    int iVar2;
    int iVar3;
    int iVar4;

    iVar2 = 1;
    iVar3 = 0;
    iVar4 = 0;
    sub_127914();
    sub_127973( iVar2, iVar3, iVar4 );
    return;
}

void sub_127914()
{
    int I;

    I = 0;
    for ( I = 0; I < 5; I++ )
    {
        l_U3006[I] = 4;
    }
    return;
}

void sub_127973(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int iVar5;

    iVar5 = 2;
    sub_128001( iVar5, uParam0, uParam1, uParam2, "Yusuf" );
    return;
}

void sub_128001(unknown uParam0, boolean bParam1, boolean bParam2, boolean bParam3, unknown uParam4)
{
    int iVar7;
    int iVar8;
    char[64] cVar9;
    int iVar25;
    int I;
    int iVar27;
    boolean bVar28;
    unknown uVar29;
    unknown uVar30;
    int iVar31;
    boolean bVar32;

    if (bParam1)
    {
        if (g_U43133)
        {
            sub_128029();
            return;
        }
    }
    iVar7 = -1;
    iVar8 = -1;
    StrCopy( ref cVar9, "", 64 );
    if (bParam3)
    {
        if (g_U14925[uParam0]._fU80._fU0 == 0)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: friend mission", 64);
            sub_128203( ref cVar9 );
            return;
        }
        if (g_U14925[uParam0]._fU80._fU4 == -1)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: friend missionID", 64);
            sub_128203( ref cVar9 );
            return;
        }
        iVar7 = g_U14925[uParam0]._fU80._fU4;
    }
    else if (bParam2)
    {
        if (NOT g_U14925[uParam0]._fU160._fU80)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: proc mission", 64);
            sub_128203( ref cVar9 );
            return;
        }
        if (g_U14925[uParam0]._fU160._fU76 == -1)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: proc missionID", 64);
            sub_128203( ref cVar9 );
            return;
        }
        iVar7 = g_U14925[uParam0]._fU160._fU76;
    }
    else if (g_U14925[uParam0]._fU0._fU0 == 0)
    {
        StrCopy( ref cVar9, uParam4, 64 );
        ConcatString(ref cVar9, " Pass_Stats: mission", 64);
        sub_128203( ref cVar9 );
        return;
    }
    if (g_U14925[uParam0]._fU0._fU4 == -1)
    {
        StrCopy( ref cVar9, uParam4, 64 );
        ConcatString(ref cVar9, " Pass_Stats: missionID", 64);
        sub_128203( ref cVar9 );
        return;
    }
    iVar7 = g_U14925[uParam0]._fU0._fU4;
    iVar8 = sub_128780( uParam0, iVar7 );;;
    iVar25 = 0;
    if (bParam1)
    {
        g_U12382[uParam0]._fU24 = iVar7;
    }
    if (bParam2)
    {
        iVar25 = g_U14925[uParam0]._fU160._fU84;
    }
    if (bParam3)
    {
        I = 0;
        for ( I = 0; I < 5; I++ )
        {
            g_U12382[uParam0]._fU148[I]._fU8++;
            if ((g_U12382[uParam0]._fU148[I]._fU8 >= g_U12382[uParam0]._fU148[I]._fU4) AND (NOT g_U12382[uParam0]._fU148[I]._fU12))
            {
                iVar27 = 0;
                GET_GAME_TIMER( ref iVar27 );
                g_U12382[uParam0]._fU148[I]._fU16 = iVar27 + 90000;
            }
        }
    }
    if (NOT (sub_129228( uParam0, iVar7, iVar25, bParam1, bParam2, bParam3 )))
    {
        return;
    }
    if (bParam2)
    {
        g_U14925[uParam0]._fU160._fU84++;
    }
    SET_PLAYER_MOOD_NORMAL( sub_4399() );
    sub_2756();
    bVar28 = true;
    uVar29 = sub_128780( uParam0, iVar7 );
    uVar30 = sub_2376( uParam0 );
    if (bParam1)
    {
        iVar31 = g_U14925[uParam0]._fU0._fU56;
        if ((iVar31 == 6) || (iVar31 == 5))
        {
            bVar28 = false;
        }
        if (NOT g_U0)
        {
            bVar32 = true;
            if (IS_BIT_SET( g_U22960[uVar29]._fU108, 2 ))
            {
                REGISTER_MISSION_PASSED( ref g_U10961 );
                sub_133502( 9, ref g_U14925[uParam0]._fU0._fU24 );
                if ((g_U12379) AND (NOT bVar28))
                {
                    bVar32 = false;
                }
                if (bVar32)
                {
                    sub_128029();
                    g_U10953._fU8 = 1;
                    g_U10953._fU20 = sub_133953( uParam0, iVar7 );
                }
            }
            if (bVar28)
            {
                sub_134032( uParam0 );
                sub_134071( 0 );
                sub_2654( uVar30, 0 );
                g_U11076 = 0;
            }
            g_U12382[uParam0]._fU12 = 1;
        }
        if (bVar28)
        {
            sub_134246();
        }
    }
    if (bParam2)
    {
        sub_128029();
        sub_134345();
        sub_134071( 0 );
        g_U11062 = 1;
        g_U11076 = 0;
    }
    if (bParam3)
    {
        sub_128029();
        sub_134397();
        sub_134071( 0 );
        sub_2654( uVar30, 0 );
    }
    sub_2263();
    return;
}

void sub_128029()
{
    if (g_U0)
    {
        return;
    }
    g_U10953._fU0 = 1;
    g_U10953._fU4 = 0;
    g_U10953._fU8 = 0;
    g_U10953._fU12 = 0;
    g_U10953._fU16 = 0;
    g_U10953._fU20 = 0;
    g_U10953._fU28 = 5;
    return;
}

void sub_128203(unknown uParam0)
{
    PRINTSTRING( "FLOW WARNING: " );
    PRINTSTRING( uParam0 );
    PRINTNL();
    SCRIPT_ASSERT( "FLOW WARNING: Press IGNORE button and look at console window for details" );
    return;
}

int sub_128780(int iParam0, int iParam1)
{
    unknown uVar4;
    int iVar5;
    int Result;

    if ((iParam0 >= 11) || (iParam0 < 0))
    {
        sub_2607( "Main_Missions: Find_Trigger(): Illegal Strand ID" );
    }
    uVar4 = g_U28562[iParam0]._fU0;
    iVar5 = g_U28562[iParam0]._fU4;
    for ( Result = uVar4; Result <= iVar5; Result++ )
    {
        if (g_U22960[Result]._fU4 == iParam1)
        {
            return Result;
        }
    }
    return -1;
}

int sub_129228(unknown uParam0, unknown uParam1, unknown uParam2, boolean bParam3, unknown uParam4, unknown uParam5)
{
    boolean bVar8;
    unknown uVar9;

    bVar8 = false;
    switch (uParam0)
    {
        case 0:
        bVar8 = sub_129324( uParam1 );
        break;
        case 1:
        bVar8 = sub_130205( uParam1 );
        break;
        case 2:
        bVar8 = sub_130394( uParam1 );
        break;
        case 3:
        bVar8 = sub_130612( uParam1 );
        break;
        case 4:
        bVar8 = sub_131210( uParam1 );
        break;
        case 5:
        bVar8 = sub_131343( uParam1 );
        break;
        case 6:
        bVar8 = sub_131540( uParam1 );
        break;
        case 7:
        bVar8 = sub_131677( uParam1 );
        break;
        case 8:
        bVar8 = sub_131826( uParam1 );
        break;
        default:
        PRINTSTRING( "Strand ID: " );
        PRINTINT( uParam0 );
        PRINTNL();
        sub_130823( "Flow_Pass_Stats: Flow_Pass_Strand_Mission(): Unknown strand ID." );
    }
    if (NOT bVar8)
    {
        return 0;
    }
    uVar9 = sub_128780( uParam0, uParam1 );
    if (bParam3)
    {
        sub_132044( uVar9, uParam0 );
    }
    return 1;
}

int sub_129324(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 0;
    bVar4 = false;
    switch (uParam0)
    {
        case 1:
        sub_129491( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 2:
        sub_129491( iVar3, 1000, 5, 2, 0, 0 );
        break;
        case 3:
        sub_129491( iVar3, 1500, 5, 2, 0, 0 );
        break;
        case 4:
        sub_129491( iVar3, 500, 0, 0, 0, 0 );
        break;
        case 5:
        sub_129491( iVar3, 2500, 5, 2, 0, 0 );
        break;
        case 6:
        sub_129491( iVar3, 2000, 5, 2, 0, 0 );
        break;
        case 7:
        sub_129491( iVar3, 3000, 5, 2, 0, 0 );
        break;
        case 8:
        sub_129491( iVar3, 3500, 5, 2, 0, 0 );
        break;
        case 9:
        sub_129491( iVar3, 4000, 5, 2, 0, 0 );
        break;
        case 10:
        sub_129491( iVar3, 4500, 5, 2, 0, 0 );
        break;
        case 11:
        sub_129491( iVar3, 5000, 5, 2, 0, 0 );
        break;
        case 12:
        sub_129491( iVar3, 10000, 5, 2, 0, 0 );
        break;
        case 0:
        case 13:
        case 14:
        case 15:
        case 16: break;
        default:
        sub_130113( "Gay Tony", 1 );
        sub_129491( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_130113( "Gay Tony", 0 );
        sub_129491( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

void sub_129491(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, int iParam5)
{
    sub_129502( uParam1 );
    sub_129676( uParam0, 0, uParam2 );
    sub_129676( uParam0, 1, uParam3 );
    sub_129676( uParam0, 2, uParam4 );
    ProtectedSet(g_U22949[4], ProtectedGet(g_U22949[4]) + iParam5);
    sub_127914();
    return;
}

void sub_129502(unknown uParam0)
{
    ADD_SCORE( sub_4399(), uParam0 );
    sub_129527( uParam0 );
    return;
}

void sub_129527(int iParam0)
{
    if (g_U0)
    {
        return;
    }
    if (iParam0 < 0)
    {
        sub_2607( "Flow_Achievements_Increase_Cash_From_Missions: negative cash given. Tell Keith." );
    }
    INCREMENT_INT_STAT_NO_MESSAGE( 93, iParam0 );
    return;
}

void sub_129676(unknown uParam0, unknown uParam1, int iParam2)
{
    g_U12382[uParam0]._fU44[uParam1] += iParam2;
    if (g_U12382[uParam0]._fU44[uParam1] < 0)
    {
        g_U12382[uParam0]._fU44[uParam1] = 0;
    }
    if (g_U12382[uParam0]._fU44[uParam1] > 100)
    {
        g_U12382[uParam0]._fU44[uParam1] = 100;
    }
    return;
}

void sub_130113(unknown uParam0, unknown uParam1)
{
    return;
}

int sub_130205(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 1;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_129491( iVar3, 500, 5, 2, 0, 0 );
        break;
        case 1:
        sub_129491( iVar3, 1000, 5, 2, 0, 0 );
        break;
        case 2:
        sub_129491( iVar3, 1500, 5, 2, 0, 0 );
        break;
        default:
        sub_130113( "Mori", 1 );
        sub_129491( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_130113( "Mori", 0 );
        sub_129491( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_130394(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 2;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_129491( iVar3, 10000, 5, 2, 0, 0 );
        break;
        case 1:
        sub_129491( iVar3, 15000, 5, 2, 0, 0 );
        break;
        case 2:
        sub_129491( iVar3, 20000, 5, 2, 0, 0 );
        break;
        case 3:
        sub_129491( iVar3, 25000, 5, 2, 0, 0 );
        break;
        default:
        sub_130113( "Yusuf", 1 );
        sub_129491( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_130113( "Yusuf", 0 );
        sub_129491( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_130612(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 3;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_129491( iVar3, 5000, 5, 2, 0, 0 );
        break;
        case 1:
        sub_129491( iVar3, 2500, 5, 2, 0, 0 );
        break;
        case 2:
        sub_129491( iVar3, 0, sub_130701(), sub_130967(), 0, 0 );
        break;
        default:
        sub_130113( "Dominicans", 1 );
        sub_129491( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_130113( "Dominicans", 0 );
        sub_129491( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_130701()
{
    switch (l_U3006[0])
    {
        case 0: return 14;
        case 1: return 8;
        case 2: return 6;
        case 3: return 1;
        case 4: return 0;
    }
    sub_130823( "Get_TRUST(): Unknown Friend Pass ID" );
    return 0;
}

void sub_130823(unknown uParam0)
{
    PRINTSTRING( "FLOW ERROR: " );
    PRINTSTRING( uParam0 );
    PRINTNL();
    SCRIPT_ASSERT( "FLOW ERROR: Press IGNORE button and look at console window for details" );
    return;
}

int sub_130967()
{
    switch (l_U3006[1])
    {
        case 0: return 10;
        case 1: return 6;
        case 2: return 3;
        case 3: return 1;
        case 4: return 0;
    }
    sub_130823( "Get_LIKE(): Unknown Friend Pass ID" );
    return 0;
}

int sub_131210(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 4;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_129491( iVar3, 1000, 5, 2, 0, 0 );
        break;
        default:
        sub_130113( "Mum", 1 );
        sub_129491( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_130113( "Mum", 0 );
        sub_129491( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_131343(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 5;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_129491( iVar3, 2000, 5, 2, 0, 0 );
        break;
        case 1:
        sub_129491( iVar3, 4000, 5, 2, 0, 0 );
        break;
        case 2:
        sub_129491( iVar3, 6000, 5, 2, 0, 0 );
        break;
        default:
        sub_130113( "Bulgarin", 1 );
        sub_129491( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_130113( "Bulgarin", 0 );
        sub_129491( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_131540(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 6;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_129491( iVar3, 5000, 5, 2, 0, 0 );
        break;
        default:
        sub_130113( "Rocco", 1 );
        sub_129491( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_130113( "Rocco", 0 );
        sub_129491( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_131677(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 7;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_129491( iVar3, 0, sub_130701(), sub_130967(), 0, 0 );
        break;
        default:
        sub_130113( "Henrique", 1 );
        sub_129491( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_130113( "Henrique", 0 );
        sub_129491( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_131826(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 8;
    bVar4 = false;
    if (bVar4)
    {
        sub_130113( "Reserve 1", 0 );
        sub_129491( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

void sub_132044(int iParam0, int iParam1)
{
    if (g_U0)
    {
        return;
    }
    if (iParam0 == -1)
    {
        return;
    }
    if (iParam1 == -1)
    {
        return;
    }
    if (g_U10972)
    {
        return;
    }
    if (sub_132105( iParam0, iParam1 ))
    {
        INCREMENT_INT_STAT_NO_MESSAGE( 253, 1 );
        sub_132831( iParam1 );
    }
    return;
}

int sub_132105(int iParam0, int iParam1)
{
    int iVar4;
    boolean bVar5;
    int iVar6;

    if (g_U0)
    {
        return 0;
    }
    if (iParam0 == -1)
    {
        return 0;
    }
    if (iParam1 == -1)
    {
        return 0;
    }
    iVar4 = g_U14925[iParam1]._fU0._fU56;
    bVar5 = iVar4 == 6;
    if (bVar5)
    {
        return 0;
    }
    iVar6 = 0;
    if (NOT (IS_BIT_SET( g_U22960[iParam0]._fU108, 3 )))
    {
        iVar6 = g_U22960[iParam0]._fU104;
        if (iVar6 > 0)
        {
            sub_132245( 0, iVar6 );
            g_U14902[iParam1]._fU4 += iVar6;
        }
        SET_BIT( ref g_U22960[iParam0]._fU108, 3 );
        return 1;
    }
    return 0;
}

void sub_132245(unknown uParam0, int iParam1)
{
    g_U28780[uParam0]._fU4 += iParam1;
    if (g_U28780[uParam0]._fU4 > g_U28780[uParam0]._fU0)
    {
        SCRIPT_ASSERT( "Flow_Achievements_Game_Progress_Made: Current Category is over target value" );
        g_U28780[uParam0]._fU4 = g_U28780[uParam0]._fU0;
    }
    sub_132415( 0 );
    return;
}

void sub_132415(boolean bParam0)
{
    float fVar3;
    float fVar4;
    float fVar5;
    float fVar6;
    boolean bVar7;
    int I;

    fVar3 = 0.00000000;
    fVar4 = 0.00000000;
    fVar5 = 0.00000000;
    fVar6 = 0.00000000;
    bVar7 = true;
    I = 0;
    for ( I = 0; I < 8; I++ )
    {
        if (g_U28780[I]._fU4 == g_U28780[I]._fU0)
        {
            fVar4 = g_U28780[I]._fU8;
        }
        else
        {
            bVar7 = false;
            fVar5 = TO_FLOAT( g_U28780[I]._fU0 );
            fVar6 = TO_FLOAT( g_U28780[I]._fU4 );
            fVar4 = (fVar6 / fVar5) * g_U28780[I]._fU8;
        }
        fVar3 += fVar4;
    }
    if (fVar3 > 100.00000000)
    {
        fVar3 = 99.99000000;
    }
    if (bVar7)
    {
        fVar3 = 100.00000000;
    }
    SET_FLOAT_STAT( 187, fVar3 );
    if (bVar7)
    {
        sub_132660();
    }
    if ((NOT ((# -NULL-0xc27bfa()) || (# -NULL-0xc27c84()))) AND ((NOT bParam0) AND (bVar7)))
    {
        PRINT_HELP( "GAME100" );
    }
    return;
}

void sub_132660()
{
    ENABLE_MAX_AMMO_CAP( 0 );
    g_U15811[5] = 1;
    return;
}

void sub_132831(int iParam0)
{
    float fVar3;
    float fVar4;
    float fVar5;

    if (g_U0)
    {
        return;
    }
    if (iParam0 == -1)
    {
        return;
    }
    if (g_U14902[iParam0]._fU0 == 0)
    {
        return;
    }
    fVar3 = 0.00000000;
    fVar4 = 0.00000000;
    fVar5 = 0.00000000;
    if (g_U14902[iParam0]._fU4 == g_U14902[iParam0]._fU0)
    {
        fVar3 = 100.00000000;
    }
    else
    {
        fVar4 = TO_FLOAT( g_U14902[iParam0]._fU0 );
        fVar5 = TO_FLOAT( g_U14902[iParam0]._fU4 );
        fVar3 = fVar5 / fVar4;
        fVar3 *= 100.00000000;
    }
    switch (iParam0)
    {
        case 0:
        sub_133070( 188 );
        SET_FLOAT_STAT( 188, fVar3 );
        break;
        case 1:
        sub_133070( 192 );
        SET_FLOAT_STAT( 192, fVar3 );
        break;
        case 2:
        sub_133070( 191 );
        SET_FLOAT_STAT( 191, fVar3 );
        break;
        case 3:
        sub_133070( 197 );
        SET_FLOAT_STAT( 197, fVar3 );
        break;
        case 4: break;
        case 5:
        sub_133070( 200 );
        SET_FLOAT_STAT( 200, fVar3 );
        break;
        case 6:
        sub_133070( 201 );
        SET_FLOAT_STAT( 201, fVar3 );
        break;
        default: return;
    }
    return;
}

void sub_133070(unknown uParam0)
{
    if ((GET_STAT_FRONTEND_VISIBILITY( uParam0 )) == 0)
    {
        SET_STAT_FRONTEND_VISIBILITY( uParam0, 1 );
    }
    return;
}

void sub_133502(unknown uParam0, unknown uParam1)
{
    sub_133521( uParam0, 0, 0.00000000, uParam1 );
    return;
}

void sub_133521(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;

    switch (uParam0)
    {
        case 0:
        PLAYSTATS_INT( "SPRUNK_BOUGHT", uParam1 );
        break;
        case 1:
        PLAYSTATS_INT( "HOTDOG_BOUGHT", uParam1 );
        break;
        case 2:
        PLAYSTATS_INT( "NUTS_BOUGHT", uParam1 );
        break;
        case 3:
        PLAYSTATS_INT( "BURGERS_BOUGHT", uParam1 );
        break;
        case 7:
        PLAYSTATS_INT( "DONATE_BEGGAR", uParam1 );
        break;
        case 8:
        PLAYSTATS_INT( "DONATE_BUSKER", uParam1 );
        break;
        case 4:
        PLAYSTATS_INT( "BSHOT_BOUGHT", uParam1 );
        break;
        case 5:
        PLAYSTATS_INT( "CBELL_BOUGHT", uParam1 );
        break;
        case 6:
        PLAYSTATS_INT( "CAFE_BOUGHT", uParam1 );
        break;
        case 9: break;
    }
    return;
}

int sub_133953(int iParam0, int iParam1)
{
    if (iParam0 == 0)
    {
        if (iParam1 == 12)
        {
            return 1;
        }
    }
    if (iParam0 == 0)
    {
        if (iParam1 == 0)
        {
            return 1;
        }
    }
    return 0;
}

void sub_134032(unknown uParam0)
{
    sub_2124();
    g_U12382[uParam0]._fU120 = 0;
    return;
}

void sub_134071(unknown uParam0)
{
    if (g_U10754)
    {
        g_U10754 = 0;
        return;
    }
    SET_BIT( ref g_U10751._fU0, 1 );
    sub_134122( ref g_U10751._fU0, 2, uParam0 );
    CLEAR_BIT( ref g_U10751._fU0, 3 );
    g_U10751._fU4 = 0;
    g_U10751._fU8 = 0;
    return;
}

void sub_134122(unknown uParam0, unknown uParam1, boolean bParam2)
{
    if (bParam2)
    {
        SET_BIT( uParam0, uParam1 );
        return;
    }
    CLEAR_BIT( uParam0, uParam1 );
    return;
}

void sub_134246()
{
    sub_134255();
    return;
}

void sub_134255()
{
    if (g_U0)
    {
        return;
    }
    if (COMPARE_STRING( ref g_U10966, "" ))
    {
        return;
    }
    PLAYSTATS_MISSION_PASSED( ref g_U10966 );
    StrCopy( ref g_U10966, "", 16 );
    return;
}

void sub_134345()
{
    sub_134255();
    return;
}

void sub_134397()
{
    sub_134255();
    StrCopy( ref g_U10966, "FPASS", 16 );
    return;
}

