void main()
{
    int I;
    unknown uVar3;
    int iVar4;
    int iVar5;
    int iVar6;

    l_U17 = 0.00000000;
    l_U18 = 0.00000000;
    l_U19 = 0.00000000;
    l_U20 = 0;
    l_U21 = 0;
    l_U22 = 0;
    l_U23 = 0;
    l_U24 = 0;
    l_U25 = 1;
    l_U26 = 0;
    l_U27 = 0;
    l_U28 = 0;
    l_U29 = 1;
    l_U30 = 0;
    l_U31 = 0;
    l_U32 = 0;
    l_U33 = 0;
    l_U34 = 0;
    l_U35 = 0;
    l_U36 = 0;
    l_U37 = 0;
    l_U38 = 0;
    l_U39 = 1;
    l_U40 = 0;
    l_U41 = 0;
    l_U42 = 0;
    l_U43 = 0;
    l_U44 = 0;
    l_U45 = 0;
    l_U46 = 0;
    l_U47 = 1;
    l_U48 = 1;
    l_U49 = 0;
    l_U50 = 0;
    l_U51 = 0;
    l_U52 = 0;
    l_U53 = 0;
    l_U54 = 0;
    l_U55 = 0;
    l_U56 = 0;
    l_U1201 = 90.00000000;
    l_U1202 = 5.00000000;
    l_U1203 = 25.00000000;
    l_U1204 = 15.00000000;
    l_U1205 = 2.00000000;
    l_U1206 = 4.00000000;
    l_U1207 = 0.50000000;
    l_U1208 = 120.00000000;
    l_U1209 = 0.00000000;
    l_U1210 = 0.00000000;
    l_U1212 = 1.00000000;
    l_U1213 = 0.00000000;
    l_U1214 = 1.00000000;
    l_U1215 = 10.00000000;
    l_U1216 = 30.00000000;
    l_U1218 = 1.00000000;
    l_U1220 = 1.00000000;
    l_U1221 = 5.00000000;
    l_U1222 = 1.00000000;
    l_U1223 = 1.00000000;
    l_U1228 = 0.30000000;
    l_U1229 = 0.50000000;
    l_U1230 = 50.00000000;
    l_U1636 = 0;
    l_U1637 = 0;
    l_U1638 = 0;
    l_U1639 = 0;
    l_U1640 = 1;
    l_U1641 = 0;
    l_U1642 = 0;
    l_U1643 = 0;
    l_U1644 = 0;
    l_U1645 = -1;
    l_U1646 = 0;
    l_U1647 = 0;
    l_U1648 = 0;
    l_U1649 = 0;
    l_U1650 = 0;
    l_U1651 = 0;
    l_U1652 = 0;
    l_U2825 = 0;
    l_U2826 = 0;
    l_U2830 = 86.00000000;
    l_U2831 = 274.00000000;
    l_U2836 = 0;
    l_U2837 = 1;
    l_U2838 = 3;
    l_U2840 = 0;
    l_U2841 = -1;
    l_U2842 = 0;
    l_U2843 = 0;
    l_U2848 = 1;
    l_U3032 = 0;
    l_U3033 = 0;
    l_U3034 = 0;
    l_U3035 = 0;
    l_U3106 = 0;
    l_U3107 = 0;
    l_U3108 = 0;
    l_U3109 = 0;
    l_U3110 = 0;
    l_U3111 = 0;
    l_U3139 = 10.00000000;
    l_U3140 = 15.00000000;
    l_U3155 = 0;
    l_U3156 = 0;
    l_U3157 = 0;
    l_U3158 = 0;
    l_U3159 = 1;
    l_U3225 = 6;
    l_U3263 = nil;
    l_U3276 = nil;
    l_U3294 = 1;
    l_U3329 = nil;
    l_U3349 = 1;
    l_U3425 = 6;
    l_U3434 = "BOGT_BoxDrop";
    l_U3435 = "BOGT_Box_TickDrop";
    l_U3500 = 0.63600000;
    l_U3501 = 0.37600000;
    l_U3550 = 0.05200000;
    l_U3551 = 0.35300000;
    l_U3552 = 0.30000000;
    l_U3553 = 0.37200000;
    l_U3554 = 0.37300000;
    l_U3555 = 0.38700000;
    l_U3556 = 0.44400000;
    l_U3557 = 0.03750000;
    l_U3558 = 0.36900000;
    l_U3559 = 0.62350000;
    l_U3560 = 0.60800000;
    l_U3561 = {0.24300000, 0.46700000, 0.00000000};
    l_U3564 = {0.23100000, 0.43500000, 0.00000000};
    l_U3567 = {0.23100000, 0.43500000, 0.00000000};
    l_U3570 = {0.31920000, 0.65250000, 0.00000000};
    l_U3573 = {0.31920000, 0.65250000, 0.00000000};
    l_U3576 = {0.24300000, 0.46700000, 0.00000000};
    l_U3579 = {0.50000000, 1.10000000, 0.00000000};
    l_U3582 = {0.31920000, 0.65250000, 0.00000000};
    l_U3585 = {0.18225000, 0.35025000, 0.00000000};
    l_U3588 = 0.30000000;
    l_U3589 = 0.37000000;
    l_U3590 = 0.56200000;
    l_U3591 = 0.40100000;
    l_U3592 = 0.30000000;
    l_U3593 = 0.37000000;
    l_U3594 = 0.69700000;
    l_U3595 = 0.40100000;
    l_U3596 = 0.30000000;
    l_U3597 = 0.37000000;
    l_U3598 = 0.66500000;
    l_U3599 = 0.40100000;
    l_U3600 = 0.32500000;
    l_U3601 = 0.62500000;
    l_U3602 = 0.00800000;
    l_U3603 = 0.49700000;
    l_U3604 = 0.52500000;
    l_U3605 = 0.49700000;
    l_U3606 = 0.51800000;
    l_U3607 = 1;
    l_U3608 = 0;
    l_U3609 = {0.50000000, 0.50000000, 0};
    l_U3612 = 0.20000000;
    l_U3613 = 0.20000000;
    l_U3657 = 0;
    l_U3658 = 0;
    l_U3670 = 0;
    l_U3674 = 0;
    l_U3675 = {-604.46210000, -97.77680000, 5.43490000};
    l_U3678 = {-641.56560000, -3.50000000, 11.37810000};
    l_U3681 = {-641.62980000, -2.72070000, 11.47820000};
    l_U3684 = {-637.41590000, -2.62994700, 13.88877000};
    l_U3687 = {-14.94875000, -0.00000000, 90.40677000};
    l_U3690 = {-681.76210000, -0.62300010, 3.70750000};
    l_U3693 = {-702.64790000, -13.68750000, 3.80540000};
    l_U3696 = {0.00000000, 0.70000000, 0.57500000};
    l_U3699 = {0.00000000, 0.00000000, 0.00000000};
    l_U3702 = {-685.00000000, -3.79720000, 5.00000000};
    l_U3705 = {-75.87670000, -229.93080000, 13.48100000};
    l_U3708 = {-648.45750000, -3.90360000, 3.80790000};
    l_U3711 = {-640.92980000, -1.87890000, 11.40220000};
    l_U3714 = {0.03000000, 0.01700000, 0.00000000};
    l_U3717 = {4.75000000, 3.00000000, 1.25000000};
    l_U3720 = {-582.22750000, -75.30300000, 3.94070000};
    l_U3723 = {0.00000000, 0.00000000, 0.00000000};
    l_U3726 = {0.00000000, 0.00000000, 0.00000000};
    l_U3729 = {1.50000000, 3.20000000, 2.00000000};
    l_U3732 = {0.00000000, -0.50000000, 0.00000000};
    l_U3735 = {-3.50000000, 2.60000000, 1.90000000};
    l_U3738 = {-635.12920000, -38.34140000, 3.81260000};
    l_U3751 = {-647.94340000, -6.72208400, 5.35186000};
    l_U3754 = {-7.22569600, 0.00000000, -28.65778000};
    l_U3757 = {-703.15530000, -15.75160000, 3.79900000};
    l_U3760 = {-702.22450000, -12.17680000, 3.81010000};
    l_U3763 = {0.00000000, 0.00000000, 0.00000000};
    l_U3766 = {0.00000000, 0.00000000, 0.00000000};
    l_U3769 = {-81.37310000, -229.82870000, 13.18390000};
    l_U3772 = {0.00000000, 0.00000000, 0.00000000};
    l_U3775 = {l_U3681._fU0, l_U3684._fU4, l_U3684._fU8};
    l_U3778 = {0.00000000, 0.00000000, 0.00000000};
    l_U3781 = {4.00000000, 0.00000000, 1.50000000};
    l_U3784 = {-653.66670000, -16.54610000, 3.79260000};
    l_U3787 = {-394.54100000, -457.43500000, 4.18133000};
    l_U3790 = ABSF( l_U3684._fU0 - l_U3775._fU0 );
    l_U3791 = 0;
    l_U3792 = 0;
    l_U3793 = 1;
    l_U3794 = 0;
    l_U3795 = 0;
    l_U3796 = 0;
    l_U3797 = 0;
    l_U3798 = 0;
    l_U3799 = 0;
    l_U3800 = 0;
    l_U3801 = 0;
    l_U3802 = 0;
    l_U3803 = 0;
    l_U3804 = 1;
    l_U3805 = 1;
    l_U3806 = 0;
    l_U3807 = 0;
    l_U3808 = 0;
    l_U3822 = 1;
    l_U3823 = 0;
    l_U3824 = 0;
    l_U3825 = 0;
    l_U3826 = 0;
    l_U3831 = 0;
    l_U3832 = 0;
    l_U3833 = 0;
    l_U3834 = 0;
    l_U3839 = 0;
    l_U3840 = 0;
    l_U3841 = 0;
    l_U3842 = 0;
    l_U3843 = 0;
    l_U3844 = 0;
    l_U3845 = 0;
    l_U3846 = 0;
    l_U3847 = 0;
    l_U3848 = 0;
    l_U3849 = 0;
    l_U3850 = 0;
    l_U3851 = -1;
    l_U3852 = 0;
    l_U3853 = 0;
    l_U3854 = 0;
    l_U3855 = 0;
    l_U3856 = 0;
    l_U3857 = 0;
    l_U3858 = 0;
    l_U3859 = 0;
    l_U3860 = 10000;
    l_U3861 = 0;
    l_U3862 = 0;
    l_U3863 = 0;
    l_U3864 = 0;
    l_U3869 = 0;
    l_U3870 = 0;
    l_U3871 = 0;
    l_U3872 = 0;
    l_U3873 = 0;
    l_U3874 = 0;
    l_U3875 = 0;
    l_U3876 = 0;
    l_U3877 = 0;
    l_U3878 = 0;
    l_U3879 = 0;
    l_U3880 = 0;
    l_U3881 = 0;
    l_U3882 = 0;
    l_U3883 = 1;
    l_U3884 = 1;
    l_U3885 = 0;
    l_U3886 = 0;
    l_U3887 = 0;
    l_U3888 = 0;
    l_U3889 = 0;
    l_U3890 = 0;
    l_U3891 = 0;
    l_U3895 = 0;
    l_U3896 = 0;
    l_U3897 = 0;
    l_U3898 = 0;
    l_U3899 = 0;
    l_U3900 = 0.00000000;
    l_U3901 = 90.00000000;
    l_U3902 = 263.57510000;
    l_U3903 = 166.43090000;
    l_U3904 = 22.17930000;
    l_U3905 = 88.41300000;
    l_U3906 = 86.45190000;
    l_U3907 = 0.05000000;
    l_U3908 = 1.00000000;
    l_U3909 = 0.00000000;
    l_U3910 = 0.00000000;
    l_U3911 = 30.00000000;
    l_U3912 = 20.00000000;
    l_U3913 = -9.81000000;
    l_U3914 = -4.00000000;
    l_U3915 = 0.00000000;
    l_U3916 = 0.00000000;
    l_U3917 = 1.00000000;
    l_U3918 = 0.98000000;
    l_U3919 = 0.99000000;
    l_U3920 = 0.65000000;
    l_U3921 = -734.19150000;
    l_U3922 = -660.11710000;
    l_U3923 = -26.61770000;
    l_U3924 = 2.09260000;
    l_U3925 = 91.35000000;
    l_U3926 = 1.00000000;
    l_U3927 = 0.00000000;
    l_U3928 = 1.00000000;
    l_U3929 = 90.00000000;
    l_U3930 = 173.90410000;
    l_U3935 = 354.37140000;
    l_U3936 = 0.00000000;
    l_U3937 = 0.03000000;
    l_U3938 = 0.00000000;
    l_U3939 = 0.00000000;
    l_U3940 = -636.07000000;
    l_U3941 = 0.00000000;
    l_U3942 = 0.00000000;
    l_U3943 = 0.00000000;
    l_U3944 = 0.00000000;
    l_U3945 = 0.00000000;
    l_U3946 = 0.00000000;
    l_U3947 = 0.00000000;
    l_U3948 = 45.00000000;
    l_U3949 = 0.00000000;
    l_U3950 = 0.00000000;
    l_U3951 = 0.00000000;
    l_U3952 = 0.00000000;
    l_U3953 = 0.00000000;
    l_U3954 = 0.00000000;
    l_U3967 = {-0.01800000, 0.00800000, -0.02300000};
    l_U3970 = {1.50500000, 0.24900000, 0.62600000};
    l_U4103 = 0;
    l_U4105 = {0.00000000, -0.41000000, -0.80000000};
    l_U4202 = 1;
    l_U4203 = 0;
    l_U4224 = 0;
    l_U4225 = 0;
    l_U4226 = 3;
    l_U4229 = 0;
    l_U4230 = 0;
    l_U4231 = 0;
    l_U4232 = 0;
    l_U4234 = 0;
    l_U4575 = 0;
    SET_MISSION_FLAG( 1 );
    if (HAS_DEATHARREST_EXECUTED())
    {
        I = 0;
        if (l_U4221 == 6)
        {
            I = 0;
            for ( I = 0; I < l_U4365; I++ )
            {
                if (NOT (IS_CHAR_INJURED( l_U4365[I]._fU0 )))
                {
                    if (NOT (IS_CHAR_INJURED( l_U3983 )))
                    {
                        TASK_COMBAT( l_U4365[I]._fU0, l_U3983 );
                    }
                    else if (NOT (IS_CHAR_INJURED( l_U3984 )))
                    {
                        TASK_COMBAT( l_U4365[I]._fU0, l_U3984 );
                    }
                    SET_CHAR_RELATIONSHIP( l_U4365[I]._fU0, 5, 0 );
                    SET_CHAR_KEEP_TASK( l_U4365[I]._fU0, 1 );
                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U4365[I]._fU0, 1 );
                }
            }
        }
        else if (l_U4221 == 7)
        {
            I = 0;
            for ( I = 0; I < l_U4365; I++ )
            {
                if (NOT (IS_CHAR_INJURED( l_U4365[I]._fU0 )))
                {
                    if (NOT (IS_CHAR_INJURED( l_U3984 )))
                    {
                        TASK_COMBAT( l_U4365[I]._fU0, l_U3984 );
                    }
                    else if (NOT (IS_CHAR_INJURED( l_U3983 )))
                    {
                        TASK_COMBAT( l_U4365[I]._fU0, l_U3983 );
                    }
                    SET_CHAR_RELATIONSHIP( l_U4365[I]._fU0, 5, 0 );
                    SET_CHAR_KEEP_TASK( l_U4365[I]._fU0, 1 );
                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U4365[I]._fU0, 1 );
                    if (NOT (DOES_CHAR_EXIST( uVar3 )))
                    {
                        uVar3 = l_U4365[I]._fU0;
                    }
                }
            }
            I = 0;
            for ( I = 0; I < l_U4450; I++ )
            {
                if (NOT (IS_CHAR_INJURED( l_U4450[I]._fU0 )))
                {
                    if (NOT (IS_CHAR_INJURED( l_U3984 )))
                    {
                        TASK_COMBAT( l_U4450[I]._fU0, l_U3984 );
                    }
                    else if (NOT (IS_CHAR_INJURED( l_U3983 )))
                    {
                        TASK_COMBAT( l_U4450[I]._fU0, l_U3983 );
                    }
                    SET_CHAR_RELATIONSHIP( l_U4450[I]._fU0, 5, 0 );
                    SET_CHAR_KEEP_TASK( l_U4450[I]._fU0, 1 );
                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U4450[I]._fU0, 1 );
                    if (NOT (DOES_CHAR_EXIST( uVar3 )))
                    {
                        uVar3 = l_U4365[I]._fU0;
                    }
                }
            }
            if (NOT (IS_CHAR_INJURED( uVar3 )))
            {
                if (NOT (IS_CHAR_INJURED( l_U3984 )))
                {
                    SET_CHAR_INVINCIBLE( l_U3984, 1 );
                    TASK_SMART_FLEE_CHAR( l_U3984, uVar3, 1000.00000000, 50000 );
                    SET_CHAR_KEEP_TASK( l_U3984, 1 );
                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3984, 1 );
                }
                if (NOT (IS_CHAR_INJURED( l_U3983 )))
                {
                    TASK_FLEE_CHAR_ANY_MEANS( l_U3983, uVar3, 1000.00000000, 50000, 0, 0, 0, 100.00000000 );
                    SET_CHAR_KEEP_TASK( l_U3983, 1 );
                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3983, 1 );
                }
            }
        }
        sub_4260();
        sub_6577();
    }
    sub_13186();
    sub_13970();
    if (IS_BIT_SET( g_U10938._fU0, 7 ))
    {
        g_U43104[2] = 0;
    }
    else
    {
        sub_14706();
    }
    while (true)
    {
        WAIT( 0 );
        if (l_U3844)
        {
            sub_12495( ref l_U4204, l_U3845 );
            l_U4118 = 0;
            l_U3844 = 0;
        }
        switch (l_U4221)
        {
            case 0:
            sub_29162();
            break;
            case 1:
            sub_39321();
            break;
            case 2:
            sub_55954();
            break;
            case 3:
            sub_57164();
            break;
            case 4:
            sub_57721();
            break;
            case 5:
            sub_92160();
            break;
            case 6:
            sub_102065();
            break;
            case 7:
            sub_114708();
            break;
            case 8:
            sub_131784();
            break;
            case 9:
            sub_137733();
            break;
            case 10:
            sub_139372();
            break;
            case 13:
            sub_149916();
            break;
            case 14:
            if (l_U4233 != 1)
            {
                if (NOT (IS_CHAR_INJURED( l_U3984 )))
                {
                    sub_154296();
                }
                else if (NOT (IS_CHAR_INJURED( l_U3983 )))
                {
                    sub_156410();
                }
                else
                {
                    sub_153334( 0 );
                }
            }
            else if (NOT (IS_CHAR_INJURED( l_U3983 )))
            {
                sub_156410();
            }
            else
            {
                sub_153334( 0 );
            }
            break;
            case 11: break;
            case 12: break;
        }
        if ((l_U4221 != 10) AND (l_U4221 != 0))
        {
            sub_29196( 0 );
        }
        if ((l_U4221 == 9) || ((l_U4221 == 7) || ((l_U4221 == 6) || ((l_U4221 == 5) || (l_U4221 == 4)))))
        {
            GET_GAME_TIMER( ref iVar4 );
            if ((iVar4 - l_U3889) > 8000)
            {
                SET_VISIBILITY_OF_CLOSEST_OBJECT_OF_TYPE( -821.19300000, -34.21250000, 5.19150000, 10.00000000, -1022619662, 0 );
                SET_VISIBILITY_OF_CLOSEST_OBJECT_OF_TYPE( -826.71500000, 5.88290100, 5.19150000, 10.00000000, -1022619662, 0 );
                SET_USES_COLLISION_OF_CLOSEST_OBJECT_OF_TYPE( -821.19300000, -34.21250000, 5.19150000, 10.00000000, -1022619662, 0 );
                SET_USES_COLLISION_OF_CLOSEST_OBJECT_OF_TYPE( -826.71500000, 5.88290100, 5.19150000, 10.00000000, -1022619662, 0 );
                GET_GAME_TIMER( ref l_U3889 );
            }
        }
        if (DOES_CHAR_EXIST( l_U3984 ))
        {
            if (NOT l_U3824)
            {
                if (IS_CHAR_INJURED( l_U3984 ))
                {
                    UNLOCK_RAGDOLL( l_U3984, 1 );
                    CLEAR_PRINTS();
                    CLEAR_HELP();
                    sub_7282();
                    sub_47929();
                    sub_11417( 1 );
                    PRINT_NOW( "T3_T_DIED", 7500, 0 );
                    l_U4221 = 14;
                    l_U4233 = 1;
                    l_U3824 = 1;
                    sub_158853( 0, l_U3984, 0 );
                }
                else
                {
                    GET_CHAR_HEALTH( l_U3984, ref iVar5 );
                    if (iVar5 < 200)
                    {
                        UNLOCK_RAGDOLL( l_U3984, 1 );
                        SET_CHAR_HEALTH( l_U3984, 0 );
                    }
                }
            }
        }
        if (DOES_CHAR_EXIST( l_U3985 ))
        {
            if (NOT (IS_CHAR_INJURED( l_U3985 )))
            {
                if (NOT l_U3823)
                {
                    GET_CHAR_HEALTH( l_U3985, ref iVar6 );
                    if (iVar6 < 1800)
                    {
                        if (HAVE_ANIMS_LOADED( "facials@m_lo" ))
                        {
                            TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U3985, "vic_die", "MISSTONY03", 8.00000000, 0, 0, 0, 1, 0 );
                            TASK_PLAY_ANIM_FACIAL( l_U3985, "dead_a", "facials@m_lo", 4.00000000, 1, 0, 0 );
                            SET_CHAR_INVINCIBLE( l_U3985, 1 );
                            l_U3823 = 1;
                        }
                        else
                        {
                            REQUEST_ANIMS( "facials@m_lo" );
                        }
                    }
                }
            }
        }
        if (DOES_CHAR_EXIST( l_U3983 ))
        {
            if (IS_CHAR_INJURED( l_U3983 ))
            {
                if (NOT l_U3824)
                {
                    CLEAR_PRINTS();
                    CLEAR_HELP();
                    sub_7282();
                    sub_47929();
                    sub_11417( 1 );
                    PRINT_NOW( "T3_R_DIED", 7500, 0 );
                    l_U4221 = 14;
                    l_U4233 = 2;
                    l_U3824 = 1;
                    if (IS_VEH_DRIVEABLE( l_U4052 ))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U4052 ))
                        {
                            sub_92689( 750, ref l_U4052 );
                        }
                    }
                }
            }
        }
        if (DOES_VEHICLE_EXIST( l_U4052 ))
        {
            if (NOT l_U3824)
            {
                if ((CHECK_STUCK_TIMER( l_U4052, 1, 40000 )) || ((CHECK_STUCK_TIMER( l_U4052, 2, 30000 )) || ((CHECK_STUCK_TIMER( l_U4052, 3, 60000 )) || ((CHECK_STUCK_TIMER( l_U4052, 0, 5000 )) || (NOT (IS_VEH_DRIVEABLE( l_U4052 )))))))
                {
                    CLEAR_PRINTS();
                    CLEAR_HELP();
                    sub_7282();
                    sub_47929();
                    sub_11417( 1 );
                    PRINT_NOW( "T3_R_B_DIED", 7500, 0 );
                    l_U4221 = 14;
                    l_U4233 = 0;
                    l_U3824 = 1;
                }
            }
        }
        if (DOES_VEHICLE_EXIST( l_U4051 ))
        {
            if (NOT l_U3824)
            {
                if (NOT (IS_VEH_DRIVEABLE( l_U4051 )))
                {
                    CLEAR_PRINTS();
                    CLEAR_HELP();
                    sub_7282();
                    sub_47929();
                    sub_11417( 1 );
                    PRINT_NOW( "T3_CARDEAD", 7500, 0 );
                    l_U4221 = 14;
                    l_U4233 = 6;
                    l_U3824 = 1;
                }
                if (sub_159727( l_U4051 ))
                {
                    CLEAR_PRINTS();
                    CLEAR_HELP();
                    sub_7282();
                    sub_47929();
                    sub_11417( 1 );
                    PRINT_NOW( "T3_CARSTUCK", 7500, 0 );
                    l_U4221 = 14;
                    l_U4233 = 0;
                    l_U3824 = 1;
                }
            }
        }
        sub_159944();
    }
    return;
}

void sub_4260()
{
    int iVar2;

    iVar2 = 0;
    sub_4274( iVar2 );
    sub_5560( iVar2 );
    return;
}

void sub_4274(unknown uParam0)
{
    int iVar3;
    boolean bVar4;
    unknown uVar5;

    sub_4283();
    if (g_U43133)
    {
        return;
    }
    iVar3 = g_U14925[uParam0]._fU0._fU56;
    bVar4 = iVar3 == 6;
    if (g_U819)
    {
        sub_4459();
        sub_4667();
        g_U11063 = 1;
    }
    else if (NOT g_U12382[uParam0]._fU12)
    {
        if (NOT bVar4)
        {
            sub_4792();
            sub_4844();
            g_U11063 = 1;
        }
    }
    sub_4937();
    sub_5076();
    uVar5 = sub_5189( uParam0 );
    sub_5467( uVar5, 0 );
    return;
}

void sub_4283()
{
    g_U43588 = 0;
    g_U43628 = 0;
    MARK_SCRIPT_AS_NO_LONGER_NEEDED( "MissionStatTracker" );
    if ((GET_NUMBER_OF_INSTANCES_OF_STREAMED_SCRIPT( "MissionResultsTimer" )) > 0)
    {
        TERMINATE_ALL_SCRIPTS_WITH_THIS_NAME( "MissionResultsTimer" );
    }
    return;
}

void sub_4459()
{
    if (g_U10972)
    {
        return;
    }
    sub_4486( g_U10971 );
    if (NOT (IS_BIT_SET( g_U10938._fU0, 7 )))
    {
        sub_4607();
    }
    return;
}

void sub_4486(int iParam0)
{
    int iVar3;

    if (g_U0)
    {
        return;
    }
    if (iParam0 == -1)
    {
        return;
    }
    if (g_U10972)
    {
        return;
    }
    iVar3 = g_U22960[iParam0]._fU100;
    iVar3--;
    g_U22960[iParam0]._fU100 = iVar3;
    DECREMENT_INT_STAT( 255, 1 );
    return;
}

void sub_4607()
{
    if (g_U0)
    {
        return;
    }
    if (g_U10972)
    {
        return;
    }
    DECREMENT_INT_STAT( 256, 1 );
    return;
}

void sub_4667()
{
    sub_4676();
    return;
}

void sub_4676()
{
    if (g_U0)
    {
        return;
    }
    if (COMPARE_STRING( ref g_U10966, "" ))
    {
        return;
    }
    PLAYSTATS_MISSION_CANCELLED( ref g_U10966 );
    StrCopy( ref g_U10966, "", 16 );
    return;
}

void sub_4792()
{
    if (g_U0)
    {
        return;
    }
    if (g_U10972)
    {
        return;
    }
    INCREMENT_INT_STAT_NO_MESSAGE( 254, 1 );
    return;
}

void sub_4844()
{
    sub_4853();
    return;
}

void sub_4853()
{
    if (g_U0)
    {
        return;
    }
    if (COMPARE_STRING( ref g_U10966, "" ))
    {
        return;
    }
    PLAYSTATS_MISSION_FAILED( ref g_U10966 );
    StrCopy( ref g_U10966, "", 16 );
    return;
}

void sub_4937()
{
    int J;
    int I;

    J = 0;
    for ( J = 0; J < 11; J++ )
    {
        I = 0;
        for ( I = 0; I < 5; I++ )
        {
            if (g_U12382[J]._fU148[I]._fU36)
            {
                g_U12382[J]._fU28 = 1;
            }
            g_U12382[J]._fU148[I]._fU36 = 0;
        }
    }
    return;
}

void sub_5076()
{
    int iVar2;
    int iVar3;

    iVar2 = 0;
    GET_GAME_TIMER( ref iVar2 );
    iVar3 = iVar2 + sub_5098();
    if (iVar3 > g_U42731._fU4)
    {
        g_U42731._fU4 = iVar3;
        g_U42731._fU8 = iVar2;
    }
    return;
}

int sub_5098()
{
    if (g_U15811[0])
    {
        return 27000;
    }
    return 15000;
}

int sub_5189(unknown uParam0)
{
    switch (uParam0)
    {
        case 0: return 0;
        case 1: return 1;
        case 2: return 2;
        case 3: return 3;
        case 4: return 4;
        case 5: return 5;
        case 6: return 6;
        case 7: return 7;
        case 8: return 9;
    }
    PRINTSTRING( "UNKNOWN STRAND ID: " );
    PRINTINT( uParam0 );
    PRINTNL();
    sub_5420( "Flow_public: Return_Contact_From_Strand(): Unknown strand" );
    return 37;
}

void sub_5420(unknown uParam0)
{
    SCRIPT_ASSERT( uParam0 );
    return;
}

void sub_5467(int iParam0, boolean bParam1)
{
    int iVar4;

    if (NOT (iParam0 < 37))
    {
        return;
    }
    iVar4 = 0;
    GET_GAME_TIMER( ref iVar4 );
    g_U22883[iParam0] = iVar4;
    if (bParam1)
    {
        g_U22883[iParam0] += 30000;
    }
    return;
}

void sub_5560(int iParam0)
{
    int iVar3;
    boolean bVar4;

    sub_5569();
    if (g_U0)
    {
        return;
    }
    if (g_U43133)
    {
        return;
    }
    if (g_U95._fU40 == 0)
    {
        return;
    }
    if (NOT g_U12379)
    {
        return;
    }
    iVar3 = g_U14925[iParam0]._fU0._fU56;
    bVar4 = iVar3 == 6;
    if (bVar4)
    {
        return;
    }
    if (g_U12382[iParam0]._fU12)
    {
        return;
    }
    if (g_U10938._fU4 == -1)
    {
        return;
    }
    if (NOT (g_U10938._fU4 == iParam0))
    {
        return;
    }
    if (NOT sub_6344())
    {
        return;
    }
    if (NOT g_U819)
    {
        sub_6410();
        SET_BIT( ref g_U10938._fU0, 2 );
    }
    return;
}

void sub_5569()
{
    int I;

    for ( I = 0; I <= (g_U575 - 1); I++ )
    {
        if ((g_U575[I]._fU20) AND ((sub_5607( 5, g_U575[I] )) == 1))
        {
            if ((sub_5607( 1, g_U575[I] )) != 0)
            {
                sub_5893( I );
            }
        }
    }
    if (NOT sub_6059())
    {
        SET_MESSAGES_WAITING( 0 );
        g_U95._fU404 = 1000;
    }
    if (g_U95._fU0 == 1016)
    {
        g_U95._fU92 = 1;
    }
    return;
}

int sub_5607(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
    switch (uParam0)
    {
        case 0:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 14, 23 );
        break;
        case 1:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 0, 13 );
        break;
        case 2:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 14, 27 );
        break;
        case 3:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 0, 13 );
        break;
        case 4:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 24, 27 );
        break;
        case 5:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 28, 31 );
        break;
        case 6:
        return uParam1._fU0[2];
        break;
    }
    return -1;
}

void sub_5893(int iParam0)
{
    int I;

    if (iParam0 < (g_U575 - 1))
    {
        for ( I = iParam0 + 1; I <= (g_U575 - 1); I++ )
        {
            g_U575[I - 1] = {g_U575[I]};
        }
    }
    sub_5978( g_U575 - 1 );
    return;
}

void sub_5978(unknown uParam0)
{
    g_U575[uParam0]._fU0[0] = -1;
    g_U575[uParam0]._fU0[1] = -1;
    g_U575[uParam0]._fU0[2] = -1;
    return;
}

int sub_6059()
{
    int I;

    for ( I = 0; I <= (g_U575 - 1); I++ )
    {
        if ((sub_5607( 4, g_U575[I] )) == 0)
        {
            return 1;
        }
    }
    return 0;
}

int sub_6344()
{
    if ((g_U10938._fU8 == 1) AND (g_U10938._fU4 == 0))
    {
        return 0;
    }
    return 1;
}

void sub_6410()
{
    CLEAR_BIT( ref g_U10938._fU0, 2 );
    CLEAR_BIT( ref g_U10938._fU0, 3 );
    CLEAR_BIT( ref g_U10938._fU0, 4 );
    CLEAR_BIT( ref g_U10938._fU0, 5 );
    CLEAR_BIT( ref g_U10938._fU0, 6 );
    CLEAR_BIT( ref g_U10938._fU0, 8 );
    CLEAR_BIT( ref g_U10938._fU0, 9 );
    CLEAR_BIT( ref g_U10938._fU0, 10 );
    g_U10938._fU12 = 0;
    return;
}

void sub_6577()
{
    SET_WANTED_MULTIPLIER( 1.00000000 );
    SET_PED_DENSITY_MULTIPLIER( 1.00000000 );
    SET_CAR_DENSITY_MULTIPLIER( 1.00000000 );
    SET_CREATE_RANDOM_COPS( 1 );
    DISPLAY_RADAR( 1 );
    SET_WIDESCREEN_BORDERS( 0 );
    if (NOT (IS_CHAR_INJURED( sub_6646() )))
    {
        if (l_U4221 == 4)
        {
            CLEAR_CHAR_TASKS_IMMEDIATELY( sub_6646() );
        }
        else
        {
            CLEAR_CHAR_TASKS( sub_6646() );
        }
        SET_PLAYER_CONTROL( sub_6741(), 1 );
        BLOCK_PED_WEAPON_SWITCHING( sub_6646(), 0 );
        SET_PED_IS_BLIND_RAGING( sub_6646(), 0 );
    }
    REMOVE_ANIMS( "FACIALS@M_LO" );
    REMOVE_ANIMS( "MINI_GOLF" );
    REMOVE_ANIMS( "MISSTONY03" );
    REMOVE_ANIMS( "facials@m_lo" );
    sub_6889();
    sub_6935();
    sub_7176();
    sub_7282();
    sub_7873();
    sub_8108();
    sub_8718();
    sub_8886( 0 );
    sub_11417( 1 );
    g_U10935 = 0;
    sub_12640( 1 );
    SET_VISIBILITY_OF_CLOSEST_OBJECT_OF_TYPE( -821.19300000, -34.21250000, 5.19150000, 10.00000000, -1022619662, 0 );
    SET_VISIBILITY_OF_CLOSEST_OBJECT_OF_TYPE( -826.71500000, 5.88290100, 5.19150000, 10.00000000, -1022619662, 0 );
    SET_USES_COLLISION_OF_CLOSEST_OBJECT_OF_TYPE( -821.19300000, -34.21250000, 5.19150000, 10.00000000, -1022619662, 0 );
    SET_USES_COLLISION_OF_CLOSEST_OBJECT_OF_TYPE( -826.71500000, 5.88290100, 5.19150000, 10.00000000, -1022619662, 0 );
    SWITCH_ROADS_BACK_TO_ORIGINAL( -574.65150000, -56.11360000, -10.72940000, -556.45840000, 172.57980000, 50.65630000 );
    SWITCH_ROADS_BACK_TO_ORIGINAL( -124.73870000, -244.20090000, -11.68050000, -61.72770000, -223.41450000, 50.65630000 );
    SET_CAR_GENERATORS_ACTIVE_IN_AREA( -83.36460000, -234.42110000, 0.21050000, -71.07870000, -226.92190000, 20.69030000, 1 );
    SET_CAR_GENERATORS_ACTIVE_IN_AREA( -608.00000000, -100.00000000, 2.00000000, -600.00000000, -94.00000000, 8.00000000, 1 );
    DONT_SUPPRESS_CAR_MODEL( 1147287684 );
    REQUEST_AMBIENT_AUDIO_BANK( "EP2_SFX\GOLF" );
    AMBIENT_AUDIO_BANK_NO_LONGER_NEEDED();
    ENABLE_SCENE_STREAMING( 1 );
    UNREGISTER_SCRIPT_WITH_AUDIO();
    SWITCH_STREAMING( 1 );
    TERMINATE_THIS_SCRIPT();
    return;
}

void sub_6646()
{
    unknown Result;

    GET_PLAYER_CHAR( CONVERT_INT_TO_PLAYERINDEX( GET_PLAYER_ID() ), ref Result );
    return Result;
}

void sub_6741()
{
    return CONVERT_INT_TO_PLAYERINDEX( GET_PLAYER_ID() );
}

void sub_6889()
{
    if (DOES_WIDGET_GROUP_EXIST( l_U4104 ))
    {
        DELETE_WIDGET_GROUP( l_U4104 );
    }
    return;
}

void sub_6935()
{
    if (DOES_CAM_EXIST( l_U4062 ))
    {
        DESTROY_CAM( l_U4062 );
    }
    if (DOES_CAM_EXIST( l_U4063 ))
    {
        DESTROY_CAM( l_U4063 );
    }
    if (DOES_CAM_EXIST( l_U4064 ))
    {
        DESTROY_CAM( l_U4064 );
    }
    if (DOES_CAM_EXIST( l_U4065 ))
    {
        DESTROY_CAM( l_U4065 );
    }
    if (DOES_CAM_EXIST( l_U4070 ))
    {
        DESTROY_CAM( l_U4070 );
    }
    if (DOES_CAM_EXIST( l_U4071[0] ))
    {
        DESTROY_CAM( l_U4071[0] );
    }
    if (DOES_CAM_EXIST( l_U4071[1] ))
    {
        DESTROY_CAM( l_U4071[1] );
    }
    ACTIVATE_SCRIPTED_CAMS( 0, 0 );
    return;
}

void sub_7176()
{
    int I;

    for ( I = 0; I < 50; I++ )
    {
        if (DOES_OBJECT_EXIST( l_U3996[I] ))
        {
            DELETE_OBJECT( ref l_U3996[I] );
        }
    }
    if (DOES_OBJECT_EXIST( l_U4050 ))
    {
        DELETE_OBJECT( ref l_U4050 );
    }
    return;
}

void sub_7282()
{
    int I;

    if (DOES_BLIP_EXIST( l_U3975 ))
    {
        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3975 );
    }
    if (DOES_BLIP_EXIST( l_U3977 ))
    {
        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3977 );
    }
    if (DOES_BLIP_EXIST( l_U3978 ))
    {
        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3978 );
    }
    if (DOES_BLIP_EXIST( l_U3979 ))
    {
        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3979 );
    }
    if (DOES_BLIP_EXIST( l_U3976 ))
    {
        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3976 );
    }
    if (DOES_BLIP_EXIST( l_U3980 ))
    {
        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3980 );
    }
    if (DOES_BLIP_EXIST( l_U3981 ))
    {
        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3981 );
    }
    if (DOES_BLIP_EXIST( l_U3982 ))
    {
        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3982 );
    }
    I = 0;
    for ( I = 0; I < l_U4322; I++ )
    {
        if (DOES_BLIP_EXIST( l_U4322[I]._fU4 ))
        {
            REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U4322[I]._fU4 );
        }
    }
    I = 0;
    for ( I = 0; I < l_U4235; I++ )
    {
        if (DOES_BLIP_EXIST( l_U4235[I]._fU4 ))
        {
            REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U4235[I]._fU4 );
        }
    }
    I = 0;
    for ( I = 0; I < l_U4264; I++ )
    {
        if (DOES_BLIP_EXIST( l_U4264[I]._fU4 ))
        {
            REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U4264[I]._fU4 );
        }
    }
    I = 0;
    for ( I = 0; I < l_U4293; I++ )
    {
        if (DOES_BLIP_EXIST( l_U4293[I]._fU4 ))
        {
            REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U4293[I]._fU4 );
        }
    }
    I = 0;
    for ( I = 0; I < l_U4365; I++ )
    {
        if (DOES_BLIP_EXIST( l_U4365[I]._fU4 ))
        {
            REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U4365[I]._fU4 );
        }
    }
    return;
}

void sub_7873()
{
    int I;

    if (DOES_OBJECT_EXIST( l_U3988 ))
    {
        MARK_OBJECT_AS_NO_LONGER_NEEDED( ref l_U3988 );
    }
    if (DOES_OBJECT_EXIST( l_U3989 ))
    {
        if (IS_OBJECT_ATTACHED( l_U3989 ))
        {
            DETACH_OBJECT( l_U3989, 1 );
        }
        MARK_OBJECT_AS_NO_LONGER_NEEDED( ref l_U3989 );
    }
    I = 0;
    for ( I = 0; I < l_U3991; I++ )
    {
        if (DOES_OBJECT_EXIST( l_U3991[I] ))
        {
            MARK_OBJECT_AS_NO_LONGER_NEEDED( ref l_U3991[I] );
        }
    }
    I = 0;
    for ( I = 0; I < l_U4047; I++ )
    {
        if (DOES_OBJECT_EXIST( l_U4047[I] ))
        {
            MARK_OBJECT_AS_NO_LONGER_NEEDED( ref l_U4047[I] );
        }
    }
    return;
}

void sub_8108()
{
    if (DOES_CHAR_EXIST( l_U3987 ))
    {
        DELETE_CHAR( ref l_U3987 );
    }
    if (DOES_CHAR_EXIST( l_U3983 ))
    {
        MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3983 );
    }
    if (DOES_CHAR_EXIST( l_U3984 ))
    {
        MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3984 );
    }
    if (DOES_CHAR_EXIST( l_U3985 ))
    {
        if (NOT (IS_CHAR_INJURED( l_U3985 )))
        {
            DETACH_PED( l_U3985, 1 );
            SET_CHAR_HEALTH( l_U3985, 0 );
        }
        MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3985 );
    }
    sub_8273();
    return;
}

void sub_8273()
{
    int I;

    I = 0;
    for ( I = 0; I < l_U4322; I++ )
    {
        if (DOES_CHAR_EXIST( l_U4322[I]._fU0 ))
        {
            MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U4322[I]._fU0 );
        }
    }
    I = 0;
    for ( I = 0; I < l_U4235; I++ )
    {
        if (DOES_CHAR_EXIST( l_U4235[I]._fU0 ))
        {
            MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U4235[I]._fU0 );
        }
    }
    I = 0;
    for ( I = 0; I < l_U4264; I++ )
    {
        if (DOES_CHAR_EXIST( l_U4264[I]._fU0 ))
        {
            MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U4264[I]._fU0 );
        }
    }
    I = 0;
    for ( I = 0; I < l_U4293; I++ )
    {
        if (DOES_CHAR_EXIST( l_U4293[I]._fU0 ))
        {
            MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U4293[I]._fU0 );
        }
    }
    I = 0;
    for ( I = 0; I < l_U4365; I++ )
    {
        if (DOES_CHAR_EXIST( l_U4365[I]._fU0 ))
        {
            MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U4365[I]._fU0 );
        }
    }
    I = 0;
    for ( I = 0; I < l_U4450; I++ )
    {
        if (DOES_CHAR_EXIST( l_U4450[I]._fU0 ))
        {
            MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U4365[I]._fU0 );
        }
    }
    return;
}

void sub_8718()
{
    int I;

    if (DOES_VEHICLE_EXIST( l_U4051 ))
    {
        MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U4051 );
    }
    if (DOES_VEHICLE_EXIST( l_U4052 ))
    {
        MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U4052 );
    }
    if (DOES_VEHICLE_EXIST( l_U4053 ))
    {
        MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U4053 );
    }
    I = 0;
    for ( I = 0; I < l_U4054; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U4054[I] ))
        {
            MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U4054[I] );
        }
    }
    return;
}

void sub_8886(boolean bParam0)
{
    l_U52 = 0;
    sub_8901();
    l_U51 = 1;
    sub_9073();
    if (IS_PLAYER_PLAYING( sub_6741() ))
    {
        FORCE_AIR_DRAG_MULT_FOR_PLAYERS_CAR( sub_6741(), 1.00000000 );
        DONT_DISPATCH_COPS_FOR_PLAYER( sub_6741(), 0 );
        SET_CREATE_RANDOM_COPS( 1 );
    }
    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_9243() );
    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_9272() );
    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_9301() );
    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_9330() );
    if ((NOT bParam0) AND (NOT IS_SCREEN_FADED_OUT()))
    {
        sub_9376();
        sub_9811();
        sub_9997();
    }
    else
    {
        sub_10215();
        sub_10806();
    }
    return;
}

void sub_8901()
{
    FLUSH_SCENARIO_BLOCKING_AREAS();
    SET_ALL_CAR_GENERATORS_BACK_TO_ACTIVE();
    sub_8924();
    OVERRIDE_NUMBER_OF_PARKED_CARS( -1 );
    SWITCH_GARBAGE_TRUCKS( 1 );
    ALLOW_EMERGENCY_SERVICES( 1 );
    SET_CAR_DENSITY_MULTIPLIER( 1.00000000 );
    return;
}

void sub_8924()
{
    int I;

    for ( I = 0; I < 15; I++ )
    {
        if (g_U9310[I]._fU60)
        {
            SWITCH_CAR_GENERATOR( g_U9551[I], 0 );
        }
        else
        {
            SWITCH_CAR_GENERATOR( g_U9551[I], 101 );
        }
    }
    return;
}

void sub_9073()
{
    SWITCH_ROADS_BACK_TO_ORIGINAL( l_U2571._fU0, l_U2571._fU4, l_U2571._fU8, l_U2574._fU0, l_U2574._fU4, l_U2574._fU8 );
    SWITCH_ROADS_BACK_TO_ORIGINAL( l_U2565._fU0, l_U2565._fU4, l_U2565._fU8, l_U2568._fU0, l_U2568._fU4, l_U2568._fU8 );
    return;
}

int sub_9243()
{
    return -2139064254;
}

int sub_9272()
{
    return 1264341792;
}

int sub_9301()
{
    return 2046537925;
}

int sub_9330()
{
    return -183203150;
}

void sub_9376()
{
    int I;

    for ( I = 0; I < 150; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U2577[I] ))
        {
            if (NOT (IS_CAR_DEAD( l_U2577[I] )))
            {
                SET_CAR_COLLISION( l_U2577[I], 1 );
            }
            if (IS_VEH_DRIVEABLE( l_U2577[I] ))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U2577[I] ))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U2577[I] );
                }
            }
            sub_9526( l_U2577[I] );
            sub_9687( l_U2577[I] );
        }
        l_U1382[I] = 0;
    }
    for ( I = 0; I < 150; I++ )
    {
        if (NOT (l_U1653[I] == 0))
        {
            MARK_MODEL_AS_NO_LONGER_NEEDED( l_U1653[I] );
        }
    }
    l_U1646 = 0;
    l_U1636 = 0;
    return;
}

void sub_9526(unknown uParam0)
{
    float fVar3;
    int iVar4;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_DRIVER_OF_CAR( uParam0, ref iVar4 );
        if (DOES_CHAR_EXIST( iVar4 ))
        {
            if (NOT (IS_CHAR_INJURED( iVar4 )))
            {
                if (NOT (iVar4 == sub_6646()))
                {
                    GET_CAR_SPEED( uParam0, ref fVar3 );
                    if (fVar3 < 8.00000000)
                    {
                        fVar3 = 8.00000000;
                    }
                    if (fVar3 > 62.90000000)
                    {
                        fVar3 = 62.90000000;
                    }
                    TASK_CAR_MISSION( iVar4, uParam0, 0, 1, fVar3, 0, 5, 5 );
                }
            }
        }
    }
    return;
}

void sub_9687(unknown uParam0)
{
    MARK_CAR_AS_NO_LONGER_NEEDED( ref uParam0 );
    return;
}

void sub_9811()
{
    int I;

    for ( I = 0; I < 50; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U2737[I] ))
        {
            if (NOT (IS_CAR_DEAD( l_U2737[I] )))
            {
                SET_CAR_COLLISION( l_U2737[I], 1 );
            }
            sub_9687( l_U2737[I] );
        }
    }
    for ( I = 0; I < 50; I++ )
    {
        if (NOT (l_U1804[I] == 0))
        {
            MARK_MODEL_AS_NO_LONGER_NEEDED( l_U1804[I] );
        }
    }
    l_U1648 = 0;
    l_U1639 = 0;
    return;
}

void sub_9997()
{
    int I;

    for ( I = 0; I < 25; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U2788[I] ))
        {
            if (IS_VEH_DRIVEABLE( l_U2788[I] ))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U2788[I] ))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U2788[I] );
                }
            }
            sub_9526( l_U2788[I] );
            sub_9687( l_U2788[I] );
        }
        l_U1559[I] = 0;
    }
    for ( I = 0; I < 25; I++ )
    {
        if (NOT (l_U1855[I] == 0))
        {
            MARK_MODEL_AS_NO_LONGER_NEEDED( l_U1855[I] );
        }
    }
    return;
}

void sub_10215()
{
    sub_10224();
    sub_10440();
    sub_10598();
    return;
}

void sub_10224()
{
    int I;

    for ( I = 0; I < 150; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U2577[I] ))
        {
            if (IS_VEH_DRIVEABLE( l_U2577[I] ))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U2577[I] ))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U2577[I] );
                }
            }
            DELETE_CAR( ref l_U2577[I] );
        }
        l_U1382[I] = 0;
    }
    for ( I = 0; I < 150; I++ )
    {
        if (NOT (l_U1653[I] == 0))
        {
            MARK_MODEL_AS_NO_LONGER_NEEDED( l_U1653[I] );
        }
    }
    l_U1646 = 0;
    l_U1636 = 0;
    return;
}

void sub_10440()
{
    int I;

    for ( I = 0; I < 50; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U2737[I] ))
        {
            DELETE_CAR( ref l_U2737[I] );
        }
        l_U1585[I] = 0;
    }
    for ( I = 0; I < 50; I++ )
    {
        if (NOT (l_U1804[I] == 0))
        {
            MARK_MODEL_AS_NO_LONGER_NEEDED( l_U1804[I] );
        }
    }
    l_U1648 = 0;
    l_U1639 = 0;
    return;
}

void sub_10598()
{
    int I;

    for ( I = 0; I < 25; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U2788[I] ))
        {
            if (IS_VEH_DRIVEABLE( l_U2788[I] ))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U2788[I] ))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U2788[I] );
                }
            }
            DELETE_CAR( ref l_U2788[I] );
        }
        l_U1559[I] = 0;
    }
    for ( I = 0; I < 25; I++ )
    {
        if (NOT (l_U1855[I] == 0))
        {
            MARK_MODEL_AS_NO_LONGER_NEEDED( l_U1855[I] );
        }
    }
    return;
}

void sub_10806()
{
    int I;

    for ( I = 0; I < 150; I++ )
    {
        l_U2577[I] = nil;
        l_U1881[I] = {0.00000000, 0.00000000, 0.00000000};
        l_U82[I] = 0.00000000;
        l_U233[I] = 0.00000000;
        l_U384[I] = 0.00000000;
        l_U535[I] = 0.00000000;
        l_U1231[I] = 0;
        l_U686[I] = 0.00000000;
        l_U1382[I] = 0;
        l_U1653[I] = 0;
    }
    for ( I = 0; I < 8; I++ )
    {
        l_U2728[I] = nil;
    }
    l_U1644 = 0;
    l_U1636 = 0;
    l_U1637 = 0;
    for ( I = 0; I < 50; I++ )
    {
        l_U2737[I] = nil;
        l_U2332[I] = {0.00000000, 0.00000000, 0.00000000};
        l_U997[I] = 0.00000000;
        l_U1048[I] = 0.00000000;
        l_U1099[I] = 0.00000000;
        l_U1150[I] = 0.00000000;
        l_U1585[I] = 0;
        l_U1804[I] = 0;
    }
    for ( I = 0; I < 6; I++ )
    {
        l_U2814[I] = nil;
    }
    l_U1643 = 0;
    l_U1639 = 0;
    for ( I = 0; I < 25; I++ )
    {
        l_U2788[I] = nil;
        l_U2483[I] = {0.00000000, 0.00000000, 0.00000000};
        l_U841[I] = 0.00000000;
        l_U867[I] = 0.00000000;
        l_U893[I] = 0.00000000;
        l_U919[I] = 0.00000000;
        l_U1533[I] = 0;
        l_U945[I] = 0.00000000;
        l_U1559[I] = 0;
        l_U1855[I] = 0;
    }
    l_U1638 = 0;
    l_U1646 = 0;
    l_U1650 = 0;
    l_U1651 = 0;
    l_U1652 = 0;
    return;
}

void sub_11417(unknown uParam0)
{
    if (sub_11432( l_U4204 ))
    {
        sub_11473( l_U4211, ref l_U4204, l_U4210, 0 );
        l_U3844 = 1;
    }
    else
    {
        l_U3844 = 0;
    }
    l_U3845 = uParam0;
    if (NOT l_U3844)
    {
        sub_12495( ref l_U4204, uParam0 );
        l_U4118 = 0;
    }
    return;
}

void sub_11432(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    return uParam0._fU12;
}

void sub_11473(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    return sub_11496( uParam0, ref l_U2849._fU0, uParam1, uParam2, uParam3 );
}

int sub_11496(unknown uParam0, unknown uParam1, int iParam2, unknown uParam3, unknown uParam4)
{
    char[16] cVar7;
    char[12] cVar11;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    StrCopy( ref cVar7, uParam1, 16 );
    array(ref cVar11, 2);
    if (iParam2->_fU12)
    {
        StrCopy( ref cVar11[0], uParam0, 16 );
        StrCopy( ref cVar11[1], "END", 16 );
        return sub_11560( ref cVar11, iParam2, uParam3, 1, 0, 0, 0, ref cVar7, uParam4 );
    }
    return 0;
}

int sub_11560(unknown uParam0, int iParam1, unknown uParam2, boolean bParam3, boolean bParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    int I;
    int iVar12;

    iVar12 = 0;
    iParam1->_fU0 = uParam2;
    if (NOT (sub_11582( iParam1 )))
    {
        return 0;
    }
    l_U2849._fU384 = 0;
    iParam1->_fU16 = 0;
    iParam1->_fU20 = uParam5;
    if (bParam3)
    {
        if (iParam1->_fU12)
        {
            iVar12 = iParam1->_fU8;
            iParam1->_fU12 = 0;
        }
    }
    else
    {
        iParam1->_fU12 = 0;
        if (bParam4)
        {
            iVar12 = uParam6;
            iParam1->_fU8 = uParam6;
            iParam1->_fU12 = 0;
        }
        else
        {
            iParam1->_fU8 = 0;
            iParam1->_fU12 = 0;
        }
    }
    iParam1->_fU16 = bParam4;
    for ( I = 0; I <= (g_U8972 - 1); I++ )
    {
        StrCopy( ref g_U8972[I], "END", 16 );
    }
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        g_U8972[I] = {(uParam0^)[I]};
    }
    g_U8966 = {(iParam1^)};
    sub_12274( ref g_U8868, ref l_U2849 );
    StrCopy( ref g_U8868._fU0, uParam7, 16 );
    g_U8868._fU388 = uParam8;
    g_U8867 = 1;
    return 1;
}

int sub_11582(int iParam0)
{
    if (IS_MOBILE_PHONE_CALL_ONGOING())
    {
        sub_11659( "\n !!!!! CANT PLAY SPEECH MOBILE PHONE CALL IS PLAYING" );
        return 0;
    }
    if (IS_THREAD_ACTIVE( g_U561[1] ))
    {
        switch (g_U95._fU0)
        {
            case 1010:
            case 1001:
            case 1000: break;
            default:
            sub_11659( "\n !!!!! CANT PLAY SPEECH CALLING SCRIPT IS STILL ACTIVE" );
            return 0;
            break;
        }
    }
    switch (g_U8867)
    {
        case 4:
        case 1:
        case 2:
        return 0;
        break;
    }
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if (g_U8865 > iParam0->_fU0)
        {
            sub_11659( "\n !!!!! CANT PLAY SPEECH CURRENT SPEECH HAS HIGHER PRIORITY" );
            return 0;
        }
        ABORT_SCRIPTED_CONVERSATION( 0 );
    }
    g_U8865 = iParam0->_fU0;
    g_U8866++;
    if (g_U8866 > 100000)
    {
        g_U8866 = 1;
    }
    iParam0->_fU4 = g_U8866;
    return 1;
}

void sub_11659(unknown uParam0)
{
    return;
}

void sub_12274(int iParam0, int iParam1)
{
    int I;

    iParam0->_fU0 = {iParam1->_fU0};
    for ( I = 0; I <= 8; I++ )
    {
        iParam0->_fU16[I] = {iParam1->_fU16[I]};
        iParam0->_fU344[I] = iParam1->_fU344[I];
    }
    iParam0->_fU384 = iParam1->_fU384;
    iParam0->_fU388 = iParam1->_fU388;
    return;
}

void sub_12495(int iParam0, unknown uParam1)
{
    PRINTSTRING( "\n KILL SPEECH CALLED***************************************" );
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if (iParam0->_fU4 == g_U8866)
        {
            ABORT_SCRIPTED_CONVERSATION( uParam1 );
        }
    }
    return;
}

void sub_12640(unknown uParam0)
{
    SET_VISIBILITY_OF_CLOSEST_OBJECT_OF_TYPE( -275.12160000, -100.73910000, 343.98650000, 500.00000000, -2109704261, uParam0 );
    SET_VISIBILITY_OF_CLOSEST_OBJECT_OF_TYPE( -275.12160000, -100.73910000, 343.98650000, 500.00000000, -197301094, uParam0 );
    SET_VISIBILITY_OF_CLOSEST_OBJECT_OF_TYPE( -275.12160000, -100.73910000, 343.98650000, 500.00000000, 1008661455, uParam0 );
    SET_VISIBILITY_OF_CLOSEST_OBJECT_OF_TYPE( -275.12160000, -100.73910000, 343.98650000, 500.00000000, -1488582569, uParam0 );
    return;
}

void sub_13186()
{
    if (NOT IS_SCREEN_FADED_OUT())
    {
        DO_SCREEN_FADE_OUT( 500 );
        while (NOT IS_SCREEN_FADED_OUT())
        {
            WAIT( 0 );
        }
    }
    CLEAR_AREA( 0.00000000, 0.00000000, 0.00000000, 5000.00000000, 1 );
    FORCE_WEATHER( 1 );
    if (g_U43133)
    {
        g_U43104[2] = 0;
        g_U42930 = 0;
    }
    g_U43137 = 2;
    l_U3741[0] = {-672.95000000, -5.59110000, 3.75010000};
    l_U3741[1] = {-665.39320000, -22.81040000, 3.77560000};
    l_U3741[2] = {-680.94700000, -14.14260000, 3.84720000};
    l_U3931[0] = 172.69200000;
    l_U3931[1] = 358.16950000;
    l_U3931[2] = 175.46510000;
    LOAD_ADDITIONAL_TEXT( "TONY3", 0 );
    LOAD_ADDITIONAL_TEXT( "E2T3AUD", 6 );
    LOAD_COMBAT_DECISION_MAKER( 2, ref l_U4075 );
    LOAD_COMBAT_DECISION_MAKER( 1, ref l_U4078 );
    LOAD_COMBAT_DECISION_MAKER( 3, ref l_U4079 );
    # -sub_C1FFC0-0xc214c8( 2, ref l_U4082 );
    # -sub_C1FFC0-0xc214c8( 3, ref l_U4083 );
    LOAD_COMBAT_DECISION_MAKER( 0, ref l_U4076 );
    LOAD_COMBAT_DECISION_MAKER( 10, ref l_U4080 );
    LOAD_COMBAT_DECISION_MAKER( 9, ref l_U4081 );
    REGISTER_SCRIPT_WITH_AUDIO( 0 );
    while (NOT (REQUEST_AMBIENT_AUDIO_BANK( "EP2_SFX\GOLF" )))
    {
        WAIT( 0 );
    }
    if (IS_PLAYER_PLAYING( sub_6741() ))
    {
        SET_PLAYER_CONTROL( sub_6741(), 1 );
        CLEAR_WANTED_LEVEL( sub_6741() );
    }
    CLEAR_PRINTS();
    SUPPRESS_CAR_MODEL( 1147287684 );
    sub_13686( "E2T3AUD" );
    sub_13813( 0, sub_6646(), "LUIS", 0 );
    return;
}

void sub_13686(unknown uParam0)
{
    StrCopy( ref l_U2849._fU0, uParam0, 16 );
    sub_13705();
    return;
}

void sub_13705()
{
    int I;

    for ( I = 0; I <= 8; I++ )
    {
        l_U2849._fU16[I]._fU0 = nil;
        StrCopy( ref l_U2849._fU16[I]._fU4, "", 32 );
        l_U2849._fU344[I] = 0;
    }
    return;
}

void sub_13813(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    l_U2849._fU16[uParam0]._fU0 = uParam1;
    StrCopy( ref l_U2849._fU16[uParam0]._fU4, uParam2, 32 );
    if (NOT (IS_CHAR_INJURED( uParam1 )))
    {
        BLOCK_CHAR_AMBIENT_ANIMS( uParam1, uParam3 );
    }
    sub_13897( "\n PED NUMBER ", uParam0 );
    sub_13937( " ADDED WITH VOICE ", uParam2 );
    return;
}

void sub_13897(unknown uParam0, unknown uParam1)
{
    return;
}

void sub_13937(unknown uParam0, unknown uParam1)
{
    return;
}

void sub_13970()
{
    l_U4104 = CREATE_WIDGET_GROUP( "Golf Club Ambush Widgets" );
    sub_14049( "Ball pos", ref l_U4111, -20.00000000, 20.00000000, 0.05000000 );
    sub_14049( "Player pos", ref l_U4114, -2.00000000, 2.00000000, 0.05000000 );
    CREATE_WIDGET_GROUP( "Club" );
    sub_14049( "Attach offset", ref l_U3714, -1.00000000, 1.00000000, 0.00100000 );
    sub_14049( "Attach rotation", ref l_U3717, -180.00000000, 180.00000000, 0.00100000 );
    END_WIDGET_GROUP();
    CREATE_WIDGET_GROUP( "Buggy cams" );
    sub_14049( "Victim Cam 1 attach offset", ref l_U3729, -10.00000000, 10.00000000, 0.05000000 );
    sub_14049( "Victim Cam 1 point offset", ref l_U3726, -10.00000000, 10.00000000, 0.05000000 );
    sub_14049( "Victim Cam 2 attach offset", ref l_U3735, -10.00000000, 10.00000000, 0.05000000 );
    sub_14049( "Victim Cam 2 point offset", ref l_U3732, -10.00000000, 10.00000000, 0.05000000 );
    END_WIDGET_GROUP();
    CREATE_WIDGET_GROUP( "Cuffs" );
    sub_14049( "Attach offset", ref l_U3967, -2.00000000, 2.00000000, 0.00100000 );
    sub_14049( "Rotation offset", ref l_U3970, -3.14000000, 3.14000000, 0.00100000 );
    END_WIDGET_GROUP();
    END_WIDGET_GROUP();
    return;
}

void sub_14049(unknown uParam0, int iParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    char[64] cVar7;

    StrCopy( ref cVar7, uParam0, 64 );
    ConcatString(ref cVar7, " x", 64);
    ADD_WIDGET_FLOAT_SLIDER( ref cVar7, iParam1 + 0, uParam2, uParam3, uParam4 );
    StrCopy( ref cVar7, uParam0, 64 );
    ConcatString(ref cVar7, " y", 64);
    ADD_WIDGET_FLOAT_SLIDER( ref cVar7, iParam1 + 4, uParam2, uParam3, uParam4 );
    StrCopy( ref cVar7, uParam0, 64 );
    ConcatString(ref cVar7, " z", 64);
    ADD_WIDGET_FLOAT_SLIDER( ref cVar7, iParam1 + 8, uParam2, uParam3, uParam4 );
    return;
}

void sub_14706()
{
    int iVar2;
    int iVar3;
    int I;
    int iVar5;
    int iVar6;
    int iVar7;
    int iVar8;
    int iVar9;
    vector vVar10;

    iVar2 = 0;
    iVar3 = 0;
    I = 0;
    iVar5 = 0;
    iVar6 = -1;
    switch (g_U43104[2])
    {
        case 0:
        g_U43104[2] = 0;
        l_U4221 = 0;
        break;
        case 1:
        CLEAR_AREA_OF_CHARS( l_U3690._fU0, l_U3690._fU4, l_U3690._fU8, 500.00000000 );
        SET_CREATE_RANDOM_COPS( 0 );
        SET_WANTED_MULTIPLIER( 0.00000000 );
        SET_PED_DENSITY_MULTIPLIER( 0.25000000 );
        GET_PLAYER_GROUP( sub_6741(), ref l_U4074 );
        SET_GROUP_SEPARATION_RANGE( l_U4074, 40.00000000 );
        REQUEST_MODEL( 675415136 );
        REQUEST_MODEL( 1147287684 );
        REQUEST_MODEL( 996477618 );
        REQUEST_MODEL( 576867354 );
        REQUEST_MODEL( 64730935 );
        REQUEST_MODEL( 657888018 );
        REQUEST_ANIMS( "MISSTONY03" );
        REQUEST_ANIMS( "FACIALS@M_LO" );
        sub_15006( 6 );
        sub_15006( 0 );
        while ((NOT (HAVE_ANIMS_LOADED( "FACIALS@M_LO" ))) || ((NOT (sub_15578( 0 ))) || ((NOT (sub_15578( 6 ))) || ((NOT (HAS_MODEL_LOADED( 1147287684 ))) || ((NOT (HAS_MODEL_LOADED( 657888018 ))) || ((NOT (HAS_MODEL_LOADED( 576867354 ))) || ((NOT (HAS_MODEL_LOADED( 996477618 ))) || ((NOT (HAVE_ANIMS_LOADED( "MISSTONY03" ))) || ((NOT (HAS_MODEL_LOADED( 64730935 ))) || (NOT (HAS_MODEL_LOADED( 675415136 ))))))))))))
        {
            WAIT( 0 );
        }
        CLEAR_CHAR_TASKS_IMMEDIATELY( sub_6646() );
        if (NOT (IS_CHAR_IN_ANY_CAR( sub_6646() )))
        {
            SET_CHAR_COORDINATES( sub_6646(), l_U3678._fU0, l_U3678._fU4, l_U3678._fU8 );
        }
        else
        {
            WARP_CHAR_FROM_CAR_TO_COORD( sub_6646(), l_U3678._fU0, l_U3678._fU4, l_U3678._fU8 );
        }
        SET_CHAR_HEADING( sub_6646(), l_U3901 );
        GIVE_WEAPON_TO_CHAR( sub_6646(), 9, 150, 0 );
        sub_15796();
        SET_PED_IS_BLIND_RAGING( sub_6646(), 1 );
        sub_16300( 0, ref l_U3984, l_U3711._fU0, l_U3711._fU4, l_U3711._fU8, l_U3906 );
        SET_CHAR_MAX_HEALTH( l_U3984, 1000 );
        SET_CHAR_HEALTH( l_U3984, 1000 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3984, 1 );
        SET_CHAR_NEVER_TARGETTED( l_U3984, 1 );
        SET_CHAR_WILL_USE_COVER( l_U3984, 1 );
        SET_CHAR_WILL_DO_DRIVEBYS( l_U3984, 1 );
        SET_CHAR_SUFFERS_CRITICAL_HITS( l_U3984, 0 );
        SET_CHAR_DECISION_MAKER( l_U3984, l_U4082 );
        SET_CHAR_ACCURACY( l_U3984, 10 );
        SET_CHAR_RELATIONSHIP( l_U3984, 5, 23 );
        SET_CHAR_RELATIONSHIP_GROUP( l_U3984, 0 );
        SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( l_U3984, 0 );
        SET_COMBAT_DECISION_MAKER( l_U3984, l_U4078 );
        SET_CHAR_FIRE_DAMAGE_MULTIPLIER( l_U3984, 0.10000000 );
        TASK_LOOK_AT_CHAR( l_U3984, sub_6646(), -2, 0 );
        sub_13813( 1, l_U3984, "TONY", 0 );
        GET_CHAR_PROP_INDEX( l_U3984, 1, ref iVar6 );
        if (NOT (iVar6 == iVar5))
        {
            SET_CHAR_PROP_INDEX( l_U3984, 1, iVar5 );
        }
        CREATE_CAR( 1147287684, l_U3784._fU0, l_U3784._fU4, l_U3784._fU8, ref l_U4052, 1 );
        TURN_OFF_VEHICLE_EXTRA( l_U4052, 5, 0 );
        SET_CAR_HEADING( l_U4052, l_U3904 );
        LOCK_CAR_DOORS( l_U4052, 3 );
        SET_CAR_PROOFS( l_U4052, 1, 0, 0, 1, 1 );
        SET_CAN_BURST_CAR_TYRES( l_U4052, 0 );
        SET_CAR_HEALTH( l_U4052, 1150 );
        CREATE_CHAR( 26, 657888018, l_U3690._fU0 + 1.00000000, l_U3690._fU4, l_U3690._fU8, ref l_U3985, 1 );
        SET_CHAR_COMPONENT_VARIATION( l_U3985, 1, 1, 2 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3985, 1 );
        ATTACH_PED_TO_CAR( l_U3985, l_U4052, 0, l_U3696, 0.00000000, 0.00000000, 0, 0 );
        SET_ROTATION_FOR_ATTACHED_PED( l_U3985, l_U3699 );
        TASK_PLAY_ANIM_FACIAL( l_U3985, "Mood_Scared", "FACIALS@M_LO", 4.00000000, 1, 0, -1 );
        SET_PED_DIES_WHEN_INJURED( l_U3985, 0 );
        SET_CHAR_NEVER_TARGETTED( l_U3985, 1 );
        TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U3985, "Vic_Idle", "MISSTONY03", 1000.00000000, 1, 0, 0, 0, 0 );
        sub_13813( 3, l_U3985, "UNION_GUY", 0 );
        SET_CHAR_MAX_HEALTH( l_U3985, 2000 );
        SET_CHAR_HEALTH( l_U3985, 1800 );
        SET_CHAR_SUFFERS_CRITICAL_HITS( l_U3985, 0 );
        sub_16300( 6, ref l_U3983, l_U3784._fU0 + 2.00000000, l_U3784._fU4, l_U3784._fU8, l_U3935 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3983, 1 );
        GIVE_WEAPON_TO_CHAR( l_U3983, 7, 30000, 0 );
        SET_CHAR_MAX_HEALTH( l_U3983, 1000 );
        SET_CHAR_HEALTH( l_U3983, 1000 );
        SET_CHAR_RELATIONSHIP_GROUP( l_U3983, 0 );
        SET_CHAR_RELATIONSHIP( l_U3983, 1, 0 );
        SET_CHAR_RELATIONSHIP( l_U3983, 5, 23 );
        SET_CHAR_NEVER_TARGETTED( l_U3983, 1 );
        SET_CHAR_WILL_USE_COVER( l_U3983, 1 );
        SET_CHAR_WILL_DO_DRIVEBYS( l_U3983, 1 );
        SET_CHAR_SUFFERS_CRITICAL_HITS( l_U3983, 0 );
        SET_CHAR_FIRE_DAMAGE_MULTIPLIER( l_U3983, 0.10000000 );
        UNLOCK_RAGDOLL( l_U3983, 0 );
        sub_18347( l_U3983, l_U4082, l_U4075, l_U3693, 2.00000000 );
        sub_13813( 2, l_U3983, "ROCCO", 0 );
        OPEN_SEQUENCE_TASK( ref l_U4091 );
        TASK_SEEK_COVER_FROM_POS( 0, l_U3693._fU0 + 20.00000000, l_U3693._fU4, l_U3693._fU8, 1000 );
        TASK_COMBAT_HATED_TARGETS_AROUND_CHAR( 0, 300.00000000 );
        CLOSE_SEQUENCE_TASK( l_U4091 );
        TASK_PERFORM_SEQUENCE( l_U3983, l_U4091 );
        CLEAR_SEQUENCE_TASK( l_U4091 );
        CREATE_CAR( 1147287684, l_U3708._fU0, l_U3708._fU4, l_U3708._fU8, ref l_U4053, 1 );
        SET_CAR_HEADING( l_U4053, l_U3930 );
        SET_CAN_BURST_CAR_TYRES( l_U4053, 0 );
        SET_CAR_HEALTH( l_U4053, 1150 );
        CREATE_CAR( 675415136, l_U3738._fU0, l_U3738._fU4, l_U3738._fU8, ref l_U4057[0], 1 );
        CHANGE_CAR_COLOUR( l_U4057[0], 0, 0 );
        TURN_OFF_VEHICLE_EXTRA( l_U4057[0], 1, 1 );
        LOCK_CAR_DOORS( l_U4057[0], 3 );
        CREATE_CAR( 675415136, l_U3738._fU0, l_U3738._fU4, l_U3738._fU8 + 3.00000000, ref l_U4057[1], 1 );
        CHANGE_CAR_COLOUR( l_U4057[1], 0, 0 );
        TURN_OFF_VEHICLE_EXTRA( l_U4057[1], 1, 0 );
        LOCK_CAR_DOORS( l_U4057[1], 3 );
        CREATE_CAR( 675415136, l_U3738._fU0, l_U3738._fU4, l_U3738._fU8 + 6.00000000, ref l_U4057[2], 1 );
        CHANGE_CAR_COLOUR( l_U4057[2], 0, 0 );
        TURN_OFF_VEHICLE_EXTRA( l_U4057[2], 1, 1 );
        LOCK_CAR_DOORS( l_U4057[2], 3 );
        for ( I = 0; I < l_U4365; I++ )
        {
            iVar2 = I / 4;
            if ((IS_VEH_DRIVEABLE( l_U4057[iVar2] )) AND (DOES_VEHICLE_EXIST( l_U4057[iVar2] )))
            {
                iVar3 = I mod 4;
                if (iVar3 == 0)
                {
                    sub_18975( l_U4057[iVar2] );
                    CREATE_CHAR_INSIDE_CAR( l_U4057[iVar2], 26, 64730935, ref l_U4365[I]._fU0 );
                }
                else
                {
                    CREATE_CHAR_AS_PASSENGER( l_U4057[iVar2], 26, 64730935, -1, ref l_U4365[I]._fU0 );
                    if (NOT (IS_CHAR_INJURED( l_U3983 )))
                    {
                        TASK_DRIVE_BY( l_U4365[I]._fU0, l_U3983, 0, 0.00000000, 0.00000000, 0.00000000, 100.00000000, 8, 0, 50 );
                    }
                }
                GENERATE_RANDOM_INT_IN_RANGE( 100, 300, ref iVar7 );
                l_U4365[I]._fU8 = 1;
                l_U4365[I]._fU20 = 0;
                l_U4365[I]._fU24 = (iVar3 * 200) + iVar7;
                SET_CHAR_HEALTH( l_U4365[I]._fU0, 200 );
                GIVE_WEAPON_TO_CHAR( l_U4365[I]._fU0, 12, 30000, 0 );
                SET_CHAR_AS_ENEMY( l_U4365[I]._fU0, 1 );
                SET_CHAR_WILL_DO_DRIVEBYS( l_U4365[I]._fU0, 1 );
                SET_CHAR_RELATIONSHIP_GROUP( l_U4365[I]._fU0, 23 );
                SET_CHAR_RELATIONSHIP( l_U4365[I]._fU0, 1, 23 );
                SET_CHAR_RELATIONSHIP( l_U4365[I]._fU0, 5, 0 );
                SET_CHAR_DECISION_MAKER( l_U4365[I]._fU0, l_U4082 );
                if ((I == 5) || ((I == 1) || ((I == 11) || ((I == 9) || (I == 8)))))
                {
                    SET_COMBAT_DECISION_MAKER( l_U4365[I]._fU0, l_U4079 );
                }
                else if ((I == 4) || (I == 0))
                {
                    SET_COMBAT_DECISION_MAKER( l_U4365[I]._fU0, l_U4075 );
                }
                else
                {
                    SET_COMBAT_DECISION_MAKER( l_U4365[I]._fU0, l_U4081 );
                }
                FORCE_PED_PINNED_DOWN( l_U4365[I]._fU0, 0, 10000 );
                SET_PED_DIES_WHEN_INJURED( l_U4365[I]._fU0, 1 );
                SET_CHAR_ACCURACY( l_U4365[I]._fU0, 0 );
                SET_CHAR_WILL_USE_CARS_IN_COMBAT( l_U4365[I]._fU0, 0 );
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U4365[I]._fU0, 1 );
                SET_INFORM_RESPECTED_FRIENDS( l_U4365[I]._fU0, 100.00000000, 12 );
                SET_CHAR_KEEP_TASK( l_U4365[I]._fU0, 1 );
            }
        }
        REQUEST_CAR_RECORDING( 760 );
        REQUEST_CAR_RECORDING( 761 );
        REQUEST_CAR_RECORDING( 762 );
        while ((NOT (HAS_CAR_RECORDING_BEEN_LOADED( 762 ))) || ((NOT (HAS_CAR_RECORDING_BEEN_LOADED( 761 ))) || (NOT (HAS_CAR_RECORDING_BEEN_LOADED( 760 )))))
        {
            WAIT( 0 );
        }
        sub_19743( 1, 1 );
        if (IS_VEH_DRIVEABLE( l_U4057[0] ))
        {
            sub_20313( ref l_U4057[0], 760, 19500.00000000, 1, 0, 0 );
        }
        if (IS_VEH_DRIVEABLE( l_U4057[1] ))
        {
            sub_20313( ref l_U4057[1], 761, 19500.00000000, 1, 0, 0 );
        }
        if (IS_VEH_DRIVEABLE( l_U4057[2] ))
        {
            sub_20313( ref l_U4057[2], 762, 19500.00000000, 1, 0, 0 );
        }
        CREATE_OBJECT_NO_OFFSET( 576867354, -820.36500000, -30.01710000, 3.84150000, ref l_U3991[0], 1 );
        SET_OBJECT_ROTATION( l_U3991[0], 90.00000000, 0.00000000, 164.00000000 );
        CREATE_OBJECT_NO_OFFSET( 576867354, -822.71500000, 4.33290000, 3.84150000, ref l_U3991[1], 1 );
        SET_OBJECT_ROTATION( l_U3991[1], 90.00000000, 0.00000000, 79.00000000 );
        CREATE_OBJECT_NO_OFFSET( 996477618, -816.87640000, -28.95560000, 3.84500000, ref l_U3991[2], 1 );
        SET_OBJECT_ROTATION( l_U3991[2], 90.00000000, 0.00000000, 137.00000000 );
        CREATE_OBJECT_NO_OFFSET( 996477618, -821.66500000, 0.88290000, 3.84500000, ref l_U3991[3], 1 );
        SET_OBJECT_ROTATION( l_U3991[3], 90.00000000, 0.00000000, 125.00000000 );
        MARK_MODEL_AS_NO_LONGER_NEEDED( 64730935 );
        MARK_MODEL_AS_NO_LONGER_NEEDED( 657888018 );
        MARK_MODEL_AS_NO_LONGER_NEEDED( 1147287684 );
        MARK_MODEL_AS_NO_LONGER_NEEDED( 996477618 );
        MARK_MODEL_AS_NO_LONGER_NEEDED( 576867354 );
        MARK_MODEL_AS_NO_LONGER_NEEDED( 675415136 );
        sub_21059( 6 );
        sub_21059( 0 );
        LOAD_SCENE( l_U3693._fU0, l_U3693._fU4, l_U3693._fU8 );
        SET_CAM_BEHIND_PED( sub_6646() );
        SET_GAME_CAM_HEADING( 0.00000000 );
        SET_PLAYER_CONTROL( sub_6741(), 1 );
        if (NOT IS_SCREEN_FADED_IN())
        {
            DO_SCREEN_FADE_IN( 500 );
            while (NOT IS_SCREEN_FADED_IN())
            {
                WAIT( 0 );
            }
        }
        g_U43104[2] = 1;
        SETTIMERB( 0 );
        if (IS_VEH_DRIVEABLE( l_U4053 ))
        {
            ADD_BLIP_FOR_CAR( l_U4053, ref l_U3980 );
            SET_BLIP_AS_FRIENDLY( l_U3980, 1 );
            sub_21292( l_U3980 );
        }
        if (NOT l_U3809[8])
        {
            PRINT_NOW( "T3_STAIRS", 7500, 0 );
            l_U4119[26] = 1;
            l_U3809[8] = 1;
            l_U3825 = 1;
        }
        GET_GAME_TIMER( ref l_U3870 );
        sub_21404();
        l_U4221 = 6;
        break;
        case 2:
        l_U4535[0]._fU0 = 765;
        l_U4535[0]._fU8 = 15000.00000000;
        l_U4535[1]._fU0 = 763;
        l_U4535[1]._fU8 = 11000.00000000;
        l_U4535[1]._fU40 = {-662.43210000, -247.78770000, 3.92300000};
        l_U4535[2]._fU0 = 764;
        l_U4535[2]._fU8 = 13000.00000000;
        l_U4535[2]._fU40 = {-601.51500000, -347.46610000, 3.92900000};
        CLEAR_AREA( l_U3690._fU0, l_U3690._fU4, l_U3690._fU8, 500.00000000, 1 );
        SET_CREATE_RANDOM_COPS( 0 );
        SET_WANTED_MULTIPLIER( 0.00000000 );
        SET_PED_DENSITY_MULTIPLIER( 0.25000000 );
        GET_PLAYER_GROUP( sub_6741(), ref l_U4074 );
        SET_GROUP_SEPARATION_RANGE( l_U4074, 40.00000000 );
        REQUEST_MODEL( 675415136 );
        REQUEST_MODEL( 1147287684 );
        REQUEST_MODEL( 996477618 );
        REQUEST_MODEL( 576867354 );
        REQUEST_MODEL( 64730935 );
        REQUEST_MODEL( 657888018 );
        REQUEST_ANIMS( "MISSTONY03" );
        REQUEST_ANIMS( "FACIALS@M_LO" );
        sub_15006( 6 );
        sub_15006( 0 );
        REQUEST_CAR_RECORDING( 750 );
        REQUEST_CAR_RECORDING( l_U4535[0]._fU0 );
        REQUEST_CAR_RECORDING( l_U4535[1]._fU0 );
        REQUEST_CAR_RECORDING( l_U4535[2]._fU0 );
        while ((NOT (HAS_CAR_RECORDING_BEEN_LOADED( l_U4535[2]._fU0 ))) || ((NOT (HAS_CAR_RECORDING_BEEN_LOADED( l_U4535[1]._fU0 ))) || ((NOT (HAS_CAR_RECORDING_BEEN_LOADED( l_U4535[0]._fU0 ))) || ((NOT (HAS_CAR_RECORDING_BEEN_LOADED( 750 ))) || ((NOT (HAVE_ANIMS_LOADED( "FACIALS@M_LO" ))) || ((NOT (sub_15578( 0 ))) || ((NOT (sub_15578( 6 ))) || ((NOT (HAS_MODEL_LOADED( 1147287684 ))) || ((NOT (HAS_MODEL_LOADED( 657888018 ))) || ((NOT (HAS_MODEL_LOADED( 576867354 ))) || ((NOT (HAS_MODEL_LOADED( 996477618 ))) || ((NOT (HAVE_ANIMS_LOADED( "MISSTONY03" ))) || ((NOT (HAS_MODEL_LOADED( 64730935 ))) || (NOT (HAS_MODEL_LOADED( 675415136 ))))))))))))))))
        {
            WAIT( 0 );
        }
        CREATE_CAR( 1147287684, l_U3784._fU0, l_U3784._fU4, l_U3784._fU8, ref l_U4052, 1 );
        TURN_OFF_VEHICLE_EXTRA( l_U4052, 5, 0 );
        SET_CAR_HEADING( l_U4052, l_U3904 );
        LOCK_CAR_DOORS( l_U4052, 3 );
        SET_CAR_PROOFS( l_U4052, 1, 0, 0, 1, 1 );
        SET_CAN_BURST_CAR_TYRES( l_U4052, 0 );
        SET_CAR_HEALTH( l_U4052, 1150 );
        CREATE_CAR( 1147287684, l_U3708._fU0, l_U3708._fU4, l_U3708._fU8, ref l_U4053, 1 );
        SET_CAR_HEADING( l_U4053, l_U3930 );
        SET_CAN_BURST_CAR_TYRES( l_U4053, 0 );
        SET_CAR_HEALTH( l_U4053, 1150 );
        sub_25492( 6, ref l_U3983, l_U4052 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3983, 1 );
        SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( l_U3983, 0 );
        GIVE_WEAPON_TO_CHAR( l_U3983, 7, 30000, 0 );
        SET_CHAR_MAX_HEALTH( l_U3983, 1000 );
        SET_CHAR_HEALTH( l_U3983, 1000 );
        SET_CHAR_RELATIONSHIP_GROUP( l_U3983, 0 );
        SET_CHAR_RELATIONSHIP( l_U3983, 1, 0 );
        SET_CHAR_RELATIONSHIP( l_U3983, 5, 23 );
        SET_CHAR_NEVER_TARGETTED( l_U3983, 1 );
        SET_CHAR_WILL_USE_COVER( l_U3983, 1 );
        SET_CHAR_WILL_DO_DRIVEBYS( l_U3983, 1 );
        SET_CHAR_SUFFERS_CRITICAL_HITS( l_U3983, 0 );
        SET_CHAR_FIRE_DAMAGE_MULTIPLIER( l_U3983, 0.10000000 );
        sub_18347( l_U3983, l_U4082, l_U4075, l_U3693, 2.00000000 );
        sub_13813( 2, l_U3983, "ROCCO", 0 );
        CREATE_CHAR( 26, 657888018, l_U3690._fU0 + 1.00000000, l_U3690._fU4, l_U3690._fU8, ref l_U3985, 1 );
        SET_CHAR_COMPONENT_VARIATION( l_U3985, 1, 1, 2 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3985, 1 );
        ATTACH_PED_TO_CAR( l_U3985, l_U4052, 0, l_U3696, 0.00000000, 0.00000000, 0, 0 );
        SET_ROTATION_FOR_ATTACHED_PED( l_U3985, l_U3699 );
        TASK_PLAY_ANIM_FACIAL( l_U3985, "Mood_Scared", "FACIALS@M_LO", 4.00000000, 1, 0, -1 );
        SET_PED_DIES_WHEN_INJURED( l_U3985, 0 );
        SET_CHAR_NEVER_TARGETTED( l_U3985, 1 );
        SET_CHAR_ONLY_DAMAGED_BY_PLAYER( l_U3985, 1 );
        TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U3985, "Vic_Idle", "MISSTONY03", 1000.00000000, 1, 0, 0, 0, 0 );
        sub_13813( 3, l_U3985, "UNION_GUY", 0 );
        SET_CHAR_MAX_HEALTH( l_U3985, 2000 );
        SET_CHAR_HEALTH( l_U3985, 1800 );
        SET_CHAR_SUFFERS_CRITICAL_HITS( l_U3985, 0 );
        WARP_CHAR_INTO_CAR( sub_6646(), l_U4053 );
        GIVE_WEAPON_TO_CHAR( sub_6646(), 9, 150, 0 );
        sub_26161( 0, ref l_U3984, l_U4053, 0 );
        SET_CHAR_MAX_HEALTH( l_U3984, 1000 );
        SET_CHAR_HEALTH( l_U3984, 1000 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3984, 1 );
        SET_CHAR_NEVER_TARGETTED( l_U3984, 1 );
        SET_CHAR_WILL_USE_COVER( l_U3984, 1 );
        SET_CHAR_WILL_DO_DRIVEBYS( l_U3984, 1 );
        SET_CHAR_SUFFERS_CRITICAL_HITS( l_U3984, 0 );
        SET_CHAR_DECISION_MAKER( l_U3984, l_U4082 );
        SET_CHAR_ACCURACY( l_U3984, 10 );
        SET_CHAR_RELATIONSHIP( l_U3984, 5, 23 );
        SET_CHAR_RELATIONSHIP_GROUP( l_U3984, 0 );
        SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( l_U3984, 0 );
        SET_COMBAT_DECISION_MAKER( l_U3984, l_U4075 );
        SET_CHAR_FIRE_DAMAGE_MULTIPLIER( l_U3984, 0.10000000 );
        SET_GROUP_MEMBER( l_U4074, l_U3984 );
        SET_GROUP_SEPARATION_RANGE( l_U4074, 40.00000000 );
        BLOCK_COWERING_IN_COVER( l_U3984, 1 );
        BLOCK_PEEKING_IN_COVER( l_U3984, 1 );
        SET_CHAR_PROVIDE_COVERING_FIRE( l_U3984, 1 );
        SET_CHAR_PROOFS( l_U3984, 0, 0, 0, 0, 0 );
        GIVE_WEAPON_TO_CHAR( l_U3984, 7, 30000, 0 );
        sub_13813( 1, l_U3984, "TONY", 0 );
        GET_CHAR_PROP_INDEX( l_U3984, 1, ref iVar6 );
        if (NOT (iVar6 == iVar5))
        {
            SET_CHAR_PROP_INDEX( l_U3984, 1, iVar5 );
        }
        iVar8 = 0;
        CREATE_CAR( 675415136, l_U3741[1]._fU0, l_U3741[1]._fU4, l_U3741[1]._fU8, ref l_U4057[0], 1 );
        CHANGE_CAR_COLOUR( l_U4057[0], 0, 0 );
        TURN_OFF_VEHICLE_EXTRA( l_U4057[0], 1, 1 );
        LOCK_CAR_DOORS( l_U4057[0], 3 );
        if ((iVar8 < 2) AND (g_U42931[0]))
        {
            iVar8++;
            ADD_EXPLOSION( l_U3741[1]._fU0, l_U3741[1]._fU4, l_U3741[1]._fU8, 0, 0.50000000, 0, 1, 0.00000000 );
        }
        CREATE_CAR( 675415136, l_U3741[2]._fU0, l_U3741[2]._fU4, l_U3741[2]._fU8, ref l_U4057[1], 1 );
        CHANGE_CAR_COLOUR( l_U4057[1], 0, 0 );
        TURN_OFF_VEHICLE_EXTRA( l_U4057[1], 1, 0 );
        LOCK_CAR_DOORS( l_U4057[1], 3 );
        if ((iVar8 < 2) AND (g_U42931[1]))
        {
            iVar8++;
            ADD_EXPLOSION( l_U3741[2]._fU0, l_U3741[2]._fU4, l_U3741[2]._fU8, 0, 0.50000000, 0, 1, 0.00000000 );
        }
        CREATE_CAR( 675415136, l_U3741[0]._fU0, l_U3741[0]._fU4, l_U3741[0]._fU8, ref l_U4057[2], 1 );
        CHANGE_CAR_COLOUR( l_U4057[2], 0, 1 );
        TURN_OFF_VEHICLE_EXTRA( l_U4057[2], 1, 1 );
        LOCK_CAR_DOORS( l_U4057[2], 3 );
        if ((iVar8 < 2) AND (g_U42931[2]))
        {
            iVar8++;
            ADD_EXPLOSION( l_U3741[0]._fU0, l_U3741[0]._fU4, l_U3741[0]._fU8, 0, 0.50000000, 0, 1, 0.00000000 );
        }
        WAIT( 1500 );
        sub_27183( ref l_U4264[0]._fU0, 64730935, -633.08730000, -37.07460000, 3.81250000, 72.37400000, 23, 200, 0, 12 );
        sub_27183( ref l_U4264[1]._fU0, 64730935, -635.08720000, -37.07460000, 3.81250000, 322.01420000, 23, 200, 0, 12 );
        sub_27183( ref l_U4264[2]._fU0, 64730935, -637.08720000, -39.07460000, 3.81250000, 322.31230000, 23, 200, 0, 12 );
        sub_27183( ref l_U4264[3]._fU0, 64730935, -639.08720000, -39.07460000, 3.81250000, 145.57950000, 23, 200, 0, 12 );
        sub_18347( l_U4264[0]._fU0, l_U4082, l_U4079, -645.81810000, -16.78800000, 3.80040000, 3.00000000 );
        sub_18347( l_U4264[1]._fU0, l_U4082, l_U4079, -649.02560000, -27.52590000, 3.79970000, 3.00000000 );
        sub_18347( l_U4264[2]._fU0, l_U4082, l_U4079, -643.00160000, -30.53690000, 3.78600000, 3.00000000 );
        sub_18347( l_U4264[3]._fU0, l_U4082, l_U4079, -653.72470000, -25.49270000, 3.81690000, 3.00000000 );
        OPEN_SEQUENCE_TASK( ref l_U4084 );
        TASK_COMBAT( 0, sub_6646() );
        CLOSE_SEQUENCE_TASK( l_U4084 );
        I = 0;
        for ( I = 0; I < l_U4264; I++ )
        {
            SET_CHAR_ACCURACY( l_U4264[I]._fU0, 20 );
            l_U4264[I]._fU8 = 1;
            sub_27780( l_U4264[I]._fU0, l_U4084 );
        }
        CLEAR_SEQUENCE_TASK( l_U4084 );
        for ( I = 0; I < g_U42930; I++ )
        {
            switch (I)
            {
                case 0:
                vVar10 = {-683.17960000, -12.86050000, 3.83630000};
                iVar9 = 4;
                break;
                case 1:
                vVar10 = {-667.34450000, -23.04710000, 3.79210000};
                iVar9 = 5;
                break;
                case 2:
                vVar10 = {-667.54330000, -21.76070000, 3.75620000};
                iVar9 = 8;
                break;
                case 3:
                vVar10 = {-675.34230000, -3.04840000, 3.66010000};
                iVar9 = 9;
                break;
                case 4:
                vVar10 = {-675.66090000, -4.49450000, 3.69360000};
                iVar9 = 11;
                break;
            }
            sub_27183( ref l_U4365[iVar9]._fU0, 64730935, vVar10, 270.00000000, 23, 200, 0, 12 );
            sub_18347( l_U4365[iVar9]._fU0, l_U4082, l_U4075, vVar10, 5.00000000 );
            SET_CHAR_RELATIONSHIP_GROUP( l_U4365[iVar9]._fU0, 23 );
            SET_CHAR_RELATIONSHIP( l_U4365[iVar9]._fU0, 1, 23 );
            SET_CHAR_RELATIONSHIP( l_U4365[iVar9]._fU0, 5, 0 );
            TASK_COMBAT_HATED_TARGETS_AROUND_CHAR( l_U4365[iVar9]._fU0, 300.00000000 );
            SET_CHAR_ACCURACY( l_U4365[iVar9]._fU0, 10 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U4365[iVar9]._fU0, 1 );
            SET_INFORM_RESPECTED_FRIENDS( l_U4365[iVar9]._fU0, 100.00000000, 12 );
            SET_CHAR_KEEP_TASK( l_U4365[iVar9]._fU0, 1 );
            l_U4365[iVar9]._fU20 = 1;
        }
        CREATE_OBJECT_NO_OFFSET( 576867354, -820.36500000, -30.01710000, 3.84150000, ref l_U3991[0], 1 );
        SET_OBJECT_ROTATION( l_U3991[0], 90.00000000, 0.00000000, 164.00000000 );
        CREATE_OBJECT_NO_OFFSET( 576867354, -822.71500000, 4.33290000, 3.84150000, ref l_U3991[1], 1 );
        SET_OBJECT_ROTATION( l_U3991[1], 90.00000000, 0.00000000, 79.00000000 );
        CREATE_OBJECT_NO_OFFSET( 996477618, -816.87640000, -28.95560000, 3.84500000, ref l_U3991[2], 1 );
        SET_OBJECT_ROTATION( l_U3991[2], 90.00000000, 0.00000000, 137.00000000 );
        CREATE_OBJECT_NO_OFFSET( 996477618, -821.66500000, 0.88290000, 3.84500000, ref l_U3991[3], 1 );
        SET_OBJECT_ROTATION( l_U3991[3], 90.00000000, 0.00000000, 125.00000000 );
        sub_19743( 1, 1 );
        sub_20313( ref l_U4052, 750, 1000.00000000, 1, 0, 0 );
        MARK_MODEL_AS_NO_LONGER_NEEDED( 64730935 );
        MARK_MODEL_AS_NO_LONGER_NEEDED( 657888018 );
        MARK_MODEL_AS_NO_LONGER_NEEDED( 1147287684 );
        MARK_MODEL_AS_NO_LONGER_NEEDED( 996477618 );
        MARK_MODEL_AS_NO_LONGER_NEEDED( 576867354 );
        MARK_MODEL_AS_NO_LONGER_NEEDED( 675415136 );
        sub_21059( 6 );
        sub_21059( 0 );
        LOAD_SCENE( l_U3693._fU0, l_U3693._fU4, l_U3693._fU8 );
        SET_CAM_BEHIND_PED( sub_6646() );
        SET_GAME_CAM_HEADING( 0.00000000 );
        SET_PLAYER_CONTROL( sub_6741(), 1 );
        SET_PED_IS_BLIND_RAGING( sub_6646(), 1 );
        if (NOT IS_SCREEN_FADED_IN())
        {
            DO_SCREEN_FADE_IN( 500 );
            while (NOT IS_SCREEN_FADED_IN())
            {
                WAIT( 0 );
            }
        }
        if (NOT (IS_CHAR_INJURED( l_U3983 )))
        {
            ADD_BLIP_FOR_CHAR( l_U3983, ref l_U3979 );
        }
        SET_BLIP_AS_FRIENDLY( l_U3979, 1 );
        sub_21292( l_U3979 );
        PRINT_NOW( "T3_FOLLOW", 7500, 0 );
        g_U43104[2] = 2;
        sub_21404();
        l_U4221 = 7;
        break;
    }
    return;
}

void sub_15006(unknown uParam0)
{
    REQUEST_MODEL( sub_15017( uParam0 ) );
    return;
}

int sub_15017(unknown uParam0)
{
    switch (uParam0)
    {
        case 0: return -274568867;
        case 1: return 1662225612;
        case 2: return -448171135;
        case 3: return 1370299619;
        case 4: return -773750838;
        case 5: return 243666427;
        case 6: return -913924918;
        case 7: return 1905515841;
        case 9:
        SCRIPT_ASSERT( "Attempt to Return the model for the Reserve Strand 1 Character" );
        return 0;
        case 30: return -1949352469;
        case 31: return -401698464;
        case 32: return -487173849;
        case 33: return -407067034;
        case 13: return 714517099;
        case 14: return 653404222;
        case 15: return 1798610950;
    }
    sub_5420( "Contacts.sch: Get_Model_For_Contact(): Unknown Contact ID. Tell Keith." );
    return 0;
}

void sub_15578(unknown uParam0)
{
    return HAS_MODEL_LOADED( sub_15017( uParam0 ) );
}

void sub_15796()
{
    if (HAS_CHAR_GOT_WEAPON( sub_6646(), 15 ))
    {
        SET_CURRENT_CHAR_WEAPON( sub_6646(), 15, 1 );
    }
    else if (HAS_CHAR_GOT_WEAPON( sub_6646(), 32 ))
    {
        SET_CURRENT_CHAR_WEAPON( sub_6646(), 32, 1 );
    }
    else if (HAS_CHAR_GOT_WEAPON( sub_6646(), 14 ))
    {
        SET_CURRENT_CHAR_WEAPON( sub_6646(), 14, 1 );
    }
    else if (HAS_CHAR_GOT_WEAPON( sub_6646(), 31 ))
    {
        SET_CURRENT_CHAR_WEAPON( sub_6646(), 31, 1 );
    }
    else if (HAS_CHAR_GOT_WEAPON( sub_6646(), 13 ))
    {
        SET_CURRENT_CHAR_WEAPON( sub_6646(), 13, 1 );
    }
    else if (HAS_CHAR_GOT_WEAPON( sub_6646(), 12 ))
    {
        SET_CURRENT_CHAR_WEAPON( sub_6646(), 12, 1 );
    }
    else if (HAS_CHAR_GOT_WEAPON( sub_6646(), 10 ))
    {
        SET_CURRENT_CHAR_WEAPON( sub_6646(), 10, 1 );
    }
    else if (HAS_CHAR_GOT_WEAPON( sub_6646(), 11 ))
    {
        SET_CURRENT_CHAR_WEAPON( sub_6646(), 11, 1 );
    }
    else if (HAS_CHAR_GOT_WEAPON( sub_6646(), 9 ))
    {
        SET_CURRENT_CHAR_WEAPON( sub_6646(), 9, 1 );
    }
    else if (HAS_CHAR_GOT_WEAPON( sub_6646(), 7 ))
    {
        SET_CURRENT_CHAR_WEAPON( sub_6646(), 7, 1 );
    }
    else if (HAS_CHAR_GOT_WEAPON( sub_6646(), 29 ))
    {
        SET_CURRENT_CHAR_WEAPON( sub_6646(), 29, 1 );
    }
    else if (HAS_CHAR_GOT_WEAPON( sub_6646(), 11 ))
    {
        SET_CURRENT_CHAR_WEAPON( sub_6646(), 11, 1 );
    };;;;;;;;;;;;
    return;
}

void sub_16300(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    CREATE_CHAR( sub_16311( uParam0 ), sub_15017( uParam0 ), uParam2, uParam3, uParam4, uParam1, 1 );
    sub_16357( uParam0, (uParam1^) );
    SET_CHAR_HEADING( (uParam1^), uParam5 );
    sub_16391( uParam0, (uParam1^) );
    return;
}

int sub_16311(unknown uParam0)
{
    return 25;
}

void sub_16357(unknown uParam0, unknown uParam1)
{
    return;
}

void sub_16391(unknown uParam0, unknown uParam1)
{
    sub_16403( ref uParam1, uParam0 );
    return;
}

void sub_16403(unknown uParam0, int iParam1)
{
    sub_16414( uParam0 );
    if (iParam1 == 37)
    {
        sub_16516( uParam0, 0, 0, 0, 0, 0, 0, 0, -1, -1 );
    }
    else
    {
        sub_17100( (uParam0^), iParam1, g_U42825[iParam1] );
    }
    return;
}

void sub_16414(unknown uParam0)
{
    SET_CHAR_SUFFERS_CRITICAL_HITS( (uParam0^), 0 );
    SET_CHAR_CANT_BE_DRAGGED_OUT( (uParam0^), 1 );
    SET_CHAR_NEVER_TARGETTED( (uParam0^), 1 );
    SET_CHAR_MAX_TIME_IN_WATER( (uParam0^), 10.00000000 );
    SET_CHAR_MAX_TIME_UNDERWATER( (uParam0^), 10.00000000 );
    return;
}

void sub_16516(unknown uParam0, int iParam1, int iParam2, int iParam3, int iParam4, int iParam5, int iParam6, int iParam7, int iParam8, int iParam9)
{
    int iVar12;
    int iVar13;

    if (NOT (IS_CHAR_DEAD( (uParam0^) )))
    {
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 0 )) == 0)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 0 )) == iParam1)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 0, iParam1, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 1 )) == 0)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 1 )) == iParam2)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 1, iParam2, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 2 )) == 0)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 2 )) == iParam3)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 2, iParam3, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 5 )) == 0)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 5 )) == iParam4)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 5, iParam4, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 4 )) == 0)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 4 )) == iParam5)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 4, iParam5, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 3 )) == 0)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 3 )) == iParam6)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 3, iParam6, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 7 )) == 0)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 7 )) == iParam7)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 7, iParam7, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 8 )) == 0)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 8 )) == 0)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 8, 0, 0 );
        }
        iVar12 = -1;
        GET_CHAR_PROP_INDEX( (uParam0^), 0, ref iVar12 );
        if (NOT (iVar12 == iParam8))
        {
            if (iParam8 == -1)
            {
                CLEAR_CHAR_PROP( (uParam0^), 0 );
            }
            else
            {
                SET_CHAR_PROP_INDEX( (uParam0^), 0, iParam8 );
            }
        }
        iVar13 = -1;
        GET_CHAR_PROP_INDEX( (uParam0^), 1, ref iVar13 );
        if (NOT (iVar13 == iParam9))
        {
            if (iParam9 == -1)
            {
                CLEAR_CHAR_PROP( (uParam0^), 1 );
            }
            else
            {
                SET_CHAR_PROP_INDEX( (uParam0^), 1, iParam9 );
            }
        }
    }
    return;
}

void sub_17100(unknown uParam0, unknown uParam1, int iParam2)
{
    switch (uParam1)
    {
        case 0:
        sub_16516( ref uParam0, 0, 0, 0, 0, 0, 0, 0, -1, 0 );
        return;
        case 1:
        sub_16516( ref uParam0, 0, 1, 0, 0, 0, 0, 0, -1, 0 );
        return;
        case 31:
        sub_16516( ref uParam0, 0, 1, 0, 0, 0, 0, 0, -1, -1 );
        return;
        case 7:
        sub_16516( ref uParam0, 0, 0, 0, 0, 0, 0, 0, -1, 0 );
        return;
    }
    if (NOT (iParam2 == 0))
    {
        SCRIPT_ASSERT( "Set_Contacts_Clothes: A contact without a change of clothes attempting to change clothes" );
    }
    sub_16516( ref uParam0, 0, 0, 0, 0, 0, 0, 0, -1, -1 );
    return;
}

void sub_18347(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
    SET_CHAR_DECISION_MAKER( uParam0, uParam1 );
    SET_COMBAT_DECISION_MAKER( uParam0, uParam2 );
    SET_CHAR_SPHERE_DEFENSIVE_AREA( uParam0, uParam3, uParam6 );
    return;
}

void sub_18975(unknown uParam0)
{
    unknown uVar3;

    GET_DRIVER_OF_CAR( uParam0, ref uVar3 );
    if (DOES_CHAR_EXIST( uVar3 ))
    {
        DELETE_CHAR( ref uVar3 );
    }
    return;
}

void sub_19743(boolean bParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;

    l_U39 = 1;
    l_U49 = 0;
    l_U1636 = 0;
    l_U1637 = 0;
    l_U1638 = 0;
    l_U1639 = 0;
    l_U1640 = 1;
    l_U1641 = 0;
    l_U1642 = 0;
    l_U1643 = 0;
    l_U1644 = 0;
    l_U1645 = -1;
    l_U1646 = 0;
    l_U1647 = 0;
    l_U1648 = 0;
    l_U1649 = 0;
    l_U1211 = 0.00000000;
    l_U52 = 0;
    if (IS_PLAYER_PLAYING( sub_6741() ))
    {
        GET_CHAR_COORDINATES( sub_6646(), ref uVar4._fU0, ref uVar4._fU4, ref uVar4._fU8 );
        l_U2565._fU0 = uVar4._fU0 - 100.00000000;
        l_U2565._fU4 = uVar4._fU4 - 100.00000000;
        l_U2565._fU8 = uVar4._fU8 - 100.00000000;
        l_U2568._fU0 = uVar4._fU0 + 100.00000000;
        l_U2568._fU4 = uVar4._fU4 + 100.00000000;
        l_U2568._fU8 = uVar4._fU8 + 100.00000000;
        SWITCH_ROADS_OFF( l_U2565._fU0, l_U2565._fU4, l_U2565._fU8, l_U2568._fU0, l_U2568._fU4, l_U2568._fU8 );
        if (bParam0)
        {
            CLEAR_AREA_OF_CARS( uVar4._fU0, uVar4._fU4, uVar4._fU8, 500.00000000 );
        }
    }
    sub_20084();
    l_U51 = 0;
    if (IS_PLAYER_PLAYING( sub_6741() ))
    {
        DONT_DISPATCH_COPS_FOR_PLAYER( sub_6741(), 1 );
        SET_CREATE_RANDOM_COPS( 0 );
    }
    sub_10806();
    return;
}

void sub_20084()
{
    ADD_SCENARIO_BLOCKING_AREA( -9999.90000000, -9999.90000000, -9999.90000000, 9999.90000000, 9999.90000000, 9999.90000000 );
    SET_CAR_GENERATORS_ACTIVE_IN_AREA( -9999.90000000, -9999.90000000, -9999.90000000, 9999.90000000, 9999.90000000, 9999.90000000, 0 );
    OVERRIDE_NUMBER_OF_PARKED_CARS( 0 );
    SWITCH_GARBAGE_TRUCKS( 0 );
    ALLOW_EMERGENCY_SERVICES( 0 );
    SET_CAR_DENSITY_MULTIPLIER( 0.00000000 );
    return;
}

int sub_20313(unknown uParam0, int iParam1, unknown uParam2, boolean bParam3, boolean bParam4, unknown uParam5)
{
    unknown uVar8;

    if ((iParam1 < 3000) AND (iParam1 > 0))
    {
        if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( iParam1 )))
        {
            REQUEST_CAR_RECORDING( iParam1 );
        }
        else if (IS_VEH_DRIVEABLE( (uParam0^) ))
        {
            if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( (uParam0^) )))
            {
                FREEZE_CAR_POSITION( (uParam0^), 0 );
                if (bParam4)
                {
                    START_PLAYBACK_RECORDED_CAR_USING_AI( (uParam0^), iParam1 );
                }
                else
                {
                    START_PLAYBACK_RECORDED_CAR( (uParam0^), iParam1 );
                    SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( (uParam0^), uParam2 );
                    return 1;
                }
            }
            else if ((GET_CURRENT_PLAYBACK_NUMBER_FOR_CAR( (uParam0^) )) == iParam1)
            {
                uVar8 = FIND_TIME_POSITION_IN_RECORDING( (uParam0^) );
                SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( (uParam0^), uParam2 - uVar8 );
                if (NOT bParam3)
                {
                    STOP_PLAYBACK_RECORDED_CAR( (uParam0^) );
                    REQUEST_CAR_RECORDING( iParam1 );
                }
                return 1;
            }
            else
            {
                STOP_PLAYBACK_RECORDED_CAR( (uParam0^) );
                FREEZE_CAR_POSITION( (uParam0^), 0 );
                if (bParam4)
                {
                    START_PLAYBACK_RECORDED_CAR_USING_AI( (uParam0^), iParam1 );
                }
                else
                {
                    START_PLAYBACK_RECORDED_CAR( (uParam0^), iParam1 );
                }
                SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( (uParam0^), uParam2 );
                return 1;
            }
        }
    }
    return 0;
}

void sub_21059(unknown uParam0)
{
    if (NOT g_U1)
    {
        return;
    }
    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_15017( uParam0 ) );
    return;
}

void sub_21292(int iParam0)
{
    if (iParam0 == nil)
    {
        return;
    }
    CHANGE_BLIP_DISPLAY( iParam0, 2 );
    return;
}

void sub_21404()
{
    sub_21413();
    if ((GET_NUMBER_OF_INSTANCES_OF_STREAMED_SCRIPT( "MissionResultsTimer" )) > 0)
    {
        TERMINATE_ALL_SCRIPTS_WITH_THIS_NAME( "MissionResultsTimer" );
    }
    g_U43628 = 1;
    g_U43593 = 0;
    g_U43594 = 0;
    g_U43595 = 0;
    g_U43596 = 0;
    REQUEST_SCRIPT( "MissionResultsTimer" );
    if (g_U43137 == 0)
    {
        REQUEST_SCRIPT( "MissionResultHelp" );
        sub_23192();
        sub_23230();
    }
    else
    {
        g_U43626 = 1;
        sub_23192();
        sub_23230();
        if (g_U43137 == 22)
        {
            sub_23333( 0, 0, 0 );
        }
        if (g_U43137 == 17)
        {
            sub_23333( 1, 0, 0 );
        }
        if (g_U43137 == 15)
        {
            sub_23333( 0, 1, 0 );
        }
        if (g_U43137 == 18)
        {
            sub_23333( 0, 0, 1 );
        }
        if (g_U43137 == 16)
        {
            sub_23333( 0, 0, 1 );
        }
    }
    if (g_U43133 == 1)
    {
        if ((g_U43463[g_U43137] == -1) || (g_U43463[g_U43137] == 0))
        {
            PRINTNL();
            PRINTSTRING( "**************************************" );
            PRINTNL();
            PRINTSTRING( "g_FirstPlaythroughOfMission = TRUE" );
            PRINTNL();
            PRINTSTRING( "**************************************" );
            PRINTNL();
            g_U43624 = 1;
        }
        else
        {
            PRINTSTRING( "**************************************" );
            PRINTNL();
            PRINTSTRING( "g_FirstPlaythroughOfMission = FALSE" );
            PRINTNL();
            PRINTSTRING( "**************************************" );
            PRINTNL();
            g_U43624 = 0;
        }
    }
    else
    {
        PRINTSTRING( "**************************************" );
        PRINTNL();
        PRINTSTRING( "g_FirstPlaythroughOfMission = TRUE" );
        PRINTNL();
        PRINTSTRING( "**************************************" );
        PRINTNL();
        g_U43624 = 1;
    }
    g_U43611 = 0;
    g_U43612 = 0;
    g_U43615 = 0;
    g_U43617 = 0;
    g_U43614 = 0;
    g_U43622 = 0;
    g_U43619 = 0;
    g_U43620 = 0;
    g_U43621 = 0;
    g_U43616 = 0;
    g_U43613 = 0;
    g_U43503 = 0;
    g_U43506 = 0;
    g_U43509 = 0;
    g_U43512 = 0;
    g_U43515 = 0;
    g_U43516 = 0;
    g_U43519 = 0;
    g_U43522 = 0;
    g_U43558 = 0;
    g_U43559 = 0;
    l_U3664 = 0;
    g_U43509 = 0;
    g_U43508 = 0;
    g_U43507 = 0;
    g_U43498 = 0;
    PRINTNL();
    PRINTNL();
    PRINTSTRING( "*******************************************************" );
    PRINTSTRING( "g_AreMissionStatsNeeded = TRUE & Requesting MissionStatTracker.sc" );
    PRINTNL();
    PRINTSTRING( "*******************************************************" );
    PRINTNL();
    g_U43588 = 1;
    REQUEST_SCRIPT( "MissionStatTracker" );
    return;
}

void sub_21413()
{
    g_U43138[0]._fU0 = 4;
    g_U43138[0]._fU4 = 30;
    g_U43138[0]._fU8 = 0;
    g_U43138[0]._fU12 = 10;
    g_U43138[1]._fU0 = 5;
    g_U43138[1]._fU4 = 20;
    g_U43138[1]._fU8 = 10;
    g_U43138[1]._fU20 = 70;
    g_U43138[1]._fU16 = 31;
    g_U43138[2]._fU0 = 4;
    g_U43138[2]._fU4 = 0;
    g_U43138[2]._fU8 = 50;
    g_U43138[2]._fU20 = 70;
    g_U43138[2]._fU16 = 11;
    g_U43138[3]._fU0 = 2;
    g_U43138[3]._fU4 = 30;
    g_U43138[3]._fU12 = 0;
    g_U43138[5]._fU0 = 3;
    g_U43138[5]._fU4 = 10;
    g_U43138[5]._fU8 = 40;
    g_U43138[4]._fU0 = 2;
    g_U43138[4]._fU4 = 10;
    g_U43138[4]._fU8 = 0;
    g_U43138[4]._fU44 = 8000;
    g_U43138[6]._fU0 = 5;
    g_U43138[6]._fU4 = 0;
    g_U43138[6]._fU8 = 50;
    g_U43138[7]._fU0 = 5;
    g_U43138[7]._fU4 = 45;
    g_U43138[7]._fU8 = 50;
    g_U43138[7]._fU44 = 35000;
    g_U43138[8]._fU0 = 4;
    g_U43138[8]._fU4 = 35;
    g_U43138[8]._fU8 = 20;
    g_U43138[8]._fU12 = 80;
    g_U43138[9]._fU0 = 8;
    g_U43138[9]._fU4 = 50;
    g_U43138[9]._fU12 = 0;
    g_U43138[10]._fU0 = 3;
    g_U43138[10]._fU4 = 55;
    g_U43138[10]._fU44 = 7000;
    g_U43138[11]._fU0 = 10;
    g_U43138[11]._fU4 = 0;
    g_U43138[11]._fU8 = 50;
    g_U43138[11]._fU20 = 70;
    g_U43138[11]._fU16 = 25;
    g_U43138[12]._fU0 = 5;
    g_U43138[12]._fU4 = 0;
    g_U43138[12]._fU8 = 50;
    g_U43138[12]._fU12 = 60;
    g_U43138[12]._fU20 = 70;
    g_U43138[12]._fU16 = 10;
    g_U43138[12]._fU24 = 70;
    g_U43138[13]._fU0 = 7;
    g_U43138[13]._fU4 = 35;
    g_U43138[13]._fU8 = 0;
    g_U43138[14]._fU0 = 5;
    g_U43138[14]._fU4 = 15;
    g_U43138[14]._fU12 = 20;
    g_U43138[14]._fU24 = 140;
    g_U43138[15]._fU0 = 6;
    g_U43138[15]._fU4 = 0;
    g_U43138[15]._fU8 = 0;
    g_U43138[15]._fU20 = 70;
    g_U43138[15]._fU28 = 4;
    g_U43138[16]._fU0 = 4;
    g_U43138[16]._fU4 = 10;
    g_U43138[16]._fU8 = 50;
    g_U43138[16]._fU20 = 70;
    g_U43138[16]._fU16 = 6;
    g_U43138[16]._fU28 = 4;
    g_U43138[17]._fU0 = 7;
    g_U43138[17]._fU4 = 25;
    g_U43138[17]._fU8 = 50;
    g_U43138[17]._fU28 = 6;
    g_U43138[17]._fU12 = 50;
    g_U43138[18]._fU0 = 4;
    g_U43138[18]._fU4 = 20;
    g_U43138[18]._fU8 = 50;
    g_U43138[18]._fU28 = 8;
    g_U43138[19]._fU0 = 7;
    g_U43138[19]._fU4 = 50;
    g_U43138[19]._fU8 = 40;
    g_U43138[19]._fU16 = 20;
    g_U43138[19]._fU20 = 55;
    g_U43138[20]._fU0 = 5;
    g_U43138[20]._fU4 = 0;
    g_U43138[20]._fU8 = 40;
    g_U43138[20]._fU20 = 55;
    g_U43138[20]._fU16 = 20;
    g_U43138[21]._fU0 = 3;
    g_U43138[21]._fU4 = 10;
    g_U43138[21]._fU8 = 10;
    g_U43138[22]._fU0 = 6;
    g_U43138[22]._fU4 = 30;
    g_U43138[22]._fU8 = 50;
    g_U43138[22]._fU20 = 70;
    g_U43138[22]._fU16 = 20;
    g_U43138[22]._fU28 = 5;
    g_U43138[23]._fU0 = 6;
    g_U43138[23]._fU4 = 40;
    g_U43138[23]._fU8 = 40;
    g_U43138[23]._fU20 = 70;
    g_U43138[23]._fU16 = 20;
    g_U43138[24]._fU0 = 4;
    g_U43138[24]._fU4 = 30;
    g_U43138[24]._fU8 = 40;
    g_U43138[24]._fU20 = 60;
    g_U43138[24]._fU16 = 10;
    g_U43138[25]._fU0 = 4;
    g_U43138[25]._fU4 = 30;
    g_U43138[25]._fU8 = 90;
    g_U43138[25]._fU20 = 70;
    g_U43138[25]._fU16 = 25;
    g_U43138[25]._fU28 = 4;
    return;
}

void sub_23192()
{
    GET_GAME_TIMER( ref g_U43501 );
    g_U43496 = 1;
    return;
}

void sub_23230()
{
    if (NOT (IS_CHAR_DEAD( sub_6646() )))
    {
        GET_CHAR_HEALTH( sub_6646(), ref g_U43520 );
        g_U43520 = 200;
    }
    return;
}

void sub_23333(int iParam0, int iParam1, int iParam2)
{
    if (iParam1 == 1)
    {
        g_U43517 = GET_INT_STAT( 296 );
    }
    else if (iParam2 == 1)
    {
        g_U43517 = GET_INT_STAT( 297 );
    }
    else
    {
        g_U43517 = GET_INT_STAT( 294 );
    }
    if (iParam0 == 1)
    {
        RESET_NO_LAW_VEHICLES_DESTROYED_BY_LOCAL_PLAYER();
    }
    return;
}

void sub_25492(unknown uParam0, unknown uParam1, unknown uParam2)
{
    CREATE_CHAR_INSIDE_CAR( uParam2, sub_16311( uParam0 ), sub_15017( uParam0 ), uParam1 );
    sub_16357( uParam0, (uParam1^) );
    sub_16391( uParam0, (uParam1^) );
    return;
}

void sub_26161(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    CREATE_CHAR_AS_PASSENGER( uParam2, sub_16311( uParam0 ), sub_15017( uParam0 ), uParam3, uParam1 );
    sub_16357( uParam0, (uParam1^) );
    sub_16391( uParam0, (uParam1^) );
    return;
}

void sub_27183(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9)
{
    CREATE_CHAR( 26, uParam1, uParam2._fU0, uParam2._fU4, uParam2._fU8, uParam0, 1 );
    SET_CHAR_HEADING( (uParam0^), uParam5 );
    GIVE_WEAPON_TO_CHAR( (uParam0^), uParam9, 30000, 0 );
    SET_CHAR_MAX_HEALTH( (uParam0^), uParam7 );
    SET_CHAR_HEALTH( (uParam0^), uParam7 );
    ADD_ARMOUR_TO_CHAR( (uParam0^), uParam8 );
    SET_PED_DIES_WHEN_INJURED( (uParam0^), 1 );
    SET_CHAR_RELATIONSHIP_GROUP( (uParam0^), uParam6 );
    SET_CHAR_RELATIONSHIP( (uParam0^), 1, uParam6 );
    SET_CHAR_WILL_USE_COVER( (uParam0^), 1 );
    SET_CHAR_AS_ENEMY( (uParam0^), 1 );
    return;
}

void sub_27780(unknown uParam0, unknown uParam1)
{
    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        CLEAR_CHAR_TASKS( uParam0 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( uParam0, 1 );
        TASK_PERFORM_SEQUENCE( uParam0, uParam1 );
        SET_CHAR_RELATIONSHIP( uParam0, 5, 0 );
    }
    return;
}

void sub_29162()
{
    int iVar2;
    int iVar3;

    GET_CURRENT_WEATHER( ref l_U4098 );
    FORCE_WEATHER_NOW( 1 );
    sub_21404();
    sub_29196( 0 );
    if ((NOT g_U43133) AND (IS_BIT_SET( g_U10938._fU0, 7 )))
    {
        START_CUTSCENE_NOW( "GT03_AA" );
        while (NOT HAS_CUTSCENE_LOADED())
        {
            sub_29196( 0 );
            WAIT( 0 );
        }
        while (NOT HAS_CUTSCENE_FINISHED())
        {
            sub_29196( 0 );
            WAIT( 0 );
        }
        CLEAR_NAMED_CUTSCENE( "GT03_AA" );
    }
    FORCE_WEATHER_NOW( l_U4098 );
    RELEASE_WEATHER();
    CLEAR_AREA( l_U3705._fU0, l_U3705._fU4, l_U3705._fU8, 200.00000000, 1 );
    REQUEST_MODEL( sub_36819( 0 ) );
    while (NOT (HAS_MODEL_LOADED( sub_36819( 0 ) )))
    {
        WAIT( 0 );
    }
    sub_15006( 0 );
    while (NOT (sub_15578( 0 )))
    {
        sub_15006( 0 );
        WAIT( 0 );
    }
    if (NOT (sub_37065( 0, l_U3705, l_U3905, ref l_U4051 )))
    {
        WAIT( 0 );
    }
    if (IS_CHAR_IN_ANY_CAR( sub_6646() ))
    {
        WARP_CHAR_FROM_CAR_TO_CAR( sub_6646(), l_U4051, -1 );
    }
    else
    {
        WARP_CHAR_INTO_CAR( sub_6646(), l_U4051 );
    }
    sub_26161( 0, ref l_U3984, l_U4051, 0 );
    SET_CHAR_MAX_HEALTH( l_U3984, 1000 );
    SET_CHAR_HEALTH( l_U3984, 1000 );
    GET_PLAYER_GROUP( sub_6741(), ref l_U4074 );
    SET_GROUP_SEPARATION_RANGE( l_U4074, 40.00000000 );
    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3984, 1 );
    SET_CHAR_NEVER_TARGETTED( l_U3984, 1 );
    SET_CHAR_WILL_USE_COVER( l_U3984, 1 );
    SET_CHAR_WILL_DO_DRIVEBYS( l_U3984, 1 );
    SET_CHAR_SUFFERS_CRITICAL_HITS( l_U3984, 0 );
    SET_CHAR_DECISION_MAKER( l_U3984, l_U4082 );
    SET_CHAR_ACCURACY( l_U3984, 10 );
    SET_CHAR_RELATIONSHIP( l_U3984, 5, 23 );
    SET_CHAR_RELATIONSHIP_GROUP( l_U3984, 0 );
    SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( l_U3984, 0 );
    SET_COMBAT_DECISION_MAKER( l_U3984, l_U4078 );
    SET_CHAR_FIRE_DAMAGE_MULTIPLIER( l_U3984, 0.10000000 );
    sub_13813( 1, l_U3984, "TONY", 0 );
    sub_21059( 0 );
    iVar2 = 0;
    iVar3 = -1;
    GET_CHAR_PROP_INDEX( l_U3984, 1, ref iVar3 );
    if (NOT (iVar3 == iVar2))
    {
        SET_CHAR_PROP_INDEX( l_U3984, 1, iVar2 );
    }
    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_36819( 0 ) );
    SET_CAM_BEHIND_PED( sub_6646() );
    SET_GAME_CAM_HEADING( 0.00000000 );
    LOAD_SCENE( l_U3705._fU0, l_U3705._fU4, l_U3705._fU8 );
    CLEAR_AREA_OF_CARS( l_U3705._fU0, l_U3705._fU4, l_U3705._fU8, 50.00000000 );
    if (NOT IS_SCREEN_FADED_IN())
    {
        DO_SCREEN_FADE_IN( 500 );
        while (NOT IS_SCREEN_FADED_IN())
        {
            WAIT( 0 );
        }
    }
    SWITCH_ROADS_OFF( -574.65150000, -56.11360000, -10.72940000, -556.45840000, 172.57980000, 50.65630000 );
    SWITCH_ROADS_OFF( -124.73870000, -244.20090000, -11.68050000, -61.72770000, -223.41450000, 50.65630000 );
    CLEAR_AREA_OF_CARS( l_U3675._fU0, l_U3675._fU4, l_U3675._fU8, 50.00000000 );
    SET_CAR_GENERATORS_ACTIVE_IN_AREA( -608.00000000, -100.00000000, 2.00000000, -600.00000000, -94.00000000, 8.00000000, 0 );
    g_U43104[2] = 0;
    if (NOT l_U4119[41])
    {
        sub_39077( "E2T3_WHERE", 41, 6, "E2T3AUD", 0, 0 );
    }
    l_U4221 = 1;
    return;
}

void sub_29196(unknown uParam0)
{
    int iVar3;
    int iVar4;
    int iVar5;

    if (sub_29205() == 0)
    {
        sub_29230();
    }
    if (HAS_SCRIPT_LOADED( "MissionResultsTimer" ))
    {
        if ((GET_NUMBER_OF_INSTANCES_OF_STREAMED_SCRIPT( "MissionResultsTimer" )) == 0)
        {
            START_NEW_SCRIPT( "MissionResultsTimer", 1024 );
            MARK_SCRIPT_AS_NO_LONGER_NEEDED( "MissionResultsTimer" );
        }
    }
    if (sub_31985() <= g_U43138[g_U43137]._fU8)
    {
        g_U43568 = 1;
    }
    else
    {
        g_U43568 = 0;
    }
    if (g_U43600 == 1)
    {
        g_U43612 = sub_32267();
        g_U43600 = 0;
    }
    if (g_U43133 == 1)
    {
        if (g_U43624 == 0)
        {
            if (sub_31985() < g_U43612)
            {
                g_U43575 = 1;
            }
            else
            {
                g_U43575 = 0;
            }
        }
        else
        {
            g_U43575 = 0;
        }
    }
    else
    {
        g_U43575 = 0;
    }
    if (g_U43137 == 22)
    {
        if ((sub_33060( 0, 0, 0 )) >= g_U43138[g_U43137]._fU28)
        {
            g_U43569 = 1;
        }
        else
        {
            g_U43569 = 0;
        }
        if (g_U43605 == 1)
        {
            g_U43617 = sub_33370();
            g_U43605 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if ((sub_33060( 0, 0, 0 )) > g_U43617)
                {
                    g_U43580 = 1;
                }
                else
                {
                    g_U43580 = 0;
                }
            }
            else
            {
                g_U43580 = 0;
            }
        }
        else
        {
            g_U43580 = 0;
        }
    }
    if (g_U43137 == 17)
    {
        if ((sub_33060( 1, 0, 0 )) >= g_U43138[g_U43137]._fU28)
        {
            g_U43569 = 1;
        }
        else
        {
            g_U43569 = 0;
        }
        if (g_U43605 == 1)
        {
            g_U43617 = sub_33370();
            g_U43605 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if ((sub_33060( 1, 0, 0 )) > g_U43617)
                {
                    g_U43580 = 1;
                }
                else
                {
                    g_U43580 = 0;
                }
            }
            else
            {
                g_U43580 = 0;
            }
        }
        else
        {
            g_U43580 = 0;
        }
    }
    if (g_U43137 == 15)
    {
        g_U43519 = uParam0;
        if (g_U43519 >= g_U43138[g_U43137]._fU28)
        {
            g_U43569 = 1;
        }
        else
        {
            g_U43569 = 0;
        }
        if (g_U43605 == 1)
        {
            g_U43617 = sub_33370();
            g_U43605 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if (g_U43519 > g_U43617)
                {
                    g_U43580 = 1;
                }
                else
                {
                    g_U43580 = 0;
                }
            }
            else
            {
                g_U43580 = 0;
            }
        }
        else
        {
            g_U43580 = 0;
        }
    }
    if ((g_U43137 == 16) || (g_U43137 == 18))
    {
        if ((sub_33060( 0, 0, 1 )) >= g_U43138[g_U43137]._fU28)
        {
            g_U43569 = 1;
        }
        else
        {
            g_U43569 = 0;
        }
        if (g_U43605 == 1)
        {
            g_U43617 = sub_33370();
            g_U43605 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if ((sub_33060( 0, 0, 1 )) > g_U43617)
                {
                    g_U43580 = 1;
                }
                else
                {
                    g_U43580 = 0;
                }
            }
            else
            {
                g_U43580 = 0;
            }
        }
        else
        {
            g_U43580 = 0;
        }
    }
    if (g_U43137 == 25)
    {
        g_U43519 = uParam0;
        if (g_U43519 >= g_U43138[g_U43137]._fU28)
        {
            g_U43569 = 1;
        }
        else
        {
            g_U43569 = 0;
        }
        if (g_U43605 == 1)
        {
            g_U43617 = sub_33370();
            g_U43605 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if (g_U43519 > g_U43617)
                {
                    g_U43580 = 1;
                }
                else
                {
                    g_U43580 = 0;
                }
            }
            else
            {
                g_U43580 = 0;
            }
        }
        else
        {
            g_U43580 = 0;
        }
    }
    if (g_U43571 == 1)
    {
        iVar3 = 1;
    }
    else
    {
        iVar3 = 0;
    }
    if (g_U43572 == 1)
    {
        iVar4 = 1;
    }
    else
    {
        iVar4 = 0;
    }
    if (g_U43573 == 1)
    {
        iVar5 = 1;
    }
    else
    {
        iVar5 = 0;
    }
    if (g_U43607 == 1)
    {
        g_U43619 = sub_34842();
        g_U43607 = 0;
    }
    if (g_U43133 == 1)
    {
        if (g_U43624 == 0)
        {
            if (iVar3 > g_U43619)
            {
                g_U43582 = 1;
            }
            else
            {
                g_U43582 = 0;
            }
        }
        else
        {
            g_U43582 = 0;
        }
    }
    else
    {
        g_U43582 = 0;
    }
    if (g_U43608 == 1)
    {
        g_U43620 = sub_35538();
        g_U43608 = 0;
    }
    if (g_U43133 == 1)
    {
        if (g_U43624 == 0)
        {
            if (iVar4 > g_U43620)
            {
                g_U43583 = 1;
            }
            else
            {
                g_U43583 = 0;
            }
        }
        else
        {
            g_U43583 = 0;
        }
    }
    else
    {
        g_U43583 = 0;
    }
    if (g_U43609 == 1)
    {
        g_U43621 = sub_36117();
        g_U43609 = 0;
    }
    if (g_U43133 == 1)
    {
        if (g_U43624 == 0)
        {
            if (iVar5 > g_U43621)
            {
                g_U43584 = 1;
            }
            else
            {
                g_U43584 = 0;
            }
        }
        else
        {
            g_U43584 = 0;
        }
    }
    else
    {
        g_U43584 = 0;
    }
    return;
}

int sub_29205()
{
    return 0;
}

void sub_29230()
{
    if (sub_29244( sub_6646() ))
    {
        if (IS_CONTROL_PRESSED( 2, 77 ))
        {
            if (l_U3674 == 0)
            {
                GET_GAME_TIMER( ref l_U3671 );
                l_U3674 = 1;
            }
            GET_GAME_TIMER( ref l_U3672 );
            l_U3673 = l_U3672 - l_U3671;
            if (l_U3673 < 1000)
            {
                PRINTNL();
                PRINTSTRING( "***************************" );
                PRINTNL();
                PRINTSTRING( "Player is in the back of a taxi - Blocking Mission Time Goal" );
                PRINTNL();
                PRINTSTRING( "***************************" );
                PRINTNL();
                g_U43593 = 1;
            }
        }
    }
    sub_29774();
    if (g_U12379 == 1)
    {
        if ((IS_BIT_SET( g_U10938._fU0, 7 )) == 0)
        {
            if (g_U43133 == 0)
            {
                if (l_U3670 == 0)
                {
                    GET_GAME_TIMER( ref l_U3667 );
                    l_U3670 = 1;
                }
                GET_GAME_TIMER( ref l_U3668 );
                l_U3669 = l_U3668 - l_U3667;
                if (l_U3669 < 1000)
                {
                    g_U43597 = 1;
                    PRINTNL();
                    PRINTSTRING( "***************************" );
                    PRINTNL();
                    PRINTSTRING( "Player has used a trip skip - Blocking Mission Goals" );
                    PRINTNL();
                    PRINTSTRING( "***************************" );
                    PRINTNL();
                }
            }
            else
            {
                g_U43597 = 0;
            }
        }
        else
        {
            g_U43597 = 0;
        }
    }
    return;
}

int sub_29244(int iParam0)
{
    unknown uVar3;
    int iVar4;
    int iVar5;

    if (NOT (IS_CHAR_INJURED( iParam0 )))
    {
        if (IS_CHAR_IN_ANY_CAR( iParam0 ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( iParam0, ref uVar3 );
            if (IS_VEH_DRIVEABLE( uVar3 ))
            {
                if (sub_29308( uVar3 ))
                {
                    GET_MAXIMUM_NUMBER_OF_PASSENGERS( uVar3, ref iVar5 );
                    if (iVar5 == 3)
                    {
                        if (NOT (IS_CAR_PASSENGER_SEAT_FREE( uVar3, 1 )))
                        {
                            GET_CHAR_IN_CAR_PASSENGER_SEAT( uVar3, 1, ref iVar4 );
                            if (iVar4 == iParam0)
                            {
                                return 1;
                            }
                        }
                        if (NOT (IS_CAR_PASSENGER_SEAT_FREE( uVar3, 2 )))
                        {
                            GET_CHAR_IN_CAR_PASSENGER_SEAT( uVar3, 2, ref iVar4 );
                            if (iVar4 == iParam0)
                            {
                                return 1;
                            }
                        }
                    }
                }
            }
        }
    }
    return 0;
}

int sub_29308(int iParam0)
{
    if ((iParam0 == g_U2687) || ((IS_CAR_MODEL( iParam0, 1208856469 )) || ((IS_CAR_MODEL( iParam0, 1884962369 )) || (IS_CAR_MODEL( iParam0, -956048545 )))))
    {
        return 1;
    }
    return 0;
}

void sub_29774()
{
    int iVar2;

    iVar2 = 1000;
    if (CHEAT_HAPPENED_RECENTLY( 0, iVar2 ))
    {
        g_U43595 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used Poor Weapon Cheat - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    if (CHEAT_HAPPENED_RECENTLY( 1, iVar2 ))
    {
        g_U43595 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used Advance Weapon Cheat - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    if (CHEAT_HAPPENED_RECENTLY( 22, iVar2 ))
    {
        g_U43595 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used E2 Weapon Cheat - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    if (CHEAT_HAPPENED_RECENTLY( 30, iVar2 ))
    {
        g_U43595 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used E2 Explosive punch cheat - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    if (CHEAT_HAPPENED_RECENTLY( 7, iVar2 ))
    {
        g_U43595 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used Annihilitor cheat - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    if (CHEAT_HAPPENED_RECENTLY( 27, iVar2 ))
    {
        g_U43595 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used Buzzard cheat - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    if (CHEAT_HAPPENED_RECENTLY( 26, iVar2 ))
    {
        g_U43595 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used APC cheat - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    if (CHEAT_HAPPENED_RECENTLY( 2, iVar2 ))
    {
        g_U43594 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used Health Cheat - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    if (CHEAT_HAPPENED_RECENTLY( 4, iVar2 ))
    {
        g_U43596 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used Wanted Level Reduction - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    return;
}

void sub_31985()
{
    float fVar2;
    unknown uVar3;
    unknown uVar4;

    if (g_U12379 == 1)
    {
        if (NOT (IS_CHAR_DEAD( sub_6646() )))
        {
            GET_CHAR_HEALTH( sub_6646(), ref g_U43521 );
        }
    }
    uVar3 = TO_FLOAT( g_U43521 );
    uVar4 = TO_FLOAT( g_U43520 );
    fVar2 = uVar3 / uVar4;
    fVar2 *= 100;
    fVar2 -= 100;
    if (fVar2 < 0)
    {
        fVar2 *= -1;
    }
    fVar2 *= 2;
    if (fVar2 < 0)
    {
        fVar2 = 0;
    }
    if (fVar2 > 100)
    {
        fVar2 = 100;
    }
    g_U43522 = FLOOR( fVar2 );
    if (g_U43522 < 0)
    {
        g_U43522 = 0;
    }
    return g_U43522;
}

int sub_32267()
{
    if (g_U43137 == 0)
    {
        return GET_INT_STAT( 475 );
    }
    if (g_U43137 == 1)
    {
        return GET_INT_STAT( 479 );
    }
    if (g_U43137 == 2)
    {
        return GET_INT_STAT( 484 );
    }
    if (g_U43137 == 3)
    {
        ;
    }
    if (g_U43137 == 21)
    {
        return GET_INT_STAT( 578 );
    }
    if (g_U43137 == 15)
    {
        return GET_INT_STAT( 544 );
    }
    if (g_U43137 == 16)
    {
        return GET_INT_STAT( 550 );
    }
    if (g_U43137 == 17)
    {
        return GET_INT_STAT( 557 );
    }
    if (g_U43137 == 12)
    {
        return GET_INT_STAT( 525 );
    }
    if (g_U43137 == 13)
    {
        return GET_INT_STAT( 533 );
    }
    if (g_U43137 == 19)
    {
        return GET_INT_STAT( 568 );
    }
    if (g_U43137 == 20)
    {
        return GET_INT_STAT( 573 );
    }
    if (g_U43137 == 5)
    {
        return GET_INT_STAT( 493 );
    }
    if (g_U43137 == 4)
    {
        return GET_INT_STAT( 498 );
    }
    if (g_U43137 == 6)
    {
        return GET_INT_STAT( 502 );
    }
    if (g_U43137 == 7)
    {
        return GET_INT_STAT( 506 );
    }
    if (g_U43137 == 8)
    {
        return GET_INT_STAT( 511 );
    }
    if (g_U43137 == 9)
    {
        ;
    }
    if (g_U43137 == 14)
    {
        ;
    }
    if (g_U43137 == 22)
    {
        return GET_INT_STAT( 583 );
    }
    if (g_U43137 == 23)
    {
        return GET_INT_STAT( 591 );
    }
    if (g_U43137 == 24)
    {
        return GET_INT_STAT( 599 );
    }
    if (g_U43137 == 18)
    {
        return GET_INT_STAT( 563 );
    }
    if (g_U43137 == 10)
    {
        ;
    }
    if (g_U43137 == 25)
    {
        return GET_INT_STAT( 605 );
    }
    if (g_U43137 == 11)
    {
        return GET_INT_STAT( 520 );
    }
    return 0;
}

void sub_33060(int iParam0, int iParam1, int iParam2)
{
    if (iParam1 == 1)
    {
        g_U43518 = GET_INT_STAT( 296 );
        g_U43519 = g_U43518 - g_U43517;
    }
    else if (iParam2 == 1)
    {
        g_U43518 = GET_INT_STAT( 297 );
        g_U43519 = g_U43518 - g_U43517;
    }
    else if (iParam0 == 1)
    {
        if (l_U3666 < GET_NO_LAW_VEHICLES_DESTROYED_BY_LOCAL_PLAYER())
        {
            g_U43519++;
        }
        l_U3666 = GET_NO_LAW_VEHICLES_DESTROYED_BY_LOCAL_PLAYER();
    }
    else
    {
        g_U43518 = GET_INT_STAT( 294 );
        g_U43519 = g_U43518 - g_U43517;
    };;;
    if (g_U43519 < 0)
    {
        g_U43519 = 0;
    }
    return g_U43519;
}

int sub_33370()
{
    if (g_U43137 == 0)
    {
        ;
    }
    if (g_U43137 == 1)
    {
        ;
    }
    if (g_U43137 == 2)
    {
        ;
    }
    if (g_U43137 == 3)
    {
        ;
    }
    if (g_U43137 == 21)
    {
        ;
    }
    if (g_U43137 == 15)
    {
        return GET_INT_STAT( 547 );
    }
    if (g_U43137 == 16)
    {
        return GET_INT_STAT( 553 );
    }
    if (g_U43137 == 17)
    {
        return GET_INT_STAT( 558 );
    }
    if (g_U43137 == 12)
    {
        ;
    }
    if (g_U43137 == 13)
    {
        ;
    }
    if (g_U43137 == 19)
    {
        ;
    }
    if (g_U43137 == 20)
    {
        ;
    }
    if (g_U43137 == 5)
    {
        ;
    }
    if (g_U43137 == 4)
    {
        ;
    }
    if (g_U43137 == 6)
    {
        ;
    }
    if (g_U43137 == 7)
    {
        ;
    }
    if (g_U43137 == 8)
    {
        ;
    }
    if (g_U43137 == 9)
    {
        ;
    }
    if (g_U43137 == 14)
    {
        ;
    }
    if (g_U43137 == 22)
    {
        return GET_INT_STAT( 586 );
    }
    if (g_U43137 == 23)
    {
        ;
    }
    if (g_U43137 == 24)
    {
        ;
    }
    if (g_U43137 == 18)
    {
        return GET_INT_STAT( 565 );
    }
    if (g_U43137 == 10)
    {
        ;
    }
    if (g_U43137 == 25)
    {
        return GET_INT_STAT( 608 );
    }
    if (g_U43137 == 11)
    {
        ;
    }
    return 0;
}

int sub_34842()
{
    if (g_U43137 == 0)
    {
        ;
    }
    if (g_U43137 == 1)
    {
        return GET_INT_STAT( 481 );
    }
    if (g_U43137 == 2)
    {
        return GET_INT_STAT( 487 );
    }
    if (g_U43137 == 3)
    {
        ;
    }
    if (g_U43137 == 21)
    {
        return GET_INT_STAT( 579 );
    }
    if (g_U43137 == 15)
    {
        ;
    }
    if (g_U43137 == 16)
    {
        ;
    }
    if (g_U43137 == 17)
    {
        return GET_INT_STAT( 560 );
    }
    if (g_U43137 == 12)
    {
        return GET_INT_STAT( 529 );
    }
    if (g_U43137 == 13)
    {
        return GET_INT_STAT( 534 );
    }
    if (g_U43137 == 19)
    {
        ;
    }
    if (g_U43137 == 20)
    {
        ;
    }
    if (g_U43137 == 5)
    {
        return GET_INT_STAT( 495 );
    }
    if (g_U43137 == 4)
    {
        ;
    }
    if (g_U43137 == 6)
    {
        return GET_INT_STAT( 503 );
    }
    if (g_U43137 == 7)
    {
        return GET_INT_STAT( 507 );
    }
    if (g_U43137 == 8)
    {
        ;
    }
    if (g_U43137 == 9)
    {
        return GET_INT_STAT( 613 );
    }
    if (g_U43137 == 14)
    {
        return GET_INT_STAT( 541 );
    }
    if (g_U43137 == 22)
    {
        return GET_INT_STAT( 587 );
    }
    if (g_U43137 == 23)
    {
        return GET_INT_STAT( 594 );
    }
    if (g_U43137 == 24)
    {
        return GET_INT_STAT( 602 );
    }
    if (g_U43137 == 18)
    {
        return GET_INT_STAT( 564 );
    }
    if (g_U43137 == 10)
    {
        ;
    }
    if (g_U43137 == 25)
    {
        ;
    }
    if (g_U43137 == 11)
    {
        ;
    }
    return 0;
}

int sub_35538()
{
    if (g_U43137 == 0)
    {
        ;
    }
    if (g_U43137 == 1)
    {
        ;
    }
    if (g_U43137 == 2)
    {
        ;
    }
    if (g_U43137 == 3)
    {
        ;
    }
    if (g_U43137 == 21)
    {
        return GET_INT_STAT( 580 );
    }
    if (g_U43137 == 15)
    {
        ;
    }
    if (g_U43137 == 16)
    {
        ;
    }
    if (g_U43137 == 17)
    {
        ;
    }
    if (g_U43137 == 12)
    {
        ;
    }
    if (g_U43137 == 13)
    {
        return GET_INT_STAT( 535 );
    }
    if (g_U43137 == 19)
    {
        ;
    }
    if (g_U43137 == 20)
    {
        ;
    }
    if (g_U43137 == 5)
    {
        return GET_INT_STAT( 494 );
    }
    if (g_U43137 == 4)
    {
        ;
    }
    if (g_U43137 == 6)
    {
        ;
    }
    if (g_U43137 == 7)
    {
        ;
    }
    if (g_U43137 == 8)
    {
        ;
    }
    if (g_U43137 == 9)
    {
        return GET_INT_STAT( 612 );
    }
    if (g_U43137 == 14)
    {
        ;
    }
    if (g_U43137 == 22)
    {
        return GET_INT_STAT( 588 );
    }
    if (g_U43137 == 23)
    {
        return GET_INT_STAT( 595 );
    }
    if (g_U43137 == 24)
    {
        ;
    }
    if (g_U43137 == 18)
    {
        ;
    }
    if (g_U43137 == 10)
    {
        ;
    }
    if (g_U43137 == 25)
    {
        ;
    }
    if (g_U43137 == 11)
    {
        ;
    }
    return 0;
}

int sub_36117()
{
    if (g_U43137 == 0)
    {
        ;
    }
    if (g_U43137 == 1)
    {
        ;
    }
    if (g_U43137 == 2)
    {
        ;
    }
    if (g_U43137 == 3)
    {
        ;
    }
    if (g_U43137 == 21)
    {
        ;
    }
    if (g_U43137 == 15)
    {
        ;
    }
    if (g_U43137 == 16)
    {
        return GET_INT_STAT( 554 );
    }
    if (g_U43137 == 17)
    {
        ;
    }
    if (g_U43137 == 12)
    {
        ;
    }
    if (g_U43137 == 13)
    {
        ;
    }
    if (g_U43137 == 19)
    {
        ;
    }
    if (g_U43137 == 20)
    {
        ;
    }
    if (g_U43137 == 5)
    {
        ;
    }
    if (g_U43137 == 4)
    {
        ;
    }
    if (g_U43137 == 6)
    {
        ;
    }
    if (g_U43137 == 7)
    {
        ;
    }
    if (g_U43137 == 8)
    {
        ;
    }
    if (g_U43137 == 9)
    {
        ;
    }
    if (g_U43137 == 14)
    {
        ;
    }
    if (g_U43137 == 22)
    {
        ;
    }
    if (g_U43137 == 23)
    {
        return GET_INT_STAT( 596 );
    }
    if (g_U43137 == 24)
    {
        ;
    }
    if (g_U43137 == 18)
    {
        ;
    }
    if (g_U43137 == 10)
    {
        ;
    }
    if (g_U43137 == 25)
    {
        ;
    }
    if (g_U43137 == 11)
    {
        ;
    }
    return 0;
}

int sub_36819(unknown uParam0)
{
    switch (uParam0)
    {
        case 0: return -1255452397;
        case 3: return -789894171;
        case 2: return 1638119866;
        case 1: return -304802106;
    }
    SCRIPT_ASSERT( "Return_Contact_Vehicle_Model: Unknown Contact ID\n" );
    return -1660661558;
}

void sub_37065(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    unknown uVar8;

    uVar8 = sub_36819( uParam0 );
    return sub_37096( uParam5, uVar8, uParam1, uParam4, uParam0 );
}

int sub_37096(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
    SUPPRESS_CAR_MODEL( uParam1 );
    REQUEST_MODEL( uParam1 );
    if (NOT (HAS_MODEL_LOADED( uParam1 )))
    {
        REQUEST_MODEL( uParam1 );
        return 0;
    }
    CLEAR_AREA( uParam2._fU0, uParam2._fU4, uParam2._fU8, 5.00000000, 0 );
    CREATE_CAR( uParam1, uParam2._fU0, uParam2._fU4, uParam2._fU8, uParam0, 1 );
    SET_CAR_HEADING( (uParam0^), uParam5 );
    SET_CAR_ON_GROUND_PROPERLY( (uParam0^) );
    sub_37228( (uParam0^), uParam6 );
    if (g_U1)
    {
        MARK_MODEL_AS_NO_LONGER_NEEDED( uParam1 );
    }
    return 1;
}

void sub_37228(unknown uParam0, int iParam1)
{
    if (iParam1 == 8)
    {
        return;
    }
    switch (iParam1)
    {
        case 0:
        TURN_OFF_VEHICLE_EXTRA( uParam0, 1, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 2, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 3, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 4, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 5, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 6, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 7, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 8, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 9, 1 );
        CHANGE_CAR_COLOUR( uParam0, 0, 0 );
        SET_EXTRA_CAR_COLOURS( uParam0, 1, 0 );
        SET_VEHICLE_DIRT_LEVEL( uParam0, 0.00000000 );
        if (NOT (IS_CHAR_DEAD( sub_6646() )))
        {
            if (NOT (IS_CHAR_IN_ANY_CAR( sub_6646() )))
            {
                PRINTSTRING( "KGM.............Retune TONY car to K109_THE_STUDIO\n" );
                RETUNE_RADIO_TO_STATION_NAME( "K109_THE_STUDIO" );
            }
        }
        break;
        case 3:
        TURN_OFF_VEHICLE_EXTRA( uParam0, 1, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 2, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 3, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 4, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 5, 0 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 6, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 7, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 8, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 9, 1 );
        CHANGE_CAR_COLOUR( uParam0, 0, 0 );
        SET_EXTRA_CAR_COLOURS( uParam0, 0, 0 );
        SET_VEHICLE_DIRT_LEVEL( uParam0, 3.00000000 );
        if (NOT (IS_CHAR_DEAD( sub_6646() )))
        {
            if (NOT (IS_CHAR_IN_ANY_CAR( sub_6646() )))
            {
                PRINTSTRING( "KGM.............Retune DOMINICANS car to SAN_JUAN_SOUNDS\n" );
                RETUNE_RADIO_TO_STATION_NAME( "SAN_JUAN_SOUNDS" );
            }
        }
        break;
        case 2:
        TURN_OFF_VEHICLE_EXTRA( uParam0, 5, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 6, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 7, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 8, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 9, 1 );
        CHANGE_CAR_COLOUR( uParam0, 134, 136 );
        SET_EXTRA_CAR_COLOURS( uParam0, 134, 0 );
        SET_VEHICLE_DIRT_LEVEL( uParam0, 0.00000000 );
        if (NOT (IS_CHAR_DEAD( sub_6646() )))
        {
            if (NOT (IS_CHAR_IN_ANY_CAR( sub_6646() )))
            {
                PRINTSTRING( "KGM.............Retune YUSUF car to BEAT\n" );
                RETUNE_RADIO_TO_STATION_NAME( "BEAT_95" );
            }
        }
        break;
        case 1:
        TURN_OFF_VEHICLE_EXTRA( uParam0, 1, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 2, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 3, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 4, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 5, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 6, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 7, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 8, 1 );
        TURN_OFF_VEHICLE_EXTRA( uParam0, 9, 1 );
        CHANGE_CAR_COLOUR( uParam0, 45, 45 );
        SET_EXTRA_CAR_COLOURS( uParam0, 35, 0 );
        SET_VEHICLE_DIRT_LEVEL( uParam0, 0.00000000 );
        if (NOT (IS_CHAR_DEAD( sub_6646() )))
        {
            if (NOT (IS_CHAR_IN_ANY_CAR( sub_6646() )))
            {
                PRINTSTRING( "KGM.............Retune MORI car to DANCE_ROCK\n" );
                RETUNE_RADIO_TO_STATION_NAME( "DANCE_ROCK" );
            }
        }
        break;
    }
    return;
}

void sub_39077(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, boolean bParam4, boolean bParam5)
{
    unknown uVar8;

    uVar8 = uParam1;
    if (bParam4)
    {
        l_U4119[uVar8] = 0;
    }
    if (NOT l_U4119[uVar8])
    {
        l_U4211 = uParam0;
        l_U4212 = uParam3;
        l_U4118 = uVar8;
        l_U4210 = uParam2;
        if (bParam5)
        {
            sub_11417( 0 );
            sub_39182( l_U4211, ref l_U4204, l_U4210, 1 );
            l_U4119[l_U4118] = 1;
        }
    }
    return;
}

void sub_39182(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    return sub_39205( uParam0, ref l_U2849._fU0, uParam1, uParam2, uParam3 );
}

void sub_39205(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    char[16] cVar7;
    char[12] cVar11;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    StrCopy( ref cVar7, uParam1, 16 );
    array(ref cVar11, 2);
    StrCopy( ref cVar11[0], uParam0, 16 );
    StrCopy( ref cVar11[1], "END", 16 );
    return sub_11560( ref cVar11, uParam2, uParam3, 0, 0, 0, 0, ref cVar7, uParam4 );
}

void sub_39321()
{
    float fVar2;
    int iVar3;

    l_U4202 = 0;
    if (IS_VEH_DRIVEABLE( l_U4051 ))
    {
        if (sub_39481( l_U3675._fU0, l_U3675._fU4, l_U3675._fU8 + 2.50000000, 2.50000000, 2.50000000, 2.50000000, 1, l_U3984, 0, 0, l_U4051, "T3_GOTO_GOLF", "T3_T_LEAVE", "", "", "", "T3_CARB", 0, 1, "T3_LOSECOPS", "T3_CARB" ))
        {
            SET_ROUTE( l_U3975, 0 );
            sub_7282();
            CLEAR_PRINTS();
            CLEAR_HELP();
            SET_PLAYER_CONTROL( sub_6741(), 0 );
            SET_CAR_FORWARD_SPEED( l_U4051, 5.00000000 );
            sub_11417( 1 );
            SETTIMERB( 0 );
            l_U3809[0] = 0;
            l_U4221 = 2;
        }
    }
    if ((IS_VEH_DRIVEABLE( l_U4051 )) AND ((NOT (IS_CHAR_INJURED( sub_6646() ))) AND (NOT (IS_CHAR_INJURED( l_U3984 )))))
    {
        fVar2 = sub_54530( l_U3984, sub_6646(), 1, 0 );
        if (fVar2 > 62500.00000000)
        {
            if (NOT l_U3824)
            {
                CLEAR_PRINTS();
                CLEAR_HELP();
                sub_7282();
                sub_47929();
                sub_11417( 1 );
                PRINT_NOW( "T3_T_LEFT", 7500, 0 );
                l_U4221 = 13;
                l_U4233 = 3;
                l_U3824 = 1;
            }
        }
        if (NOT (IS_WANTED_LEVEL_GREATER( sub_6741(), 0 )))
        {
            if (IS_CHAR_SITTING_IN_CAR( sub_6646(), l_U4051 ))
            {
                if ((NOT l_U3809[7]) || (sub_54868( sub_6646(), l_U3984 )))
                {
                    l_U4202 = 1;
                    BLOCK_CHAR_AMBIENT_ANIMS( sub_6646(), 1 );
                    BLOCK_CHAR_AMBIENT_ANIMS( l_U3984, 1 );
                    if ((NOT (sub_11432( l_U4204 ))) AND ((NOT (sub_55034( l_U4204 ))) AND (NOT (sub_45643( 0 )))))
                    {
                        if (NOT l_U3832)
                        {
                            if (g_U43133)
                            {
                                if (g_U42928 < 100)
                                {
                                    g_U42928 = 100;
                                }
                            }
                            g_U42928++;
                            if (((g_U42928 > 102) AND (g_U43133)) || ((g_U42928 > 2) AND (NOT g_U43133)))
                            {
                                SAY_AMBIENT_SPEECH( l_U3984, "LISTEN_TO_RADIO", 1, 0, 0 );
                            }
                            l_U3832 = 1;
                        }
                        if (((g_U42928 == 101) AND (g_U43133)) || (g_U42928 == 1))
                        {
                            if (g_U15811[16])
                            {
                                iVar3 = 0;
                            }
                            else
                            {
                                iVar3 = 1;
                            }
                        }
                        else if (((g_U42928 == 102) AND (g_U43133)) || (g_U42928 == 2))
                        {
                            iVar3 = 2;
                        }
                        else
                        {
                            iVar3 = 3;
                        }
                        switch (l_U3874)
                        {
                            case 0:
                            if (iVar3 == 0)
                            {
                                sub_39077( "E2T3_B1AV1", 46, 6, "E2T5BAU", 0, 0 );
                            }
                            else if (iVar3 == 1)
                            {
                                sub_39077( "E2T3_B1AV2", 48, 6, "E2T5BAU", 0, 0 );
                            }
                            else if (iVar3 == 2)
                            {
                                sub_39077( "E2T3_B1AV3", 51, 6, "E2T5BAU", 0, 0 );
                            };;;
                            l_U3874++;
                            break;
                            case 1:
                            if (iVar3 == 0)
                            {
                                sub_39077( "E2T3_B1BV1", 47, 6, "E2T5BAU", 0, 0 );
                            }
                            else if (iVar3 == 1)
                            {
                                sub_39077( "E2T3_B1BV2", 49, 6, "E2T5BAU", 0, 0 );
                            }
                            else if (iVar3 == 2)
                            {
                                sub_39077( "E2T3_B1BV3", 52, 6, "E2T5BAU", 0, 0 );
                            };;;
                            l_U3874++;
                            break;
                            case 2:
                            if (iVar3 == 0)
                            {
                                ;
                            }
                            else if (iVar3 == 1)
                            {
                                sub_39077( "E2T3_B1CV2", 50, 6, "E2T5BAU", 0, 0 );
                            }
                            else if (iVar3 == 2)
                            {
                                sub_39077( "E2T3_B1CV3", 53, 6, "E2T5BAU", 0, 0 );
                            };;;
                            l_U3874++;
                            break;
                        }
                    }
                }
            }
        }
    }
    return;
}

int sub_39481(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20)
{
    int iVar23;
    int I;
    unknown uVar25;

    l_U3146[0] = uParam7;
    l_U3146[1] = uParam8;
    l_U3146[2] = uParam9;
    l_U3145 = uParam7;
    sub_39529();
    sub_39863();
    sub_40743();
    if (IS_VEH_DRIVEABLE( uParam10 ))
    {
        if (sub_40941( l_U3146[0], l_U3146[1], l_U3146[2], uParam12, uParam13, uParam14, uParam15, l_U3140, uParam17, uParam10, 0, 0 ))
        {
            if (IS_SCREEN_FADED_IN())
            {
                if (IS_CHAR_IN_CAR( sub_6646(), uParam10 ))
                {
                    l_U3110 = 1;
                    l_U3121 = 1;
                    sub_41489( uParam16 );
                    sub_41489( uParam20 );
                    if ((IS_WANTED_LEVEL_GREATER( sub_6741(), 0 )) AND (uParam18))
                    {
                        if ((DOES_BLIP_EXIST( l_U3132 )) || (DOES_BLIP_EXIST( l_U3137 )))
                        {
                            REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3137 );
                            REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3132 );
                            PRINTSTRING( "IS_PLAYER_AT_LOCATION_WITH_BUDDIES_IN_CAR - remove blip 1" );
                            PRINTNL();
                            sub_41489( uParam11 );
                        }
                        if ((NOT l_U3106) AND ((NOT sub_47049()) AND (NOT (sub_45643( 0 )))))
                        {
                            sub_41369( uParam19, 0 );
                            l_U3150 = uParam19;
                            l_U3106 = 1;
                            l_U3107 = 0;
                            if (NOT (IS_CHAR_INJURED( l_U3146[0] )))
                            {
                                SAY_AMBIENT_SPEECH( l_U3146[0], "CAR_POLICE_PURSUIT", 1, 1, 0 );
                            }
                        }
                    }
                    else if (l_U3106)
                    {
                        sub_41489( uParam19 );
                        l_U3106 = 0;
                        l_U3107 = 1;
                    }
                    if (l_U3107)
                    {
                        if (NOT (sub_45643( 0 )))
                        {
                            if (NOT (IS_CHAR_INJURED( l_U3146[0] )))
                            {
                                SAY_AMBIENT_SPEECH( l_U3146[0], "LOSE_WANTED_LEVEL", 1, 1, 0 );
                            }
                            l_U3107 = 0;
                        }
                    }
                    if (LOCATE_CHAR_IN_CAR_3D( sub_6646(), uParam0, uParam1, uParam2, uParam3, uParam4, uParam5, uParam6 ))
                    {
                        iVar23 = 1;
                        for ( I = 0; I < 3; I++ )
                        {
                            if (DOES_CHAR_EXIST( l_U3146[I] ))
                            {
                                if (NOT (IS_CHAR_IN_CAR( l_U3146[I], uParam10 )))
                                {
                                    iVar23 = 0;
                                }
                            }
                        }
                        if ((sub_47448()) AND (iVar23))
                        {
                            sub_41489( uParam11 );
                            sub_41489( uParam12 );
                            sub_41489( uParam13 );
                            sub_41489( uParam14 );
                            sub_41489( uParam15 );
                            sub_41489( uParam19 );
                            sub_47929();
                            for ( I = 0; I < 3; I++ )
                            {
                                if (NOT (IS_CHAR_INJURED( l_U3146[I] )))
                                {
                                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3146[I], 0 );
                                }
                            }
                            return 1;
                        }
                    }
                    else
                    {
                        iVar23 = 1;
                        for ( I = 0; I < 3; I++ )
                        {
                            if (DOES_CHAR_EXIST( l_U3146[I] ))
                            {
                                if (NOT (IS_CHAR_INJURED( l_U3146[I] )))
                                {
                                    if (NOT (IS_CHAR_SITTING_IN_CAR( l_U3146[I], uParam10 )))
                                    {
                                        iVar23 = 0;
                                    }
                                }
                            }
                        }
                        if (NOT (DOES_BLIP_EXIST( l_U3137 )))
                        {
                            if (DOES_BLIP_EXIST( l_U3132 ))
                            {
                                REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3132 );
                            }
                            PRINTSTRING( "IS_PLAYER_AT_LOCATION_WITH_BUDDIES_IN_CAR - remove blip 2" );
                            PRINTNL();
                            ADD_BLIP_FOR_COORD( uParam0, uParam1, uParam2 - 1.00000000, ref l_U3137 );
                            PRINTSTRING( "IS_PLAYER_AT_LOCATION_WITH_BUDDIES_IN_CAR - add blip 1" );
                            PRINTNL();
                            sub_43476( l_U3137 );
                            if (l_U3125)
                            {
                                SHOW_BLIP_ON_ALTIMETER( l_U3137, 1 );
                            }
                        }
                        if (NOT (sub_45643( 0 )))
                        {
                            if (NOT l_U3108)
                            {
                                sub_41369( uParam11, 0 );
                                l_U3108 = 1;
                            }
                        }
                    }
                }
                else if ((NOT l_U3121) AND ((IS_WANTED_LEVEL_GREATER( sub_6741(), 0 )) AND (uParam18)))
                {
                    sub_41489( uParam16 );
                    sub_41489( uParam20 );
                    if ((DOES_BLIP_EXIST( l_U3132 )) || (DOES_BLIP_EXIST( l_U3137 )))
                    {
                        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3137 );
                        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3132 );
                        PRINTSTRING( "IS_PLAYER_AT_LOCATION_WITH_BUDDIES_IN_CAR - remove blip 3" );
                        PRINTNL();
                        sub_41489( uParam11 );
                    }
                    if ((NOT l_U3106) AND ((NOT sub_47049()) AND (NOT (sub_45643( 0 )))))
                    {
                        sub_41369( uParam19, 0 );
                        l_U3150 = uParam19;
                        l_U3106 = 1;
                        l_U3107 = 0;
                        if (NOT (IS_CHAR_INJURED( l_U3146[0] )))
                        {
                            SAY_AMBIENT_SPEECH( l_U3146[0], "CAR_POLICE_PURSUIT", 1, 1, 0 );
                        }
                    }
                }
                else if (l_U3106)
                {
                    sub_41489( uParam19 );
                    l_U3106 = 0;
                    l_U3107 = 1;
                }
                if (l_U3107)
                {
                    if (NOT (sub_45643( 0 )))
                    {
                        if (NOT (IS_CHAR_INJURED( l_U3146[0] )))
                        {
                            SAY_AMBIENT_SPEECH( l_U3146[0], "LOSE_WANTED_LEVEL", 1, 1, 0 );
                        }
                        l_U3107 = 0;
                    }
                }
                if (NOT (DOES_BLIP_EXIST( l_U3132 )))
                {
                    if (DOES_BLIP_EXIST( l_U3137 ))
                    {
                        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3137 );
                        sub_41489( uParam11 );
                    }
                    ADD_BLIP_FOR_CAR( uParam10, ref l_U3132 );
                    CHANGE_BLIP_DISPLAY( l_U3132, 2 );
                    PRINTSTRING( "IS_PLAYER_AT_LOCATION_WITH_BUDDIES_IN_CAR - add blip 2" );
                    PRINTNL();
                    SET_BLIP_AS_FRIENDLY( l_U3132, 1 );
                    if (NOT l_U3111)
                    {
                        sub_43476( l_U3132 );
                    }
                }
                if (NOT (sub_45643( 0 )))
                {
                    if (NOT l_U3110)
                    {
                        sub_41369( uParam16, 0 );
                        l_U3110 = 1;
                    }
                    else if (l_U3121)
                    {
                        if (NOT (IS_STRING_NULL( uParam20 )))
                        {
                            if (NOT l_U3111)
                            {
                                sub_41369( uParam20, 0 );
                                l_U3111 = 1;
                            }
                        }
                        else if (NOT l_U3111)
                        {
                            sub_41369( uParam16, 0 );
                            l_U3111 = 1;
                        }
                    }
                };;;
            }
        }
        else if (l_U3106)
        {
            l_U3106 = 0;
        }
        if (DOES_BLIP_EXIST( l_U3137 ))
        {
            REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3137 );
            sub_41489( uParam11 );
        }
        if (DOES_BLIP_EXIST( l_U3132 ))
        {
            REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3132 );
            PRINTSTRING( "IS_PLAYER_AT_LOCATION_WITH_BUDDIES_IN_CAR - remove blip 3" );
            PRINTNL();
            sub_41489( uParam16 );
        }
    }
    else
    {
        SCRIPT_ASSERT( "IS_PLAYER_AT_LOCATION_WITH_BUDDIES_IN_CAR - check vehicle is alive before calling this." );
        return 0;
    }
    sub_49855( uParam0, uParam1, uParam2, 0, uParam10 );
    sub_54012( uParam0, uParam1, uParam2 );
    l_U3123 = 0;
    l_U3124 = 0;
    l_U3125 = 0;
    return 0;
}

void sub_39529()
{
    int I;

    for ( I = 0; I < l_U3146; I++ )
    {
        if (DOES_CHAR_EXIST( l_U3146[I] ))
        {
            if (NOT (IS_CHAR_INJURED( l_U3146[I] )))
            {
                if ((sub_39689()) AND ((sub_39622( l_U3146[I] )) AND (IS_CHAR_SITTING_IN_ANY_CAR( l_U3146[I] ))))
                {
                    BLOCK_CHAR_AMBIENT_ANIMS( l_U3146[I], 1 );
                }
            }
        }
    }
    if (IS_PLAYER_PLAYING( sub_6741() ))
    {
        if (NOT (IS_CHAR_INJURED( sub_6646() )))
        {
            if ((sub_39689()) AND ((sub_39622( sub_6646() )) AND (IS_CHAR_SITTING_IN_ANY_CAR( sub_6646() ))))
            {
                BLOCK_CHAR_AMBIENT_ANIMS( sub_6646(), 1 );
            }
        }
    }
    return;
}

int sub_39622(int iParam0)
{
    int I;

    for ( I = 0; I < 9; I++ )
    {
        if (l_U2849._fU16[I]._fU0 == iParam0)
        {
            return 1;
        }
    }
    return 0;
}

int sub_39689()
{
    if ((g_U8867 == 2) || ((g_U8867 == 1) || (IS_SCRIPTED_CONVERSATION_ONGOING())))
    {
        return 1;
    }
    return 0;
}

void sub_39863()
{
    if (NOT l_U3119)
    {
        l_U3154 = CREATE_WIDGET_GROUP( "Locates Header" );
        ADD_WIDGET_TOGGLE( "bPrintedLoseWantedLevel", ref l_U3106 );
        ADD_WIDGET_TOGGLE( "bPlayLostCopsSpeech", ref l_U3107 );
        ADD_WIDGET_TOGGLE( "bInitialGodTextPrinted", ref l_U3108 );
        ADD_WIDGET_TOGGLE( "bPrintedGetACar", ref l_U3109 );
        ADD_WIDGET_TOGGLE( "bPrintedGetBackInCar", ref l_U3111 );
        ADD_WIDGET_TOGGLE( "bPrintedGetInCar", ref l_U3110 );
        ADD_WIDGET_TOGGLE( "bPrintedPickupAllBuddysText", ref l_U3112 );
        ADD_WIDGET_TOGGLE( "bPrintedPickupBuddyText[0]", ref l_U3113[0] );
        ADD_WIDGET_TOGGLE( "bPrintedPickupBuddyText[1]", ref l_U3113[1] );
        ADD_WIDGET_TOGGLE( "bPrintedPickupBuddyText[2]", ref l_U3113[2] );
        ADD_WIDGET_TOGGLE( "bUseSpecificJSkipCoords", ref l_U3117 );
        ADD_WIDGET_TOGGLE( "bDontDoSafeForCutsceneCheck", ref l_U3118 );
        ADD_WIDGET_FLOAT_SLIDER( "fClearCarDistance", ref l_U3139, 0.00000000, 100.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "fBuddyJoinDistance", ref l_U3140, 0.00000000, 100.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "fSkipHeading", ref l_U3141, 0.00000000, 360.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "vSkipCoords.x", ref l_U3151._fU0, -9999.00000000, 9999.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "vSkipCoords.y", ref l_U3151._fU4, -9999.00000000, 9999.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "vSkipCoords.z", ref l_U3151._fU8, -9999.00000000, 9999.00000000, 0.10000000 );
        ADD_WIDGET_TOGGLE( "bToldPlayerToFindCarWithMoreSeats", ref l_U3120 );
        ADD_WIDGET_TOGGLE( "bHasBeenInCar", ref l_U3121 );
        END_WIDGET_GROUP();
        l_U3119 = 1;
    }
    return;
}

void sub_40743()
{
    int I;

    if (IS_PLAYER_PLAYING( sub_6741() ))
    {
        SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( sub_6646(), 0 );
    }
    for ( I = 0; I < l_U3146; I++ )
    {
        if (DOES_CHAR_EXIST( l_U3146[I] ))
        {
            if (NOT (IS_CHAR_INJURED( l_U3146[I] )))
            {
                SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( l_U3146[I], 0 );
            }
        }
    }
    return;
}

int sub_40941(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, boolean bParam8, int iParam9, unknown uParam10, unknown uParam11)
{
    int I;
    int iVar15;
    int iVar16;
    int iVar17;
    int iVar18;
    int iVar19;
    int[3] iVar20;
    boolean bVar24;
    boolean bVar25;
    int iVar26;
    int iVar27;
    unknown[3] uVar28;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;

    array(ref iVar20, 3);
    l_U3146[0] = uParam0;
    l_U3146[1] = uParam1;
    l_U3146[2] = uParam2;
    l_U3145 = uParam0;
    array(ref uVar28, 3);
    uVar28[0] = uParam3;
    uVar28[1] = uParam4;
    uVar28[2] = uParam5;
    iVar18 = 1;
    iVar15 = 0;
    iVar16 = 0;
    iVar20[0] = 0;
    iVar20[1] = 0;
    iVar20[2] = 0;
    for ( I = 0; I < 3; I++ )
    {
        if (NOT (IS_CHAR_INJURED( l_U3146[I] )))
        {
            iVar16++;
        }
    }
    if ((NOT (DOES_VEHICLE_EXIST( iParam9 ))) AND ((IS_CHAR_SITTING_IN_ANY_CAR( sub_6646() )) AND (NOT sub_41112())))
    {
        STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_6646(), ref iVar26 );
        if (IS_VEH_DRIVEABLE( iVar26 ))
        {
            if (NOT l_U3126)
            {
                sub_41369( "MORE_SEATS", 0 );
                l_U3126 = 1;
            }
            bVar25 = true;
        }
    }
    else
    {
        bVar25 = false;
        l_U3126 = 0;
        sub_41489( "MORE_SEATS" );
    }
    for ( I = 0; I < 3; I++ )
    {
        if (DOES_CHAR_EXIST( l_U3146[I] ))
        {
            if (NOT (IS_CHAR_INJURED( l_U3146[I] )))
            {
                if (NOT (IS_GROUP_MEMBER( l_U3146[I], sub_41599() )))
                {
                    SET_CHAR_DROWNS_IN_WATER( l_U3146[I], 1 );
                }
                else
                {
                    SET_CHAR_DROWNS_IN_WATER( l_U3146[I], 0 );
                }
                if (IS_CHAR_SITTING_IN_ANY_CAR( sub_6646() ))
                {
                    STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_6646(), ref iVar26 );
                    if (IS_VEH_DRIVEABLE( iVar26 ))
                    {
                        if (IS_GROUP_MEMBER( l_U3146[I], sub_41599() ))
                        {
                            if ((IS_CHAR_SITTING_IN_ANY_CAR( sub_6646() )) AND (NOT sub_41112()))
                            {
                                if (NOT (sub_41801( l_U3146[I] )))
                                {
                                    REMOVE_CHAR_FROM_GROUP( l_U3146[I] );
                                    PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - REMOVE_CHAR_FROM_GROUP - 1" );
                                    PRINTNL();
                                }
                            }
                        }
                    }
                }
                bVar24 = true;
                if (NOT (IS_GROUP_MEMBER( l_U3146[I], sub_41599() )))
                {
                    if (IS_CHAR_SITTING_IN_ANY_CAR( l_U3146[I] ))
                    {
                        STORE_CAR_CHAR_IS_IN_NO_SAVE( l_U3146[I], ref iVar26 );
                        if (IS_VEH_DRIVEABLE( iParam9 ))
                        {
                            if (NOT (iVar26 == iParam9))
                            {
                                if (NOT (IS_CAR_DEAD( iVar26 )))
                                {
                                    if (NOT (IS_CHAR_SITTING_IN_CAR( sub_6646(), iVar26 )))
                                    {
                                        TASK_LEAVE_CAR_IMMEDIATELY( l_U3146[I], iVar26 );
                                        PRINTSTRING( "locates_heder - HAVE_BUDDIES_JOINED_PLAYERS_GROUP - Buddy told to leave car" );
                                        PRINTNL();
                                        bVar24 = false;
                                    }
                                }
                            }
                        }
                    }
                }
                if (IS_GROUP_MEMBER( l_U3146[I], sub_41599() ))
                {
                    if (sub_42362())
                    {
                        if (l_U3128[I])
                        {
                            SET_SPECIFIC_PASSENGER_INDEX_TO_USE_IN_GROUPS( l_U3146[I], -1 );
                            l_U3128[I] = 0;
                        }
                    }
                    else if (NOT l_U3128[I])
                    {
                        SET_SPECIFIC_PASSENGER_INDEX_TO_USE_IN_GROUPS( l_U3146[I], 2 );
                        l_U3128[I] = 1;
                    }
                }
                if ((NOT (sub_42640( l_U3146[I], iParam9 ))) AND ((NOT (sub_42544( l_U3146[I], iParam9 ))) AND (NOT (IS_GROUP_MEMBER( l_U3146[I], sub_41599() )))))
                {
                    if (sub_42753( l_U3146[I], uParam7, uParam10 ))
                    {
                        if (NOT (IS_GROUP_MEMBER( l_U3146[I], sub_41599() )))
                        {
                            GET_SCRIPT_TASK_STATUS( l_U3146[I], 11, ref iVar27 );
                            if (iVar27 == 7)
                            {
                                CLEAR_CHAR_TASKS( l_U3146[I] );
                                PRINTSTRING( "locates_heder - HAVE_BUDDIES_JOINED_PLAYERS_GROUP - CLEAR_CHAR_TASKS - 1" );
                                PRINTNL();
                            }
                            SET_GROUP_MEMBER( sub_41599(), l_U3146[I] );
                            PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - SET_GROUP_MEMBER - 1" );
                            PRINTNL();
                            bVar24 = false;
                        }
                    }
                    if (bVar24)
                    {
                        if (NOT (DOES_BLIP_EXIST( l_U3133[I] )))
                        {
                            GET_GAME_TIMER( ref l_U3143 );
                            ADD_BLIP_FOR_CHAR( l_U3146[I], ref l_U3133[I] );
                            CHANGE_BLIP_DISPLAY( l_U3133[I], 2 );
                            PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - add blip for char - 1" );
                            PRINTNL();
                            SET_BLIP_AS_FRIENDLY( l_U3133[I], 1 );
                            if (bParam8)
                            {
                                sub_43476( l_U3133[I] );
                            }
                        }
                    }
                    iVar18 = 0;
                }
                else if (DOES_BLIP_EXIST( l_U3133[I] ))
                {
                    if ((uParam11) || ((sub_42544( l_U3146[I], iParam9 )) || (sub_43595( l_U3146[I] ))))
                    {
                        if (DOES_BLIP_EXIST( l_U3133[I] ))
                        {
                            REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3133[I] );
                            PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - remove blip for char - 1" );
                            PRINTNL();
                            sub_41489( uVar28[I] );
                            iVar19 = 1;
                        }
                    }
                    else if (bParam8)
                    {
                        sub_43476( l_U3133[I] );
                    }
                    iVar18 = 0;;
                }
                else if (IS_VEH_DRIVEABLE( iParam9 ))
                {
                    if (NOT (IS_CHAR_SITTING_IN_CAR( l_U3146[I], iParam9 )))
                    {
                        if ((NOT l_U3123) AND (LOCATE_CHAR_ANY_MEANS_CAR_3D( l_U3146[I], iParam9, 20.00000000, 20.00000000, 5.00000000, 0 )))
                        {
                            if (IS_CHAR_SITTING_IN_ANY_CAR( l_U3146[I] ))
                            {
                                if (NOT (IS_CHAR_IN_CAR( l_U3146[I], iParam9 )))
                                {
                                    if (NOT (sub_43595( l_U3146[I] )))
                                    {
                                        if (sub_44203( l_U3146[I] ))
                                        {
                                            GET_SCRIPT_TASK_STATUS( l_U3146[I], 31, ref iVar27 );
                                            if (iVar27 == 7)
                                            {
                                                TASK_LEAVE_ANY_CAR( l_U3146[I] );
                                            }
                                        }
                                    }
                                }
                            }
                            else if (NOT (IS_CHAR_SITTING_IN_CAR( sub_6646(), iParam9 )))
                            {
                                SET_FORCE_PLAYER_TO_ENTER_THROUGH_DIRECT_DOOR( sub_6646(), 1 );
                            }
                            if (IS_GROUP_MEMBER( l_U3146[I], sub_41599() ))
                            {
                                REMOVE_CHAR_FROM_GROUP( l_U3146[I] );
                                PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - REMOVE_CHAR_FROM_GROUP - 2" );
                                PRINTNL();
                            }
                            GET_SCRIPT_TASK_STATUS( l_U3146[I], 11, ref iVar27 );
                            if (iVar27 == 7)
                            {
                                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3146[I], 1 );
                                if (l_U3122)
                                {
                                    SET_NEXT_DESIRED_MOVE_STATE( 2 );
                                }
                                TASK_ENTER_CAR_AS_PASSENGER( l_U3146[I], iParam9, -1, I );
                                SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3146[I], 0 );
                                PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - told to enter car as passenger" );
                                PRINTNL();
                            }
                            else if (IS_CHAR_IN_CAR( sub_6646(), iParam9 ))
                            {
                                ADD_BLIP_FOR_CHAR( l_U3146[I], ref l_U3133[I] );
                                CHANGE_BLIP_DISPLAY( l_U3133[I], 2 );
                                PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - add blip for char - 2" );
                                PRINTNL();
                                SET_BLIP_AS_FRIENDLY( l_U3133[I], 1 );
                                iVar18 = 0;
                            };;;
                        }
                        else if (NOT (IS_GROUP_MEMBER( l_U3146[I], sub_41599() )))
                        {
                            if (sub_42753( l_U3146[I], uParam7, uParam10 ))
                            {
                                GET_SCRIPT_TASK_STATUS( l_U3146[I], 11, ref iVar27 );
                                if (iVar27 == 7)
                                {
                                    CLEAR_CHAR_TASKS( l_U3146[I] );
                                    PRINTSTRING( "locates_heder - HAVE_BUDDIES_JOINED_PLAYERS_GROUP - CLEAR_CHAR_TASKS - 2" );
                                    PRINTNL();
                                }
                                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3146[I], 0 );
                                SET_GROUP_MEMBER( sub_41599(), l_U3146[I] );
                                PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - SET_GROUP_MEMBER - 2" );
                                PRINTNL();
                            }
                        }
                    }
                    else if (IS_CHAR_SITTING_IN_CAR( sub_6646(), iParam9 ))
                    {
                        if (NOT (IS_GROUP_MEMBER( l_U3146[I], sub_41599() )))
                        {
                            SET_GROUP_MEMBER( sub_41599(), l_U3146[I] );
                            PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - SET_GROUP_MEMBER - 3" );
                            PRINTNL();
                        }
                    }
                    else if (IS_GROUP_MEMBER( l_U3146[I], sub_41599() ))
                    {
                        REMOVE_CHAR_FROM_GROUP( l_U3146[I] );
                        PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - REMOVE_CHAR_FROM_GROUP - 3" );
                        PRINTNL();
                    };;;
                };;;
            }
            else if (DOES_BLIP_EXIST( l_U3133[I] ))
            {
                REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3133[I] );
                PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - remove blip for char - 2" );
                PRINTNL();
                sub_41489( uVar28[I] );
                iVar19 = 1;
            }
        }
    }
    for ( I = 0; I < 3; I++ )
    {
        if (DOES_BLIP_EXIST( l_U3133[I] ))
        {
            iVar20[I] = 1;
            iVar15++;
        }
    }
    if (NOT (sub_45643( 0 )))
    {
        if (iVar15 > 0)
        {
            for ( I = 0; I < 3; I++ )
            {
                if (iVar20[I])
                {
                    if (NOT (IS_CHAR_INJURED( l_U3146[I] )))
                    {
                        if ((LOCATE_CHAR_ANY_MEANS_CHAR_3D( l_U3146[I], sub_6646(), 40.00000000, 40.00000000, 40.00000000, 0 )) || (sub_41801( l_U3146[I] )))
                        {
                            iVar15--;
                            iVar20[I] = 0;
                        }
                    }
                }
            }
        }
        GET_GAME_TIMER( ref iVar17 );
        if ((iVar16 == 1) || ((iVar17 - l_U3143) > 1500))
        {
            if (iVar15 > 0)
            {
                if (l_U3144 < iVar15)
                {
                    PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - printing 'pickup' text" );
                    PRINTNL();
                    PRINTSTRING( "iPrintedMissingBuddiesNumber = " );
                    PRINTINT( l_U3144 );
                    PRINTNL();
                    PRINTSTRING( "iBuddiesMissing = " );
                    PRINTINT( iVar15 );
                    PRINTNL();
                    PRINTSTRING( "iTotalBuddies = " );
                    PRINTINT( iVar16 );
                    PRINTNL();
                    if ((iVar16 > 1) AND (iVar15 == iVar16))
                    {
                        if ((NOT (l_U3144 == iVar15)) AND (NOT l_U3112))
                        {
                            sub_41369( uParam6, 0 );
                            l_U3112 = 1;
                            l_U3144 = iVar15;
                        }
                    }
                    else
                    {
                        for ( I = 0; I < 3; I++ )
                        {
                            if (iVar20[I])
                            {
                                if ((NOT (l_U3144 == iVar15)) AND (NOT l_U3113[I]))
                                {
                                    sub_41369( uVar28[I], 0 );
                                    l_U3113[I] = 1;
                                    l_U3144 = iVar15;
                                }
                            }
                        }
                    }
                }
            }
            else
            {
                l_U3144 = 0;
            }
        }
    }
    l_U3122 = 0;
    if ((NOT bVar25) AND (iVar18))
    {
        for ( I = 0; I < 3; I++ )
        {
            if (DOES_BLIP_EXIST( l_U3133[I] ))
            {
                REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3133[I] );
                PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - remove blip for char - 3" );
                PRINTNL();
                sub_41489( uVar28[I] );
            }
        }
        sub_41489( "MORE_SEATS" );
        return 1;
    }
    if (IS_KEYBOARD_KEY_JUST_PRESSED( 36 ))
    {
        for ( I = 0; I < 3; I++ )
        {
            if (NOT (IS_CHAR_INJURED( sub_6646() )))
            {
                GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( sub_6646(), 0.00000000, 1.00000000 + (TO_FLOAT( I )), 0.00000000, ref uVar32._fU0, ref uVar32._fU4, ref uVar32._fU8 );
                if (NOT (IS_CHAR_INJURED( l_U3146[I] )))
                {
                    SET_CHAR_COORDINATES( l_U3146[I], uVar32._fU0, uVar32._fU4, uVar32._fU8 );
                }
            }
        }
    }
    return 0;
}

int sub_41112()
{
    unknown uVar2;

    if (IS_CHAR_SITTING_IN_ANY_CAR( sub_6646() ))
    {
        STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_6646(), ref uVar2 );
        if (sub_41153( uVar2 ))
        {
            return 1;
        }
    }
    return 0;
}

int sub_41153(unknown uParam0)
{
    int iVar3;
    int iVar4;
    int I;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        iVar3 = 0;
        for ( I = 0; I < l_U3146; I++ )
        {
            if (DOES_CHAR_EXIST( l_U3146[I] ))
            {
                iVar3++;
            }
        }
        GET_MAXIMUM_NUMBER_OF_PASSENGERS( uParam0, ref iVar4 );
        if (iVar4 >= iVar3)
        {
            return 1;
        }
    }
    return 0;
}

void sub_41369(unknown uParam0, boolean bParam1)
{
    if (NOT bParam1)
    {
        if (NOT (IS_STRING_NULL( uParam0 )))
        {
            if (NOT (COMPARE_STRING( uParam0, "" )))
            {
                PRINT_NOW( uParam0, 7500, 1 );
            }
        }
    }
    GET_GAME_TIMER( ref l_U3142 );
    return;
}

void sub_41489(unknown uParam0)
{
    if (NOT (IS_STRING_NULL( uParam0 )))
    {
        CLEAR_THIS_PRINT( uParam0 );
    }
    return;
}

void sub_41599()
{
    unknown Result;

    GET_PLAYER_GROUP( CONVERT_INT_TO_PLAYERINDEX( GET_PLAYER_ID() ), ref Result );
    return Result;
}

int sub_41801(unknown uParam0)
{
    int iVar3;
    int iVar4;

    if (IS_PLAYER_PLAYING( sub_6741() ))
    {
        GET_CAR_CHAR_IS_USING( sub_6646(), ref iVar3 );
        if (IS_VEH_DRIVEABLE( iVar3 ))
        {
            if (NOT (IS_CHAR_INJURED( uParam0 )))
            {
                GET_CAR_CHAR_IS_USING( uParam0, ref iVar4 );
                if (IS_VEH_DRIVEABLE( iVar4 ))
                {
                    if (iVar3 == iVar4)
                    {
                        if ((LOCATE_CHAR_ANY_MEANS_CAR_3D( uParam0, iVar4, 20.00000000, 20.00000000, 20.00000000, 0 )) AND (LOCATE_CHAR_ANY_MEANS_CHAR_3D( sub_6646(), uParam0, 20.00000000, 20.00000000, 20.00000000, 0 )))
                        {
                            return 1;
                        }
                    }
                }
            }
        }
    }
    return 0;
}

int sub_42362()
{
    unknown uVar2;

    GET_CAR_CHAR_IS_USING( sub_6646(), ref uVar2 );
    if (sub_41153( uVar2 ))
    {
        return 1;
    }
    return 0;
}

int sub_42544(unknown uParam0, unknown uParam1)
{
    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (DOES_VEHICLE_EXIST( uParam1 ))
        {
            if (IS_VEH_DRIVEABLE( uParam1 ))
            {
                if (IS_CHAR_SITTING_IN_CAR( uParam0, uParam1 ))
                {
                    return 1;
                }
            }
        }
    }
    return 0;
}

int sub_42640(unknown uParam0, int iParam1)
{
    int iVar4;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (NOT (IS_GROUP_MEMBER( uParam0, sub_41599() )))
        {
            GET_CAR_CHAR_IS_USING( uParam0, ref iVar4 );
            if (IS_VEH_DRIVEABLE( iParam1 ))
            {
                if (iVar4 == iParam1)
                {
                    return 1;
                }
            }
        }
    }
    return 0;
}

int sub_42753(unknown uParam0, unknown uParam1, boolean bParam2)
{
    unknown uVar5;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (IS_CHAR_SITTING_IN_ANY_CAR( uParam0 ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( uParam0, ref uVar5 );
            if (NOT (IS_CAR_DEAD( uVar5 )))
            {
                if (IS_VEH_DRIVEABLE( uVar5 ))
                {
                    if (IS_CHAR_SITTING_IN_CAR( sub_6646(), uVar5 ))
                    {
                        if (sub_41112())
                        {
                            return 1;
                        }
                    }
                }
                else if (LOCATE_CHAR_ANY_MEANS_CHAR_3D( sub_6646(), uParam0, uParam1, uParam1, 3.00000000, 0 ))
                {
                    return 1;
                }
            }
        }
        else if (LOCATE_CHAR_ANY_MEANS_CHAR_3D( sub_6646(), uParam0, uParam1, uParam1, 3.00000000, 0 ))
        {
            if (NOT bParam2)
            {
                if (sub_42362())
                {
                    return 1;
                }
                else
                {
                    GET_CAR_CHAR_IS_USING( sub_6646(), ref uVar5 );
                    if (NOT (DOES_VEHICLE_EXIST( uVar5 )))
                    {
                        return 1;
                    }
                }
            }
            else
            {
                return 1;
            }
        }
    }
    return 0;
}

void sub_43476(unknown uParam0)
{
    if (DOES_BLIP_EXIST( uParam0 ))
    {
        if (DOES_BLIP_EXIST( l_U3138 ))
        {
            SET_ROUTE( l_U3138, 0 );
        }
        l_U3138 = uParam0;
        SET_ROUTE( uParam0, 1 );
    }
    return;
}

int sub_43595(unknown uParam0)
{
    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (IS_CHAR_SITTING_IN_ANY_CAR( sub_6646() ))
        {
            if (sub_43643( sub_6646(), uParam0 ))
            {
                SET_GROUP_SEPARATION_RANGE( sub_41599(), 40.00000000 );
                return 1;
            }
        }
        else if (IS_GROUP_MEMBER( uParam0, sub_41599() ))
        {
            SET_GROUP_SEPARATION_RANGE( sub_41599(), 40.00000000 );
            return 1;
        }
    }
    else
    {
        return 1;
    }
    return 0;
}

int sub_43643(unknown uParam0, unknown uParam1)
{
    unknown uVar4;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (IS_CHAR_SITTING_IN_ANY_CAR( uParam0 ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( uParam0, ref uVar4 );
            if (IS_VEH_DRIVEABLE( uVar4 ))
            {
                if (NOT (IS_CHAR_INJURED( uParam1 )))
                {
                    if (IS_CHAR_SITTING_IN_CAR( uParam1, uVar4 ))
                    {
                        return 1;
                    }
                }
            }
        }
    }
    return 0;
}

int sub_44203(unknown uParam0)
{
    float fVar3;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        GET_CHAR_SPEED( uParam0, ref fVar3 );
        if ((fVar3 < 0.50000000) AND (fVar3 > -0.50000000))
        {
            return 1;
        }
    }
    return 0;
}

int sub_45643(boolean bParam0)
{
    if ((sub_45756()) || ((IS_SCRIPTED_CONVERSATION_ONGOING()) || ((sub_45697()) || ((((bParam0) AND (sub_45668())) || ((NOT bParam0) AND (sub_39689()))) || (IS_MESSAGE_BEING_DISPLAYED())))))
    {
        return 1;
    }
    return 0;
}

void sub_45668()
{
    return IS_SCRIPTED_CONVERSATION_ONGOING();
}

int sub_45697()
{
    if ((g_U95._fU0 == 1008) || (g_U95._fU0 == 1007))
    {
        return 1;
    }
    return 0;
}

int sub_45756()
{
    int iVar2;
    int iVar3;

    GET_GAME_TIMER( ref iVar3 );
    iVar2 = iVar3 - l_U3142;
    if (iVar2 < 35)
    {
        return 1;
    }
    return 0;
}

int sub_47049()
{
    if (NOT (IS_CHAR_INJURED( l_U3145 )))
    {
        if (IS_AMBIENT_SPEECH_PLAYING( l_U3145 ))
        {
            return 1;
        }
    }
    return 0;
}

int sub_47448()
{
    int iVar2;

    iVar2 = 1;
    if (IS_CHAR_SITTING_IN_ANY_CAR( sub_6646() ))
    {
        if ((IS_CHAR_IN_ANY_HELI( sub_6646() )) || (IS_CHAR_ON_ANY_BIKE( sub_6646() )))
        {
            iVar2 = 0;
        }
    }
    if (l_U3124)
    {
        if (sub_44203( sub_6646() ))
        {
            if ((l_U3118) || (sub_47538( 1, iVar2 )))
            {
                return 1;
            }
        }
    }
    else if ((l_U3118) || (sub_47538( 1, iVar2 )))
    {
        return 1;
    }
    return 0;
}

int sub_47538(boolean bParam0, boolean bParam1)
{
    unknown uVar4;
    int iVar5;
    float fVar6;

    if (IS_MINIGAME_IN_PROGRESS())
    {
        return 0;
    }
    if (bParam1)
    {
        if (IS_CHAR_IN_ANY_CAR( sub_6646() ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_6646(), ref uVar4 );
            if (NOT (IS_CAR_DEAD( uVar4 )))
            {
                GET_CAR_UPRIGHT_VALUE( uVar4, ref fVar6 );
                if ((fVar6 > 1.01100000) || (fVar6 < 0.95000000))
                {
                    return 0;
                }
            }
        }
    }
    if (bParam0)
    {
        if (IS_CHAR_IN_ANY_CAR( sub_6646() ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_6646(), ref uVar4 );
            if (NOT (IS_CAR_DEAD( uVar4 )))
            {
                GET_DRIVER_OF_CAR( uVar4, ref iVar5 );
                if (NOT (iVar5 == sub_6646()))
                {
                    return 0;
                }
            }
        }
    }
    if (IS_CHAR_IN_ANY_CAR( sub_6646() ))
    {
        if (NOT (IS_CHAR_SITTING_IN_ANY_CAR( sub_6646() )))
        {
            return 0;
        }
    }
    if (NOT (IS_PLAYER_READY_FOR_CUTSCENE( sub_6741() )))
    {
        return 0;
    }
    if (NOT (CAN_PLAYER_START_MISSION( sub_6741() )))
    {
        return 0;
    }
    return 1;
}

void sub_47929()
{
    int I;

    sub_47938();
    for ( I = 0; I < 3; I++ )
    {
        if (DOES_BLIP_EXIST( l_U3133[I] ))
        {
            REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3133[I] );
        }
    }
    if (DOES_BLIP_EXIST( l_U3132 ))
    {
        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3132 );
    }
    l_U3138 = nil;
    l_U3112 = 0;
    for ( I = 0; I < l_U3113; I++ )
    {
        l_U3113[I] = 0;
        l_U3128[I] = 0;
    }
    l_U3108 = 0;
    l_U3106 = 0;
    l_U3107 = 0;
    l_U3109 = 0;
    l_U3111 = 0;
    l_U3110 = 0;
    l_U3117 = 0;
    l_U3118 = 0;
    l_U3120 = 0;
    l_U3121 = 0;
    l_U3144 = 0;
    for ( I = 0; I < l_U3146; I++ )
    {
        if (NOT (IS_CHAR_INJURED( l_U3146[I] )))
        {
            BLOCK_CHAR_AMBIENT_ANIMS( l_U3146[I], 0 );
            SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( l_U3146[I], 1 );
        }
    }
    if (IS_PLAYER_PLAYING( sub_6741() ))
    {
        BLOCK_CHAR_AMBIENT_ANIMS( sub_6646(), 0 );
    }
    if (IS_PLAYER_PLAYING( sub_6741() ))
    {
        SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( sub_6646(), 1 );
    }
    l_U3122 = 0;
    l_U3123 = 0;
    l_U3124 = 0;
    l_U3125 = 0;
    return;
}

void sub_47938()
{
    if (DOES_BLIP_EXIST( l_U3137 ))
    {
        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3137 );
    }
    return;
}

void sub_49855(unknown uParam0, unknown uParam1, unknown uParam2, boolean bParam3, unknown uParam4)
{
    int I;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;

    sub_39863();
    if (l_U3117)
    {
        uParam0 = l_U3151._fU0;
        uParam1 = l_U3151._fU4;
        uParam2 = l_U3151._fU8;
        uVar12 = l_U3141;
        l_U3117 = 0;
    }
    else if (NOT (IS_CHAR_INJURED( sub_6646() )))
    {
        GET_CHAR_HEADING( sub_6646(), ref uVar12 );
    }
    if (IS_SCREEN_FADED_IN())
    {
        if (IS_KEYBOARD_KEY_JUST_PRESSED( 36 ))
        {
            PRINTSTRING( "J_SKIP - called" );
            PRINTNL();
            DO_SCREEN_FADE_OUT( 500 );
            while (NOT IS_SCREEN_FADED_OUT())
            {
                WAIT( 0 );
            }
            CLEAR_WANTED_LEVEL( sub_6741() );
            sub_50066( ref uVar8 );
            if (bParam3)
            {
                PRINTSTRING( "J_SKIP - onFoot = TRUE" );
                PRINTNL();
                sub_50487( uParam0, uParam1, uParam2, 0 );
                for ( I = 0; I < l_U3146; I++ )
                {
                    if (NOT (IS_CHAR_INJURED( l_U3146[I] )))
                    {
                        CLEAR_CHAR_TASKS_IMMEDIATELY( l_U3146[I] );
                        if (NOT (IS_CHAR_INJURED( sub_6646() )))
                        {
                            GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( sub_6646(), 0.00000000, 1.00000000 + (TO_FLOAT( I )), 0.00000000, ref uVar9._fU0, ref uVar9._fU4, ref uVar9._fU8 );
                            SET_CHAR_COORDINATES( l_U3146[I], uVar9._fU0, uVar9._fU4, uVar9._fU8 );
                            SET_CHAR_HEADING( l_U3146[I], uVar12 );
                        }
                    }
                }
            }
            else if (DOES_VEHICLE_EXIST( uParam4 ))
            {
                PRINTSTRING( "J_SKIP - SpecificCarID exists" );
                PRINTNL();
                if (IS_VEH_DRIVEABLE( uParam4 ))
                {
                    CLEAR_CHAR_TASKS_IMMEDIATELY( sub_6646() );
                    WARP_CHAR_INTO_CAR( sub_6646(), uParam4 );
                    for ( I = 0; I < l_U3146; I++ )
                    {
                        if (DOES_CHAR_EXIST( l_U3146[I] ))
                        {
                            if (NOT (IS_CHAR_INJURED( l_U3146[I] )))
                            {
                                CLEAR_CHAR_TASKS_IMMEDIATELY( l_U3146[I] );
                                WARP_CHAR_INTO_CAR_AS_PASSENGER( l_U3146[I], uParam4, I );
                                SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U3146[I], 0 );
                            }
                        }
                    }
                }
                sub_50487( uParam0, uParam1, uParam2, uVar12 );
                if (IS_VEH_DRIVEABLE( uParam4 ))
                {
                    SET_CAR_COORDINATES( uParam4, uParam0, uParam1, uParam2 );
                }
            }
            else
            {
                PRINTSTRING( "J_SKIP - searching for temp_car" );
                PRINTNL();
                if (DOES_VEHICLE_EXIST( uVar8 ))
                {
                    if (NOT (IS_VEH_DRIVEABLE( uVar8 )))
                    {
                        PRINTSTRING( "J_SKIP - temp_car existed but not driveable" );
                        PRINTNL();
                        uVar8 = nil;
                    }
                }
                if (NOT (DOES_VEHICLE_EXIST( uVar8 )))
                {
                    PRINTSTRING( "J_SKIP - creating new temp_car" );
                    PRINTNL();
                    REQUEST_MODEL( 1264341792 );
                    while (NOT (HAS_MODEL_LOADED( 1264341792 )))
                    {
                        WAIT( 0 );
                    }
                    CREATE_CAR( 1264341792, uParam0, uParam1, uParam2, ref uVar8, 1 );
                    MARK_MODEL_AS_NO_LONGER_NEEDED( 1264341792 );
                    CLEAR_CHAR_TASKS_IMMEDIATELY( sub_6646() );
                    WARP_CHAR_INTO_CAR( sub_6646(), uVar8 );
                    sub_51394( uVar8 );
                }
                else
                {
                    PRINTSTRING( "J_SKIP - temp_car exists" );
                    PRINTNL();
                    if (IS_VEH_DRIVEABLE( uVar8 ))
                    {
                        PRINTSTRING( "J_SKIP - temp_car is driveable" );
                        PRINTNL();
                        CLEAR_CHAR_TASKS_IMMEDIATELY( sub_6646() );
                        WARP_CHAR_INTO_CAR( sub_6646(), uVar8 );
                    }
                }
                for ( I = 0; I < l_U3146; I++ )
                {
                    if (DOES_CHAR_EXIST( l_U3146[I] ))
                    {
                        if (NOT (IS_CHAR_INJURED( l_U3146[I] )))
                        {
                            PRINTSTRING( "J_SKIP - buddy exists, clearing tasks." );
                            PRINTNL();
                            CLEAR_CHAR_TASKS_IMMEDIATELY( l_U3146[I] );
                            if (IS_VEH_DRIVEABLE( uVar8 ))
                            {
                                WARP_CHAR_INTO_CAR_AS_PASSENGER( l_U3146[I], uVar8, I );
                            }
                            else
                            {
                                PRINTSTRING( "J_SKIP - buddy exists, clearing tasks." );
                                PRINTNL();
                            }
                        }
                    }
                }
                for ( I = 0; I < l_U3146; I++ )
                {
                    if (DOES_CHAR_EXIST( l_U3146[I] ))
                    {
                        if (NOT (IS_CHAR_INJURED( l_U3146[I] )))
                        {
                            if (IS_VEH_DRIVEABLE( uVar8 ))
                            {
                                PRINTSTRING( "J_SKIP - warping buddy into car" );
                                PRINTNL();
                                WARP_CHAR_INTO_CAR_AS_PASSENGER( l_U3146[I], uVar8, I );
                            }
                        }
                    }
                }
                if (IS_VEH_DRIVEABLE( uVar8 ))
                {
                    SET_CAR_COORDINATES( uVar8, uParam0, uParam1, uParam2 );
                    SET_CAR_HEADING( uVar8, uVar12 );
                }
            }
            LOAD_SCENE( uParam0, uParam1, uParam2 );
            WAIT( 500 );
            sub_52014( 0, 0 );
            DO_SCREEN_FADE_IN( 500 );
        }
    }
    return;
}

void sub_50066(unknown uParam0)
{
    if (IS_PLAYER_PLAYING( sub_6741() ))
    {
        if (IS_CHAR_IN_ANY_CAR( sub_6646() ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_6646(), uParam0 );
        }
    }
    if (NOT (DOES_VEHICLE_EXIST( (uParam0^) )))
    {
        GET_CAR_CHAR_IS_USING( sub_6646(), uParam0 );
    }
    if (DOES_VEHICLE_EXIST( (uParam0^) ))
    {
        if (IS_VEH_DRIVEABLE( (uParam0^) ))
        {
            sub_50186( (uParam0^) );
        }
        else
        {
            (uParam0^) = nil;
        }
    }
    else
    {
        (uParam0^) = nil;
    }
    return;
}

void sub_50186(unknown uParam0)
{
    unknown uVar3;
    int I;
    int iVar5;

    if (DOES_VEHICLE_EXIST( uParam0 ))
    {
        if (IS_VEH_DRIVEABLE( uParam0 ))
        {
            GET_DRIVER_OF_CAR( uParam0, ref uVar3 );
            if (DOES_CHAR_EXIST( uVar3 ))
            {
                if (NOT (IS_CHAR_INJURED( uVar3 )))
                {
                    CLEAR_CHAR_TASKS_IMMEDIATELY( uVar3 );
                }
                else
                {
                    DELETE_CHAR( ref uVar3 );
                }
            }
            GET_MAXIMUM_NUMBER_OF_PASSENGERS( uParam0, ref iVar5 );
            for ( I = 0; I < iVar5; I++ )
            {
                if (NOT (IS_CAR_PASSENGER_SEAT_FREE( uParam0, I )))
                {
                    GET_CHAR_IN_CAR_PASSENGER_SEAT( uParam0, I, ref uVar3 );
                    if (DOES_CHAR_EXIST( uVar3 ))
                    {
                        if (NOT (IS_CHAR_INJURED( uVar3 )))
                        {
                            CLEAR_CHAR_TASKS_IMMEDIATELY( uVar3 );
                        }
                        else
                        {
                            DELETE_CHAR( ref uVar3 );
                        }
                    }
                }
            }
        }
    }
    return;
}

void sub_50487(unknown uParam0, unknown uParam1, float fParam2, unknown uParam3)
{
    fParam2 += 1.00000000;
    SET_CHAR_COORDINATES( sub_6646(), uParam0, uParam1, fParam2 );
    SET_GAME_CAM_HEADING( 0 );
    REQUEST_COLLISION_AT_POSN( uParam0, uParam1, fParam2 );
    LOAD_ALL_OBJECTS_NOW();
    GET_CHAR_COORDINATES( sub_6646(), ref uParam0, ref uParam1, ref fParam2 );
    GET_GROUND_Z_FOR_3D_COORD( uParam0, uParam1, fParam2, ref fParam2 );
    SET_CHAR_COORDINATES( sub_6646(), uParam0, uParam1, fParam2 );
    SET_CHAR_HEADING( sub_6646(), uParam3 );
    return;
}

void sub_51394(unknown uParam0)
{
    MARK_CAR_AS_NO_LONGER_NEEDED( ref uParam0 );
    return;
}

void sub_52014(boolean bParam0, unknown uParam1)
{
    boolean bVar4;
    int iVar5;
    int iVar6;

    PRINTSTRING( "WAIT_FOR_ANY_NEARBY_CLUBS_TO_STREAM_IN - called for " );
    PRINTNL();
    if (NOT bParam0)
    {
        if (NOT IS_SCREEN_FADED_OUT())
        {
            SCRIPT_ASSERT( "WAIT_FOR_ANY_NEARBY_CLUBS_TO_STREAM_IN() - should only be called when screen is faded out." );
        }
        else
        {
            WAIT( 0 );
        }
    }
    if (((bParam0) || (IS_SCREEN_FADED_OUT())) AND (NOT (IS_CHAR_INJURED( sub_6646() ))))
    {
        PRINTSTRING( "WAIT_FOR_ANY_NEARBY_CLUBS_TO_STREAM_IN - checking if player is near a club..." );
        PRINTNL();
        g_U30093[0] = 0;
        g_U30093[1] = 0;
        g_U30093[2] = 0;
        g_U30176 = uParam1;
        if (sub_52394( sub_6646(), 0, 25.00000000 ))
        {
            PRINTSTRING( "WAIT_FOR_ANY_NEARBY_CLUBS_TO_STREAM_IN - bahama mamas" );
            PRINTNL();
            g_U30110[0] = 1;
        }
        if (sub_52394( sub_6646(), 1, 25.00000000 ))
        {
            PRINTSTRING( "WAIT_FOR_ANY_NEARBY_CLUBS_TO_STREAM_IN - maisonette 9" );
            PRINTNL();
            g_U30110[1] = 1;
        }
        if (sub_52394( sub_6646(), 2, 25.00000000 ))
        {
            PRINTSTRING( "WAIT_FOR_ANY_NEARBY_CLUBS_TO_STREAM_IN - hercules" );
            PRINTNL();
            g_U30110[2] = 1;
        }
        sub_53671( 0 );
        sub_53671( 1 );
        sub_53671( 2 );
        bVar4 = false;
        GET_GAME_TIMER( ref l_U3105 );
        while (NOT bVar4)
        {
            GET_GAME_TIMER( ref iVar5 );
            iVar6 = iVar5 - l_U3105;
            if (((g_U30110[2] == 0) AND ((g_U30110[1] == 0) AND (g_U30110[0] == 0))) || (iVar6 > 15000))
            {
                if (iVar6 > 15000)
                {
                    ;
                }
                bVar4 = true;
            }
            else
            {
                PRINTSTRING( "WAIT_FOR_ANY_NEARBY_CLUBS_TO_STREAM_IN  - loading stuff" );
                PRINTNL();
                WAIT( 0 );
            }
        }
        if (NOT bParam0)
        {
            WAIT( 0 );
        }
        PRINTSTRING( "WAIT_FOR_ANY_NEARBY_CLUBS_TO_STREAM_IN - finished" );
        PRINTNL();
    }
    return;
}

int sub_52394(unknown uParam0, unknown uParam1, unknown uParam2)
{
    vector vVar5;
    vector vVar8;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;

    vVar5 = {sub_52405( uParam1 )};
    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (sub_52565( uParam0, uParam1, 0 ))
        {
            return 1;
        }
        else
        {
            GET_CHAR_COORDINATES( uParam0, ref vVar8.x, ref vVar8.y, ref vVar8.z );
            uVar11 = {vVar5 - vVar8};
            uVar11._fU8 = 0.00000000;
            if ((VMAG2( uVar11 )) < (uParam2 * uParam2))
            {
                return 1;
            }
        }
    }
    return 0;
}

vector sub_52405(unknown uParam0)
{
    switch (uParam0)
    {
        case 0:
        return vector( -399.10690000, 397.67000000, 14.17720000);
        break;
        case 1:
        return vector( -468.03000000, 153.41000000, 9.80000000);
        break;
        case 2:
        return vector( -440.28000000, 356.98000000, 11.54000000);
        break;
    }
    return vector( 0.00000000, 0.00000000, 0.00000000);
}

int sub_52565(unknown uParam0, unknown uParam1, boolean bParam2)
{
    unknown uVar5;
    unknown uVar6;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (sub_52593( uParam0, uParam1 ))
        {
            return 1;
        }
        switch (uParam1)
        {
            case 0:
            if (bParam2)
            {
                if (((LOCATE_CHAR_ANY_MEANS_3D( uParam0, -399.10690000, 397.39960000, 14.17720000, 1.60000000, 1.60000000, 1.60000000, 0 )) AND (IS_CHAR_ON_ANY_BIKE( uParam0 ))) || (LOCATE_CHAR_ON_FOOT_3D( uParam0, -399.10690000, 397.39960000, 14.17720000, 1.60000000, 1.60000000, 1.60000000, 0 )))
                {
                    return 1;
                }
            }
            break;
            case 1:
            if (bParam2)
            {
                if (((LOCATE_CHAR_ANY_MEANS_3D( uParam0, -466.92400000, 153.19500000, 9.87400000, 1.60000000, 1.60000000, 1.60000000, 0 )) AND (IS_CHAR_ON_ANY_BIKE( uParam0 ))) || (LOCATE_CHAR_ON_FOOT_3D( uParam0, -466.92400000, 153.19500000, 9.87400000, 1.60000000, 1.60000000, 1.60000000, 0 )))
                {
                    return 1;
                }
            }
            break;
            case 2:
            if (bParam2)
            {
                if (((LOCATE_CHAR_ANY_MEANS_3D( uParam0, -440.46400000, 356.91300000, 11.71800000, 1.60000000, 1.60000000, 1.60000000, 0 )) AND (IS_CHAR_ON_ANY_BIKE( uParam0 ))) || (LOCATE_CHAR_ON_FOOT_3D( uParam0, -440.46400000, 356.91300000, 11.71800000, 1.60000000, 1.60000000, 1.60000000, 0 )))
                {
                    return 1;
                }
            }
            break;
        }
    }
    return 0;
}

int sub_52593(unknown uParam0, unknown uParam1)
{
    int iVar4;
    int iVar5;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        switch (uParam1)
        {
            case 0:
            GET_INTERIOR_AT_COORDS( -395.22000000, 400.50000000, 14.40000000, ref iVar4 );
            GET_INTERIOR_FROM_CHAR( uParam0, ref iVar5 );
            if (NOT (iVar4 == nil))
            {
                if (iVar4 == iVar5)
                {
                    return 1;
                }
            }
            break;
            case 1:
            GET_INTERIOR_AT_COORDS( -483.90180000, 149.43310000, 7.56070000, ref iVar4 );
            GET_INTERIOR_FROM_CHAR( uParam0, ref iVar5 );
            if (NOT (iVar4 == nil))
            {
                if (iVar4 == iVar5)
                {
                    return 1;
                }
            }
            break;
            case 2:
            GET_INTERIOR_AT_COORDS( -431.82560000, 351.76230000, 11.71660000, ref iVar4 );
            GET_INTERIOR_FROM_CHAR( uParam0, ref iVar5 );
            if (NOT (iVar4 == nil))
            {
                if (iVar4 == iVar5)
                {
                    return 1;
                }
            }
            if (IS_CHAR_IN_AREA_3D( sub_6646(), -438.84750000, 349.78630000, 9.59170000, -436.09750000, 353.78630000, 14.46670000, 0 ))
            {
                return 1;
            }
            break;
        }
    }
    return 0;
}

void sub_53671(unknown uParam0)
{
    g_U30114[uParam0] = 1;
    return;
}

void sub_54012(unknown uParam0, unknown uParam1, unknown uParam2)
{
    unknown uVar5;

    if (NOT (sub_54037( uParam0, uParam1, uParam2, l_U3139, 1120403456 )))
    {
        if (NOT (LOCATE_CHAR_ANY_MEANS_3D( sub_6646(), uParam0, uParam1, uParam2, 50.00000000, 50.00000000, 50.00000000, 0 )))
        {
            GET_PLAYERS_LAST_CAR_NO_SAVE( ref uVar5 );
            if (DOES_VEHICLE_EXIST( uVar5 ))
            {
                if (NOT (IS_CAR_DEAD( uVar5 )))
                {
                    if (NOT (LOCATE_CAR_3D( uVar5, uParam0, uParam1, uParam2, l_U3139, l_U3139, l_U3139, 0 )))
                    {
                        CLEAR_AREA_OF_CARS( uParam0, uParam1, uParam2, l_U3139 );
                    }
                }
            }
            else
            {
                CLEAR_AREA_OF_CARS( uParam0, uParam1, uParam2, l_U3139 );
            }
        }
    }
    return;
}

int sub_54037(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (sub_54054( uParam0, uParam1, uParam2, uParam3 ))
    {
        if (NOT (LOCATE_CHAR_ANY_MEANS_2D( sub_6646(), uParam0, uParam1, uParam4, uParam4, 0 )))
        {
            return 0;
        }
        else if (IS_SCREEN_FADED_OUT())
        {
            return 0;
        }
        else
        {
            return 1;
        }
    }
    return 0;
}

int sub_54054(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;

    GET_GAME_VIEWPORT_ID( ref uVar6 );
    if (CAM_IS_SPHERE_VISIBLE( uVar6, uParam0, uParam1, uParam2, uParam3 ))
    {
        return 1;
    }
    return 0;
}

float sub_54530(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((NOT (IS_CHAR_INJURED( uParam1 ))) AND (NOT (IS_CHAR_INJURED( uParam0 ))))
    {
        GET_CHAR_COORDINATES( uParam0, ref uVar6._fU0, ref uVar6._fU4, ref uVar6._fU8 );
        GET_CHAR_COORDINATES( uParam1, ref uVar9._fU0, ref uVar9._fU4, ref uVar9._fU8 );
        return sub_54615( uVar6, uVar9, uParam2, uParam3 );
        break;
    }
    return -1.00000000;
}

void sub_54615(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, boolean bParam6, boolean bParam7)
{
    if (bParam6)
    {
        uParam0._fU8 = 0.00000000;
        uParam3._fU8 = 0.00000000;
    }
    if (bParam7)
    {
        return VDIST( uParam0, uParam3 );
        break;
    }
    return VDIST2( uParam0, uParam3 );
}

int sub_54868(unknown uParam0, unknown uParam1)
{
    unknown uVar4;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (IS_CHAR_IN_ANY_CAR( uParam0 ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( uParam0, ref uVar4 );
            if (IS_VEH_DRIVEABLE( uVar4 ))
            {
                if (NOT (IS_CHAR_INJURED( uParam1 )))
                {
                    if (IS_CHAR_IN_CAR( uParam1, uVar4 ))
                    {
                        return 1;
                    }
                }
            }
        }
    }
    return 0;
}

int sub_55034(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    if ((g_U8867 == 2) || ((g_U8867 == 1) || (IS_SCRIPTED_CONVERSATION_ONGOING())))
    {
        if (uParam0._fU4 == g_U8866)
        {
            return 1;
        }
        else
        {
            sub_11659( "\n speech is playing, but not from this structure" );
        }
    }
    else
    {
        sub_11659( "\n speech is not playing" );
    }
    return 0;
}

void sub_55954()
{
    if (TIMERB() > 1000)
    {
        if (l_U3877 == 0)
        {
            CREATE_CAM( 14, ref l_U4067 );
            SET_CAM_POS( l_U4067, -587.00890000, -112.26640000, 12.30972000 );
            SET_CAM_ROT( l_U4067, -9.08568900, 0.00000000, 41.73688000 );
            SET_CAM_FOV( l_U4067, 27.90004000 );
            CREATE_CAM( 14, ref l_U4068 );
            SET_CAM_POS( l_U4068, -587.00890000, -112.26640000, 12.82194000 );
            SET_CAM_ROT( l_U4068, -9.08568900, 0.00000000, 41.73688000 );
            SET_CAM_FOV( l_U4068, 27.90004000 );
            CREATE_CAM( 3, ref l_U4069 );
            SET_CAM_INTERP_STYLE_CORE( l_U4069, l_U4067, l_U4068, 10000, 0 );
            SET_CAM_INTERP_STYLE_DETAILED( l_U4069, 1, 1, 1, 1 );
            sub_56223( l_U4069, 1 );
            DISPLAY_RADAR( 0 );
            SET_WIDESCREEN_BORDERS( 1 );
            g_U2792 = 1;
            l_U3877++;
        }
        if (l_U3878 == 0)
        {
            if (NOT (IS_CHAR_INJURED( l_U3984 )))
            {
                OPEN_SEQUENCE_TASK( ref l_U4087 );
                TASK_LEAVE_ANY_CAR( 0 );
                TASK_GO_STRAIGHT_TO_COORD( 0, l_U3720._fU0, l_U3720._fU4, l_U3720._fU8, 2, -2 );
                CLOSE_SEQUENCE_TASK( l_U4087 );
                if (IS_CHAR_IN_ANY_CAR( l_U3984 ))
                {
                    TASK_PERFORM_SEQUENCE( l_U3984, l_U4087 );
                }
                else
                {
                    TASK_GO_STRAIGHT_TO_COORD( l_U3984, l_U3720._fU0, l_U3720._fU4, l_U3720._fU8, 2, -2 );
                }
                CLEAR_SEQUENCE_TASK( l_U4087 );
            }
            l_U4202 = 1;
            sub_39077( "E2T3_THERE", 42, 6, "E2T3AUD", 0, 0 );
            l_U3878++;
        }
        else if (l_U3878 == 1)
        {
            OPEN_SEQUENCE_TASK( ref l_U4087 );
            TASK_LEAVE_ANY_CAR( 0 );
            TASK_GO_STRAIGHT_TO_COORD( 0, l_U3720._fU0, l_U3720._fU4, l_U3720._fU8, 2, -2 );
            CLOSE_SEQUENCE_TASK( l_U4087 );
            if (IS_CHAR_IN_ANY_CAR( sub_6646() ))
            {
                if (TIMERB() > 1200)
                {
                    TASK_PERFORM_SEQUENCE( sub_6646(), l_U4087 );
                    l_U3878++;
                }
            }
            else
            {
                TASK_GO_STRAIGHT_TO_COORD( sub_6646(), l_U3720._fU0, l_U3720._fU4, l_U3720._fU8, 2, -2 );
                l_U3878++;
            }
            CLEAR_SEQUENCE_TASK( l_U4087 );
        }
        if ((sub_56753()) || (TIMERB() > 7000))
        {
            sub_11417( 1 );
            if (NOT IS_SCREEN_FADED_OUT())
            {
                DO_SCREEN_FADE_OUT( 500 );
                while (NOT IS_SCREEN_FADED_OUT())
                {
                    WAIT( 0 );
                }
            }
            if (DOES_CAM_EXIST( l_U4069 ))
            {
                DESTROY_CAM( l_U4069 );
            }
            if (DOES_CAM_EXIST( l_U4067 ))
            {
                DESTROY_CAM( l_U4067 );
            }
            if (DOES_CAM_EXIST( l_U4068 ))
            {
                DESTROY_CAM( l_U4068 );
            }
            DISPLAY_RADAR( 1 );
            SET_WIDESCREEN_BORDERS( 0 );
            SWITCH_ROADS_BACK_TO_ORIGINAL( -574.65150000, -56.11360000, -10.72940000, -556.45840000, 172.57980000, 50.65630000 );
            SWITCH_ROADS_BACK_TO_ORIGINAL( -124.73870000, -244.20090000, -11.68050000, -61.72770000, -223.41450000, 50.65630000 );
            SET_CAR_GENERATORS_ACTIVE_IN_AREA( -608.00000000, -100.00000000, 2.00000000, -600.00000000, -94.00000000, 8.00000000, 1 );
            l_U3878 = 0;
            l_U4221 = 3;
        }
    }
    return;
}

void sub_56223(unknown uParam0, unknown uParam1)
{
    SET_CAM_ACTIVE( uParam0, uParam1 );
    SET_CAM_PROPAGATE( uParam0, uParam1 );
    ACTIVATE_SCRIPTED_CAMS( uParam1, uParam1 );
    return;
}

int sub_56753()
{
    if (((IS_CONTROL_JUST_PRESSED( 2, 98 )) AND (NOT IS_USING_CONTROLLER())) || (((IS_CONTROL_JUST_PRESSED( 2, 137 )) AND (NOT IS_USING_CONTROLLER())) || ((IS_CONTROL_JUST_PRESSED( 2, 77 )) || (IS_CONTROL_JUST_PRESSED( 0, 77 )))))
    {
        return 1;
        break;
    }
    return 0;
}

void sub_57164()
{
    sub_7282();
    CLEAR_PRINTS();
    if (NOT IS_SCREEN_FADED_OUT())
    {
        DO_SCREEN_FADE_OUT( 500 );
        while (NOT IS_SCREEN_FADED_OUT())
        {
            WAIT( 0 );
        }
    }
    sub_12640( 0 );
    sub_57241( 0 );
    WAIT( 100 );
    l_U4212 = "E2T3AUD";
    LOAD_ADDITIONAL_TEXT( "E2T3AUD", 6 );
    if (DOES_CHAR_EXIST( l_U3984 ))
    {
        DELETE_CHAR( ref l_U3984 );
    }
    if (IS_CHAR_IN_ANY_CAR( sub_6646() ))
    {
        WARP_CHAR_FROM_CAR_TO_COORD( sub_6646(), l_U3678._fU0, l_U3678._fU4, l_U3678._fU8 );
    }
    if (DOES_VEHICLE_EXIST( l_U4051 ))
    {
        DELETE_CAR( ref l_U4051 );
    }
    g_U10935 = 1;
    ADD_SCENARIO_BLOCKING_AREA( -832.43740000, -41.10810000, -10.00000000, -629.18760000, 25.96510000, 20.00000000 );
    TERMINATE_ALL_SCRIPTS_WITH_THIS_NAME( "sprunk" );
    CLEAR_AREA( l_U3678._fU0, l_U3678._fU4, l_U3678._fU8, 500.00000000, 1 );
    LOAD_SCENE( l_U3757._fU0 - 100.00000000, l_U3757._fU4, l_U3757._fU8 );
    START_CUTSCENE_NOW( "GT03_BA" );
    while (NOT HAS_CUTSCENE_LOADED())
    {
        WAIT( 0 );
    }
    while (NOT HAS_CUTSCENE_FINISHED())
    {
        TERMINATE_ALL_SCRIPTS_WITH_THIS_NAME( "sprunk" );
        WAIT( 0 );
    }
    CLEAR_NAMED_CUTSCENE( "GT03_BA" );
    l_U4221 = 4;
    return;
}

void sub_57241(unknown uParam0)
{
    if (sub_11432( l_U4204 ))
    {
        sub_11473( l_U4211, ref l_U4204, l_U4210, 0 );
        WAIT( 0 );
    }
    sub_12495( ref l_U4204, uParam0 );
    l_U4118 = 0;
    return;
}

void sub_57721()
{
    int iVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;

    GET_GAME_TIMER( ref iVar2 );
    if (NOT (IS_CHAR_INJURED( l_U3987 )))
    {
        if (NOT (IS_CHAR_INJURED( l_U3985 )))
        {
            GET_CHAR_COORDINATES( l_U3985, ref uVar3._fU0, ref uVar3._fU4, ref uVar3._fU8 );
            GET_CHAR_HEADING( l_U3985, ref uVar6 );
            SET_CHAR_COORDINATES_NO_OFFSET( l_U3987, uVar3._fU0, uVar3._fU4, uVar3._fU8 );
            SET_CHAR_HEADING( l_U3987, uVar6 );
        }
        if (NOT (IS_CHAR_PLAYING_ANIM( l_U3987, "MISSTONY03", "Vic_Idle" )))
        {
            TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U3987, "Vic_Idle", "MISSTONY03", 1000.00000000, 1, 0, 0, 0, 0 );
        }
    }
    switch (l_U4222)
    {
        case 0:
        sub_57978();
        break;
        case 1:
        sub_62859();
        sub_68983( sub_6646() );
        if (l_U4228 != 4)
        {
            if ((l_U3852 == 0) AND (l_U3822))
            {
                if (NOT l_U3827[0])
                {
                    CLEAR_HELP();
                    sub_70359( "T3_GHELPA1", "T3_GHELPB1" );
                    l_U3827[0] = 1;
                }
            }
            else if (NOT l_U3827[2])
            {
                CLEAR_HELP();
                sub_70359( "T3_GHELPA3", "T3_GHELPB3" );
                l_U3827[2] = 1;
            }
            sub_70486();
        }
        else if (IS_HELP_MESSAGE_BEING_DISPLAYED())
        {
            CLEAR_HELP();
        }
        sub_71736();
        sub_11417( 1 );;
        if (NOT l_U3791)
        {
            if (TIMERB() > 1000)
            {
                if (l_U3793)
                {
                    if (l_U3852 == 0)
                    {
                        if (NOT IS_MESSAGE_BEING_DISPLAYED())
                        {
                            sub_39077( "E2T3_CHAT1", 6, 6, "E2T3AUD", 0, 0 );
                            l_U3791 = 1;
                        }
                    }
                    else if (l_U3852 == 1)
                    {
                        if ((NOT (sub_55034( l_U4204 ))) AND (NOT IS_MESSAGE_BEING_DISPLAYED()))
                        {
                            if ((NOT l_U4119[71]) AND (NOT l_U4119[70]))
                            {
                                if (IS_BIT_SET( g_U10938._fU0, 7 ))
                                {
                                    sub_39077( "E2T3_FMOV1", 70, 6, "E2T5BAU", 0, 0 );
                                }
                                else
                                {
                                    sub_39077( "E2T3_FMOV2", 71, 6, "E2T5BAU", 0, 0 );
                                }
                            }
                            else if (NOT l_U4119[7])
                            {
                                sub_39077( "E2T3_CHAT2", 7, 6, "E2T3AUD", 0, 0 );
                                l_U3791 = 1;
                            }
                        }
                    }
                    else if (l_U3852 == 2)
                    {
                        if ((NOT (sub_55034( l_U4204 ))) AND (NOT IS_MESSAGE_BEING_DISPLAYED()))
                        {
                            if (NOT l_U4119[73])
                            {
                                sub_39077( "E2T3_MOVES", 73, 6, "E2T5BAU", 0, 0 );
                            }
                            else if (NOT l_U4119[8])
                            {
                                sub_39077( "E2T3_CHAT3", 8, 6, "E2T3AUD", 0, 0 );
                                l_U3791 = 1;
                            }
                        }
                    };;;
                }
                else if (NOT l_U4119[43])
                {
                    sub_39077( "E2T3_TIPS", 43, 6, "E2T3AUD", 1, 0 );
                    l_U4119[44] = 0;
                }
                else if (NOT l_U4119[44])
                {
                    sub_39077( "E2T3_THANX", 44, 6, "E2T3AUD", 1, 0 );
                    l_U4119[43] = 0;
                    l_U3791 = 1;
                };;;
            }
        }
        else if ((iVar2 - l_U3875) > l_U3876)
        {
            if ((l_U4119[8]) AND (NOT l_U4119[9]))
            {
                sub_39077( "E2T3_CHAT4", 9, 6, "E2T3AUD", 0, 0 );
            }
            else
            {
                sub_39077( "E2T3_ENCOU", 1, 6, "E2T3AUD", 1, 0 );
            }
            GET_GAME_TIMER( ref l_U3875 );
            GENERATE_RANDOM_INT_IN_RANGE( 20000, 30000, ref l_U3876 );
        }
        break;
        case 2:
        sub_72619();
        break;
        case 3:
        g_U43571 = l_U3822;
        g_U43104[2] = 1;
        l_U4221 = 5;
        break;
    }
    if (IS_VEH_DRIVEABLE( l_U4052 ))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U4052 ))
        {
            sub_78604( l_U4052, 1.00000000 );
        }
        else
        {
            FREEZE_CAR_POSITION( l_U4052, 1 );
        }
    }
    return;
}

void sub_57978()
{
    int iVar2;
    int iVar3;

    CLEAR_HELP();
    CLEAR_PRINTS();
    if (NOT IS_SCREEN_FADED_OUT())
    {
        DO_SCREEN_FADE_OUT( 500 );
        while (NOT IS_SCREEN_FADED_OUT())
        {
            WAIT( 0 );
        }
    }
    REQUEST_MODEL( 1147287684 );
    REQUEST_MODEL( 819995114 );
    REQUEST_MODEL( 1277520569 );
    REQUEST_MODEL( 64730935 );
    REQUEST_MODEL( 657888018 );
    REQUEST_MODEL( 996477618 );
    REQUEST_MODEL( 576867354 );
    REQUEST_MODEL( -411494208 );
    REQUEST_ANIMS( "FACIALS@M_LO" );
    REQUEST_ANIMS( "MINI_GOLF" );
    REQUEST_ANIMS( "MISSTONY03" );
    sub_15006( 6 );
    sub_15006( 0 );
    while ((NOT (sub_15578( 0 ))) || ((NOT (sub_15578( 6 ))) || ((NOT (HAVE_ANIMS_LOADED( "MISSTONY03" ))) || ((NOT (HAVE_ANIMS_LOADED( "MINI_GOLF" ))) || ((NOT (HAVE_ANIMS_LOADED( "FACIALS@M_LO" ))) || ((NOT (HAS_MODEL_LOADED( -411494208 ))) || ((NOT (HAS_MODEL_LOADED( 576867354 ))) || ((NOT (HAS_MODEL_LOADED( 996477618 ))) || ((NOT (HAS_MODEL_LOADED( 657888018 ))) || ((NOT (HAS_MODEL_LOADED( 64730935 ))) || ((NOT (HAS_MODEL_LOADED( 1277520569 ))) || ((NOT (HAS_MODEL_LOADED( 819995114 ))) || (NOT (HAS_MODEL_LOADED( 1147287684 )))))))))))))))
    {
        WAIT( 0 );
    }
    if (# -NULL-0xc27c84())
    {
        l_U4093 = LOAD_TXD( "e2:/xbox360/textures/golf" );
    }
    else if (# -NULL-0xc27bfa())
    {
        l_U4093 = LOAD_TXD( "e2:/pc/textures/golf" );
    }
    l_U4094 = GET_TEXTURE( l_U4093, "e2_meter_golfpowergradient" );
    l_U4095 = GET_TEXTURE( l_U4093, "e2_meter_gauge" );
    l_U4096 = GET_TEXTURE( l_U4093, "e2_meter_golfpower_black" );
    l_U4097 = GET_TEXTURE( l_U4093, "e2_meter_golfpower_white" );
    l_U3847 = 1;
    CLEAR_AREA( l_U3678._fU0, l_U3678._fU4, l_U3678._fU8, 500.00000000, 1 );
    CLEAR_CHAR_TASKS_IMMEDIATELY( sub_6646() );
    if (NOT (IS_CHAR_IN_ANY_CAR( sub_6646() )))
    {
        SET_CHAR_COORDINATES( sub_6646(), l_U3678._fU0, l_U3678._fU4, l_U3678._fU8 );
    }
    else
    {
        WARP_CHAR_FROM_CAR_TO_COORD( sub_6646(), l_U3678._fU0, l_U3678._fU4, l_U3678._fU8 );
    }
    SET_CHAR_HEADING( sub_6646(), l_U3901 );
    SET_PLAYER_CONTROL( sub_6741(), 1 );
    GIVE_WEAPON_TO_CHAR( sub_6646(), 0, 0, 1 );
    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( sub_6646(), 1 );
    BLOCK_PED_WEAPON_SWITCHING( sub_6646(), 1 );
    CREATE_CAR( 1147287684, l_U3690._fU0, l_U3690._fU4, l_U3690._fU8, ref l_U4052, 1 );
    TURN_OFF_VEHICLE_EXTRA( l_U4052, 5, 0 );
    SET_CAR_HEADING( l_U4052, l_U3902 );
    LOCK_CAR_DOORS( l_U4052, 3 );
    FREEZE_CAR_POSITION( l_U4052, 1 );
    SET_CAN_BURST_CAR_TYRES( l_U4052, 0 );
    SET_CAR_HEALTH( l_U4052, 1150 );
    CREATE_CHAR( 26, 657888018, l_U3690._fU0 + 1.00000000, l_U3690._fU4, l_U3690._fU8, ref l_U3985, 1 );
    SET_CHAR_COMPONENT_VARIATION( l_U3985, 1, 1, 2 );
    ADD_BLIP_FOR_CHAR( l_U3985, ref l_U3977 );
    sub_21292( l_U3977 );
    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3985, 1 );
    ATTACH_PED_TO_CAR( l_U3985, l_U4052, 0, l_U3696, 0.00000000, 0.00000000, 0, 0 );
    SET_ROTATION_FOR_ATTACHED_PED( l_U3985, l_U3699 );
    TASK_PLAY_ANIM_FACIAL( l_U3985, "Mood_Scared", "FACIALS@M_LO", 4.00000000, 1, 0, -1 );
    SET_PED_DIES_WHEN_INJURED( l_U3985, 0 );
    SET_CHAR_NEVER_TARGETTED( l_U3985, 1 );
    SET_CHAR_ONLY_DAMAGED_BY_PLAYER( l_U3985, 1 );
    TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U3985, "Vic_Idle", "MISSTONY03", 1000.00000000, 1, 0, 0, 0, 0 );
    sub_13813( 3, l_U3985, "UNION_GUY", 0 );
    SET_CHAR_MAX_HEALTH( l_U3985, 2000 );
    SET_CHAR_HEALTH( l_U3985, 1800 );
    SET_CHAR_SUFFERS_CRITICAL_HITS( l_U3985, 0 );
    CREATE_CHAR( 26, 657888018, l_U3690._fU0 + 2.00000000, l_U3690._fU4, l_U3690._fU8, ref l_U3987, 1 );
    SET_CHAR_INVINCIBLE( l_U3987, 1 );
    SET_CHAR_VISIBLE( l_U3987, 0 );
    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3987, 1 );
    TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U3987, "Vic_Idle", "MISSTONY03", 1000.00000000, 1, 0, 0, 0, 0 );
    SET_CHAR_COLLISION( l_U3987, 0 );
    CREATE_OBJECT( -411494208, l_U3690._fU0, l_U3690._fU4, l_U3690._fU8, ref l_U4047[0], 1 );
    ATTACH_OBJECT_TO_PED( l_U4047[0], l_U3985, 13776, 0.00600000, 0.00500000, 0.01800000, 1.51300000, -0.38900000, 0.64100000, 0 );
    CREATE_OBJECT( -411494208, l_U3690._fU0 + 0.50000000, l_U3690._fU4, l_U3690._fU8, ref l_U4047[1], 1 );
    ATTACH_OBJECT_TO_PED( l_U4047[1], l_U3985, 13744, 0.00100000, -0.00200000, -0.01800000, -2.36100000, -0.10700000, 0.45200000, 0 );
    sub_25492( 6, ref l_U3983, l_U4052 );
    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3983, 1 );
    SET_CHAR_RELATIONSHIP_GROUP( l_U3983, 0 );
    SET_CHAR_RELATIONSHIP( l_U3983, 5, 23 );
    SET_CHAR_RELATIONSHIP( l_U3983, 1, 0 );
    SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( l_U3983, 0 );
    SET_CHAR_COMPONENT_VARIATION( l_U3983, 1, 1, 0 );
    sub_21059( 6 );
    sub_13813( 2, l_U3983, "ROCCO", 0 );
    if ((NOT (IS_CHAR_INJURED( l_U3985 ))) AND (NOT (IS_CHAR_INJURED( l_U3983 ))))
    {
        TASK_LOOK_AT_CHAR( l_U3983, l_U3985, -2, 0 );
        TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U3983, "Drv_Idle", "MISSTONY03", 1000.00000000, 1, 0, 0, 0, 0 );
    }
    sub_16300( 0, ref l_U3984, l_U3711._fU0, l_U3711._fU4, l_U3711._fU8, l_U3906 );
    SET_CHAR_MAX_HEALTH( l_U3984, 1000 );
    SET_CHAR_HEALTH( l_U3984, 1000 );
    GET_PLAYER_GROUP( sub_6741(), ref l_U4074 );
    SET_GROUP_SEPARATION_RANGE( l_U4074, 40.00000000 );
    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3984, 1 );
    SET_CHAR_NEVER_TARGETTED( l_U3984, 1 );
    SET_CHAR_WILL_USE_COVER( l_U3984, 1 );
    SET_CHAR_WILL_DO_DRIVEBYS( l_U3984, 1 );
    SET_CHAR_SUFFERS_CRITICAL_HITS( l_U3984, 0 );
    SET_CHAR_DECISION_MAKER( l_U3984, l_U4082 );
    SET_CHAR_ACCURACY( l_U3984, 10 );
    SET_CHAR_RELATIONSHIP( l_U3984, 5, 23 );
    SET_CHAR_RELATIONSHIP_GROUP( l_U3984, 0 );
    SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( l_U3984, 0 );
    SET_COMBAT_DECISION_MAKER( l_U3984, l_U4078 );
    SET_CHAR_FIRE_DAMAGE_MULTIPLIER( l_U3984, 0.10000000 );
    sub_13813( 1, l_U3984, "TONY", 0 );
    sub_21059( 0 );
    iVar2 = 0;
    iVar3 = -1;
    GET_CHAR_PROP_INDEX( l_U3984, 1, ref iVar3 );
    if (NOT (iVar3 == iVar2))
    {
        SET_CHAR_PROP_INDEX( l_U3984, 1, iVar2 );
    }
    TASK_LOOK_AT_CHAR( l_U3984, sub_6646(), -2, 0 );
    TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U3984, "Tny_Idle", "MISSTONY03", 1000.00000000, 1, 0, 0, 0, 0 );
    if ((IS_VEH_DRIVEABLE( l_U4051 )) AND (DOES_VEHICLE_EXIST( l_U4051 )))
    {
        DELETE_CAR( ref l_U4051 );
    }
    CREATE_OBJECT( 819995114, l_U3681._fU0, l_U3681._fU4, l_U3681._fU8, ref l_U3988, 1 );
    SET_OBJECT_RECORDS_COLLISIONS( l_U3988, 1 );
    CREATE_OBJECT( 1277520569, l_U3678._fU0, l_U3678._fU4, l_U3678._fU8 + 1.00000000, ref l_U3989, 1 );
    ATTACH_OBJECT_TO_PED( l_U3989, sub_6646(), 1219, l_U3714, l_U3717, 0 );
    if (GET_IS_WIDESCREEN())
    {
        l_U3941 = 0.17500000;
        l_U3942 = 0.85000000;
        l_U3943 = 0.01200000;
        l_U3944 = 0.15100000;
    }
    else
    {
        l_U3941 = 0.27500000;
        l_U3942 = 0.27500000;
        l_U3943 = 0.45000000;
        l_U3944 = 0.45000000;
    }
    CREATE_CAR( 1147287684, l_U3708._fU0, l_U3708._fU4, l_U3708._fU8, ref l_U4053, 1 );
    SET_CAR_HEADING( l_U4053, l_U3930 );
    SET_CAN_BURST_CAR_TYRES( l_U4053, 0 );
    SET_CAR_HEALTH( l_U4053, 1150 );
    sub_60709();
    MARK_MODEL_AS_NO_LONGER_NEEDED( 1147287684 );
    MARK_MODEL_AS_NO_LONGER_NEEDED( 819995114 );
    MARK_MODEL_AS_NO_LONGER_NEEDED( 1277520569 );
    MARK_MODEL_AS_NO_LONGER_NEEDED( 64730935 );
    MARK_MODEL_AS_NO_LONGER_NEEDED( 657888018 );
    MARK_MODEL_AS_NO_LONGER_NEEDED( 996477618 );
    MARK_MODEL_AS_NO_LONGER_NEEDED( 576867354 );
    MARK_MODEL_AS_NO_LONGER_NEEDED( -411494208 );
    l_U4099[0] = 1203;
    l_U4099[1] = 417;
    l_U4099[2] = 1205;
    sub_61139();
    sub_61644( 0 );
    ACTIVATE_SCRIPTED_CAMS( 1, 1 );
    l_U3856 = 0;
    l_U3910 = 0;
    l_U3909 = 0;
    l_U3961 = {l_U3702};
    GET_GAME_TIMER( ref l_U3859 );
    l_U3875 = l_U3859;
    GENERATE_RANDOM_INT_IN_RANGE( 2000, 5000, ref l_U3861 );
    GENERATE_RANDOM_INT_IN_RANGE( 20000, 30000, ref l_U3876 );
    TASK_PLAY_ANIM_NON_INTERRUPTABLE( sub_6646(), "Idle", "MINI_GOLF", 1000.00000000, 1, 0, 0, 0, 0 );
    SET_PED_DENSITY_MULTIPLIER( 0.50000000 );
    SET_CAR_DENSITY_MULTIPLIER( 0.00000000 );
    LOAD_SCENE( l_U3681._fU0, l_U3681._fU4, l_U3681._fU8 );
    sub_12640( 0 );
    WAIT( 0 );
    if (NOT IS_SCREEN_FADED_IN())
    {
        DO_SCREEN_FADE_IN( 500 );
        while (NOT IS_SCREEN_FADED_IN())
        {
            WAIT( 0 );
        }
    }
    PRINT_NOW( "T3_GOLF_AIM", 7500, 0 );
    SWITCH_STREAMING( 1 );
    l_U4222 = 1;
    return;
}

void sub_60709()
{
    int iVar2;

    iVar2 = 0;
    REQUEST_MODEL( 819995114 );
    REQUEST_MODEL( -258558968 );
    while ((NOT (HAS_MODEL_LOADED( -258558968 ))) || (NOT (HAS_MODEL_LOADED( 819995114 ))))
    {
        WAIT( 0 );
    }
    while (iVar2 < 50)
    {
        CREATE_OBJECT_NO_OFFSET( 819995114, l_U3681._fU0, l_U3681._fU4, (l_U3681._fU8 + 0.01000000) + (iVar2 * 0.01000000), ref l_U3996[iVar2], 1 );
        SET_OBJECT_COLLISION( l_U3996[iVar2], 0 );
        SET_OBJECT_DYNAMIC( l_U3996[iVar2], 0 );
        SET_OBJECT_VISIBLE( l_U3996[iVar2], 0 );
        iVar2++;
    }
    CREATE_OBJECT_NO_OFFSET( -258558968, l_U3681._fU0, l_U3681._fU4, l_U3681._fU8 + 10.00000000, ref l_U4050, 1 );
    SET_OBJECT_VISIBLE( l_U4050, 0 );
    MARK_MODEL_AS_NO_LONGER_NEEDED( 819995114 );
    MARK_MODEL_AS_NO_LONGER_NEEDED( -258558968 );
    return;
}

void sub_61139()
{
    CREATE_CAM( 14, ref l_U4062 );
    SET_CAM_POS( l_U4062, l_U3684._fU0, l_U3684._fU4, l_U3684._fU8 );
    SET_CAM_ROT( l_U4062, l_U3687._fU0, l_U3687._fU4, l_U3687._fU8 );
    SET_CAM_FOV( l_U4062, 45.00000000 );
    CREATE_CAM( 14, ref l_U4063 );
    if (DOES_OBJECT_EXIST( l_U3988 ))
    {
        POINT_CAM_AT_OBJECT( l_U4063, l_U3988 );
    }
    SET_CAM_FOV( l_U4063, 45.00000000 );
    if ((NOT (IS_CHAR_INJURED( l_U3983 ))) AND ((NOT (IS_CHAR_INJURED( l_U3985 ))) AND (IS_VEH_DRIVEABLE( l_U4052 ))))
    {
        CREATE_CAM( 14, ref l_U4064 );
        ATTACH_CAM_TO_VEHICLE( l_U4064, l_U4052 );
        SET_CAM_ATTACH_OFFSET( l_U4064, l_U3729._fU0, l_U3729._fU4, l_U3729._fU8 );
        SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U4064, 1 );
        POINT_CAM_AT_PED( l_U4064, l_U3985 );
        SET_CAM_POINT_OFFSET( l_U4064, l_U3726._fU0, l_U3726._fU4, l_U3726._fU8 );
        SET_CAM_FOV( l_U4064, 45.00000000 );
        CREATE_CAM( 14, ref l_U4065 );
        ATTACH_CAM_TO_VEHICLE( l_U4065, l_U4052 );
        SET_CAM_ATTACH_OFFSET( l_U4065, l_U3735._fU0, l_U3735._fU4, l_U3735._fU8 );
        SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U4065, 1 );
        POINT_CAM_AT_PED( l_U4065, l_U3983 );
        SET_CAM_POINT_OFFSET( l_U4065, l_U3732._fU0, l_U3732._fU4, l_U3732._fU8 );
        SET_CAM_FOV( l_U4065, 45.00000000 );
    }
    return;
}

void sub_61644(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;

    switch (l_U4227)
    {
        case 0:
        sub_56223( l_U4062, 0 );
        break;
        case 1:
        sub_56223( l_U4063, 0 );
        break;
        case 2:
        sub_56223( l_U4064, 0 );
        break;
        case 3:
        sub_56223( l_U4065, 0 );
        break;
        case 4:
        sub_56223( l_U4070, 0 );
        break;
    }
    switch (uParam0)
    {
        case 0:
        SET_CAM_POS( l_U4062, l_U3684._fU0, l_U3684._fU4, l_U3684._fU8 );
        SET_CAM_ROT( l_U4062, l_U3687._fU0, l_U3687._fU4, l_U3687._fU8 );
        SET_CAM_FOV( l_U4062, 45.00000000 );
        l_U3945 = 0.00000000;
        l_U3946 = 0.00000000;
        l_U3948 = 45.00000000;
        sub_56223( l_U4062, 1 );
        break;
        case 1:
        l_U3781 = {4.00000000, 0.00000000, 1.50000000};
        GET_OBJECT_COORDINATES( l_U3988, ref uVar3._fU0, ref uVar3._fU4, ref uVar3._fU8 );
        SET_CAM_POS( l_U4063, uVar3._fU0 + l_U3781._fU0, uVar3._fU4 + l_U3781._fU4, uVar3._fU8 + l_U3781._fU8 );
        sub_56223( l_U4063, 1 );
        break;
        case 2:
        sub_56223( l_U4064, 1 );
        break;
        case 3:
        sub_56223( l_U4065, 1 );
        break;
        case 4:
        GET_CAM_POS( l_U4062, ref uVar6._fU0, ref uVar6._fU4, ref uVar6._fU8 );
        GET_CAM_ROT( l_U4062, ref uVar9._fU0, ref uVar9._fU4, ref uVar9._fU8 );
        GET_CAM_FOV( l_U4062, ref uVar18 );
        uVar12._fU0 = l_U3961._fU0 + 15.00000000;
        uVar12._fU4 = l_U3961._fU4;
        uVar12._fU8 = uVar6._fU8;
        ACTIVATE_SCRIPTED_CAMS( 1, 1 );
        CREATE_CAM( 14, ref l_U4071[0] );
        SET_CAM_POS( l_U4071[0], uVar6._fU0, uVar6._fU4, uVar6._fU8 );
        SET_CAM_ROT( l_U4071[0], uVar9._fU0, uVar9._fU4, uVar9._fU8 );
        SET_CAM_FOV( l_U4071[0], uVar18 );
        SET_CAM_ACTIVE( l_U4071[0], 1 );
        CREATE_CAM( 14, ref l_U4071[1] );
        SET_CAM_POS( l_U4071[1], uVar12._fU0, uVar12._fU4, uVar12._fU8 );
        POINT_CAM_AT_OBJECT( l_U4071[1], l_U4050 );
        SET_CAM_FOV( l_U4071[1], uVar18 );
        SET_CAM_ACTIVE( l_U4071[1], 1 );
        CREATE_CAM( 25, ref l_U4070 );
        SET_CAM_SPLINE_DURATION( l_U4070, 10000 );
        SET_CAM_SPLINE_SPEED_GRAPH( l_U4070, 1 );
        ADD_CAM_SPLINE_NODE( l_U4070, l_U4071[0] );
        ADD_CAM_SPLINE_NODE( l_U4070, l_U4071[1] );
        SET_CAM_ACTIVE( l_U4070, 1 );
        SET_CAM_PROPAGATE( l_U4070, 1 );
        l_U3953 = 0.00000000;
        l_U4234 = 1;
        break;
    }
    l_U4227 = uParam0;
    return;
}

void sub_62859()
{
    float fVar2;
    float fVar3;
    int iVar4;
    int iVar5;
    unknown uVar6;
    int iVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    int iVar11;
    float fVar12;
    float fVar13;

    fVar2 = 0.00000000;
    fVar3 = 0.00000000;
    GET_POSITION_OF_ANALOGUE_STICKS( 0, ref iVar4, ref iVar5, ref uVar6, ref iVar7 );
    if (NOT IS_USING_CONTROLLER())
    {
        GET_MOUSE_INPUT( ref iVar4, ref iVar5 );
    }
    GET_FRAME_TIME( ref fVar3 );
    sub_62924();
    if (IS_CHAR_PLAYING_ANIM( sub_6646(), "MINI_GOLF", "Swing_Intro" ))
    {
        GET_CHAR_ANIM_CURRENT_TIME( sub_6646(), "MINI_GOLF", "Swing_Intro", ref fVar2 );
    }
    if (l_U3858 == 0)
    {
        if (fVar2 == 1.00000000)
        {
            GET_GAME_TIMER( ref l_U3858 );
        }
    }
    if (l_U4228 == 4)
    {
        if (sub_65090( sub_6646() ))
        {
            if (NOT (IS_CHAR_INJURED( l_U3985 )))
            {
                GET_CHAR_COORDINATES( l_U3985, ref uVar8._fU0, ref uVar8._fU4, ref uVar8._fU8 );
            }
            l_U3915 = l_U3911 * l_U3909;
            l_U3916 = l_U3912 * l_U3909;
            sub_65297();
            SHAKE_PAD( 0, 250, ROUND( 255.00000000 * l_U3909 ) );
            if ((ABSF( l_U3900 )) < 2.00000000)
            {
                sub_66840( l_U3909, 1 );
            }
            else
            {
                sub_66840( l_U3909, 0 );
            }
            l_U3909 = 0.00000000;
            l_U3936 = 0.00000000;
            l_U3951 = 0.00000000;
            SETTIMERA( 0 );
            SET_PLAYER_CONTROL( sub_6741(), 0 );
            l_U4222 = 2;
        }
    }
    else if (l_U4228 == 0)
    {
        if ((iVar5 != 0) || (iVar4 != 0))
        {
            l_U3961._fU0 += (((TO_FLOAT( iVar5 )) / 128.00000000) * l_U3920) * (fVar3 * 30.00000000);
            l_U3961._fU4 += (((TO_FLOAT( iVar4 )) / 128.00000000) * l_U3920) * (fVar3 * 30.00000000);
            if (l_U3961._fU0 < l_U3921)
            {
                l_U3961._fU0 = l_U3921;
            }
            else if (l_U3961._fU0 > l_U3922)
            {
                l_U3961._fU0 = l_U3922;
            }
            if (l_U3961._fU4 < l_U3923)
            {
                l_U3961._fU4 = l_U3923;
            }
            else if (l_U3961._fU4 > l_U3924)
            {
                l_U3961._fU4 = l_U3924;
            }
        }
        if (l_U3858 != 0)
        {
            l_U3858 = 0;
        }
        l_U3938 = (SQRT( (sub_54615( l_U3961, l_U3681, 1, 1 )) / l_U3925 )) - 0.01500000;
        l_U3939 = l_U3938 - 0.02500000;
        l_U3915 = l_U3911 * l_U3939;
        l_U3916 = l_U3912 * l_U3939;
        l_U3910 = ATAN2( l_U3961._fU4 - l_U3681._fU4, ABSF( l_U3961._fU0 - l_U3681._fU0 ) );
        if (((l_U3883 == 1) AND ((IS_CONTROL_JUST_PRESSED( 2, 137 )) || (IS_CONTROL_JUST_PRESSED( 2, 1 )))) || ((l_U3883 == 0) AND (iVar7 > 110)))
        {
            if (l_U3805)
            {
                l_U3936 = 0.00000000;
                l_U3884 = 1;
            }
            l_U4228 = 1;
        }
    }
    else if (l_U4228 == 1)
    {
        if (((l_U3884 == -1) AND ((l_U3883 == 1) AND ((IS_CONTROL_JUST_PRESSED( 0, 137 )) || (IS_CONTROL_JUST_PRESSED( 0, 1 ))))) || ((l_U3883 == 0) AND (iVar7 < -10)))
        {
            CLEAR_HELP();
            CLEAR_PRINTS();
            if (l_U3805)
            {
                l_U3909 = l_U3951;
                if ((ABSF( l_U3909 - l_U3938 )) < l_U3937)
                {
                    l_U3909 = l_U3938;
                }
            }
            else
            {
                GET_GAME_TIMER( ref iVar11 );
                l_U3917 = 1.00000000;
                if (fVar2 == 1.00000000)
                {
                    fVar12 = TO_FLOAT( iVar11 - l_U3858 );
                    if (fVar12 > 1000.00000000)
                    {
                        l_U3917 -= fVar12 / 10000.00000000;
                    }
                }
                else
                {
                    l_U3917 = fVar2;
                }
                if (l_U3917 < 0.50000000)
                {
                    l_U3917 = 0.50000000;
                }
                l_U3909 = ((SQRT( (sub_54615( l_U3961, l_U3681, 1, 1 )) / l_U3925 )) - 0.01500000) * l_U3917;
                if (l_U3909 > 1.00000000)
                {
                    l_U3909 = 1.00000000;
                }
            }
            l_U3900 = (TO_FLOAT( uVar6 )) / 20.00000000;
            l_U3910 = (ATAN2( l_U3961._fU4 - l_U3681._fU4, ABSF( l_U3961._fU0 - l_U3681._fU0 ) )) + l_U3900;
            l_U3926 = 0.75000000 + (0.75000000 * l_U3909);
            fVar13 = ((l_U3909 * l_U3909) + 0.01500000) * l_U3925;
            l_U3964._fU0 = l_U3681._fU0 + ((fVar13 * (COS( l_U3910 ))) * (SIN( 65446 )));
            l_U3964._fU4 = l_U3681._fU4 + ((fVar13 * (-SIN( l_U3910 ))) * (SIN( 65446 )));
            l_U3964._fU8 = 0.00000000;
            sub_68154( l_U3909, ref l_U3989 );
            l_U4228 = 4;
        }
        else if (l_U3883 == 0)
        {
            if (l_U3936 < 1.00000000)
            {
                l_U3936 += (l_U3937 * 30.00000000) * fVar3;
                if (l_U3936 > 1.00000000)
                {
                    l_U3936 = 1.00000000;
                }
            }
        }
        else if (l_U3883 == 1)
        {
            if (l_U3884 == 1)
            {
                if (l_U3936 < 1.00000000)
                {
                    l_U3936 = (fVar2 - 0.33000000) / 0.64000000;
                    if (l_U3936 < 0.00000000)
                    {
                        l_U3936 = 0.00000000;
                    }
                    if (l_U3936 >= 1.00000000)
                    {
                        l_U3936 = 1.00000000;
                        l_U3884 = -1;
                    }
                }
            }
            else if (l_U3884 == -1)
            {
                if (l_U3936 > 0.00000000)
                {
                    l_U3936 -= ((l_U3937 * 0.65000000) * 30.00000000) * fVar3;
                    if (l_U3936 < 0.00000000)
                    {
                        l_U3936 = 0.00000000;
                    }
                }
            }
            l_U3951 = l_U3936;
        }
        if (((l_U3883 == 1) AND ((l_U3884 == -1) AND (l_U3936 == 0.00000000))) || ((l_U3883 == 0) AND ((l_U3857 < 110) AND (iVar7 < 110))))
        {
            l_U4228 = 3;
        }
    };;;
    if ((NOT IS_SCREEN_FADING()) AND ((l_U4222 != 2) AND (l_U3805)))
    {
        sub_68650();
    }
    l_U3857 = iVar7;
    return;
}

void sub_62924()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    int iVar6;
    float fVar7;
    float fVar8;
    float fVar9;
    float fVar10;
    float fVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    float fVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;

    switch (l_U4227)
    {
        case 0:
        if (l_U4228 != 4)
        {
            GET_POSITION_OF_ANALOGUE_STICKS( 0, ref uVar2, ref uVar3, ref uVar4, ref uVar5 );
            iVar6 = GET_CONTROL_VALUE( 0, 4 );
            if (NOT IS_USING_CONTROLLER())
            {
                GET_KEYBOARD_MOVE_INPUT( ref uVar4, ref uVar5 );
                iVar6 = GET_CONTROL_VALUE( 0, 87 );
            }
            if (iVar6 > 0)
            {
                sub_61644( 4 );
            }
            else
            {
                GET_FRAME_TIME( ref fVar10 );
                fVar10 *= 30.00000000;
                if ((ABSI( uVar4 )) > 25)
                {
                    fVar7 = (uVar4 / 128.00000000) * 2.00000000;
                }
                sub_63124( ref l_U3946, fVar7, 0.10000000 );
                l_U3945 -= l_U3946 * fVar10;
                fVar11 = (10.00000000 - l_U3950) * 3.00000000;
                l_U3952 = 45.00000000 - fVar11;
                if (l_U3945 < -20.00000000)
                {
                    l_U3945 = -20.00000000;
                    l_U3946 = 0.00000000;
                }
                else if (l_U3945 > 20.00000000)
                {
                    l_U3945 = 20.00000000;
                    l_U3946 = 0.00000000;
                }
                fVar8 = l_U3790 * (COS( l_U3945 ));
                fVar9 = l_U3790 * (SIN( l_U3945 ));
                l_U3948 += 10.00000000 * fVar10;
                if (l_U3948 > 45.00000000)
                {
                    l_U3948 = 45.00000000;
                }
                l_U3949 = l_U3950 - (((l_U3948 - fVar11) / l_U3952) * l_U3950);
            }
            SET_CAM_POS( l_U4062, l_U3775._fU0 + fVar8, l_U3775._fU4 + fVar9, l_U3684._fU8 );
            SET_CAM_ROT( l_U4062, l_U3687._fU0 + l_U3949, l_U3687._fU4, l_U3687._fU8 + l_U3945 );
            SET_CAM_FOV( l_U4062, l_U3948 );
            l_U3885 = iVar6;
        }
        else
        {
            l_U3946 = 0.00000000;
        }
        break;
        case 1:
        GET_OBJECT_COORDINATES( l_U3988, ref uVar12._fU0, ref uVar12._fU4, ref uVar12._fU8 );
        GET_FRAME_TIME( ref fVar15 );
        fVar15 *= 30.00000000;
        if (NOT l_U3796)
        {
            sub_63715( l_U4063, 0.00000000, 0.00000000, 0.00000000, -0.10000000, 0.10000000, 0.00500000, 0.01000000 );
            if (uVar12._fU0 < (l_U3681._fU0 - 20.00000000))
            {
                if (l_U3916 < 0.00000000)
                {
                    l_U3781._fU0 += 0.10000000 * fVar15;
                }
                else
                {
                    l_U3781._fU0 += 0.05000000 * fVar15;
                }
            }
            SET_CAM_POS( l_U4063, uVar12._fU0 + l_U3781._fU0, uVar12._fU4 + l_U3781._fU4, uVar12._fU8 + l_U3781._fU8 );
        }
        else
        {
            sub_63715( l_U4063, 0.00000000, 0.00000000, 0.00000000, -0.01000000, 0.01000000, 0.00100000, 0.00500000 );
            if (uVar12._fU0 < (l_U3681._fU0 - 20.00000000))
            {
                GET_CAM_POS( l_U4063, ref uVar16._fU0, ref uVar16._fU4, ref uVar16._fU8 );
                SET_CAM_POS( l_U4063, uVar16._fU0 - (0.04000000 * fVar15), uVar16._fU4, uVar16._fU8 + (0.02000000 * fVar15) );
            }
        }
        break;
        case 4:
        sub_64302();
        break;
    }
    return;
}

void sub_63124(unknown uParam0, float fParam1, unknown uParam2)
{
    unknown uVar5;
    float fVar6;

    if ((uParam0^) != fParam1)
    {
        GET_FRAME_TIME( ref uVar5 );
        fVar6 = (uParam2 * 30.00000000) * uVar5;
        if (((uParam0^) - fParam1) > fVar6)
        {
            (uParam0^) -= fVar6;
        }
        else if (((uParam0^) - fParam1) < -fVar6)
        {
            (uParam0^) += fVar6;
        }
        else
        {
            (uParam0^) = fParam1;
        }
    }
    return;
}

void sub_63715(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7)
{
    if ((l_U0._fU8 != uParam1._fU8) || ((l_U0._fU4 != uParam1._fU4) || (l_U0._fU0 != uParam1._fU0)))
    {
        l_U0 = {uParam1};
        l_U6 = {0.00000000, 0.00000000, 0.00000000};
        l_U3 = {0.00000000, 0.00000000, 0.00000000};
    }
    if ((l_U6._fU8 == l_U3._fU8) AND ((l_U6._fU4 == l_U3._fU4) AND (l_U6._fU0 == l_U3._fU0)))
    {
        GENERATE_RANDOM_FLOAT_IN_RANGE( uParam4, uParam5, ref l_U3._fU0 );
        GENERATE_RANDOM_FLOAT_IN_RANGE( uParam4, uParam5, ref l_U3._fU4 );
        GENERATE_RANDOM_FLOAT_IN_RANGE( uParam4, uParam5, ref l_U3._fU8 );
        GENERATE_RANDOM_FLOAT_IN_RANGE( uParam6, uParam7, ref l_U16 );
    }
    else
    {
        sub_63124( ref l_U6._fU0, l_U3._fU0, l_U16 );
        sub_63124( ref l_U6._fU4, l_U3._fU4, l_U16 );
        sub_63124( ref l_U6._fU8, l_U3._fU8, l_U16 );
    }
    SET_CAM_POINT_OFFSET( uParam0, uParam1._fU0 + l_U6._fU0, uParam1._fU4 + l_U6._fU4, uParam1._fU8 + l_U6._fU8 );
    return;
}

void sub_64302()
{
    int I;
    int iVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    float fVar8;
    float fVar9;
    unknown uVar10;

    I = 0;
    iVar3 = GET_CONTROL_VALUE( 0, 4 );
    if (NOT IS_USING_CONTROLLER())
    {
        iVar3 = GET_CONTROL_VALUE( 0, 87 );
    }
    switch (l_U4234)
    {
        case 1:
        GET_CAM_POS( l_U4071[1], ref uVar5._fU0, ref uVar5._fU4, ref uVar5._fU8 );
        sub_64485( ref uVar5._fU0, l_U3961._fU0 + 15.00000000, ABSF( (l_U3961._fU0 - 15.00000000) - uVar5._fU0 ), 0.00100000, 0.03000000 * (ABSF( (l_U3961._fU0 - 15.00000000) - uVar5._fU0 )), 0.30000000 );
        sub_63124( ref uVar5._fU4, l_U3961._fU4, 0.08000000 * (ABSF( l_U3961._fU4 - uVar5._fU4 )) );
        SET_CAM_POS( l_U4071[1], uVar5._fU0, uVar5._fU4, uVar5._fU8 );
        if (iVar3 > 0)
        {
            fVar8 = (TO_FLOAT( iVar3 )) / 255.00000000;
            fVar9 = 0.01000000;
            if (fVar8 > 0.95000000)
            {
                fVar8 = 0.95000000;
            }
            if (((ABSI( iVar3 - l_U3885 )) > 10) || ((ABSF( fVar8 - l_U3953 )) > 0.00500000))
            {
                sub_64485( ref l_U3953, fVar8, 0.95000000, 0.00100000, fVar9, 0.10000000 );
            }
        }
        else
        {
            l_U4234 = 2;
        }
        SET_CAM_SPLINE_PROGRESS( l_U4070, l_U3953 );
        l_U3885 = iVar3;
        break;
        case 2:
        I = 0;
        for ( I = 0; I < l_U4071; I++ )
        {
            if (DOES_CAM_EXIST( l_U4071[I] ))
            {
                DESTROY_CAM( l_U4071[I] );
            }
        }
        if (DOES_CAM_EXIST( l_U4070 ))
        {
            DESTROY_CAM( l_U4070 );
        }
        sub_61644( 0 );
        break;
    }
    return;
}

void sub_64485(unknown uParam0, float fParam1, unknown uParam2, float fParam3, unknown uParam4, float fParam5)
{
    float fVar8;
    float fVar9;

    if ((uParam0^) != fParam1)
    {
        fVar8 = (ABSF( (uParam0^) - fParam1 )) / uParam2;
        fVar9 = uParam4;
        if (fVar8 < fParam5)
        {
            fVar9 = (fVar8 / fParam5) * uParam4;
        }
        if (fVar9 < fParam3)
        {
            fVar9 = fParam3;
        }
        sub_63124( uParam0, fParam1, fVar9 );
    }
    return;
}

int sub_65090(unknown uParam0)
{
    float fVar3;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (IS_CHAR_PLAYING_ANIM( uParam0, "MINI_GOLF", "Swing_Action" ))
        {
            GET_CHAR_ANIM_CURRENT_TIME( uParam0, "MINI_GOLF", "Swing_Action", ref fVar3 );
            if (fVar3 > 0.35000000)
            {
                return 1;
            }
        }
    }
    return 0;
}

void sub_65297()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    float fVar9;

    GET_FRAME_TIME( ref uVar2 );
    GET_OBJECT_COORDINATES( l_U3988, ref uVar3._fU0, ref uVar3._fU4, ref uVar3._fU8 );
    if (NOT (HAS_OBJECT_COLLIDED_WITH_ANYTHING( l_U3988 )))
    {
        GET_OBJECT_VELOCITY( l_U3988, ref l_U3955._fU0, ref l_U3955._fU4, ref l_U3955._fU8 );
        FREEZE_OBJECT_POSITION( l_U3988, 1 );
        l_U3916 += l_U3913 * uVar2;
        if (NOT l_U3796)
        {
            if (l_U3915 > 1.00000000)
            {
                l_U3915 += l_U3914 * uVar2;
            }
            uVar6._fU0 = (l_U3915 * (COS( l_U3910 ))) * (SIN( 65446 ));
            uVar6._fU4 = (l_U3915 * (-SIN( l_U3910 ))) * (SIN( 65446 ));
            uVar6._fU8 = l_U3916;
        }
        else
        {
            uVar6._fU0 = l_U3955._fU0 * l_U3919;
            uVar6._fU4 = l_U3955._fU4 * l_U3919;
            uVar6._fU8 = l_U3916;
        }
        l_U3797 = 0;
    }
    else if (NOT l_U3797)
    {
        FREEZE_OBJECT_POSITION( l_U3988, 1 );
        l_U3916 = -l_U3955._fU8 / 3.00000000;
        uVar6._fU0 = l_U3955._fU0 * l_U3918;
        uVar6._fU4 = l_U3955._fU4 * l_U3918;
        uVar6._fU8 = l_U3916;
        sub_65693( l_U3955, uVar3 );
    }
    else
    {
        GET_OBJECT_VELOCITY( l_U3988, ref l_U3955._fU0, ref l_U3955._fU4, ref l_U3955._fU8 );
        FREEZE_OBJECT_POSITION( l_U3988, 1 );
        uVar6._fU0 = l_U3955._fU0 * l_U3918;
        uVar6._fU4 = l_U3955._fU4 * l_U3918;
        uVar6._fU8 = l_U3955._fU8;
    }
    l_U3797 = 1;;
    if ((uVar6._fU8 == 0.00000000) AND ((uVar6._fU4 == 0.00000000) AND (uVar6._fU0 == 0.00000000)))
    {
        uVar6._fU0 = 0.00100000;
    }
    FREEZE_OBJECT_POSITION( l_U3988, 0 );
    SET_OBJECT_INITIAL_VELOCITY( l_U3988, uVar6._fU0, uVar6._fU4, uVar6._fU8 );
    if (l_U3851 != -1)
    {
        if ((NOT l_U3797) AND (NOT l_U3796))
        {
            fVar9 = (uVar3._fU8 - 5.00000000) / (30.00000000 - 5.00000000);
            if (fVar9 > 1.00000000)
            {
                fVar9 = 1.00000000;
            }
            else if (fVar9 < 0.00000000)
            {
                fVar9 = 0.00000000;
            }
            SET_VARIABLE_ON_SOUND( l_U3851, "Speed", fVar9 );
        }
        else
        {
            STOP_SOUND( l_U3851 );
            RELEASE_SOUND_ID( l_U3851 );
            l_U3851 = -1;
        }
    }
    return;
}

void sub_65693(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    unknown uVar8;
    unknown uVar9;
    float fVar10;

    if (DOES_OBJECT_EXIST( l_U3988 ))
    {
        uVar8 = GET_SOUND_ID();
        uVar9 = sub_65732( uParam3 );
        switch (uVar9)
        {
            case 0:
            PLAY_SOUND_FROM_OBJECT( uVar8, "GOLF_LAND_ON_GREEN", l_U3988 );
            break;
            case 1:
            PLAY_SOUND_FROM_OBJECT( uVar8, "GOLF_LAND_ON_SAND", l_U3988 );
            break;
            case 2:
            PLAY_SOUND_FROM_OBJECT( uVar8, "GOLF_LAND_ON_CART", l_U3988 );
            break;
            case 3:
            PLAY_SOUND_FROM_OBJECT( uVar8, "GOLF_LAND_ON_PED", l_U3988 );
            break;
            case 4:
            PLAY_SOUND_FROM_OBJECT( uVar8, "GOLF_LAND_ON_NET", l_U3988 );
            break;
            case 5:
            PLAY_SOUND_FROM_OBJECT( uVar8, "GOLF_LAND_ON_FLOODLIGHT", l_U3988 );
            break;
        }
        fVar10 = 0.00000000;
        if (l_U3862 == 0)
        {
            fVar10 = 1.00000000;
        }
        else if (l_U3862 == 1)
        {
            fVar10 = 0.60000000;
        }
        else if (l_U3862 == 2)
        {
            fVar10 = 0.30000000;
        };;;
        l_U3862++;
        SET_VARIABLE_ON_SOUND( uVar8, "Speed", fVar10 );
        RELEASE_SOUND_ID( uVar8 );
    }
    return;
}

void sub_65732(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int Result;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;

    Result = 0;
    if (IS_VEH_DRIVEABLE( l_U4052 ))
    {
        GET_CAR_COORDINATES( l_U4052, ref uVar6._fU0, ref uVar6._fU4, ref uVar6._fU8 );
    }
    if (IS_VEH_DRIVEABLE( l_U4053 ))
    {
        GET_CAR_COORDINATES( l_U4053, ref uVar9._fU0, ref uVar9._fU4, ref uVar9._fU8 );
    }
    GET_GROUND_Z_FOR_3D_COORD( uParam0._fU0, uParam0._fU4, uParam0._fU8, ref uVar15 );
    if ((uParam0._fU8 - uVar15) > 0.20000000)
    {
        if ((l_U4223 == 2) AND (NOT l_U3796))
        {
            Result = 3;
        }
        else if (IS_VEHICLE_TOUCHING_OBJECT( l_U4052, l_U3988 ))
        {
            Result = 2;
        }
        else if ((uParam0._fU4 < -32.50000000) || (uParam0._fU4 > 5.90000000))
        {
            Result = 4;
        }
        else if ((uParam0._fU4 < l_U3923) || (uParam0._fU4 > l_U3924))
        {
            Result = 5;
        };;;;
    }
    return Result;
}

void sub_66840(unknown uParam0, unknown uParam1)
{
    unknown uVar4;

    if (DOES_OBJECT_EXIST( l_U3988 ))
    {
        uVar4 = GET_SOUND_ID();
        switch (uParam1)
        {
            case 1:
            PLAY_SOUND_FROM_OBJECT( uVar4, "GOLF_HIT_BALL", l_U3988 );
            break;
            case 0:
            PLAY_SOUND_FROM_OBJECT( uVar4, "GOLF_HIT_BALL_SLICE", l_U3988 );
            break;
        }
        SET_VARIABLE_ON_SOUND( uVar4, "Speed", uParam0 );
        RELEASE_SOUND_ID( uVar4 );
    }
    return;
}

void sub_68154(unknown uParam0, unknown uParam1)
{
    unknown uVar4;

    if (DOES_OBJECT_EXIST( (uParam1^) ))
    {
        uVar4 = GET_SOUND_ID();
        PLAY_SOUND_FROM_OBJECT( uVar4, "GOLF_SWING", (uParam1^) );
        SET_VARIABLE_ON_SOUND( uVar4, "Speed", uParam0 );
        RELEASE_SOUND_ID( uVar4 );
    }
    return;
}

void sub_68650()
{
    float fVar2;
    float fVar3;
    float fVar4;
    float fVar5;

    if (NOT IS_SCREEN_FADING())
    {
        fVar2 = 0.17500000;
        fVar3 = 0.85000000;
        fVar4 = 0.01200000;
        fVar5 = 0.18700000;
        if (NOT GET_IS_WIDESCREEN())
        {
            fVar2 = 0.25300000;
            fVar3 = 0.81600000;
            fVar4 = 0.01200000;
            fVar5 = 0.14000000;
        }
        SET_SPRITES_DRAW_BEFORE_FADE( 1 );
        DRAW_RECT( fVar2, fVar3, fVar4 + 0.00400000, fVar5 + 0.00800000, 0, 0, 0, 255 );
        DRAW_SPRITE( l_U4094, fVar2, fVar3, fVar4, fVar5, 0.00000000, 165, 147, 150, 255 );
        DRAW_SPRITE( l_U4096, fVar2, fVar3 - ((l_U3938 - 0.50000000) * (fVar5 * 0.98000000)), fVar4, fVar5 / 12.50000000, 0.00000000, 255, 255, 255, 255 );
        DRAW_SPRITE( l_U4097, fVar2, fVar3 - ((l_U3951 - 0.50000000) * (fVar5 * 0.98000000)), fVar4, fVar5 / 12.50000000, 0.00000000, 255, 255, 255, 255 );
        SET_SPRITES_DRAW_BEFORE_FADE( 0 );
    }
    return;
}

void sub_68983(unknown uParam0)
{
    float fVar3;
    float fVar4;

    switch (l_U4228)
    {
        case 0:
        if (NOT (IS_CHAR_PLAYING_ANIM( uParam0, "MINI_GOLF", "Idle" )))
        {
            TASK_PLAY_ANIM_NON_INTERRUPTABLE( uParam0, "Idle", "MINI_GOLF", 4.00000000, 1, 0, 0, 0, 0 );
        }
        break;
        case 1:
        if (NOT (IS_CHAR_PLAYING_ANIM( uParam0, "MINI_GOLF", "Swing_Intro" )))
        {
            TASK_PLAY_ANIM_NON_INTERRUPTABLE( uParam0, "Swing_Intro", "MINI_GOLF", 10.00000000, 0, 0, 0, 1, 0 );
        }
        else
        {
            GET_CHAR_ANIM_CURRENT_TIME( uParam0, "MINI_GOLF", "Swing_Intro", ref fVar3 );
            if (fVar3 < 0.33000000)
            {
                SET_CHAR_ANIM_CURRENT_TIME( uParam0, "MINI_GOLF", "Swing_Intro", 0.33000000 );
                SET_CHAR_ANIM_SPEED( uParam0, "MINI_GOLF", "Swing_Intro", 0.60000000 );
            }
        }
        break;
        case 3:
        if (IS_CHAR_PLAYING_ANIM( uParam0, "MINI_GOLF", "Swing_Intro" ))
        {
            SET_CHAR_ANIM_SPEED( uParam0, "MINI_GOLF", "Swing_Intro", 0.00000000 );
            GET_CHAR_ANIM_CURRENT_TIME( uParam0, "MINI_GOLF", "Swing_Intro", ref fVar3 );
            if (fVar3 < 0.33000000)
            {
                TASK_PLAY_ANIM_NON_INTERRUPTABLE( uParam0, "Idle", "MINI_GOLF", 10.00000000, 1, 0, 0, 0, 0 );
                l_U4228 = 0;
            }
            else
            {
                SET_CHAR_ANIM_CURRENT_TIME( uParam0, "MINI_GOLF", "Swing_Intro", fVar3 - l_U3907 );
            }
        }
        break;
        case 4:
        if (NOT (IS_CHAR_PLAYING_ANIM( uParam0, "MINI_GOLF", "Swing_Action" )))
        {
            if (NOT (IS_CHAR_PLAYING_ANIM( uParam0, "MINI_GOLF", "Swing_Outro" )))
            {
                if (HAS_CHAR_ANIM_FINISHED( uParam0, "MINI_GOLF", "Swing_Intro" ))
                {
                    OPEN_SEQUENCE_TASK( ref l_U4085 );
                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "Swing_Action", "MINI_GOLF", 1000.00000000, 0, 0, 0, 0, 0 );
                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "Swing_Outro", "MINI_GOLF", 1000.00000000, 0, 0, 0, 1, 0 );
                    CLOSE_SEQUENCE_TASK( l_U4085 );
                    TASK_PERFORM_SEQUENCE( uParam0, l_U4085 );
                    CLEAR_SEQUENCE_TASK( l_U4085 );
                }
                else if (IS_CHAR_PLAYING_ANIM( uParam0, "MINI_GOLF", "Swing_Intro" ))
                {
                    GET_CHAR_ANIM_CURRENT_TIME( uParam0, "MINI_GOLF", "Swing_Intro", ref l_U3908 );
                    OPEN_SEQUENCE_TASK( ref l_U4085 );
                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "Swing_Action", "MINI_GOLF", 10.00000000, 0, 0, 0, 0, 0 );
                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "Swing_Outro", "MINI_GOLF", 1000.00000000, 0, 0, 0, 1, 0 );
                    CLOSE_SEQUENCE_TASK( l_U4085 );
                    TASK_PERFORM_SEQUENCE( uParam0, l_U4085 );
                    CLEAR_SEQUENCE_TASK( l_U4085 );
                }
                else
                {
                    l_U4228 = 0;
                }
            }
        }
        else if (l_U3908 != 1.00000000)
        {
            if (l_U3908 < 0.33000000)
            {
                l_U3908 = 0.33000000;
            }
            fVar4 = (((ABSF( l_U3908 - 1.00000000 )) / 0.67000000) * 0.40000000) + 0.05000000;
            SET_CHAR_ANIM_CURRENT_TIME( uParam0, "MINI_GOLF", "Swing_Action", fVar4 );
            l_U3908 = 1.00000000;
        }
        SET_CHAR_ANIM_SPEED( uParam0, "MINI_GOLF", "Swing_Action", l_U3926 );
        GET_CHAR_ANIM_CURRENT_TIME( uParam0, "MINI_GOLF", "Swing_Action", ref fVar3 );;
        break;
    }
    return;
}

void sub_70359(unknown uParam0, unknown uParam1)
{
    if (l_U3883 == 0)
    {
        PRINT_HELP_FOREVER( uParam1 );
    }
    else
    {
        PRINT_HELP_FOREVER( uParam0 );
    }
    return;
}

void sub_70486()
{
    int iVar2;
    float fVar3;
    float fVar4;
    float fVar5;
    float fVar6;
    float fVar7;
    float fVar8;
    float fVar9;
    float fVar10;
    float fVar11;
    float fVar12;
    unknown uVar13;
    float fVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    float fVar27;
    float fVar28;
    float fVar29;
    float fVar30;

    iVar2 = 0;
    l_U3927 += 0.00500000;
    if (l_U3927 > 5.00000000)
    {
        l_U3927 = 0.00000000;
    }
    while (iVar2 < 50)
    {
        fVar3 = (0.10000000 + ((5.00000000 / (TO_FLOAT( 50 ))) * (TO_FLOAT( iVar2 )))) + l_U3927;
        if (fVar3 > 5.00000000)
        {
            fVar3 -= 5.00000000;
        }
        fVar6 = (l_U3916 * fVar3) + ((0.50000000 * l_U3913) * (fVar3 * fVar3));
        fVar7 = (l_U3915 * fVar3) + ((0.50000000 * l_U3914) * (fVar3 * fVar3));
        fVar4 = (fVar7 * (COS( l_U3910 ))) * (SIN( 65446 ));
        fVar5 = (fVar7 * (-SIN( l_U3910 ))) * (SIN( 65446 ));
        fVar10 = l_U3681._fU0 + fVar4;
        fVar11 = l_U3681._fU4 + fVar5;
        fVar12 = l_U3681._fU8 + (fVar6 / 2.00000000);
        SET_OBJECT_COORDINATES( l_U3996[iVar2], fVar10, fVar11, fVar12 );
        SET_OBJECT_VISIBLE( l_U3996[iVar2], 1 );
        if (fVar3 > 2.50000000)
        {
            GET_GROUND_Z_FOR_3D_COORD( fVar10, fVar11, fVar12 + 100.00000000, ref uVar13 );
            fVar14 = fVar12 - uVar13;
            if (fVar14 >= 0.00000000)
            {
                if ((fVar9 == 0.00000000) || (fVar14 < fVar9))
                {
                    fVar9 = fVar14;
                    fVar8 = fVar3;
                }
            }
        }
        iVar2++;
    }
    fVar3 = fVar8;
    while ((uVar15._fU0 == 0.00000000) AND (fVar3 < 5.00000000))
    {
        fVar6 = (l_U3916 * fVar3) + ((0.50000000 * l_U3913) * (fVar3 * fVar3));
        fVar7 = (l_U3915 * fVar3) + ((0.50000000 * l_U3914) * (fVar3 * fVar3));
        fVar4 = (fVar7 * (COS( l_U3910 ))) * (SIN( 65446 ));
        fVar5 = (fVar7 * (-SIN( l_U3910 ))) * (SIN( 65446 ));
        fVar10 = l_U3681._fU0 + fVar4;
        fVar11 = l_U3681._fU4 + fVar5;
        fVar12 = l_U3681._fU8 + (fVar6 / 2.00000000);
        GET_GROUND_Z_FOR_3D_COORD( fVar10, fVar11, fVar12 + 100.00000000, ref uVar13 );
        if ((ABSF( uVar13 - fVar12 )) < 0.05000000)
        {
            uVar15 = {fVar10, fVar11, uVar13};
        }
        fVar3 += 0.00500000;
    }
    GET_FRAME_TIME( ref uVar22 );
    l_U3954 += (2.00000000 * 30.00000000) * uVar22;
    if (l_U3954 > 360.00000000)
    {
        l_U3954 -= 360.00000000;
    }
    fVar27 = 2.00000000 * (SIN( l_U3954 ));
    fVar28 = 2.00000000 * (-COS( l_U3954 ));
    fVar29 = 2.00000000 * (SIN( l_U3954 + 90.00000000 ));
    fVar30 = 2.00000000 * (-COS( l_U3954 + 90.00000000 ));
    if (uVar15._fU8 < 3.50000000)
    {
        uVar15._fU8 = 3.50000000;
    }
    GET_GROUND_Z_FOR_3D_COORD( uVar15._fU0, uVar15._fU4, uVar15._fU8 + 100.00000000, ref uVar13 );
    GET_GROUND_Z_FOR_3D_COORD( uVar15._fU0 + fVar27, uVar15._fU4 + fVar28, uVar15._fU8 + 100.00000000, ref uVar18 );
    GET_GROUND_Z_FOR_3D_COORD( uVar15._fU0 - fVar27, uVar15._fU4 - fVar28, uVar15._fU8 + 100.00000000, ref uVar19 );
    GET_GROUND_Z_FOR_3D_COORD( uVar15._fU0 - fVar29, uVar15._fU4 - fVar30, uVar15._fU8 + 100.00000000, ref uVar21 );
    GET_GROUND_Z_FOR_3D_COORD( uVar15._fU0 + fVar29, uVar15._fU4 + fVar30, uVar15._fU8 + 100.00000000, ref uVar20 );
    uVar24._fU0 = -ATAN( (uVar18 - uVar19) / (2.00000000 * 2.00000000) );
    uVar24._fU4 = ATAN( (uVar21 - uVar20) / (2.00000000 * 2.00000000) );
    SET_OBJECT_ROTATION( l_U4050, uVar24._fU0, uVar24._fU4, l_U3954 );
    SET_OBJECT_COORDINATES( l_U4050, uVar15._fU0, uVar15._fU4, uVar15._fU8 + 0.15000000 );
    SET_OBJECT_VISIBLE( l_U4050, 1 );
    return;
}

void sub_71736()
{
    int I;

    if (l_U3804)
    {
        for ( I = 0; I < 50; I++ )
        {
            if (DOES_OBJECT_EXIST( l_U3996[I] ))
            {
                SET_OBJECT_VISIBLE( l_U3996[I], 0 );
            }
        }
        if (DOES_OBJECT_EXIST( l_U4050 ))
        {
            SET_OBJECT_VISIBLE( l_U4050, 0 );
        }
    }
    return;
}

void sub_72619()
{
    int iVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    string sVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    float fVar13;
    int iVar14;
    string sVar15;
    string sVar16;
    int iVar17;
    vector vVar18;
    float fVar21;
    string sVar22;
    string sVar23;
    string sVar24;
    string sVar25;
    int iVar26;
    int iVar27;
    int iVar28;
    int iVar29;
    vector vVar30;
    vector vVar33;
    vector vVar36;
    vector vVar39;

    if ((l_U3796) AND (sub_56753()))
    {
        l_U4223 = 3;
    }
    sub_62924();
    if ((l_U4223 != 4) AND ((l_U4223 != 3) AND (l_U4223 != 2)))
    {
        sub_65297();
    }
    switch (l_U4223)
    {
        case 0:
        if (TIMERA() > 500)
        {
            SWITCH_STREAMING( 0 );
            sub_61644( 1 );
            DISPLAY_RADAR( 0 );
            l_U3793 = 0;
            l_U4223 = 1;
            if (DOES_OBJECT_EXIST( l_U3988 ))
            {
                l_U3851 = GET_SOUND_ID();
                PLAY_SOUND_FROM_OBJECT( l_U3851, "GOLF_BALL_WHISTLE", l_U3988 );
            }
            if (NOT (IS_CHAR_INJURED( l_U3987 )))
            {
                SET_CHAR_COLLISION( l_U3987, 1 );
            }
        }
        break;
        case 1:
        if (NOT l_U3796)
        {
            if (DOES_OBJECT_EXIST( l_U3988 ))
            {
                if (NOT (HAS_OBJECT_COLLIDED_WITH_ANYTHING( l_U3988 )))
                {
                    if ((NOT l_U3795) AND (TIMERA() > 2500))
                    {
                        if (NOT (IS_CHAR_INJURED( l_U3985 )))
                        {
                            GET_CHAR_COORDINATES( l_U3985, ref uVar3._fU0, ref uVar3._fU4, ref uVar3._fU8 );
                        }
                        if (NOT sub_73000())
                        {
                            if ((((sub_54615( uVar3, l_U3964, 1, 1 )) < 5.00000000) AND (l_U3852 >= 2)) || ((sub_54615( uVar3, l_U3964, 1, 1 )) < 3.00000000))
                            {
                                GET_OBJECT_VELOCITY( l_U3988, ref l_U3955._fU0, ref l_U3955._fU4, ref l_U3955._fU8 );
                                l_U4103 = l_U4099[l_U3855];
                                if (NOT (IS_CHAR_INJURED( l_U3985 )))
                                {
                                    if (WAS_PED_SKELETON_UPDATED( l_U3985 ))
                                    {
                                        GET_PED_BONE_POSITION( l_U3985, l_U4103, 0.00000000, 0.00000000, 0.00000000, ref l_U3958 );
                                    }
                                }
                                if (l_U3855 == 1)
                                {
                                    l_U3973 = "Vic_Hit_Low";
                                    l_U3947 = 0.31400000;
                                }
                                else if (l_U4103 == 1205)
                                {
                                    l_U3973 = "Vic_Hit_High";
                                    l_U3947 = 0.33600000;
                                }
                                else
                                {
                                    l_U3973 = "Vic_Hit_Mid";
                                    l_U3947 = 0.31800000;
                                }
                                OPEN_SEQUENCE_TASK( ref l_U4088 );
                                TASK_PLAY_ANIM_WITH_FLAGS_AND_START_PHASE( 0, l_U3973, "MISSTONY03", 1000.00000000, 0, 0, 0.15000000 );
                                TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "Vic_Idle", "MISSTONY03", 4.00000000, 1, 0, 0, 0, 0 );
                                CLOSE_SEQUENCE_TASK( l_U4088 );
                                TASK_PERFORM_SEQUENCE( l_U3985, l_U4088 );
                                CLEAR_SEQUENCE_TASK( l_U4088 );
                                WAIT( 0 );
                                WAIT( 0 );
                                if (l_U3852 == 0)
                                {
                                    sub_61644( 3 );
                                }
                                else
                                {
                                    sub_61644( 2 );
                                }
                                if (DOES_BLIP_EXIST( l_U3977 ))
                                {
                                    REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3977 );
                                }
                                if (IS_VEH_DRIVEABLE( l_U4052 ))
                                {
                                    GET_CAR_COORDINATES( l_U4052, ref uVar6._fU0, ref uVar6._fU4, ref uVar6._fU8 );
                                    l_U3778 = {uVar6._fU0 + 30.00000000, uVar6._fU4, uVar6._fU8 + 30.00000000};
                                    SET_OBJECT_COORDINATES( l_U3988, l_U3778._fU0, l_U3778._fU4, l_U3778._fU8 );
                                }
                                if (NOT (IS_CHAR_INJURED( l_U3987 )))
                                {
                                    SET_CHAR_COLLISION( l_U3987, 0 );
                                }
                                SETTIMERB( 0 );
                                l_U3890 = 0;
                                SET_PLAYER_MOOD_NORMAL( sub_6741() );
                                if (l_U3851 != -1)
                                {
                                    STOP_SOUND( l_U3851 );
                                    RELEASE_SOUND_ID( l_U3851 );
                                    l_U3851 = -1;
                                }
                                l_U4223 = 2;
                            }
                        }
                        l_U3795 = 1;
                    }
                }
                else
                {
                    l_U3796 = 1;
                    l_U3822 = 0;
                    l_U3890++;
                    if (l_U3890 == 3)
                    {
                        SET_PLAYER_MOOD_PISSED_OFF( sub_6741(), 250 );
                    }
                    if (NOT (IS_CHAR_INJURED( l_U3983 )))
                    {
                        GENERATE_RANDOM_INT_IN_RANGE( 0, 2, ref iVar2 );
                        if (iVar2 == 0)
                        {
                            sVar9 = "Drv_Yell";
                        }
                        else if (iVar2 == 1)
                        {
                            sVar9 = "Drv_Signal_More";
                        }
                        OPEN_SEQUENCE_TASK( ref l_U4089 );
                        TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "Drv_Ball_Missed", "MISSTONY03", 4.00000000, 0, 0, 0, 0, 0 );
                        TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, sVar9, "MISSTONY03", 4.00000000, 0, 0, 0, 0, 0 );
                        TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "Drv_Idle", "MISSTONY03", 4.00000000, 1, 0, 0, 0, 0 );
                        CLOSE_SEQUENCE_TASK( l_U4089 );
                        TASK_PERFORM_SEQUENCE( l_U3983, l_U4089 );
                        CLEAR_SEQUENCE_TASK( l_U4089 );
                        sub_39077( "E2T3_LMISS", 2, 6, "E2T3AUD", 1, 0 );
                    }
                    SETTIMERB( 0 );
                }
            }
        }
        if ((TIMERA() > 10000) || ((TIMERB() > 3000) AND (l_U3796)))
        {
            l_U4223 = 4;
        }
        break;
        case 2:
        if (NOT l_U3796)
        {
            if (DOES_OBJECT_EXIST( l_U3988 ))
            {
                GET_OBJECT_COORDINATES( l_U3988, ref uVar10._fU0, ref uVar10._fU4, ref uVar10._fU8 );
                fVar13 = sub_54615( uVar10, l_U3958, 0, 1 );
                if (NOT l_U3806)
                {
                    if (fVar13 < 2.00000000)
                    {
                        if (NOT (IS_CHAR_INJURED( l_U3985 )))
                        {
                            GENERATE_RANDOM_INT_IN_RANGE( 0, 3, ref iVar14 );
                            if (iVar14 == 0)
                            {
                                TASK_PLAY_ANIM_FACIAL( l_U3985, "Pain_A", "FACIALS@M_LO", 8.00000000, 0, 0, -1 );
                            }
                            else if (iVar14 == 1)
                            {
                                TASK_PLAY_ANIM_FACIAL( l_U3985, "Pain_B", "FACIALS@M_LO", 8.00000000, 0, 0, -1 );
                            }
                            else
                            {
                                TASK_PLAY_ANIM_FACIAL( l_U3985, "Pain_C", "FACIALS@M_LO", 8.00000000, 0, 0, -1 );
                            }
                        }
                        l_U3806 = 1;
                    }
                }
                if (fVar13 < 0.01000000)
                {
                    if ((l_U3955._fU8 == 0.00000000) AND ((l_U3955._fU4 == 0.00000000) AND (l_U3955._fU0 == 0.00000000)))
                    {
                        l_U3955._fU0 = 0.00100000;
                    }
                    FREEZE_OBJECT_POSITION( l_U3988, 0 );
                    SET_OBJECT_INITIAL_VELOCITY( l_U3988, -l_U3955._fU0 / 10.00000000, l_U3955._fU4 / 5.00000000, -l_U3955._fU8 / 5.00000000 );
                    if (l_U3851 != -1)
                    {
                        STOP_SOUND( l_U3851 );
                        RELEASE_SOUND_ID( l_U3851 );
                        l_U3851 = -1;
                    }
                    sub_65693( l_U3955, uVar10 );
                    l_U3796 = 1;
                    l_U3793 = 1;
                    l_U3852++;
                    if (NOT (IS_CHAR_INJURED( l_U3985 )))
                    {
                        SET_CHAR_BLEEDING( l_U3985, 1 );
                        if (l_U4103 == 1205)
                        {
                            DAMAGE_PED_BODY_PART( l_U3985, 0, 50 );
                            TRIGGER_PTFX( "blood_shotgun_exit", uVar10, 0.00000000, 0.00000000, 0.00000000, 0.50000000 );
                        }
                    }
                    if (NOT (IS_CHAR_INJURED( l_U3983 )))
                    {
                        GENERATE_RANDOM_INT_IN_RANGE( 0, 4, ref iVar2 );
                        GENERATE_RANDOM_INT_IN_RANGE( 0, 2, ref iVar17 );
                        if (iVar2 == 0)
                        {
                            sVar15 = "Drv_Cheer";
                        }
                        else if (iVar2 == 1)
                        {
                            sVar15 = "Drv_Laugh";
                        }
                        else if (iVar2 == 2)
                        {
                            sVar15 = "Drv_Ouch";
                        }
                        else if (iVar2 == 3)
                        {
                            sVar15 = "Drv_Duck";
                        };;;;
                        if (iVar17 == 0)
                        {
                            sVar16 = "Drv_Signal_More";
                        }
                        else if (iVar17 == 1)
                        {
                            sVar16 = "Drv_Yell";
                        }
                        if (l_U3852 < 3)
                        {
                            OPEN_SEQUENCE_TASK( ref l_U4089 );
                            TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, sVar15, "MISSTONY03", 4.00000000, 0, 0, 0, 0, 0 );
                            TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "Drv_Idle", "MISSTONY03", 4.00000000, 1, 0, 0, 0, 0 );
                            CLOSE_SEQUENCE_TASK( l_U4089 );
                        }
                        else
                        {
                            OPEN_SEQUENCE_TASK( ref l_U4089 );
                            TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, sVar15, "MISSTONY03", 4.00000000, 0, 0, 0, 0, 0 );
                            TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "Drv_Idle", "MISSTONY03", 4.00000000, 1, 0, 0, 0, 0 );
                            CLOSE_SEQUENCE_TASK( l_U4089 );
                        }
                        TASK_PERFORM_SEQUENCE( l_U3983, l_U4089 );
                        CLEAR_SEQUENCE_TASK( l_U4089 );
                    }
                    SETTIMERB( 0 );
                    if (l_U3855 < 2)
                    {
                        l_U3855++;
                    }
                }
                else
                {
                    FREEZE_OBJECT_POSITION( l_U3988, 1 );
                    if (l_U3855 == 0)
                    {
                        vVar18 = {0.00000000, 0.20000000, 0.00000000};
                    }
                    else if (l_U3855 == 1)
                    {
                        vVar18 = {-0.10000000, 0.15000000, 0.00000000};
                    }
                    else if (l_U3855 == 2)
                    {
                        vVar18 = {0.00000000, 0.15000000, 0.00000000};
                    };;;
                    if (NOT (IS_CHAR_INJURED( l_U3985 )))
                    {
                        if (WAS_PED_SKELETON_UPDATED( l_U3985 ))
                        {
                            GET_PED_BONE_POSITION( l_U3985, l_U4103, vVar18, ref l_U3958 );
                        }
                        if (IS_CHAR_PLAYING_ANIM( l_U3985, "MISSTONY03", l_U3973 ))
                        {
                            GET_CHAR_ANIM_CURRENT_TIME( l_U3985, "MISSTONY03", l_U3973, ref fVar21 );
                        }
                    }
                    uVar10._fU0 = l_U3778._fU0 - ((fVar21 / l_U3947) * (ABSF( l_U3958._fU0 - l_U3778._fU0 )));
                    uVar10._fU4 = l_U3778._fU4 - ((fVar21 / l_U3947) * (ABSF( l_U3958._fU4 - l_U3778._fU4 )));
                    uVar10._fU8 = l_U3778._fU8 - ((fVar21 / l_U3947) * (ABSF( l_U3958._fU8 - l_U3778._fU8 )));
                    if (fVar21 > l_U3947)
                    {
                        uVar10 = {l_U3958};
                    }
                    SET_OBJECT_COORDINATES( l_U3988, uVar10._fU0, uVar10._fU4, uVar10._fU8 );
                }
            }
        }
        else if (NOT (IS_CHAR_INJURED( l_U3985 )))
        {
            if ((HAS_CHAR_ANIM_FINISHED( l_U3985, "FACIALS@M_LO", "Pain_C" )) || ((HAS_CHAR_ANIM_FINISHED( l_U3985, "FACIALS@M_LO", "Pain_B" )) || (HAS_CHAR_ANIM_FINISHED( l_U3985, "FACIALS@M_LO", "Pain_A" ))))
            {
                TASK_PLAY_ANIM_FACIAL( l_U3985, "Mood_Scared", "FACIALS@M_LO", 4.00000000, 1, 0, -1 );
            }
        }
        if (l_U3796)
        {
            if (l_U3852 == 1)
            {
                iVar26 = 4;
                iVar27 = 10;
                iVar28 = 11;
                iVar29 = 12;
                sVar22 = "E2T3_TERR1";
                sVar23 = "E2T3_INFO1";
                sVar24 = "E2T3_OKAY1";
                sVar25 = "E2T3_SOFR1";
                vVar30 = {-678.76450000, -0.70295500, 5.19795100};
                vVar36 = {-5.51163400, 0.00000000, 79.28205000};
                vVar33 = {-678.76450000, 0.25704600, 5.19795100};
                vVar39 = {-5.51163500, -0.00000000, 102.54410000};
            }
            else if (l_U3852 == 2)
            {
                iVar26 = 13;
                iVar27 = 14;
                iVar28 = 15;
                iVar29 = 16;
                sVar22 = "E2T3_TERR2";
                sVar23 = "E2T3_INFO2";
                sVar24 = "E2T3_OKAY2";
                sVar25 = "E2T3_SOFR2";
                vVar30 = {-699.16620000, -19.05819000, 5.16530900};
                vVar36 = {-3.20208200, -0.00000000, 132.39570000};
                vVar33 = {-699.16620000, -19.69819000, 5.16530900};
                vVar39 = {-3.20208200, -0.00000000, 120.59280000};
            }
            else if (l_U3852 == 3)
            {
                iVar26 = 17;
                iVar27 = 18;
                iVar28 = 19;
                iVar29 = 20;
                sVar22 = "E2T3_TERR3";
                sVar23 = "E2T3_INFO3";
                sVar24 = "E2T3_OKAY3";
                sVar25 = "E2T3_BALLS";
                vVar30 = {-719.08010000, -11.06672000, 5.17598300};
                vVar36 = {-1.56486200, -0.00000000, 170.56220000};
                vVar33 = {-718.32020000, -10.94672000, 5.17598300};
                vVar39 = {-2.48159500, 0.00000000, 158.30090000};
            };;;
            if (NOT (sub_55034( l_U4204 )))
            {
                if (NOT l_U4119[5])
                {
                    sub_39077( "E2T3_UNHIT", 5, 6, "E2T3AUD", 0, 0 );
                }
                else if (NOT l_U4119[3])
                {
                    sub_39077( "E2T3_LHITS", 3, 6, "E2T3AUD", 0, 0 );
                }
                else if (NOT l_U4119[iVar26])
                {
                    sub_39077( sVar22, iVar26, 6, "E2T3AUD", 0, 0 );
                    if (NOT (DOES_CAM_EXIST( l_U4067 )))
                    {
                        if (NOT (IS_CHAR_INJURED( l_U3983 )))
                        {
                            OPEN_SEQUENCE_TASK( ref l_U4089 );
                            TASK_PLAY_ANIM_WITH_FLAGS_AND_START_PHASE( 0, "drv_yell", "MISSTONY03", 1000.00000000, 0, 0, 0.50000000 );
                            TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "Drv_Idle", "MISSTONY03", 4.00000000, 1, 0, 0, 0, 0 );
                            CLOSE_SEQUENCE_TASK( l_U4089 );
                            TASK_PERFORM_SEQUENCE( l_U3983, l_U4089 );
                            CLEAR_SEQUENCE_TASK( l_U4089 );
                        }
                        WAIT( 0 );
                        WAIT( 0 );
                        CREATE_CAM( 6, ref l_U4067 );
                        SET_CAM_POS( l_U4067, vVar30.x, vVar30.y, vVar30.z );
                        SET_CAM_ROT( l_U4067, vVar36.x, vVar36.y, vVar36.z );
                        SET_CAM_FOV( l_U4067, 27.30005000 );
                        CREATE_CAM( 14, ref l_U4068 );
                        SET_CAM_POS( l_U4068, vVar33.x, vVar33.y, vVar33.z );
                        SET_CAM_ROT( l_U4068, vVar39.x, vVar39.y, vVar39.z );
                        SET_CAM_FOV( l_U4068, 27.30005000 );
                        CREATE_CAM( 3, ref l_U4069 );
                        SET_CAM_INTERP_STYLE_CORE( l_U4069, l_U4067, l_U4068, 30000, 0 );
                        SET_CAM_INTERP_STYLE_DETAILED( l_U4069, 0, 0, 1, 1 );
                        SET_USE_HIGHDOF( 1 );
                        SET_CAM_FAR_DOF( l_U4067, 20.00000000 );
                        SET_CAM_FAR_DOF( l_U4068, 20.00000000 );
                        sub_56223( l_U4069, 1 );
                    }
                }
                else if (NOT l_U4119[iVar27])
                {
                    sub_39077( sVar23, iVar27, 6, "E2T3AUD", 0, 0 );
                }
                else if (l_U3852 < 3)
                {
                    if (NOT l_U4119[iVar28])
                    {
                        sub_39077( sVar24, iVar28, 6, "E2T3AUD", 0, 0 );
                    }
                    else if (NOT l_U4119[iVar29])
                    {
                        sub_39077( sVar25, iVar29, 6, "E2T3AUD", 0, 0 );
                    }
                };;;;;
            }
        }
        if (((TIMERB() > 5000) AND (l_U3796)) AND ((NOT sub_39689()) AND (((l_U4119[iVar27]) AND (l_U3852 >= 3)) || ((l_U4119[iVar29]) AND (l_U3852 < 3)))))
        {
            l_U4223 = 4;
        }
        break;
        case 3:
        l_U4223 = 4;
        break;
        case 4:
        l_U3910 = 0.00000000;
        l_U3796 = 0;
        l_U3806 = 0;
        l_U3791 = 0;
        l_U3795 = 0;
        l_U3949 = 0.00000000;
        l_U3950 = 0.00000000;
        l_U3862 = 0;
        GET_GAME_TIMER( ref l_U3875 );
        GENERATE_RANDOM_INT_IN_RANGE( 20000, 30000, ref l_U3876 );
        sub_11417( 1 );
        l_U4119[3] = 0;
        l_U4119[5] = 0;
        CLEAR_HELP();
        CLEAR_PRINTS();
        l_U3856++;
        if (NOT (IS_CHAR_PLAYING_ANIM( sub_6646(), "MINI_GOLF", "Idle" )))
        {
            TASK_PLAY_ANIM_NON_INTERRUPTABLE( sub_6646(), "Idle", "MINI_GOLF", 8000.00000000, 1, 1, 1, 0, 0 );
            WAIT( 0 );
        }
        if (NOT (IS_CHAR_INJURED( l_U3984 )))
        {
            TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U3984, "Tny_Idle", "MISSTONY03", 1000.00000000, 1, 0, 0, 0, 0 );
        }
        SWITCH_STREAMING( 1 );
        if ((l_U3793) AND (IS_VEH_DRIVEABLE( l_U4052 )))
        {
            if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U4052 )))
            {
                if (l_U3852 == 1)
                {
                    FREEZE_CAR_POSITION( l_U4052, 0 );
                    REQUEST_CAR_RECORDING( 748 );
                    while (NOT (HAS_CAR_RECORDING_BEEN_LOADED( 748 )))
                    {
                        WAIT( 0 );
                    }
                    sub_19743( 0, 0 );
                    if (IS_VEH_DRIVEABLE( l_U4052 ))
                    {
                        sub_20313( ref l_U4052, 748, 0.00000000, 1, 0, 0 );
                    }
                    TASK_LOOK_AT_VEHICLE( sub_6646(), l_U4052, 6000, 0 );
                }
                else if (l_U3852 == 2)
                {
                    FREEZE_CAR_POSITION( l_U4052, 0 );
                    REQUEST_CAR_RECORDING( 749 );
                    while (NOT (HAS_CAR_RECORDING_BEEN_LOADED( 749 )))
                    {
                        WAIT( 0 );
                    }
                    sub_19743( 0, 0 );
                    if (IS_VEH_DRIVEABLE( l_U4052 ))
                    {
                        sub_20313( ref l_U4052, 749, 0.00000000, 1, 0, 0 );
                    }
                    TASK_LOOK_AT_VEHICLE( sub_6646(), l_U4052, 6000, 0 );
                }
            }
        }
        SWITCH_STREAMING( 0 );
        WAIT( 0 );
        if (l_U3852 < 3)
        {
            FREEZE_OBJECT_POSITION( l_U3988, 1 );
            SET_OBJECT_COORDINATES( l_U3988, l_U3681._fU0, l_U3681._fU4, l_U3681._fU8 );
            if (NOT (IS_CHAR_INJURED( l_U3985 )))
            {
                TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U3985, "Vic_Idle", "MISSTONY03", 1000.00000000, 1, 0, 0, 0, 0 );
            }
            if (NOT (IS_CHAR_INJURED( l_U3983 )))
            {
                TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U3983, "Drv_Idle", "MISSTONY03", 1000.00000000, 1, 0, 0, 0, 0 );
            }
            if (DOES_CAM_EXIST( l_U4069 ))
            {
                DESTROY_CAM( l_U4069 );
            }
            if (DOES_CAM_EXIST( l_U4067 ))
            {
                DESTROY_CAM( l_U4067 );
            }
            if (DOES_CAM_EXIST( l_U4068 ))
            {
                DESTROY_CAM( l_U4068 );
            }
            SET_USE_HIGHDOF( 0 );
            sub_61644( 0 );
            l_U4228 = 0;
            SETTIMERB( 0 );
            if ((NOT (IS_CHAR_INJURED( l_U3985 ))) AND (NOT (DOES_BLIP_EXIST( l_U3977 ))))
            {
                ADD_BLIP_FOR_CHAR( l_U3985, ref l_U3977 );
                sub_21292( l_U3977 );
            }
            DISPLAY_RADAR( 1 );
            SET_PLAYER_CONTROL( sub_6741(), 1 );
            l_U4222 = 1;
        }
        else
        {
            l_U4222 = 3;
        }
        SWITCH_STREAMING( 1 );
        l_U4223 = 0;
        break;
    }
    return;
}

int sub_73000()
{
    l_U4575++;
    if (l_U4575 > 4)
    {
        l_U4575 = 1;
    }
    switch (l_U4575)
    {
        case 1:
        if (NOT SPOT_CHECK5())
        {
            return 1;
        }
        break;
        case 2:
        if (NOT SPOT_CHECK6())
        {
            return 1;
        }
        break;
        case 3:
        if (NOT SPOT_CHECK7())
        {
            return 1;
        }
        break;
        case 4:
        if (NOT SPOT_CHECK8())
        {
            return 1;
        }
        break;
    }
    return 0;
}

void sub_78604(unknown uParam0, float fParam1)
{
    unknown uVar4;
    float fVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    int I;
    int iVar10;

    GET_FRAME_TIME( ref fVar5 );
    fVar5 *= 1000.00000000;
    l_U2827 += fVar5;
    l_U2828 += fVar5;
    l_U2829 += fVar5;
    l_U1219 = fParam1;
    if (NOT l_U42)
    {
        if (l_U41)
        {
            sub_20084();
            l_U51 = 0;
            if (IS_PLAYER_PLAYING( sub_6741() ))
            {
                GET_CHAR_COORDINATES( sub_6646(), ref uVar6._fU0, ref uVar6._fU4, ref uVar6._fU8 );
                CLEAR_AREA( uVar6._fU0, uVar6._fU4, uVar6._fU8, 1000.00000000, 1 );
                PRINTSTRING( "UPDATE_UBER_PLAYBACK - called massive clear area! \n" );
            }
            l_U42 = 1;
        }
    }
    else if (NOT l_U41)
    {
        sub_8901();
        l_U51 = 1;
        l_U42 = 0;
    }
    if (l_U41)
    {
        fParam1 = 1.00000000;
    }
    if (NOT l_U32)
    {
        if (l_U23)
        {
            l_U1214 = 0.00000000;
        }
        else
        {
            l_U1214 = 1.00000000;
        }
        if (IS_VEH_DRIVEABLE( uParam0 ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( uParam0 ))
            {
                if (IS_PLAYER_PLAYING( sub_6741() ))
                {
                    if (sub_78985( sub_6646(), uParam0 ))
                    {
                        l_U40 = 1;
                    }
                    else
                    {
                        l_U40 = 0;
                    }
                }
                l_U1211 = FIND_TIME_POSITION_IN_RECORDING( uParam0 );
                l_U1645 = GET_CURRENT_PLAYBACK_NUMBER_FOR_CAR( uParam0 );
                SET_PLAYBACK_SPEED( uParam0, (fParam1 * l_U1212) * l_U1214 );
                if (l_U27)
                {
                    # -NULL-0xbfc99f( uParam0, 1 );
                }
                else
                {
                    # -NULL-0xbfc99f( uParam0, 0 );
                }
                if (l_U39)
                {
                    if (l_U1217 > 1000.00000000)
                    {
                        sub_79427( uParam0, l_U1211 );
                        sub_79922( uParam0, 100.00000000 );
                        for ( I = 0; I < 3; I++ )
                        {
                            fVar5 = TO_FLOAT( I );
                            fVar5 *= 2000.00000000;
                            fVar5 += l_U1211;
                            fVar5 += 4000.00000000;
                            sub_80148( uParam0, fVar5, l_U1216 );
                        }
                        l_U1217 = 0.00000000;
                    }
                    else
                    {
                        GET_FRAME_TIME( ref fVar5 );
                        fVar5 *= 1000.00000000;
                        l_U1217 += fVar5;
                    }
                }
            }
        }
        iVar10 = 0;
        if (IS_VEH_DRIVEABLE( uParam0 ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( uParam0 ))
            {
                iVar10 = 1;
            }
        }
        if ((IS_SCREEN_FADED_OUT()) || (l_U1211 == 0))
        {
            iVar10 = 1;
        }
        if ((NOT l_U54) AND (iVar10))
        {
            if (NOT l_U20)
            {
                sub_80776( uParam0, (fParam1 * l_U1212) * l_U1214 );
                sub_85929( ref uParam0 );
                sub_86493( ref uParam0 );
            }
            if (l_U25)
            {
                sub_87004( uParam0 );
            }
            if (NOT l_U20)
            {
                sub_87952( uParam0, (fParam1 * l_U1212) * l_U1214 );
            }
        }
        if (l_U34)
        {
            if (IS_PLAYER_PLAYING( sub_6741() ))
            {
                if (IS_CHAR_IN_ANY_CAR( sub_6646() ))
                {
                    STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_6646(), ref l_U2821 );
                    GET_CAR_COORDINATES( l_U2821, ref l_U2559._fU0, ref l_U2559._fU4, ref l_U2559._fU8 );
                    GET_VEHICLE_QUATERNION( l_U2821, ref l_U837, ref l_U838, ref l_U839, ref l_U840 );
                }
            }
            l_U34 = 0;
        }
        if (l_U33)
        {
            if (DOES_VEHICLE_EXIST( l_U2821 ))
            {
                sub_9687( l_U2822 );
                l_U2822 = l_U2821;
            }
            if (IS_VEH_DRIVEABLE( l_U2822 ))
            {
                SET_CAR_COORDINATES( l_U2822, l_U2559._fU0, l_U2559._fU4, l_U2559._fU8 );
                SET_VEHICLE_QUATERNION( l_U2822, l_U837, l_U838, l_U839, l_U840 );
            }
            l_U1210 = l_U1213;
            l_U20 = 1;
            l_U33 = 0;
        }
        if (l_U20)
        {
            while (NOT (sub_91693( ref uParam0, l_U1210 )))
            {
                WAIT( 0 );
            }
            l_U23 = 1;
        }
    }
    return;
}

int sub_78985(unknown uParam0, unknown uParam1)
{
    vector vVar4;
    vector vVar7;
    vector vVar10;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    float fVar19;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (NOT (IS_CAR_DEAD( uParam1 )))
        {
            if (IS_CHAR_IN_CAR( uParam0, uParam1 ))
            {
                return 0;
            }
        }
    }
    if (NOT (IS_CHAR_DEAD( uParam0 )))
    {
        GET_CHAR_COORDINATES( uParam0, ref vVar4.x, ref vVar4.y, ref vVar4.z );
    }
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_CAR_COORDINATES( uParam1, ref vVar7.x, ref vVar7.y, ref vVar7.z );
    }
    uVar13 = {vVar7 - vVar4};
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( uParam1, 0.00000000, 5.00000000, 0.00000000, ref vVar10.x, ref vVar10.y, ref vVar10.z );
        uVar16 = {vVar10 - vVar7};
    }
    uVar13._fU8 = 0.00000000;
    uVar16._fU8 = 0.00000000;
    fVar19 = sub_79206( ref uVar13, ref uVar16 );
    if (fVar19 < 0.00000000)
    {
        return 1;
    }
    return 0;
}

float sub_79206(int iParam0, int iParam1)
{
    return ((iParam0->_fU0 * iParam1->_fU0) + (iParam0->_fU4 * iParam1->_fU4)) + (iParam0->_fU8 * iParam1->_fU8);
}

void sub_79427(unknown uParam0, unknown uParam1)
{
    int I;
    unknown uVar5;
    vector vVar6;
    vector vVar9;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;

    vVar6 = {99999.90000000, 99999.90000000, 99999.90000000};
    vVar9 = {-99999.90000000, -99999.90000000, -99999.90000000};
    sub_9073();
    for ( I = 0; I < 15; I++ )
    {
        if (IS_VEH_DRIVEABLE( uParam0 ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( uParam0 ))
            {
                uVar5 = GET_CURRENT_PLAYBACK_NUMBER_FOR_CAR( uParam0 );
                GET_POSITION_OF_CAR_RECORDING_AT_TIME( uVar5, uParam1 + ((TO_FLOAT( I - 1 )) * 2000), ref uVar12 );
                if (uVar12._fU0 < vVar6.x)
                {
                    vVar6.x = uVar12._fU0;
                }
                if (uVar12._fU4 < vVar6.y)
                {
                    vVar6.y = uVar12._fU4;
                }
                if (uVar12._fU8 < vVar6.z)
                {
                    vVar6.z = uVar12._fU8;
                }
                if (uVar12._fU0 > vVar9.x)
                {
                    vVar9.x = uVar12._fU0;
                }
                if (uVar12._fU4 > vVar9.y)
                {
                    vVar9.y = uVar12._fU4;
                }
                if (uVar12._fU8 > vVar9.z)
                {
                    vVar9.z = uVar12._fU8;
                }
            }
        }
    }
    vVar6 = {vVar6 + (vector( l_U1230 * -1.00000000, l_U1230 * -1.00000000, l_U1230 * -1.00000000))};
    vVar9 = {vVar9 + (vector( l_U1230, l_U1230, l_U1230))};
    l_U2571 = {vVar6};
    l_U2574 = {vVar9};
    SWITCH_ROADS_OFF( l_U2565._fU0, l_U2565._fU4, l_U2565._fU8, l_U2568._fU0, l_U2568._fU4, l_U2568._fU8 );
    SWITCH_ROADS_OFF( l_U2571._fU0, l_U2571._fU4, l_U2571._fU8, l_U2574._fU0, l_U2574._fU4, l_U2574._fU8 );
    return;
}

void sub_79922(unknown uParam0, unknown uParam1)
{
    vector vVar4;
    vector vVar7;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;

    if (NOT l_U42)
    {
        if (NOT (IS_CAR_DEAD( uParam0 )))
        {
            if (IS_PLAYER_PLAYING( sub_6741() ))
            {
                GET_CAR_COORDINATES( uParam0, ref vVar4.x, ref vVar4.y, ref vVar4.z );
                GET_CHAR_COORDINATES( sub_6646(), ref vVar7.x, ref vVar7.y, ref vVar7.z );
                uVar10 = {vVar4 - vVar7};
                if ((VMAG2( uVar10 )) > (uParam1 * uParam1))
                {
                    SET_CAR_DENSITY_MULTIPLIER( 1.00000000 );
                }
                else
                {
                    SET_CAR_DENSITY_MULTIPLIER( 0.00000000 );
                }
            }
        }
    }
    return;
}

void sub_80148(unknown uParam0, unknown uParam1, float fParam2)
{
    unknown uVar5;
    vector vVar6;
    vector vVar9;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    float fVar15;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( uParam0 ))
        {
            uVar5 = GET_CURRENT_PLAYBACK_NUMBER_FOR_CAR( uParam0 );
            GET_POSITION_OF_CAR_RECORDING_AT_TIME( uVar5, uParam1, ref vVar6 );
            GET_CAR_COORDINATES( uParam0, ref vVar9.x, ref vVar9.y, ref vVar9.z );
            uVar12 = {vVar9 - vVar6};
            fVar15 = VMAG( uVar12 );
            if (fVar15 > fParam2)
            {
                fVar15 = fParam2;
            }
            sub_80277( vVar6, fVar15 );
        }
    }
    return;
}

void sub_80277(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    boolean bVar6;
    unknown uVar7;

    if (NOT l_U42)
    {
        if (NOT (sub_80307( uParam0, uParam3, 150.00000000 )))
        {
            bVar6 = true;
            if (IS_PLAYER_PLAYING( sub_6741() ))
            {
                GET_PLAYERS_LAST_CAR_NO_SAVE( ref uVar7 );
                if (DOES_VEHICLE_EXIST( uVar7 ))
                {
                    if (NOT (IS_CAR_DEAD( uVar7 )))
                    {
                        if (LOCATE_CAR_3D( uVar7, uParam0._fU0, uParam0._fU4, uParam0._fU8, uParam3, uParam3, uParam3, 0 ))
                        {
                            bVar6 = false;
                        }
                    }
                }
            }
            if (bVar6)
            {
                CLEAR_AREA_OF_CARS( uParam0._fU0, uParam0._fU4, uParam0._fU8, uParam3 );
            }
        }
    }
    return;
}

int sub_80307(vector vParam0, unknown uParam3, float fParam4)
{
    unknown uVar7;
    vector vVar8;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;

    if (NOT IS_SCREEN_FADED_OUT())
    {
        if (NOT l_U42)
        {
            if (NOT l_U20)
            {
                GET_GAME_VIEWPORT_ID( ref uVar7 );
                if (CAM_IS_SPHERE_VISIBLE( uVar7, vParam0.x, vParam0.y, vParam0.z, uParam3 ))
                {
                    if (IS_PLAYER_PLAYING( sub_6741() ))
                    {
                        GET_CHAR_COORDINATES( sub_6646(), ref vVar8.x, ref vVar8.y, ref vVar8.z );
                        uVar11 = {vVar8 - vParam0};
                        if (((VMAG( uVar11 )) - uParam3) < fParam4)
                        {
                            return 1;
                        }
                    }
                }
            }
        }
    }
    return 0;
}

void sub_80776(unknown uParam0, unknown uParam1)
{
    int I;
    int iVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    float fVar14;
    unknown uVar15;
    boolean bVar16;
    boolean bVar17;
    int iVar18;

    l_U1647 = 0;
    iVar5 = 0;
    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        for ( I = 0; I < 150; I++ )
        {
            if (I < l_U1646)
            {
                I = l_U1646;
            }
            if (l_U1382[I] == 0)
            {
                if ((NOT (l_U1653[I] == 0)) AND ((l_U1231[I] < 3000) AND (l_U1231[I] > 0)))
                {
                    if (NOT l_U20)
                    {
                        if (l_U1211 > (l_U686[I] - (7000.00000000 * uParam1)))
                        {
                            l_U1652++;
                            l_U1382[I]++;
                        }
                        else if (iVar5 > 3)
                        {
                            return;
                        }
                        else
                        {
                            iVar5++;
                        }
                    }
                    else
                    {
                        fVar14 = l_U1211 - l_U686[I];
                        if (fVar14 >= 0.00000000)
                        {
                            if (fVar14 < (sub_81048( l_U1231[I] )))
                            {
                                l_U1652++;
                                l_U1382[I]++;
                            }
                            else
                            {
                                sub_81174( I, 1090519040 );
                            }
                        }
                    }
                }
                else
                {
                    sub_81174( I, 1090519040 );
                }
            }
            if (l_U1382[I] == 1)
            {
                if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( l_U1231[I] )))
                {
                    REQUEST_CAR_RECORDING( l_U1231[I] );
                }
                else if (l_U1653[I] == sub_9301())
                {
                    if (HAS_MODEL_LOADED( sub_9330() ))
                    {
                        l_U1382[I]++;
                    }
                    else
                    {
                        REQUEST_MODEL( sub_9330() );
                    }
                }
                else if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
                {
                    l_U1382[I]++;
                }
                else if (HAS_MODEL_LOADED( sub_9243() ))
                {
                    l_U1382[I]++;
                }
                else
                {
                    REQUEST_MODEL( sub_9243() );
                };;;;
            }
            if (l_U1382[I] == 2)
            {
                if (HAS_MODEL_LOADED( l_U1653[I] ))
                {
                    if (NOT (DOES_VEHICLE_EXIST( l_U2577[I] )))
                    {
                        bVar16 = false;
                        if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
                        {
                            bVar16 = true;
                        }
                        else if (HAS_MODEL_LOADED( sub_9243() ))
                        {
                            bVar16 = true;
                        }
                        else
                        {
                            REQUEST_MODEL( sub_9243() );
                        }
                        if (bVar16)
                        {
                            bVar17 = false;
                            if ((NOT (sub_82108( l_U1881[I] ))) AND (NOT (sub_80307( l_U1881[I], 5.00000000, 1120403456 ))))
                            {
                                bVar17 = true;
                            }
                            if (l_U46)
                            {
                                bVar17 = true;
                            }
                            if (bVar17)
                            {
                                if (l_U39)
                                {
                                    sub_80277( l_U1881[I], l_U1216 );
                                }
                                CREATE_CAR( l_U1653[I], l_U1881[I]._fU0, l_U1881[I]._fU4, l_U1881[I]._fU8, ref l_U2577[I], 1 );
                                if (l_U1653[I] == sub_9301())
                                {
                                    CREATE_CHAR_INSIDE_CAR( l_U2577[I], 6, sub_9330(), ref uVar6 );
                                    SET_CHAR_RELATIONSHIP_GROUP( uVar6, 23 );
                                    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_9330() );
                                }
                                else if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
                                {
                                    CREATE_RANDOM_CHAR_AS_DRIVER( l_U2577[I], ref uVar6 );
                                }
                                else
                                {
                                    CREATE_CHAR_INSIDE_CAR( l_U2577[I], 4, sub_9243(), ref uVar6 );
                                    SET_CHAR_RANDOM_COMPONENT_VARIATION( uVar6 );
                                    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_9243() );
                                }
                                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( uVar6, 1 );
                                SET_VEHICLE_QUATERNION( l_U2577[I], l_U82[I], l_U233[I], l_U384[I], l_U535[I] );
                                FREEZE_CAR_POSITION( l_U2577[I], 1 );
                                SET_CAR_ONLY_DAMAGED_BY_PLAYER( l_U2577[I], 1 );
                                SET_CAR_COLLISION( l_U2577[I], 0 );
                                MARK_MODEL_AS_NO_LONGER_NEEDED( l_U1653[I] );
                                sub_82632( l_U2577[I] );
                                GET_INTERIOR_FROM_CAR( l_U2577[I], ref iVar18 );
                                if (NOT (iVar18 == nil))
                                {
                                    # -NULL-0xbfc5b5( l_U2577[I] );
                                }
                                l_U1652--;
                                l_U1382[I]++;
                            }
                            else if (l_U1211 > l_U686[I])
                            {
                                l_U1652--;
                                sub_81174( I, 1090519040 );
                            }
                        }
                    }
                }
                else
                {
                    REQUEST_MODEL( l_U1653[I] );
                }
            }
            if (l_U1382[I] == 3)
            {
                if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( l_U1231[I] )))
                {
                    REQUEST_CAR_RECORDING( l_U1231[I] );
                }
                if (IS_VEH_DRIVEABLE( l_U2577[I] ))
                {
                    if (l_U1211 > l_U686[I])
                    {
                        if (8 > l_U1636)
                        {
                            if (IS_VEH_DRIVEABLE( uParam0 ))
                            {
                                if (IS_PLAYBACK_GOING_ON_FOR_CAR( uParam0 ))
                                {
                                    l_U1211 = FIND_TIME_POSITION_IN_RECORDING( uParam0 );
                                }
                            }
                            fVar14 = l_U1211 - l_U686[I];
                            if (HAS_CAR_RECORDING_BEEN_LOADED( l_U1231[I] ))
                            {
                                if (fVar14 < (GET_TOTAL_DURATION_OF_CAR_RECORDING( l_U1231[I] )))
                                {
                                    GET_CAR_COORDINATES( l_U2577[I], ref uVar8._fU0, ref uVar8._fU4, ref uVar8._fU8 );
                                    GET_POSITION_OF_CAR_RECORDING_AT_TIME( l_U1231[I], fVar14, ref uVar11 );
                                    if ((sub_80307( uVar11, 5.00000000, 1120403456 )) AND (NOT (sub_80307( uVar8, 5.00000000, 1120403456 ))))
                                    {
                                        sub_81174( I, 1090519040 );
                                    }
                                    else if (sub_20313( ref l_U2577[I], l_U1231[I], fVar14, 1, 0, 0 ))
                                    {
                                        SET_CAR_COLLISION( l_U2577[I], 1 );
                                        SET_PLAYBACK_SPEED( l_U2577[I], uParam1 );
                                        sub_83274( ref l_U2577[I] );
                                        l_U1636++;
                                        l_U1382[I]++;
                                    }
                                }
                                else
                                {
                                    PRINTSTRING( "Traffic car removed from processing (check A) car = " );
                                    PRINTINT( I );
                                    PRINTSTRING( "/n" );
                                    sub_81174( I, 1090519040 );
                                }
                            }
                        }
                        else
                        {
                            PRINTSTRING( "Traffic car removed from processing (check B) car = " );
                            PRINTINT( I );
                            PRINTSTRING( "/n" );
                            sub_81174( I, 1090519040 );
                        }
                    }
                    else if ((NOT l_U55) AND (l_U40))
                    {
                        PRINTSTRING( "Traffic car removed from processing (check C) car = " );
                        PRINTINT( I );
                        PRINTSTRING( "/n" );
                        sub_81174( I, 1090519040 );
                    }
                }
                else
                {
                    PRINTSTRING( "Traffic car removed from processing (check D) car = " );
                    PRINTINT( I );
                    PRINTSTRING( "/n" );
                    sub_81174( I, 1090519040 );
                }
            }
            if (l_U1382[I] == 4)
            {
                if (IS_VEH_DRIVEABLE( l_U2577[I] ))
                {
                    SET_CAR_COLLISION( l_U2577[I], 1 );
                    if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U2577[I] ))
                    {
                        GET_DRIVER_OF_CAR( l_U2577[I], ref uVar6 );
                        if (DOES_CHAR_EXIST( uVar6 ))
                        {
                            if (NOT (IS_CHAR_INJURED( uVar6 )))
                            {
                                if (IS_PLAYER_PLAYING( sub_6741() ))
                                {
                                    if ((NOT l_U35) AND ((NOT l_U23) AND ((NOT l_U26) AND (IS_CHAR_TOUCHING_VEHICLE( sub_6646(), l_U2577[I] )))))
                                    {
                                        if (IS_CHAR_IN_ANY_CAR( sub_6646() ))
                                        {
                                            bVar16 = false;
                                            STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_6646(), ref uVar7 );
                                            if (NOT (sub_84128( l_U2577[I], uVar7 )))
                                            {
                                                bVar16 = true;
                                            }
                                            if (NOT bVar16)
                                            {
                                                if (sub_84290( uVar7, l_U2577[I] ))
                                                {
                                                    bVar16 = true;
                                                }
                                            }
                                            if (bVar16)
                                            {
                                                sub_84521( l_U2577[I] );
                                                l_U1382[I]++;
                                            }
                                        }
                                    }
                                    else if (sub_84290( l_U2577[I], uParam0 ))
                                    {
                                        SET_PLAYBACK_SPEED( l_U2577[I], uParam1 );
                                    }
                                    else if ((NOT l_U35) AND (sub_84648( uParam0, l_U2577[I] )))
                                    {
                                        sub_84521( l_U2577[I] );
                                        l_U1382[I]++;
                                    }
                                    else
                                    {
                                        SET_PLAYBACK_SPEED( l_U2577[I], uParam1 );
                                    }
                                    if (l_U28)
                                    {
                                        # -NULL-0xbfc99f( l_U2577[I], 1 );
                                    }
                                    else
                                    {
                                        # -NULL-0xbfc99f( l_U2577[I], 0 );
                                    }
                                }
                            }
                            else
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U2577[I] );
                            }
                        }
                        else
                        {
                            STOP_PLAYBACK_RECORDED_CAR( l_U2577[I] );
                        }
                    }
                    else
                    {
                        l_U1382[I]++;
                    }
                }
                else
                {
                    l_U1382[I]++;
                }
            }
            if (l_U1382[I] == 5)
            {
                if (IS_VEH_DRIVEABLE( l_U2577[I] ))
                {
                    if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U2577[I] )))
                    {
                        l_U1382[I]++;
                    }
                    else
                    {
                        GET_DRIVER_OF_CAR( l_U2577[I], ref uVar6 );
                        if (DOES_CHAR_EXIST( uVar6 ))
                        {
                            if (NOT (IS_CHAR_INJURED( uVar6 )))
                            {
                                SET_PLAYBACK_SPEED( l_U2577[I], uParam1 );
                                if (l_U28)
                                {
                                    # -NULL-0xbfc99f( l_U2577[I], 1 );
                                }
                                else
                                {
                                    # -NULL-0xbfc99f( l_U2577[I], 0 );
                                }
                            }
                            else
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U2577[I] );
                            }
                        }
                        else
                        {
                            STOP_PLAYBACK_RECORDED_CAR( l_U2577[I] );
                        }
                        if (HAS_CAR_RECORDING_BEEN_LOADED( l_U1231[I] ))
                        {
                            if (l_U1211 > (l_U686[I] + (GET_TOTAL_DURATION_OF_CAR_RECORDING( l_U1231[I] ))))
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U2577[I] );
                            }
                        }
                        else
                        {
                            STOP_PLAYBACK_RECORDED_CAR( l_U2577[I] );
                        }
                    }
                }
                else
                {
                    l_U1382[I]++;
                }
            }
            if (l_U1382[I] == 6)
            {
                if (NOT (IS_CAR_DEAD( l_U2577[I] )))
                {
                    GET_CAR_SPEED( l_U2577[I], ref uVar15 );
                }
                sub_85757( ref l_U2577[I] );
                l_U1636--;
                sub_81174( I, uVar15 );
            }
            l_U1647++;
        }
    }
    else
    {
        sub_9376();
    }
    return;
}

void sub_81048(unknown uParam0)
{
    unknown Result;

    REQUEST_CAR_RECORDING( uParam0 );
    while (NOT (HAS_CAR_RECORDING_BEEN_LOADED( uParam0 )))
    {
        WAIT( 0 );
    }
    Result = GET_TOTAL_DURATION_OF_CAR_RECORDING( uParam0 );
    REMOVE_CAR_RECORDING( uParam0 );
    return Result;
}

void sub_81174(int iParam0, float fParam1)
{
    int I;
    unknown uVar5;

    if (NOT (l_U1653[iParam0] == 0))
    {
        MARK_MODEL_AS_NO_LONGER_NEEDED( l_U1653[iParam0] );
    }
    if (DOES_VEHICLE_EXIST( l_U2577[iParam0] ))
    {
        if (IS_VEH_DRIVEABLE( l_U2577[iParam0] ))
        {
            GET_DRIVER_OF_CAR( l_U2577[iParam0], ref uVar5 );
            if (DOES_CHAR_EXIST( uVar5 ))
            {
                if (NOT (IS_CHAR_INJURED( uVar5 )))
                {
                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( uVar5, 0 );
                }
            }
        }
    }
    if (IS_VEH_DRIVEABLE( l_U2577[iParam0] ))
    {
        sub_9526( l_U2577[iParam0] );
        SET_CAR_COLLISION( l_U2577[iParam0], 1 );
        FREEZE_CAR_POSITION( l_U2577[iParam0], 0 );
    }
    if (NOT l_U24)
    {
        if (DOES_CHAR_EXIST( uVar5 ))
        {
            if (NOT (IS_CHAR_INJURED( uVar5 )))
            {
                if (fParam1 < 8.00000000)
                {
                    fParam1 = 8.00000000;
                }
                if (fParam1 > 62.90000000)
                {
                    fParam1 = 62.90000000;
                }
                SET_DRIVE_TASK_CRUISE_SPEED( uVar5, fParam1 );
            }
            sub_81474( uVar5 );
        }
        sub_9687( l_U2577[iParam0] );
    }
    else if (DOES_CHAR_EXIST( uVar5 ))
    {
        DELETE_CHAR( ref uVar5 );
    }
    if (DOES_VEHICLE_EXIST( l_U2577[iParam0] ))
    {
        DELETE_CAR( ref l_U2577[iParam0] );
    }
    if (iParam0 >= l_U1646)
    {
        for ( I = 0; I < 150; I++ )
        {
            if (NOT (l_U1382[I] == 99))
            {
                if (iParam0 == I)
                {
                    if (iParam0 < 149)
                    {
                        l_U1646 = iParam0 + 1;
                    }
                }
                I = 150;
            }
        }
    }
    l_U1382[iParam0] = 99;
    return;
}

void sub_81474(unknown uParam0)
{
    MARK_CHAR_AS_NO_LONGER_NEEDED( ref uParam0 );
    return;
}

int sub_82108(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 8; I++ )
    {
        if (IS_VEH_DRIVEABLE( l_U57[I] ))
        {
            if (LOCATE_CAR_3D( l_U57[I], uParam0._fU0, uParam0._fU4, uParam0._fU8, 4.00000000, 4.00000000, 4.00000000, 0 ))
            {
                return 1;
            }
        }
    }
    return 0;
}

int sub_82632(unknown uParam0)
{
    unknown uVar3;

    if (DOES_VEHICLE_EXIST( uParam0 ))
    {
        if (NOT (IS_CAR_DEAD( uParam0 )))
        {
            GET_CAR_MODEL( uParam0, ref uVar3 );
            if ((IS_THIS_MODEL_A_BIKE( uVar3 )) || (IS_THIS_MODEL_A_CAR( uVar3 )))
            {
                return SET_CAR_ON_GROUND_PROPERLY( uParam0 );
            }
        }
    }
    return 0;
}

void sub_83274(unknown uParam0)
{
    int iVar3;

    if (l_U36)
    {
        if (IS_VEH_DRIVEABLE( (uParam0^) ))
        {
            iVar3 = sub_83308();
            if (NOT (iVar3 == -1))
            {
                l_U57[iVar3] = (uParam0^);
                if (IS_VEH_DRIVEABLE( l_U57[iVar3] ))
                {
                    ADD_BLIP_FOR_CAR( l_U57[iVar3], ref l_U66[iVar3] );
                }
            }
        }
    }
    return;
}

int sub_83308()
{
    int Result;

    for ( Result = 0; Result < 8; Result++ )
    {
        if (NOT (DOES_VEHICLE_EXIST( l_U57[Result] )))
        {
            return Result;
        }
    }
    return -1;
}

int sub_84128(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    float fVar10;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_SPEED_VECTOR( uParam0, ref uVar4, 0 );
    }
    else
    {
        return 0;
    }
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_CAR_SPEED_VECTOR( uParam1, ref uVar7, 0 );
    }
    else
    {
        return 0;
    }
    uVar4._fU8 = 0.00000000;
    uVar7._fU8 = 0.00000000;
    fVar10 = sub_79206( ref uVar4, ref uVar7 );
    if (fVar10 < 0.00000000)
    {
        return 0;
    }
    return 1;
}

int sub_84290(unknown uParam0, unknown uParam1)
{
    vector vVar4;
    vector vVar7;
    vector vVar10;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    float fVar19;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_COORDINATES( uParam0, ref vVar4.x, ref vVar4.y, ref vVar4.z );
    }
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_CAR_COORDINATES( uParam1, ref vVar7.x, ref vVar7.y, ref vVar7.z );
    }
    uVar13 = {vVar7 - vVar4};
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( uParam1, 0.00000000, 5.00000000, 0.00000000, ref vVar10.x, ref vVar10.y, ref vVar10.z );
        uVar16 = {vVar10 - vVar7};
    }
    uVar13._fU8 = 0.00000000;
    uVar16._fU8 = 0.00000000;
    fVar19 = sub_79206( ref uVar13, ref uVar16 );
    if (fVar19 < 0.00000000)
    {
        return 1;
    }
    return 0;
}

void sub_84521(unknown uParam0)
{
    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        sub_9526( uParam0 );
        CHANGE_PLAYBACK_TO_USE_AI( uParam0 );
    }
    return;
}

int sub_84648(unknown uParam0, unknown uParam1)
{
    float fVar4;
    float fVar5;

    fVar4 = sub_84661( uParam0, uParam1 );
    fVar5 = sub_84885( uParam0, uParam1 );
    if (fVar4 > fVar5)
    {
        return 1;
    }
    return 0;
}

float sub_84661(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    vector vVar10;
    vector vVar13;
    float fVar16;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_FORWARD_X( uParam0, ref uVar4._fU0 );
        GET_CAR_FORWARD_Y( uParam0, ref uVar4._fU4 );
        GET_CAR_COORDINATES( uParam0, ref vVar10.x, ref vVar10.y, ref vVar10.z );
    }
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_CAR_COORDINATES( uParam1, ref vVar13.x, ref vVar13.y, ref vVar13.z );
    }
    uVar7 = {vVar13 - vVar10};
    GET_ANGLE_BETWEEN_2D_VECTORS( uVar7._fU0, uVar7._fU4, uVar4._fU0, uVar4._fU4, ref fVar16 );
    fVar16 += -90.00000000;
    if (fVar16 < 0.00000000)
    {
        fVar16 *= -1.00000000;
    }
    uVar7._fU8 = 0.00000000;
    return (VMAG( uVar7 )) * (SIN( fVar16 ));
}

float sub_84885(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    vector vVar10;
    vector vVar13;
    float fVar16;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_FORWARD_X( uParam0, ref uVar4._fU0 );
        GET_CAR_FORWARD_Y( uParam0, ref uVar4._fU4 );
        GET_CAR_COORDINATES( uParam0, ref vVar10.x, ref vVar10.y, ref vVar10.z );
    }
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_CAR_COORDINATES( uParam1, ref vVar13.x, ref vVar13.y, ref vVar13.z );
    }
    uVar7 = {vVar13 - vVar10};
    GET_ANGLE_BETWEEN_2D_VECTORS( uVar7._fU0, uVar7._fU4, uVar4._fU0, uVar4._fU4, ref fVar16 );
    fVar16 += -90.00000000;
    if (fVar16 < 0.00000000)
    {
        fVar16 *= -1.00000000;
    }
    uVar7._fU8 = 0.00000000;
    return (VMAG( uVar7 )) * (COS( fVar16 ));
}

void sub_85757(unknown uParam0)
{
    int I;

    for ( I = 0; I < 8; I++ )
    {
        if (l_U57[I] == (uParam0^))
        {
            l_U57[I] = nil;
            if (DOES_BLIP_EXIST( l_U66[I] ))
            {
                REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U66[I] );
            }
            return;
        }
    }
    return;
}

void sub_85929(unknown uParam0)
{
    int I;
    int iVar4;
    int iVar5;
    unknown uVar6;

    iVar4 = l_U1646 - 5;
    iVar5 = iVar4 + 15;
    if (l_U2827 > 4000.00000000)
    {
        if (IS_PLAYER_PLAYING( sub_6741() ))
        {
            if (IS_CHAR_IN_ANY_CAR( sub_6646() ))
            {
                STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_6646(), ref uVar6 );
            }
            for ( I = 0; I < 150; I++ )
            {
                if (I < iVar4)
                {
                    I = iVar4;
                }
                if (DOES_VEHICLE_EXIST( l_U2577[I] ))
                {
                    if (IS_VEH_DRIVEABLE( l_U2577[I] ))
                    {
                        if ((sub_86098( l_U2577[I], uVar6 )) || (sub_86098( l_U2577[I], (uParam0^) )))
                        {
                            SOUND_CAR_HORN( l_U2577[I], 3000 );
                            l_U2827 = 0.00000000;
                        }
                    }
                }
                if (I >= iVar5)
                {
                    I = 150;
                }
            }
        }
    }
    return;
}

int sub_86098(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;

    if ((DOES_VEHICLE_EXIST( uParam1 )) AND (DOES_VEHICLE_EXIST( uParam0 )))
    {
        if (IS_VEH_DRIVEABLE( uParam0 ))
        {
            if (IS_VEH_DRIVEABLE( uParam1 ))
            {
                if (NOT (sub_84128( uParam0, uParam1 )))
                {
                    GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( uParam0, 0.00000000, 25.00000000, 0.00000000, ref uVar4._fU0, ref uVar4._fU4, ref uVar4._fU8 );
                    GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( uParam0, 0.00000000, 20.00000000, 0.00000000, ref uVar7._fU0, ref uVar7._fU4, ref uVar7._fU8 );
                    GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( uParam0, 0.00000000, 15.00000000, 0.00000000, ref uVar10._fU0, ref uVar10._fU4, ref uVar10._fU8 );
                    if ((LOCATE_CAR_3D( uParam1, uVar4._fU0, uVar4._fU4, uVar4._fU8, 5.00000000, 5.00000000, 5.00000000, 0 )) || ((LOCATE_CAR_3D( uParam1, uVar4._fU0, uVar4._fU4, uVar4._fU8, 5.00000000, 5.00000000, 5.00000000, 0 )) || (LOCATE_CAR_3D( uParam1, uVar4._fU0, uVar4._fU4, uVar4._fU8, 5.00000000, 5.00000000, 5.00000000, 0 ))))
                    {
                        return 1;
                    }
                }
            }
        }
    }
    return 0;
}

void sub_86493(unknown uParam0)
{
    int I;
    int iVar4;
    int iVar5;
    unknown uVar6;

    iVar4 = l_U1646 - 5;
    iVar5 = iVar4 + 15;
    if (IS_PLAYER_PLAYING( sub_6741() ))
    {
        switch (l_U2825)
        {
            case 0:
            if (l_U2828 > 3000.00000000)
            {
                if (IS_CHAR_IN_ANY_CAR( sub_6646() ))
                {
                    STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_6646(), ref uVar6 );
                }
                for ( I = 0; I < 150; I++ )
                {
                    if (I < iVar4)
                    {
                        I = iVar4;
                    }
                    if (DOES_VEHICLE_EXIST( l_U2577[I] ))
                    {
                        if (IS_VEH_DRIVEABLE( l_U2577[I] ))
                        {
                            if ((sub_86098( l_U2577[I], uVar6 )) || (sub_86098( l_U2577[I], (uParam0^) )))
                            {
                                l_U2824 = l_U2577[I];
                                l_U2828 = 0.00000000;
                                I = 150;
                                l_U2825++;
                            }
                        }
                    }
                    if (I >= iVar5)
                    {
                        I = 150;
                    }
                }
            }
            break;
            case 1:
            if (IS_VEH_DRIVEABLE( l_U2824 ))
            {
                if (l_U2828 < 1000.00000000)
                {
                    if (l_U2829 > 100.00000000)
                    {
                        if (NOT l_U2826)
                        {
                            SET_CAR_LIGHT_MULTIPLIER( l_U2824, 2.00000000 );
                            l_U2826 = 1;
                        }
                        else
                        {
                            SET_CAR_LIGHT_MULTIPLIER( l_U2824, 1.00000000 );
                            l_U2826 = 0;
                        }
                        l_U2829 = 0.00000000;
                    }
                }
                else
                {
                    SET_CAR_LIGHT_MULTIPLIER( l_U2824, 1.00000000 );
                    l_U2825 = 0;
                    l_U2828 = 0.00000000;
                    l_U2826 = 0;
                }
            }
            else
            {
                l_U2825 = 0;
                l_U2828 = 0.00000000;
                l_U2826 = 0;
            }
            break;
        }
    }
    return;
}

void sub_87004(unknown uParam0)
{
    int I;
    int iVar4;

    l_U1649 = 0;
    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        for ( I = 0; I < 50; I++ )
        {
            if (I < l_U1648)
            {
                I = l_U1648;
            }
            if (l_U1585[I] == 0)
            {
                if (NOT (l_U1804[I] == 0))
                {
                    if (LOCATE_CAR_2D( uParam0, l_U2332[I]._fU0, l_U2332[I]._fU4, l_U1208, l_U1208, 0 ))
                    {
                        l_U1650++;
                        l_U1585[I]++;
                    }
                }
                else
                {
                    sub_87186( I );
                }
            }
            if (l_U1585[I] == 1)
            {
                if (6 > l_U1639)
                {
                    if (HAS_MODEL_LOADED( l_U1804[I] ))
                    {
                        if (NOT (DOES_VEHICLE_EXIST( l_U2737[I] )))
                        {
                            if ((l_U46) || ((l_U20) || (NOT (sub_80307( l_U2332[I], 5.00000000, 1120403456 )))))
                            {
                                if (l_U39)
                                {
                                    sub_80277( l_U2332[I], l_U1216 );
                                }
                                CREATE_CAR( l_U1804[I], l_U2332[I]._fU0, l_U2332[I]._fU4, l_U2332[I]._fU8, ref l_U2737[I], 1 );
                                SET_VEHICLE_QUATERNION( l_U2737[I], l_U997[I], l_U1048[I], l_U1099[I], l_U1150[I] );
                                MARK_MODEL_AS_NO_LONGER_NEEDED( l_U1804[I] );
                                if (IS_CAR_MODEL( l_U2737[I], sub_9301() ))
                                {
                                    SWITCH_CAR_SIREN( l_U2737[I], 1 );
                                }
                                if (IS_CAR_MODEL( l_U2737[I], sub_9272() ))
                                {
                                    CHANGE_CAR_COLOUR( l_U2737[I], 0, 0 );
                                }
                                GET_INTERIOR_FROM_CAR( l_U2737[I], ref iVar4 );
                                if (NOT (iVar4 == nil))
                                {
                                    # -NULL-0xbfc5b5( l_U2737[I] );
                                }
                                l_U1650--;
                                l_U1639++;
                                l_U1585[I]++;
                            }
                        }
                    }
                    else
                    {
                        REQUEST_MODEL( l_U1804[I] );
                    }
                }
            }
            if (l_U1585[I] == 2)
            {
                if (NOT (sub_84290( l_U2737[I], uParam0 )))
                {
                    if (NOT l_U24)
                    {
                        sub_9687( l_U2737[I] );
                    }
                    else
                    {
                        DELETE_CAR( ref l_U2737[I] );
                    }
                    l_U1639--;
                    sub_87186( I );
                }
            }
            l_U1649++;
            if (l_U1649 >= 15)
            {
                return;
            }
        }
    }
    else
    {
        sub_9811();
    }
    return;
}

void sub_87186(int iParam0)
{
    int I;

    if (iParam0 >= l_U1648)
    {
        for ( I = 0; I < 50; I++ )
        {
            if (NOT (l_U1585[I] == 99))
            {
                if (iParam0 == I)
                {
                    if (iParam0 < 49)
                    {
                        l_U1648 = iParam0 + 1;
                    }
                }
                I = 50;
            }
        }
    }
    l_U1585[iParam0] = 99;
    return;
}

void sub_87952(unknown uParam0, unknown uParam1)
{
    int I;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    float fVar13;
    float fVar14;
    boolean bVar15;
    int iVar16;
    int iVar17;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        for ( I = 0; I < 25; I++ )
        {
            if ((NOT (l_U1855[I] == 0)) AND ((l_U1533[I] < 3000) AND (l_U1533[I] > 0)))
            {
                if (l_U1559[I] == 0)
                {
                    if (NOT l_U20)
                    {
                        if (l_U1211 > (l_U945[I] - (7000.00000000 * uParam1)))
                        {
                            l_U1559[I]++;
                            l_U1651++;
                        }
                    }
                    else
                    {
                        fVar13 = l_U1211 - l_U945[I];
                        fVar13 *= l_U971[I];
                        if (fVar13 >= 0.00000000)
                        {
                            if (fVar13 < (sub_81048( l_U1533[I] )))
                            {
                                l_U1559[I]++;
                                l_U1651++;
                            }
                            else
                            {
                                l_U1559[I] = 99;
                            }
                        }
                    }
                }
                if (l_U1559[I] == 1)
                {
                    if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( l_U1533[I] )))
                    {
                        REQUEST_CAR_RECORDING( l_U1533[I] );
                    }
                    else if (l_U1855[I] == sub_9301())
                    {
                        if (HAS_MODEL_LOADED( sub_9330() ))
                        {
                            l_U1559[I]++;
                        }
                        else
                        {
                            REQUEST_MODEL( sub_9330() );
                        }
                    }
                    else if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
                    {
                        l_U1559[I]++;
                    }
                    else if (HAS_MODEL_LOADED( sub_9243() ))
                    {
                        l_U1559[I]++;
                    }
                    else
                    {
                        REQUEST_MODEL( sub_9243() );
                    };;;;
                }
                if (l_U1559[I] == 2)
                {
                    if (HAS_MODEL_LOADED( l_U1855[I] ))
                    {
                        if (NOT (DOES_VEHICLE_EXIST( l_U2788[I] )))
                        {
                            bVar15 = false;
                            if (l_U1855[I] == sub_9301())
                            {
                                if (HAS_MODEL_LOADED( sub_9330() ))
                                {
                                    bVar15 = true;
                                }
                                else
                                {
                                    REQUEST_MODEL( sub_9330() );
                                }
                            }
                            else if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
                            {
                                bVar15 = true;
                            }
                            else if (HAS_MODEL_LOADED( sub_9243() ))
                            {
                                bVar15 = true;
                            }
                            else
                            {
                                REQUEST_MODEL( sub_9243() );
                            };;;
                            if (bVar15)
                            {
                                if ((l_U46) || (NOT (sub_80307( l_U2483[I], 5.00000000, 1120403456 ))))
                                {
                                    CREATE_CAR( l_U1855[I], l_U2483[I]._fU0, l_U2483[I]._fU4, l_U2483[I]._fU8, ref l_U2788[I], 1 );
                                    if (l_U1855[I] == sub_9301())
                                    {
                                        CREATE_CHAR_INSIDE_CAR( l_U2788[I], 6, sub_9330(), ref uVar5 );
                                        SET_CHAR_RELATIONSHIP_GROUP( uVar5, 23 );
                                        MARK_MODEL_AS_NO_LONGER_NEEDED( sub_9330() );
                                    }
                                    else if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
                                    {
                                        CREATE_RANDOM_CHAR_AS_DRIVER( l_U2788[I], ref uVar5 );
                                        SET_CHAR_RANDOM_COMPONENT_VARIATION( uVar5 );
                                    }
                                    else
                                    {
                                        CREATE_CHAR_INSIDE_CAR( l_U2788[I], 26, sub_9243(), ref uVar5 );
                                        SET_CHAR_RANDOM_COMPONENT_VARIATION( uVar5 );
                                        MARK_MODEL_AS_NO_LONGER_NEEDED( sub_9243() );
                                    }
                                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( uVar5, 1 );
                                    SET_CHAR_ONLY_DAMAGED_BY_PLAYER( uVar5, 1 );
                                    SET_CHAR_SUFFERS_CRITICAL_HITS( uVar5, 0 );
                                    SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( uVar5, 0 );
                                    sub_81474( uVar5 );
                                    SET_VEHICLE_QUATERNION( l_U2788[I], l_U841[I], l_U867[I], l_U893[I], l_U919[I] );
                                    FREEZE_CAR_POSITION( l_U2788[I], 1 );
                                    MARK_MODEL_AS_NO_LONGER_NEEDED( l_U1855[I] );
                                    sub_82632( l_U2788[I] );
                                    GET_INTERIOR_FROM_CAR( l_U2788[I], ref iVar16 );
                                    if (NOT (iVar16 == nil))
                                    {
                                        # -NULL-0xbfc5b5( l_U2788[I] );
                                    }
                                    l_U1559[I]++;
                                    l_U1651--;
                                }
                            }
                        }
                    }
                    else
                    {
                        REQUEST_MODEL( l_U1855[I] );
                    }
                }
                if (l_U1559[I] == 3)
                {
                    if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( l_U1533[I] )))
                    {
                        REQUEST_CAR_RECORDING( l_U1533[I] );
                    }
                    if (IS_VEH_DRIVEABLE( l_U2788[I] ))
                    {
                        if (l_U1211 > l_U945[I])
                        {
                            if (4 > l_U1638)
                            {
                                if (IS_VEH_DRIVEABLE( uParam0 ))
                                {
                                    if (IS_PLAYBACK_GOING_ON_FOR_CAR( uParam0 ))
                                    {
                                        l_U1211 = FIND_TIME_POSITION_IN_RECORDING( uParam0 );
                                    }
                                }
                                fVar13 = l_U1211 - l_U945[I];
                                fVar13 *= l_U971[I];
                                if (HAS_CAR_RECORDING_BEEN_LOADED( l_U1533[I] ))
                                {
                                    if (fVar13 < (GET_TOTAL_DURATION_OF_CAR_RECORDING( l_U1533[I] )))
                                    {
                                        GET_CAR_COORDINATES( l_U2788[I], ref uVar7._fU0, ref uVar7._fU4, ref uVar7._fU8 );
                                        GET_POSITION_OF_CAR_RECORDING_AT_TIME( l_U1533[I], fVar13, ref uVar10 );
                                        if ((NOT l_U46) AND ((sub_80307( uVar10, 5.00000000, 1120403456 )) AND (NOT (sub_80307( uVar7, 5.00000000, 1120403456 )))))
                                        {
                                            l_U1638++;
                                            l_U1559[I]++;
                                        }
                                        else if (sub_20313( ref l_U2788[I], l_U1533[I], fVar13, 1, 0, 0 ))
                                        {
                                            SET_PLAYBACK_SPEED( l_U2788[I], uParam1 * l_U971[I] );
                                            if (IS_VEH_DRIVEABLE( l_U2788[I] ))
                                            {
                                                if (l_U1855[I] == sub_9301())
                                                {
                                                    SWITCH_CAR_SIREN( l_U2788[I], 1 );
                                                }
                                            }
                                            if (l_U37)
                                            {
                                                # -NULL-0xbfc99f( l_U2788[I], 1 );
                                            }
                                            else
                                            {
                                                # -NULL-0xbfc99f( l_U2788[I], 0 );
                                            }
                                            l_U1638++;
                                            l_U1559[I]++;
                                        }
                                    }
                                    else
                                    {
                                        l_U1638++;
                                        l_U1559[I]++;
                                    }
                                }
                            }
                            else
                            {
                                SCRIPT_ASSERT( "Too many set peice cars playing back at once" );
                                l_U1638++;
                                l_U1559[I]++;
                            }
                        }
                    }
                    else
                    {
                        l_U1638++;
                        l_U1559[I]++;
                    }
                }
                if (l_U1559[I] == 4)
                {
                    if (IS_VEH_DRIVEABLE( l_U2788[I] ))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U2788[I] ))
                        {
                            GET_DRIVER_OF_CAR( l_U2788[I], ref uVar5 );
                            if (DOES_CHAR_EXIST( uVar5 ))
                            {
                                if (NOT (IS_CHAR_INJURED( uVar5 )))
                                {
                                    if (IS_PLAYER_PLAYING( sub_6741() ))
                                    {
                                        if ((NOT l_U56) AND ((NOT l_U23) AND ((NOT l_U26) AND (IS_CHAR_TOUCHING_VEHICLE( sub_6646(), l_U2788[I] )))))
                                        {
                                            if (IS_CHAR_IN_ANY_CAR( sub_6646() ))
                                            {
                                                bVar15 = false;
                                                STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_6646(), ref uVar6 );
                                                if (NOT (sub_90109( l_U2788[I], uVar6, 45.00000000 )))
                                                {
                                                    bVar15 = true;
                                                }
                                                if (NOT bVar15)
                                                {
                                                    if (sub_84290( uVar6, l_U2788[I] ))
                                                    {
                                                        bVar15 = true;
                                                    }
                                                }
                                                if (NOT bVar15)
                                                {
                                                    GET_CAR_SPEED( uVar6, ref fVar14 );
                                                    if (fVar14 < 1.00000000)
                                                    {
                                                        bVar15 = true;
                                                    }
                                                }
                                                if (NOT bVar15)
                                                {
                                                    if (sub_90394( uVar6, l_U2788[I], 15.00000000 ))
                                                    {
                                                        bVar15 = true;
                                                    }
                                                }
                                                if (bVar15)
                                                {
                                                    sub_84521( l_U2788[I] );
                                                    l_U1559[I]++;
                                                }
                                            }
                                        }
                                        else
                                        {
                                            SET_PLAYBACK_SPEED( l_U2788[I], uParam1 * l_U971[I] );
                                            if (l_U37)
                                            {
                                                # -NULL-0xbfc99f( l_U2788[I], 1 );
                                            }
                                            else
                                            {
                                                # -NULL-0xbfc99f( l_U2788[I], 0 );
                                            }
                                        }
                                    }
                                }
                                else
                                {
                                    STOP_PLAYBACK_RECORDED_CAR( l_U2788[I] );
                                }
                            }
                            else
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U2788[I] );
                            }
                        }
                        else
                        {
                            l_U1559[I]++;
                        }
                    }
                    else
                    {
                        l_U1559[I]++;
                    }
                }
                if (l_U1559[I] == 5)
                {
                    if (IS_VEH_DRIVEABLE( l_U2788[I] ))
                    {
                        if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U2788[I] )))
                        {
                            l_U1559[I]++;
                        }
                        else
                        {
                            GET_DRIVER_OF_CAR( l_U2788[I], ref uVar5 );
                            if (DOES_CHAR_EXIST( uVar5 ))
                            {
                                if (NOT (IS_CHAR_INJURED( uVar5 )))
                                {
                                    SET_PLAYBACK_SPEED( l_U2788[I], uParam1 * l_U971[I] );
                                    if (l_U37)
                                    {
                                        # -NULL-0xbfc99f( l_U2788[I], 1 );
                                    }
                                    else
                                    {
                                        # -NULL-0xbfc99f( l_U2788[I], 0 );
                                    }
                                }
                                else
                                {
                                    STOP_PLAYBACK_RECORDED_CAR( l_U2788[I] );
                                }
                            }
                            else
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U2788[I] );
                            }
                            if (HAS_CAR_RECORDING_BEEN_LOADED( l_U1533[I] ))
                            {
                                if (l_U1211 > (l_U945[I] + (GET_TOTAL_DURATION_OF_CAR_RECORDING( l_U1533[I] ))))
                                {
                                    STOP_PLAYBACK_RECORDED_CAR( l_U2788[I] );
                                }
                            }
                            else
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U2788[I] );
                            }
                        }
                    }
                    else
                    {
                        l_U1559[I]++;
                    }
                }
                if (l_U1559[I] == 6)
                {
                    if (NOT (l_U2788[I] == l_U2823))
                    {
                        if (IS_VEH_DRIVEABLE( l_U2788[I] ))
                        {
                            GET_DRIVER_OF_CAR( l_U2788[I], ref uVar5 );
                            if (DOES_CHAR_EXIST( uVar5 ))
                            {
                                if (NOT (IS_CHAR_INJURED( uVar5 )))
                                {
                                    GET_SCRIPT_TASK_STATUS( uVar5, 29, ref iVar17 );
                                    if (iVar17 == 7)
                                    {
                                        GET_CAR_SPEED( l_U2788[I], ref fVar14 );
                                        if (fVar14 < 8.00000000)
                                        {
                                            fVar14 = 8.00000000;
                                        }
                                        if (fVar14 > 62.90000000)
                                        {
                                            fVar14 = 62.90000000;
                                        }
                                        SET_DRIVE_TASK_CRUISE_SPEED( uVar5, fVar14 );
                                    }
                                }
                            }
                        }
                        if (NOT l_U24)
                        {
                            sub_9687( l_U2788[I] );
                        }
                        else if (DOES_VEHICLE_EXIST( l_U2788[I] ))
                        {
                            DELETE_CAR( ref l_U2788[I] );
                        }
                    }
                    l_U1638--;
                    l_U1559[I] = 99;
                }
            }
        }
    }
    else
    {
        sub_9997();
    }
    return;
}

int sub_90109(unknown uParam0, unknown uParam1, float fParam2)
{
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    float fVar11;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_SPEED_VECTOR( uParam0, ref uVar5, 0 );
    }
    else
    {
        return 0;
    }
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_CAR_SPEED_VECTOR( uParam1, ref uVar8, 0 );
    }
    else
    {
        return 0;
    }
    uVar5._fU8 = 0.00000000;
    uVar8._fU8 = 0.00000000;
    fVar11 = sub_79206( ref uVar5, ref uVar8 );
    if (fVar11 < 0.00000000)
    {
        return 0;
    }
    GET_ANGLE_BETWEEN_2D_VECTORS( uVar5._fU0, uVar5._fU4, uVar8._fU0, uVar8._fU4, ref fVar11 );
    if (NOT (fVar11 < fParam2))
    {
        return 0;
    }
    return 1;
}

int sub_90394(unknown uParam0, unknown uParam1, float fParam2)
{
    unknown uVar5;
    unknown uVar6;

    if (NOT (IS_CAR_DEAD( uParam0 )))
    {
        GET_CAR_SPEED( uParam0, ref uVar5 );
    }
    if (NOT (IS_CAR_DEAD( uParam1 )))
    {
        GET_CAR_SPEED( uParam1, ref uVar6 );
    }
    if (((uVar5 - uVar6) < (fParam2 * -1.00000000)) || ((uVar5 - uVar6) > fParam2))
    {
        return 1;
    }
    return 0;
}

int sub_91693(unknown uParam0, unknown uParam1)
{
    if (NOT l_U49)
    {
        l_U20 = 1;
        sub_10215();
        if (IS_VEH_DRIVEABLE( (uParam0^) ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( (uParam0^) ))
            {
                STOP_PLAYBACK_RECORDED_CAR( (uParam0^) );
                FIX_CAR( (uParam0^) );
            }
            if (NOT (l_U1645 == -1))
            {
                while (NOT (sub_20313( uParam0, l_U1645, uParam1, 1, 0, 0 )))
                {
                    WAIT( 0 );
                }
                if (NOT l_U31)
                {
                    l_U23 = 1;
                    l_U1214 = 0.00000000;
                    l_U1646 = 0;
                    l_U1648 = 0;
                    l_U1636 = 0;
                    l_U1638 = 0;
                    l_U1639 = 0;
                    l_U1650 = 0;
                    l_U1651 = 0;
                    l_U1652 = 0;
                }
            }
        }
        l_U49 = 1;
    }
    else if (IS_VEH_DRIVEABLE( (uParam0^) ))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( (uParam0^) ))
        {
            SET_PLAYBACK_SPEED( (uParam0^), (1.00000000 * l_U1212) * l_U1214 );
            sub_20313( uParam0, l_U1645, uParam1, 1, 0, 0 );
        }
    }
    l_U1211 = uParam1;
    sub_87952( (uParam0^), (1.00000000 * l_U1212) * l_U1214 );
    sub_80776( (uParam0^), (1.00000000 * l_U1212) * l_U1214 );
    sub_87004( (uParam0^) );
    if ((l_U1652 == 0) AND ((l_U1651 == 0) AND (l_U1650 == 0)))
    {
        l_U23 = 0;
        l_U20 = 0;
        l_U49 = 0;
        return 1;
    }
    return 0;
}

void sub_92160()
{
    int iVar2;
    int iVar3;
    int I;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    int iVar11;
    unknown uVar12;
    int iVar13;
    int iVar14;

    iVar2 = 0;
    iVar3 = 0;
    I = 0;
    if ((l_U4224 != 0) AND (sub_56753()))
    {
        l_U4224 = 2;
    }
    SET_VISIBILITY_OF_CLOSEST_OBJECT_OF_TYPE( l_U3681._fU0, l_U3681._fU4, l_U3681._fU8, 100.00000000, 240192349, 1 );
    switch (l_U4224)
    {
        case 0:
        if (NOT IS_SCREEN_FADED_OUT())
        {
            DO_SCREEN_FADE_OUT( 500 );
            while (NOT IS_SCREEN_FADED_OUT())
            {
                WAIT( 0 );
            }
        }
        if (l_U3847)
        {
            RELEASE_TEXTURE( l_U4094 );
            RELEASE_TEXTURE( l_U4095 );
            RELEASE_TEXTURE( l_U4096 );
            RELEASE_TEXTURE( l_U4097 );
            REMOVE_TXD( l_U4093 );
        }
        CLEAR_CHAR_TASKS_IMMEDIATELY( sub_6646() );
        SET_PLAYER_CONTROL( sub_6741(), 0 );
        SET_CHAR_COORDINATES( sub_6646(), -640.58950000, -3.51060000, 11.40170000 );
        SET_CHAR_HEADING( sub_6646(), 100.67050000 );
        if (DOES_CAM_EXIST( l_U4069 ))
        {
            DESTROY_CAM( l_U4069 );
        }
        if (DOES_CAM_EXIST( l_U4067 ))
        {
            DESTROY_CAM( l_U4067 );
        }
        if (DOES_CAM_EXIST( l_U4068 ))
        {
            DESTROY_CAM( l_U4068 );
        }
        SET_USE_HIGHDOF( 0 );
        sub_6935();
        sub_7176();
        sub_7282();
        if (DOES_OBJECT_EXIST( l_U3988 ))
        {
            DELETE_OBJECT( ref l_U3988 );
        }
        if (DOES_OBJECT_EXIST( l_U3989 ))
        {
            DETACH_OBJECT( l_U3989, 1 );
            DELETE_OBJECT( ref l_U3989 );
        }
        if (DOES_CHAR_EXIST( l_U3987 ))
        {
            DELETE_CHAR( ref l_U3987 );
        }
        sub_92689( 748, ref l_U4052 );
        sub_92689( 749, ref l_U4052 );
        CLEAR_HELP();
        CLEAR_PRINTS();
        REMOVE_ANIMS( "MINI_GOLF" );
        REMOVE_ANIMS( "FACIALS@M_LO" );
        AMBIENT_AUDIO_BANK_NO_LONGER_NEEDED();
        REQUEST_MODEL( 996477618 );
        REQUEST_MODEL( 576867354 );
        while ((NOT (HAS_MODEL_LOADED( 576867354 ))) || (NOT (HAS_MODEL_LOADED( 996477618 ))))
        {
            WAIT( 0 );
        }
        CREATE_OBJECT_NO_OFFSET( 576867354, -819.93300000, -34.21250000, 5.19150000, ref l_U3991[0], 1 );
        SET_OBJECT_ROTATION( l_U3991[0], 0.00000000, 0.00000000, 0.00000000 );
        FREEZE_OBJECT_POSITION( l_U3991[0], 1 );
        CREATE_OBJECT_NO_OFFSET( 576867354, -826.71500000, 4.35290000, 5.19150000, ref l_U3991[1], 1 );
        SET_OBJECT_ROTATION( l_U3991[1], 0.00000000, 0.00000000, 90.00000000 );
        FREEZE_OBJECT_POSITION( l_U3991[1], 1 );
        CREATE_OBJECT_NO_OFFSET( 996477618, -819.88620000, -34.21250000, 5.19250000, ref l_U3991[2], 1 );
        SET_OBJECT_ROTATION( l_U3991[2], 0.00000000, 0.00000000, 0.00000000 );
        FREEZE_OBJECT_POSITION( l_U3991[2], 1 );
        CREATE_OBJECT_NO_OFFSET( 996477618, -826.71500000, 4.29290000, 5.19250000, ref l_U3991[3], 1 );
        SET_OBJECT_ROTATION( l_U3991[3], 0.00000000, 0.00000000, 90.00000000 );
        FREEZE_OBJECT_POSITION( l_U3991[3], 1 );
        MARK_MODEL_AS_NO_LONGER_NEEDED( 996477618 );
        MARK_MODEL_AS_NO_LONGER_NEEDED( 576867354 );
        CLEAR_AREA_OF_CHARS( l_U3690._fU0, l_U3690._fU4, l_U3690._fU8, 500.00000000 );
        SET_PED_DENSITY_MULTIPLIER( 0.00000000 );
        SET_CAR_DENSITY_MULTIPLIER( 0.00000000 );
        SET_CREATE_RANDOM_COPS( 0 );
        REQUEST_MODEL( 675415136 );
        REQUEST_MODEL( 64730935 );
        while ((NOT (HAS_MODEL_LOADED( 64730935 ))) || (NOT (HAS_MODEL_LOADED( 675415136 ))))
        {
            WAIT( 0 );
        }
        CREATE_CAR( 675415136, l_U3738._fU0, l_U3738._fU4, l_U3738._fU8, ref l_U4057[0], 1 );
        CHANGE_CAR_COLOUR( l_U4057[0], 0, 0 );
        TURN_OFF_VEHICLE_EXTRA( l_U4057[0], 1, 1 );
        LOCK_CAR_DOORS( l_U4057[0], 3 );
        SET_CAR_ONLY_DAMAGED_BY_PLAYER( l_U4057[0], 1 );
        CREATE_CAR( 675415136, l_U3738._fU0, l_U3738._fU4, l_U3738._fU8 + 3.00000000, ref l_U4057[1], 1 );
        CHANGE_CAR_COLOUR( l_U4057[1], 0, 0 );
        TURN_OFF_VEHICLE_EXTRA( l_U4057[1], 1, 0 );
        LOCK_CAR_DOORS( l_U4057[1], 3 );
        SET_CAR_ONLY_DAMAGED_BY_PLAYER( l_U4057[1], 1 );
        CREATE_CAR( 675415136, l_U3738._fU0, l_U3738._fU4, l_U3738._fU8 + 6.00000000, ref l_U4057[2], 1 );
        CHANGE_CAR_COLOUR( l_U4057[2], 0, 0 );
        TURN_OFF_VEHICLE_EXTRA( l_U4057[2], 1, 1 );
        LOCK_CAR_DOORS( l_U4057[2], 3 );
        SET_CAR_ONLY_DAMAGED_BY_PLAYER( l_U4057[2], 1 );
        MARK_MODEL_AS_NO_LONGER_NEEDED( 675415136 );
        iVar2 = 0;
        iVar3 = 0;
        I = 0;
        for ( I = 0; I < l_U4365; I++ )
        {
            iVar2 = I / 4;
            if ((IS_VEH_DRIVEABLE( l_U4057[iVar2] )) AND (DOES_VEHICLE_EXIST( l_U4057[iVar2] )))
            {
                iVar3 = I mod 4;
                if (iVar3 == 0)
                {
                    sub_18975( l_U4057[iVar2] );
                    CREATE_CHAR_INSIDE_CAR( l_U4057[iVar2], 26, 64730935, ref l_U4365[I]._fU0 );
                }
                else
                {
                    CREATE_CHAR_AS_PASSENGER( l_U4057[iVar2], 26, 64730935, -1, ref l_U4365[I]._fU0 );
                }
                GENERATE_RANDOM_INT_IN_RANGE( 100, 300, ref iVar11 );
                l_U4365[I]._fU8 = 1;
                l_U4365[I]._fU20 = 0;
                l_U4365[I]._fU24 = (iVar3 * 200) + iVar11;
                SET_CHAR_HEALTH( l_U4365[I]._fU0, 200 );
                GIVE_WEAPON_TO_CHAR( l_U4365[I]._fU0, 12, 30000, 0 );
                SET_CHAR_AS_ENEMY( l_U4365[I]._fU0, 1 );
                SET_CHAR_WILL_DO_DRIVEBYS( l_U4365[I]._fU0, 1 );
                SET_CHAR_RELATIONSHIP_GROUP( l_U4365[I]._fU0, 23 );
                SET_CHAR_RELATIONSHIP( l_U4365[I]._fU0, 1, 23 );
                SET_CHAR_RELATIONSHIP( l_U4365[I]._fU0, 5, 0 );
                SET_CHAR_DECISION_MAKER( l_U4365[I]._fU0, l_U4082 );
                if ((I == 5) || ((I == 1) || ((I == 11) || ((I == 9) || (I == 8)))))
                {
                    SET_COMBAT_DECISION_MAKER( l_U4365[I]._fU0, l_U4079 );
                }
                else if ((I == 4) || (I == 0))
                {
                    SET_COMBAT_DECISION_MAKER( l_U4365[I]._fU0, l_U4075 );
                }
                else
                {
                    SET_COMBAT_DECISION_MAKER( l_U4365[I]._fU0, l_U4081 );
                }
                FORCE_PED_PINNED_DOWN( l_U4365[I]._fU0, 0, 10000 );
                SET_PED_DIES_WHEN_INJURED( l_U4365[I]._fU0, 1 );
                SET_CHAR_ACCURACY( l_U4365[I]._fU0, 0 );
                SET_CHAR_INVINCIBLE( l_U4365[I]._fU0, 1 );
                SET_CHAR_WILL_USE_CARS_IN_COMBAT( l_U4365[I]._fU0, 0 );
                if ((NOT (IS_CHAR_INJURED( l_U3983 ))) AND (I == 1))
                {
                    TASK_DRIVE_BY( l_U4365[I]._fU0, l_U3983, 0, 0.00000000, 0.00000000, 0.00000000, 100.00000000, 8, 0, 50 );
                }
            }
        }
        MARK_MODEL_AS_NO_LONGER_NEEDED( 64730935 );
        REQUEST_CAR_RECORDING( 760 );
        REQUEST_CAR_RECORDING( 761 );
        REQUEST_CAR_RECORDING( 762 );
        REQUEST_CAR_RECORDING( 745 );
        while ((NOT (HAS_MODEL_LOADED( 240192349 ))) || ((NOT (HAS_CAR_RECORDING_BEEN_LOADED( 745 ))) || ((NOT (HAS_CAR_RECORDING_BEEN_LOADED( 762 ))) || ((NOT (HAS_CAR_RECORDING_BEEN_LOADED( 761 ))) || (NOT (HAS_CAR_RECORDING_BEEN_LOADED( 760 )))))))
        {
            WAIT( 0 );
        }
        sub_19743( 1, 1 );
        if (IS_VEH_DRIVEABLE( l_U4057[0] ))
        {
            sub_20313( ref l_U4057[0], 760, 0.00000000, 0, 0, 1 );
        }
        if (IS_VEH_DRIVEABLE( l_U4057[1] ))
        {
            sub_20313( ref l_U4057[1], 761, 0.00000000, 0, 0, 1 );
        }
        if (IS_VEH_DRIVEABLE( l_U4057[2] ))
        {
            sub_20313( ref l_U4057[2], 762, 0.00000000, 0, 0, 1 );
        }
        if ((NOT (IS_CHAR_INJURED( l_U3983 ))) AND (IS_VEH_DRIVEABLE( l_U4052 )))
        {
            FREEZE_CAR_POSITION( l_U4052, 0 );
            SET_CAR_COORDINATES( l_U4052, l_U3693._fU0, l_U3693._fU4, l_U3693._fU8 );
            SET_CAR_HEADING( l_U4052, l_U3903 );
            SET_CAR_PROOFS( l_U4052, 1, 0, 0, 1, 1 );
            WARP_CHAR_FROM_CAR_TO_COORD( l_U3983, l_U3757._fU0, l_U3757._fU4, l_U3757._fU8 );
            SET_CHAR_HEADING( l_U3983, l_U3935 );
            GIVE_WEAPON_TO_CHAR( l_U3983, 7, 30000, 0 );
            SET_CHAR_MAX_HEALTH( l_U3983, 1000 );
            SET_CHAR_HEALTH( l_U3983, 1000 );
            SET_CHAR_RELATIONSHIP( l_U3983, 5, 23 );
            SET_CHAR_NEVER_TARGETTED( l_U3983, 1 );
            SET_CHAR_WILL_USE_COVER( l_U3983, 1 );
            SET_CHAR_WILL_DO_DRIVEBYS( l_U3983, 1 );
            SET_CHAR_SUFFERS_CRITICAL_HITS( l_U3983, 0 );
            SET_CHAR_FIRE_DAMAGE_MULTIPLIER( l_U3983, 0.10000000 );
            UNLOCK_RAGDOLL( l_U3983, 0 );
            SET_CHAR_INVINCIBLE( l_U3983, 1 );
            TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U3983, "rocco_speaks", "MISSTONY03", 8.00000000, 0, 1, 1, 0, 0 );
        }
        CREATE_CAM( 14, ref l_U4066 );
        CREATE_CAM( 14, ref l_U4068 );
        SET_CAM_POS( l_U4066, -706.32640000, -16.11805000, 5.15133200 );
        SET_CAM_ROT( l_U4066, 1.97638300, -0.00000000, -73.85204000 );
        SET_CAM_FOV( l_U4066, 25.20005000 );
        SET_CAM_POS( l_U4068, -706.32640000, -13.85693000, 5.15133200 );
        SET_CAM_ROT( l_U4068, 1.97637800, -0.00000000, -110.79000000 );
        SET_CAM_FOV( l_U4068, 25.20005000 );
        CREATE_CAM( 3, ref l_U4069 );
        SET_CAM_INTERP_STYLE_CORE( l_U4069, l_U4066, l_U4068, 20000, 0 );
        SET_CAM_INTERP_STYLE_DETAILED( l_U4069, 0, 0, 1, 1 );
        SET_USE_HIGHDOF( 1 );
        SET_CAM_FAR_DOF( l_U4066, 20.00000000 );
        SET_CAM_FAR_DOF( l_U4068, 20.00000000 );
        sub_56223( l_U4069, 1 );
        l_U4225 = 0;
        DISPLAY_RADAR( 0 );
        LOAD_SCENE( l_U3757._fU0, l_U3757._fU4, l_U3757._fU8 );
        WAIT( 0 );
        ENABLE_SCENE_STREAMING( 0 );
        if (NOT IS_SCREEN_FADED_IN())
        {
            DO_SCREEN_FADE_IN( 500 );
            while (NOT IS_SCREEN_FADED_IN())
            {
                WAIT( 0 );
            }
        }
        sub_39077( "E2T3_ABOUT", 21, 6, "E2T3AUD", 0, 0 );
        SETTIMERB( 0 );
        l_U4224 = 1;
        break;
        case 1:
        switch (l_U4225)
        {
            case 0:
            if ((NOT l_U4119[19]) AND (l_U4119[21]))
            {
                if (NOT (sub_55034( l_U4204 )))
                {
                    sub_39077( "E2T3_OKAY3", 19, 6, "E2T3AUD", 0, 0 );
                }
            }
            if (NOT l_U3802)
            {
                if (TIMERB() > 4000)
                {
                    if (IS_VEH_DRIVEABLE( l_U4057[0] ))
                    {
                        sub_20313( ref l_U4057[0], 760, 1000.00000000, 1, 0, 0 );
                    }
                    if (IS_VEH_DRIVEABLE( l_U4057[1] ))
                    {
                        sub_20313( ref l_U4057[1], 761, 1000.00000000, 1, 0, 0 );
                    }
                    if (IS_VEH_DRIVEABLE( l_U4057[2] ))
                    {
                        sub_20313( ref l_U4057[2], 762, 1000.00000000, 1, 0, 0 );
                    }
                    CLEAR_PRINTS();
                    l_U3802 = 1;
                }
            }
            if ((NOT (sub_55034( l_U4204 ))) AND (l_U4119[19]))
            {
                CLEAR_PRINTS();
                if ((IS_VEH_DRIVEABLE( l_U4057[0] )) AND (NOT (IS_CHAR_INJURED( l_U4365[1]._fU0 ))))
                {
                    TASK_STAND_STILL( l_U4365[1]._fU0, -2 );
                }
                if (IS_VEH_DRIVEABLE( l_U4057[0] ))
                {
                    sub_20313( ref l_U4057[0], 760, 4500.00000000, 1, 0, 0 );
                }
                if (IS_VEH_DRIVEABLE( l_U4057[1] ))
                {
                    sub_20313( ref l_U4057[1], 761, 4500.00000000, 1, 0, 0 );
                }
                if (IS_VEH_DRIVEABLE( l_U4057[2] ))
                {
                    sub_20313( ref l_U4057[2], 762, 4500.00000000, 1, 0, 0 );
                }
                WAIT( 0 );
                I = 0;
                for ( I = 0; I < l_U4057; I++ )
                {
                    if (IS_VEH_DRIVEABLE( l_U4057[I] ))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U4057[I] ))
                        {
                            SET_PLAYBACK_SPEED( l_U4057[I], 0.80000000 );
                        }
                    }
                }
                sub_56223( l_U4069, 0 );
                if (IS_VEH_DRIVEABLE( l_U4057[0] ))
                {
                    ATTACH_CAM_TO_VEHICLE( l_U4066, l_U4057[0] );
                    SET_CAM_ATTACH_OFFSET( l_U4066, -0.20000000, 0.25000000, 0.75000000 );
                    SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U4066, 1 );
                }
                if (NOT (IS_CHAR_INJURED( l_U3983 )))
                {
                    POINT_CAM_AT_PED( l_U4066, l_U3983 );
                    SET_CAM_POINT_OFFSET( l_U4066, 1.00000000, 0.00000000, 0.00000000 );
                }
                SET_CAM_FOV( l_U4066, 45.00000000 );
                SET_USE_HIGHDOF( 0 );
                sub_56223( l_U4066, 1 );
                SETTIMERB( 6000 );
                l_U4225 = 2;
            }
            break;
            case 2:
            if (TIMERB() > 7400)
            {
                if ((NOT (IS_CHAR_INJURED( l_U3983 ))) AND (NOT (IS_CHAR_INJURED( l_U4365[1]._fU0 ))))
                {
                    if (NOT (IS_CHAR_PLAYING_ANIM( l_U4365[1]._fU0, "MISSTONY03", "driveby" )))
                    {
                        OPEN_SEQUENCE_TASK( ref uVar12 );
                        TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "driveby", "MISSTONY03", 4.00000000, 0, 0, 0, 0, 0 );
                        TASK_DRIVE_BY( 0, l_U3983, 0, 0.00000000, 0.00000000, 0.00000000, 100.00000000, 8, 0, 50 );
                        CLOSE_SEQUENCE_TASK( uVar12 );
                        TASK_PERFORM_SEQUENCE( l_U4365[1]._fU0, uVar12 );
                        CLEAR_SEQUENCE_TASK( uVar12 );
                        SET_CURRENT_CHAR_WEAPON( l_U4365[1]._fU0, 12, 1 );
                        BLOCK_PED_WEAPON_SWITCHING( l_U4365[1]._fU0, 1 );
                    }
                }
            }
            if (TIMERB() > 8250)
            {
                if (NOT (IS_CHAR_INJURED( l_U4365[1]._fU0 )))
                {
                    GET_CURRENT_CHAR_WEAPON( l_U4365[1]._fU0, ref iVar13 );
                    if (iVar13 != 0)
                    {
                        FIRE_PED_WEAPON( l_U4365[1]._fU0, l_U3693._fU0 + 2.00000000, l_U3693._fU4 + 2.00000000, l_U3693._fU8 );
                    }
                }
            }
            if (TIMERB() > 8250)
            {
                if (NOT l_U3801)
                {
                    OPEN_SEQUENCE_TASK( ref l_U4092 );
                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "rocco_dives", "MISSTONY03", 8.00000000, 0, 1, 1, 0, 0 );
                    TASK_FOLLOW_NAV_MESH_TO_COORD( 0, l_U3760._fU0, l_U3760._fU4 + 0.50000000, l_U3760._fU8, 4, -2, 0.10000000 );
                    CLOSE_SEQUENCE_TASK( l_U4092 );
                    if (NOT (IS_CHAR_INJURED( l_U3983 )))
                    {
                        sub_18347( l_U3983, l_U4082, l_U4075, l_U3760, 0.50000000 );
                        TASK_PERFORM_SEQUENCE( l_U3983, l_U4092 );
                    }
                    CLEAR_SEQUENCE_TASK( l_U4092 );
                    l_U3801 = 1;
                }
            }
            if (TIMERB() > 9250)
            {
                if (IS_VEH_DRIVEABLE( l_U4057[0] ))
                {
                    sub_20313( ref l_U4057[0], 760, 6750.00000000, 1, 0, 0 );
                    SET_PLAYBACK_SPEED( l_U4057[0], 1.00000000 );
                }
                if (IS_VEH_DRIVEABLE( l_U4057[1] ))
                {
                    sub_20313( ref l_U4057[1], 761, 6750.00000000, 1, 0, 0 );
                    SET_PLAYBACK_SPEED( l_U4057[1], 1.00000000 );
                }
                if (IS_VEH_DRIVEABLE( l_U4057[2] ))
                {
                    sub_20313( ref l_U4057[2], 762, 6750.00000000, 1, 0, 0 );
                    SET_PLAYBACK_SPEED( l_U4057[2], 1.00000000 );
                }
                WAIT( 0 );
                I = 0;
                for ( I = 0; I < l_U4365; I++ )
                {
                    if ((I mod 4) != 0)
                    {
                        if ((NOT (IS_CHAR_INJURED( l_U3983 ))) AND (NOT (IS_CHAR_INJURED( l_U4365[I]._fU0 ))))
                        {
                            TASK_DRIVE_BY( l_U4365[I]._fU0, l_U3983, 0, 0.00000000, 0.00000000, 0.00000000, 100.00000000, 8, 0, 50 );
                        }
                    }
                }
                UNATTACH_CAM( l_U4066 );
                UNPOINT_CAM( l_U4066 );
                SET_CAM_POS( l_U4066, -705.57130000, -8.58080900, 4.59641600 );
                SET_CAM_ROT( l_U4066, 0.79814300, -0.00000000, -165.40470000 );
                SET_CAM_FOV( l_U4066, 25.20005000 );
                SET_USE_HIGHDOF( 1 );
                SET_CAM_FAR_DOF( l_U4066, 10.00000000 );
                l_U4225 = 3;
            }
            break;
            case 3:
            l_U3772 = {sub_97537( l_U4066, l_U3983, l_U3772, 1, 0, 0, 0.05000000, 0.05000000, 0.05000000, -0.01000000, -0.01000000, -0.01000000, -0.01000000, -0.01000000, -0.01000000, -0.01000000, -0.01000000, -0.01000000, -20.00000000, -20.00000000, -20.00000000 )};
            if (TIMERB() > 11250)
            {
                UNPOINT_CAM( l_U4066 );
                if (NOT (IS_CHAR_INJURED( l_U3983 )))
                {
                    POINT_CAM_AT_PED( l_U4066, l_U3983 );
                    POINT_CAM_AT_PED( l_U4068, l_U3983 );
                }
                SET_CAM_POS( l_U4066, -692.29480000, -50.72452000, 5.52150100 );
                SET_CAM_ROT( l_U4066, -2.29580300, -0.00000000, 15.64993000 );
                SET_CAM_FOV( l_U4066, 21.90005000 );
                SET_CAM_POS( l_U4068, -702.21460000, -50.72452000, 5.52150100 );
                SET_CAM_ROT( l_U4068, -2.29580300, -0.00000000, 10.06627000 );
                SET_CAM_FOV( l_U4068, 21.90005000 );
                SET_CAM_INTERP_STYLE_CORE( l_U4069, l_U4066, l_U4068, 3000, 0 );
                SET_CAM_INTERP_STYLE_DETAILED( l_U4069, 0, 0, 1, 1 );
                SET_USE_HIGHDOF( 1 );
                SET_CAM_FAR_DOF( l_U4066, 100.00000000 );
                SET_CAM_NEAR_DOF( l_U4066, 20.00000000 );
                SET_CAM_FAR_DOF( l_U4068, 100.00000000 );
                SET_CAM_NEAR_DOF( l_U4068, 20.00000000 );
                sub_56223( l_U4069, 1 );
                l_U4225 = 4;
            }
            break;
            case 4:
            if (TIMERB() > 13500)
            {
                if (IS_VEH_DRIVEABLE( l_U4057[0] ))
                {
                    sub_20313( ref l_U4057[0], 760, 12500.00000000, 1, 0, 0 );
                    SET_PLAYBACK_SPEED( l_U4057[0], 1.00000000 );
                }
                if (IS_VEH_DRIVEABLE( l_U4057[1] ))
                {
                    sub_20313( ref l_U4057[1], 761, 12500.00000000, 1, 0, 0 );
                    SET_PLAYBACK_SPEED( l_U4057[1], 1.00000000 );
                }
                if (IS_VEH_DRIVEABLE( l_U4057[2] ))
                {
                    sub_20313( ref l_U4057[2], 762, 12500.00000000, 1, 0, 0 );
                    SET_PLAYBACK_SPEED( l_U4057[2], 1.00000000 );
                }
                WAIT( 0 );
                sub_56223( l_U4069, 0 );
                UNPOINT_CAM( l_U4066 );
                UNPOINT_CAM( l_U4068 );
                SET_CAM_POS( l_U4066, -824.47790000, -27.47672000, 4.12592000 );
                SET_CAM_ROT( l_U4066, 4.12127300, -0.00000000, -139.49390000 );
                SET_CAM_FOV( l_U4066, 39.90001000 );
                SET_USE_HIGHDOF( 1 );
                SET_CAM_FAR_DOF( l_U4066, 10.00000000 );
                SET_CAM_NEAR_DOF( l_U4066, 1.00000000 );
                sub_56223( l_U4066, 1 );
                l_U4225 = 5;
            }
            break;
            case 5:
            if (NOT l_U3834)
            {
                if (TIMERB() > 14000)
                {
                    I = 0;
                    for ( I = 0; I < l_U3991; I++ )
                    {
                        FREEZE_OBJECT_POSITION( l_U3991[I], 0 );
                        SET_OBJECT_DYNAMIC( l_U3991[I], 1 );
                    }
                    l_U3834 = 1;
                }
            }
            else if (NOT l_U3841)
            {
                if (TIMERB() > 14100)
                {
                    PLAY_SOUND_FROM_OBJECT( -1, "GT03_PRACTICE_SWING_GATE_SMASH", l_U3991[0] );
                    l_U3841 = 1;
                }
            }
            if (NOT l_U3808)
            {
                if (TIMERB() > 15900)
                {
                    if (NOT (IS_CHAR_INJURED( l_U3983 )))
                    {
                        if ((NOT (IS_CHAR_INJURED( l_U3983 ))) AND (IS_VEH_DRIVEABLE( l_U4052 )))
                        {
                            CLEAR_CHAR_TASKS_IMMEDIATELY( l_U3983 );
                            WARP_CHAR_INTO_CAR( l_U3983, l_U4052 );
                            sub_20313( ref l_U4052, 745, 1500.00000000, 1, 0, 0 );
                        }
                        l_U3808 = 1;
                    }
                }
            }
            else if (TIMERB() > 16000)
            {
                SET_OBJECT_COORDINATES( l_U3991[0], -820.36500000, -30.01710000, 3.84150000 );
                SET_OBJECT_ROTATION( l_U3991[0], 90.00000000, 0.00000000, 164.00000000 );
                SET_OBJECT_COORDINATES( l_U3991[1], -822.71500000, 4.33290000, 3.84150000 );
                SET_OBJECT_ROTATION( l_U3991[1], 90.00000000, 0.00000000, 79.00000000 );
                SET_OBJECT_COORDINATES( l_U3991[2], -816.87640000, -28.95560000, 3.84500000 );
                SET_OBJECT_ROTATION( l_U3991[2], 90.00000000, 0.00000000, 137.00000000 );
                SET_OBJECT_COORDINATES( l_U3991[3], -821.66500000, 0.88290000, 3.84500000 );
                SET_OBJECT_ROTATION( l_U3991[3], 90.00000000, 0.00000000, 125.00000000 );
                sub_56223( l_U4066, 0 );
                SET_CAM_POS( l_U4066, -684.19310000, -16.16854000, 4.52989500 );
                SET_CAM_ROT( l_U4066, 2.52098700, 0.00000000, 88.57807000 );
                SET_CAM_FOV( l_U4066, 16.20007000 );
                SET_CAM_POS( l_U4068, -671.07320000, -16.16854000, 4.52989500 );
                SET_CAM_ROT( l_U4068, 2.52098700, 0.00000000, 88.57807000 );
                SET_CAM_FOV( l_U4068, 16.20007000 );
                SET_CAM_INTERP_STYLE_CORE( l_U4069, l_U4066, l_U4068, 8000, 0 );
                SET_CAM_INTERP_STYLE_DETAILED( l_U4069, 0, 0, 1, 1 );
                SET_USE_HIGHDOF( 1 );
                SET_CAM_FAR_DOF( l_U4066, 100.00000000 );
                SET_CAM_FAR_DOF( l_U4068, 100.00000000 );
                sub_39077( "E2T3_HELPR", 23, 6, "E2T3AUD", 0, 0 );
                l_U3772 = {0.00000000, 0.00000000, 0.00000000};
                sub_56223( l_U4069, 1 );
                l_U4225 = 6;
            }
            break;
            case 6:
            if (TIMERB() > 21000)
            {
                l_U4224 = 3;
            }
            break;
        }
        break;
        case 3:
        SET_OBJECT_COORDINATES( l_U3991[0], -820.36500000, -30.01710000, 3.84150000 );
        SET_OBJECT_ROTATION( l_U3991[0], 90.00000000, 0.00000000, 164.00000000 );
        SET_OBJECT_COORDINATES( l_U3991[1], -822.71500000, 4.33290000, 3.84150000 );
        SET_OBJECT_ROTATION( l_U3991[1], 90.00000000, 0.00000000, 79.00000000 );
        SET_OBJECT_COORDINATES( l_U3991[2], -816.87640000, -28.95560000, 3.84500000 );
        SET_OBJECT_ROTATION( l_U3991[2], 90.00000000, 0.00000000, 137.00000000 );
        SET_OBJECT_COORDINATES( l_U3991[3], -821.66500000, 0.88290000, 3.84500000 );
        SET_OBJECT_ROTATION( l_U3991[3], 90.00000000, 0.00000000, 125.00000000 );
        I = 0;
        for ( I = 0; I < l_U3991; I++ )
        {
            FREEZE_OBJECT_POSITION( l_U3991[I], 0 );
            SET_OBJECT_DYNAMIC( l_U3991[I], 1 );
        }
        sub_12640( 1 );
        DISPLAY_RADAR( 1 );
        if (IS_VEH_DRIVEABLE( l_U4057[0] ))
        {
            sub_20313( ref l_U4057[0], 760, 20000.00000000, 1, 0, 0 );
        }
        if (IS_VEH_DRIVEABLE( l_U4057[1] ))
        {
            sub_20313( ref l_U4057[1], 761, 20000.00000000, 1, 0, 0 );
        }
        if (IS_VEH_DRIVEABLE( l_U4057[2] ))
        {
            sub_20313( ref l_U4057[2], 762, 20000.00000000, 1, 0, 0 );
        }
        if ((NOT (IS_CHAR_INJURED( l_U3983 ))) AND (IS_VEH_DRIVEABLE( l_U4052 )))
        {
            if (NOT (IS_CHAR_IN_CAR( l_U3983, l_U4052 )))
            {
                CLEAR_CHAR_TASKS_IMMEDIATELY( l_U3983 );
                WARP_CHAR_INTO_CAR( l_U3983, l_U4052 );
            }
            sub_20313( ref l_U4052, 745, 4500.00000000, 1, 0, 0 );
        }
        ENABLE_SCENE_STREAMING( 1 );
        WAIT( 0 );
        I = 0;
        for ( I = 0; I < l_U4365; I++ )
        {
            if (NOT (IS_CHAR_INJURED( l_U4365[I]._fU0 )))
            {
                if ((I mod 4) != 0)
                {
                    if (NOT (IS_CHAR_INJURED( l_U3983 )))
                    {
                        TASK_DRIVE_BY( l_U4365[I]._fU0, l_U3983, 0, 0.00000000, 0.00000000, 0.00000000, 100.00000000, 8, 0, 50 );
                    }
                }
                SET_CHAR_INVINCIBLE( l_U4365[I]._fU0, 0 );
            }
        }
        if (NOT (IS_CHAR_INJURED( l_U3983 )))
        {
            SET_CHAR_INVINCIBLE( l_U3983, 0 );
        }
        if (DOES_CAM_EXIST( l_U4066 ))
        {
            DESTROY_CAM( l_U4066 );
        }
        if (DOES_CAM_EXIST( l_U4068 ))
        {
            DESTROY_CAM( l_U4068 );
        }
        if (DOES_CAM_EXIST( l_U4069 ))
        {
            DESTROY_CAM( l_U4069 );
        }
        SET_USE_HIGHDOF( 0 );
        ACTIVATE_SCRIPTED_CAMS( 0, 0 );
        SET_CAM_BEHIND_PED( sub_6646() );
        SET_GAME_CAM_HEADING( 2.00000000 );
        SET_WANTED_MULTIPLIER( 0.00000000 );
        SET_PED_DENSITY_MULTIPLIER( 0.25000000 );
        SET_CAR_DENSITY_MULTIPLIER( 1.00000000 );
        sub_15796();
        RETUNE_RADIO_TO_STATION_NAME( "K109_THE_STUDIO" );
        BLOCK_PED_WEAPON_SWITCHING( sub_6646(), 0 );
        SET_PED_IS_BLIND_RAGING( sub_6646(), 1 );
        if (IS_VEH_DRIVEABLE( l_U4053 ))
        {
            ADD_BLIP_FOR_CAR( l_U4053, ref l_U3980 );
            SET_BLIP_AS_FRIENDLY( l_U3980, 1 );
            sub_21292( l_U3980 );
        }
        if (NOT IS_SCREEN_FADED_IN())
        {
            DO_SCREEN_FADE_IN( 500 );
            while (NOT IS_SCREEN_FADED_IN())
            {
                SET_FOLLOW_PED_PITCH_LIMIT_UP( 65513 );
                WAIT( 0 );
            }
        }
        SET_FOLLOW_PED_PITCH_LIMIT_UP( 65513 );
        SET_PLAYER_CONTROL( sub_6741(), 1 );
        sub_11417( 0 );
        sub_39077( "E2T3_GETDN", 26, 6, "E2T3AUD", 0, 0 );
        GET_GAME_TIMER( ref l_U3870 );
        GENERATE_RANDOM_INT_IN_RANGE( 0, 10000, ref iVar14 );
        GET_GAME_TIMER( ref l_U3880 );
        l_U3880 += iVar14;
        GENERATE_RANDOM_INT_IN_RANGE( 0, 10000, ref iVar14 );
        GET_GAME_TIMER( ref l_U3879 );
        l_U3879 += iVar14;
        GENERATE_RANDOM_INT_IN_RANGE( 0, 10000, ref iVar14 );
        GET_GAME_TIMER( ref l_U3881 );
        l_U3881 += iVar14;
        GENERATE_RANDOM_INT_IN_RANGE( 0, 10000, ref iVar14 );
        GET_GAME_TIMER( ref l_U3882 );
        l_U3882 += iVar14;
        ENABLE_SCENE_STREAMING( 1 );
        g_U10935 = 0;
        FLUSH_SCENARIO_BLOCKING_AREAS();
        SETTIMERB( 0 );
        GET_GAME_TIMER( ref l_U3898 );
        g_U42931[0] = 0;
        g_U42931[1] = 0;
        g_U42931[2] = 0;
        sub_101423();
        l_U4221 = 6;
        break;
        case 2:
        if (NOT IS_SCREEN_FADED_OUT())
        {
            DO_SCREEN_FADE_OUT( 500 );
            while (NOT IS_SCREEN_FADED_OUT())
            {
                WAIT( 0 );
            }
        }
        ENABLE_SCENE_STREAMING( 1 );
        l_U4224 = 3;
        break;
    }
    return;
}

void sub_92689(unknown uParam0, unknown uParam1)
{
    if (IS_VEH_DRIVEABLE( (uParam1^) ))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( (uParam1^) ))
        {
            STOP_PLAYBACK_RECORDED_CAR( (uParam1^) );
        }
        REMOVE_CAR_RECORDING( uParam0 );
        sub_8886( 0 );
    }
    return;
}

void sub_97537(unknown uParam0, unknown uParam1, unknown Result, unknown uParam3, unknown uParam4, boolean bParam5, boolean bParam6, boolean bParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21, unknown uParam22)
{
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    unknown uVar36;
    unknown uVar37;

    if (NOT (IS_CHAR_INJURED( uParam1 )))
    {
        GET_FRAME_TIME( ref uVar37 );
        GET_CHAR_VELOCITY( uParam1, ref uVar28._fU0, ref uVar28._fU4, ref uVar28._fU8 );
        GET_CAM_POS( uParam0, ref uVar31._fU0, ref uVar31._fU4, ref uVar31._fU8 );
        uVar34 = {uVar28};
        uVar25 = {Result};
        if (bParam5)
        {
            if (uVar34._fU0 >= 0.00000000)
            {
                if (uVar34._fU0 < uParam11._fU0)
                {
                    uVar34._fU0 = uParam11._fU0;
                }
                else if (uVar34._fU0 > uParam17._fU0)
                {
                    uVar34._fU0 = uParam17._fU0;
                }
            }
            else if (uVar34._fU0 < 0.00000000)
            {
                if (uVar34._fU0 > uParam14._fU0)
                {
                    uVar34._fU0 = uParam14._fU0;
                }
                else if (uVar34._fU0 < uParam20._fU0)
                {
                    uVar34._fU0 = uParam20._fU0;
                }
            }
            sub_63124( ref uVar25._fU0, uVar34._fU0, uParam8._fU0 );
            uVar31._fU0 += uVar25._fU0 * uVar37;
        }
        if (bParam6)
        {
            if (uVar34._fU4 >= 0.00000000)
            {
                if (uVar34._fU4 < uParam11._fU4)
                {
                    uVar34._fU4 = uParam11._fU4;
                }
                else if (uVar34._fU4 > uParam17._fU4)
                {
                    uVar34._fU4 = uParam17._fU4;
                }
            }
            else if (uVar34._fU4 < 0.00000000)
            {
                if (uVar34._fU4 > uParam14._fU4)
                {
                    uVar34._fU4 = uParam14._fU4;
                }
                else if (uVar34._fU4 < uParam20._fU4)
                {
                    uVar34._fU4 = uParam20._fU4;
                }
            }
            sub_63124( ref uVar25._fU4, uVar34._fU4, uParam8._fU4 );
            uVar31._fU4 += uVar25._fU4 * uVar37;
        }
        if (bParam7)
        {
            if (uVar34._fU8 >= 0.00000000)
            {
                if (uVar34._fU8 < uParam11._fU8)
                {
                    uVar34._fU8 = uParam11._fU8;
                }
                else if (uVar34._fU8 > uParam17._fU8)
                {
                    uVar34._fU8 = uParam17._fU8;
                }
            }
            else if (uVar34._fU8 < 0.00000000)
            {
                if (uVar34._fU8 > uParam14._fU8)
                {
                    uVar34._fU8 = uParam14._fU8;
                }
                else if (uVar34._fU8 < uParam20._fU8)
                {
                    uVar34._fU8 = uParam20._fU8;
                }
            }
            sub_63124( ref uVar25._fU8, uVar28._fU8, uParam8._fU8 );
            uVar31._fU8 += uVar25._fU8 * uVar37;
        }
        SET_CAM_POS( uParam0, uVar31._fU0, uVar31._fU4, uVar31._fU8 );
        Result = {uVar25};
    }
    return Result;
}

void sub_101423()
{
    sub_101432();
    sub_101466();
    return;
}

void sub_101432()
{
    g_U43513 = GET_INT_STAT( 289 );
    return;
}

void sub_101466()
{
    RESET_LOCAL_PLAYER_WEAPON_STAT( 21, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 21, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 29, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 29, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 30, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 30, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 31, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 31, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 32, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 32, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 33, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 33, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 34, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 34, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 35, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 35, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 36, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 36, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 37, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 37, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 39, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 39, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 40, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 40, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 14, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 14, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 7, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 7, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 9, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 9, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 12, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 12, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 13, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 13, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 15, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 15, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 10, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 10, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 11, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 11, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 4, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 4, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 5, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 5, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 18, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 18, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 16, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 16, 1 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 17, 0 );
    RESET_LOCAL_PLAYER_WEAPON_STAT( 17, 1 );
    return;
}

void sub_102065()
{
    int I;
    int iVar3;
    int iVar4;
    int iVar5;
    int iVar6;
    int iVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    int iVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    int iVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    float fVar23;

    I = 0;
    iVar3 = 0;
    iVar4 = 0;
    iVar5 = 0;
    l_U3825 = 0;
    sub_102092();
    GET_GAME_TIMER( ref iVar6 );
    if ((iVar6 - l_U3898) < 500)
    {
        SET_FOLLOW_PED_PITCH_LIMIT_UP( 65513 );
    }
    if (l_U3809[8])
    {
        if (NOT l_U3849)
        {
            if ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND (NOT IS_MESSAGE_BEING_DISPLAYED()))
            {
                PRINT_HELP_FOREVER( "T3_RUN" );
                l_U3849 = 1;
                GET_GAME_TIMER( ref l_U3896 );
            }
        }
        else if ((iVar6 - l_U3896) > 10000)
        {
            if (IS_THIS_HELP_MESSAGE_BEING_DISPLAYED( "T3_RUN" ))
            {
                CLEAR_HELP();
            }
        }
        if (NOT l_U3850)
        {
            if ((IS_CHAR_SHOOTING( sub_6646() )) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND (NOT IS_MESSAGE_BEING_DISPLAYED())))
            {
                PRINT_HELP_FOREVER( "T3_CROUCH" );
                l_U3850 = 1;
                GET_GAME_TIMER( ref l_U3899 );
            }
        }
        else if ((iVar6 - l_U3899) > 10000)
        {
            if (IS_THIS_HELP_MESSAGE_BEING_DISPLAYED( "T3_CROUCH" ))
            {
                CLEAR_HELP();
            }
        }
        if (NOT l_U3848)
        {
            if (NOT g_U15811[16])
            {
                GET_CURRENT_CHAR_WEAPON( sub_6646(), ref iVar14 );
                if (iVar14 != 0)
                {
                    if ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND (NOT IS_MESSAGE_BEING_DISPLAYED()))
                    {
                        PRINT_HELP_FOREVER( "T3_ZOOM" );
                        l_U3848 = 1;
                        GET_GAME_TIMER( ref l_U3895 );
                    }
                }
            }
        }
        else if ((iVar6 - l_U3895) > 12000)
        {
            if (IS_THIS_HELP_MESSAGE_BEING_DISPLAYED( "T3_ZOOM" ))
            {
                CLEAR_HELP();
            }
        };;;;
    }
    if (NOT (IS_VEH_DRIVEABLE( l_U4053 )))
    {
        if (NOT l_U3824)
        {
            CLEAR_PRINTS();
            CLEAR_HELP();
            sub_7282();
            sub_47929();
            sub_11417( 1 );
            PRINT_NOW( "T3_B_DIED2", 7500, 0 );
            l_U4221 = 14;
            l_U4233 = 0;
            l_U3824 = 1;
        }
    }
    sub_105837();
    iVar3 = 0;
    I = 0;
    for ( I = 0; I < l_U4365; I++ )
    {
        if (IS_CHAR_INJURED( l_U4365[I]._fU0 ))
        {
            if (DOES_BLIP_EXIST( l_U4365[I]._fU4 ))
            {
                REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U4365[I]._fU4 );
            }
        }
        else
        {
            iVar3++;
        }
    }
    if (NOT l_U3826)
    {
        if (IS_VEH_DRIVEABLE( l_U4052 ))
        {
            if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U4052 )))
            {
                if (NOT (IS_CHAR_INJURED( l_U3983 )))
                {
                    sub_18347( l_U3983, l_U4082, l_U4075, l_U3784, 3.00000000 );
                    SET_CHAR_INVINCIBLE( l_U3983, 0 );
                    OPEN_SEQUENCE_TASK( ref l_U4091 );
                    TASK_LEAVE_ANY_CAR( 0 );
                    TASK_SEEK_COVER_FROM_POS( 0, l_U3693._fU0 + 20.00000000, l_U3693._fU4, l_U3693._fU8, 1000 );
                    TASK_COMBAT_HATED_TARGETS_AROUND_CHAR( 0, 300.00000000 );
                    CLOSE_SEQUENCE_TASK( l_U4091 );
                    TASK_PERFORM_SEQUENCE( l_U3983, l_U4091 );
                    CLEAR_SEQUENCE_TASK( l_U4091 );
                    SET_CHAR_KEEP_TASK( l_U3983, 1 );
                    l_U3826 = 1;
                }
            }
        }
    }
    else if (IS_VEH_DRIVEABLE( l_U4052 ))
    {
        if (NOT l_U3807)
        {
            if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( 750 )))
            {
                REQUEST_CAR_RECORDING( 750 );
            }
            else if (NOT (IS_CAR_ON_SCREEN( l_U4052 )))
            {
                sub_19743( 1, 1 );
                sub_20313( ref l_U4052, 750, 1000.00000000, 0, 0, 0 );
                l_U3807 = 1;
            }
        }
        else if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U4052 ))
        {
            STOP_PLAYBACK_RECORDED_CAR( l_U4052 );
            sub_8886( 0 );
            FREEZE_CAR_POSITION( l_U4052, 1 );
            GET_CAR_COORDINATES( l_U4052, ref uVar15._fU0, ref uVar15._fU4, ref uVar15._fU8 );
            GET_CAR_HEADING( l_U4052, ref uVar18 );
        }
    }
    GET_CHAR_COORDINATES( sub_6646(), ref uVar11._fU0, ref uVar11._fU4, ref uVar11._fU8 );
    if (NOT (IS_CHAR_INJURED( l_U3983 )))
    {
        if ((sub_54530( sub_6646(), l_U3983, 1, 0 )) > 30000.00000000)
        {
            if (NOT l_U3824)
            {
                CLEAR_PRINTS();
                CLEAR_HELP();
                sub_7282();
                sub_47929();
                sub_11417( 1 );
                if (DOES_CHAR_EXIST( l_U3983 ))
                {
                    DELETE_CHAR( ref l_U3983 );
                }
                PRINT_NOW( "T3_R_LEFT", 7500, 0 );
                if ((sub_54530( sub_6646(), l_U3984, 1, 0 )) > 10000.00000000)
                {
                    l_U4221 = 13;
                }
                else
                {
                    l_U4221 = 14;
                }
                l_U4233 = 9;
                l_U3824 = 1;
            }
        }
    }
    if ((NOT (IS_CHAR_INJURED( l_U3984 ))) AND ((NOT (IS_CHAR_INJURED( l_U3983 ))) AND ((IS_VEH_DRIVEABLE( l_U4053 )) AND (IS_VEH_DRIVEABLE( l_U4052 )))))
    {
        switch (l_U4226)
        {
            case 3:
            if ((l_U4119[26]) AND (NOT l_U3809[8]))
            {
                if ((NOT (sub_55034( l_U4204 ))) AND (NOT (sub_45643( 0 ))))
                {
                    PRINT_NOW( "T3_STAIRS", 7000, 0 );
                    l_U3809[8] = 1;
                    l_U3825 = 1;
                }
            }
            if ((NOT (IS_CHAR_IN_AIR( sub_6646() ))) AND ((uVar11._fU0 < (l_U3940 + 3.00000000)) AND (uVar11._fU8 < 7.00000000)))
            {
                CLEAR_PRINTS();
                sub_7282();
                sub_11417( 1 );
                for ( I = 0; I < l_U4365; I++ )
                {
                    if (NOT (IS_CHAR_INJURED( l_U4365[I]._fU0 )))
                    {
                        ADD_BLIP_FOR_CHAR( l_U4365[I]._fU0, ref l_U4365[I]._fU4 );
                        sub_21292( l_U4365[I]._fU4 );
                        if ((I mod 2) == 0)
                        {
                            if (NOT (IS_CHAR_IN_ANY_CAR( l_U4365[I]._fU0 )))
                            {
                                TASK_COMBAT( l_U4365[I]._fU0, sub_6646() );
                            }
                        }
                    }
                }
                if (iVar3 >= 5)
                {
                    sub_39077( "E2T3_TNOCM", 27, 6, "E2T3AUD", 0, 0 );
                    GET_GAME_TIMER( ref l_U3870 );
                    l_U4229 = 2;
                }
                ENABLE_SCENE_STREAMING( 1 );
                l_U4226 = 4;
            }
            break;
            case 4:
            if (iVar3 < 5)
            {
                sub_7282();
                if (IS_VEH_DRIVEABLE( l_U4053 ))
                {
                    ADD_BLIP_FOR_CAR( l_U4053, ref l_U3980 );
                    SET_BLIP_AS_FRIENDLY( l_U3980, 1 );
                    sub_21292( l_U3980 );
                }
                if (IS_VEH_DRIVEABLE( l_U4052 ))
                {
                    if (IS_PED_IN_GROUP( l_U3983 ))
                    {
                        REMOVE_CHAR_FROM_GROUP( l_U3983 );
                    }
                    TASK_ENTER_CAR_AS_DRIVER( l_U3983, l_U4052, -2 );
                }
                sub_11417( 1 );
                CLEAR_PRINTS();
                sub_39077( "E2T3_COMON", 31, 6, "E2T3AUD", 0, 0 );
                l_U4226 = 5;
                l_U4229 = 3;
            }
            else if (NOT l_U3809[4])
            {
                if (l_U4119[27])
                {
                    if (NOT l_U4119[28])
                    {
                        sub_39077( "E2T3_TBACK", 28, 6, "E2T3AUD", 0, 0 );
                    }
                    else if ((NOT (sub_55034( l_U4204 ))) AND (NOT (sub_45643( 0 ))))
                    {
                        PRINT_NOW( "T3_ENEMIES", 7500, 0 );
                        l_U3809[4] = 1;
                        l_U3825 = 1;
                    }
                }
            }
            break;
            case 5:
            if (NOT l_U4235[0]._fU8)
            {
                if (IS_CHAR_IN_ANY_CAR( sub_6646() ))
                {
                    if (HAS_MODEL_LOADED( 64730935 ))
                    {
                        sub_27183( ref l_U4235[0]._fU0, 64730935, -633.08730000, -37.07460000, 3.81250000, 72.37400000, 23, 200, 0, 12 );
                        sub_27183( ref l_U4235[1]._fU0, 64730935, -635.08720000, -37.07460000, 3.81250000, 322.01420000, 23, 200, 0, 12 );
                        sub_27183( ref l_U4235[2]._fU0, 64730935, -637.08720000, -39.07460000, 3.81250000, 322.31230000, 23, 200, 0, 12 );
                        sub_27183( ref l_U4235[3]._fU0, 64730935, -639.08720000, -39.07460000, 3.81250000, 145.57950000, 23, 200, 0, 12 );
                        sub_18347( l_U4235[0]._fU0, l_U4082, l_U4079, -667.88260000, -22.35120000, 3.77570000, 3.00000000 );
                        sub_18347( l_U4235[1]._fU0, l_U4082, l_U4079, -682.35560000, -11.23590000, 3.76830000, 3.00000000 );
                        sub_18347( l_U4235[2]._fU0, l_U4082, l_U4079, -683.73750000, -13.12650000, 3.84730000, 3.00000000 );
                        sub_18347( l_U4235[3]._fU0, l_U4082, l_U4079, -675.83610000, -4.33180000, 3.69040000, 3.00000000 );
                        MARK_MODEL_AS_NO_LONGER_NEEDED( 64730935 );
                        OPEN_SEQUENCE_TASK( ref l_U4084 );
                        TASK_COMBAT( 0, sub_6646() );
                        CLOSE_SEQUENCE_TASK( l_U4084 );
                        for ( I = 0; I < l_U4235; I++ )
                        {
                            SET_CHAR_ACCURACY( l_U4235[I]._fU0, 20 );
                            l_U4235[I]._fU8 = 1;
                            sub_27780( l_U4235[I]._fU0, l_U4084 );
                        }
                        CLEAR_SEQUENCE_TASK( l_U4084 );
                    }
                    else
                    {
                        REQUEST_MODEL( 64730935 );
                    }
                }
            }
            if (NOT (IS_CHAR_IN_CAR( l_U3983, l_U4052 )))
            {
                GET_SCRIPT_TASK_STATUS( l_U3983, 12, ref iVar19 );
                if (iVar19 != 1)
                {
                    if (IS_PED_IN_GROUP( l_U3983 ))
                    {
                        REMOVE_CHAR_FROM_GROUP( l_U3983 );
                    }
                    TASK_ENTER_CAR_AS_DRIVER( l_U3983, l_U4052, -2 );
                }
            }
            if (IS_VEH_DRIVEABLE( l_U4053 ))
            {
                if (IS_CHAR_IN_CAR( sub_6646(), l_U4053 ))
                {
                    if (IS_CHAR_IN_CAR( l_U3984, l_U4053 ))
                    {
                        if (IS_CHAR_IN_CAR( l_U3983, l_U4052 ))
                        {
                            if ((HAS_CAR_RECORDING_BEEN_LOADED( 750 )) AND (HAS_MODEL_LOADED( 64730935 )))
                            {
                                sub_92689( 760, ref l_U4057[0] );
                                sub_92689( 761, ref l_U4057[1] );
                                sub_92689( 762, ref l_U4057[2] );
                                l_U4535[0]._fU0 = 765;
                                l_U4535[0]._fU8 = 15000.00000000;
                                l_U4535[1]._fU0 = 763;
                                l_U4535[1]._fU8 = 11000.00000000;
                                l_U4535[1]._fU40 = {-662.43210000, -247.78770000, 3.92300000};
                                l_U4535[2]._fU0 = 764;
                                l_U4535[2]._fU8 = 13000.00000000;
                                l_U4535[2]._fU40 = {-601.51500000, -347.46610000, 3.92900000};
                                if (NOT (IS_PED_IN_GROUP( l_U3984 )))
                                {
                                    SET_GROUP_MEMBER( l_U4074, l_U3984 );
                                }
                                BLOCK_COWERING_IN_COVER( l_U3984, 1 );
                                BLOCK_PEEKING_IN_COVER( l_U3984, 1 );
                                SET_COMBAT_DECISION_MAKER( l_U3984, l_U4075 );
                                SET_CHAR_PROOFS( l_U3984, 0, 0, 0, 0, 0 );
                                UNLOCK_RAGDOLL( l_U3984, 1 );
                                UNLOCK_RAGDOLL( l_U3983, 1 );
                                SET_CHAR_MAX_HEALTH( l_U3984, 1000 );
                                SET_CHAR_ONLY_DAMAGED_BY_PLAYER( l_U3983, 1 );
                                if (l_U3823)
                                {
                                    if (NOT (IS_CHAR_INJURED( l_U3985 )))
                                    {
                                        SET_CHAR_INVINCIBLE( l_U3985, 0 );
                                        DETACH_PED( l_U3985, 0 );
                                        UNLOCK_RAGDOLL( l_U3985, 1 );
                                        SWITCH_PED_TO_RAGDOLL( l_U3985, 100, 1000, 2, 1, 1, 0 );
                                        SET_CHAR_HEALTH( l_U3985, 0 );
                                    }
                                }
                                if (IS_VEH_DRIVEABLE( l_U4052 ))
                                {
                                    FREEZE_CAR_POSITION( l_U4052, 0 );
                                }
                                sub_20313( ref l_U4052, 750, 1000.00000000, 1, 0, 0 );
                                sub_27183( ref l_U4264[0]._fU0, 64730935, -639.91670000, 7.39890000, 3.81280000, 72.37400000, 23, 200, 0, 12 );
                                sub_27183( ref l_U4264[1]._fU0, 64730935, -639.07510000, 10.52910000, 3.81240000, 322.01420000, 23, 200, 0, 12 );
                                sub_27183( ref l_U4264[2]._fU0, 64730935, -635.85320000, 9.09820000, 3.81240000, 322.31230000, 23, 200, 0, 12 );
                                sub_27183( ref l_U4264[3]._fU0, 64730935, -635.51210000, 12.42040000, 3.81240000, 145.57950000, 23, 200, 0, 12 );
                                sub_18347( l_U4264[0]._fU0, l_U4082, l_U4079, -667.88260000, -22.35120000, 3.77570000, 3.00000000 );
                                sub_18347( l_U4264[1]._fU0, l_U4082, l_U4079, -682.35560000, -11.23590000, 3.76830000, 3.00000000 );
                                sub_18347( l_U4264[2]._fU0, l_U4082, l_U4079, -683.73750000, -13.12650000, 3.84730000, 3.00000000 );
                                sub_18347( l_U4264[3]._fU0, l_U4082, l_U4079, -675.83610000, -4.33180000, 3.69040000, 3.00000000 );
                                MARK_MODEL_AS_NO_LONGER_NEEDED( 64730935 );
                                OPEN_SEQUENCE_TASK( ref l_U4084 );
                                TASK_COMBAT( 0, l_U3983 );
                                CLOSE_SEQUENCE_TASK( l_U4084 );
                                for ( I = 0; I < l_U4264; I++ )
                                {
                                    SET_CHAR_ACCURACY( l_U4264[I]._fU0, 20 );
                                    l_U4264[I]._fU8 = 1;
                                    sub_27780( l_U4264[I]._fU0, l_U4084 );
                                }
                                CLEAR_SEQUENCE_TASK( l_U4084 );
                                sub_7282();
                                if (NOT (DOES_BLIP_EXIST( l_U3979 )))
                                {
                                    ADD_BLIP_FOR_CHAR( l_U3983, ref l_U3979 );
                                    SET_BLIP_AS_FRIENDLY( l_U3979, 1 );
                                    sub_21292( l_U3979 );
                                }
                                CLEAR_PRINTS();
                                CLEAR_HELP();
                                sub_11417( 1 );
                                sub_39077( "E2T3_TCALL", 33, 6, "E2T3AUD", 0, 0 );
                                l_U3809[5] = 0;
                                l_U3825 = 1;
                                GENERATE_RANDOM_INT_IN_RANGE( 0, 8000, ref iVar7 );
                                GET_GAME_TIMER( ref l_U3882 );
                                l_U3882 += iVar7;
                                GENERATE_RANDOM_INT_IN_RANGE( 0, 10000, ref iVar7 );
                                GET_GAME_TIMER( ref l_U3879 );
                                l_U3879 += iVar7;
                                GENERATE_RANDOM_INT_IN_RANGE( 0, 8000, ref iVar7 );
                                GET_GAME_TIMER( ref l_U3880 );
                                l_U3880 += iVar7;
                                if (NOT (IS_VEH_DRIVEABLE( l_U4057[0] )))
                                {
                                    g_U42931[0] = 1;
                                }
                                if (NOT (IS_VEH_DRIVEABLE( l_U4057[1] )))
                                {
                                    g_U42931[1] = 1;
                                }
                                if (NOT (IS_VEH_DRIVEABLE( l_U4057[2] )))
                                {
                                    g_U42931[2] = 1;
                                }
                                g_U42930 = iVar3;
                                g_U43104[2] = 2;
                                sub_110100( 0 );
                                l_U4221 = 7;
                            }
                            else
                            {
                                REQUEST_MODEL( 64730935 );
                                REQUEST_CAR_RECORDING( 750 );
                            }
                        }
                    }
                    else if (NOT (DOES_BLIP_EXIST( l_U3978 )))
                    {
                        sub_7282();
                        ADD_BLIP_FOR_CHAR( l_U3984, ref l_U3978 );
                        SET_BLIP_AS_FRIENDLY( l_U3978, 1 );
                        sub_21292( l_U3978 );
                    }
                    if ((NOT (sub_55034( l_U4204 ))) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND ((l_U4119[31]) AND ((NOT (IS_CHAR_GETTING_IN_TO_A_CAR( l_U3984 ))) AND (NOT l_U3809[5])))))
                    {
                        CLEAR_PRINTS();
                        PRINT_NOW( "T3_WAIT", 7500, 0 );
                        l_U3809[5] = 1;
                    }
                }
                else if ((l_U4119[31]) AND (NOT l_U3809[1]))
                {
                    if ((NOT (sub_55034( l_U4204 ))) AND (NOT IS_MESSAGE_BEING_DISPLAYED()))
                    {
                        PRINT_NOW( "T3_BUGGY2", 7500, 0 );
                        l_U3809[1] = 1;
                        l_U3825 = 1;
                    }
                }
                if (NOT (DOES_BLIP_EXIST( l_U3980 )))
                {
                    sub_7282();
                    ADD_BLIP_FOR_CAR( l_U4053, ref l_U3980 );
                    SET_BLIP_AS_FRIENDLY( l_U3980, 1 );
                    sub_21292( l_U3980 );
                }
            }
            break;
        }
    }
    sub_110622( uVar11 );
    if ((l_U4226 == 4) || (l_U4226 == 3))
    {
        if ((sub_112620( uVar11 )) AND ((NOT (IS_AMBIENT_SPEECH_PLAYING( l_U3983 ))) AND ((NOT l_U3825) AND ((sub_111064()) AND (NOT (sub_45643( 0 )))))))
        {
            if ((iVar6 - l_U3880) > 7000)
            {
                sub_39077( "E2T3_RATCK", 25, 6, "E2T3AUD", 1, 0 );
                GENERATE_RANDOM_INT_IN_RANGE( 0, 7000, ref iVar7 );
                GET_GAME_TIMER( ref l_U3880 );
                l_U3880 += iVar7;
            }
            else if ((iVar6 - l_U3888) > 7500)
            {
                SAY_AMBIENT_SPEECH( l_U3983, "FIGHT", 0, 0, 2 );
                GENERATE_RANDOM_INT_IN_RANGE( 0, 7500, ref iVar7 );
                GET_GAME_TIMER( ref l_U3888 );
                l_U3888 += iVar7;
            }
        }
        if ((NOT (IS_AMBIENT_SPEECH_PLAYING( sub_6646() ))) AND ((NOT l_U3825) AND ((sub_111064()) AND (NOT (sub_45643( 0 ))))))
        {
            if ((sub_113463()) AND ((iVar6 - l_U3881) > 7000))
            {
                sub_39077( "E2T3_LATCK", 30, 6, "E2T3AUD", 1, 0 );
                GENERATE_RANDOM_INT_IN_RANGE( 0, 7000, ref iVar7 );
                GET_GAME_TIMER( ref l_U3881 );
                l_U3881 += iVar7;
            }
            else if ((iVar6 - l_U3888) > 7500)
            {
                SAY_AMBIENT_SPEECH( sub_6646(), "FIGHT", 0, 0, 2 );
                GENERATE_RANDOM_INT_IN_RANGE( 0, 7500, ref iVar7 );
                GET_GAME_TIMER( ref l_U3888 );
                l_U3888 += iVar7;
            }
        }
    }
    if ((NOT l_U3823) AND (NOT (IS_CHAR_INJURED( l_U3985 ))))
    {
        if ((sub_54530( sub_6646(), l_U3985, 1, 0 )) < 2500.00000000)
        {
            if ((NOT l_U3825) AND ((sub_111064()) AND (NOT (sub_45643( 0 )))))
            {
                if ((iVar6 - l_U3882) > 5000)
                {
                    sub_39077( "E2T3_UYELL", 24, 6, "E2T3AUD", 1, 0 );
                    GENERATE_RANDOM_INT_IN_RANGE( iVar6 + 5000, iVar6 + 10000, ref l_U3882 );
                }
            }
        }
    }
    iVar5 = 0;
    iVar4 = 0;
    I = 0;
    if (l_U4226 != 2)
    {
        for ( I = 0; I < l_U4365; I++ )
        {
            iVar5 = I / 4;
            iVar4 = I mod 4;
            if (l_U4365[I]._fU8)
            {
                if ((l_U4365[I]._fU20 == 0) AND (NOT (IS_CHAR_INJURED( l_U4365[I]._fU0 ))))
                {
                    if (IS_VEH_DRIVEABLE( l_U4057[iVar5] ))
                    {
                        if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U4057[iVar5] )))
                        {
                            if (l_U3865[iVar5] != 0)
                            {
                                if (l_U4365[I]._fU20 != 1)
                                {
                                    if ((NOT (IS_CHAR_INJURED( l_U3983 ))) AND (IS_CHAR_SITTING_IN_CAR( l_U4365[I]._fU0, l_U4057[iVar5] )))
                                    {
                                        if ((iVar6 - l_U3865[iVar5]) > l_U4365[I]._fU24)
                                        {
                                            GET_CAR_COORDINATES( l_U4057[iVar5], ref uVar20._fU0, ref uVar20._fU4, ref uVar20._fU8 );
                                            OPEN_SEQUENCE_TASK( ref l_U4086 );
                                            TASK_LEAVE_CAR_DONT_CLOSE_DOOR( 0, l_U4057[iVar5] );
                                            TASK_COMBAT_HATED_TARGETS_AROUND_CHAR( 0, 300.00000000 );
                                            CLOSE_SEQUENCE_TASK( l_U4086 );
                                            TASK_PERFORM_SEQUENCE( l_U4365[I]._fU0, l_U4086 );
                                            CLEAR_SEQUENCE_TASK( l_U4086 );
                                            SET_CHAR_INVINCIBLE( l_U4365[I]._fU0, 0 );
                                            SET_CHAR_ACCURACY( l_U4365[I]._fU0, 10 );
                                            SET_CHAR_SPHERE_DEFENSIVE_AREA( l_U4365[I]._fU0, uVar20, 5.00000000 );
                                            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U4365[I]._fU0, 1 );
                                            SET_INFORM_RESPECTED_FRIENDS( l_U4365[I]._fU0, 100.00000000, 12 );
                                            SET_CHAR_KEEP_TASK( l_U4365[I]._fU0, 1 );
                                            l_U4365[I]._fU20 = 1;
                                        }
                                    }
                                }
                            }
                            else
                            {
                                GET_GAME_TIMER( ref l_U3865[iVar5] );
                            }
                        }
                    }
                }
            }
        }
    }
    if (IS_VEH_DRIVEABLE( l_U4057[0] ))
    {
        if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U4057[0] )))
        {
            if (NOT l_U3846)
            {
                SET_CAR_HEALTH( l_U4057[0], 100 );
                SET_ENGINE_HEALTH( l_U4057[0], 300.00000000 );
                SET_PETROL_TANK_HEALTH( l_U4057[0], 75.00000000 );
                l_U3846 = 1;
            }
            else
            {
                fVar23 = GET_ENGINE_HEALTH( l_U4057[0] );
                if (fVar23 > 0.00000000)
                {
                    if (HAS_CAR_BEEN_DAMAGED_BY_CHAR( l_U4057[0], sub_6646() ))
                    {
                        fVar23 -= 3.00000000;
                        if (fVar23 < 0.00000000)
                        {
                            fVar23 = 0.00000000;
                        }
                        SET_ENGINE_HEALTH( l_U4057[0], fVar23 );
                        CLEAR_CAR_LAST_DAMAGE_ENTITY( l_U4057[0] );
                    }
                }
            }
        }
    }
    return;
}

void sub_102092()
{
    if (sub_102101() >= g_U43138[g_U43137]._fU16)
    {
        g_U43566 = 1;
    }
    else
    {
        g_U43566 = 0;
    }
    if (g_U43603 == 1)
    {
        g_U43614 = sub_102245();
        g_U43603 = 0;
    }
    if (g_U43133 == 1)
    {
        if (g_U43624 == 0)
        {
            if (sub_102101() > g_U43614)
            {
                g_U43578 = 1;
            }
            else
            {
                g_U43578 = 0;
            }
        }
        else
        {
            g_U43578 = 0;
        }
    }
    else
    {
        g_U43578 = 0;
    }
    if (g_U43137 != 15)
    {
        if (sub_102866() >= g_U43138[g_U43137]._fU20)
        {
            g_U43567 = 1;
        }
        else
        {
            g_U43567 = 0;
        }
        if (g_U43604 == 1)
        {
            g_U43616 = sub_104407();
            g_U43604 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if (sub_102866() > g_U43616)
                {
                    g_U43579 = 1;
                }
                else
                {
                    g_U43579 = 0;
                }
            }
            else
            {
                g_U43579 = 0;
            }
        }
        else
        {
            g_U43579 = 0;
        }
    }
    if (g_U43137 == 15)
    {
        if (((g_U43523[9] + g_U43523[10]) / 2) >= g_U43138[g_U43137]._fU20)
        {
            g_U43567 = 1;
        }
        else
        {
            g_U43567 = 0;
        }
        if (g_U43604 == 1)
        {
            g_U43616 = sub_104407();
            g_U43604 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if (((g_U43523[9] + g_U43523[10]) / 2) > g_U43616)
                {
                    g_U43579 = 1;
                }
                else
                {
                    g_U43579 = 0;
                }
            }
            else
            {
                g_U43579 = 0;
            }
        }
        else
        {
            g_U43579 = 0;
        }
    }
    return;
}

void sub_102101()
{
    g_U43514 = GET_INT_STAT( 289 );
    g_U43515 = g_U43514 - g_U43513;
    if (g_U43515 < 0)
    {
        g_U43515 = 0;
    }
    return g_U43515;
}

int sub_102245()
{
    if (g_U43137 == 0)
    {
        ;
    }
    if (g_U43137 == 1)
    {
        ;
    }
    if (g_U43137 == 2)
    {
        return GET_INT_STAT( 485 );
    }
    if (g_U43137 == 3)
    {
        ;
    }
    if (g_U43137 == 21)
    {
        ;
    }
    if (g_U43137 == 15)
    {
        ;
    }
    if (g_U43137 == 16)
    {
        return GET_INT_STAT( 551 );
    }
    if (g_U43137 == 17)
    {
        ;
    }
    if (g_U43137 == 12)
    {
        return GET_INT_STAT( 527 );
    }
    if (g_U43137 == 13)
    {
        ;
    }
    if (g_U43137 == 19)
    {
        return GET_INT_STAT( 569 );
    }
    if (g_U43137 == 20)
    {
        return GET_INT_STAT( 574 );
    }
    if (g_U43137 == 5)
    {
        ;
    }
    if (g_U43137 == 4)
    {
        ;
    }
    if (g_U43137 == 6)
    {
        ;
    }
    if (g_U43137 == 7)
    {
        ;
    }
    if (g_U43137 == 8)
    {
        ;
    }
    if (g_U43137 == 9)
    {
        ;
    }
    if (g_U43137 == 14)
    {
        ;
    }
    if (g_U43137 == 22)
    {
        return GET_INT_STAT( 584 );
    }
    if (g_U43137 == 23)
    {
        ;
    }
    if (g_U43137 == 24)
    {
        return GET_INT_STAT( 600 );
    }
    if (g_U43137 == 18)
    {
        ;
    }
    if (g_U43137 == 10)
    {
        ;
    }
    if (g_U43137 == 25)
    {
        return GET_INT_STAT( 606 );
    }
    if (g_U43137 == 11)
    {
        return GET_INT_STAT( 521 );
    }
    return 0;
}

void sub_102866()
{
    unknown uVar2;
    unknown uVar3;
    float fVar4;
    int iVar5;
    int I;

    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 29, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 29, 1 ) );
    g_U43523[1] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 30, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 30, 1 ) );
    g_U43523[2] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 31, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 31, 1 ) );
    g_U43523[3] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 32, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 32, 1 ) );
    g_U43523[4] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 33, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 33, 1 ) );
    g_U43523[5] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 34, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 34, 1 ) );
    g_U43523[6] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 35, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 35, 1 ) );
    g_U43523[7] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 37, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 37, 1 ) );
    g_U43523[9] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 39, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 39, 1 ) );
    g_U43523[10] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 40, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 40, 1 ) );
    g_U43523[11] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 14, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 14, 1 ) );
    g_U43523[12] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 7, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 7, 1 ) );
    g_U43523[13] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 9, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 9, 1 ) );
    g_U43523[14] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 12, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 12, 1 ) );
    g_U43523[15] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 13, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 13, 1 ) );
    g_U43523[16] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 15, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 15, 1 ) );
    g_U43523[17] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 10, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 10, 1 ) );
    g_U43523[18] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 11, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 11, 1 ) );
    g_U43523[19] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 18, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 18, 1 ) );
    g_U43523[22] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 16, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 16, 1 ) );
    g_U43523[23] = (uVar3 / uVar2) * 100;
    uVar2 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 17, 0 ) );
    uVar3 = TO_FLOAT( GET_LOCAL_PLAYER_WEAPON_STAT( 17, 1 ) );
    g_U43523[24] = (uVar3 / uVar2) * 100;
    fVar4 = 0.00000000;
    iVar5 = 0;
    for ( I = 0; I <= 24; I++ )
    {
        if (g_U43523[I] > 0)
        {
            if (g_U43523[I] != g_U43523[0])
            {
                if (g_U43523[I] != g_U43523[8])
                {
                    if (g_U43523[I] != g_U43523[20])
                    {
                        if (g_U43523[I] != g_U43523[21])
                        {
                            fVar4 += g_U43523[I];
                            iVar5++;
                        }
                    }
                }
            }
        }
    }
    fVar4 /= iVar5;
    g_U43516 = FLOOR( fVar4 );
    if (g_U43516 > 100)
    {
        g_U43516 = 100;
    }
    if (g_U43516 < 0)
    {
        g_U43516 = 0;
    }
    return g_U43516;
}

int sub_104407()
{
    if (g_U43137 == 0)
    {
        ;
    }
    if (g_U43137 == 1)
    {
        return GET_INT_STAT( 480 );
    }
    if (g_U43137 == 2)
    {
        return GET_INT_STAT( 486 );
    }
    if (g_U43137 == 3)
    {
        ;
    }
    if (g_U43137 == 21)
    {
        ;
    }
    if (g_U43137 == 15)
    {
        ;
    }
    if (g_U43137 == 16)
    {
        return GET_INT_STAT( 552 );
    }
    if (g_U43137 == 17)
    {
        ;
    }
    if (g_U43137 == 12)
    {
        return GET_INT_STAT( 528 );
    }
    if (g_U43137 == 13)
    {
        ;
    }
    if (g_U43137 == 19)
    {
        return GET_INT_STAT( 570 );
    }
    if (g_U43137 == 20)
    {
        return GET_INT_STAT( 575 );
    }
    if (g_U43137 == 5)
    {
        ;
    }
    if (g_U43137 == 4)
    {
        ;
    }
    if (g_U43137 == 6)
    {
        ;
    }
    if (g_U43137 == 7)
    {
        ;
    }
    if (g_U43137 == 8)
    {
        ;
    }
    if (g_U43137 == 9)
    {
        ;
    }
    if (g_U43137 == 14)
    {
        ;
    }
    if (g_U43137 == 22)
    {
        return GET_INT_STAT( 585 );
    }
    if (g_U43137 == 23)
    {
        return GET_INT_STAT( 593 );
    }
    if (g_U43137 == 24)
    {
        return GET_INT_STAT( 601 );
    }
    if (g_U43137 == 18)
    {
        ;
    }
    if (g_U43137 == 10)
    {
        ;
    }
    if (g_U43137 == 25)
    {
        return GET_INT_STAT( 607 );
    }
    if (g_U43137 == 11)
    {
        return GET_INT_STAT( 522 );
    }
    return 0;
}

void sub_105837()
{
    int I;
    int iVar3;
    unknown uVar4;
    float fVar5;
    int iVar6;

    I = 0;
    for ( I = 0; I < l_U4057; I++ )
    {
        if (NOT l_U3835[I])
        {
            if (IS_VEH_DRIVEABLE( l_U4057[I] ))
            {
                GET_NUMBER_OF_PASSENGERS( l_U4057[I], ref iVar3 );
                GET_DRIVER_OF_CAR( l_U4057[I], ref uVar4 );
                if ((IS_CHAR_INJURED( uVar4 )) AND (iVar3 == 0))
                {
                    iVar6 = 0;
                    GET_DOOR_ANGLE_RATIO( l_U4057[I], 0, ref fVar5 );
                    if (fVar5 > 0.00000000)
                    {
                        fVar5 -= 0.10000000;
                        if (fVar5 < 0.00000000)
                        {
                            fVar5 = 0.00000000;
                        }
                        CONTROL_CAR_DOOR( l_U4057[I], 0, 0, fVar5 );
                    }
                    else
                    {
                        iVar6++;
                    }
                    GET_DOOR_ANGLE_RATIO( l_U4057[I], 1, ref fVar5 );
                    if (fVar5 > 0.00000000)
                    {
                        fVar5 -= 0.10000000;
                        if (fVar5 < 0.00000000)
                        {
                            fVar5 = 0.00000000;
                        }
                        CONTROL_CAR_DOOR( l_U4057[I], 1, 0, fVar5 );
                    }
                    else
                    {
                        iVar6++;
                    }
                    GET_DOOR_ANGLE_RATIO( l_U4057[I], 2, ref fVar5 );
                    if (fVar5 > 0.00000000)
                    {
                        fVar5 -= 0.10000000;
                        if (fVar5 < 0.00000000)
                        {
                            fVar5 = 0.00000000;
                        }
                        CONTROL_CAR_DOOR( l_U4057[I], 2, 0, fVar5 );
                    }
                    else
                    {
                        iVar6++;
                    }
                    GET_DOOR_ANGLE_RATIO( l_U4057[I], 3, ref fVar5 );
                    if (fVar5 > 0.00000000)
                    {
                        fVar5 -= 0.10000000;
                        if (fVar5 < 0.00000000)
                        {
                            fVar5 = 0.00000000;
                        }
                        CONTROL_CAR_DOOR( l_U4057[I], 3, 0, fVar5 );
                    }
                    else
                    {
                        iVar6++;
                    }
                    if (iVar6 == 4)
                    {
                        l_U3835[I] = 1;
                    }
                }
            }
        }
    }
    return;
}

void sub_110100(unknown uParam0)
{
    sub_110111( uParam0 );
    if (g_U43137 == 4)
    {
        sub_110179();
    }
    if (g_U43137 == 10)
    {
        sub_110179();
    }
    if (g_U43137 == 7)
    {
        sub_110179();
    }
    return;
}

void sub_110111(unknown uParam0)
{
    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_HEALTH( uParam0, ref g_U43510 );
    }
    g_U43499 = 1;
    return;
}

void sub_110179()
{
    GET_GAME_TIMER( ref g_U43504 );
    g_U43497 = 1;
    return;
}

void sub_110622(unknown uParam0, unknown uParam1, unknown uParam2)
{
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    int iVar9;
    int iVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    int iVar14;

    if ((IS_VEH_DRIVEABLE( l_U4053 )) AND (NOT (IS_CHAR_INJURED( l_U3984 ))))
    {
        GET_GAME_TIMER( ref iVar9 );
        switch (l_U4229)
        {
            case 0:
            CLEAR_CHAR_TASKS_IMMEDIATELY( l_U3984 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3984, 1 );
            SET_CHAR_PROOFS( l_U3984, 0, 0, 0, 1, 0 );
            OPEN_SEQUENCE_TASK( ref uVar5 );
            TASK_FOLLOW_NAV_MESH_TO_COORD( 0, -630.34290000, -3.60410000, 11.40120000, 4, -2, 0.50000000 );
            TASK_TURN_CHAR_TO_FACE_CHAR( 0, sub_6646() );
            TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "tony_panic", "MISSTONY03", 8.00000000, 1, 1, 1, 0, 0 );
            CLOSE_SEQUENCE_TASK( uVar5 );
            TASK_PERFORM_SEQUENCE( l_U3984, uVar5 );
            CLEAR_SEQUENCE_TASK( uVar5 );
            l_U4229 = 1;
            break;
            case 1:
            if (l_U3831)
            {
                if (NOT (IS_PED_RAGDOLL( l_U3984 )))
                {
                    l_U3831 = 0;
                    OPEN_SEQUENCE_TASK( ref uVar7 );
                    TASK_TURN_CHAR_TO_FACE_CHAR( 0, sub_6646() );
                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "tony_panic", "MISSTONY03", 4.00000000, 1, 1, 1, 0, 0 );
                    CLOSE_SEQUENCE_TASK( uVar7 );
                    TASK_PERFORM_SEQUENCE( l_U3984, uVar7 );
                    CLEAR_SEQUENCE_TASK( uVar7 );
                }
            }
            else if (IS_PED_RAGDOLL( l_U3984 ))
            {
                l_U3831 = 1;
            }
            if ((NOT l_U3825) AND (((uParam0._fU8 > 12.00000000) AND ((uParam0._fU0 > -635.70000000) AND ((NOT l_U3840) AND (NOT (sub_55034( l_U4204 )))))) || (((iVar9 - l_U3870) > 8000) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND ((NOT (sub_55034( l_U4204 ))) AND (sub_111064()))))))
            {
                GET_GAME_TIMER( ref l_U3870 );
                GENERATE_RANDOM_INT_IN_RANGE( 2000, 7000, ref iVar10 );
                l_U3870 += iVar10;
                OPEN_SEQUENCE_TASK( ref uVar6 );
                TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "tony_come on", "MISSTONY03", 8.00000000, 0, 1, 1, 0, 0 );
                TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "tony_panic", "MISSTONY03", 8.00000000, 1, 1, 1, 0, 0 );
                CLOSE_SEQUENCE_TASK( uVar6 );
                TASK_PERFORM_SEQUENCE( l_U3984, uVar6 );
                CLEAR_SEQUENCE_TASK( uVar6 );
                if ((uParam0._fU8 > 12.00000000) AND ((uParam0._fU0 > -635.70000000) AND (NOT l_U3840)))
                {
                    CLEAR_PRINTS();
                    sub_39077( "E2T3_HANGS", 69, 6, "E2T5BAU", 1, 1 );
                    l_U3840 = 1;
                }
                else
                {
                    sub_39077( "E2T3_HANGS", 69, 6, "E2T5BAU", 1, 0 );
                }
            }
            if ((uParam0._fU8 < 11.60000000) AND (uParam0._fU0 > (l_U3940 + 1.00000000)))
            {
                CLEAR_CHAR_TASKS_IMMEDIATELY( l_U3984 );
                if (NOT (IS_PED_IN_GROUP( l_U3984 )))
                {
                    SET_GROUP_MEMBER( l_U4074, l_U3984 );
                }
                l_U4229 = 2;
            }
            break;
            case 2:
            GET_CHAR_COORDINATES( l_U3984, ref uVar11._fU0, ref uVar11._fU4, ref uVar11._fU8 );
            if (l_U4226 == 4)
            {
                CLEAR_CHAR_TASKS_IMMEDIATELY( l_U3984 );
                REMOVE_CHAR_FROM_GROUP( l_U3984 );
                OPEN_SEQUENCE_TASK( ref uVar8 );
                TASK_FOLLOW_NAV_MESH_TO_COORD( 0, -634.86390000, -4.45970000, 3.83150000, 4, -2, 0.25000000 );
                TASK_COWER( 0 );
                CLOSE_SEQUENCE_TASK( uVar8 );
                TASK_PERFORM_SEQUENCE( l_U3984, uVar8 );
                CLEAR_SEQUENCE_TASK( uVar8 );
                l_U3869 = 0;
                GENERATE_RANDOM_INT_IN_RANGE( 0, 10000, ref iVar10 );
                GET_GAME_TIMER( ref l_U3879 );
                l_U3879 += iVar10;
                l_U4229 = 3;
            }
            else if ((uParam0._fU8 > 5.50000000) AND ((uVar11._fU8 - uParam0._fU8) < 2.00000000))
            {
                if (IS_PED_IN_GROUP( l_U3984 ))
                {
                    REMOVE_CHAR_FROM_GROUP( l_U3984 );
                    TASK_LOOK_AT_CHAR( l_U3984, sub_6646(), -2, 0 );
                    OPEN_SEQUENCE_TASK( ref uVar7 );
                    TASK_TURN_CHAR_TO_FACE_CHAR( 0, sub_6646() );
                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "tony_panic", "MISSTONY03", 4.00000000, 1, 1, 1, 0, 0 );
                    CLOSE_SEQUENCE_TASK( uVar7 );
                    TASK_PERFORM_SEQUENCE( l_U3984, uVar7 );
                    CLEAR_SEQUENCE_TASK( uVar7 );
                }
                else if (l_U3831)
                {
                    if (NOT (IS_PED_RAGDOLL( l_U3984 )))
                    {
                        l_U3831 = 0;
                        OPEN_SEQUENCE_TASK( ref uVar7 );
                        TASK_TURN_CHAR_TO_FACE_CHAR( 0, sub_6646() );
                        TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "tony_panic", "MISSTONY03", 4.00000000, 1, 1, 1, 0, 0 );
                        CLOSE_SEQUENCE_TASK( uVar7 );
                        TASK_PERFORM_SEQUENCE( l_U3984, uVar7 );
                        CLEAR_SEQUENCE_TASK( uVar7 );
                    }
                }
                else if (IS_PED_RAGDOLL( l_U3984 ))
                {
                    l_U3831 = 1;
                }
                else if ((sub_111064()) AND ((NOT (sub_55034( l_U4204 ))) AND (NOT IS_MESSAGE_BEING_DISPLAYED())))
                {
                    if ((iVar9 - l_U3870) > 8000)
                    {
                        GET_GAME_TIMER( ref l_U3870 );
                        GENERATE_RANDOM_INT_IN_RANGE( 2000, 7000, ref iVar10 );
                        l_U3870 += iVar10;
                        OPEN_SEQUENCE_TASK( ref uVar6 );
                        TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "tony_come on", "MISSTONY03", 8.00000000, 0, 1, 1, 0, 0 );
                        TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "tony_panic", "MISSTONY03", 8.00000000, 1, 1, 1, 0, 0 );
                        CLOSE_SEQUENCE_TASK( uVar6 );
                        TASK_PERFORM_SEQUENCE( l_U3984, uVar6 );
                        CLEAR_SEQUENCE_TASK( uVar6 );
                        sub_39077( "E2T3_HANGS", 69, 6, "E2T5BAU", 1, 0 );
                    }
                };;;;
            }
            else if (NOT (IS_PED_IN_GROUP( l_U3984 )))
            {
                CLEAR_CHAR_TASKS_IMMEDIATELY( l_U3984 );
                SET_GROUP_MEMBER( l_U4074, l_U3984 );
            }
            if (uParam0._fU0 < (l_U3940 - 1.00000000))
            {
                REMOVE_CHAR_FROM_GROUP( l_U3984 );
                OPEN_SEQUENCE_TASK( ref uVar5 );
                TASK_FOLLOW_NAV_MESH_TO_COORD( 0, -632.47230000, -2.54860000, uParam0._fU8, 4, -2, 0.50000000 );
                TASK_TURN_CHAR_TO_FACE_CHAR( 0, sub_6646() );
                CLOSE_SEQUENCE_TASK( uVar5 );
                TASK_PERFORM_SEQUENCE( l_U3984, uVar5 );
                CLEAR_SEQUENCE_TASK( uVar5 );
                l_U4229 = 1;
            }
            break;
            case 3:
            if ((sub_112620( uParam0 )) AND ((NOT l_U3825) AND ((sub_111064()) AND (NOT (sub_45643( 0 ))))))
            {
                if ((iVar9 - l_U3879) > 30000)
                {
                    sub_39077( "E2T3_TCOWR", 29, 6, "E2T3AUD", 1, 0 );
                    GENERATE_RANDOM_INT_IN_RANGE( 0, 10000, ref iVar10 );
                    GET_GAME_TIMER( ref l_U3879 );
                    l_U3879 += iVar10;
                }
            }
            if (l_U3831)
            {
                if (NOT (IS_PED_RAGDOLL( l_U3984 )))
                {
                    l_U3831 = 0;
                    OPEN_SEQUENCE_TASK( ref uVar8 );
                    TASK_FOLLOW_NAV_MESH_TO_COORD( 0, -634.86390000, -4.45970000, 3.83150000, 4, -2, 0.25000000 );
                    TASK_COWER( 0 );
                    CLOSE_SEQUENCE_TASK( uVar8 );
                    TASK_PERFORM_SEQUENCE( l_U3984, uVar8 );
                    CLEAR_SEQUENCE_TASK( uVar8 );
                }
            }
            else if (IS_PED_RAGDOLL( l_U3984 ))
            {
                l_U3831 = 1;
            }
            if (l_U4226 == 5)
            {
                CLEAR_CHAR_TASKS_IMMEDIATELY( l_U3984 );
                UNLOCK_RAGDOLL( l_U3984, 0 );
                TASK_ENTER_CAR_AS_PASSENGER( l_U3984, l_U4053, -2, 0 );
                GIVE_WEAPON_TO_CHAR( l_U3984, 7, 30000, 0 );
                l_U4229 = 4;
            }
            break;
            case 4:
            GET_SCRIPT_TASK_STATUS( l_U3984, 11, ref iVar14 );
            if (iVar14 != 1)
            {
                if ((NOT (IS_CHAR_IN_CAR( l_U3984, l_U4053 ))) AND (NOT (IS_CHAR_GETTING_IN_TO_A_CAR( l_U3984 ))))
                {
                    TASK_ENTER_CAR_AS_PASSENGER( l_U3984, l_U4053, -2, 0 );
                }
            }
            if (IS_CHAR_IN_ANY_CAR( sub_6646() ))
            {
                UNLOCK_RAGDOLL( l_U3984, 1 );
            }
            else if (NOT (IS_CHAR_IN_ANY_CAR( l_U3984 )))
            {
                UNLOCK_RAGDOLL( l_U3984, 0 );
            }
            break;
        }
    }
    return;
}

int sub_111064()
{
    if ((l_U4119[l_U4118]) AND ((NOT (sub_11432( l_U4204 ))) AND ((NOT (sub_55034( l_U4204 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND (NOT IS_MESSAGE_BEING_DISPLAYED())))))
    {
        return 1;
    }
    return 0;
}

int sub_112620(unknown uParam0, unknown uParam1, unknown uParam2)
{
    if ((uParam0._fU4 > 13.00000000) || ((uParam0._fU4 < -41.00000000) || ((uParam0._fU0 < -832.00000000) || (uParam0._fU0 > -632.00000000))))
    {
        return 0;
    }
    return 1;
}

int sub_113463()
{
    int I;

    I = 0;
    for ( I = 0; I < l_U4365; I++ )
    {
        if (NOT (IS_CHAR_INJURED( l_U4365[I]._fU0 )))
        {
            if ((IS_CHAR_SHOOTING( sub_6646() )) AND ((IS_PLAYER_FREE_AIMING_AT_CHAR( sub_6741(), l_U4365[I]._fU0 )) || (IS_PLAYER_TARGETTING_CHAR( sub_6741(), l_U4365[I]._fU0 ))))
            {
                return 1;
            }
        }
    }
    return 0;
}

void sub_114708()
{
    int I;
    int iVar3;
    int iVar4;
    int iVar5;
    int iVar6;
    float fVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    boolean bVar11;
    int iVar12;
    int iVar13;
    boolean bVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    float fVar18;
    int J;
    float fVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    int iVar27;
    float fVar28;

    I = 0;
    iVar3 = 0;
    iVar4 = 0;
    l_U3825 = 0;
    sub_114733( 0 );
    GET_GAME_TIMER( ref iVar5 );
    GET_CHAR_COORDINATES( sub_6646(), ref uVar8._fU0, ref uVar8._fU4, ref uVar8._fU8 );
    if ((NOT (sub_117915( l_U4053 ))) || (NOT (IS_VEH_DRIVEABLE( l_U4053 ))))
    {
        if (NOT l_U3824)
        {
            CLEAR_PRINTS();
            CLEAR_HELP();
            sub_7282();
            sub_47929();
            sub_11417( 1 );
            PRINT_NOW( "T3_B_DIED2", 7500, 0 );
            l_U4221 = 14;
            l_U4233 = 0;
            l_U3824 = 1;
        }
    }
    sub_118119();
    if ((NOT (IS_CHAR_INJURED( l_U3984 ))) AND ((NOT (IS_CHAR_INJURED( l_U3983 ))) AND (IS_VEH_DRIVEABLE( l_U4052 ))))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U4052 ))
        {
            if (NOT (IS_CHAR_IN_CAR( l_U3983, l_U4052 )))
            {
                sub_92689( 750, ref l_U4052 );
            }
            fVar7 = FIND_TIME_POSITION_IN_RECORDING( l_U4052 );
            if (fVar7 < 35000)
            {
                if ((sub_54530( sub_6646(), l_U3983, 1, 1 )) > 10.00000000)
                {
                    sub_118781( l_U4052, sub_6646(), ref l_U3928, 1.00000000, 1.00000000, 8.00000000, 18.00000000, 1.10000000, 1.00000000, 0.60000000, 1 );
                }
                else
                {
                    sub_118781( l_U4052, sub_6646(), ref l_U3928, 1.00000000, 1.00000000, 8.00000000, 18.00000000, 1.25000000, 1.00000000, 0.70000000, 1 );
                }
            }
            else
            {
                sub_118781( l_U4052, sub_6646(), ref l_U3928, 1.00000000, 1.00000000, 10.00000000, 25.00000000, 1.25000000, 1.00000000, 0.70000000, 1 );
            }
            SET_PLAYBACK_SPEED( l_U4052, l_U3928 );
            sub_78604( l_U4052, l_U3928 );
            sub_121726( ref l_U3983 );
            if (NOT l_U3803)
            {
                if (IS_VEH_DRIVEABLE( l_U4053 ))
                {
                    if (IS_CHAR_IN_CAR( l_U3984, l_U4053 ))
                    {
                        if (IS_CHAR_IN_CAR( sub_6646(), l_U4053 ))
                        {
                            if (LOCATE_CHAR_ANY_MEANS_3D( sub_6646(), -621.30660000, -71.78920000, 4.81680000, 2.50000000, 2.50000000, 2.50000000, 0 ))
                            {
                                l_U3803 = 1;
                            }
                        }
                    }
                }
            }
            if ((NOT l_U3823) AND (NOT (IS_CHAR_INJURED( l_U3985 ))))
            {
                if ((sub_54530( sub_6646(), l_U3985, 1, 0 )) < 2500.00000000)
                {
                    if ((NOT l_U3825) AND ((sub_111064()) AND (NOT (sub_45643( 0 )))))
                    {
                        if ((iVar5 - l_U3882) > 6000)
                        {
                            sub_39077( "E2T3_UYELL", 24, 6, "E2T3AUD", 1, 0 );
                            GENERATE_RANDOM_INT_IN_RANGE( iVar5, iVar5 + 4000, ref l_U3882 );
                        }
                    }
                }
            }
            if (NOT l_U3798)
            {
                if ((NOT (sub_122700( ref l_U4365 ))) AND (fVar7 > 5000))
                {
                    I = 0;
                    iVar3 = 0;
                    iVar4 = 0;
                    bVar11 = false;
                    iVar12 = 0;
                    for ( I = 0; I < l_U4365; I++ )
                    {
                        iVar3 = I / 4;
                        iVar4 = I mod 4;
                        if (iVar12 != iVar3)
                        {
                            bVar11 = false;
                        }
                        if ((NOT l_U4535[iVar3]._fU4) AND (iVar3 != 0))
                        {
                            if (IS_VEH_DRIVEABLE( l_U4057[iVar3] ))
                            {
                                if (NOT (IS_CHAR_INJURED( l_U4365[I]._fU0 )))
                                {
                                    CLEAR_CHAR_TASKS_IMMEDIATELY( l_U4365[I]._fU0 );
                                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U4365[I]._fU0, 1 );
                                    if (NOT (IS_CHAR_IN_ANY_CAR( l_U4365[I]._fU0 )))
                                    {
                                        if (bVar11)
                                        {
                                            TASK_ENTER_CAR_AS_PASSENGER( l_U4365[I]._fU0, l_U4057[iVar3], -2, -1 );
                                        }
                                        else
                                        {
                                            TASK_ENTER_CAR_AS_DRIVER( l_U4365[I]._fU0, l_U4057[iVar3], -2 );
                                            bVar11 = true;
                                        }
                                    }
                                }
                                else if (NOT (IS_CHAR_INJURED( l_U4264[iVar4]._fU0 )))
                                {
                                    CLEAR_CHAR_TASKS_IMMEDIATELY( l_U4264[iVar4]._fU0 );
                                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U4264[iVar4]._fU0, 1 );
                                    if (NOT (IS_CHAR_IN_ANY_CAR( l_U4264[iVar4]._fU0 )))
                                    {
                                        if (bVar11)
                                        {
                                            TASK_ENTER_CAR_AS_PASSENGER( l_U4264[iVar4]._fU0, l_U4057[iVar3], -2, -1 );
                                        }
                                        else
                                        {
                                            TASK_ENTER_CAR_AS_DRIVER( l_U4264[iVar4]._fU0, l_U4057[iVar3], -2 );
                                            bVar11 = true;
                                        }
                                    }
                                }
                            }
                        }
                        iVar12 = iVar3;
                    }
                    l_U3798 = 1;
                }
            }
            if (NOT l_U3842)
            {
                GET_CHAR_COORDINATES( sub_6646(), ref uVar8._fU0, ref uVar8._fU4, ref uVar8._fU8 );
                if ((uVar8._fU0 < -725.00000000) AND (fVar7 > 7000))
                {
                    sub_123311();
                    l_U3842 = 1;
                }
            }
            else
            {
                I = 0;
                iVar13 = 0;
                for ( I = 0; I < l_U4535; I++ )
                {
                    if (IS_VEH_DRIVEABLE( l_U4057[I] ))
                    {
                        if (I != 0)
                        {
                            if (NOT l_U4535[I]._fU4)
                            {
                                if (fVar7 > l_U4535[I]._fU8)
                                {
                                    if (NOT (IS_CAR_ON_SCREEN( l_U4057[I] )))
                                    {
                                        if ((HAS_MODEL_LOADED( 64730935 )) AND (HAS_CAR_RECORDING_BEEN_LOADED( l_U4535[I]._fU0 )))
                                        {
                                            bVar14 = false;
                                            if (I == 0)
                                            {
                                                if (((iVar5 - l_U4535[2]._fU12) > 2000) AND (l_U4535[2]._fU4))
                                                {
                                                    bVar14 = true;
                                                }
                                            }
                                            else if (I == 2)
                                            {
                                                if (((iVar5 - l_U4535[1]._fU12) > 2000) AND (l_U4535[1]._fU4))
                                                {
                                                    bVar14 = true;
                                                }
                                            }
                                            else
                                            {
                                                bVar14 = true;
                                            }
                                            if (bVar14)
                                            {
                                                sub_124077( I );
                                                MARK_MODEL_AS_NO_LONGER_NEEDED( 64730935 );
                                                GET_CAR_COORDINATES( l_U4057[I], ref uVar15._fU0, ref uVar15._fU4, ref uVar15._fU8 );
                                                fVar18 = 0.00000000;
                                                if (l_U4535[I]._fU32)
                                                {
                                                    fVar18 = 2000.00000000;
                                                }
                                                sub_20313( ref l_U4057[I], l_U4535[I]._fU0, fVar18, 1, 0, 0 );
                                                l_U3865[I] = 0;
                                                l_U4535[I]._fU4 = 1;
                                                GET_GAME_TIMER( ref l_U4535[I]._fU12 );
                                                J = 0;
                                                if (DOES_CHAR_EXIST( l_U4235[0]._fU0 ))
                                                {
                                                    J = 0;
                                                    for ( J = 0; J < l_U4235; J++ )
                                                    {
                                                        if (J < 3)
                                                        {
                                                            if (DOES_CHAR_EXIST( l_U4235[J]._fU0 ))
                                                            {
                                                                DELETE_CHAR( ref l_U4235[J]._fU0 );
                                                            }
                                                        }
                                                    }
                                                }
                                                else if (DOES_CHAR_EXIST( l_U4264[0]._fU0 ))
                                                {
                                                    J = 0;
                                                    for ( J = 0; J < l_U4264; J++ )
                                                    {
                                                        if (J < 3)
                                                        {
                                                            if (DOES_CHAR_EXIST( l_U4264[J]._fU0 ))
                                                            {
                                                                DELETE_CHAR( ref l_U4264[J]._fU0 );
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                        else
                                        {
                                            REQUEST_CAR_RECORDING( l_U4535[I]._fU0 );
                                            REQUEST_MODEL( 64730935 );
                                        }
                                    }
                                }
                            }
                            else if (IS_VEH_DRIVEABLE( l_U4053 ))
                            {
                                if ((IS_CHAR_IN_CAR( l_U3984, l_U4053 )) AND (IS_CHAR_IN_CAR( sub_6646(), l_U4053 )))
                                {
                                    if ((NOT l_U3825) AND ((NOT (sub_55034( l_U4204 ))) AND (NOT IS_MESSAGE_BEING_DISPLAYED())))
                                    {
                                        if (NOT l_U4119[37])
                                        {
                                            sub_39077( "E2T3_LGOGO", 37, 6, "E2T3AUD", 0, 0 );
                                        }
                                        else if (NOT l_U4119[80])
                                        {
                                            if (g_U15811[16])
                                            {
                                                sub_39077( "E2T3_OKSH", 80, 6, "E2T5BAU", 0, 0 );
                                            }
                                            else
                                            {
                                                l_U4119[80] = 1;
                                            }
                                        }
                                    }
                                }
                            }
                            sub_126252( I, fVar7 );;
                        }
                    }
                    else
                    {
                        l_U4535[I]._fU20 = 1;
                    }
                }
            }
        }
        fVar20 = sub_54530( sub_6646(), l_U3984, 1, 0 );
        if (fVar20 < 625.00000000)
        {
            if (NOT (IS_PED_IN_GROUP( l_U3984 )))
            {
                SET_GROUP_MEMBER( l_U4074, l_U3984 );
            }
            if ((IS_VEH_DRIVEABLE( l_U4052 )) AND (IS_VEH_DRIVEABLE( l_U4053 )))
            {
                if (IS_CHAR_IN_CAR( sub_6646(), l_U4053 ))
                {
                    if (IS_CHAR_IN_CAR( l_U3984, l_U4053 ))
                    {
                        if ((l_U4119[33]) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND ((NOT (sub_55034( l_U4204 ))) AND (NOT l_U3809[10]))))
                        {
                            PRINT_NOW( "T3_FOLLOW", 7500, 0 );
                            l_U3809[10] = 1;
                            l_U3825 = 1;
                        }
                        if (NOT (DOES_BLIP_EXIST( l_U3981 )))
                        {
                            GET_CHAR_COORDINATES( l_U3983, ref uVar21._fU0, ref uVar21._fU4, ref uVar21._fU8 );
                            if (((l_U3723._fU0 != 0.00000000) || (((sub_54530( l_U3983, sub_6646(), 1, 0 )) < 1600.00000000) AND (l_U3723._fU0 == 0.00000000))) AND ((sub_54615( uVar21, -397.00920000, -458.35370000, 3.76980000, 1, 1 )) < 5.00000000))
                            {
                                sub_7282();
                                CLEAR_PRINTS();
                                l_U3723 = {-397.00920000, -458.35370000, 3.76980000};
                                ADD_BLIP_FOR_COORD( l_U3723._fU0, l_U3723._fU4, l_U3723._fU8, ref l_U3981 );
                                if (NOT l_U3809[3])
                                {
                                    PRINT_NOW( "T3_T_PARK", 7500, 0 );
                                    l_U3809[3] = 1;
                                    l_U3825 = 1;
                                }
                            }
                            SET_PED_IS_BLIND_RAGING( sub_6646(), 0 );
                        }
                        if ((NOT (DOES_BLIP_EXIST( l_U3981 ))) AND (NOT (DOES_BLIP_EXIST( l_U3979 ))))
                        {
                            sub_7282();
                            CLEAR_PRINTS();
                            ADD_BLIP_FOR_CHAR( l_U3983, ref l_U3979 );
                            SET_BLIP_AS_FRIENDLY( l_U3979, 1 );
                            sub_21292( l_U3979 );
                        }
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U4052 ))
                        {
                            if ((NOT l_U4535[1]._fU28) AND (l_U4535[1]._fU20))
                            {
                                if (l_U4535[1]._fU4)
                                {
                                    if ((NOT l_U4119[36]) || (NOT l_U4119[35]))
                                    {
                                        if (DOES_VEHICLE_EXIST( l_U4057[1] ))
                                        {
                                            if (IS_VEH_DRIVEABLE( l_U4057[1] ))
                                            {
                                                GET_CAR_COORDINATES( l_U4057[1], ref uVar24._fU0, ref uVar24._fU4, ref uVar24._fU8 );
                                            }
                                            else
                                            {
                                                GET_DEAD_CAR_COORDINATES( l_U4057[1], ref uVar24._fU0, ref uVar24._fU4, ref uVar24._fU8 );
                                            }
                                            if ((sub_54615( uVar8, uVar24, 1, 1 )) < 50.00000000)
                                            {
                                                if (l_U3892[0] != 0)
                                                {
                                                    if ((iVar5 - l_U3892[0]) > 1500)
                                                    {
                                                        if (NOT l_U4119[35])
                                                        {
                                                            sub_39077( "E2T3_CRAS1", 35, 6, "E2T3AUD", 0, 0 );
                                                            l_U4535[1]._fU28 = 1;
                                                        }
                                                        else
                                                        {
                                                            sub_39077( "E2T3_CRAS2", 36, 6, "E2T3AUD", 0, 0 );
                                                            l_U4535[1]._fU28 = 1;
                                                        }
                                                    }
                                                }
                                                else
                                                {
                                                    GET_GAME_TIMER( ref l_U3892[0] );
                                                }
                                            }
                                        }
                                    }
                                }
                                else if (NOT l_U4119[35])
                                {
                                    l_U4119[35] = 1;
                                    l_U4535[1]._fU28 = 1;
                                }
                                if (NOT l_U4119[36])
                                {
                                    if ((NOT l_U4535[2]._fU4) AND (l_U4535[2]._fU20))
                                    {
                                        l_U4119[36] = 1;
                                        l_U4535[1]._fU28 = 1;
                                    }
                                }
                            }
                            if ((NOT l_U4535[2]._fU28) AND (l_U4535[2]._fU20))
                            {
                                if (l_U4535[2]._fU4)
                                {
                                    if ((NOT l_U4119[36]) || (NOT l_U4119[35]))
                                    {
                                        if (DOES_VEHICLE_EXIST( l_U4057[2] ))
                                        {
                                            if (IS_VEH_DRIVEABLE( l_U4057[2] ))
                                            {
                                                GET_CAR_COORDINATES( l_U4057[2], ref uVar24._fU0, ref uVar24._fU4, ref uVar24._fU8 );
                                            }
                                            else
                                            {
                                                GET_DEAD_CAR_COORDINATES( l_U4057[2], ref uVar24._fU0, ref uVar24._fU4, ref uVar24._fU8 );
                                            }
                                            if ((sub_54615( uVar8, uVar24, 1, 1 )) < 50.00000000)
                                            {
                                                if (l_U3892[1] != 0)
                                                {
                                                    if ((iVar5 - l_U3892[1]) > 1500)
                                                    {
                                                        if (NOT l_U4119[35])
                                                        {
                                                            sub_39077( "E2T3_CRAS1", 35, 6, "E2T3AUD", 0, 0 );
                                                            l_U4535[2]._fU28 = 1;
                                                        }
                                                        else
                                                        {
                                                            sub_39077( "E2T3_CRAS2", 36, 6, "E2T3AUD", 0, 0 );
                                                            l_U4535[2]._fU28 = 1;
                                                        }
                                                    }
                                                }
                                                else
                                                {
                                                    GET_GAME_TIMER( ref l_U3892[1] );
                                                }
                                            }
                                        }
                                    }
                                }
                                else if (NOT l_U4119[35])
                                {
                                    l_U4119[35] = 1;
                                    l_U4535[2]._fU28 = 1;
                                }
                                if (NOT l_U4119[36])
                                {
                                    if ((NOT l_U4535[1]._fU4) AND (l_U4535[1]._fU20))
                                    {
                                        l_U4119[36] = 1;
                                        l_U4535[2]._fU28 = 1;
                                    }
                                }
                            }
                            if (((l_U4535[2]._fU24) AND (l_U4535[1]._fU24)) || ((l_U4535[2]._fU28) AND (l_U4535[1]._fU28)))
                            {
                                if (NOT l_U4119[38])
                                {
                                    if ((NOT (sub_55034( l_U4204 ))) AND (NOT IS_MESSAGE_BEING_DISPLAYED()))
                                    {
                                        if ((NOT l_U3825) AND ((sub_54615( uVar8, -396.34050000, -457.96970000, 3.77010000, 1, 0 )) < 6000.00000000))
                                        {
                                            sub_39077( "E2T3_CLEAR", 38, 6, "E2T3AUD", 0, 0 );
                                        }
                                    }
                                }
                            }
                            if ((NOT l_U3825) AND ((sub_111064()) AND (NOT (sub_45643( 0 )))))
                            {
                                if (sub_129937() < 10000.00000000)
                                {
                                    if ((iVar5 - l_U3879) > 10000)
                                    {
                                        sub_39077( "E2T3_CHASE", 34, 6, "E2T3AUD", 1, 0 );
                                        GENERATE_RANDOM_INT_IN_RANGE( 0, 5000, ref iVar6 );
                                        GET_GAME_TIMER( ref l_U3879 );
                                        l_U3879 += iVar6;
                                    }
                                    if ((sub_54530( sub_6646(), l_U3983, 1, 0 )) < 1000.00000000)
                                    {
                                        if ((iVar5 - l_U3880) > 13000)
                                        {
                                            sub_39077( "E2T3_FOLRO", 81, 6, "E2T5BAU", 1, 0 );
                                            GENERATE_RANDOM_INT_IN_RANGE( 0, 5000, ref iVar6 );
                                            GET_GAME_TIMER( ref l_U3880 );
                                            l_U3880 += iVar6;
                                        }
                                    }
                                }
                                else if (NOT l_U4119[38])
                                {
                                    if ((iVar5 - l_U3879) > 10000)
                                    {
                                        iVar27 = 0;
                                        GENERATE_RANDOM_INT_IN_RANGE( 0, 4, ref l_U3871 );
                                        while ((iVar27 < 50) AND (l_U4214[l_U3871]))
                                        {
                                            GENERATE_RANDOM_INT_IN_RANGE( 0, 4, ref l_U3871 );
                                            iVar27++;
                                        }
                                        if (l_U3871 == 0)
                                        {
                                            sub_39077( "E2T3_CH1", 74, 6, "E2T5BAU", 0, 0 );
                                            l_U4214[0] = 1;
                                        }
                                        else if (l_U3871 == 1)
                                        {
                                            sub_39077( "E2T3_CH2", 75, 6, "E2T5BAU", 0, 0 );
                                            l_U4214[1] = 1;
                                        }
                                        else if (l_U3871 == 2)
                                        {
                                            sub_39077( "E2T3_CH3", 76, 6, "E2T5BAU", 0, 0 );
                                            l_U4214[2] = 1;
                                        }
                                        else if (l_U3871 == 3)
                                        {
                                            sub_39077( "E2T3_CH4", 77, 6, "E2T5BAU", 0, 0 );
                                            l_U4214[3] = 1;
                                        };;;;
                                        GENERATE_RANDOM_INT_IN_RANGE( 0, 5000, ref iVar6 );
                                        GET_GAME_TIMER( ref l_U3879 );
                                        l_U3879 += iVar6;
                                    }
                                }
                            }
                        }
                        if (l_U3723._fU0 != 0.00000000)
                        {
                            if ((IS_CHAR_SITTING_IN_CAR( sub_6646(), l_U4053 )) AND (LOCATE_CHAR_ANY_MEANS_3D( sub_6646(), l_U3723._fU0, l_U3723._fU4, l_U3723._fU8 + 2.50000000, 2.50000000, 2.50000000, 2.50000000, 1 )))
                            {
                                sub_7282();
                                CLEAR_PRINTS();
                                SET_PLAYER_CONTROL( sub_6741(), 0 );
                                l_U3809[6] = 0;
                                l_U4221 = 8;
                            }
                        }
                    }
                    else if (NOT (DOES_BLIP_EXIST( l_U3978 )))
                    {
                        sub_7282();
                        ADD_BLIP_FOR_CHAR( l_U3984, ref l_U3978 );
                        SET_BLIP_AS_FRIENDLY( l_U3978, 1 );
                        sub_21292( l_U3978 );
                        if ((NOT (IS_CHAR_GETTING_IN_TO_A_CAR( l_U3984 ))) AND (NOT l_U3809[5]))
                        {
                            CLEAR_PRINTS();
                            PRINT_NOW( "T3_WAIT", 7500, 0 );
                            l_U3809[5] = 1;
                        }
                    }
                }
                else if (NOT (DOES_BLIP_EXIST( l_U3980 )))
                {
                    sub_7282();
                    ADD_BLIP_FOR_CAR( l_U4053, ref l_U3980 );
                    SET_BLIP_AS_FRIENDLY( l_U3980, 1 );
                    sub_21292( l_U3980 );
                    if (NOT l_U3794)
                    {
                        PRINT_NOW( "T3_BUGGYB2", 7500, 0 );
                        l_U3794 = 1;
                    }
                }
            }
        }
        else if (NOT (DOES_BLIP_EXIST( l_U3978 )))
        {
            sub_7282();
            ADD_BLIP_FOR_CHAR( l_U3984, ref l_U3978 );
            SET_BLIP_AS_FRIENDLY( l_U3978, 1 );
            sub_21292( l_U3978 );
            if ((NOT (IS_CHAR_GETTING_IN_TO_A_CAR( l_U3984 ))) AND (NOT l_U3809[6]))
            {
                CLEAR_PRINTS();
                PRINT_NOW( "T3_T_LEAVE", 7500, 0 );
                l_U3809[6] = 1;
            }
        }
        if (fVar20 > 62500.00000000)
        {
            if (NOT l_U3824)
            {
                CLEAR_PRINTS();
                CLEAR_HELP();
                sub_7282();
                sub_11417( 1 );
                PRINT_NOW( "T3_T_LEFT", 7500, 0 );
                l_U4221 = 13;
                l_U4233 = 3;
                l_U3824 = 1;
            }
        }
    }
    I = 0;
    for ( I = 0; I < l_U4264; I++ )
    {
        if (NOT (IS_CHAR_INJURED( l_U4264[I]._fU0 )))
        {
            if (NOT (IS_PED_IN_COMBAT( l_U4264[I]._fU0 )))
            {
                TASK_COMBAT( l_U4264[I]._fU0, sub_6646() );
            }
        }
    }
    I = 0;
    for ( I = 0; I < l_U4365; I++ )
    {
        if (NOT (IS_CHAR_INJURED( l_U4365[I]._fU0 )))
        {
            if ((NOT (IS_CHAR_IN_ANY_CAR( l_U4365[I]._fU0 ))) AND (NOT (IS_PED_IN_COMBAT( l_U4365[I]._fU0 ))))
            {
                TASK_COMBAT( l_U4365[I]._fU0, sub_6646() );
            }
        }
    }
    I = 0;
    for ( I = 0; I < l_U4450; I++ )
    {
        if (NOT (IS_CHAR_INJURED( l_U4450[I]._fU0 )))
        {
            if ((NOT (IS_CHAR_IN_ANY_CAR( l_U4450[I]._fU0 ))) AND (NOT (IS_PED_IN_COMBAT( l_U4450[I]._fU0 ))))
            {
                TASK_COMBAT( l_U4450[I]._fU0, sub_6646() );
            }
        }
    }
    fVar28 = sub_54530( sub_6646(), l_U3983, 1, 1 );
    if (fVar28 > 300.00000000)
    {
        if (NOT l_U3824)
        {
            if (sub_47538( 1, 1 ))
            {
                CLEAR_PRINTS();
                CLEAR_HELP();
                sub_7282();
                sub_11417( 1 );
                PRINT_NOW( "T3_R_LOST", 7500, 0 );
                l_U4221 = 14;
                l_U4233 = 8;
                l_U3824 = 1;
            }
        }
    }
    return;
}

void sub_114733(unknown uParam0)
{
    if ((sub_114744( uParam0 )) > g_U43138[g_U43137]._fU12)
    {
        g_U43564 = 0;
    }
    else
    {
        g_U43564 = 1;
    }
    if (g_U43602 == 1)
    {
        g_U43613 = sub_115183();
        g_U43602 = 0;
    }
    if (g_U43133 == 1)
    {
        if (g_U43624 == 0)
        {
            if ((sub_114744( uParam0 )) < g_U43613)
            {
                g_U43577 = 1;
            }
            else
            {
                g_U43577 = 0;
            }
        }
        else
        {
            g_U43577 = 0;
        }
    }
    else
    {
        g_U43577 = 0;
    }
    if (g_U43137 == 4)
    {
        if ((FLOOR( (TO_FLOAT( sub_115781() )) / 1000 )) <= (FLOOR( (TO_FLOAT( g_U43138[g_U43137]._fU44 )) / 1000 )))
        {
            g_U43570 = 1;
        }
        else
        {
            g_U43570 = 0;
        }
        if (g_U43601 == 1)
        {
            g_U43615 = sub_116005();
            g_U43601 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if ((FLOOR( (TO_FLOAT( sub_115781() )) / 1000 )) < (FLOOR( (TO_FLOAT( g_U43615 )) / 1000 )))
                {
                    g_U43576 = 1;
                }
                else
                {
                    g_U43576 = 0;
                }
            }
            else
            {
                g_U43576 = 0;
            }
        }
        else
        {
            g_U43576 = 0;
        }
    }
    if (g_U43137 == 10)
    {
        if ((FLOOR( (TO_FLOAT( sub_115781() )) / 1000 )) <= (FLOOR( (TO_FLOAT( g_U43138[g_U43137]._fU44 )) / 1000 )))
        {
            g_U43570 = 1;
        }
        else
        {
            g_U43570 = 0;
        }
        if (g_U43601 == 1)
        {
            g_U43615 = sub_116005();
            g_U43601 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if ((FLOOR( (TO_FLOAT( sub_115781() )) / 1000 )) < (FLOOR( (TO_FLOAT( g_U43615 )) / 1000 )))
                {
                    g_U43576 = 1;
                }
                else
                {
                    g_U43576 = 0;
                }
            }
            else
            {
                g_U43576 = 0;
            }
        }
        else
        {
            g_U43576 = 0;
        }
    }
    if (g_U43137 == 7)
    {
        if ((FLOOR( (TO_FLOAT( sub_115781() )) / 1000 )) <= (FLOOR( (TO_FLOAT( g_U43138[g_U43137]._fU44 )) / 1000 )))
        {
            g_U43570 = 1;
        }
        else
        {
            g_U43570 = 0;
        }
        if (g_U43601 == 1)
        {
            g_U43615 = sub_116005();
            g_U43601 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if ((FLOOR( (TO_FLOAT( sub_115781() )) / 1000 )) < (FLOOR( (TO_FLOAT( g_U43615 )) / 1000 )))
                {
                    g_U43576 = 1;
                }
                else
                {
                    g_U43576 = 0;
                }
            }
            else
            {
                g_U43576 = 0;
            }
        }
        else
        {
            g_U43576 = 0;
        }
    }
    if ((sub_117112( uParam0 )) >= g_U43138[g_U43137]._fU24)
    {
        g_U43565 = 1;
    }
    else
    {
        g_U43565 = 0;
    }
    if (g_U43606 == 1)
    {
        g_U43618 = sub_117310();
        g_U43606 = 0;
    }
    if (g_U43133 == 1)
    {
        if (g_U43624 == 0)
        {
            if ((sub_117112( uParam0 )) > g_U43618)
            {
                g_U43581 = 1;
            }
            else
            {
                g_U43581 = 0;
            }
        }
        else
        {
            g_U43581 = 0;
        }
    }
    else
    {
        g_U43581 = 0;
    }
    return;
}

void sub_114744(unknown uParam0)
{
    if (g_U43499 == 1)
    {
        if (IS_VEH_DRIVEABLE( uParam0 ))
        {
            GET_CAR_HEALTH( uParam0, ref g_U43511 );
        }
        g_U43512 = g_U43510 - g_U43511;
        g_U43559 = ((TO_FLOAT( g_U43512 )) / (TO_FLOAT( g_U43510 ))) * 100;
    }
    g_U43559 = sub_114861( uParam0 );
    g_U43559 = TO_FLOAT( FLOOR( g_U43559 ) );
    if (g_U43559 < 0)
    {
        g_U43559 = 0;
    }
    return g_U43559;
}

float sub_114861(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    float Result;
    unknown uVar7;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_HEALTH( uParam0, ref uVar7 );
        uVar3 = sub_114907( 100, TO_FLOAT( uVar7 ) );
        uVar4 = GET_PETROL_TANK_HEALTH( uParam0 );
        uVar5 = GET_ENGINE_HEALTH( uParam0 );
        Result = sub_114971( uVar3, sub_114971( uVar4, uVar5 ) );
        Result /= 10.00000000;
        Result = 100 - Result;
        return Result;
    }
    return 100.00000000;
}

void sub_114907(float Result, float fParam1)
{
    if (fParam1 < Result)
    {
        return Result;
    }
    return fParam1;
}

void sub_114971(float Result, float fParam1)
{
    if (Result < fParam1)
    {
        return Result;
    }
    return fParam1;
}

int sub_115183()
{
    if (g_U43137 == 0)
    {
        return GET_INT_STAT( 476 );
    }
    if (g_U43137 == 1)
    {
        ;
    }
    if (g_U43137 == 2)
    {
        ;
    }
    if (g_U43137 == 3)
    {
        return GET_INT_STAT( 490 );
    }
    if (g_U43137 == 21)
    {
        ;
    }
    if (g_U43137 == 15)
    {
        ;
    }
    if (g_U43137 == 16)
    {
        ;
    }
    if (g_U43137 == 17)
    {
        return GET_INT_STAT( 559 );
    }
    if (g_U43137 == 12)
    {
        return GET_INT_STAT( 526 );
    }
    if (g_U43137 == 13)
    {
        ;
    }
    if (g_U43137 == 19)
    {
        ;
    }
    if (g_U43137 == 20)
    {
        ;
    }
    if (g_U43137 == 5)
    {
        ;
    }
    if (g_U43137 == 4)
    {
        ;
    }
    if (g_U43137 == 6)
    {
        ;
    }
    if (g_U43137 == 7)
    {
        ;
    }
    if (g_U43137 == 8)
    {
        return GET_INT_STAT( 513 );
    }
    if (g_U43137 == 9)
    {
        return GET_INT_STAT( 611 );
    }
    if (g_U43137 == 14)
    {
        return GET_INT_STAT( 540 );
    }
    if (g_U43137 == 22)
    {
        ;
    }
    if (g_U43137 == 23)
    {
        ;
    }
    if (g_U43137 == 24)
    {
        ;
    }
    if (g_U43137 == 18)
    {
        ;
    }
    if (g_U43137 == 10)
    {
        ;
    }
    if (g_U43137 == 25)
    {
        ;
    }
    if (g_U43137 == 11)
    {
        ;
    }
    return 0;
}

void sub_115781()
{
    if (g_U43497 == 1)
    {
        GET_GAME_TIMER( ref g_U43505 );
        g_U43506 = g_U43505 - g_U43504;
    }
    if (g_U43506 > 18000000)
    {
        g_U43506 = 18000000;
    }
    if (g_U43506 < 0)
    {
        g_U43506 = 0;
    }
    return g_U43506;
}

int sub_116005()
{
    if (g_U43137 == 0)
    {
        ;
    }
    if (g_U43137 == 1)
    {
        ;
    }
    if (g_U43137 == 2)
    {
        ;
    }
    if (g_U43137 == 3)
    {
        ;
    }
    if (g_U43137 == 21)
    {
        ;
    }
    if (g_U43137 == 15)
    {
        ;
    }
    if (g_U43137 == 16)
    {
        ;
    }
    if (g_U43137 == 17)
    {
        ;
    }
    if (g_U43137 == 12)
    {
        ;
    }
    if (g_U43137 == 13)
    {
        ;
    }
    if (g_U43137 == 19)
    {
        ;
    }
    if (g_U43137 == 20)
    {
        ;
    }
    if (g_U43137 == 5)
    {
        ;
    }
    if (g_U43137 == 4)
    {
        return GET_INT_STAT( 499 );
    }
    if (g_U43137 == 6)
    {
        ;
    }
    if (g_U43137 == 7)
    {
        return GET_INT_STAT( 508 );
    }
    if (g_U43137 == 8)
    {
        ;
    }
    if (g_U43137 == 9)
    {
        ;
    }
    if (g_U43137 == 14)
    {
        ;
    }
    if (g_U43137 == 22)
    {
        ;
    }
    if (g_U43137 == 23)
    {
        ;
    }
    if (g_U43137 == 24)
    {
        ;
    }
    if (g_U43137 == 18)
    {
        ;
    }
    if (g_U43137 == 10)
    {
        return GET_INT_STAT( 517 );
    }
    if (g_U43137 == 25)
    {
        ;
    }
    if (g_U43137 == 11)
    {
        ;
    }
    return 0;
}

void sub_117112(unknown uParam0)
{
    float fVar3;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_SPEED( uParam0, ref fVar3 );
        fVar3 = (fVar3 * 2.23693600) * 1.30000000;
        if (fVar3 > g_U43558)
        {
            g_U43558 = fVar3;
            g_U43558 = (g_U43558 * 2.23693600) * 1.30000000;
        }
    }
    if (g_U43558 < 0)
    {
        g_U43558 = 0;
    }
    return g_U43558;
}

int sub_117310()
{
    if (g_U43137 == 0)
    {
        ;
    }
    if (g_U43137 == 1)
    {
        ;
    }
    if (g_U43137 == 2)
    {
        ;
    }
    if (g_U43137 == 3)
    {
        ;
    }
    if (g_U43137 == 21)
    {
        ;
    }
    if (g_U43137 == 15)
    {
        ;
    }
    if (g_U43137 == 16)
    {
        ;
    }
    if (g_U43137 == 17)
    {
        ;
    }
    if (g_U43137 == 12)
    {
        return sub_117455( GET_INT_STAT( 530 ) );
    }
    if (g_U43137 == 13)
    {
        ;
    }
    if (g_U43137 == 19)
    {
        ;
    }
    if (g_U43137 == 20)
    {
        ;
    }
    if (g_U43137 == 5)
    {
        ;
    }
    if (g_U43137 == 4)
    {
        ;
    }
    if (g_U43137 == 6)
    {
        ;
    }
    if (g_U43137 == 7)
    {
        ;
    }
    if (g_U43137 == 8)
    {
        ;
    }
    if (g_U43137 == 9)
    {
        ;
    }
    if (g_U43137 == 14)
    {
        return sub_117455( GET_INT_STAT( 539 ) );
    }
    if (g_U43137 == 22)
    {
        ;
    }
    if (g_U43137 == 23)
    {
        ;
    }
    if (g_U43137 == 24)
    {
        ;
    }
    if (g_U43137 == 18)
    {
        ;
    }
    if (g_U43137 == 10)
    {
        ;
    }
    if (g_U43137 == 25)
    {
        ;
    }
    if (g_U43137 == 11)
    {
        ;
    }
    return 0;
}

int sub_117455(int iParam0)
{
    return iParam0 / 1670;
}

int sub_117915(unknown uParam0)
{
    if (DOES_VEHICLE_EXIST( uParam0 ))
    {
        if ((NOT (CHECK_STUCK_TIMER( uParam0, 1, 40000 ))) AND ((NOT (CHECK_STUCK_TIMER( uParam0, 2, 30000 ))) AND ((NOT (CHECK_STUCK_TIMER( uParam0, 3, 60000 ))) AND ((NOT (CHECK_STUCK_TIMER( uParam0, 0, 5000 ))) AND (IS_VEH_DRIVEABLE( uParam0 ))))))
        {
            return 1;
        }
    }
    return 0;
}

void sub_118119()
{
    int iVar2;
    unknown uVar3;
    float fVar4;
    int iVar5;
    int I;
    float fVar7;

    if ((IS_VEH_DRIVEABLE( l_U4053 )) AND (NOT (IS_CHAR_INJURED( l_U3984 ))))
    {
        if (IS_CHAR_IN_CAR( l_U3984, l_U4053 ))
        {
            GET_SCRIPT_TASK_STATUS( l_U3984, 52, ref iVar2 );
            fVar4 = 0.00000000;
            I = 0;
            for ( I = 0; I < l_U4365; I++ )
            {
                if (NOT (IS_CHAR_INJURED( l_U4365[I]._fU0 )))
                {
                    fVar7 = sub_54530( l_U4365[I]._fU0, l_U3984, 1, 0 );
                    if (fVar7 < 6400.00000000)
                    {
                        if ((fVar7 < fVar4) || (fVar4 == 0.00000000))
                        {
                            uVar3 = l_U4365[I]._fU0;
                            fVar4 = fVar7;
                        }
                    }
                }
                if (NOT (IS_CHAR_INJURED( l_U4450[I]._fU0 )))
                {
                    fVar7 = sub_54530( l_U4450[I]._fU0, l_U3984, 1, 0 );
                    if (fVar7 < 6400.00000000)
                    {
                        if ((fVar7 < fVar4) || (fVar4 == 0.00000000))
                        {
                            uVar3 = l_U4450[I]._fU0;
                            fVar4 = fVar7;
                        }
                    }
                }
            }
            if (NOT (IS_CHAR_INJURED( uVar3 )))
            {
                l_U3886 = 0;
                if (iVar2 != 1)
                {
                    TASK_DRIVE_BY( l_U3984, uVar3, 0, 0.00000000, 0.00000000, 0.00000000, 80.00000000, 8, 1, 50 );
                }
            }
            else if (l_U3886 == 0)
            {
                GET_GAME_TIMER( ref l_U3886 );
            }
            else
            {
                GET_GAME_TIMER( ref iVar5 );
                if ((iVar5 - l_U3886) > 2000)
                {
                    CLEAR_CHAR_TASKS( l_U3984 );
                }
            }
        }
    }
    return;
}

void sub_118781(unknown uParam0, unknown uParam1, unknown uParam2, float fParam3, float fParam4, float fParam5, float fParam6, unknown uParam7, float fParam8, unknown uParam9, boolean bParam10)
{
    float fVar13;
    float fVar14;
    float fVar15;
    float fVar16;
    float fVar17;
    float fVar18;
    float fVar19;
    float fVar20;
    float fVar21;
    unknown uVar22;
    unknown uVar23;

    if (l_U52 == 0)
    {
        if ((uParam2^) < fParam3)
        {
            (uParam2^) = fParam3;
            l_U52 = 1;
        }
    }
    if (fParam4 < 0.00000000)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist = " );
        PRINTFLOAT( fParam4 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist cannot be less than zero." );
    }
    if (fParam4 >= fParam5)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist = " );
        PRINTFLOAT( fParam4 );
        PRINTSTRING( ", fIdealDist = " );
        PRINTFLOAT( fParam5 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist must be less than fIdealDist" );
    }
    if (fParam4 >= fParam6)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist = " );
        PRINTFLOAT( fParam4 );
        PRINTSTRING( ", fSlowDownDist = " );
        PRINTFLOAT( fParam6 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist must be less than fSlowDownDist" );
    }
    if (fParam5 < 0.00000000)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fIdealDist = " );
        PRINTFLOAT( fParam5 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fIdealDist cannot be less than zero." );
    }
    if (fParam5 >= fParam6)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fIdealDist = " );
        PRINTFLOAT( fParam5 );
        PRINTSTRING( ", fSlowDownDist = " );
        PRINTFLOAT( fParam6 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fIdealDist must be less than fSlowDownDist" );
    }
    if (fParam6 < 0.00000000)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fSlowDownDist = " );
        PRINTFLOAT( fParam6 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fSlowDownDist cannot be less than zero." );
    }
    if (fParam8 < 0.00000000)
    {
        fParam8 = l_U1223;
    }
    fVar13 = fParam3 * uParam7;
    if (NOT (fVar13 > fParam3))
    {
        fVar13 = fParam3 + 0.10000000;
    }
    fVar18 = fParam3 * uParam9;
    fVar19 = ((fParam6 - fParam5) * 0.40000000) + fParam5;
    fVar15 = sub_120119( uParam0, uParam1 );
    if (fVar15 < 0.00000000)
    {
        fVar15 *= -1.00000000;
    }
    fVar16 = fVar15;
    if (fVar16 < fParam4)
    {
        fVar16 = fParam4;
    }
    if (fVar16 > fVar19)
    {
        fVar16 = fVar19;
    }
    fVar17 = fParam3;
    if (DOES_CHAR_EXIST( uParam1 ))
    {
        if (NOT (IS_CHAR_DEAD( uParam1 )))
        {
            if (sub_78985( uParam1, uParam0 ))
            {
                if (IS_CHAR_IN_ANY_CAR( uParam1 ))
                {
                    fVar17 = fVar13;
                }
                else if (fVar15 < 50.00000000)
                {
                    fVar17 = fParam3;
                }
                else
                {
                    fVar17 = fVar13;
                }
            }
            else if (fVar15 < fParam5)
            {
                if ((sub_120531( uParam0, uParam1 )) < fParam5)
                {
                    fVar14 = sub_120664( uParam0, uParam1 );
                    fVar14 += -15.00000000;
                    if (fVar14 < 0.00000000)
                    {
                        fVar14 = 0.00000000;
                    }
                    if (fVar14 > 75.00000000)
                    {
                        fVar14 = 75.00000000;
                    }
                    fVar20 = (75.00000000 - fVar14) / 75.00000000;
                }
                else
                {
                    fVar20 = 1.00000000;
                }
                fVar17 = (((((fParam5 - fParam4) - (fVar16 - fParam4)) / (fParam5 - fParam4)) * (fVar13 - fParam3)) * fVar20) + fParam3;
            }
            else if (fVar15 > fParam6)
            {
                fVar17 = fVar18;
                l_U53 = 1;
            }
            else if (l_U53)
            {
                if (fVar15 < fVar19)
                {
                    fVar17 = fParam3;
                    l_U53 = 0;
                }
                else
                {
                    fVar17 = fVar18;
                }
            }
            else
            {
                fVar17 = fParam3;
            };;;;
        }
    }
    fVar14 = fVar17 - (uParam2^);
    if (fVar14 > 0.00000000)
    {
        GET_FRAME_TIME( ref fVar14 );
        fVar21 = (l_U1228 * fParam3) * fVar14;
        fVar14 = fVar17 - (uParam2^);
        if (fVar14 > fVar21)
        {
            fVar14 = fVar21;
        }
        (uParam2^) += fVar14;
    }
    else
    {
        GET_FRAME_TIME( ref fVar14 );
        fVar21 = (l_U1229 * fParam3) * fVar14;
        fVar14 = fVar17 - (uParam2^);
        if (fVar14 < (fVar21 * -1.00000000))
        {
            fVar14 = fVar21 * -1.00000000;
        }
        (uParam2^) += fVar14;
    }
    if (bParam10)
    {
        if (NOT (IS_CHAR_INJURED( uParam1 )))
        {
            if (IS_CHAR_IN_ANY_CAR( uParam1 ))
            {
                STORE_CAR_CHAR_IS_IN_NO_SAVE( uParam1, ref uVar22 );
                if (DOES_VEHICLE_EXIST( uVar22 ))
                {
                    if (NOT (IS_CAR_DEAD( uVar22 )))
                    {
                        GET_CAR_MODEL( uVar22, ref uVar23 );
                        if ((IS_THIS_MODEL_A_BIKE( uVar23 )) || (IS_THIS_MODEL_A_CAR( uVar23 )))
                        {
                            if (IS_VEH_DRIVEABLE( uVar22 ))
                            {
                                fVar14 = fVar17;
                                if (fVar14 < fParam3)
                                {
                                    fVar14 = fParam3;
                                }
                                fVar14 -= fParam3;
                                fVar14 /= fVar13 - fParam3;
                                fVar14 *= fParam8;
                                fVar14 *= l_U1221 - l_U1222;
                                fVar14 += l_U1222;
                                l_U1220 = fVar14;
                                if (l_U1220 < l_U1222)
                                {
                                    l_U1220 = l_U1222;
                                }
                                if (l_U1220 > l_U1221)
                                {
                                    l_U1220 = l_U1221;
                                }
                                FORCE_AIR_DRAG_MULT_FOR_PLAYERS_CAR( sub_6741(), l_U1220 );
                            }
                        }
                    }
                }
            }
        }
    }
    return;
}

float sub_120119(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    vector vVar10;
    vector vVar13;
    float fVar16;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_FORWARD_X( uParam0, ref uVar4._fU0 );
        GET_CAR_FORWARD_Y( uParam0, ref uVar4._fU4 );
        GET_CAR_COORDINATES( uParam0, ref vVar10.x, ref vVar10.y, ref vVar10.z );
    }
    if (NOT (IS_CHAR_DEAD( uParam1 )))
    {
        GET_CHAR_COORDINATES( uParam1, ref vVar13.x, ref vVar13.y, ref vVar13.z );
    }
    uVar7 = {vVar13 - vVar10};
    GET_ANGLE_BETWEEN_2D_VECTORS( uVar7._fU0, uVar7._fU4, uVar4._fU0, uVar4._fU4, ref fVar16 );
    fVar16 += -90.00000000;
    if (fVar16 < 0.00000000)
    {
        fVar16 *= -1.00000000;
    }
    uVar7._fU8 = 0.00000000;
    return (VMAG( uVar7 )) * (SIN( fVar16 ));
}

void sub_120531(unknown uParam0, unknown uParam1)
{
    vector vVar4;
    vector vVar7;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown Result;

    if (NOT (IS_CAR_DEAD( uParam0 )))
    {
        GET_CAR_COORDINATES( uParam0, ref vVar4.x, ref vVar4.y, ref vVar4.z );
    }
    if (NOT (IS_CHAR_DEAD( uParam1 )))
    {
        GET_CHAR_COORDINATES( uParam1, ref vVar7.x, ref vVar7.y, ref vVar7.z );
    }
    uVar10 = {vVar7 - vVar4};
    uVar10._fU8 = 0.00000000;
    Result = VMAG( uVar10 );
    return Result;
}

void sub_120664(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    vector vVar7;
    vector vVar10;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown Result;
    unknown uVar17;

    if (NOT (IS_CAR_DEAD( uParam0 )))
    {
        GET_CAR_FORWARD_X( uParam0, ref uVar4._fU0 );
        GET_CAR_FORWARD_Y( uParam0, ref uVar4._fU4 );
    }
    if (NOT (IS_CHAR_DEAD( uParam1 )))
    {
        GET_CHAR_COORDINATES( uParam1, ref vVar7.x, ref vVar7.y, ref vVar7.z );
        if (IS_CHAR_IN_ANY_CAR( uParam1 ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( uParam1, ref uVar17 );
            GET_CAR_FORWARD_X( uVar17, ref uVar13._fU0 );
            GET_CAR_FORWARD_Y( uVar17, ref uVar13._fU4 );
        }
        else
        {
            GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( uParam1, 0.00000000, 5.00000000, 0.00000000, ref vVar10.x, ref vVar10.y, ref vVar10.z );
            uVar13 = {vVar10 - vVar7};
        }
    }
    GET_ANGLE_BETWEEN_2D_VECTORS( uVar4._fU0, uVar4._fU4, uVar13._fU0, uVar13._fU4, ref Result );
    return Result;
}

void sub_121726(unknown uParam0)
{
    int iVar3;
    int iVar4;

    if (l_U3035)
    {
        PRINTNL();
        PRINTSTRING( "**** CALLED CONTROL_CHASE_HINT_CAM()" );
    }
    GET_FOLLOW_VEHICLE_CAM_SUBMODE( ref iVar3 );
    if ((IS_HINT_RUNNING()) AND (l_U3033))
    {
        iVar4 = 0;
        GET_GAME_TIMER( ref iVar4 );
        if (iVar4 > (l_U3034 + 500))
        {
            l_U3033 = 0;
        }
    }
    if ((iVar3 != 4) AND ((NOT sub_121894()) AND ((NOT (IS_CHAR_DEAD( (uParam0^) ))) AND ((IS_CHAR_IN_ANY_CAR( sub_6646() )) AND (IS_CONTROL_PRESSED( 0, 51 ))))))
    {
        if ((IS_CHAR_IN_ANY_CAR( (uParam0^) )) AND (NOT IS_HINT_RUNNING()))
        {
            if (l_U3035)
            {
                PRINTNL();
                PRINTSTRING( "**** LAUNCHING THE HINT_CAM" );
            }
            SET_CINEMATIC_BUTTON_ENABLED( 0 );
            HINT_CAM( 0.00000000, 0.00000000, 0.00000000, (uParam0^), 0, 0, 999999 );
            SET_HINT_TIMES( 500, 0, 0 );
            SET_HINT_FOV( 45.00000000 );
            GET_GAME_TIMER( ref l_U3034 );
            l_U3033 = 1;
            l_U3032 = 0;
        }
    }
    else if (IS_HINT_RUNNING())
    {
        if ((NOT l_U3033) AND (NOT l_U3032))
        {
            if (l_U3035)
            {
                PRINTNL();
                PRINTSTRING( "**** INTERP HINT_CAM BACK" );
            }
            HINT_CAM( 0.00000000, 0.00000000, 0.00000000, 0, 0, 0, 0 );
            HINT_CAM( 0.00000000, 0.00000000, 0.00000000, (uParam0^), 0, 0, 500 );
            SET_HINT_TIMES( 0, 0, 500 );
            SET_HINT_FOV( 45.00000000 );
            l_U3032 = 1;
        }
    }
    else if (l_U3032)
    {
        if (l_U3035)
        {
            PRINTNL();
            PRINTSTRING( "**** DONE INTERP, RESETTING HINT_CAM VARIABLES" );
        }
        SET_CINEMATIC_BUTTON_ENABLED( 1 );
        SET_HINT_TIMES_DEFAULT();
        SET_HINT_FOV( -1 );
        l_U3032 = 0;
    };;;
    return;
}

int sub_121894()
{
    if (g_U560 == 9)
    {
        return 0;
    }
    return 1;
}

void sub_122700(unknown uParam0)
{
    int Result;
    int I;

    Result = 0;
    I = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
        if (NOT (IS_CHAR_INJURED( (uParam0^)[I]._fU0 )))
        {
            if (IS_CHAR_ON_SCREEN( (uParam0^)[I]._fU0 ))
            {
                Result = 1;
            }
        }
    }
    return Result;
}

void sub_123311()
{
    unknown uVar2;
    int[3] iVar3;
    int I;

    array(ref iVar3, 3);
    I = 0;
    for ( I = 0; I < l_U4057; I++ )
    {
        if (IS_VEH_DRIVEABLE( l_U4057[I] ))
        {
            iVar3[I] = 1;
        }
    }
    if ((NOT iVar3[2]) AND ((iVar3[1]) AND (iVar3[0])))
    {
        uVar2 = l_U4057[0];
        l_U4057[0] = l_U4057[2];
        l_U4057[2] = uVar2;
        l_U4535[2]._fU8 += 2000.00000000;
        l_U4535[2]._fU32 = 1;
    }
    else if ((NOT iVar3[2]) AND ((NOT iVar3[1]) AND (iVar3[0])))
    {
        uVar2 = l_U4057[0];
        l_U4057[0] = l_U4057[1];
        l_U4057[1] = uVar2;
        l_U4535[1]._fU8 += 2000.00000000;
        l_U4535[1]._fU32 = 1;
    }
    else if ((iVar3[2]) AND ((NOT iVar3[1]) AND (iVar3[0])))
    {
        uVar2 = l_U4057[0];
        l_U4057[0] = l_U4057[1];
        l_U4057[1] = uVar2;
        l_U4535[1]._fU8 += 2000.00000000;
        l_U4535[1]._fU32 = 1;
    }
    else if ((iVar3[2]) AND ((NOT iVar3[1]) AND (NOT iVar3[0])))
    {
        uVar2 = l_U4057[2];
        l_U4057[2] = l_U4057[1];
        l_U4057[1] = uVar2;
        l_U4535[1]._fU8 += 2000.00000000;
        l_U4535[1]._fU32 = 1;
    };;;;
    return;
}

void sub_124077(int iParam0)
{
    int Result;
    int I;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    int iVar8;

    Result = 0;
    I = 0;
    if (IS_VEH_DRIVEABLE( l_U4057[iParam0] ))
    {
        sub_124122( l_U4057[iParam0] );
        for ( I = iParam0 * 4; I <= (((iParam0 + 1) * 4) - 1); I++ )
        {
            if (NOT (IS_CHAR_INJURED( l_U4365[I]._fU0 )))
            {
                CLEAR_CHAR_TASKS_IMMEDIATELY( l_U4365[I]._fU0 );
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U4365[I]._fU0, 1 );
                SET_CHAR_ACCURACY( l_U4365[I]._fU0, 10 );
                if (IS_CHAR_IN_ANY_CAR( l_U4365[I]._fU0 ))
                {
                    GET_CHAR_COORDINATES( l_U4365[I]._fU0, ref uVar5._fU0, ref uVar5._fU4, ref uVar5._fU8 );
                    WARP_CHAR_FROM_CAR_TO_COORD( l_U4365[I]._fU0, uVar5._fU0, uVar5._fU4, uVar5._fU8 + 10.00000000 );
                }
                if (Result == 0)
                {
                    sub_18975( l_U4057[iParam0] );
                    WARP_CHAR_INTO_CAR( l_U4365[I]._fU0, l_U4057[iParam0] );
                }
                else
                {
                    WARP_CHAR_INTO_CAR_AS_PASSENGER( l_U4365[I]._fU0, l_U4057[iParam0], -1 );
                    if (Result == 1)
                    {
                        if (NOT (IS_CHAR_INJURED( l_U3983 )))
                        {
                            TASK_DRIVE_BY( l_U4365[I]._fU0, l_U3983, 0, 0.00000000, 0.00000000, 0.00000000, 200.00000000, 8, 0, 10 );
                        }
                    }
                    else
                    {
                        TASK_DRIVE_BY( l_U4365[I]._fU0, sub_6646(), 0, 0.00000000, 0.00000000, 0.00000000, 200.00000000, 8, 0, 10 );
                    }
                }
                l_U4365[I]._fU20 = 0;
                Result++;
            }
            else if (NOT l_U4535[iParam0]._fU4)
            {
                if (Result == 0)
                {
                    sub_18975( l_U4057[iParam0] );
                    CREATE_CHAR_INSIDE_CAR( l_U4057[iParam0], 26, 64730935, ref l_U4450[I]._fU0 );
                }
                else
                {
                    CREATE_CHAR_AS_PASSENGER( l_U4057[iParam0], 26, 64730935, -1, ref l_U4450[I]._fU0 );
                    if (Result == 1)
                    {
                        if (NOT (IS_CHAR_INJURED( l_U3983 )))
                        {
                            TASK_DRIVE_BY( l_U4450[I]._fU0, l_U3983, 0, 0.00000000, 0.00000000, 0.00000000, 200.00000000, 8, 0, 10 );
                        }
                    }
                    else
                    {
                        TASK_DRIVE_BY( l_U4450[I]._fU0, sub_6646(), 0, 0.00000000, 0.00000000, 0.00000000, 200.00000000, 8, 0, 10 );
                    }
                }
                GENERATE_RANDOM_INT_IN_RANGE( 100, 300, ref iVar8 );
                l_U4450[I]._fU8 = 1;
                l_U4450[I]._fU20 = 0;
                l_U4450[I]._fU24 = (Result * 200) + iVar8;
                SET_CHAR_HEALTH( l_U4450[I]._fU0, 200 );
                GIVE_WEAPON_TO_CHAR( l_U4450[I]._fU0, 12, 30000, 0 );
                SET_CHAR_AS_ENEMY( l_U4450[I]._fU0, 1 );
                SET_CHAR_RELATIONSHIP_GROUP( l_U4450[I]._fU0, 23 );
                SET_CHAR_RELATIONSHIP( l_U4450[I]._fU0, 1, 23 );
                SET_CHAR_RELATIONSHIP( l_U4450[I]._fU0, 5, 0 );
                SET_CHAR_DECISION_MAKER( l_U4450[I]._fU0, l_U4082 );
                SET_COMBAT_DECISION_MAKER( l_U4450[I]._fU0, l_U4075 );
                SET_CHAR_ACCURACY( l_U4450[I]._fU0, 10 );
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U4450[I]._fU0, 1 );
                Result++;
            }
            else if (NOT (IS_CHAR_INJURED( l_U4450[I]._fU0 )))
            {
                CLEAR_CHAR_TASKS_IMMEDIATELY( l_U4450[I]._fU0 );
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U4450[I]._fU0, 1 );
                SET_CHAR_ACCURACY( l_U4450[I]._fU0, 10 );
                if (IS_CHAR_IN_ANY_CAR( l_U4450[I]._fU0 ))
                {
                    GET_CHAR_COORDINATES( l_U4450[I]._fU0, ref uVar5._fU0, ref uVar5._fU4, ref uVar5._fU8 );
                    WARP_CHAR_FROM_CAR_TO_COORD( l_U4450[I]._fU0, uVar5._fU0, uVar5._fU4, uVar5._fU8 + 10.00000000 );
                }
                if (Result == 0)
                {
                    sub_18975( l_U4057[iParam0] );
                    WARP_CHAR_INTO_CAR( l_U4450[I]._fU0, l_U4057[iParam0] );
                }
                else
                {
                    WARP_CHAR_INTO_CAR_AS_PASSENGER( l_U4450[I]._fU0, l_U4057[iParam0], -1 );
                    if (Result == 1)
                    {
                        if (NOT (IS_CHAR_INJURED( l_U3983 )))
                        {
                            TASK_DRIVE_BY( l_U4450[I]._fU0, l_U3983, 0, 0.00000000, 0.00000000, 0.00000000, 200.00000000, 8, 0, 10 );
                        }
                    }
                    else
                    {
                        TASK_DRIVE_BY( l_U4450[I]._fU0, sub_6646(), 0, 0.00000000, 0.00000000, 0.00000000, 200.00000000, 8, 0, 10 );
                    }
                }
                l_U4450[I]._fU20 = 0;
                Result++;
            };;;
        }
    }
    return Result;
}

void sub_124122(unknown uParam0)
{
    int iVar3;
    unknown uVar4;
    int I;

    GET_MAXIMUM_NUMBER_OF_PASSENGERS( uParam0, ref iVar3 );
    GET_DRIVER_OF_CAR( uParam0, ref uVar4 );
    if ((IS_CHAR_INJURED( uVar4 )) AND (DOES_CHAR_EXIST( uVar4 )))
    {
        DELETE_CHAR( ref uVar4 );
    }
    for ( I = 0; I < iVar3; I++ )
    {
        if (NOT (IS_CAR_PASSENGER_SEAT_FREE( uParam0, I )))
        {
            GET_CHAR_IN_CAR_PASSENGER_SEAT( uParam0, I, ref uVar4 );
            if (IS_CHAR_INJURED( uVar4 ))
            {
                DELETE_CHAR( ref uVar4 );
            }
        }
    }
    return;
}

void sub_126252(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    float fVar5;
    unknown uVar6;
    float fVar7;
    float fVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    boolean bVar12;
    float fVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;

    if (IS_VEH_DRIVEABLE( l_U4057[uParam0] ))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U4057[uParam0] ))
        {
            uVar6 = FIND_TIME_POSITION_IN_RECORDING( l_U4057[uParam0] );
            fVar7 = uParam1 - l_U4535[uParam0]._fU8;
            fVar8 = l_U3928;
            if ((fVar7 - uVar6) > 25.00000000)
            {
                if (NOT l_U3803)
                {
                    fVar8 += 0.10000000;
                }
                else
                {
                    fVar8 += 0.30000000;
                }
            }
            PRINTFLOAT( uVar6 );
            PRINTINT( uParam0 );
            PRINTNL();
            SET_PLAYBACK_SPEED( l_U4057[uParam0], fVar8 );
            sub_78604( l_U4057[uParam0], fVar8 );
            if ((sub_126476( ref l_U4057[uParam0] )) AND (NOT l_U3803))
            {
                if (NOT l_U4535[1]._fU16)
                {
                    if (IS_VEH_DRIVEABLE( l_U4057[1] ))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U4057[1] ))
                        {
                            sub_84521( l_U4057[1] );
                            l_U4535[1]._fU16 = 1;
                        }
                    }
                }
                if (NOT l_U4535[2]._fU16)
                {
                    if (IS_VEH_DRIVEABLE( l_U4057[2] ))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U4057[2] ))
                        {
                            sub_84521( l_U4057[2] );
                            l_U4535[2]._fU16 = 1;
                        }
                    }
                }
                if (fVar8 > 0.60000000)
                {
                    fVar8 = 0.60000000;
                }
            }
            if (NOT l_U4535[uParam0]._fU20)
            {
                GET_CAR_COORDINATES( l_U4057[uParam0], ref uVar9._fU0, ref uVar9._fU4, ref uVar9._fU8 );
                if ((sub_54615( uVar9, l_U4535[uParam0]._fU40, 1, 0 )) < 9.00000000)
                {
                    PLAY_AUDIO_EVENT_FROM_VEHICLE( "MAIN_METAL_COLLISIONS_COLLISIONS", l_U4057[uParam0] );
                    SET_ENGINE_HEALTH( l_U4057[uParam0], -100.00000000 );
                    l_U4535[uParam0]._fU20 = 1;
                }
            }
            GET_DRIVER_OF_CAR( l_U4057[uParam0], ref uVar4 );
            if (DOES_CHAR_EXIST( uVar4 ))
            {
                if (l_U3803)
                {
                    SET_CHAR_INVINCIBLE( uVar4, 0 );
                }
                if (IS_CHAR_INJURED( uVar4 ))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U4057[uParam0] );
                    l_U4535[uParam0]._fU16 = 1;
                }
            }
            l_U4535[uParam0]._fU36 = uVar6;
        }
        else
        {
            l_U4535[uParam0]._fU16 = 1;
        }
        if ((NOT l_U4535[uParam0]._fU24) AND ((NOT l_U4535[uParam0]._fU20) AND (l_U4535[uParam0]._fU16)))
        {
            if ((NOT (HAS_CAR_RECORDING_BEEN_LOADED( l_U4535[2]._fU0 ))) || (NOT (HAS_CAR_RECORDING_BEEN_LOADED( l_U4535[1]._fU0 ))))
            {
                REQUEST_CAR_RECORDING( l_U4535[1]._fU0 );
                REQUEST_CAR_RECORDING( l_U4535[2]._fU0 );
            }
            else if (sub_127271( ref l_U4057[1] ))
            {
                if ((sub_124077( 1 )) > 0)
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U4057[1] );
                    sub_20313( ref l_U4057[1], l_U4535[1]._fU0, l_U4535[1]._fU36, 1, 0, 0 );
                    l_U4535[1]._fU16 = 0;
                }
                else
                {
                    l_U4535[1]._fU24 = 1;
                }
            }
            if (IS_VEH_DRIVEABLE( l_U4057[2] ))
            {
                if (sub_127271( ref l_U4057[2] ))
                {
                    if (NOT l_U4535[1]._fU16)
                    {
                        if ((sub_124077( 2 )) > 0)
                        {
                            STOP_PLAYBACK_RECORDED_CAR( l_U4057[2] );
                            fVar5 = l_U4535[1]._fU36 - 2000.00000000;
                            if (fVar5 < 0.00000000)
                            {
                                fVar5 = 0.00000000;
                            }
                            sub_20313( ref l_U4057[2], l_U4535[2]._fU0, l_U4535[2]._fU36, 1, 0, 0 );
                            l_U4535[2]._fU16 = 0;
                        }
                        else
                        {
                            l_U4535[2]._fU24 = 1;
                        }
                    }
                    else if (l_U4535[1]._fU20)
                    {
                        if ((sub_124077( 2 )) > 0)
                        {
                            STOP_PLAYBACK_RECORDED_CAR( l_U4057[2] );
                            fVar5 = l_U4535[1]._fU36 + 1000.00000000;
                            if (fVar5 < 0.00000000)
                            {
                                fVar5 = 0.00000000;
                            }
                            sub_20313( ref l_U4057[2], l_U4535[2]._fU0, l_U4535[2]._fU36, 1, 0, 0 );
                            l_U4535[2]._fU16 = 0;
                        }
                        else
                        {
                            l_U4535[2]._fU24 = 1;
                        }
                    }
                }
            }
        }
    }
    else
    {
        l_U4535[uParam0]._fU20 = 1;
    }
    bVar12 = false;
    if ((l_U4535[uParam0]._fU16) || (l_U4535[uParam0]._fU20))
    {
        if (IS_VEH_DRIVEABLE( l_U4057[uParam0] ))
        {
            GET_CAR_SPEED_VECTOR( l_U4057[uParam0], ref uVar14, 0 );
            fVar13 = VMAG2( uVar14 );
            if (fVar13 < 1.00000000)
            {
                bVar12 = true;
            }
        }
        else
        {
            bVar12 = true;
        }
        if (bVar12)
        {
            sub_127965( uParam0 );
        }
    }
    return;
}

int sub_126476(unknown uParam0)
{
    vector vVar3;
    vector vVar6;
    unknown uVar9;
    float fVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;

    if (IS_VEH_DRIVEABLE( (uParam0^) ))
    {
        GET_CAR_HEADING( (uParam0^), ref uVar9 );
        GET_CAR_SPEED( (uParam0^), ref fVar10 );
        GET_CAR_COORDINATES( (uParam0^), ref vVar3.x, ref vVar3.y, ref vVar3.z );
        GET_CHAR_COORDINATES( sub_6646(), ref vVar6.x, ref vVar6.y, ref vVar6.z );
        uVar11 = {vVar6 - vVar3};
        GET_HEADING_FROM_VECTOR_2D( uVar11._fU0, uVar11._fU4, ref uVar14 );
        if ((fVar10 > 2.00000000) AND (((sub_54615( vVar3, vVar6, 1, 1 )) < 20.00000000) AND ((ABSF( uVar14 - uVar9 )) < 15.00000000)))
        {
            return 1;
        }
    }
    return 0;
}

int sub_127271(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;

    if (IS_VEH_DRIVEABLE( (uParam0^) ))
    {
        if (NOT (IS_CAR_ON_SCREEN( (uParam0^) )))
        {
            GET_CAR_COORDINATES( (uParam0^), ref uVar3._fU0, ref uVar3._fU4, ref uVar3._fU8 );
            GET_CHAR_COORDINATES( sub_6646(), ref uVar6._fU0, ref uVar6._fU4, ref uVar6._fU8 );
            if ((sub_54615( uVar3, uVar6, 1, 1 )) > 40.00000000)
            {
                return 1;
            }
        }
    }
    return 0;
}

void sub_127965(int iParam0)
{
    int I;

    I = 0;
    for ( I = iParam0 * 4; I <= (((iParam0 + 1) * 4) - 1); I++ )
    {
        if (NOT (IS_CHAR_INJURED( l_U4365[I]._fU0 )))
        {
            if (l_U4365[I]._fU20 != 1)
            {
                TASK_COMBAT( l_U4365[I]._fU0, sub_6646() );
                l_U4365[I]._fU20 = 1;
            }
        }
        else if (NOT (IS_CHAR_INJURED( l_U4450[I]._fU0 )))
        {
            if (l_U4450[I]._fU20 != 1)
            {
                TASK_COMBAT( l_U4450[I]._fU0, sub_6646() );
                l_U4450[I]._fU20 = 1;
            }
        }
    }
    return;
}

void sub_129937()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    float Result;
    int I;
    float fVar10;

    Result = 1000000.00000000;
    I = 0;
    if (NOT (IS_CHAR_INJURED( l_U3984 )))
    {
        GET_CHAR_COORDINATES( l_U3984, ref uVar2._fU0, ref uVar2._fU4, ref uVar2._fU8 );
        for ( I = 0; I < l_U4057; I++ )
        {
            if (IS_VEH_DRIVEABLE( l_U4057[I] ))
            {
                GET_CAR_COORDINATES( l_U4057[I], ref uVar5._fU0, ref uVar5._fU4, ref uVar5._fU8 );
                fVar10 = sub_54615( uVar5, uVar2, 1, 0 );
                if (fVar10 < Result)
                {
                    Result = fVar10;
                }
            }
        }
    }
    return Result;
}

void sub_131784()
{
    vector vVar2;
    int iVar5;
    int iVar6;
    int iVar7;
    int I;
    unknown uVar9;

    vVar2 = {-396.34050000, -457.96970000, 3.77010000};
    iVar5 = 0;
    iVar6 = 0;
    iVar7 = 0;
    I = 0;
    if (l_U3823)
    {
        iVar5 = 7000;
        iVar6 = 14500;
        iVar7 = 18000;
    }
    else
    {
        iVar5 = 5000;
        iVar6 = 13500;
        iVar7 = 18500;
    }
    switch (l_U4230)
    {
        case 0:
        SET_PLAYER_CONTROL( sub_6741(), 0 );
        SET_PED_IS_BLIND_RAGING( sub_6646(), 0 );
        CLEAR_PRINTS();
        CLEAR_HELP();
        sub_8886( 0 );
        sub_7282();
        sub_11417( 0 );
        l_U4202 = 1;
        if (NOT IS_SCREEN_FADED_OUT())
        {
            DO_SCREEN_FADE_OUT( 500 );
            while (NOT IS_SCREEN_FADED_OUT())
            {
                WAIT( 0 );
            }
        }
        sub_132019();
        g_U2792 = 1;
        if (l_U3823)
        {
            ;
        }
        for ( I = 0; I < l_U4054; I++ )
        {
            if (DOES_VEHICLE_EXIST( l_U4054[I] ))
            {
                DELETE_CAR( ref l_U4054[I] );
            }
        }
        I = 0;
        for ( I = 0; I < l_U3991; I++ )
        {
            if (DOES_OBJECT_EXIST( l_U3991[I] ))
            {
                DELETE_OBJECT( ref l_U3991[I] );
            }
        }
        I = 0;
        for ( I = 0; I < l_U4057; I++ )
        {
            if (DOES_VEHICLE_EXIST( l_U4057[I] ))
            {
                DELETE_CAR( ref l_U4057[I] );
            }
        }
        DISPLAY_RADAR( 0 );
        SET_WIDESCREEN_BORDERS( 1 );
        SET_CAR_DENSITY_MULTIPLIER( 0.00000000 );
        SET_PED_DENSITY_MULTIPLIER( 0.00000000 );
        SET_SCENARIO_PED_DENSITY_MULTIPLIER( 0.00000000, 0.00000000 );
        CLEAR_AREA( vVar2.x, vVar2.y, vVar2.z, 200.00000000, 1 );
        if ((IS_VEH_DRIVEABLE( l_U4052 )) AND (IS_VEH_DRIVEABLE( l_U4053 )))
        {
            if ((NOT (IS_CHAR_INJURED( l_U3983 ))) AND ((NOT (IS_CHAR_INJURED( l_U3984 ))) AND (IS_CHAR_IN_CAR( sub_6646(), l_U4053 ))))
            {
                SET_CAR_COORDINATES( l_U4053, vVar2.x, vVar2.y, vVar2.z );
                SET_CAR_COORDINATES( l_U4052, l_U3787._fU0, l_U3787._fU4, l_U3787._fU8 );
                SET_CAR_HEADING( l_U4053, 23.82470000 );
                SET_CAR_HEADING( l_U4052, 18.92826000 );
                SET_CAR_ON_GROUND_PROPERLY( l_U4053 );
                SET_CAR_ON_GROUND_PROPERLY( l_U4052 );
                FREEZE_CAR_POSITION( l_U4053, 1 );
                BLOCK_CHAR_AMBIENT_ANIMS( l_U3983, 1 );
                TASK_LOOK_AT_CHAR( sub_6646(), l_U3983, -2, 0 );
                REMOVE_WEAPON_FROM_CHAR( l_U3984, 7 );
                SET_CHAR_WILL_DO_DRIVEBYS( l_U3984, 0 );
                TASK_LOOK_AT_CHAR( l_U3984, l_U3983, -2, 0 );
                TASK_LOOK_AT_CHAR( l_U3983, l_U3984, -2, 0 );
            }
        }
        CREATE_CAM( 14, ref l_U4067 );
        SET_CAM_POS( l_U4067, -395.17740000, -455.83860000, 5.12211300 );
        SET_CAM_ROT( l_U4067, -0.86495100, 0.00000000, 155.09420000 );
        SET_CAM_FOV( l_U4067, 21.60006000 );
        CREATE_CAM( 14, ref l_U4068 );
        SET_CAM_POS( l_U4068, -395.17740000, -455.83860000, 5.12211300 );
        SET_CAM_ROT( l_U4068, -0.86495100, 0.00000000, 155.09420000 );
        SET_CAM_FOV( l_U4068, 26.60006000 );
        CREATE_CAM( 3, ref l_U4069 );
        SET_CAM_INTERP_STYLE_CORE( l_U4069, l_U4067, l_U4068, 10000, 0 );
        SET_CAM_INTERP_STYLE_DETAILED( l_U4069, 0, 0, 1, 1 );
        SET_USE_HIGHDOF( 1 );
        SET_CAM_FAR_DOF( l_U4067, 20.00000000 );
        SET_CAM_FAR_DOF( l_U4068, 20.00000000 );
        sub_56223( l_U4069, 1 );
        LOAD_SCENE( vVar2.x, vVar2.y, vVar2.z );
        if (l_U3823)
        {
            TASK_PLAY_ANIM_SECONDARY_IN_CAR( sub_6646(), "end_luis_dead", "MISSTONY03", 4.00000000, 0, 1, 1, 0, 0 );
            if (NOT (IS_CHAR_INJURED( l_U3984 )))
            {
                TASK_PLAY_ANIM_SECONDARY_IN_CAR( l_U3984, "end_tony_dead", "MISSTONY03", 4.00000000, 0, 1, 1, 0, 0 );
            }
            if (NOT (IS_CHAR_INJURED( l_U3983 )))
            {
                TASK_PLAY_ANIM_SECONDARY_IN_CAR( l_U3983, "end_rocco_dead", "MISSTONY03", 4.00000000, 0, 1, 1, 0, 0 );
            }
        }
        else
        {
            TASK_PLAY_ANIM_SECONDARY_IN_CAR( sub_6646(), "end_luis_alive", "MISSTONY03", 4.00000000, 0, 1, 1, 0, 0 );
            if (NOT (IS_CHAR_INJURED( l_U3984 )))
            {
                TASK_PLAY_ANIM_SECONDARY_IN_CAR( l_U3984, "end_tony_alive", "MISSTONY03", 4.00000000, 0, 1, 1, 0, 0 );
            }
            if (NOT (IS_CHAR_INJURED( l_U3983 )))
            {
                TASK_PLAY_ANIM_SECONDARY_IN_CAR( l_U3983, "end_rocco_alive", "MISSTONY03", 4.00000000, 0, 1, 1, 0, 0 );
            }
        }
        WAIT( 1000 );
        if (NOT (IS_CHAR_INJURED( l_U3984 )))
        {
            if (IS_CHAR_PLAYING_ANIM( l_U3984, "MISSTONY03", "end_tony_alive" ))
            {
                SET_CHAR_ANIM_SPEED( l_U3984, "MISSTONY03", "end_tony_alive", 0.00000000 );
                SET_CHAR_ANIM_CURRENT_TIME( l_U3984, "MISSTONY03", "end_tony_alive", 0.00000000 );
            }
            else if (IS_CHAR_PLAYING_ANIM( l_U3984, "MISSTONY03", "end_tony_dead" ))
            {
                SET_CHAR_ANIM_SPEED( l_U3984, "MISSTONY03", "end_tony_dead", 0.00000000 );
                SET_CHAR_ANIM_CURRENT_TIME( l_U3984, "MISSTONY03", "end_tony_dead", 0.00000000 );
            }
        }
        if (NOT (IS_CHAR_INJURED( l_U3983 )))
        {
            if (IS_CHAR_PLAYING_ANIM( l_U3983, "MISSTONY03", "end_rocco_alive" ))
            {
                SET_CHAR_ANIM_SPEED( l_U3983, "MISSTONY03", "end_rocco_alive", 0.00000000 );
                SET_CHAR_ANIM_CURRENT_TIME( l_U3983, "MISSTONY03", "end_rocco_alive", 0.00000000 );
            }
            else if (IS_CHAR_PLAYING_ANIM( l_U3983, "MISSTONY03", "end_rocco_dead" ))
            {
                SET_CHAR_ANIM_SPEED( l_U3983, "MISSTONY03", "end_rocco_dead", 0.00000000 );
                SET_CHAR_ANIM_CURRENT_TIME( l_U3983, "MISSTONY03", "end_rocco_dead", 0.00000000 );
            }
        }
        if (IS_CHAR_PLAYING_ANIM( sub_6646(), "MISSTONY03", "end_luis_dead" ))
        {
            SET_CHAR_ANIM_SPEED( sub_6646(), "MISSTONY03", "end_luis_dead", 0.00000000 );
            SET_CHAR_ANIM_CURRENT_TIME( sub_6646(), "MISSTONY03", "end_luis_dead", 0.00000000 );
        }
        else if (IS_CHAR_PLAYING_ANIM( sub_6646(), "MISSTONY03", "end_luis_alive" ))
        {
            SET_CHAR_ANIM_SPEED( sub_6646(), "MISSTONY03", "end_luis_alive", 0.00000000 );
            SET_CHAR_ANIM_CURRENT_TIME( sub_6646(), "MISSTONY03", "end_luis_alive", 0.00000000 );
        }
        CLEAR_AREA_OF_CHARS( -396.34050000, -457.96970000, 3.77010000, 100.00000000 );
        if (l_U3823)
        {
            sub_39077( "E2T3_RBYE2", 40, 6, "E2T3AUD", 0, 0 );
            if (IS_CHAR_PLAYING_ANIM( sub_6646(), "MISSTONY03", "end_luis_dead" ))
            {
                SET_CHAR_ANIM_SPEED( sub_6646(), "MISSTONY03", "end_luis_dead", 1.00000000 );
                SET_CHAR_ANIM_CURRENT_TIME( sub_6646(), "MISSTONY03", "end_luis_dead", 0.00000000 );
            }
            if (NOT (IS_CHAR_INJURED( l_U3984 )))
            {
                if (IS_CHAR_PLAYING_ANIM( l_U3984, "MISSTONY03", "end_tony_dead" ))
                {
                    SET_CHAR_ANIM_SPEED( l_U3984, "MISSTONY03", "end_tony_dead", 1.00000000 );
                    SET_CHAR_ANIM_CURRENT_TIME( l_U3984, "MISSTONY03", "end_tony_dead", 0.00000000 );
                }
            }
            if (NOT (IS_CHAR_INJURED( l_U3983 )))
            {
                if (IS_CHAR_PLAYING_ANIM( l_U3983, "MISSTONY03", "end_rocco_dead" ))
                {
                    SET_CHAR_ANIM_SPEED( l_U3983, "MISSTONY03", "end_rocco_dead", 1.00000000 );
                    SET_CHAR_ANIM_CURRENT_TIME( l_U3983, "MISSTONY03", "end_rocco_dead", 0.00000000 );
                }
            }
        }
        else
        {
            sub_39077( "E2T3_RBYE1", 39, 6, "E2T3AUD", 0, 0 );
            if (IS_CHAR_PLAYING_ANIM( sub_6646(), "MISSTONY03", "end_luis_alive" ))
            {
                SET_CHAR_ANIM_SPEED( sub_6646(), "MISSTONY03", "end_luis_alive", 1.00000000 );
                SET_CHAR_ANIM_CURRENT_TIME( sub_6646(), "MISSTONY03", "end_luis_alive", 0.00000000 );
            }
            if (NOT (IS_CHAR_INJURED( l_U3984 )))
            {
                if (IS_CHAR_PLAYING_ANIM( l_U3984, "MISSTONY03", "end_tony_alive" ))
                {
                    SET_CHAR_ANIM_SPEED( l_U3984, "MISSTONY03", "end_tony_alive", 1.00000000 );
                    SET_CHAR_ANIM_CURRENT_TIME( l_U3984, "MISSTONY03", "end_tony_alive", 0.00000000 );
                }
            }
            if (NOT (IS_CHAR_INJURED( l_U3983 )))
            {
                if (IS_CHAR_PLAYING_ANIM( l_U3983, "MISSTONY03", "end_rocco_alive" ))
                {
                    SET_CHAR_ANIM_SPEED( l_U3983, "MISSTONY03", "end_rocco_alive", 1.00000000 );
                    SET_CHAR_ANIM_CURRENT_TIME( l_U3983, "MISSTONY03", "end_rocco_alive", 0.00000000 );
                }
            }
        }
        if (NOT IS_SCREEN_FADED_IN())
        {
            DO_SCREEN_FADE_IN( 500 );
            while (NOT IS_SCREEN_FADED_IN())
            {
                WAIT( 0 );
            }
        }
        SETTIMERB( 0 );
        l_U3877 = 0;
        l_U3878 = 0;
        l_U4230 = 1;
        break;
        case 1:
        if (NOT (IS_CHAR_INJURED( l_U3984 )))
        {
            BLOCK_CHAR_GESTURE_ANIMS( l_U3984, 1 );
            BLOCK_CHAR_AMBIENT_ANIMS( l_U3984, 1 );
        }
        if (NOT (IS_CHAR_INJURED( l_U3983 )))
        {
            BLOCK_CHAR_GESTURE_ANIMS( l_U3983, 1 );
            BLOCK_CHAR_AMBIENT_ANIMS( l_U3983, 1 );
        }
        BLOCK_CHAR_GESTURE_ANIMS( sub_6646(), 1 );
        BLOCK_CHAR_AMBIENT_ANIMS( sub_6646(), 1 );
        if ((sub_56753()) || (((TIMERB() > 21000) AND (l_U3823)) || ((TIMERB() > 21000) AND ((NOT sub_45668()) AND (NOT l_U3823)))))
        {
            sub_11417( 1 );
            if (NOT IS_SCREEN_FADED_OUT())
            {
                DO_SCREEN_FADE_OUT( 500 );
                while (NOT IS_SCREEN_FADED_OUT())
                {
                    WAIT( 0 );
                }
            }
            l_U4230 = 2;
        }
        switch (l_U3877)
        {
            case 0:
            if (TIMERB() > iVar5)
            {
                sub_56223( l_U4069, 0 );
                SET_CAM_POS( l_U4067, -399.74880000, -458.39450000, 5.12704100 );
                SET_CAM_ROT( l_U4067, -1.98768500, 0.00000000, -87.33217000 );
                SET_CAM_FOV( l_U4067, 27.90004000 );
                SET_CAM_POS( l_U4068, -399.74880000, -457.93300000, 5.12704100 );
                SET_CAM_ROT( l_U4068, -1.98768500, -0.00000000, -94.79406000 );
                SET_CAM_FOV( l_U4068, 27.90004000 );
                CREATE_CAM( 3, ref l_U4069 );
                SET_CAM_INTERP_STYLE_CORE( l_U4069, l_U4067, l_U4068, 20000, 0 );
                SET_CAM_INTERP_STYLE_DETAILED( l_U4069, 0, 0, 1, 1 );
                sub_56223( l_U4069, 1 );
                l_U3877++;
            }
            break;
            case 1:
            if (TIMERB() > iVar6)
            {
                sub_56223( l_U4069, 0 );
                SET_CAM_POS( l_U4067, -394.13850000, -452.97550000, 4.84299400 );
                SET_CAM_ROT( l_U4067, 2.42170300, 0.00000000, 162.78540000 );
                SET_CAM_FOV( l_U4067, 29.40004000 );
                SET_CAM_POS( l_U4068, -394.13850000, -452.97550000, 4.84299400 );
                SET_CAM_ROT( l_U4068, 2.42170300, 0.00000000, 162.78540000 );
                SET_CAM_FOV( l_U4068, 35.40004000 );
                CREATE_CAM( 3, ref l_U4069 );
                SET_CAM_INTERP_STYLE_CORE( l_U4069, l_U4067, l_U4068, 20000, 0 );
                SET_CAM_INTERP_STYLE_DETAILED( l_U4069, 0, 0, 1, 1 );
                if (IS_CHAR_PLAYING_ANIM( sub_6646(), "MISSTONY03", "end_luis_alive" ))
                {
                    GET_CHAR_ANIM_CURRENT_TIME( sub_6646(), "MISSTONY03", "end_luis_alive", ref uVar9 );
                    SET_CHAR_ANIM_CURRENT_TIME( sub_6646(), "MISSTONY03", "end_luis_alive", uVar9 - 0.05000000 );
                }
                sub_56223( l_U4069, 1 );
                l_U3877++;
            }
            break;
            case 2:
            if (l_U3878 == 0)
            {
                if (TIMERB() > iVar7)
                {
                    if ((IS_VEH_DRIVEABLE( l_U4052 )) AND (NOT (IS_CHAR_INJURED( l_U3983 ))))
                    {
                        TASK_CAR_MISSION_COORS_TARGET( l_U3983, l_U4052, l_U3705._fU0, l_U3705._fU4, l_U3705._fU8, 1, 30.00000000, 3, 10, 200 );
                        l_U3878++;
                    }
                }
            }
            break;
        }
        break;
        case 2:
        sub_11417( 0 );
        if (DOES_OBJECT_EXIST( l_U4047[0] ))
        {
            DELETE_OBJECT( ref l_U4047[0] );
        }
        if (DOES_OBJECT_EXIST( l_U4047[1] ))
        {
            DELETE_OBJECT( ref l_U4047[1] );
        }
        if (DOES_CHAR_EXIST( l_U3985 ))
        {
            DELETE_CHAR( ref l_U3985 );
        }
        if (DOES_CHAR_EXIST( l_U3983 ))
        {
            DELETE_CHAR( ref l_U3983 );
        }
        if (DOES_VEHICLE_EXIST( l_U4052 ))
        {
            DELETE_CAR( ref l_U4052 );
        }
        if (NOT (IS_CHAR_INJURED( l_U3984 )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3984, 1 );
        }
        REMOVE_ANIMS( "MINI_GOLF" );
        REMOVE_ANIMS( "MISSTONY03" );
        REMOVE_ANIMS( "FACIALS@M_LO" );
        CLEAR_CHAR_TASKS( sub_6646() );
        if (DOES_CAM_EXIST( l_U4069 ))
        {
            DESTROY_CAM( l_U4069 );
        }
        if (DOES_CAM_EXIST( l_U4067 ))
        {
            DESTROY_CAM( l_U4067 );
        }
        if (DOES_CAM_EXIST( l_U4068 ))
        {
            DESTROY_CAM( l_U4068 );
        }
        DESTROY_ALL_CAMS();
        ACTIVATE_SCRIPTED_CAMS( 0, 0 );
        SET_USE_HIGHDOF( 0 );
        SET_CAM_BEHIND_PED( sub_6646() );
        SET_GAME_CAM_HEADING( 180.00000000 );
        DISPLAY_RADAR( 1 );
        SET_WIDESCREEN_BORDERS( 0 );
        if (IS_VEH_DRIVEABLE( l_U4053 ))
        {
            FREEZE_CAR_POSITION( l_U4053, 0 );
        }
        sub_39077( "E2T3_BACK", 45, 6, "E2T3AUD", 0, 0 );
        if (NOT IS_SCREEN_FADED_IN())
        {
            DO_SCREEN_FADE_IN( 500 );
            while (NOT IS_SCREEN_FADED_IN())
            {
                WAIT( 0 );
            }
        }
        SET_PLAYER_CONTROL( sub_6741(), 1 );
        if (NOT (DOES_BLIP_EXIST( l_U3976 )))
        {
            ADD_BLIP_FOR_COORD( l_U3705._fU0, l_U3705._fU4, l_U3705._fU8, ref l_U3976 );
            SET_ROUTE( l_U3976, 1 );
            sub_137458( ref l_U3976, -77.50190000, -238.73100000, 13.25300000, 88.10940000 );
        }
        SET_PLAYER_CONTROL( sub_6741(), 1 );
        SET_PED_DENSITY_MULTIPLIER( 1.00000000 );
        SET_CAR_DENSITY_MULTIPLIER( 1.00000000 );
        SET_SCENARIO_PED_DENSITY_MULTIPLIER( 1.00000000, 1.00000000 );
        SET_WANTED_MULTIPLIER( 1.00000000 );
        SET_CREATE_RANDOM_COPS( 1 );
        REMOVE_ANIMS( "facials@m_lo" );
        CLEAR_AREA_OF_CARS( l_U3705._fU0, l_U3705._fU4, l_U3705._fU8, 50.00000000 );
        SET_CAR_GENERATORS_ACTIVE_IN_AREA( -83.36460000, -234.42110000, 0.21050000, -71.07870000, -226.92190000, 20.69030000, 0 );
        l_U3874 = 0;
        l_U3877 = 0;
        l_U3878 = 0;
        l_U4230 = 0;
        l_U4221 = 9;
        break;
    }
    return;
}

void sub_132019()
{
    int I;

    I = 0;
    for ( I = 0; I < l_U4322; I++ )
    {
        if (DOES_CHAR_EXIST( l_U4322[I]._fU0 ))
        {
            DELETE_CHAR( ref l_U4322[I]._fU0 );
        }
    }
    I = 0;
    for ( I = 0; I < l_U4235; I++ )
    {
        if (DOES_CHAR_EXIST( l_U4235[I]._fU0 ))
        {
            DELETE_CHAR( ref l_U4235[I]._fU0 );
        }
    }
    I = 0;
    for ( I = 0; I < l_U4264; I++ )
    {
        if (DOES_CHAR_EXIST( l_U4264[I]._fU0 ))
        {
            DELETE_CHAR( ref l_U4264[I]._fU0 );
        }
    }
    I = 0;
    for ( I = 0; I < l_U4293; I++ )
    {
        if (DOES_CHAR_EXIST( l_U4293[I]._fU0 ))
        {
            DELETE_CHAR( ref l_U4293[I]._fU0 );
        }
    }
    I = 0;
    for ( I = 0; I < l_U4365; I++ )
    {
        if (DOES_CHAR_EXIST( l_U4365[I]._fU0 ))
        {
            DELETE_CHAR( ref l_U4365[I]._fU0 );
        }
    }
    I = 0;
    for ( I = 0; I < l_U4450; I++ )
    {
        if (DOES_CHAR_EXIST( l_U4450[I]._fU0 ))
        {
            DELETE_CHAR( ref l_U4450[I]._fU0 );
        }
    }
    return;
}

void sub_137458(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (DOES_BLIP_EXIST( (uParam0^) ))
    {
        g_U2668 = (uParam0^);
        g_U2683 = {uParam1};
        g_U2681 = uParam4;
    }
    return;
}

void sub_137733()
{
    float fVar2;
    int iVar3;

    l_U4202 = 0;
    if (NOT (IS_CHAR_INJURED( l_U3984 )))
    {
        sub_137766();
        fVar2 = sub_54530( sub_6646(), l_U3984, 1, 1 );
        if (fVar2 < 25.00000000)
        {
            if (NOT (IS_PED_IN_GROUP( l_U3984 )))
            {
                SET_GROUP_MEMBER( l_U4074, l_U3984 );
            }
            if (NOT (IS_WANTED_LEVEL_GREATER( sub_6741(), 0 )))
            {
                if (l_U3809[0])
                {
                    l_U3809[0] = 0;
                }
                if ((NOT l_U3809[9]) || (sub_54868( sub_6646(), l_U3984 )))
                {
                    l_U4202 = 1;
                    BLOCK_CHAR_AMBIENT_ANIMS( sub_6646(), 1 );
                    BLOCK_CHAR_AMBIENT_ANIMS( l_U3984, 1 );
                    if (NOT l_U3809[9])
                    {
                        if (l_U4119[45])
                        {
                            if ((NOT (sub_55034( l_U4204 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND (NOT IS_MESSAGE_BEING_DISPLAYED())))
                            {
                                PRINT_NOW( "T3_GOTO_CLUB", 5000, 0 );
                                l_U3809[9] = 1;
                            }
                        }
                    }
                    else if ((NOT (sub_11432( l_U4204 ))) AND ((NOT (sub_55034( l_U4204 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND (NOT IS_MESSAGE_BEING_DISPLAYED()))))
                    {
                        if (NOT l_U3833)
                        {
                            if (g_U43133)
                            {
                                if (g_U42929 < 100)
                                {
                                    g_U42929 = 100;
                                }
                            }
                            g_U42929++;
                            if (((g_U42929 > 102) AND (g_U43133)) || ((g_U42929 > 2) AND (NOT g_U43133)))
                            {
                                SAY_AMBIENT_SPEECH( l_U3984, "LISTEN_TO_RADIO", 1, 0, 0 );
                            }
                            l_U3833 = 1;
                        }
                        if (((g_U42929 == 101) AND (g_U43133)) || (g_U42929 == 1))
                        {
                            iVar3 = 0;
                        }
                        else if (((g_U42929 == 102) AND (g_U43133)) || (g_U42929 == 2))
                        {
                            iVar3 = 1;
                        }
                        else
                        {
                            iVar3 = 2;
                        }
                        switch (l_U3874)
                        {
                            case 0:
                            if (iVar3 == 0)
                            {
                                sub_39077( "E2T3_B2AV1", 54, 6, "E2T5BAU", 0, 0 );
                            }
                            else if (iVar3 == 1)
                            {
                                sub_39077( "E2T3_B2AV2", 57, 6, "E2T5BAU", 0, 0 );
                            }
                            l_U3874++;
                            break;
                            case 1:
                            if (iVar3 == 0)
                            {
                                sub_39077( "E2T3_B2BV1", 55, 6, "E2T5BAU", 0, 0 );
                            }
                            else if (iVar3 == 1)
                            {
                                sub_39077( "E2T3_B2BV2", 58, 6, "E2T5BAU", 0, 0 );
                            }
                            l_U3874++;
                            break;
                            case 2:
                            if (iVar3 == 0)
                            {
                                sub_39077( "E2T3_B2CV1", 56, 6, "E2T5BAU", 0, 0 );
                            }
                            else if (iVar3 == 1)
                            {
                                ;
                            }
                            l_U3874++;
                            break;
                        }
                    }
                }
                if (NOT (DOES_BLIP_EXIST( l_U3976 )))
                {
                    sub_7282();
                    CLEAR_PRINTS();
                    ADD_BLIP_FOR_COORD( l_U3705._fU0, l_U3705._fU4, l_U3705._fU8, ref l_U3976 );
                    SET_ROUTE( l_U3976, 1 );
                    sub_137458( ref l_U3976, -77.50190000, -238.73100000, 13.25300000, 88.10940000 );
                }
                if (LOCATE_CHAR_ANY_MEANS_3D( sub_6646(), l_U3705._fU0, l_U3705._fU4, l_U3705._fU8 + 2.50000000, 2.50000000, 2.50000000, 2.50000000, 1 ))
                {
                    SET_ROUTE( l_U3976, 0 );
                    REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U3976 );
                    CLEAR_PRINTS();
                    SET_PLAYER_CONTROL( sub_6741(), 0 );
                    sub_11417( 1 );
                    l_U4202 = 1;
                    l_U3809[6] = 0;
                    ADD_NEEDED_AT_POSN( -96.05658000, -246.21740000, 19.32945000 );
                    l_U4221 = 10;
                    SETTIMERB( 0 );
                }
            }
            else
            {
                sub_7282();
                if (NOT l_U3809[0])
                {
                    PRINT_NOW( "T3_LOSECOPS", 7500, 0 );
                    l_U3809[0] = 1;
                }
            }
        }
        else if (fVar2 < 250.00000000)
        {
            if (NOT (DOES_BLIP_EXIST( l_U3978 )))
            {
                sub_7282();
                ADD_BLIP_FOR_CHAR( l_U3984, ref l_U3978 );
                SET_BLIP_AS_FRIENDLY( l_U3978, 1 );
                sub_21292( l_U3978 );
                if (NOT l_U3809[6])
                {
                    PRINT_NOW( "T3_T_LEAVE", 7500, 0 );
                    l_U3809[6] = 1;
                }
            }
        }
        else if (NOT l_U3824)
        {
            CLEAR_PRINTS();
            CLEAR_HELP();
            sub_7282();
            sub_11417( 1 );
            PRINT_NOW( "T3_T_LEFT", 7500, 0 );
            l_U4221 = 13;
            l_U4233 = 3;
            l_U3824 = 1;
        };;;
    }
    return;
}

void sub_137766()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if (NOT (IS_CHAR_INJURED( l_U3984 )))
    {
        if (NOT (IS_CHAR_IN_ANY_CAR( l_U3984 )))
        {
            GET_CHAR_COORDINATES( l_U3984, ref uVar2._fU0, ref uVar2._fU4, ref uVar2._fU8 );
            GET_CHAR_COORDINATES( sub_6646(), ref uVar8._fU0, ref uVar8._fU4, ref uVar8._fU8 );
            GET_GROUND_Z_FOR_3D_COORD( uVar2._fU0, uVar2._fU4, uVar2._fU8 + 50.00000000, ref uVar11 );
            if (((uVar8._fU8 - uVar2._fU8) > 20.00000000) AND ((uVar2._fU8 - uVar11) > 3.00000000))
            {
                SET_CHAR_HEALTH( l_U3984, 0 );
            }
        }
    }
    return;
}

void sub_139372()
{
    vector vVar2;
    float fVar5;
    unknown uVar6;
    vector vVar7;
    vector vVar10;
    unknown uVar13;

    vVar2 = {-84.99040000, -229.34410000, 13.01370000};
    switch (l_U4230)
    {
        case 0:
        if ((sub_47538( 1, 1 )) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND (NOT IS_MESSAGE_BEING_DISPLAYED())))
        {
            SET_PLAYER_CONTROL( sub_6741(), 0 );
            SET_CAR_DENSITY_MULTIPLIER( 0.00000000 );
            SET_PED_DENSITY_MULTIPLIER( 0.00000000 );
            SET_SCENARIO_PED_DENSITY_MULTIPLIER( 0.00000000, 0.00000000 );
            if (IS_CHAR_IN_ANY_CAR( sub_6646() ))
            {
                if (NOT (IS_CHAR_INJURED( l_U3984 )))
                {
                    if (TIMERB() > 1000)
                    {
                        STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_6646(), ref l_U4061 );
                        GET_CAR_HEADING( l_U4061, ref fVar5 );
                        SET_CAR_COORDINATES( l_U4061, vVar2.x, vVar2.y, vVar2.z );
                        if ((fVar5 < 0) || (fVar5 > 180.00000000))
                        {
                            SET_CAR_HEADING( l_U4061, -90.18990000 );
                            l_U3843 = 1;
                        }
                        else
                        {
                            SET_CAR_HEADING( l_U4061, 90.18990000 );
                        }
                        CLEAR_CHAR_TASKS( l_U3984 );
                        REMOVE_WEAPON_FROM_CHAR( l_U3984, 7 );
                        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3984, 1 );
                        SET_CHAR_PROOFS( l_U3984, 0, 0, 0, 0, 0 );
                        UNLOCK_RAGDOLL( l_U3984, 1 );
                        if (IS_PED_IN_GROUP( l_U3984 ))
                        {
                            REMOVE_CHAR_FROM_GROUP( l_U3984 );
                        }
                        HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_6646(), 1 );
                        CLEAR_AREA( vVar2.x, vVar2.y, vVar2.z, 200.00000000, 1 );
                        CREATE_CAM( 14, ref l_U4067 );
                        SET_CAM_POS( l_U4067, -133.95750000, -247.01290000, 17.24808000 );
                        SET_CAM_ROT( l_U4067, -2.00371100, 0.00000000, -70.14331000 );
                        SET_CAM_FOV( l_U4067, 23.40006000 );
                        CREATE_CAM( 14, ref l_U4068 );
                        SET_CAM_POS( l_U4068, -133.72760000, -246.38310000, 17.24808000 );
                        SET_CAM_ROT( l_U4068, -2.00371100, 0.00000000, -70.14331000 );
                        SET_CAM_FOV( l_U4068, 23.40006000 );
                        CREATE_CAM( 3, ref l_U4069 );
                        SET_CAM_INTERP_STYLE_CORE( l_U4069, l_U4067, l_U4068, 8000, 0 );
                        SET_CAM_INTERP_STYLE_DETAILED( l_U4069, 0, 0, 1, 1 );
                        sub_56223( l_U4069, 1 );
                        DISPLAY_RADAR( 0 );
                        SET_WIDESCREEN_BORDERS( 1 );
                        sub_11417( 0 );
                        l_U4202 = 1;
                        l_U3877 = 0;
                        l_U3878 = 0;
                        l_U3839 = 0;
                        sub_39077( "E2T3_ENDMO", 59, 6, "E2T5BAU", 0, 0 );
                        g_U2792 = 1;
                        SETTIMERB( 0 );
                        l_U4230 = 1;
                    }
                }
            }
            else if (NOT IS_SCREEN_FADED_OUT())
            {
                DO_SCREEN_FADE_OUT( 500 );
                while (NOT IS_SCREEN_FADED_OUT())
                {
                    WAIT( 0 );
                }
            }
            DISPLAY_RADAR( 0 );
            SET_WIDESCREEN_BORDERS( 1 );
            CLEAR_AREA( vVar2.x, vVar2.y, vVar2.z, 200.00000000, 1 );
            if (NOT (IS_CHAR_INJURED( l_U3984 )))
            {
                SET_CHAR_COORDINATES( sub_6646(), -89.22920000, -227.11520000, 12.91660000 );
                SET_CHAR_HEADING( sub_6646(), 268.80200000 );
                HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_6646(), 1 );
                if (IS_CHAR_IN_ANY_CAR( l_U3984 ))
                {
                    WARP_CHAR_FROM_CAR_TO_COORD( l_U3984, -87.92939000, -226.74310000, 12.97200000 );
                }
                else
                {
                    SET_CHAR_COORDINATES( l_U3984, -87.92939000, -226.74310000, 12.97200000 );
                }
                SET_CHAR_HEADING( l_U3984, 119.95310000 );
                CLEAR_CHAR_TASKS_IMMEDIATELY( l_U3984 );
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3984, 1 );
                SET_CHAR_PROOFS( l_U3984, 0, 0, 0, 0, 0 );
                GIVE_WEAPON_TO_CHAR( l_U3984, 0, 0, 1 );
                UNLOCK_RAGDOLL( l_U3984, 1 );
                if (NOT (IS_PED_IN_GROUP( l_U3984 )))
                {
                    SET_GROUP_MEMBER( l_U4074, l_U3984 );
                }
                if (IS_PED_IN_GROUP( l_U3984 ))
                {
                    REMOVE_CHAR_FROM_GROUP( l_U3984 );
                }
                TASK_TURN_CHAR_TO_FACE_CHAR( sub_6646(), l_U3984 );
                TASK_TURN_CHAR_TO_FACE_CHAR( l_U3984, sub_6646() );
                TASK_LOOK_AT_CHAR( sub_6646(), l_U3984, -2, 16 );
                TASK_LOOK_AT_CHAR( l_U3984, sub_6646(), -2, 16 );
                CREATE_CAM( 14, ref l_U4067 );
                SET_CAM_POS( l_U4067, -90.85885000, -228.56810000, 14.38606000 );
                SET_CAM_ROT( l_U4067, -0.74339090, 0.00000000, -57.75100000 );
                SET_CAM_FOV( l_U4067, 23.10006000 );
                CREATE_CAM( 14, ref l_U4068 );
                SET_CAM_POS( l_U4068, -90.85885000, -229.12810000, 14.38606000 );
                SET_CAM_ROT( l_U4068, -0.74339090, -0.00000000, -49.04203000 );
                SET_CAM_FOV( l_U4068, 23.10006000 );
                CREATE_CAM( 3, ref l_U4069 );
                SET_CAM_INTERP_STYLE_CORE( l_U4069, l_U4067, l_U4068, 20000, 0 );
                SET_CAM_INTERP_STYLE_DETAILED( l_U4069, 0, 0, 1, 1 );
                SET_USE_HIGHDOF( 1 );
                SET_CAM_FAR_DOF( l_U4067, 10.00000000 );
                SET_CAM_FAR_DOF( l_U4068, 10.00000000 );
                sub_56223( l_U4069, 1 );
                g_U2792 = 1;
                WAIT( 1000 );
                LOAD_SCENE( vVar2.x, vVar2.y, vVar2.z );
                if (NOT IS_SCREEN_FADED_IN())
                {
                    DO_SCREEN_FADE_IN( 500 );
                    while (NOT IS_SCREEN_FADED_IN())
                    {
                        WAIT( 0 );
                    }
                }
                sub_11417( 1 );
                l_U4202 = 1;
                l_U3877 = 1;
                l_U3878 = 1;
                l_U3839 = 1;
                if (g_U15811[16])
                {
                    sub_39077( "E2T3_ENDMO", 59, 6, "E2T5BAU", 0, 0 );
                }
                else
                {
                    sub_39077( "E2T3_ENDNM", 60, 6, "E2T5BAU", 0, 0 );
                }
                SETTIMERB( 0 );
                l_U4230 = 1;
            }
        }
        break;
        case 1:
        switch (l_U3877)
        {
            case 0:
            if (l_U3878 == 0)
            {
                if (l_U3843)
                {
                    vVar7 = {-85.23830000, -226.77580000, 13.09720000};
                    vVar10 = {-83.44290000, -225.86470000, 13.17350000};
                }
                else
                {
                    vVar7 = {-87.22921000, -227.11520000, 12.91660000};
                    vVar10 = {-85.92940000, -226.74310000, 12.97200000};
                }
                if (NOT (IS_CHAR_INJURED( l_U3984 )))
                {
                    OPEN_SEQUENCE_TASK( ref uVar6 );
                    TASK_FOLLOW_NAV_MESH_TO_COORD( 0, vVar10.x, vVar10.y, vVar10.z, 2, -2, 0.50000000 );
                    TASK_TURN_CHAR_TO_FACE_CHAR( 0, sub_6646() );
                    TASK_TURN_CHAR_TO_FACE_CHAR( 0, sub_6646() );
                    TASK_TURN_CHAR_TO_FACE_CHAR( 0, sub_6646() );
                    TASK_TURN_CHAR_TO_FACE_CHAR( 0, sub_6646() );
                    TASK_TURN_CHAR_TO_FACE_CHAR( 0, sub_6646() );
                    CLOSE_SEQUENCE_TASK( uVar6 );
                    TASK_PERFORM_SEQUENCE( l_U3984, uVar6 );
                    CLEAR_SEQUENCE_TASK( uVar6 );
                    if (NOT l_U3843)
                    {
                        OPEN_SEQUENCE_TASK( ref uVar6 );
                        TASK_GO_STRAIGHT_TO_COORD( 0, vVar7.x, vVar7.y, vVar7.z, 2, -2 );
                        TASK_TURN_CHAR_TO_FACE_CHAR( 0, l_U3984 );
                        TASK_TURN_CHAR_TO_FACE_CHAR( 0, l_U3984 );
                        TASK_TURN_CHAR_TO_FACE_CHAR( 0, l_U3984 );
                        TASK_TURN_CHAR_TO_FACE_CHAR( 0, l_U3984 );
                        TASK_TURN_CHAR_TO_FACE_CHAR( 0, l_U3984 );
                        TASK_TURN_CHAR_TO_FACE_CHAR( 0, l_U3984 );
                        CLOSE_SEQUENCE_TASK( uVar6 );
                    }
                    else
                    {
                        OPEN_SEQUENCE_TASK( ref uVar6 );
                        TASK_GO_STRAIGHT_TO_COORD( 0, vVar7.x, vVar7.y, vVar7.z, 2, -2 );
                        TASK_TURN_CHAR_TO_FACE_COORD( 0, vVar10.x, vVar10.y, vVar10.z );
                        CLOSE_SEQUENCE_TASK( uVar6 );
                    }
                    TASK_PERFORM_SEQUENCE( sub_6646(), uVar6 );
                    CLEAR_SEQUENCE_TASK( uVar6 );
                }
                l_U3878++;
            }
            if (((TIMERB() > 8000) AND (g_U15811[16])) || ((TIMERB() > 7000) AND (NOT g_U15811[16])))
            {
                GET_SCRIPT_TASK_STATUS( sub_6646(), 29, ref uVar13 );
                if (NOT (IS_CHAR_INJURED( l_U3984 )))
                {
                    CLEAR_CHAR_TASKS_IMMEDIATELY( l_U3984 );
                    CLEAR_CHAR_TASKS_IMMEDIATELY( sub_6646() );
                    WAIT( 0 );
                    if (NOT (IS_CHAR_INJURED( l_U3984 )))
                    {
                        SET_CHAR_COORDINATES( l_U3984, -87.92939000, -226.74310000, 12.97200000 );
                    }
                    SET_CHAR_COORDINATES( sub_6646(), -89.22920000, -227.11520000, 12.91660000 );
                    sub_141866( sub_6646(), l_U3984 );
                }
                sub_56223( l_U4069, 0 );
                SET_CAM_POS( l_U4067, -90.85885000, -228.56810000, 14.38606000 );
                SET_CAM_ROT( l_U4067, -0.74339090, 0.00000000, -57.75100000 );
                SET_CAM_FOV( l_U4067, 23.10006000 );
                SET_CAM_POS( l_U4068, -90.85885000, -229.12810000, 14.38606000 );
                SET_CAM_ROT( l_U4068, -0.74339090, -0.00000000, -49.04203000 );
                SET_CAM_FOV( l_U4068, 23.10006000 );
                CREATE_CAM( 3, ref l_U4069 );
                SET_CAM_INTERP_STYLE_CORE( l_U4069, l_U4067, l_U4068, 20000, 0 );
                SET_CAM_INTERP_STYLE_DETAILED( l_U4069, 0, 0, 1, 1 );
                ENABLE_SCENE_STREAMING( 0 );
                SET_USE_HIGHDOF( 1 );
                SET_CAM_FAR_DOF( l_U4067, 10.00000000 );
                SET_CAM_FAR_DOF( l_U4068, 10.00000000 );
                sub_56223( l_U4069, 1 );
                l_U3877++;
            }
            break;
            case 1:
            if ((NOT sub_39689()) AND ((l_U3878 == 2) || ((TIMERB() > 10000) AND (l_U3878 == 1))))
            {
                if (NOT (IS_CHAR_INJURED( l_U3984 )))
                {
                    if (l_U3878 == 1)
                    {
                        TASK_LOOK_AT_CHAR( l_U3984, sub_6646(), 0, 0 );
                        TASK_FOLLOW_NAV_MESH_TO_COORD( l_U3984, -72.55340000, -223.11500000, 13.66950000, 2, -2, 0.50000000 );
                        SETTIMERB( 0 );
                        l_U3878++;
                    }
                    else if (l_U3878 == 2)
                    {
                        if (TIMERB() > 500)
                        {
                            sub_56223( l_U4069, 0 );
                            SET_CAM_POS( l_U4067, -73.73805000, -225.80680000, 14.10855000 );
                            SET_CAM_ROT( l_U4067, 2.57976600, 0.00000000, 89.13313000 );
                            SET_CAM_FOV( l_U4067, 23.10006000 );
                            SET_CAM_POS( l_U4068, -73.73805000, -225.80680000, 14.10855000 );
                            SET_CAM_ROT( l_U4068, 2.57976600, 0.00000000, 89.13313000 );
                            SET_CAM_FOV( l_U4068, 25.10006000 );
                            CREATE_CAM( 3, ref l_U4069 );
                            SET_CAM_INTERP_STYLE_CORE( l_U4069, l_U4067, l_U4068, 10000, 0 );
                            SET_CAM_INTERP_STYLE_DETAILED( l_U4069, 0, 0, 1, 1 );
                            SET_USE_HIGHDOF( 1 );
                            SET_CAM_FAR_DOF( l_U4067, 30.00000000 );
                            SET_CAM_FAR_DOF( l_U4068, 30.00000000 );
                            sub_56223( l_U4069, 1 );
                            SETTIMERB( 0 );
                            l_U3878++;
                            l_U3877++;
                        }
                    }
                }
            }
            break;
            case 2:
            if (TIMERB() > 4000)
            {
                l_U4230 = 2;
            }
            break;
        }
        if (sub_56753())
        {
            l_U4230 = 2;
        }
        break;
        case 2:
        if (NOT IS_SCREEN_FADED_OUT())
        {
            DO_SCREEN_FADE_OUT( 500 );
            while (NOT IS_SCREEN_FADED_OUT())
            {
                WAIT( 0 );
            }
        }
        ENABLE_SCENE_STREAMING( 1 );
        sub_11417( 0 );
        DELETE_CHAR( ref l_U3984 );
        if (DOES_VEHICLE_EXIST( l_U4061 ))
        {
            MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U4061 );
        }
        if (DOES_VEHICLE_EXIST( l_U4053 ))
        {
            MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U4053 );
        }
        if (DOES_CAM_EXIST( l_U4067 ))
        {
            DESTROY_CAM( l_U4067 );
        }
        if (DOES_CAM_EXIST( l_U4068 ))
        {
            DESTROY_CAM( l_U4068 );
        }
        if (DOES_CAM_EXIST( l_U4069 ))
        {
            DESTROY_CAM( l_U4069 );
        }
        SET_USE_HIGHDOF( 0 );
        ACTIVATE_SCRIPTED_CAMS( 0, 0 );
        CLEAR_CHAR_TASKS_IMMEDIATELY( sub_6646() );
        SET_CAM_BEHIND_PED( sub_6646() );
        SET_GAME_CAM_HEADING( 0.00000000 );
        DISPLAY_RADAR( 1 );
        SET_WIDESCREEN_BORDERS( 0 );
        HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_6646(), 0 );
        LOAD_SCENE( vVar2.x, vVar2.y, vVar2.z );
        SET_CAR_DENSITY_MULTIPLIER( 1.00000000 );
        SET_PED_DENSITY_MULTIPLIER( 1.00000000 );
        SET_SCENARIO_PED_DENSITY_MULTIPLIER( 1.00000000, 1.00000000 );
        if (NOT IS_SCREEN_FADED_IN())
        {
            DO_SCREEN_FADE_IN( 500 );
            while (NOT IS_SCREEN_FADED_IN())
            {
                WAIT( 0 );
            }
        }
        SET_PLAYER_CONTROL( sub_6741(), 1 );
        sub_143275();
        break;
    }
    return;
}

void sub_141866(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    float fVar12;
    unknown uVar13;

    if ((NOT (IS_CHAR_INJURED( uParam1 ))) AND (NOT (IS_CHAR_INJURED( uParam0 ))))
    {
        GET_CHAR_COORDINATES( uParam0, ref uVar4._fU0, ref uVar4._fU4, ref uVar4._fU8 );
        GET_CHAR_COORDINATES( uParam1, ref uVar7._fU0, ref uVar7._fU4, ref uVar7._fU8 );
        fVar12 = uVar4._fU0 - uVar7._fU0;
        uVar13 = ABSF( uVar4._fU4 - uVar7._fU4 );
        uVar10 = ATAN2( fVar12, uVar13 );
        uVar11 = ATAN2( -fVar12, -uVar13 );
        SET_CHAR_HEADING( uParam0, uVar10 );
        SET_CHAR_HEADING( uParam1, uVar11 );
    }
    return;
}

void sub_143275()
{
    CLEAR_WANTED_LEVEL( sub_6741() );
    g_U25 = 80;
    sub_143302();
    sub_6577();
    return;
}

void sub_143302()
{
    int iVar2;
    int iVar3;
    int iVar4;

    iVar2 = 1;
    iVar3 = 0;
    iVar4 = 0;
    sub_143320();
    sub_143379( iVar2, iVar3, iVar4 );
    return;
}

void sub_143320()
{
    int I;

    I = 0;
    for ( I = 0; I < 5; I++ )
    {
        l_U3026[I] = 4;
    }
    return;
}

void sub_143379(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int iVar5;

    iVar5 = 0;
    sub_143409( iVar5, uParam0, uParam1, uParam2, "GayTony" );
    return;
}

void sub_143409(unknown uParam0, boolean bParam1, boolean bParam2, boolean bParam3, unknown uParam4)
{
    int iVar7;
    int iVar8;
    char[64] cVar9;
    int iVar25;
    int I;
    int iVar27;
    boolean bVar28;
    unknown uVar29;
    unknown uVar30;
    int iVar31;
    boolean bVar32;

    if (bParam1)
    {
        if (g_U43133)
        {
            sub_143437();
            return;
        }
    }
    iVar7 = -1;
    iVar8 = -1;
    StrCopy( ref cVar9, "", 64 );
    if (bParam3)
    {
        if (g_U14925[uParam0]._fU80._fU0 == 0)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: friend mission", 64);
            sub_143611( ref cVar9 );
            return;
        }
        if (g_U14925[uParam0]._fU80._fU4 == -1)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: friend missionID", 64);
            sub_143611( ref cVar9 );
            return;
        }
        iVar7 = g_U14925[uParam0]._fU80._fU4;
    }
    else if (bParam2)
    {
        if (NOT g_U14925[uParam0]._fU160._fU80)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: proc mission", 64);
            sub_143611( ref cVar9 );
            return;
        }
        if (g_U14925[uParam0]._fU160._fU76 == -1)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: proc missionID", 64);
            sub_143611( ref cVar9 );
            return;
        }
        iVar7 = g_U14925[uParam0]._fU160._fU76;
    }
    else if (g_U14925[uParam0]._fU0._fU0 == 0)
    {
        StrCopy( ref cVar9, uParam4, 64 );
        ConcatString(ref cVar9, " Pass_Stats: mission", 64);
        sub_143611( ref cVar9 );
        return;
    }
    if (g_U14925[uParam0]._fU0._fU4 == -1)
    {
        StrCopy( ref cVar9, uParam4, 64 );
        ConcatString(ref cVar9, " Pass_Stats: missionID", 64);
        sub_143611( ref cVar9 );
        return;
    }
    iVar7 = g_U14925[uParam0]._fU0._fU4;
    iVar8 = sub_144188( uParam0, iVar7 );;;
    iVar25 = 0;
    if (bParam1)
    {
        g_U12382[uParam0]._fU24 = iVar7;
    }
    if (bParam2)
    {
        iVar25 = g_U14925[uParam0]._fU160._fU84;
    }
    if (bParam3)
    {
        I = 0;
        for ( I = 0; I < 5; I++ )
        {
            g_U12382[uParam0]._fU148[I]._fU8++;
            if ((g_U12382[uParam0]._fU148[I]._fU8 >= g_U12382[uParam0]._fU148[I]._fU4) AND (NOT g_U12382[uParam0]._fU148[I]._fU12))
            {
                iVar27 = 0;
                GET_GAME_TIMER( ref iVar27 );
                g_U12382[uParam0]._fU148[I]._fU16 = iVar27 + 90000;
            }
        }
    }
    if (NOT (sub_144636( uParam0, iVar7, iVar25, bParam1, bParam2, bParam3 )))
    {
        return;
    }
    if (bParam2)
    {
        g_U14925[uParam0]._fU160._fU84++;
    }
    SET_PLAYER_MOOD_NORMAL( sub_6741() );
    sub_5569();
    bVar28 = true;
    uVar29 = sub_144188( uParam0, iVar7 );
    uVar30 = sub_5189( uParam0 );
    if (bParam1)
    {
        iVar31 = g_U14925[uParam0]._fU0._fU56;
        if ((iVar31 == 6) || (iVar31 == 5))
        {
            bVar28 = false;
        }
        if (NOT g_U0)
        {
            bVar32 = true;
            if (IS_BIT_SET( g_U22960[uVar29]._fU108, 2 ))
            {
                REGISTER_MISSION_PASSED( ref g_U10961 );
                sub_148910( 9, ref g_U14925[uParam0]._fU0._fU24 );
                if ((g_U12379) AND (NOT bVar28))
                {
                    bVar32 = false;
                }
                if (bVar32)
                {
                    sub_143437();
                    g_U10953._fU8 = 1;
                    g_U10953._fU20 = sub_149361( uParam0, iVar7 );
                }
            }
            if (bVar28)
            {
                sub_149440( uParam0 );
                sub_149479( 0 );
                sub_5467( uVar30, 0 );
                g_U11076 = 0;
            }
            g_U12382[uParam0]._fU12 = 1;
        }
        if (bVar28)
        {
            sub_149654();
        }
    }
    if (bParam2)
    {
        sub_143437();
        sub_149753();
        sub_149479( 0 );
        g_U11062 = 1;
        g_U11076 = 0;
    }
    if (bParam3)
    {
        sub_143437();
        sub_149805();
        sub_149479( 0 );
        sub_5467( uVar30, 0 );
    }
    sub_5076();
    return;
}

void sub_143437()
{
    if (g_U0)
    {
        return;
    }
    g_U10953._fU0 = 1;
    g_U10953._fU4 = 0;
    g_U10953._fU8 = 0;
    g_U10953._fU12 = 0;
    g_U10953._fU16 = 0;
    g_U10953._fU20 = 0;
    g_U10953._fU28 = 5;
    return;
}

void sub_143611(unknown uParam0)
{
    PRINTSTRING( "FLOW WARNING: " );
    PRINTSTRING( uParam0 );
    PRINTNL();
    SCRIPT_ASSERT( "FLOW WARNING: Press IGNORE button and look at console window for details" );
    return;
}

int sub_144188(int iParam0, int iParam1)
{
    unknown uVar4;
    int iVar5;
    int Result;

    if ((iParam0 >= 11) || (iParam0 < 0))
    {
        sub_5420( "Main_Missions: Find_Trigger(): Illegal Strand ID" );
    }
    uVar4 = g_U28562[iParam0]._fU0;
    iVar5 = g_U28562[iParam0]._fU4;
    for ( Result = uVar4; Result <= iVar5; Result++ )
    {
        if (g_U22960[Result]._fU4 == iParam1)
        {
            return Result;
        }
    }
    return -1;
}

int sub_144636(unknown uParam0, unknown uParam1, unknown uParam2, boolean bParam3, unknown uParam4, unknown uParam5)
{
    boolean bVar8;
    unknown uVar9;

    bVar8 = false;
    switch (uParam0)
    {
        case 0:
        bVar8 = sub_144732( uParam1 );
        break;
        case 1:
        bVar8 = sub_145613( uParam1 );
        break;
        case 2:
        bVar8 = sub_145802( uParam1 );
        break;
        case 3:
        bVar8 = sub_146020( uParam1 );
        break;
        case 4:
        bVar8 = sub_146618( uParam1 );
        break;
        case 5:
        bVar8 = sub_146751( uParam1 );
        break;
        case 6:
        bVar8 = sub_146948( uParam1 );
        break;
        case 7:
        bVar8 = sub_147085( uParam1 );
        break;
        case 8:
        bVar8 = sub_147234( uParam1 );
        break;
        default:
        PRINTSTRING( "Strand ID: " );
        PRINTINT( uParam0 );
        PRINTNL();
        sub_146231( "Flow_Pass_Stats: Flow_Pass_Strand_Mission(): Unknown strand ID." );
    }
    if (NOT bVar8)
    {
        return 0;
    }
    uVar9 = sub_144188( uParam0, uParam1 );
    if (bParam3)
    {
        sub_147452( uVar9, uParam0 );
    }
    return 1;
}

int sub_144732(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 0;
    bVar4 = false;
    switch (uParam0)
    {
        case 1:
        sub_144899( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 2:
        sub_144899( iVar3, 1000, 5, 2, 0, 0 );
        break;
        case 3:
        sub_144899( iVar3, 1500, 5, 2, 0, 0 );
        break;
        case 4:
        sub_144899( iVar3, 500, 0, 0, 0, 0 );
        break;
        case 5:
        sub_144899( iVar3, 2500, 5, 2, 0, 0 );
        break;
        case 6:
        sub_144899( iVar3, 2000, 5, 2, 0, 0 );
        break;
        case 7:
        sub_144899( iVar3, 3000, 5, 2, 0, 0 );
        break;
        case 8:
        sub_144899( iVar3, 3500, 5, 2, 0, 0 );
        break;
        case 9:
        sub_144899( iVar3, 4000, 5, 2, 0, 0 );
        break;
        case 10:
        sub_144899( iVar3, 4500, 5, 2, 0, 0 );
        break;
        case 11:
        sub_144899( iVar3, 5000, 5, 2, 0, 0 );
        break;
        case 12:
        sub_144899( iVar3, 10000, 5, 2, 0, 0 );
        break;
        case 0:
        case 13:
        case 14:
        case 15:
        case 16: break;
        default:
        sub_145521( "Gay Tony", 1 );
        sub_144899( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_145521( "Gay Tony", 0 );
        sub_144899( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

void sub_144899(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, int iParam5)
{
    sub_144910( uParam1 );
    sub_145084( uParam0, 0, uParam2 );
    sub_145084( uParam0, 1, uParam3 );
    sub_145084( uParam0, 2, uParam4 );
    ProtectedSet(g_U22949[4], ProtectedGet(g_U22949[4]) + iParam5);
    sub_143320();
    return;
}

void sub_144910(unknown uParam0)
{
    ADD_SCORE( sub_6741(), uParam0 );
    sub_144935( uParam0 );
    return;
}

void sub_144935(int iParam0)
{
    if (g_U0)
    {
        return;
    }
    if (iParam0 < 0)
    {
        sub_5420( "Flow_Achievements_Increase_Cash_From_Missions: negative cash given. Tell Keith." );
    }
    INCREMENT_INT_STAT_NO_MESSAGE( 93, iParam0 );
    return;
}

void sub_145084(unknown uParam0, unknown uParam1, int iParam2)
{
    g_U12382[uParam0]._fU44[uParam1] += iParam2;
    if (g_U12382[uParam0]._fU44[uParam1] < 0)
    {
        g_U12382[uParam0]._fU44[uParam1] = 0;
    }
    if (g_U12382[uParam0]._fU44[uParam1] > 100)
    {
        g_U12382[uParam0]._fU44[uParam1] = 100;
    }
    return;
}

void sub_145521(unknown uParam0, unknown uParam1)
{
    return;
}

int sub_145613(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 1;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_144899( iVar3, 500, 5, 2, 0, 0 );
        break;
        case 1:
        sub_144899( iVar3, 1000, 5, 2, 0, 0 );
        break;
        case 2:
        sub_144899( iVar3, 1500, 5, 2, 0, 0 );
        break;
        default:
        sub_145521( "Mori", 1 );
        sub_144899( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_145521( "Mori", 0 );
        sub_144899( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_145802(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 2;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_144899( iVar3, 10000, 5, 2, 0, 0 );
        break;
        case 1:
        sub_144899( iVar3, 15000, 5, 2, 0, 0 );
        break;
        case 2:
        sub_144899( iVar3, 20000, 5, 2, 0, 0 );
        break;
        case 3:
        sub_144899( iVar3, 25000, 5, 2, 0, 0 );
        break;
        default:
        sub_145521( "Yusuf", 1 );
        sub_144899( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_145521( "Yusuf", 0 );
        sub_144899( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_146020(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 3;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_144899( iVar3, 5000, 5, 2, 0, 0 );
        break;
        case 1:
        sub_144899( iVar3, 2500, 5, 2, 0, 0 );
        break;
        case 2:
        sub_144899( iVar3, 0, sub_146109(), sub_146375(), 0, 0 );
        break;
        default:
        sub_145521( "Dominicans", 1 );
        sub_144899( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_145521( "Dominicans", 0 );
        sub_144899( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_146109()
{
    switch (l_U3026[0])
    {
        case 0: return 14;
        case 1: return 8;
        case 2: return 6;
        case 3: return 1;
        case 4: return 0;
    }
    sub_146231( "Get_TRUST(): Unknown Friend Pass ID" );
    return 0;
}

void sub_146231(unknown uParam0)
{
    PRINTSTRING( "FLOW ERROR: " );
    PRINTSTRING( uParam0 );
    PRINTNL();
    SCRIPT_ASSERT( "FLOW ERROR: Press IGNORE button and look at console window for details" );
    return;
}

int sub_146375()
{
    switch (l_U3026[1])
    {
        case 0: return 10;
        case 1: return 6;
        case 2: return 3;
        case 3: return 1;
        case 4: return 0;
    }
    sub_146231( "Get_LIKE(): Unknown Friend Pass ID" );
    return 0;
}

int sub_146618(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 4;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_144899( iVar3, 1000, 5, 2, 0, 0 );
        break;
        default:
        sub_145521( "Mum", 1 );
        sub_144899( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_145521( "Mum", 0 );
        sub_144899( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_146751(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 5;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_144899( iVar3, 2000, 5, 2, 0, 0 );
        break;
        case 1:
        sub_144899( iVar3, 4000, 5, 2, 0, 0 );
        break;
        case 2:
        sub_144899( iVar3, 6000, 5, 2, 0, 0 );
        break;
        default:
        sub_145521( "Bulgarin", 1 );
        sub_144899( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_145521( "Bulgarin", 0 );
        sub_144899( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_146948(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 6;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_144899( iVar3, 5000, 5, 2, 0, 0 );
        break;
        default:
        sub_145521( "Rocco", 1 );
        sub_144899( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_145521( "Rocco", 0 );
        sub_144899( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_147085(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 7;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_144899( iVar3, 0, sub_146109(), sub_146375(), 0, 0 );
        break;
        default:
        sub_145521( "Henrique", 1 );
        sub_144899( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_145521( "Henrique", 0 );
        sub_144899( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_147234(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 8;
    bVar4 = false;
    if (bVar4)
    {
        sub_145521( "Reserve 1", 0 );
        sub_144899( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

void sub_147452(int iParam0, int iParam1)
{
    if (g_U0)
    {
        return;
    }
    if (iParam0 == -1)
    {
        return;
    }
    if (iParam1 == -1)
    {
        return;
    }
    if (g_U10972)
    {
        return;
    }
    if (sub_147513( iParam0, iParam1 ))
    {
        INCREMENT_INT_STAT_NO_MESSAGE( 253, 1 );
        sub_148239( iParam1 );
    }
    return;
}

int sub_147513(int iParam0, int iParam1)
{
    int iVar4;
    boolean bVar5;
    int iVar6;

    if (g_U0)
    {
        return 0;
    }
    if (iParam0 == -1)
    {
        return 0;
    }
    if (iParam1 == -1)
    {
        return 0;
    }
    iVar4 = g_U14925[iParam1]._fU0._fU56;
    bVar5 = iVar4 == 6;
    if (bVar5)
    {
        return 0;
    }
    iVar6 = 0;
    if (NOT (IS_BIT_SET( g_U22960[iParam0]._fU108, 3 )))
    {
        iVar6 = g_U22960[iParam0]._fU104;
        if (iVar6 > 0)
        {
            sub_147653( 0, iVar6 );
            g_U14902[iParam1]._fU4 += iVar6;
        }
        SET_BIT( ref g_U22960[iParam0]._fU108, 3 );
        return 1;
    }
    return 0;
}

void sub_147653(unknown uParam0, int iParam1)
{
    g_U28780[uParam0]._fU4 += iParam1;
    if (g_U28780[uParam0]._fU4 > g_U28780[uParam0]._fU0)
    {
        SCRIPT_ASSERT( "Flow_Achievements_Game_Progress_Made: Current Category is over target value" );
        g_U28780[uParam0]._fU4 = g_U28780[uParam0]._fU0;
    }
    sub_147823( 0 );
    return;
}

void sub_147823(boolean bParam0)
{
    float fVar3;
    float fVar4;
    float fVar5;
    float fVar6;
    boolean bVar7;
    int I;

    fVar3 = 0.00000000;
    fVar4 = 0.00000000;
    fVar5 = 0.00000000;
    fVar6 = 0.00000000;
    bVar7 = true;
    I = 0;
    for ( I = 0; I < 8; I++ )
    {
        if (g_U28780[I]._fU4 == g_U28780[I]._fU0)
        {
            fVar4 = g_U28780[I]._fU8;
        }
        else
        {
            bVar7 = false;
            fVar5 = TO_FLOAT( g_U28780[I]._fU0 );
            fVar6 = TO_FLOAT( g_U28780[I]._fU4 );
            fVar4 = (fVar6 / fVar5) * g_U28780[I]._fU8;
        }
        fVar3 += fVar4;
    }
    if (fVar3 > 100.00000000)
    {
        fVar3 = 99.99000000;
    }
    if (bVar7)
    {
        fVar3 = 100.00000000;
    }
    SET_FLOAT_STAT( 187, fVar3 );
    if (bVar7)
    {
        sub_148068();
    }
    if ((NOT ((# -NULL-0xc27bfa()) || (# -NULL-0xc27c84()))) AND ((NOT bParam0) AND (bVar7)))
    {
        PRINT_HELP( "GAME100" );
    }
    return;
}

void sub_148068()
{
    ENABLE_MAX_AMMO_CAP( 0 );
    g_U15811[5] = 1;
    return;
}

void sub_148239(int iParam0)
{
    float fVar3;
    float fVar4;
    float fVar5;

    if (g_U0)
    {
        return;
    }
    if (iParam0 == -1)
    {
        return;
    }
    if (g_U14902[iParam0]._fU0 == 0)
    {
        return;
    }
    fVar3 = 0.00000000;
    fVar4 = 0.00000000;
    fVar5 = 0.00000000;
    if (g_U14902[iParam0]._fU4 == g_U14902[iParam0]._fU0)
    {
        fVar3 = 100.00000000;
    }
    else
    {
        fVar4 = TO_FLOAT( g_U14902[iParam0]._fU0 );
        fVar5 = TO_FLOAT( g_U14902[iParam0]._fU4 );
        fVar3 = fVar5 / fVar4;
        fVar3 *= 100.00000000;
    }
    switch (iParam0)
    {
        case 0:
        sub_148478( 188 );
        SET_FLOAT_STAT( 188, fVar3 );
        break;
        case 1:
        sub_148478( 192 );
        SET_FLOAT_STAT( 192, fVar3 );
        break;
        case 2:
        sub_148478( 191 );
        SET_FLOAT_STAT( 191, fVar3 );
        break;
        case 3:
        sub_148478( 197 );
        SET_FLOAT_STAT( 197, fVar3 );
        break;
        case 4: break;
        case 5:
        sub_148478( 200 );
        SET_FLOAT_STAT( 200, fVar3 );
        break;
        case 6:
        sub_148478( 201 );
        SET_FLOAT_STAT( 201, fVar3 );
        break;
        default: return;
    }
    return;
}

void sub_148478(unknown uParam0)
{
    if ((GET_STAT_FRONTEND_VISIBILITY( uParam0 )) == 0)
    {
        SET_STAT_FRONTEND_VISIBILITY( uParam0, 1 );
    }
    return;
}

void sub_148910(unknown uParam0, unknown uParam1)
{
    sub_148929( uParam0, 0, 0.00000000, uParam1 );
    return;
}

void sub_148929(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;

    switch (uParam0)
    {
        case 0:
        PLAYSTATS_INT( "SPRUNK_BOUGHT", uParam1 );
        break;
        case 1:
        PLAYSTATS_INT( "HOTDOG_BOUGHT", uParam1 );
        break;
        case 2:
        PLAYSTATS_INT( "NUTS_BOUGHT", uParam1 );
        break;
        case 3:
        PLAYSTATS_INT( "BURGERS_BOUGHT", uParam1 );
        break;
        case 7:
        PLAYSTATS_INT( "DONATE_BEGGAR", uParam1 );
        break;
        case 8:
        PLAYSTATS_INT( "DONATE_BUSKER", uParam1 );
        break;
        case 4:
        PLAYSTATS_INT( "BSHOT_BOUGHT", uParam1 );
        break;
        case 5:
        PLAYSTATS_INT( "CBELL_BOUGHT", uParam1 );
        break;
        case 6:
        PLAYSTATS_INT( "CAFE_BOUGHT", uParam1 );
        break;
        case 9: break;
    }
    return;
}

int sub_149361(int iParam0, int iParam1)
{
    if (iParam0 == 0)
    {
        if (iParam1 == 12)
        {
            return 1;
        }
    }
    if (iParam0 == 0)
    {
        if (iParam1 == 0)
        {
            return 1;
        }
    }
    return 0;
}

void sub_149440(unknown uParam0)
{
    sub_4937();
    g_U12382[uParam0]._fU120 = 0;
    return;
}

void sub_149479(unknown uParam0)
{
    if (g_U10754)
    {
        g_U10754 = 0;
        return;
    }
    SET_BIT( ref g_U10751._fU0, 1 );
    sub_149530( ref g_U10751._fU0, 2, uParam0 );
    CLEAR_BIT( ref g_U10751._fU0, 3 );
    g_U10751._fU4 = 0;
    g_U10751._fU8 = 0;
    return;
}

void sub_149530(unknown uParam0, unknown uParam1, boolean bParam2)
{
    if (bParam2)
    {
        SET_BIT( uParam0, uParam1 );
        return;
    }
    CLEAR_BIT( uParam0, uParam1 );
    return;
}

void sub_149654()
{
    sub_149663();
    return;
}

void sub_149663()
{
    if (g_U0)
    {
        return;
    }
    if (COMPARE_STRING( ref g_U10966, "" ))
    {
        return;
    }
    PLAYSTATS_MISSION_PASSED( ref g_U10966 );
    StrCopy( ref g_U10966, "", 16 );
    return;
}

void sub_149753()
{
    sub_149663();
    return;
}

void sub_149805()
{
    sub_149663();
    StrCopy( ref g_U10966, "FPASS", 16 );
    return;
}

void sub_149916()
{
    switch (l_U4232)
    {
        case 0:
        if (NOT g_U43133)
        {
            if ((NOT (sub_55034( l_U4204 ))) AND (NOT (sub_45643( 0 ))))
            {
                switch (l_U4233)
                {
                    case 3:
                    if (sub_150055( 0, "E2T3_FCABN", "E2T5BAU", 1000, 1 ))
                    {
                        l_U4232 = 1;
                    }
                    break;
                    case 9:
                    if (DOES_CHAR_EXIST( l_U3984 ))
                    {
                        DELETE_CHAR( ref l_U3984 );
                    }
                    if (sub_150055( 0, "E2T3_FCABN", "E2T5BAU", 1000, 1 ))
                    {
                        l_U4232 = 1;
                    }
                    break;
                    case 0:
                    if (sub_150055( 0, "E2T3_FCTGN", "E2T5BAU", 1000, 1 ))
                    {
                        l_U4232 = 1;
                    }
                    break;
                }
                l_U4118 = 0;
            }
        }
        else
        {
            sub_153334( 0 );
        }
        break;
        case 1:
        if ((sub_154173() == 2) || (sub_153912( 0 )))
        {
            sub_153334( 0 );
        }
        break;
    }
    return;
}

void sub_150055(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    char[12] cVar7;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown[2] uVar16;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;

    array(ref cVar7, 2);
    StrCopy( ref cVar7[0], uParam1, 16 );
    StrCopy( ref cVar7[1], "END", 16 );
    array(ref uVar16, 2);
    return sub_150115( uParam0, ref cVar7, uParam2, 0, ref uVar16, ref uVar16, "", uParam3, 1, 0, 1, 0, 0, uParam4 );
}

int sub_150115(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, boolean bParam8, unknown uParam9, unknown uParam10, boolean bParam11, unknown uParam12, unknown uParam13)
{
    int I;

    if (g_U95._fU540)
    {
        return 0;
    }
    sub_11659( "\n SETUP_AUDIO_PHONE_CALL has been called" );
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if (g_U8865 >= 6)
        {
            sub_11659( "\n scripted conversation is ongoing and priority is high" );
            return 0;
        }
    }
    if (NOT (IS_PLAYER_PLAYING( sub_6741() )))
    {
        sub_11659( "\n player is not playing" );
        return 0;
    }
    if ((NOT (IS_CHAR_SITTING_IN_ANY_CAR( sub_6646() ))) AND (IS_CHAR_IN_ANY_CAR( sub_6646() )))
    {
        sub_11659( "\n player is in middle of getting in/out of a car" );
        return 0;
    }
    switch (g_U8867)
    {
        case 4:
        case 1:
        case 2:
        sub_11659( "\n speechControlStatus = SPEECH_CONTROL_STREAMING_MOBILE OR speechControlStatus = SPEECH_CONTROL_STREAMING_CONVERSATION" );
        return 0;
        break;
    }
    switch (uParam9)
    {
        case 0:
        if ((NOT bParam11) AND (NOT sub_150630()))
        {
            return 0;
        }
        g_U95._fU60 = uParam0;
        g_U95._fU48 = 1;
        g_U16014[g_U95._fU60]._fU212._fU24 = 0;
        break;
        case 1:
        if (g_U95._fU368)
        {
            if ((NOT bParam8) || (g_U95._fU372))
            {
                sub_11659( "\n cellphone3Dstructure.missionAnsweredPhone OR (NOT missionCall)" );
                return 0;
            }
        }
        if (g_U95._fU60 != -1)
        {
            if ((g_U16014[g_U95._fU60]._fU212._fU24 != 4) AND (g_U16014[g_U95._fU60]._fU212._fU24 != 5))
            {
                g_U16014[g_U95._fU60]._fU212._fU24 = 0;
            }
        }
        g_U95._fU368 = 1;
        g_U95._fU372 = bParam8;
        uParam0 = g_U95._fU60;
        break;
        case 2:
        if ((NOT bParam11) AND (NOT sub_150630()))
        {
            return 0;
        }
        g_U95._fU60 = uParam0;
        g_U95._fU52 = 1;
        g_U95._fU56 = 1;
        g_U95._fU372 = 1;
        g_U95._fU368 = 1;
        g_U16014[g_U95._fU60]._fU212._fU24 = 0;
        break;
    }
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        ABORT_SCRIPTED_CONVERSATION( 0 );
    }
    sub_152002( uParam0, ref g_U95._fU176 );
    sub_152662( ref g_U95._fU160 );
    g_U95._fU380 = uParam10;
    g_U95._fU376 = bParam11;
    g_U95._fU420 = uParam12;
    g_U95._fU424 = -1;
    g_U95._fU364 = uParam3;
    StrCopy( ref g_U95._fU144, uParam2, 16 );
    for ( I = 0; I <= (g_U8972 - 1); I++ )
    {
        StrCopy( ref g_U8972[I], "END", 16 );
    }
    for ( I = 0; I <= ((uParam1^) - 1); I++ )
    {
        g_U8972[I] = {(uParam1^)[I]};
        sub_13937( "\n Telling phone we want to play these labels ", ref (uParam1^)[I] );
    }
    for ( I = 0; I <= (g_U95._fU260 - 1); I++ )
    {
        if (I < (uParam4^))
        {
            g_U95._fU260[I] = {(uParam4^)[I]};
        }
        else
        {
            StrCopy( ref g_U95._fU260[I], "", 16 );
        }
    }
    for ( I = 0; I <= (g_U95._fU312 - 1); I++ )
    {
        if (I < (uParam5^))
        {
            g_U95._fU312[I] = {(uParam5^)[I]};
        }
        else
        {
            StrCopy( ref g_U95._fU312[I], "", 16 );
        }
    }
    StrCopy( ref g_U95._fU208, uParam6, 16 );
    g_U95._fU80 = uParam7;
    g_U95._fU384 = 0;
    g_U95._fU532 = uParam13;
    g_U8867 = 4;
    return 1;
}

int sub_150630()
{
    if ((g_U95._fU52) || (g_U95._fU48))
    {
        return 0;
    }
    if (g_U95._fU40 == 0)
    {
        return 0;
    }
    if (NOT sub_150687())
    {
        return 0;
    }
    if (g_U560 == 1)
    {
        return 0;
    }
    return 1;
}

int sub_150687()
{
    boolean bVar2;
    unknown uVar3;

    bVar2 = false;
    if (NOT (IS_PLAYER_PLAYING( sub_6741() )))
    {
        sub_11659( "\n PHONE SCREEN CHECK - player is not playing." );
        return 0;
    }
    if (NETWORK_HAVE_SUMMONS())
    {
        sub_11659( "\n PHONE SCREEN CHECK - player has been summoned into another session." );
        return 0;
    }
    if (g_U95._fU376)
    {
        sub_11659( "\n PHONE CHECK - .cellphone3Dstructure.overrideCellphoneChecks is returning TRUE" );
        return 1;
    }
    if ((g_U95._fU104) || (g_U95._fU100))
    {
        sub_11659( "\n PHONE CHECK - .hideCellphone OR .disableCellphone are returning TRUE." );
        return 0;
    }
    if (NOT (IS_PLAYER_FREE_FOR_AMBIENT_TASK( sub_6741() )))
    {
        if (NOT (IS_CHAR_IN_ANY_CAR( sub_6646() )))
        {
            GET_SCRIPT_TASK_STATUS( sub_6646(), 53, ref uVar3 );
            switch (uVar3)
            {
                case 7:
                case 2:
                sub_11659( "\n PHONE CHECK - player is not free for an ambient task and is not in a car)" );
                return 0;
                break;
                default:
                if (NOT (IS_CHAR_IN_WATER( sub_6646() )))
                {
                    bVar2 = true;
                }
                else
                {
                    sub_11659( "\n PHONE CHECK - player is in water" );
                    return 0;
                }
                break;
            }
        }
    }
    if ((NOT bVar2) AND (CODE_WANTS_MOBILE_PHONE_REMOVED()))
    {
        sub_11659( "\n PHONE CHECK - CODE_WANTS_MOBILE_PHONE_REMOVED() is returning TRUE." );
        return 0;
    }
    if (NOT (IS_PLAYER_SCRIPT_CONTROL_ON( sub_6741() )))
    {
        sub_11659( "\n PHONE CHECK - IS_PLAYER_SCRIPT_CONTROL_ON is returning FALSE." );
        return 0;
    }
    return 1;
}

void sub_152002(unknown uParam0, unknown uParam1)
{
    switch (uParam0)
    {
        case 0:
        StrCopy( (uParam1^), "TONY", 32 );
        break;
        case 1:
        StrCopy( (uParam1^), "MORI", 32 );
        break;
        case 2:
        StrCopy( (uParam1^), "YUSUF", 32 );
        break;
        case 3:
        StrCopy( (uParam1^), "ARMANDO", 32 );
        break;
        case 4:
        StrCopy( (uParam1^), "ADRIANA", 32 );
        break;
        case 5:
        StrCopy( (uParam1^), "BULGARIN", 32 );
        break;
        case 6:
        StrCopy( (uParam1^), "ROCCO", 32 );
        break;
        case 7:
        StrCopy( (uParam1^), "HENRIQUE", 32 );
        break;
        case 9:
        StrCopy( (uParam1^), "reserve1", 32 );
        break;
        case 29:
        StrCopy( (uParam1^), "ASSISTANT", 32 );
        break;
        case 28:
        StrCopy( (uParam1^), "DESSIE", 32 );
        break;
        case 16:
        StrCopy( (uParam1^), "JOJO", 32 );
        break;
        case 17:
        StrCopy( (uParam1^), "TAYLOR", 32 );
        break;
        case 18:
        StrCopy( (uParam1^), "VIKKY", 32 );
        break;
        case 19:
        StrCopy( (uParam1^), "ANA", 32 );
        break;
        case 20:
        StrCopy( (uParam1^), "DANA", 32 );
        break;
        case 21:
        StrCopy( (uParam1^), "CINDY", 32 );
        break;
        case 22:
        StrCopy( (uParam1^), "TANIA", 32 );
        break;
        case 23:
        StrCopy( (uParam1^), "LILY", 32 );
        break;
        case 24:
        StrCopy( (uParam1^), "TAMI", 32 );
        break;
        case 25:
        StrCopy( (uParam1^), "DOMINO", 32 );
        break;
        case 26:
        StrCopy( (uParam1^), "HEIDI", 32 );
        break;
        case 27:
        StrCopy( (uParam1^), "SIMONE", 32 );
        break;
        case 12:
        StrCopy( (uParam1^), "LAZLOW", 32 );
        break;
        default:
        StrCopy( (uParam1^), "", 32 );
        break;
    }
    return;
}

void sub_152662(unknown uParam0)
{
    StrCopy( (uParam0^), "LUIS", 16 );
    return;
}

void sub_153334(unknown uParam0)
{
    if (DOES_CHAR_EXIST( l_U3984 ))
    {
        if (NOT (IS_CHAR_INJURED( l_U3984 )))
        {
            if (IS_PED_IN_GROUP( l_U3984 ))
            {
                REMOVE_CHAR_FROM_GROUP( l_U3984 );
            }
            SET_CHAR_RELATIONSHIP( l_U3984, 1, 0 );
            CLEAR_CHAR_TASKS( l_U3984 );
            TASK_WANDER_STANDARD( l_U3984 );
        }
    }
    switch (uParam0)
    {
        case 0: break;
        case 1:
        PRINT_NOW( "T3_T_DIED", 7500, 0 );
        break;
        case 2:
        PRINT_NOW( "T3_R_DIED", 7500, 0 );
        break;
        case 8:
        PRINT_NOW( "T3_R_LOST", 7500, 0 );
        break;
        case 3:
        PRINT_NOW( "T3_T_LEFT", 7500, 0 );
        break;
        case 4:
        PRINT_NOW( "T3_B_DIED2", 7500, 0 );
        break;
        case 5:
        PRINT_NOW( "T3_R_B_DIED", 7500, 0 );
        break;
        case 6:
        PRINT_NOW( "T3_CARDEAD", 7500, 0 );
        break;
        case 7:
        PRINT_NOW( "T3_CARSTUCK", 7500, 0 );
        break;
        case 9:
        PRINT_NOW( "T3_R_LEFT", 7500, 0 );
        break;
    }
    sub_153797();
    sub_6577();
    return;
}

void sub_153797()
{
    int iVar2;

    iVar2 = 0;
    sub_153811( iVar2 );
    sub_5560( iVar2 );
    return;
}

void sub_153811(unknown uParam0)
{
    if (g_U12382[uParam0]._fU12)
    {
        return;
    }
    SET_PLAYER_MOOD_PISSED_OFF( sub_6741(), 150 );
    CLEAR_HELP();
    sub_4274( uParam0 );
    return;
}

int sub_153912(boolean bParam0)
{
    unknown uVar3;

    if (g_U95._fU60 != -1)
    {
        switch (g_U16014[g_U95._fU60]._fU212._fU24)
        {
            case 0:
            case 3:
            case 4:
            case 5:
            return 0;
            break;
            default:
            if (g_U95._fU0 != 1000)
            {
                return 0;
            }
            break;
        }
    }
    if (bParam0)
    {
        GET_SCRIPT_TASK_STATUS( sub_6646(), 53, ref uVar3 );
        switch (uVar3)
        {
            case 7:
            case 2:
            return 1;
            break;
            default:
            sub_11659( "\n HAS_PHONE_CALL_ENDED - player is still using the phone" );
            return 0;
            break;
        }
    }
    return 1;
}

int sub_154173()
{
    if (g_U95._fU60 != -1)
    {
        return g_U16014[g_U95._fU60]._fU212._fU24;
    }
    return 6;
}

void sub_154296()
{
    vector vVar2;
    int I;
    int iVar6;
    int iVar7;
    int iVar8;

    vVar2 = {-84.99040000, -229.34410000, 13.01370000};
    I = 0;
    iVar6 = 0;
    iVar7 = -1;
    switch (l_U4230)
    {
        case 0:
        if ((NOT IS_SCREEN_FADING()) AND ((IS_PLAYER_CONTROL_ON( sub_6741() )) AND ((sub_47538( 1, 1 )) AND (NOT IS_MESSAGE_BEING_DISPLAYED()))))
        {
            SET_PLAYER_CONTROL( sub_6741(), 0 );
            if (NOT IS_SCREEN_FADED_OUT())
            {
                DO_SCREEN_FADE_OUT( 500 );
                while (NOT IS_SCREEN_FADED_OUT())
                {
                    WAIT( 0 );
                }
            }
            CLEAR_PRINTS();
            CLEAR_HELP();
            sub_7873();
            sub_8273();
            I = 0;
            for ( I = 0; I < l_U4054; I++ )
            {
                if (DOES_VEHICLE_EXIST( l_U4054[I] ))
                {
                    MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U4054[I] );
                }
            }
            g_U2792 = 1;
            DISPLAY_RADAR( 0 );
            SET_WIDESCREEN_BORDERS( 1 );
            CLEAR_AREA( vVar2.x, vVar2.y, vVar2.z, 200.00000000, 1 );
            SET_CAR_DENSITY_MULTIPLIER( 0.00000000 );
            SET_PED_DENSITY_MULTIPLIER( 0.00000000 );
            sub_57241( 0 );
            if (DOES_CHAR_EXIST( l_U3984 ))
            {
                DELETE_CHAR( ref l_U3984 );
            }
            sub_15006( 0 );
            while (NOT (sub_15578( 0 )))
            {
                WAIT( 0 );
            }
            sub_16300( 0, ref l_U3984, -83.76510000, -226.42570000, 13.15670000, 47.40950000 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3984, 1 );
            SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( l_U3984, 0 );
            sub_13813( 1, l_U3984, "TONY", 0 );
            sub_21059( 0 );
            GET_CHAR_PROP_INDEX( l_U3984, 1, ref iVar7 );
            if (NOT (iVar7 == iVar6))
            {
                SET_CHAR_PROP_INDEX( l_U3984, 1, iVar6 );
            }
            if (IS_CHAR_IN_ANY_CAR( sub_6646() ))
            {
                WARP_CHAR_FROM_CAR_TO_COORD( sub_6646(), -84.76880000, -225.53120000, 13.11350000 );
            }
            else
            {
                SET_CHAR_COORDINATES( sub_6646(), -84.76880000, -225.53120000, 13.11350000 );
            }
            SET_CHAR_HEADING( sub_6646(), 219.68160000 );
            if (DOES_VEHICLE_EXIST( l_U4051 ))
            {
                DELETE_CAR( ref l_U4051 );
            }
            HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_6646(), 1 );
            GIVE_WEAPON_TO_CHAR( l_U3984, 0, 0, 1 );
            CLEAR_CHAR_TASKS_IMMEDIATELY( sub_6646() );
            CLEAR_CHAR_TASKS_IMMEDIATELY( l_U3984 );
            TASK_TURN_CHAR_TO_FACE_CHAR( sub_6646(), l_U3984 );
            TASK_TURN_CHAR_TO_FACE_CHAR( l_U3984, sub_6646() );
            TASK_LOOK_AT_CHAR( sub_6646(), l_U3984, -2, 0 );
            TASK_LOOK_AT_CHAR( l_U3984, sub_6646(), -2, 0 );
            CREATE_CAM( 14, ref l_U4067 );
            SET_CAM_POS( l_U4067, -85.60995000, -223.86620000, 14.61199000 );
            SET_CAM_ROT( l_U4067, -1.62878700, -0.00000000, -150.47790000 );
            SET_CAM_FOV( l_U4067, 35.10003000 );
            CREATE_CAM( 14, ref l_U4068 );
            SET_CAM_POS( l_U4068, -84.60994000, -223.54620000, 14.61199000 );
            SET_CAM_ROT( l_U4068, -1.62878700, 0.00000000, -175.45890000 );
            SET_CAM_FOV( l_U4068, 35.10003000 );
            CREATE_CAM( 3, ref l_U4069 );
            SET_CAM_INTERP_STYLE_CORE( l_U4069, l_U4067, l_U4068, 30000, 0 );
            SET_CAM_INTERP_STYLE_DETAILED( l_U4069, 0, 0, 1, 1 );
            SET_USE_HIGHDOF( 1 );
            SET_CAM_FAR_DOF( l_U4067, 10.00000000 );
            SET_CAM_FAR_DOF( l_U4068, 10.00000000 );
            sub_56223( l_U4069, 1 );
            LOAD_SCENE( vVar2.x, vVar2.y, vVar2.z );
            WAIT( 1000 );
            if (NOT IS_SCREEN_FADED_IN())
            {
                DO_SCREEN_FADE_IN( 500 );
                while (NOT IS_SCREEN_FADED_IN())
                {
                    WAIT( 0 );
                }
            }
            l_U4202 = 1;
            switch (l_U4233)
            {
                case 2:
                sub_39077( "E2T3_FCRDI", 62, 6, "E2T5BAU", 0, 0 );
                break;
                case 8:
                sub_39077( "E2T3_FCLR", 67, 6, "E2T5BAU", 0, 0 );
                break;
                case 9:
                sub_39077( "E2T3_FCTGN", 65, 6, "E2T5BAU", 0, 0 );
                break;
                case 6:
                sub_39077( "E2T3_FCCAR", 61, 6, "E2T5BAU", 0, 0 );
                break;
                case 0:
                sub_39077( "E2T3_FCTGN", 65, 6, "E2T5BAU", 0, 0 );
                break;
            }
            SETTIMERB( 0 );
            l_U4230 = 1;
        }
        break;
        case 1:
        BLOCK_CHAR_AMBIENT_ANIMS( sub_6646(), 1 );
        if ((NOT sub_45668()) AND (TIMERB() > 7000))
        {
            if (NOT (IS_CHAR_INJURED( l_U3984 )))
            {
                GET_SCRIPT_TASK_STATUS( l_U3984, 27, ref iVar8 );
                if (iVar8 != 1)
                {
                    TASK_FOLLOW_NAV_MESH_TO_COORD( l_U3984, -68.52761000, -224.11480000, 13.72620000, 2, -2, 0.50000000 );
                    sub_56223( l_U4069, 0 );
                    SET_CAM_POS( l_U4067, -73.18764000, -225.45590000, 14.05332000 );
                    SET_CAM_ROT( l_U4067, 2.92354600, -0.00000000, 92.18024000 );
                    SET_CAM_FOV( l_U4067, 35.10003000 );
                    SET_USE_HIGHDOF( 1 );
                    SET_CAM_FAR_DOF( l_U4067, 50.00000000 );
                    sub_56223( l_U4067, 1 );
                    SETTIMERB( 0 );
                }
                else if (TIMERB() > 2500)
                {
                    l_U4230 = 2;
                }
            }
        }
        if (sub_56753())
        {
            l_U4230 = 2;
        }
        break;
        case 2:
        if (NOT IS_SCREEN_FADED_OUT())
        {
            DO_SCREEN_FADE_OUT( 500 );
            while (NOT IS_SCREEN_FADED_OUT())
            {
                WAIT( 0 );
            }
        }
        sub_11417( 0 );
        DELETE_CHAR( ref l_U3984 );
        if (DOES_VEHICLE_EXIST( l_U4061 ))
        {
            MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U4061 );
        }
        if (DOES_VEHICLE_EXIST( l_U4053 ))
        {
            MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U4053 );
        }
        if (DOES_CAM_EXIST( l_U4069 ))
        {
            DESTROY_CAM( l_U4069 );
        }
        if (DOES_CAM_EXIST( l_U4067 ))
        {
            DESTROY_CAM( l_U4067 );
        }
        if (DOES_CAM_EXIST( l_U4068 ))
        {
            DESTROY_CAM( l_U4068 );
        }
        SET_USE_HIGHDOF( 0 );
        ACTIVATE_SCRIPTED_CAMS( 0, 0 );
        CLEAR_CHAR_TASKS_IMMEDIATELY( sub_6646() );
        SET_CAM_BEHIND_PED( sub_6646() );
        SET_GAME_CAM_HEADING( 0.00000000 );
        DISPLAY_RADAR( 1 );
        SET_WIDESCREEN_BORDERS( 0 );
        HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_6646(), 0 );
        LOAD_SCENE( vVar2.x, vVar2.y, vVar2.z );
        if (NOT IS_SCREEN_FADED_IN())
        {
            DO_SCREEN_FADE_IN( 500 );
            while (NOT IS_SCREEN_FADED_IN())
            {
                WAIT( 0 );
            }
        }
        SET_PLAYER_CONTROL( sub_6741(), 1 );
        sub_153334( 0 );
        break;
    }
    return;
}

void sub_156410()
{
    vector vVar2;
    int I;
    int iVar6;

    vVar2 = {-393.95210000, -462.77510000, 3.92750000};
    I = 0;
    switch (l_U4230)
    {
        case 0:
        if ((NOT IS_SCREEN_FADING()) AND ((IS_PLAYER_CONTROL_ON( sub_6741() )) AND ((sub_47538( 1, 1 )) AND (NOT IS_MESSAGE_BEING_DISPLAYED()))))
        {
            SET_PLAYER_CONTROL( sub_6741(), 0 );
            CLEAR_PRINTS();
            CLEAR_HELP();
            if (NOT IS_SCREEN_FADED_OUT())
            {
                DO_SCREEN_FADE_OUT( 500 );
                while (NOT IS_SCREEN_FADED_OUT())
                {
                    WAIT( 0 );
                }
            }
            sub_7873();
            sub_8273();
            I = 0;
            for ( I = 0; I < l_U4054; I++ )
            {
                if (DOES_VEHICLE_EXIST( l_U4054[I] ))
                {
                    MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U4054[I] );
                }
            }
            g_U2792 = 1;
            if (DOES_CHAR_EXIST( l_U3985 ))
            {
                DELETE_CHAR( ref l_U3985 );
            }
            if (DOES_CHAR_EXIST( l_U3984 ))
            {
                DELETE_CHAR( ref l_U3984 );
            }
            DISPLAY_RADAR( 0 );
            SET_WIDESCREEN_BORDERS( 1 );
            CLEAR_AREA( vVar2.x, vVar2.y, vVar2.z, 200.00000000, 1 );
            SET_CAR_DENSITY_MULTIPLIER( 0.00000000 );
            SET_PED_DENSITY_MULTIPLIER( 0.00000000 );
            sub_11417( 0 );
            if (DOES_CHAR_EXIST( l_U3983 ))
            {
                DELETE_CHAR( ref l_U3983 );
            }
            sub_15006( 6 );
            while (NOT (sub_15578( 6 )))
            {
                WAIT( 0 );
            }
            sub_16300( 6, ref l_U3983, -393.95210000, -462.77510000, 3.92750000, 121.15090000 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3983, 1 );
            SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( l_U3983, 0 );
            BLOCK_CHAR_AMBIENT_ANIMS( l_U3983, 1 );
            sub_13813( 2, l_U3983, "ROCCO", 0 );
            sub_21059( 6 );
            if (IS_CHAR_IN_ANY_CAR( sub_6646() ))
            {
                WARP_CHAR_FROM_CAR_TO_COORD( sub_6646(), -394.75620000, -463.57270000, 3.92870000 );
            }
            else
            {
                SET_CHAR_COORDINATES( sub_6646(), -394.75620000, -463.57270000, 3.92870000 );
            }
            SET_CHAR_HEADING( sub_6646(), 340.08400000 );
            if (DOES_VEHICLE_EXIST( l_U4051 ))
            {
                DELETE_CAR( ref l_U4051 );
            }
            if (DOES_VEHICLE_EXIST( l_U4052 ))
            {
                DELETE_CAR( ref l_U4052 );
            }
            if (DOES_VEHICLE_EXIST( l_U4053 ))
            {
                DELETE_CAR( ref l_U4053 );
            }
            HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_6646(), 1 );
            GIVE_WEAPON_TO_CHAR( l_U3983, 0, 0, 1 );
            CLEAR_CHAR_TASKS_IMMEDIATELY( sub_6646() );
            TASK_TURN_CHAR_TO_FACE_CHAR( sub_6646(), l_U3983 );
            TASK_TURN_CHAR_TO_FACE_CHAR( l_U3983, sub_6646() );
            TASK_LOOK_AT_CHAR( sub_6646(), l_U3983, -2, 0 );
            TASK_LOOK_AT_CHAR( l_U3983, sub_6646(), -2, 0 );
            CREATE_CAM( 14, ref l_U4067 );
            SET_CAM_POS( l_U4067, -396.08180000, -463.45520000, 5.60958000 );
            SET_CAM_ROT( l_U4067, -8.46221900, 0.00000000, -85.49083000 );
            SET_CAM_FOV( l_U4067, 35.70002000 );
            CREATE_CAM( 14, ref l_U4068 );
            SET_CAM_POS( l_U4068, -396.18660000, -462.23940000, 5.62723900 );
            SET_CAM_ROT( l_U4068, -8.46221800, 0.00000000, -118.95150000 );
            SET_CAM_FOV( l_U4068, 35.70002000 );
            CREATE_CAM( 3, ref l_U4069 );
            SET_CAM_INTERP_STYLE_CORE( l_U4069, l_U4067, l_U4068, 30000, 0 );
            SET_CAM_INTERP_STYLE_DETAILED( l_U4069, 0, 0, 1, 1 );
            SET_USE_HIGHDOF( 1 );
            SET_CAM_FAR_DOF( l_U4067, 10.00000000 );
            SET_CAM_FAR_DOF( l_U4068, 10.00000000 );
            sub_56223( l_U4069, 1 );
            LOAD_SCENE( vVar2.x, vVar2.y, vVar2.z );
            WAIT( 1000 );
            if (NOT IS_SCREEN_FADED_IN())
            {
                DO_SCREEN_FADE_IN( 500 );
                while (NOT IS_SCREEN_FADED_IN())
                {
                    WAIT( 0 );
                }
            }
            CLEAR_PRINTS();
            CLEAR_HELP();
            sub_11417( 1 );
            l_U4202 = 1;
            l_U3877 = 0;
            switch (l_U4233)
            {
                case 1:
                sub_39077( "E2T3_FCTDI", 63, 6, "E2T5BAU", 0, 0 );
                break;
                case 0:
                sub_39077( "E2T3_FCRGN", 66, 6, "E2T5BAU", 0, 0 );
                break;
            }
            SETTIMERB( 0 );
            l_U4230 = 1;
        }
        break;
        case 1:
        if ((NOT sub_45668()) AND (TIMERB() > 7000))
        {
            if (NOT (IS_CHAR_INJURED( l_U3983 )))
            {
                GET_SCRIPT_TASK_STATUS( l_U3983, 27, ref iVar6 );
                if (iVar6 != 1)
                {
                    TASK_FOLLOW_NAV_MESH_TO_COORD( l_U3983, -412.84370000, -422.69430000, 3.88050000, 2, -2, 0.50000000 );
                    sub_56223( l_U4069, 0 );
                    SET_CAM_POS( l_U4067, -392.86990000, -459.15000000, 5.00898100 );
                    SET_CAM_ROT( l_U4067, -0.34772700, 0.00000000, 145.59370000 );
                    SET_CAM_FOV( l_U4067, 32.40003000 );
                    SET_USE_HIGHDOF( 1 );
                    SET_CAM_FAR_DOF( l_U4067, 20.00000000 );
                    sub_56223( l_U4067, 1 );
                    SETTIMERB( 0 );
                }
                else if (TIMERB() > 3000)
                {
                    l_U4230 = 2;
                }
            }
        }
        if (sub_56753())
        {
            l_U4230 = 2;
        }
        break;
        case 2:
        if (NOT IS_SCREEN_FADED_OUT())
        {
            DO_SCREEN_FADE_OUT( 500 );
            while (NOT IS_SCREEN_FADED_OUT())
            {
                WAIT( 0 );
            }
        }
        sub_11417( 0 );
        if (DOES_CHAR_EXIST( l_U3983 ))
        {
            DELETE_CHAR( ref l_U3983 );
        }
        if (DOES_CAM_EXIST( l_U4067 ))
        {
            DESTROY_CAM( l_U4067 );
        }
        if (DOES_CAM_EXIST( l_U4068 ))
        {
            DESTROY_CAM( l_U4068 );
        }
        if (DOES_CAM_EXIST( l_U4069 ))
        {
            DESTROY_CAM( l_U4069 );
        }
        SET_USE_HIGHDOF( 0 );
        ACTIVATE_SCRIPTED_CAMS( 0, 0 );
        CLEAR_CHAR_TASKS_IMMEDIATELY( sub_6646() );
        SET_CAM_BEHIND_PED( sub_6646() );
        SET_GAME_CAM_HEADING( 0.00000000 );
        DISPLAY_RADAR( 1 );
        SET_WIDESCREEN_BORDERS( 0 );
        HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_6646(), 0 );
        LOAD_SCENE( vVar2.x, vVar2.y, vVar2.z );
        WAIT( 0 );
        if (NOT IS_SCREEN_FADED_IN())
        {
            DO_SCREEN_FADE_IN( 500 );
            while (NOT IS_SCREEN_FADED_IN())
            {
                WAIT( 0 );
            }
        }
        SET_PLAYER_CONTROL( sub_6741(), 1 );
        sub_153334( 0 );
        break;
    }
    return;
}

void sub_158853(unknown uParam0, int iParam1, unknown uParam2)
{
    if (iParam1 == nil)
    {
        return;
    }
    if (NOT (DOES_CHAR_EXIST( iParam1 )))
    {
        return;
    }
    g_U42871._fU0 = uParam0;
    g_U42871._fU4 = iParam1;
    g_U42871._fU8 = uParam2;
    g_U42871._fU12 = 0;
    if (g_U12379)
    {
        g_U42871._fU12 = 1;
    }
    return;
}

int sub_159727(unknown uParam0)
{
    if (DOES_VEHICLE_EXIST( uParam0 ))
    {
        if (CHECK_STUCK_TIMER( uParam0, 0, 5000 ))
        {
            return 1;
        }
        else if (CHECK_STUCK_TIMER( uParam0, 3, 60000 ))
        {
            return 1;
        }
        else if (CHECK_STUCK_TIMER( uParam0, 2, 30000 ))
        {
            return 1;
        }
        else if (CHECK_STUCK_TIMER( uParam0, 1, 40000 ))
        {
            return 1;
        };;;;
    }
    return 0;
}

void sub_159944()
{
    int iVar2;

    if (l_U4202)
    {
        if (sub_11432( l_U4204 ))
        {
            sub_11473( l_U4211, ref l_U4204, l_U4210, 1 );
        }
    }
    else if (NOT (sub_11432( l_U4204 )))
    {
        sub_160026( ref l_U4204 );
    }
    iVar2 = 1;
    if (l_U4203)
    {
        if (NOT (DOES_CHAR_EXIST( l_U4213 )))
        {
            iVar2 = 0;
        }
        else if (IS_CHAR_INJURED( l_U4213 ))
        {
            iVar2 = 0;
        }
    }
    if ((iVar2) AND ((l_U4202) AND ((NOT l_U4119[l_U4118]) AND (l_U4118 != 0))))
    {
        if ((NOT (sub_55034( l_U4204 ))) AND (NOT IS_MESSAGE_BEING_DISPLAYED()))
        {
            sub_160533( l_U4212 );
            sub_39182( l_U4211, ref l_U4204, l_U4210, 1 );
            l_U4119[l_U4118] = 1;
        }
    }
    return;
}

int sub_160026(int iParam0)
{
    if (iParam0->_fU12)
    {
        sub_11659( "\n already paused" );
    }
    else if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if (iParam0->_fU4 == g_U8866)
        {
            iParam0->_fU8 += (ABORT_SCRIPTED_CONVERSATION( 1 )) + 1;
            sub_11659( "\n CONVERSATION PAUSED AT LINE " );
            sub_160166( iParam0->_fU8 );
            iParam0->_fU12 = 1;
            iParam0->_fU16 = 0;
            return 1;
        }
        else
        {
            sub_11659( "\n NOT pausing the line as scripted and global speech id dont match" );
        }
    }
    else
    {
        sub_11659( "\n NOT pausing the line as conversation is not playing" );
    }
    if (NOT iParam0->_fU12)
    {
        iParam0->_fU8 = -1;
        sub_11659( "\n reseting paused struct line" );
    }
    return 0;
}

void sub_160166(unknown uParam0)
{
    return;
}

int sub_160533(unknown uParam0)
{
    if (NOT IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        StrCopy( ref l_U2849._fU0, uParam0, 16 );
        return 1;
    }
    return 0;
}

