void main()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;

    l_U0 = 0;
    l_U1 = 0;
    l_U2 = 0;
    l_U3 = 0;
    l_U4 = 1;
    l_U70 = 6;
    l_U108 = nil;
    l_U121 = nil;
    l_U139 = 1;
    l_U174 = nil;
    l_U194 = 1;
    l_U270 = 6;
    l_U279 = "BOGT_BoxDrop";
    l_U280 = "BOGT_Box_TickDrop";
    l_U345 = 0.63600000;
    l_U346 = 0.37600000;
    l_U395 = 0.05200000;
    l_U396 = 0.35300000;
    l_U397 = 0.30000000;
    l_U398 = 0.37200000;
    l_U399 = 0.37300000;
    l_U400 = 0.38700000;
    l_U401 = 0.44400000;
    l_U402 = 0.03750000;
    l_U403 = 0.36900000;
    l_U404 = 0.62350000;
    l_U405 = 0.60800000;
    l_U406 = {0.24300000, 0.46700000, 0.00000000};
    l_U409 = {0.23100000, 0.43500000, 0.00000000};
    l_U412 = {0.23100000, 0.43500000, 0.00000000};
    l_U415 = {0.31920000, 0.65250000, 0.00000000};
    l_U418 = {0.31920000, 0.65250000, 0.00000000};
    l_U421 = {0.24300000, 0.46700000, 0.00000000};
    l_U424 = {0.50000000, 1.10000000, 0.00000000};
    l_U427 = {0.31920000, 0.65250000, 0.00000000};
    l_U430 = {0.18225000, 0.35025000, 0.00000000};
    l_U433 = 0.30000000;
    l_U434 = 0.37000000;
    l_U435 = 0.56200000;
    l_U436 = 0.40100000;
    l_U437 = 0.30000000;
    l_U438 = 0.37000000;
    l_U439 = 0.69700000;
    l_U440 = 0.40100000;
    l_U441 = 0.30000000;
    l_U442 = 0.37000000;
    l_U443 = 0.66500000;
    l_U444 = 0.40100000;
    l_U445 = 0.32500000;
    l_U446 = 0.62500000;
    l_U447 = 0.00800000;
    l_U448 = 0.49700000;
    l_U449 = 0.52500000;
    l_U450 = 0.49700000;
    l_U451 = 0.51800000;
    l_U452 = 1;
    l_U453 = 0;
    l_U454 = {0.50000000, 0.50000000, 0};
    l_U457 = 0.20000000;
    l_U458 = 0.20000000;
    l_U502 = 0;
    l_U503 = 0;
    l_U515 = 0;
    l_U519 = 0;
    l_U520 = 86.00000000;
    l_U521 = 274.00000000;
    l_U526 = 0;
    l_U527 = 1;
    l_U528 = 3;
    l_U530 = 0;
    l_U531 = -1;
    l_U532 = 0;
    l_U533 = 0;
    l_U538 = 1;
    l_U739 = 0.00000000;
    l_U740 = 0.00000000;
    l_U741 = 0.00000000;
    l_U812 = 0;
    l_U813 = 0;
    l_U814 = 0;
    l_U815 = 0;
    l_U816 = 0;
    l_U817 = 0;
    l_U845 = 10.00000000;
    l_U846 = 15.00000000;
    l_U861 = 2;
    l_U862 = 29;
    l_U863 = 1;
    l_U864 = 3;
    l_U865 = 23;
    l_U866 = 87;
    l_U867 = 28;
    l_U868 = 4;
    l_U869 = 20;
    l_U870 = 7;
    l_U871 = {-707.87050000, 356.89070000, 3.07160000};
    l_U874 = {-705.80690000, 355.05170000, 3.07160000};
    l_U877 = {-705.58940000, 356.84210000, 3.07160000};
    l_U880 = {-597.96150000, -761.18190000, 610.00000000};
    l_U883 = {-744.62800000, -80.15088000, 178.33980000};
    l_U886 = {-724.07970000, -344.08730000, 342.65300000};
    l_U889 = {-684.18260000, -653.88340000, 513.90570000};
    l_U892 = {0.00000000, 0.00000000, 0.70999990};
    l_U895 = {0.00000000, 0.00000000, 0.70999990};
    l_U898 = {0.00000000, 0.00000000, 0.70999990};
    l_U901 = {0.00000000, 0.00000000, 0.70999990};
    l_U904 = {0.25000000, 0.50000000, 0.70000000};
    l_U907 = {0.00000000, 0.00000000, 0.00000000};
    l_U910 = {0.00000000, 0.00000000, 0.00000000};
    l_U913 = {0.00000000, 0.00000000, 0.00000000};
    l_U916 = {0.00000000, 0.00000000, 0.00000000};
    l_U919 = {0.00000000, 0.00000000, 0.00000000};
    l_U922 = {0.00000000, 0.00000000, 0.00000000};
    l_U925 = {0.00000000, 0.00000000, 0.00000000};
    l_U928 = {0.00000000, 0.00000000, 0.00000000};
    l_U931 = {0.00000000, 0.00000000, 0.00000000};
    l_U934 = {0.00000000, 0.00000000, 0.00000000};
    l_U937 = {0.00000000, 0.00000000, 0.00000000};
    l_U940 = {0.00000000, 0.00000000, 0.00000000};
    l_U943 = {3.41000000, 5.45000000, 1.51000000};
    l_U946 = {0.00000000, -0.19000000, -0.42000000};
    l_U949 = {-6.00000000, -7.00000000, 0.00000000};
    l_U952 = {0.00000000, 0.00000000, 0.00000000};
    l_U955 = {1.03700000, 1.87600000, -1.47900000};
    l_U958 = {0.00000000, 0.00000000, 0.00000000};
    l_U961 = {0.00000000, 0.00000000, 0.00000000};
    l_U964 = {0.00000000, 0.00000000, 0.00000000};
    l_U967 = 0;
    l_U968 = 0;
    l_U969 = 0;
    l_U970 = 0;
    l_U971 = 0;
    l_U972 = 0;
    l_U973 = 0;
    l_U974 = 0;
    l_U975 = 0;
    l_U976 = 1;
    l_U977 = 1;
    l_U978 = 0;
    l_U979 = 1;
    l_U980 = 1;
    l_U981 = 0;
    l_U982 = 0;
    l_U983 = 0;
    l_U984 = 0;
    l_U985 = 0;
    l_U986 = 0;
    l_U987 = 0;
    l_U988 = 0;
    l_U989 = 0;
    l_U990 = 0;
    l_U991 = 0;
    l_U992 = 0;
    l_U993 = 0;
    l_U994 = 0;
    l_U995 = 0;
    l_U996 = 0;
    l_U997 = 0;
    l_U998 = 0;
    l_U999 = 0;
    l_U1000 = 0;
    l_U1001 = 0;
    l_U1002 = 0;
    l_U1003 = 0;
    l_U1004 = 0;
    l_U1005 = 0;
    l_U1006 = 0;
    l_U1007 = 1;
    l_U1008 = 0;
    l_U1009 = 1;
    l_U1010 = 0;
    l_U1011 = 0;
    l_U1012 = 0;
    l_U1013 = 1;
    l_U1014 = 1;
    l_U1015 = 0;
    l_U1016 = 50;
    l_U1017 = 0;
    l_U1018 = 0;
    l_U1019 = 0;
    l_U1020 = 0;
    l_U1021 = 0;
    l_U1022 = 0;
    l_U1023 = 0;
    l_U1024 = 0;
    l_U1025 = 0;
    l_U1026 = 0;
    l_U1027 = 0;
    l_U1028 = 0;
    l_U1029 = 0;
    l_U1030 = 0;
    l_U1031 = 0;
    l_U1032 = 0;
    l_U1033 = 0;
    l_U1034 = 0;
    l_U1035 = 0;
    l_U1036 = 0;
    l_U1037 = 175.34310000;
    l_U1038 = 255.83740000;
    l_U1039 = 266.25340000;
    l_U1040 = 0.00000000;
    l_U1041 = 0.00000000;
    l_U1042 = 0.00000000;
    l_U1043 = 0.00000000;
    l_U1044 = 0.00000000;
    l_U1045 = 0.00000000;
    l_U1046 = 0.00000000;
    l_U1047 = 15.00000000;
    l_U1048 = 0.00000000;
    l_U1049 = 0.00000000;
    l_U1050 = 0.00000000;
    l_U1051 = 0.00000000;
    l_U1052 = 198.01140000;
    l_U1053 = 198.01140000;
    l_U1054 = 0.00000000;
    l_U1055 = 0.00000000;
    l_U1056 = 0.00000000;
    l_U1057 = 0.00000000;
    l_U1058 = 0.00000000;
    l_U1059 = 0.00000000;
    l_U1060 = 0.00000000;
    l_U1061 = "T4_BACKHELI";
    l_U1062 = "T4_T_LEAVE";
    l_U1063 = "T4_FLY_HELI";
    l_U1120 = {l_U943};
    l_U1123 = {l_U946};
    l_U1126 = {l_U898};
    l_U1129 = {l_U901};
    l_U1132 = 45.00000000;
    l_U1133 = 0;
    l_U1134 = 0;
    l_U1135 = 0;
    l_U1180 = 1;
    l_U1181 = 0;
    l_U1192 = 0;
    l_U1193 = 0;
    l_U1194 = 0;
    l_U1195 = 0;
    l_U1196 = 1;
    l_U1197 = 0;
    l_U1198 = 0;
    l_U1199 = 0;
    l_U1200 = 0;
    l_U1201 = 0;
    l_U1202 = 0;
    SET_MISSION_FLAG( 1 );
    if (HAS_DEATHARREST_EXECUTED())
    {
        if ((l_U1192 == 6) AND (IS_CHAR_INJURED( sub_2502() )))
        {
            if (NOT (IS_CHAR_INJURED( l_U1065 )))
            {
                SWITCH_PED_TO_RAGDOLL( l_U1065, 30000, 0, 1, 1, 1, 0 );
                CREATE_NM_MESSAGE( 1, 246 );
                SEND_NM_MESSAGE( l_U1065 );
                SET_CHAR_COLLISION( l_U1065, 1 );
                SET_CHAR_VELOCITY( l_U1065, 0.00000000, 0.00000000, 0.00000000 );
                SET_CHAR_HEALTH( l_U1065, 0 );
            }
        }
        sub_2678();
        sub_4995();
    }
    g_U8778 = 1;
    sub_5743();
    if (IS_BIT_SET( g_U10938._fU0, 7 ))
    {
        g_U43104[4] = 0;
    }
    else
    {
        sub_17433();
    }
    while (true)
    {
        WAIT( 0 );
        if (sub_20582( sub_2502() ))
        {
            if (((NOT l_U972) AND (l_U1192 == 4)) || ((l_U1192 == 5) || (l_U1192 == 3)))
            {
                sub_20858( sub_2502(), 1 );
            }
            else
            {
                sub_20858( sub_2502(), 0 );
            }
        }
        switch (l_U1192)
        {
            case 0:
            sub_21125();
            break;
            case 1:
            sub_24424();
            break;
            case 2:
            sub_41985();
            break;
            case 3:
            sub_48794();
            break;
            case 4:
            sub_52435();
            break;
            case 5:
            sub_58870();
            break;
            case 6:
            sub_60713();
            break;
            case 7:
            sub_65312();
            break;
            case 11:
            sub_68921();
            break;
            case 8:
            if (l_U983)
            {
                if (IS_VEH_DRIVEABLE( l_U1068 ))
                {
                    GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( l_U1068, l_U904._fU0, l_U904._fU4, -0.30000000, ref uVar2._fU0, ref uVar2._fU4, ref uVar2._fU8 );
                    if (DOES_CHAR_EXIST( l_U1065 ))
                    {
                        SET_DEAD_CHAR_COORDINATES( l_U1065, uVar2._fU0, uVar2._fU4, uVar2._fU8 );
                    }
                }
            }
            if ((l_U1199 == 4) || ((l_U1199 == 0) || ((l_U1199 == 5) || (l_U1199 == 3))))
            {
                if (NOT (IS_CHAR_INJURED( l_U1064 )))
                {
                    sub_76713();
                }
                else if (NOT IS_MESSAGE_BEING_DISPLAYED())
                {
                    sub_64975( 0 );
                }
            }
            else if (l_U1199 == 1)
            {
                if (NOT (IS_CHAR_INJURED( l_U1065 )))
                {
                    sub_78638();
                }
                else if (NOT IS_MESSAGE_BEING_DISPLAYED())
                {
                    sub_64975( 0 );
                }
            }
            break;
            case 9:
            sub_80527();
            break;
            case 10:
            sub_4995();
            break;
            case 12:
            sub_84325();
            break;
        }
        sub_84347();
        if ((l_U1192 != 10) AND (l_U1192 != 7))
        {
            sub_9939( 0 );
        }
        if (DOES_VEHICLE_EXIST( l_U1068 ))
        {
            if ((NOT l_U981) AND ((l_U1192 != 8) AND ((sub_85175( l_U1068 )) || ((CHECK_STUCK_TIMER( l_U1068, 1, 40000 )) || ((CHECK_STUCK_TIMER( l_U1068, 2, 30000 )) || ((CHECK_STUCK_TIMER( l_U1068, 3, 60000 )) || ((CHECK_STUCK_TIMER( l_U1068, 0, 5000 )) || (NOT (IS_VEH_DRIVEABLE( l_U1068 ))))))))))
            {
                sub_5061();
                sub_34716();
                CLEAR_HELP();
                CLEAR_PRINTS();
                PRINT_NOW( "T4_HELIDIED", 7500, 0 );
                l_U981 = 1;
                l_U1192 = 8;
                l_U1199 = 5;
            }
            if (IS_VEH_DRIVEABLE( l_U1068 ))
            {
                if (IS_CAR_ON_FIRE( l_U1068 ))
                {
                    SET_PETROL_TANK_HEALTH( l_U1068, 0 );
                }
            }
        }
        if (DOES_CHAR_EXIST( l_U1064 ))
        {
            if ((NOT l_U981) AND ((l_U1192 != 8) AND (IS_CHAR_INJURED( l_U1064 ))))
            {
                sub_5061();
                sub_34716();
                CLEAR_HELP();
                CLEAR_PRINTS();
                PRINT_NOW( "T4_T_DEAD", 7500, 0 );
                l_U981 = 1;
                l_U1192 = 8;
                l_U1199 = 1;
            }
        }
        if (DOES_CHAR_EXIST( l_U1065 ))
        {
            if ((NOT l_U981) AND ((l_U1192 != 9) AND ((l_U1192 != 8) AND (IS_CHAR_INJURED( l_U1065 )))))
            {
                if ((l_U1192 == 1) || (l_U1192 == 0))
                {
                    l_U983 = 1;
                }
                sub_5061();
                sub_34716();
                CLEAR_HELP();
                CLEAR_PRINTS();
                PRINT_NOW( "T4_B_DIED", 7500, 0 );
                if (IS_VEH_DRIVEABLE( l_U1068 ))
                {
                    LOCK_CAR_DOORS( l_U1068, 3 );
                    if (NOT (IS_CHAR_IN_CAR( sub_2502(), l_U1068 )))
                    {
                        FREEZE_CAR_POSITION( l_U1068, 1 );
                    }
                }
                l_U981 = 1;
                if (l_U983)
                {
                    l_U1192 = 8;
                }
                else
                {
                    l_U1192 = 9;
                }
                l_U1199 = 3;
            }
        }
    }
    return;
}

void sub_2502()
{
    unknown Result;

    GET_PLAYER_CHAR( CONVERT_INT_TO_PLAYERINDEX( GET_PLAYER_ID() ), ref Result );
    return Result;
}

void sub_2678()
{
    int iVar2;

    iVar2 = 0;
    sub_2692( iVar2 );
    sub_3978( iVar2 );
    return;
}

void sub_2692(unknown uParam0)
{
    int iVar3;
    boolean bVar4;
    unknown uVar5;

    sub_2701();
    if (g_U43133)
    {
        return;
    }
    iVar3 = g_U14925[uParam0]._fU0._fU56;
    bVar4 = iVar3 == 6;
    if (g_U819)
    {
        sub_2877();
        sub_3085();
        g_U11063 = 1;
    }
    else if (NOT g_U12382[uParam0]._fU12)
    {
        if (NOT bVar4)
        {
            sub_3210();
            sub_3262();
            g_U11063 = 1;
        }
    }
    sub_3355();
    sub_3494();
    uVar5 = sub_3607( uParam0 );
    sub_3885( uVar5, 0 );
    return;
}

void sub_2701()
{
    g_U43588 = 0;
    g_U43628 = 0;
    MARK_SCRIPT_AS_NO_LONGER_NEEDED( "MissionStatTracker" );
    if ((GET_NUMBER_OF_INSTANCES_OF_STREAMED_SCRIPT( "MissionResultsTimer" )) > 0)
    {
        TERMINATE_ALL_SCRIPTS_WITH_THIS_NAME( "MissionResultsTimer" );
    }
    return;
}

void sub_2877()
{
    if (g_U10972)
    {
        return;
    }
    sub_2904( g_U10971 );
    if (NOT (IS_BIT_SET( g_U10938._fU0, 7 )))
    {
        sub_3025();
    }
    return;
}

void sub_2904(int iParam0)
{
    int iVar3;

    if (g_U0)
    {
        return;
    }
    if (iParam0 == -1)
    {
        return;
    }
    if (g_U10972)
    {
        return;
    }
    iVar3 = g_U22960[iParam0]._fU100;
    iVar3--;
    g_U22960[iParam0]._fU100 = iVar3;
    DECREMENT_INT_STAT( 255, 1 );
    return;
}

void sub_3025()
{
    if (g_U0)
    {
        return;
    }
    if (g_U10972)
    {
        return;
    }
    DECREMENT_INT_STAT( 256, 1 );
    return;
}

void sub_3085()
{
    sub_3094();
    return;
}

void sub_3094()
{
    if (g_U0)
    {
        return;
    }
    if (COMPARE_STRING( ref g_U10966, "" ))
    {
        return;
    }
    PLAYSTATS_MISSION_CANCELLED( ref g_U10966 );
    StrCopy( ref g_U10966, "", 16 );
    return;
}

void sub_3210()
{
    if (g_U0)
    {
        return;
    }
    if (g_U10972)
    {
        return;
    }
    INCREMENT_INT_STAT_NO_MESSAGE( 254, 1 );
    return;
}

void sub_3262()
{
    sub_3271();
    return;
}

void sub_3271()
{
    if (g_U0)
    {
        return;
    }
    if (COMPARE_STRING( ref g_U10966, "" ))
    {
        return;
    }
    PLAYSTATS_MISSION_FAILED( ref g_U10966 );
    StrCopy( ref g_U10966, "", 16 );
    return;
}

void sub_3355()
{
    int J;
    int I;

    J = 0;
    for ( J = 0; J < 11; J++ )
    {
        I = 0;
        for ( I = 0; I < 5; I++ )
        {
            if (g_U12382[J]._fU148[I]._fU36)
            {
                g_U12382[J]._fU28 = 1;
            }
            g_U12382[J]._fU148[I]._fU36 = 0;
        }
    }
    return;
}

void sub_3494()
{
    int iVar2;
    int iVar3;

    iVar2 = 0;
    GET_GAME_TIMER( ref iVar2 );
    iVar3 = iVar2 + sub_3516();
    if (iVar3 > g_U42731._fU4)
    {
        g_U42731._fU4 = iVar3;
        g_U42731._fU8 = iVar2;
    }
    return;
}

int sub_3516()
{
    if (g_U15811[0])
    {
        return 27000;
    }
    return 15000;
}

int sub_3607(unknown uParam0)
{
    switch (uParam0)
    {
        case 0: return 0;
        case 1: return 1;
        case 2: return 2;
        case 3: return 3;
        case 4: return 4;
        case 5: return 5;
        case 6: return 6;
        case 7: return 7;
        case 8: return 9;
    }
    PRINTSTRING( "UNKNOWN STRAND ID: " );
    PRINTINT( uParam0 );
    PRINTNL();
    sub_3838( "Flow_public: Return_Contact_From_Strand(): Unknown strand" );
    return 37;
}

void sub_3838(unknown uParam0)
{
    SCRIPT_ASSERT( uParam0 );
    return;
}

void sub_3885(int iParam0, boolean bParam1)
{
    int iVar4;

    if (NOT (iParam0 < 37))
    {
        return;
    }
    iVar4 = 0;
    GET_GAME_TIMER( ref iVar4 );
    g_U22883[iParam0] = iVar4;
    if (bParam1)
    {
        g_U22883[iParam0] += 30000;
    }
    return;
}

void sub_3978(int iParam0)
{
    int iVar3;
    boolean bVar4;

    sub_3987();
    if (g_U0)
    {
        return;
    }
    if (g_U43133)
    {
        return;
    }
    if (g_U95._fU40 == 0)
    {
        return;
    }
    if (NOT g_U12379)
    {
        return;
    }
    iVar3 = g_U14925[iParam0]._fU0._fU56;
    bVar4 = iVar3 == 6;
    if (bVar4)
    {
        return;
    }
    if (g_U12382[iParam0]._fU12)
    {
        return;
    }
    if (g_U10938._fU4 == -1)
    {
        return;
    }
    if (NOT (g_U10938._fU4 == iParam0))
    {
        return;
    }
    if (NOT sub_4762())
    {
        return;
    }
    if (NOT g_U819)
    {
        sub_4828();
        SET_BIT( ref g_U10938._fU0, 2 );
    }
    return;
}

void sub_3987()
{
    int I;

    for ( I = 0; I <= (g_U575 - 1); I++ )
    {
        if ((g_U575[I]._fU20) AND ((sub_4025( 5, g_U575[I] )) == 1))
        {
            if ((sub_4025( 1, g_U575[I] )) != 0)
            {
                sub_4311( I );
            }
        }
    }
    if (NOT sub_4477())
    {
        SET_MESSAGES_WAITING( 0 );
        g_U95._fU404 = 1000;
    }
    if (g_U95._fU0 == 1016)
    {
        g_U95._fU92 = 1;
    }
    return;
}

int sub_4025(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
    switch (uParam0)
    {
        case 0:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 14, 23 );
        break;
        case 1:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 0, 13 );
        break;
        case 2:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 14, 27 );
        break;
        case 3:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 0, 13 );
        break;
        case 4:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 24, 27 );
        break;
        case 5:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 28, 31 );
        break;
        case 6:
        return uParam1._fU0[2];
        break;
    }
    return -1;
}

void sub_4311(int iParam0)
{
    int I;

    if (iParam0 < (g_U575 - 1))
    {
        for ( I = iParam0 + 1; I <= (g_U575 - 1); I++ )
        {
            g_U575[I - 1] = {g_U575[I]};
        }
    }
    sub_4396( g_U575 - 1 );
    return;
}

void sub_4396(unknown uParam0)
{
    g_U575[uParam0]._fU0[0] = -1;
    g_U575[uParam0]._fU0[1] = -1;
    g_U575[uParam0]._fU0[2] = -1;
    return;
}

int sub_4477()
{
    int I;

    for ( I = 0; I <= (g_U575 - 1); I++ )
    {
        if ((sub_4025( 4, g_U575[I] )) == 0)
        {
            return 1;
        }
    }
    return 0;
}

int sub_4762()
{
    if ((g_U10938._fU8 == 1) AND (g_U10938._fU4 == 0))
    {
        return 0;
    }
    return 1;
}

void sub_4828()
{
    CLEAR_BIT( ref g_U10938._fU0, 2 );
    CLEAR_BIT( ref g_U10938._fU0, 3 );
    CLEAR_BIT( ref g_U10938._fU0, 4 );
    CLEAR_BIT( ref g_U10938._fU0, 5 );
    CLEAR_BIT( ref g_U10938._fU0, 6 );
    CLEAR_BIT( ref g_U10938._fU0, 8 );
    CLEAR_BIT( ref g_U10938._fU0, 9 );
    CLEAR_BIT( ref g_U10938._fU0, 10 );
    g_U10938._fU12 = 0;
    return;
}

void sub_4995()
{
    if (NOT (IS_CHAR_INJURED( sub_2502() )))
    {
        SET_PLAYER_CONTROL( sub_5022(), 1 );
    }
    sub_5061();
    sub_5243();
    sub_5364();
    sub_5381();
    sub_5426();
    sub_5560( 0 );
    g_U2797 = 0;
    SET_WIDESCREEN_BORDERS( 0 );
    SET_CINEMATIC_BUTTON_ENABLED( 1 );
    SWITCH_RANDOM_BOATS( 1 );
    if (HAVE_ANIMS_LOADED( "MISSTONY04" ))
    {
        REMOVE_ANIMS( "MISSTONY04" );
    }
    if (HAVE_ANIMS_LOADED( "FACIALS@M_LO" ))
    {
        REMOVE_ANIMS( "FACIALS@M_LO" );
    }
    MISSION_AUDIO_BANK_NO_LONGER_NEEDED();
    UNREGISTER_SCRIPT_WITH_AUDIO();
    TERMINATE_THIS_SCRIPT();
    return;
}

void sub_5022()
{
    return CONVERT_INT_TO_PLAYERINDEX( GET_PLAYER_ID() );
}

void sub_5061()
{
    if (DOES_BLIP_EXIST( l_U1074 ))
    {
        SET_ROUTE( l_U1074, 0 );
        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U1074 );
    }
    if (DOES_BLIP_EXIST( l_U1073 ))
    {
        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U1073 );
    }
    if (DOES_BLIP_EXIST( l_U1075 ))
    {
        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U1075 );
    }
    if (DOES_BLIP_EXIST( l_U1072 ))
    {
        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U1072 );
    }
    if (DOES_BLIP_EXIST( l_U1076 ))
    {
        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U1076 );
    }
    DELETE_CHECKPOINT( l_U1086 );
    return;
}

void sub_5243()
{
    if (DOES_CHAR_EXIST( l_U1064 ))
    {
        MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U1064 );
    }
    if (DOES_CHAR_EXIST( l_U1065 ))
    {
        if (NOT (IS_CHAR_INJURED( l_U1065 )))
        {
            if (IS_PED_ATTACHED_TO_ANY_CAR( l_U1065 ))
            {
                DETACH_PED( l_U1065, 1 );
            }
        }
        MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U1065 );
    }
    return;
}

void sub_5364()
{
    return;
}

void sub_5381()
{
    if (DOES_VEHICLE_EXIST( l_U1068 ))
    {
        MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U1068 );
    }
    return;
}

void sub_5426()
{
    if (DOES_CAM_EXIST( l_U1081 ))
    {
        DESTROY_CAM( l_U1081 );
    }
    if (DOES_CAM_EXIST( l_U1081 ))
    {
        DESTROY_CAM( l_U1081 );
    }
    if (DOES_CAM_EXIST( l_U1081 ))
    {
        DESTROY_CAM( l_U1081 );
    }
    if (DOES_CAM_EXIST( l_U1081 ))
    {
        DESTROY_CAM( l_U1081 );
    }
    return;
}

void sub_5560(unknown uParam0)
{
    g_U2790 = uParam0;
    return;
}

void sub_5743()
{
    LOAD_ADDITIONAL_TEXT( "TONY4", 0 );
    if (NOT (IS_CHAR_INJURED( sub_2502() )))
    {
        while (NOT (IS_PLAYER_SCRIPT_CONTROL_ON( sub_5022() )))
        {
            WAIT( 0 );
        }
    }
    if (IS_SCREEN_FADED_OUT())
    {
        CLEAR_AREA( 0.00000000, 0.00000000, 0.00000000, 5000.00000000, 1 );
    }
    CLEAR_SMALL_PRINTS();
    REGISTER_SCRIPT_WITH_AUDIO( 0 );
    while (NOT (REQUEST_MISSION_AUDIO_BANK( "EP2_SFX\GT04_BLOG_THIS_B" )))
    {
        WAIT( 0 );
    }
    l_U1087[0]._fU0 = {-591.93110000, -396.98650000, 3.91820000};
    l_U1087[0]._fU12 = -3.64300000;
    l_U1087[1]._fU0 = {-320.48440000, -658.16530000, 3.78560000};
    l_U1087[1]._fU12 = -65.16520000;
    l_U1087[2]._fU0 = {-130.89800000, -491.83850000, 13.80860000};
    l_U1087[2]._fU12 = -86.93290000;
    l_U1087[3]._fU0 = {-363.73410000, -159.59180000, 13.67850000};
    l_U1087[3]._fU12 = -1.57720000;
    l_U1087[4]._fU0 = {-599.51580000, 175.46620000, 3.66270000};
    l_U1087[4]._fU12 = -0.84520000;
    l_U1087[5]._fU0 = {-1096.13400000, -524.27690000, 1.94980000};
    l_U1087[5]._fU12 = 90.24550000;
    l_U1087[6]._fU0 = {-1285.49500000, 193.16800000, 7.10740000};
    l_U1087[6]._fU12 = 0.50440000;
    l_U1087[7]._fU0 = {-608.36510000, -915.78980000, 3.83790000};
    l_U1087[7]._fU12 = 180.00000000;
    g_U43137 = 4;
    if (g_U43133)
    {
        if ((NOT IS_SCREEN_FADING()) AND (NOT IS_SCREEN_FADED_OUT()))
        {
            DO_SCREEN_FADE_OUT( 500 );
            while (NOT IS_SCREEN_FADED_OUT())
            {
                WAIT( 0 );
            }
        }
        SET_CHAR_COORDINATES( sub_2502(), -517.27150000, 379.33440000, 5.66370000 );
        SET_CHAR_HEADING( sub_2502(), 93.15160000 );
        LOAD_SCENE( -517.27150000, 379.33440000, 5.66370000 );
        g_U43104[4] = 0;
    }
    if (g_U43104[4] == 0)
    {
        g_U43104[4] = 0;
    }
    sub_6467( "E2T4BAU" );
    sub_6594( 0, sub_2502(), "LUIS", 0 );
    sub_6743();
    sub_9939( 0 );
    SETTIMERB( 0 );
    return;
}

void sub_6467(unknown uParam0)
{
    StrCopy( ref l_U539._fU0, uParam0, 16 );
    sub_6486();
    return;
}

void sub_6486()
{
    int I;

    for ( I = 0; I <= 8; I++ )
    {
        l_U539._fU16[I]._fU0 = nil;
        StrCopy( ref l_U539._fU16[I]._fU4, "", 32 );
        l_U539._fU344[I] = 0;
    }
    return;
}

void sub_6594(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    l_U539._fU16[uParam0]._fU0 = uParam1;
    StrCopy( ref l_U539._fU16[uParam0]._fU4, uParam2, 32 );
    if (NOT (IS_CHAR_INJURED( uParam1 )))
    {
        BLOCK_CHAR_AMBIENT_ANIMS( uParam1, uParam3 );
    }
    sub_6678( "\n PED NUMBER ", uParam0 );
    sub_6718( " ADDED WITH VOICE ", uParam2 );
    return;
}

void sub_6678(unknown uParam0, unknown uParam1)
{
    return;
}

void sub_6718(unknown uParam0, unknown uParam1)
{
    return;
}

void sub_6743()
{
    sub_6752();
    if ((GET_NUMBER_OF_INSTANCES_OF_STREAMED_SCRIPT( "MissionResultsTimer" )) > 0)
    {
        TERMINATE_ALL_SCRIPTS_WITH_THIS_NAME( "MissionResultsTimer" );
    }
    g_U43628 = 1;
    g_U43593 = 0;
    g_U43594 = 0;
    g_U43595 = 0;
    g_U43596 = 0;
    REQUEST_SCRIPT( "MissionResultsTimer" );
    if (g_U43137 == 0)
    {
        REQUEST_SCRIPT( "MissionResultHelp" );
        sub_8531();
        sub_8569();
    }
    else
    {
        g_U43626 = 1;
        sub_8531();
        sub_8569();
        if (g_U43137 == 22)
        {
            sub_8672( 0, 0, 0 );
        }
        if (g_U43137 == 17)
        {
            sub_8672( 1, 0, 0 );
        }
        if (g_U43137 == 15)
        {
            sub_8672( 0, 1, 0 );
        }
        if (g_U43137 == 18)
        {
            sub_8672( 0, 0, 1 );
        }
        if (g_U43137 == 16)
        {
            sub_8672( 0, 0, 1 );
        }
    }
    if (g_U43133 == 1)
    {
        if ((g_U43463[g_U43137] == -1) || (g_U43463[g_U43137] == 0))
        {
            PRINTNL();
            PRINTSTRING( "**************************************" );
            PRINTNL();
            PRINTSTRING( "g_FirstPlaythroughOfMission = TRUE" );
            PRINTNL();
            PRINTSTRING( "**************************************" );
            PRINTNL();
            g_U43624 = 1;
        }
        else
        {
            PRINTSTRING( "**************************************" );
            PRINTNL();
            PRINTSTRING( "g_FirstPlaythroughOfMission = FALSE" );
            PRINTNL();
            PRINTSTRING( "**************************************" );
            PRINTNL();
            g_U43624 = 0;
        }
    }
    else
    {
        PRINTSTRING( "**************************************" );
        PRINTNL();
        PRINTSTRING( "g_FirstPlaythroughOfMission = TRUE" );
        PRINTNL();
        PRINTSTRING( "**************************************" );
        PRINTNL();
        g_U43624 = 1;
    }
    g_U43611 = 0;
    g_U43612 = 0;
    g_U43615 = 0;
    g_U43617 = 0;
    g_U43614 = 0;
    g_U43622 = 0;
    g_U43619 = 0;
    g_U43620 = 0;
    g_U43621 = 0;
    g_U43616 = 0;
    g_U43613 = 0;
    g_U43503 = 0;
    g_U43506 = 0;
    g_U43509 = 0;
    g_U43512 = 0;
    g_U43515 = 0;
    g_U43516 = 0;
    g_U43519 = 0;
    g_U43522 = 0;
    g_U43558 = 0;
    g_U43559 = 0;
    l_U509 = 0;
    g_U43509 = 0;
    g_U43508 = 0;
    g_U43507 = 0;
    g_U43498 = 0;
    PRINTNL();
    PRINTNL();
    PRINTSTRING( "*******************************************************" );
    PRINTSTRING( "g_AreMissionStatsNeeded = TRUE & Requesting MissionStatTracker.sc" );
    PRINTNL();
    PRINTSTRING( "*******************************************************" );
    PRINTNL();
    g_U43588 = 1;
    REQUEST_SCRIPT( "MissionStatTracker" );
    return;
}

void sub_6752()
{
    g_U43138[0]._fU0 = 4;
    g_U43138[0]._fU4 = 30;
    g_U43138[0]._fU8 = 0;
    g_U43138[0]._fU12 = 10;
    g_U43138[1]._fU0 = 5;
    g_U43138[1]._fU4 = 20;
    g_U43138[1]._fU8 = 10;
    g_U43138[1]._fU20 = 70;
    g_U43138[1]._fU16 = 31;
    g_U43138[2]._fU0 = 4;
    g_U43138[2]._fU4 = 0;
    g_U43138[2]._fU8 = 50;
    g_U43138[2]._fU20 = 70;
    g_U43138[2]._fU16 = 11;
    g_U43138[3]._fU0 = 2;
    g_U43138[3]._fU4 = 30;
    g_U43138[3]._fU12 = 0;
    g_U43138[5]._fU0 = 3;
    g_U43138[5]._fU4 = 10;
    g_U43138[5]._fU8 = 40;
    g_U43138[4]._fU0 = 2;
    g_U43138[4]._fU4 = 10;
    g_U43138[4]._fU8 = 0;
    g_U43138[4]._fU44 = 8000;
    g_U43138[6]._fU0 = 5;
    g_U43138[6]._fU4 = 0;
    g_U43138[6]._fU8 = 50;
    g_U43138[7]._fU0 = 5;
    g_U43138[7]._fU4 = 45;
    g_U43138[7]._fU8 = 50;
    g_U43138[7]._fU44 = 35000;
    g_U43138[8]._fU0 = 4;
    g_U43138[8]._fU4 = 35;
    g_U43138[8]._fU8 = 20;
    g_U43138[8]._fU12 = 80;
    g_U43138[9]._fU0 = 8;
    g_U43138[9]._fU4 = 50;
    g_U43138[9]._fU12 = 0;
    g_U43138[10]._fU0 = 3;
    g_U43138[10]._fU4 = 55;
    g_U43138[10]._fU44 = 7000;
    g_U43138[11]._fU0 = 10;
    g_U43138[11]._fU4 = 0;
    g_U43138[11]._fU8 = 50;
    g_U43138[11]._fU20 = 70;
    g_U43138[11]._fU16 = 25;
    g_U43138[12]._fU0 = 5;
    g_U43138[12]._fU4 = 0;
    g_U43138[12]._fU8 = 50;
    g_U43138[12]._fU12 = 60;
    g_U43138[12]._fU20 = 70;
    g_U43138[12]._fU16 = 10;
    g_U43138[12]._fU24 = 70;
    g_U43138[13]._fU0 = 7;
    g_U43138[13]._fU4 = 35;
    g_U43138[13]._fU8 = 0;
    g_U43138[14]._fU0 = 5;
    g_U43138[14]._fU4 = 15;
    g_U43138[14]._fU12 = 20;
    g_U43138[14]._fU24 = 140;
    g_U43138[15]._fU0 = 6;
    g_U43138[15]._fU4 = 0;
    g_U43138[15]._fU8 = 0;
    g_U43138[15]._fU20 = 70;
    g_U43138[15]._fU28 = 4;
    g_U43138[16]._fU0 = 4;
    g_U43138[16]._fU4 = 10;
    g_U43138[16]._fU8 = 50;
    g_U43138[16]._fU20 = 70;
    g_U43138[16]._fU16 = 6;
    g_U43138[16]._fU28 = 4;
    g_U43138[17]._fU0 = 7;
    g_U43138[17]._fU4 = 25;
    g_U43138[17]._fU8 = 50;
    g_U43138[17]._fU28 = 6;
    g_U43138[17]._fU12 = 50;
    g_U43138[18]._fU0 = 4;
    g_U43138[18]._fU4 = 20;
    g_U43138[18]._fU8 = 50;
    g_U43138[18]._fU28 = 8;
    g_U43138[19]._fU0 = 7;
    g_U43138[19]._fU4 = 50;
    g_U43138[19]._fU8 = 40;
    g_U43138[19]._fU16 = 20;
    g_U43138[19]._fU20 = 55;
    g_U43138[20]._fU0 = 5;
    g_U43138[20]._fU4 = 0;
    g_U43138[20]._fU8 = 40;
    g_U43138[20]._fU20 = 55;
    g_U43138[20]._fU16 = 20;
    g_U43138[21]._fU0 = 3;
    g_U43138[21]._fU4 = 10;
    g_U43138[21]._fU8 = 10;
    g_U43138[22]._fU0 = 6;
    g_U43138[22]._fU4 = 30;
    g_U43138[22]._fU8 = 50;
    g_U43138[22]._fU20 = 70;
    g_U43138[22]._fU16 = 20;
    g_U43138[22]._fU28 = 5;
    g_U43138[23]._fU0 = 6;
    g_U43138[23]._fU4 = 40;
    g_U43138[23]._fU8 = 40;
    g_U43138[23]._fU20 = 70;
    g_U43138[23]._fU16 = 20;
    g_U43138[24]._fU0 = 4;
    g_U43138[24]._fU4 = 30;
    g_U43138[24]._fU8 = 40;
    g_U43138[24]._fU20 = 60;
    g_U43138[24]._fU16 = 10;
    g_U43138[25]._fU0 = 4;
    g_U43138[25]._fU4 = 30;
    g_U43138[25]._fU8 = 90;
    g_U43138[25]._fU20 = 70;
    g_U43138[25]._fU16 = 25;
    g_U43138[25]._fU28 = 4;
    return;
}

void sub_8531()
{
    GET_GAME_TIMER( ref g_U43501 );
    g_U43496 = 1;
    return;
}

void sub_8569()
{
    if (NOT (IS_CHAR_DEAD( sub_2502() )))
    {
        GET_CHAR_HEALTH( sub_2502(), ref g_U43520 );
        g_U43520 = 200;
    }
    return;
}

void sub_8672(int iParam0, int iParam1, int iParam2)
{
    if (iParam1 == 1)
    {
        g_U43517 = GET_INT_STAT( 296 );
    }
    else if (iParam2 == 1)
    {
        g_U43517 = GET_INT_STAT( 297 );
    }
    else
    {
        g_U43517 = GET_INT_STAT( 294 );
    }
    if (iParam0 == 1)
    {
        RESET_NO_LAW_VEHICLES_DESTROYED_BY_LOCAL_PLAYER();
    }
    return;
}

void sub_9939(unknown uParam0)
{
    int iVar3;
    int iVar4;
    int iVar5;

    if (sub_9948() == 0)
    {
        sub_9973();
    }
    if (HAS_SCRIPT_LOADED( "MissionResultsTimer" ))
    {
        if ((GET_NUMBER_OF_INSTANCES_OF_STREAMED_SCRIPT( "MissionResultsTimer" )) == 0)
        {
            START_NEW_SCRIPT( "MissionResultsTimer", 1024 );
            MARK_SCRIPT_AS_NO_LONGER_NEEDED( "MissionResultsTimer" );
        }
    }
    if (sub_12728() <= g_U43138[g_U43137]._fU8)
    {
        g_U43568 = 1;
    }
    else
    {
        g_U43568 = 0;
    }
    if (g_U43600 == 1)
    {
        g_U43612 = sub_13010();
        g_U43600 = 0;
    }
    if (g_U43133 == 1)
    {
        if (g_U43624 == 0)
        {
            if (sub_12728() < g_U43612)
            {
                g_U43575 = 1;
            }
            else
            {
                g_U43575 = 0;
            }
        }
        else
        {
            g_U43575 = 0;
        }
    }
    else
    {
        g_U43575 = 0;
    }
    if (g_U43137 == 22)
    {
        if ((sub_13803( 0, 0, 0 )) >= g_U43138[g_U43137]._fU28)
        {
            g_U43569 = 1;
        }
        else
        {
            g_U43569 = 0;
        }
        if (g_U43605 == 1)
        {
            g_U43617 = sub_14113();
            g_U43605 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if ((sub_13803( 0, 0, 0 )) > g_U43617)
                {
                    g_U43580 = 1;
                }
                else
                {
                    g_U43580 = 0;
                }
            }
            else
            {
                g_U43580 = 0;
            }
        }
        else
        {
            g_U43580 = 0;
        }
    }
    if (g_U43137 == 17)
    {
        if ((sub_13803( 1, 0, 0 )) >= g_U43138[g_U43137]._fU28)
        {
            g_U43569 = 1;
        }
        else
        {
            g_U43569 = 0;
        }
        if (g_U43605 == 1)
        {
            g_U43617 = sub_14113();
            g_U43605 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if ((sub_13803( 1, 0, 0 )) > g_U43617)
                {
                    g_U43580 = 1;
                }
                else
                {
                    g_U43580 = 0;
                }
            }
            else
            {
                g_U43580 = 0;
            }
        }
        else
        {
            g_U43580 = 0;
        }
    }
    if (g_U43137 == 15)
    {
        g_U43519 = uParam0;
        if (g_U43519 >= g_U43138[g_U43137]._fU28)
        {
            g_U43569 = 1;
        }
        else
        {
            g_U43569 = 0;
        }
        if (g_U43605 == 1)
        {
            g_U43617 = sub_14113();
            g_U43605 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if (g_U43519 > g_U43617)
                {
                    g_U43580 = 1;
                }
                else
                {
                    g_U43580 = 0;
                }
            }
            else
            {
                g_U43580 = 0;
            }
        }
        else
        {
            g_U43580 = 0;
        }
    }
    if ((g_U43137 == 16) || (g_U43137 == 18))
    {
        if ((sub_13803( 0, 0, 1 )) >= g_U43138[g_U43137]._fU28)
        {
            g_U43569 = 1;
        }
        else
        {
            g_U43569 = 0;
        }
        if (g_U43605 == 1)
        {
            g_U43617 = sub_14113();
            g_U43605 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if ((sub_13803( 0, 0, 1 )) > g_U43617)
                {
                    g_U43580 = 1;
                }
                else
                {
                    g_U43580 = 0;
                }
            }
            else
            {
                g_U43580 = 0;
            }
        }
        else
        {
            g_U43580 = 0;
        }
    }
    if (g_U43137 == 25)
    {
        g_U43519 = uParam0;
        if (g_U43519 >= g_U43138[g_U43137]._fU28)
        {
            g_U43569 = 1;
        }
        else
        {
            g_U43569 = 0;
        }
        if (g_U43605 == 1)
        {
            g_U43617 = sub_14113();
            g_U43605 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if (g_U43519 > g_U43617)
                {
                    g_U43580 = 1;
                }
                else
                {
                    g_U43580 = 0;
                }
            }
            else
            {
                g_U43580 = 0;
            }
        }
        else
        {
            g_U43580 = 0;
        }
    }
    if (g_U43571 == 1)
    {
        iVar3 = 1;
    }
    else
    {
        iVar3 = 0;
    }
    if (g_U43572 == 1)
    {
        iVar4 = 1;
    }
    else
    {
        iVar4 = 0;
    }
    if (g_U43573 == 1)
    {
        iVar5 = 1;
    }
    else
    {
        iVar5 = 0;
    }
    if (g_U43607 == 1)
    {
        g_U43619 = sub_15585();
        g_U43607 = 0;
    }
    if (g_U43133 == 1)
    {
        if (g_U43624 == 0)
        {
            if (iVar3 > g_U43619)
            {
                g_U43582 = 1;
            }
            else
            {
                g_U43582 = 0;
            }
        }
        else
        {
            g_U43582 = 0;
        }
    }
    else
    {
        g_U43582 = 0;
    }
    if (g_U43608 == 1)
    {
        g_U43620 = sub_16281();
        g_U43608 = 0;
    }
    if (g_U43133 == 1)
    {
        if (g_U43624 == 0)
        {
            if (iVar4 > g_U43620)
            {
                g_U43583 = 1;
            }
            else
            {
                g_U43583 = 0;
            }
        }
        else
        {
            g_U43583 = 0;
        }
    }
    else
    {
        g_U43583 = 0;
    }
    if (g_U43609 == 1)
    {
        g_U43621 = sub_16860();
        g_U43609 = 0;
    }
    if (g_U43133 == 1)
    {
        if (g_U43624 == 0)
        {
            if (iVar5 > g_U43621)
            {
                g_U43584 = 1;
            }
            else
            {
                g_U43584 = 0;
            }
        }
        else
        {
            g_U43584 = 0;
        }
    }
    else
    {
        g_U43584 = 0;
    }
    return;
}

int sub_9948()
{
    return 0;
}

void sub_9973()
{
    if (sub_9987( sub_2502() ))
    {
        if (IS_CONTROL_PRESSED( 2, 77 ))
        {
            if (l_U519 == 0)
            {
                GET_GAME_TIMER( ref l_U516 );
                l_U519 = 1;
            }
            GET_GAME_TIMER( ref l_U517 );
            l_U518 = l_U517 - l_U516;
            if (l_U518 < 1000)
            {
                PRINTNL();
                PRINTSTRING( "***************************" );
                PRINTNL();
                PRINTSTRING( "Player is in the back of a taxi - Blocking Mission Time Goal" );
                PRINTNL();
                PRINTSTRING( "***************************" );
                PRINTNL();
                g_U43593 = 1;
            }
        }
    }
    sub_10517();
    if (g_U12379 == 1)
    {
        if ((IS_BIT_SET( g_U10938._fU0, 7 )) == 0)
        {
            if (g_U43133 == 0)
            {
                if (l_U515 == 0)
                {
                    GET_GAME_TIMER( ref l_U512 );
                    l_U515 = 1;
                }
                GET_GAME_TIMER( ref l_U513 );
                l_U514 = l_U513 - l_U512;
                if (l_U514 < 1000)
                {
                    g_U43597 = 1;
                    PRINTNL();
                    PRINTSTRING( "***************************" );
                    PRINTNL();
                    PRINTSTRING( "Player has used a trip skip - Blocking Mission Goals" );
                    PRINTNL();
                    PRINTSTRING( "***************************" );
                    PRINTNL();
                }
            }
            else
            {
                g_U43597 = 0;
            }
        }
        else
        {
            g_U43597 = 0;
        }
    }
    return;
}

int sub_9987(int iParam0)
{
    unknown uVar3;
    int iVar4;
    int iVar5;

    if (NOT (IS_CHAR_INJURED( iParam0 )))
    {
        if (IS_CHAR_IN_ANY_CAR( iParam0 ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( iParam0, ref uVar3 );
            if (IS_VEH_DRIVEABLE( uVar3 ))
            {
                if (sub_10051( uVar3 ))
                {
                    GET_MAXIMUM_NUMBER_OF_PASSENGERS( uVar3, ref iVar5 );
                    if (iVar5 == 3)
                    {
                        if (NOT (IS_CAR_PASSENGER_SEAT_FREE( uVar3, 1 )))
                        {
                            GET_CHAR_IN_CAR_PASSENGER_SEAT( uVar3, 1, ref iVar4 );
                            if (iVar4 == iParam0)
                            {
                                return 1;
                            }
                        }
                        if (NOT (IS_CAR_PASSENGER_SEAT_FREE( uVar3, 2 )))
                        {
                            GET_CHAR_IN_CAR_PASSENGER_SEAT( uVar3, 2, ref iVar4 );
                            if (iVar4 == iParam0)
                            {
                                return 1;
                            }
                        }
                    }
                }
            }
        }
    }
    return 0;
}

int sub_10051(int iParam0)
{
    if ((iParam0 == g_U2687) || ((IS_CAR_MODEL( iParam0, 1208856469 )) || ((IS_CAR_MODEL( iParam0, 1884962369 )) || (IS_CAR_MODEL( iParam0, -956048545 )))))
    {
        return 1;
    }
    return 0;
}

void sub_10517()
{
    int iVar2;

    iVar2 = 1000;
    if (CHEAT_HAPPENED_RECENTLY( 0, iVar2 ))
    {
        g_U43595 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used Poor Weapon Cheat - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    if (CHEAT_HAPPENED_RECENTLY( 1, iVar2 ))
    {
        g_U43595 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used Advance Weapon Cheat - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    if (CHEAT_HAPPENED_RECENTLY( 22, iVar2 ))
    {
        g_U43595 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used E2 Weapon Cheat - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    if (CHEAT_HAPPENED_RECENTLY( 30, iVar2 ))
    {
        g_U43595 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used E2 Explosive punch cheat - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    if (CHEAT_HAPPENED_RECENTLY( 7, iVar2 ))
    {
        g_U43595 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used Annihilitor cheat - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    if (CHEAT_HAPPENED_RECENTLY( 27, iVar2 ))
    {
        g_U43595 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used Buzzard cheat - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    if (CHEAT_HAPPENED_RECENTLY( 26, iVar2 ))
    {
        g_U43595 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used APC cheat - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    if (CHEAT_HAPPENED_RECENTLY( 2, iVar2 ))
    {
        g_U43594 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used Health Cheat - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    if (CHEAT_HAPPENED_RECENTLY( 4, iVar2 ))
    {
        g_U43596 = 1;
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
        PRINTSTRING( "Player has used Wanted Level Reduction - Blocking Mission Goals" );
        PRINTNL();
        PRINTSTRING( "***************************" );
        PRINTNL();
    }
    return;
}

void sub_12728()
{
    float fVar2;
    unknown uVar3;
    unknown uVar4;

    if (g_U12379 == 1)
    {
        if (NOT (IS_CHAR_DEAD( sub_2502() )))
        {
            GET_CHAR_HEALTH( sub_2502(), ref g_U43521 );
        }
    }
    uVar3 = TO_FLOAT( g_U43521 );
    uVar4 = TO_FLOAT( g_U43520 );
    fVar2 = uVar3 / uVar4;
    fVar2 *= 100;
    fVar2 -= 100;
    if (fVar2 < 0)
    {
        fVar2 *= -1;
    }
    fVar2 *= 2;
    if (fVar2 < 0)
    {
        fVar2 = 0;
    }
    if (fVar2 > 100)
    {
        fVar2 = 100;
    }
    g_U43522 = FLOOR( fVar2 );
    if (g_U43522 < 0)
    {
        g_U43522 = 0;
    }
    return g_U43522;
}

int sub_13010()
{
    if (g_U43137 == 0)
    {
        return GET_INT_STAT( 475 );
    }
    if (g_U43137 == 1)
    {
        return GET_INT_STAT( 479 );
    }
    if (g_U43137 == 2)
    {
        return GET_INT_STAT( 484 );
    }
    if (g_U43137 == 3)
    {
        ;
    }
    if (g_U43137 == 21)
    {
        return GET_INT_STAT( 578 );
    }
    if (g_U43137 == 15)
    {
        return GET_INT_STAT( 544 );
    }
    if (g_U43137 == 16)
    {
        return GET_INT_STAT( 550 );
    }
    if (g_U43137 == 17)
    {
        return GET_INT_STAT( 557 );
    }
    if (g_U43137 == 12)
    {
        return GET_INT_STAT( 525 );
    }
    if (g_U43137 == 13)
    {
        return GET_INT_STAT( 533 );
    }
    if (g_U43137 == 19)
    {
        return GET_INT_STAT( 568 );
    }
    if (g_U43137 == 20)
    {
        return GET_INT_STAT( 573 );
    }
    if (g_U43137 == 5)
    {
        return GET_INT_STAT( 493 );
    }
    if (g_U43137 == 4)
    {
        return GET_INT_STAT( 498 );
    }
    if (g_U43137 == 6)
    {
        return GET_INT_STAT( 502 );
    }
    if (g_U43137 == 7)
    {
        return GET_INT_STAT( 506 );
    }
    if (g_U43137 == 8)
    {
        return GET_INT_STAT( 511 );
    }
    if (g_U43137 == 9)
    {
        ;
    }
    if (g_U43137 == 14)
    {
        ;
    }
    if (g_U43137 == 22)
    {
        return GET_INT_STAT( 583 );
    }
    if (g_U43137 == 23)
    {
        return GET_INT_STAT( 591 );
    }
    if (g_U43137 == 24)
    {
        return GET_INT_STAT( 599 );
    }
    if (g_U43137 == 18)
    {
        return GET_INT_STAT( 563 );
    }
    if (g_U43137 == 10)
    {
        ;
    }
    if (g_U43137 == 25)
    {
        return GET_INT_STAT( 605 );
    }
    if (g_U43137 == 11)
    {
        return GET_INT_STAT( 520 );
    }
    return 0;
}

void sub_13803(int iParam0, int iParam1, int iParam2)
{
    if (iParam1 == 1)
    {
        g_U43518 = GET_INT_STAT( 296 );
        g_U43519 = g_U43518 - g_U43517;
    }
    else if (iParam2 == 1)
    {
        g_U43518 = GET_INT_STAT( 297 );
        g_U43519 = g_U43518 - g_U43517;
    }
    else if (iParam0 == 1)
    {
        if (l_U511 < GET_NO_LAW_VEHICLES_DESTROYED_BY_LOCAL_PLAYER())
        {
            g_U43519++;
        }
        l_U511 = GET_NO_LAW_VEHICLES_DESTROYED_BY_LOCAL_PLAYER();
    }
    else
    {
        g_U43518 = GET_INT_STAT( 294 );
        g_U43519 = g_U43518 - g_U43517;
    };;;
    if (g_U43519 < 0)
    {
        g_U43519 = 0;
    }
    return g_U43519;
}

int sub_14113()
{
    if (g_U43137 == 0)
    {
        ;
    }
    if (g_U43137 == 1)
    {
        ;
    }
    if (g_U43137 == 2)
    {
        ;
    }
    if (g_U43137 == 3)
    {
        ;
    }
    if (g_U43137 == 21)
    {
        ;
    }
    if (g_U43137 == 15)
    {
        return GET_INT_STAT( 547 );
    }
    if (g_U43137 == 16)
    {
        return GET_INT_STAT( 553 );
    }
    if (g_U43137 == 17)
    {
        return GET_INT_STAT( 558 );
    }
    if (g_U43137 == 12)
    {
        ;
    }
    if (g_U43137 == 13)
    {
        ;
    }
    if (g_U43137 == 19)
    {
        ;
    }
    if (g_U43137 == 20)
    {
        ;
    }
    if (g_U43137 == 5)
    {
        ;
    }
    if (g_U43137 == 4)
    {
        ;
    }
    if (g_U43137 == 6)
    {
        ;
    }
    if (g_U43137 == 7)
    {
        ;
    }
    if (g_U43137 == 8)
    {
        ;
    }
    if (g_U43137 == 9)
    {
        ;
    }
    if (g_U43137 == 14)
    {
        ;
    }
    if (g_U43137 == 22)
    {
        return GET_INT_STAT( 586 );
    }
    if (g_U43137 == 23)
    {
        ;
    }
    if (g_U43137 == 24)
    {
        ;
    }
    if (g_U43137 == 18)
    {
        return GET_INT_STAT( 565 );
    }
    if (g_U43137 == 10)
    {
        ;
    }
    if (g_U43137 == 25)
    {
        return GET_INT_STAT( 608 );
    }
    if (g_U43137 == 11)
    {
        ;
    }
    return 0;
}

int sub_15585()
{
    if (g_U43137 == 0)
    {
        ;
    }
    if (g_U43137 == 1)
    {
        return GET_INT_STAT( 481 );
    }
    if (g_U43137 == 2)
    {
        return GET_INT_STAT( 487 );
    }
    if (g_U43137 == 3)
    {
        ;
    }
    if (g_U43137 == 21)
    {
        return GET_INT_STAT( 579 );
    }
    if (g_U43137 == 15)
    {
        ;
    }
    if (g_U43137 == 16)
    {
        ;
    }
    if (g_U43137 == 17)
    {
        return GET_INT_STAT( 560 );
    }
    if (g_U43137 == 12)
    {
        return GET_INT_STAT( 529 );
    }
    if (g_U43137 == 13)
    {
        return GET_INT_STAT( 534 );
    }
    if (g_U43137 == 19)
    {
        ;
    }
    if (g_U43137 == 20)
    {
        ;
    }
    if (g_U43137 == 5)
    {
        return GET_INT_STAT( 495 );
    }
    if (g_U43137 == 4)
    {
        ;
    }
    if (g_U43137 == 6)
    {
        return GET_INT_STAT( 503 );
    }
    if (g_U43137 == 7)
    {
        return GET_INT_STAT( 507 );
    }
    if (g_U43137 == 8)
    {
        ;
    }
    if (g_U43137 == 9)
    {
        return GET_INT_STAT( 613 );
    }
    if (g_U43137 == 14)
    {
        return GET_INT_STAT( 541 );
    }
    if (g_U43137 == 22)
    {
        return GET_INT_STAT( 587 );
    }
    if (g_U43137 == 23)
    {
        return GET_INT_STAT( 594 );
    }
    if (g_U43137 == 24)
    {
        return GET_INT_STAT( 602 );
    }
    if (g_U43137 == 18)
    {
        return GET_INT_STAT( 564 );
    }
    if (g_U43137 == 10)
    {
        ;
    }
    if (g_U43137 == 25)
    {
        ;
    }
    if (g_U43137 == 11)
    {
        ;
    }
    return 0;
}

int sub_16281()
{
    if (g_U43137 == 0)
    {
        ;
    }
    if (g_U43137 == 1)
    {
        ;
    }
    if (g_U43137 == 2)
    {
        ;
    }
    if (g_U43137 == 3)
    {
        ;
    }
    if (g_U43137 == 21)
    {
        return GET_INT_STAT( 580 );
    }
    if (g_U43137 == 15)
    {
        ;
    }
    if (g_U43137 == 16)
    {
        ;
    }
    if (g_U43137 == 17)
    {
        ;
    }
    if (g_U43137 == 12)
    {
        ;
    }
    if (g_U43137 == 13)
    {
        return GET_INT_STAT( 535 );
    }
    if (g_U43137 == 19)
    {
        ;
    }
    if (g_U43137 == 20)
    {
        ;
    }
    if (g_U43137 == 5)
    {
        return GET_INT_STAT( 494 );
    }
    if (g_U43137 == 4)
    {
        ;
    }
    if (g_U43137 == 6)
    {
        ;
    }
    if (g_U43137 == 7)
    {
        ;
    }
    if (g_U43137 == 8)
    {
        ;
    }
    if (g_U43137 == 9)
    {
        return GET_INT_STAT( 612 );
    }
    if (g_U43137 == 14)
    {
        ;
    }
    if (g_U43137 == 22)
    {
        return GET_INT_STAT( 588 );
    }
    if (g_U43137 == 23)
    {
        return GET_INT_STAT( 595 );
    }
    if (g_U43137 == 24)
    {
        ;
    }
    if (g_U43137 == 18)
    {
        ;
    }
    if (g_U43137 == 10)
    {
        ;
    }
    if (g_U43137 == 25)
    {
        ;
    }
    if (g_U43137 == 11)
    {
        ;
    }
    return 0;
}

int sub_16860()
{
    if (g_U43137 == 0)
    {
        ;
    }
    if (g_U43137 == 1)
    {
        ;
    }
    if (g_U43137 == 2)
    {
        ;
    }
    if (g_U43137 == 3)
    {
        ;
    }
    if (g_U43137 == 21)
    {
        ;
    }
    if (g_U43137 == 15)
    {
        ;
    }
    if (g_U43137 == 16)
    {
        return GET_INT_STAT( 554 );
    }
    if (g_U43137 == 17)
    {
        ;
    }
    if (g_U43137 == 12)
    {
        ;
    }
    if (g_U43137 == 13)
    {
        ;
    }
    if (g_U43137 == 19)
    {
        ;
    }
    if (g_U43137 == 20)
    {
        ;
    }
    if (g_U43137 == 5)
    {
        ;
    }
    if (g_U43137 == 4)
    {
        ;
    }
    if (g_U43137 == 6)
    {
        ;
    }
    if (g_U43137 == 7)
    {
        ;
    }
    if (g_U43137 == 8)
    {
        ;
    }
    if (g_U43137 == 9)
    {
        ;
    }
    if (g_U43137 == 14)
    {
        ;
    }
    if (g_U43137 == 22)
    {
        ;
    }
    if (g_U43137 == 23)
    {
        return GET_INT_STAT( 596 );
    }
    if (g_U43137 == 24)
    {
        ;
    }
    if (g_U43137 == 18)
    {
        ;
    }
    if (g_U43137 == 10)
    {
        ;
    }
    if (g_U43137 == 25)
    {
        ;
    }
    if (g_U43137 == 11)
    {
        ;
    }
    return 0;
}

void sub_17433()
{
    switch (g_U43104[4])
    {
        case 0:
        if ((NOT IS_SCREEN_FADING()) AND (NOT IS_SCREEN_FADED_OUT()))
        {
            DO_SCREEN_FADE_OUT( 500 );
            while (NOT IS_SCREEN_FADED_OUT())
            {
                WAIT( 0 );
            }
        }
        SET_CHAR_COORDINATES( sub_2502(), -676.19860000, 342.97100000, 3.07330000 );
        SET_CHAR_HEADING( sub_2502(), 81.88700000 );
        CLEAR_WANTED_LEVEL( sub_5022() );
        REQUEST_MODEL( -339587598 );
        REQUEST_MODEL( -1798587656 );
        sub_17615( 0 );
        while ((NOT (sub_18103( 0 ))) || ((NOT (HAS_MODEL_LOADED( -1798587656 ))) || (NOT (HAS_MODEL_LOADED( -339587598 )))))
        {
            WAIT( 0 );
        }
        CLEAR_AREA( l_U871._fU0, l_U871._fU4, l_U871._fU8, 10.00000000, 1 );
        CREATE_CAR( -339587598, l_U871._fU0, l_U871._fU4, l_U871._fU8, ref l_U1068, 1 );
        SET_CAR_HEADING( l_U1068, l_U1037 );
        TURN_OFF_VEHICLE_EXTRA( l_U1068, 7, 1 );
        TURN_OFF_VEHICLE_EXTRA( l_U1068, 8, 1 );
        sub_18282( 0, ref l_U1064, l_U1068, 0 );
        SET_CHAR_HEALTH( l_U1064, 800 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1064, 1 );
        SET_CHAR_NEVER_TARGETTED( l_U1064, 1 );
        SET_CHAR_SUFFERS_CRITICAL_HITS( l_U1064, 0 );
        TASK_LOOK_AT_CHAR( l_U1064, sub_2502(), -2, 0 );
        sub_6594( 1, l_U1064, "TONY", 0 );
        CREATE_CHAR( 26, -1798587656, l_U877._fU0, l_U877._fU4, l_U877._fU8, ref l_U1065, 1 );
        SET_CHAR_HEADING( l_U1065, l_U1039 );
        SET_CHAR_HEALTH( l_U1065, 200 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1065, 1 );
        SET_CHAR_NEVER_TARGETTED( l_U1065, 1 );
        SET_CHAR_SUFFERS_CRITICAL_HITS( l_U1065, 0 );
        ATTACH_PED_TO_CAR( l_U1065, l_U1068, 0, l_U904, 0.00000000, 0.00000000, 0, 0 );
        SET_CHAR_DUCKING( l_U1065, 1 );
        SET_PED_DIES_WHEN_INJURED( l_U1065, 1 );
        SET_CHAR_DROWNS_IN_WATER( l_U1065, 1 );
        TASK_LOOK_AT_CHAR( l_U1065, sub_2502(), -2, 0 );
        SET_CHAR_PROOFS( l_U1065, 0, 1, 0, 0, 0 );
        SET_CHAR_COMPONENT_VARIATION( l_U1065, 2, 0, 0 );
        sub_6594( 2, l_U1065, "CELEBINATOR", 0 );
        MARK_MODEL_AS_NO_LONGER_NEEDED( -339587598 );
        MARK_MODEL_AS_NO_LONGER_NEEDED( -1798587656 );
        sub_19724( 0 );
        LOAD_SCENE( -676.19860000, 342.97100000, 3.07330000 );
        if ((NOT IS_SCREEN_FADING()) AND (NOT IS_SCREEN_FADED_IN()))
        {
            DO_SCREEN_FADE_IN( 500 );
            while (NOT IS_SCREEN_FADED_IN())
            {
                WAIT( 0 );
            }
        }
        l_U1192 = 0;
        break;
        case 1:
        REQUEST_MODEL( -339587598 );
        REQUEST_MODEL( -1798587656 );
        sub_17615( 0 );
        while ((NOT (sub_18103( 0 ))) || ((NOT (HAS_MODEL_LOADED( -1798587656 ))) || (NOT (HAS_MODEL_LOADED( -339587598 )))))
        {
            WAIT( 0 );
        }
        CREATE_CAR( -339587598, l_U889._fU0, l_U889._fU4 + 50.00000000, l_U889._fU8, ref l_U1068, 1 );
        SET_CAR_HEADING( l_U1068, l_U1037 );
        SET_HELI_BLADES_FULL_SPEED( l_U1068 );
        TURN_OFF_VEHICLE_EXTRA( l_U1068, 7, 1 );
        TURN_OFF_VEHICLE_EXTRA( l_U1068, 8, 1 );
        sub_18282( 0, ref l_U1064, l_U1068, 0 );
        SET_CHAR_HEALTH( l_U1064, 800 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1064, 1 );
        SET_CHAR_NEVER_TARGETTED( l_U1064, 1 );
        SET_CHAR_SUFFERS_CRITICAL_HITS( l_U1064, 0 );
        sub_6594( 1, l_U1064, "TONY", 0 );
        CREATE_CHAR( 26, -1798587656, l_U889._fU0, l_U889._fU4, l_U889._fU8 + 10.00000000, ref l_U1065, 1 );
        SET_CHAR_HEADING( l_U1065, l_U1039 );
        SET_CHAR_HEALTH( l_U1065, 200 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1065, 1 );
        SET_CHAR_NEVER_TARGETTED( l_U1065, 1 );
        SET_CHAR_SUFFERS_CRITICAL_HITS( l_U1065, 0 );
        ATTACH_PED_TO_CAR( l_U1065, l_U1068, 0, l_U904, 0.00000000, 0.00000000, 0, 0 );
        SET_CHAR_DUCKING( l_U1065, 1 );
        SET_CHAR_DROWNS_IN_WATER( l_U1065, 1 );
        SET_PED_DIES_WHEN_INJURED( l_U1065, 1 );
        SET_CHAR_PROOFS( l_U1065, 0, 1, 0, 0, 0 );
        SET_CHAR_COMPONENT_VARIATION( l_U1065, 2, 0, 0 );
        sub_6594( 2, l_U1065, "CELEBINATOR", 0 );
        MARK_MODEL_AS_NO_LONGER_NEEDED( -339587598 );
        MARK_MODEL_AS_NO_LONGER_NEEDED( -1798587656 );
        sub_19724( 0 );
        WARP_CHAR_INTO_CAR( sub_2502(), l_U1068 );
        LOAD_SCENE( l_U889._fU0, l_U889._fU4, l_U889._fU8 );
        g_U43104[4] = 1;
        l_U1192 = 1;
        l_U1010 = 2;
        l_U1137[3] = 1;
        CLEAR_WANTED_LEVEL( sub_5022() );
        if (NOT IS_SCREEN_FADED_IN())
        {
            DO_SCREEN_FADE_IN( 500 );
            while (NOT IS_SCREEN_FADED_IN())
            {
                WAIT( 0 );
            }
        }
        break;
    }
    return;
}

void sub_17615(unknown uParam0)
{
    REQUEST_MODEL( sub_17626( uParam0 ) );
    return;
}

int sub_17626(unknown uParam0)
{
    switch (uParam0)
    {
        case 0: return -274568867;
        case 1: return 1662225612;
        case 2: return -448171135;
        case 3: return 1370299619;
        case 4: return -773750838;
        case 5: return 243666427;
        case 6: return -913924918;
        case 7: return 1905515841;
        case 9:
        SCRIPT_ASSERT( "Attempt to Return the model for the Reserve Strand 1 Character" );
        return 0;
        case 30: return -1949352469;
        case 31: return -401698464;
        case 32: return -487173849;
        case 33: return -407067034;
        case 13: return 714517099;
        case 14: return 653404222;
        case 15: return 1798610950;
    }
    sub_3838( "Contacts.sch: Get_Model_For_Contact(): Unknown Contact ID. Tell Keith." );
    return 0;
}

void sub_18103(unknown uParam0)
{
    return HAS_MODEL_LOADED( sub_17626( uParam0 ) );
}

void sub_18282(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    CREATE_CHAR_AS_PASSENGER( uParam2, sub_18295( uParam0 ), sub_17626( uParam0 ), uParam3, uParam1 );
    sub_18336( uParam0, (uParam1^) );
    sub_18358( uParam0, (uParam1^) );
    return;
}

int sub_18295(unknown uParam0)
{
    return 25;
}

void sub_18336(unknown uParam0, unknown uParam1)
{
    return;
}

void sub_18358(unknown uParam0, unknown uParam1)
{
    sub_18370( ref uParam1, uParam0 );
    return;
}

void sub_18370(unknown uParam0, int iParam1)
{
    sub_18381( uParam0 );
    if (iParam1 == 37)
    {
        sub_18483( uParam0, 0, 0, 0, 0, 0, 0, 0, -1, -1 );
    }
    else
    {
        sub_19067( (uParam0^), iParam1, g_U42825[iParam1] );
    }
    return;
}

void sub_18381(unknown uParam0)
{
    SET_CHAR_SUFFERS_CRITICAL_HITS( (uParam0^), 0 );
    SET_CHAR_CANT_BE_DRAGGED_OUT( (uParam0^), 1 );
    SET_CHAR_NEVER_TARGETTED( (uParam0^), 1 );
    SET_CHAR_MAX_TIME_IN_WATER( (uParam0^), 10.00000000 );
    SET_CHAR_MAX_TIME_UNDERWATER( (uParam0^), 10.00000000 );
    return;
}

void sub_18483(unknown uParam0, int iParam1, int iParam2, int iParam3, int iParam4, int iParam5, int iParam6, int iParam7, int iParam8, int iParam9)
{
    int iVar12;
    int iVar13;

    if (NOT (IS_CHAR_DEAD( (uParam0^) )))
    {
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 0 )) == 0)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 0 )) == iParam1)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 0, iParam1, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 1 )) == 0)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 1 )) == iParam2)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 1, iParam2, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 2 )) == 0)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 2 )) == iParam3)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 2, iParam3, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 5 )) == 0)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 5 )) == iParam4)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 5, iParam4, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 4 )) == 0)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 4 )) == iParam5)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 4, iParam5, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 3 )) == 0)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 3 )) == iParam6)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 3, iParam6, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 7 )) == 0)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 7 )) == iParam7)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 7, iParam7, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 8 )) == 0)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 8 )) == 0)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 8, 0, 0 );
        }
        iVar12 = -1;
        GET_CHAR_PROP_INDEX( (uParam0^), 0, ref iVar12 );
        if (NOT (iVar12 == iParam8))
        {
            if (iParam8 == -1)
            {
                CLEAR_CHAR_PROP( (uParam0^), 0 );
            }
            else
            {
                SET_CHAR_PROP_INDEX( (uParam0^), 0, iParam8 );
            }
        }
        iVar13 = -1;
        GET_CHAR_PROP_INDEX( (uParam0^), 1, ref iVar13 );
        if (NOT (iVar13 == iParam9))
        {
            if (iParam9 == -1)
            {
                CLEAR_CHAR_PROP( (uParam0^), 1 );
            }
            else
            {
                SET_CHAR_PROP_INDEX( (uParam0^), 1, iParam9 );
            }
        }
    }
    return;
}

void sub_19067(unknown uParam0, unknown uParam1, int iParam2)
{
    switch (uParam1)
    {
        case 0:
        sub_18483( ref uParam0, 0, 0, 0, 0, 0, 0, 0, -1, 0 );
        return;
        case 1:
        sub_18483( ref uParam0, 0, 1, 0, 0, 0, 0, 0, -1, 0 );
        return;
        case 31:
        sub_18483( ref uParam0, 0, 1, 0, 0, 0, 0, 0, -1, -1 );
        return;
        case 7:
        sub_18483( ref uParam0, 0, 0, 0, 0, 0, 0, 0, -1, 0 );
        return;
    }
    if (NOT (iParam2 == 0))
    {
        SCRIPT_ASSERT( "Set_Contacts_Clothes: A contact without a change of clothes attempting to change clothes" );
    }
    sub_18483( ref uParam0, 0, 0, 0, 0, 0, 0, 0, -1, -1 );
    return;
}

void sub_19724(unknown uParam0)
{
    if (NOT g_U1)
    {
        return;
    }
    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_17626( uParam0 ) );
    return;
}

int sub_20582(unknown uParam0)
{
    int iVar3;

    if (sub_20591())
    {
        iVar3 = sub_20657( uParam0 );
        if (iVar3 < 0)
        {
            return 0;
        }
        else if (g_U2692[iVar3]._fU60)
        {
            return 1;
        }
        else
        {
            return 0;
        }
        break;
    }
    return 0;
}

int sub_20591()
{
    if ((HAVE_ANIMS_LOADED( "PARACHUTE" )) AND (HAS_MODEL_LOADED( 1490460832 )))
    {
        return 1;
    }
    return 0;
}

int sub_20657(int iParam0)
{
    int Result;

    Result = 0;
    for ( Result = 0; Result < g_U2692; Result++ )
    {
        if (g_U2692[Result]._fU0 == iParam0)
        {
            if (g_U2692[Result]._fU56)
            {
                return Result;
            }
        }
    }
    return -1;
}

void sub_20858(unknown uParam0, unknown uParam1)
{
    int iVar4;

    iVar4 = sub_20657( uParam0 );
    if (iVar4 >= 0)
    {
        g_U2692[iVar4]._fU68 = uParam1;
    }
    else
    {
        SCRIPT_ASSERT( "DISABLE_PARACHUTE_PED_UPDATES: Ped does not have a parachute equipped." );
    }
    return;
}

void sub_21125()
{
    int iVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if (NOT l_U998)
    {
        if ((NOT IS_SCREEN_FADING()) AND (NOT IS_SCREEN_FADED_IN()))
        {
            DO_SCREEN_FADE_IN( 500 );
            while (NOT IS_SCREEN_FADED_IN())
            {
                WAIT( 0 );
            }
        }
        l_U998 = 1;
    }
    if (NOT (DOES_VEHICLE_EXIST( l_U1068 )))
    {
        if ((sub_18103( 0 )) AND ((HAS_MODEL_LOADED( -1798587656 )) AND (HAS_MODEL_LOADED( -339587598 ))))
        {
            CLEAR_AREA( l_U871._fU0, l_U871._fU4, l_U871._fU8, 10.00000000, 1 );
            CREATE_CAR( -339587598, l_U871._fU0, l_U871._fU4, l_U871._fU8, ref l_U1068, 1 );
            SET_CAR_HEADING( l_U1068, l_U1037 );
            TURN_OFF_VEHICLE_EXTRA( l_U1068, 7, 1 );
            TURN_OFF_VEHICLE_EXTRA( l_U1068, 8, 1 );
            sub_18282( 0, ref l_U1064, l_U1068, 0 );
            SET_CHAR_HEALTH( l_U1064, 800 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1064, 1 );
            SET_CHAR_NEVER_TARGETTED( l_U1064, 1 );
            SET_CHAR_SUFFERS_CRITICAL_HITS( l_U1064, 0 );
            TASK_LOOK_AT_CHAR( l_U1064, sub_2502(), -2, 0 );
            sub_6594( 1, l_U1064, "TONY", 0 );
            CREATE_CHAR( 26, -1798587656, l_U877._fU0, l_U877._fU4, l_U877._fU8, ref l_U1065, 1 );
            SET_CHAR_HEADING( l_U1065, l_U1039 );
            SET_CHAR_HEALTH( l_U1065, 200 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1065, 1 );
            SET_CHAR_NEVER_TARGETTED( l_U1065, 1 );
            SET_CHAR_SUFFERS_CRITICAL_HITS( l_U1065, 0 );
            ATTACH_PED_TO_CAR( l_U1065, l_U1068, 0, l_U904, 0.00000000, 0.00000000, 0, 0 );
            SET_CHAR_DUCKING( l_U1065, 1 );
            SET_PED_DIES_WHEN_INJURED( l_U1065, 1 );
            SET_CHAR_DROWNS_IN_WATER( l_U1065, 1 );
            TASK_LOOK_AT_CHAR( l_U1065, sub_2502(), -2, 0 );
            SET_CHAR_PROOFS( l_U1065, 0, 1, 0, 0, 0 );
            SET_CHAR_COMPONENT_VARIATION( l_U1065, 2, 0, 0 );
            sub_6594( 2, l_U1065, "CELEBINATOR", 0 );
            MARK_MODEL_AS_NO_LONGER_NEEDED( -339587598 );
            MARK_MODEL_AS_NO_LONGER_NEEDED( -1798587656 );
            sub_19724( 0 );
        }
        else
        {
            REQUEST_MODEL( -339587598 );
            REQUEST_MODEL( -1798587656 );
            sub_17615( 0 );
        }
    }
    else if ((NOT (IS_BIT_SET( g_U10938._fU0, 7 ))) || ((g_U43133) || (TIMERB() > 5000)))
    {
        if ((NOT (IS_CHAR_INJURED( l_U1064 ))) AND (IS_VEH_DRIVEABLE( l_U1068 )))
        {
            if (NOT (IS_CHAR_IN_CAR( l_U1064, l_U1068 )))
            {
                GET_SCRIPT_TASK_STATUS( l_U1064, 11, ref iVar2 );
                if (iVar2 != 1)
                {
                    TASK_ENTER_CAR_AS_PASSENGER( l_U1064, l_U1068, -2, 0 );
                }
            }
            if (NOT (IS_CHAR_IN_CAR( sub_2502(), l_U1068 )))
            {
                if (NOT (IS_WANTED_LEVEL_GREATER( sub_5022(), 0 )))
                {
                    if (NOT (DOES_BLIP_EXIST( l_U1073 )))
                    {
                        CLEAR_PRINTS();
                        sub_5061();
                        ADD_BLIP_FOR_CAR( l_U1068, ref l_U1073 );
                        SET_BLIP_AS_FRIENDLY( l_U1073, 1 );
                        sub_22065( l_U1073 );
                        SET_ROUTE( l_U1073, 1 );
                        if (l_U1172[6])
                        {
                            LOCK_CAR_DOORS( l_U1068, 1 );
                            l_U1172[6] = 0;
                        }
                        sub_22178( ref l_U1073, -577.49190000, 322.27350000, 5.54130000, 0.56800000 );
                        if (NOT l_U984)
                        {
                            PRINT_NOW( "T4_ENTERHELI", 7500, 0 );
                            l_U984 = 1;
                        }
                    }
                    GET_CHAR_COORDINATES( sub_2502(), ref uVar3._fU0, ref uVar3._fU4, ref uVar3._fU8 );
                    if ((sub_22309( uVar3, l_U871, 1, 0 )) < 225.00000000)
                    {
                        if ((NOT (IS_CHAR_INJURED( l_U1065 ))) AND (NOT (IS_CHAR_INJURED( l_U1064 ))))
                        {
                            if ((NOT sub_22443()) AND (NOT IS_MESSAGE_BEING_DISPLAYED()))
                            {
                                if (NOT l_U1137[1])
                                {
                                    sub_22541( "E2TAB_MEET", 1, 6, "E2T4BAU", 0, 0 );
                                }
                                else if (NOT l_U1137[2])
                                {
                                    sub_22541( "E2T4B_THANK", 2, 6, "E2T4BAU", 0, 0 );
                                }
                            }
                        }
                    }
                }
                else if (NOT l_U988)
                {
                    sub_5061();
                    CLEAR_PRINTS();
                    PRINT_NOW( "T4_LOSECOPS", 7500, 0 );
                    LOCK_CAR_DOORS( l_U1068, 3 );
                    l_U1172[6] = 1;
                }
            }
            else if (IS_CHAR_IN_CAR( l_U1064, l_U1068 ))
            {
                if (NOT (IS_WANTED_LEVEL_GREATER( sub_5022(), 0 )))
                {
                    CLEAR_PRINTS();
                    sub_5061();
                    sub_22626( 0 );
                    RETUNE_RADIO_TO_STATION_NAME( "K109_THE_STUDIO" );
                    l_U1172[6] = 0;
                    sub_22541( "E2T4B_WHERE", 3, 6, "E2T4BAU", 0, 0 );
                    SETTIMERB( 0 );
                    l_U1192 = 1;
                }
                else if (NOT l_U1172[6])
                {
                    sub_5061();
                    CLEAR_PRINTS();
                    PRINT_NOW( "T4_LOSECOPS", 7500, 0 );
                    l_U1172[6] = 1;
                }
            }
            else if (NOT (DOES_BLIP_EXIST( l_U1072 )))
            {
                sub_5061();
                CLEAR_PRINTS();
                l_U1172[6] = 0;
                ADD_BLIP_FOR_CHAR( l_U1064, ref l_U1072 );
                SET_BLIP_AS_FRIENDLY( l_U1072, 1 );
                sub_22065( l_U1072 );
                if (NOT l_U987)
                {
                    PRINT_NOW( "T4_T_LEAVE", 7500, 0 );
                    l_U987 = 1;
                }
            };;;
        }
    }
    return;
}

void sub_22065(int iParam0)
{
    if (iParam0 == nil)
    {
        return;
    }
    CHANGE_BLIP_DISPLAY( iParam0, 2 );
    return;
}

void sub_22178(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (DOES_BLIP_EXIST( (uParam0^) ))
    {
        g_U2668 = (uParam0^);
        g_U2683 = {uParam1};
        g_U2681 = uParam4;
    }
    return;
}

void sub_22309(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, boolean bParam6, boolean bParam7)
{
    if (bParam6)
    {
        uParam0._fU8 = 0.00000000;
        uParam3._fU8 = 0.00000000;
    }
    if (bParam7)
    {
        return VDIST( uParam0, uParam3 );
        break;
    }
    return VDIST2( uParam0, uParam3 );
}

int sub_22443()
{
    if ((g_U8867 == 2) || ((g_U8867 == 1) || (IS_SCRIPTED_CONVERSATION_ONGOING())))
    {
        return 1;
    }
    return 0;
}

void sub_22541(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, boolean bParam4, boolean bParam5)
{
    unknown uVar8;

    uVar8 = uParam1;
    if (bParam4)
    {
        l_U1137[uVar8] = 0;
    }
    if (NOT l_U1137[uVar8])
    {
        l_U1189 = uParam0;
        l_U1190 = uParam3;
        l_U1136 = uVar8;
        l_U1188 = uParam2;
        if (bParam5)
        {
            sub_22626( 0 );
            sub_23830( l_U1189, ref l_U1182, l_U1188, 1 );
            l_U1137[l_U1136] = 1;
        }
    }
    return;
}

void sub_22626(unknown uParam0)
{
    if (sub_22641( l_U1182 ))
    {
        sub_22682( l_U1189, ref l_U1182, l_U1188, 0 );
        WAIT( 0 );
    }
    sub_23677( ref l_U1182, uParam0 );
    l_U1136 = 0;
    return;
}

void sub_22641(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    return uParam0._fU12;
}

void sub_22682(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    return sub_22705( uParam0, ref l_U539._fU0, uParam1, uParam2, uParam3 );
}

int sub_22705(unknown uParam0, unknown uParam1, int iParam2, unknown uParam3, unknown uParam4)
{
    char[16] cVar7;
    char[12] cVar11;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    StrCopy( ref cVar7, uParam1, 16 );
    array(ref cVar11, 2);
    if (iParam2->_fU12)
    {
        StrCopy( ref cVar11[0], uParam0, 16 );
        StrCopy( ref cVar11[1], "END", 16 );
        return sub_22769( ref cVar11, iParam2, uParam3, 1, 0, 0, 0, ref cVar7, uParam4 );
    }
    return 0;
}

int sub_22769(unknown uParam0, int iParam1, unknown uParam2, boolean bParam3, boolean bParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    int I;
    int iVar12;

    iVar12 = 0;
    iParam1->_fU0 = uParam2;
    if (NOT (sub_22791( iParam1 )))
    {
        return 0;
    }
    l_U539._fU384 = 0;
    iParam1->_fU16 = 0;
    iParam1->_fU20 = uParam5;
    if (bParam3)
    {
        if (iParam1->_fU12)
        {
            iVar12 = iParam1->_fU8;
            iParam1->_fU12 = 0;
        }
    }
    else
    {
        iParam1->_fU12 = 0;
        if (bParam4)
        {
            iVar12 = uParam6;
            iParam1->_fU8 = uParam6;
            iParam1->_fU12 = 0;
        }
        else
        {
            iParam1->_fU8 = 0;
            iParam1->_fU12 = 0;
        }
    }
    iParam1->_fU16 = bParam4;
    for ( I = 0; I <= (g_U8972 - 1); I++ )
    {
        StrCopy( ref g_U8972[I], "END", 16 );
    }
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        g_U8972[I] = {(uParam0^)[I]};
    }
    g_U8966 = {(iParam1^)};
    sub_23483( ref g_U8868, ref l_U539 );
    StrCopy( ref g_U8868._fU0, uParam7, 16 );
    g_U8868._fU388 = uParam8;
    g_U8867 = 1;
    return 1;
}

int sub_22791(int iParam0)
{
    if (IS_MOBILE_PHONE_CALL_ONGOING())
    {
        sub_22868( "\n !!!!! CANT PLAY SPEECH MOBILE PHONE CALL IS PLAYING" );
        return 0;
    }
    if (IS_THREAD_ACTIVE( g_U561[1] ))
    {
        switch (g_U95._fU0)
        {
            case 1010:
            case 1001:
            case 1000: break;
            default:
            sub_22868( "\n !!!!! CANT PLAY SPEECH CALLING SCRIPT IS STILL ACTIVE" );
            return 0;
            break;
        }
    }
    switch (g_U8867)
    {
        case 4:
        case 1:
        case 2:
        return 0;
        break;
    }
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if (g_U8865 > iParam0->_fU0)
        {
            sub_22868( "\n !!!!! CANT PLAY SPEECH CURRENT SPEECH HAS HIGHER PRIORITY" );
            return 0;
        }
        ABORT_SCRIPTED_CONVERSATION( 0 );
    }
    g_U8865 = iParam0->_fU0;
    g_U8866++;
    if (g_U8866 > 100000)
    {
        g_U8866 = 1;
    }
    iParam0->_fU4 = g_U8866;
    return 1;
}

void sub_22868(unknown uParam0)
{
    return;
}

void sub_23483(int iParam0, int iParam1)
{
    int I;

    iParam0->_fU0 = {iParam1->_fU0};
    for ( I = 0; I <= 8; I++ )
    {
        iParam0->_fU16[I] = {iParam1->_fU16[I]};
        iParam0->_fU344[I] = iParam1->_fU344[I];
    }
    iParam0->_fU384 = iParam1->_fU384;
    iParam0->_fU388 = iParam1->_fU388;
    return;
}

void sub_23677(int iParam0, unknown uParam1)
{
    PRINTSTRING( "\n KILL SPEECH CALLED***************************************" );
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if (iParam0->_fU4 == g_U8866)
        {
            ABORT_SCRIPTED_CONVERSATION( uParam1 );
        }
    }
    return;
}

void sub_23830(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    return sub_23853( uParam0, ref l_U539._fU0, uParam1, uParam2, uParam3 );
}

void sub_23853(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    char[16] cVar7;
    char[12] cVar11;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    StrCopy( ref cVar7, uParam1, 16 );
    array(ref cVar11, 2);
    StrCopy( ref cVar11[0], uParam0, 16 );
    StrCopy( ref cVar11[1], "END", 16 );
    return sub_22769( ref cVar11, uParam2, uParam3, 0, 0, 0, 0, ref cVar7, uParam4 );
}

void sub_24424()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    int iVar12;
    int iVar13;
    float fVar14;
    float fVar15;

    if (l_U1137[3])
    {
        l_U1180 = 0;
    }
    GET_CHAR_COORDINATES( sub_2502(), ref uVar3._fU0, ref uVar3._fU4, ref uVar3._fU8 );
    if (IS_VEH_DRIVEABLE( l_U1068 ))
    {
        GET_CAR_COORDINATES( l_U1068, ref uVar9._fU0, ref uVar9._fU4, ref uVar9._fU8 );
    }
    if (l_U1010 == 0)
    {
        uVar6 = {l_U883};
    }
    else if (l_U1010 == 1)
    {
        uVar6 = {l_U886};
    }
    else if (l_U1010 == 2)
    {
        uVar6 = {l_U889};
    };;;
    sub_24590( uVar6 );
    if ((l_U1137[3]) AND ((IS_VEH_DRIVEABLE( l_U1068 )) AND (NOT (IS_CHAR_INJURED( l_U1064 )))))
    {
        if ((NOT (IS_WANTED_LEVEL_GREATER( sub_5022(), 0 ))) AND ((IS_CHAR_IN_CAR( l_U1064, l_U1068 )) AND (IS_CHAR_IN_CAR( sub_2502(), l_U1068 ))))
        {
            l_U1180 = 1;
            if (NOT l_U991)
            {
                l_U1086 = CREATE_CHECKPOINT( 8, uVar6, 0.00000000, 0.00000000, 0.00000000, 1.00000000 );
                l_U991 = 1;
            }
            if (TIMERB() > 10000)
            {
                if ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (NOT l_U995))
                {
                    GET_FOLLOW_VEHICLE_CAM_SUBMODE( ref iVar12 );
                    if (iVar12 != 4)
                    {
                        if ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND (NOT IS_MESSAGE_BEING_DISPLAYED()))
                        {
                            PRINT_HELP( "T4_HINT" );
                            l_U995 = 1;
                        }
                    }
                    else if (IS_THIS_HELP_MESSAGE_BEING_DISPLAYED( "B2_HINT" ))
                    {
                        CLEAR_HELP();
                    }
                }
                BLOCK_CHAR_AMBIENT_ANIMS( sub_2502(), 1 );
                BLOCK_CHAR_AMBIENT_ANIMS( l_U1064, 1 );
                BLOCK_CHAR_AMBIENT_ANIMS( l_U1065, 1 );
                if ((l_U990) AND ((NOT sub_22443()) AND ((NOT (IS_AMBIENT_SPEECH_PLAYING( l_U1065 ))) AND ((NOT (IS_AMBIENT_SPEECH_PLAYING( l_U1064 ))) AND ((NOT (IS_AMBIENT_SPEECH_PLAYING( sub_2502() ))) AND ((NOT (sub_22641( l_U1182 ))) AND (NOT IS_MESSAGE_BEING_DISPLAYED())))))))
                {
                    if (NOT l_U996)
                    {
                        if (g_U43133)
                        {
                            if (g_U42938 < 100)
                            {
                                g_U42938 = 100;
                            }
                        }
                        g_U42938++;
                        if (((g_U42938 > 102) AND (g_U43133)) || ((g_U42938 > 2) AND (NOT g_U43133)))
                        {
                            SAY_AMBIENT_SPEECH( l_U1064, "LISTEN_TO_RADIO", 1, 0, 0 );
                        }
                        l_U996 = 1;
                    }
                    if ((g_U42938 == 101) || (g_U42938 == 1))
                    {
                        iVar13 = 0;
                    }
                    else if ((g_U42938 == 102) || (g_U42938 == 2))
                    {
                        iVar13 = 1;
                    }
                    else
                    {
                        iVar13 = 2;
                    }
                    switch (l_U1028)
                    {
                        case 0:
                        if (iVar13 == 0)
                        {
                            sub_22541( "E2T4B_MEET", 4, 6, "E2T4BAU", 0, 0 );
                        }
                        else if (iVar13 == 1)
                        {
                            sub_22541( "E2T4B_BANTC", 7, 6, "E2T4BAU", 0, 0 );
                        }
                        l_U1028++;
                        break;
                        case 1:
                        if (iVar13 == 0)
                        {
                            sub_22541( "E2T4B_BANTA", 5, 6, "E2T4BAU", 0, 0 );
                        }
                        else if (iVar13 == 1)
                        {
                            sub_22541( "E2T4B_BANTD", 8, 6, "E2T4BAU", 0, 0 );
                        }
                        l_U1028++;
                        break;
                        case 2:
                        if (iVar13 == 0)
                        {
                            sub_22541( "E2T4B_BANTB", 6, 6, "E2T4BAU", 0, 0 );
                        }
                        else if (iVar13 == 1)
                        {
                            sub_22541( "E2T4B_BANTE", 9, 6, "E2T4BAU", 0, 0 );
                        }
                        l_U1028++;
                        break;
                    }
                }
            }
        }
        else if (l_U991)
        {
            DELETE_CHECKPOINT( l_U1086 );
            l_U991 = 0;
        }
        switch (l_U1010)
        {
            case 0:
            if (sub_26313( uVar6._fU0, uVar6._fU4, uVar6._fU8, 30.00000000, 30.00000000, 30.00000000, 0, l_U1064, 0, 0, l_U1068, "T4_FLY_HELI", "T4_T_LEAVE", "", "", "", "", 0, 1, "T4_LOSECOPS", "T4_BACKHELI" ))
            {
                sub_5061();
                l_U991 = 0;
                l_U1010++;
            }
            break;
            case 1:
            if (sub_26313( uVar6._fU0, uVar6._fU4, uVar6._fU8, 30.00000000, 30.00000000, 30.00000000, 0, l_U1064, 0, 0, l_U1068, l_U1063, l_U1062, "", "", "", "", 0, 1, "T4_LOSECOPS", l_U1061 ))
            {
                sub_5061();
                l_U991 = 0;
                l_U1010++;
            }
            break;
            case 2:
            if (sub_26313( uVar6._fU0, uVar6._fU4, uVar6._fU8, 30.00000000, 30.00000000, 30.00000000, 0, l_U1064, 0, 0, l_U1068, l_U1063, l_U1062, "", "", "", "", 0, 1, "T4_LOSECOPS", l_U1061 ))
            {
                sub_5061();
                sub_22626( 1 );
                l_U991 = 0;
                if (IS_PED_IN_GROUP( l_U1064 ))
                {
                    REMOVE_CHAR_FROM_GROUP( l_U1064 );
                }
                SET_PLAYER_CONTROL( sub_5022(), 0 );
                l_U1192 = 2;
                g_U43104[4] = 1;
            }
            break;
        }
        if (NOT l_U990)
        {
            l_U1063 = "";
            l_U990 = 1;
        }
        fVar14 = sub_41529( sub_2502(), l_U1064, 1, 0 );
        fVar15 = sub_22309( uVar3, uVar9, 1, 0 );
        if (IS_VEH_DRIVEABLE( l_U1068 ))
        {
            if (NOT (IS_CHAR_IN_CAR( sub_2502(), l_U1068 )))
            {
                l_U1061 = "";
                if (fVar15 > 40000.00000000)
                {
                    if (NOT l_U981)
                    {
                        sub_5061();
                        sub_34716();
                        CLEAR_HELP();
                        CLEAR_PRINTS();
                        PRINT_NOW( "T4_T_LEFT", 7500, 0 );
                        if (DOES_CHAR_EXIST( l_U1065 ))
                        {
                            DELETE_CHAR( ref l_U1065 );
                        }
                        if (DOES_VEHICLE_EXIST( l_U1068 ))
                        {
                            DELETE_CAR( ref l_U1068 );
                        }
                        l_U981 = 1;
                        l_U1192 = 9;
                        l_U1199 = 2;
                    }
                }
            }
            else if (fVar14 > 40000.00000000)
            {
                if (NOT l_U981)
                {
                    sub_5061();
                    sub_34716();
                    CLEAR_HELP();
                    CLEAR_PRINTS();
                    PRINT_NOW( "T4_T_LEFT", 7500, 0 );
                    l_U981 = 1;
                    l_U1192 = 9;
                    l_U1199 = 2;
                }
            }
            if (fVar14 > 2500.00000000)
            {
                l_U1062 = "";
            }
        }
    }
    return;
}

void sub_24590(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int iVar5;
    int iVar6;
    boolean bVar7;

    GET_FOLLOW_VEHICLE_CAM_SUBMODE( ref iVar5 );
    if ((IS_HINT_RUNNING()) AND (l_U985))
    {
        iVar6 = 0;
        GET_GAME_TIMER( ref iVar6 );
        if (iVar6 > (l_U1020 + 500))
        {
            l_U985 = 0;
        }
    }
    if (IS_VEH_DRIVEABLE( l_U1068 ))
    {
        if ((l_U1192 == 1) AND (((l_U910._fU8 == uParam0._fU8) AND ((l_U910._fU4 == uParam0._fU4) AND (l_U910._fU0 == uParam0._fU0))) AND ((iVar5 != 4) AND ((NOT sub_24705()) AND ((IS_CHAR_IN_CAR( sub_2502(), l_U1068 )) AND (IS_CONTROL_PRESSED( 0, 51 )))))))
        {
            if (NOT IS_HINT_RUNNING())
            {
                SET_CINEMATIC_BUTTON_ENABLED( 0 );
                HINT_CAM( uParam0._fU0, uParam0._fU4, uParam0._fU8, 0, 0, 0, 999999 );
                SET_HINT_TIMES( 500, 0, 0 );
                GET_GAME_TIMER( ref l_U1020 );
                l_U985 = 1;
                l_U986 = 0;
            }
        }
        else
        {
            bVar7 = true;
        }
    }
    else
    {
        bVar7 = true;
    }
    if (bVar7)
    {
        if (IS_HINT_RUNNING())
        {
            if ((NOT l_U986) AND (NOT l_U985))
            {
                HINT_CAM( 0.00000000, 0.00000000, 0.00000000, 0, 0, 0, 0 );
                if ((l_U910._fU8 != uParam0._fU8) || ((l_U910._fU4 != uParam0._fU4) || (l_U910._fU0 != uParam0._fU0)))
                {
                    HINT_CAM( l_U910._fU0, l_U910._fU4, l_U910._fU8, 0, 0, 0, 500 );
                }
                else
                {
                    HINT_CAM( uParam0._fU0, uParam0._fU4, uParam0._fU8, 0, 0, 0, 500 );
                }
                SET_HINT_TIMES( 0, 0, 500 );
                l_U986 = 1;
            }
        }
        else if (l_U986)
        {
            SET_CINEMATIC_BUTTON_ENABLED( 1 );
            SET_HINT_TIMES_DEFAULT();
            SET_HINT_FOV( -1 );
            l_U986 = 0;
        }
    }
    l_U910 = {uParam0};
    return;
}

int sub_24705()
{
    if (g_U560 == 9)
    {
        return 0;
    }
    return 1;
}

int sub_26313(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20)
{
    int iVar23;
    int I;
    unknown uVar25;

    l_U852[0] = uParam7;
    l_U852[1] = uParam8;
    l_U852[2] = uParam9;
    l_U851 = uParam7;
    sub_26361();
    sub_26650();
    sub_27530();
    if (IS_VEH_DRIVEABLE( uParam10 ))
    {
        if (sub_27728( l_U852[0], l_U852[1], l_U852[2], uParam12, uParam13, uParam14, uParam15, l_U846, uParam17, uParam10, 0, 0 ))
        {
            if (IS_SCREEN_FADED_IN())
            {
                if (IS_CHAR_IN_CAR( sub_2502(), uParam10 ))
                {
                    l_U816 = 1;
                    l_U827 = 1;
                    sub_28276( uParam16 );
                    sub_28276( uParam20 );
                    if ((IS_WANTED_LEVEL_GREATER( sub_5022(), 0 )) AND (uParam18))
                    {
                        if ((DOES_BLIP_EXIST( l_U838 )) || (DOES_BLIP_EXIST( l_U843 )))
                        {
                            REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U843 );
                            REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U838 );
                            PRINTSTRING( "IS_PLAYER_AT_LOCATION_WITH_BUDDIES_IN_CAR - remove blip 1" );
                            PRINTNL();
                            sub_28276( uParam11 );
                        }
                        if ((NOT l_U812) AND ((NOT sub_33836()) AND (NOT (sub_32430( 0 )))))
                        {
                            sub_28156( uParam19, 0 );
                            l_U856 = uParam19;
                            l_U812 = 1;
                            l_U813 = 0;
                            if (NOT (IS_CHAR_INJURED( l_U852[0] )))
                            {
                                SAY_AMBIENT_SPEECH( l_U852[0], "CAR_POLICE_PURSUIT", 1, 1, 0 );
                            }
                        }
                    }
                    else if (l_U812)
                    {
                        sub_28276( uParam19 );
                        l_U812 = 0;
                        l_U813 = 1;
                    }
                    if (l_U813)
                    {
                        if (NOT (sub_32430( 0 )))
                        {
                            if (NOT (IS_CHAR_INJURED( l_U852[0] )))
                            {
                                SAY_AMBIENT_SPEECH( l_U852[0], "LOSE_WANTED_LEVEL", 1, 1, 0 );
                            }
                            l_U813 = 0;
                        }
                    }
                    if (LOCATE_CHAR_IN_CAR_3D( sub_2502(), uParam0, uParam1, uParam2, uParam3, uParam4, uParam5, uParam6 ))
                    {
                        iVar23 = 1;
                        for ( I = 0; I < 3; I++ )
                        {
                            if (DOES_CHAR_EXIST( l_U852[I] ))
                            {
                                if (NOT (IS_CHAR_IN_CAR( l_U852[I], uParam10 )))
                                {
                                    iVar23 = 0;
                                }
                            }
                        }
                        if ((sub_34235()) AND (iVar23))
                        {
                            sub_28276( uParam11 );
                            sub_28276( uParam12 );
                            sub_28276( uParam13 );
                            sub_28276( uParam14 );
                            sub_28276( uParam15 );
                            sub_28276( uParam19 );
                            sub_34716();
                            for ( I = 0; I < 3; I++ )
                            {
                                if (NOT (IS_CHAR_INJURED( l_U852[I] )))
                                {
                                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U852[I], 0 );
                                }
                            }
                            return 1;
                        }
                    }
                    else
                    {
                        iVar23 = 1;
                        for ( I = 0; I < 3; I++ )
                        {
                            if (DOES_CHAR_EXIST( l_U852[I] ))
                            {
                                if (NOT (IS_CHAR_INJURED( l_U852[I] )))
                                {
                                    if (NOT (IS_CHAR_SITTING_IN_CAR( l_U852[I], uParam10 )))
                                    {
                                        iVar23 = 0;
                                    }
                                }
                            }
                        }
                        if (NOT (DOES_BLIP_EXIST( l_U843 )))
                        {
                            if (DOES_BLIP_EXIST( l_U838 ))
                            {
                                REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U838 );
                            }
                            PRINTSTRING( "IS_PLAYER_AT_LOCATION_WITH_BUDDIES_IN_CAR - remove blip 2" );
                            PRINTNL();
                            ADD_BLIP_FOR_COORD( uParam0, uParam1, uParam2 - 1.00000000, ref l_U843 );
                            PRINTSTRING( "IS_PLAYER_AT_LOCATION_WITH_BUDDIES_IN_CAR - add blip 1" );
                            PRINTNL();
                            sub_30263( l_U843 );
                            if (l_U831)
                            {
                                SHOW_BLIP_ON_ALTIMETER( l_U843, 1 );
                            }
                        }
                        if (NOT (sub_32430( 0 )))
                        {
                            if (NOT l_U814)
                            {
                                sub_28156( uParam11, 0 );
                                l_U814 = 1;
                            }
                        }
                    }
                }
                else if ((NOT l_U827) AND ((IS_WANTED_LEVEL_GREATER( sub_5022(), 0 )) AND (uParam18)))
                {
                    sub_28276( uParam16 );
                    sub_28276( uParam20 );
                    if ((DOES_BLIP_EXIST( l_U838 )) || (DOES_BLIP_EXIST( l_U843 )))
                    {
                        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U843 );
                        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U838 );
                        PRINTSTRING( "IS_PLAYER_AT_LOCATION_WITH_BUDDIES_IN_CAR - remove blip 3" );
                        PRINTNL();
                        sub_28276( uParam11 );
                    }
                    if ((NOT l_U812) AND ((NOT sub_33836()) AND (NOT (sub_32430( 0 )))))
                    {
                        sub_28156( uParam19, 0 );
                        l_U856 = uParam19;
                        l_U812 = 1;
                        l_U813 = 0;
                        if (NOT (IS_CHAR_INJURED( l_U852[0] )))
                        {
                            SAY_AMBIENT_SPEECH( l_U852[0], "CAR_POLICE_PURSUIT", 1, 1, 0 );
                        }
                    }
                }
                else if (l_U812)
                {
                    sub_28276( uParam19 );
                    l_U812 = 0;
                    l_U813 = 1;
                }
                if (l_U813)
                {
                    if (NOT (sub_32430( 0 )))
                    {
                        if (NOT (IS_CHAR_INJURED( l_U852[0] )))
                        {
                            SAY_AMBIENT_SPEECH( l_U852[0], "LOSE_WANTED_LEVEL", 1, 1, 0 );
                        }
                        l_U813 = 0;
                    }
                }
                if (NOT (DOES_BLIP_EXIST( l_U838 )))
                {
                    if (DOES_BLIP_EXIST( l_U843 ))
                    {
                        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U843 );
                        sub_28276( uParam11 );
                    }
                    ADD_BLIP_FOR_CAR( uParam10, ref l_U838 );
                    CHANGE_BLIP_DISPLAY( l_U838, 2 );
                    PRINTSTRING( "IS_PLAYER_AT_LOCATION_WITH_BUDDIES_IN_CAR - add blip 2" );
                    PRINTNL();
                    SET_BLIP_AS_FRIENDLY( l_U838, 1 );
                    if (NOT l_U817)
                    {
                        sub_30263( l_U838 );
                    }
                }
                if (NOT (sub_32430( 0 )))
                {
                    if (NOT l_U816)
                    {
                        sub_28156( uParam16, 0 );
                        l_U816 = 1;
                    }
                    else if (l_U827)
                    {
                        if (NOT (IS_STRING_NULL( uParam20 )))
                        {
                            if (NOT l_U817)
                            {
                                sub_28156( uParam20, 0 );
                                l_U817 = 1;
                            }
                        }
                        else if (NOT l_U817)
                        {
                            sub_28156( uParam16, 0 );
                            l_U817 = 1;
                        }
                    }
                };;;
            }
        }
        else if (l_U812)
        {
            l_U812 = 0;
        }
        if (DOES_BLIP_EXIST( l_U843 ))
        {
            REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U843 );
            sub_28276( uParam11 );
        }
        if (DOES_BLIP_EXIST( l_U838 ))
        {
            REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U838 );
            PRINTSTRING( "IS_PLAYER_AT_LOCATION_WITH_BUDDIES_IN_CAR - remove blip 3" );
            PRINTNL();
            sub_28276( uParam16 );
        }
    }
    else
    {
        SCRIPT_ASSERT( "IS_PLAYER_AT_LOCATION_WITH_BUDDIES_IN_CAR - check vehicle is alive before calling this." );
        return 0;
    }
    sub_36642( uParam0, uParam1, uParam2, 0, uParam10 );
    sub_40799( uParam0, uParam1, uParam2 );
    l_U829 = 0;
    l_U830 = 0;
    l_U831 = 0;
    return 0;
}

void sub_26361()
{
    int I;

    for ( I = 0; I < l_U852; I++ )
    {
        if (DOES_CHAR_EXIST( l_U852[I] ))
        {
            if (NOT (IS_CHAR_INJURED( l_U852[I] )))
            {
                if ((sub_22443()) AND ((sub_26454( l_U852[I] )) AND (IS_CHAR_SITTING_IN_ANY_CAR( l_U852[I] ))))
                {
                    BLOCK_CHAR_AMBIENT_ANIMS( l_U852[I], 1 );
                }
            }
        }
    }
    if (IS_PLAYER_PLAYING( sub_5022() ))
    {
        if (NOT (IS_CHAR_INJURED( sub_2502() )))
        {
            if ((sub_22443()) AND ((sub_26454( sub_2502() )) AND (IS_CHAR_SITTING_IN_ANY_CAR( sub_2502() ))))
            {
                BLOCK_CHAR_AMBIENT_ANIMS( sub_2502(), 1 );
            }
        }
    }
    return;
}

int sub_26454(int iParam0)
{
    int I;

    for ( I = 0; I < 9; I++ )
    {
        if (l_U539._fU16[I]._fU0 == iParam0)
        {
            return 1;
        }
    }
    return 0;
}

void sub_26650()
{
    if (NOT l_U825)
    {
        l_U860 = CREATE_WIDGET_GROUP( "Locates Header" );
        ADD_WIDGET_TOGGLE( "bPrintedLoseWantedLevel", ref l_U812 );
        ADD_WIDGET_TOGGLE( "bPlayLostCopsSpeech", ref l_U813 );
        ADD_WIDGET_TOGGLE( "bInitialGodTextPrinted", ref l_U814 );
        ADD_WIDGET_TOGGLE( "bPrintedGetACar", ref l_U815 );
        ADD_WIDGET_TOGGLE( "bPrintedGetBackInCar", ref l_U817 );
        ADD_WIDGET_TOGGLE( "bPrintedGetInCar", ref l_U816 );
        ADD_WIDGET_TOGGLE( "bPrintedPickupAllBuddysText", ref l_U818 );
        ADD_WIDGET_TOGGLE( "bPrintedPickupBuddyText[0]", ref l_U819[0] );
        ADD_WIDGET_TOGGLE( "bPrintedPickupBuddyText[1]", ref l_U819[1] );
        ADD_WIDGET_TOGGLE( "bPrintedPickupBuddyText[2]", ref l_U819[2] );
        ADD_WIDGET_TOGGLE( "bUseSpecificJSkipCoords", ref l_U823 );
        ADD_WIDGET_TOGGLE( "bDontDoSafeForCutsceneCheck", ref l_U824 );
        ADD_WIDGET_FLOAT_SLIDER( "fClearCarDistance", ref l_U845, 0.00000000, 100.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "fBuddyJoinDistance", ref l_U846, 0.00000000, 100.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "fSkipHeading", ref l_U847, 0.00000000, 360.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "vSkipCoords.x", ref l_U857._fU0, -9999.00000000, 9999.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "vSkipCoords.y", ref l_U857._fU4, -9999.00000000, 9999.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "vSkipCoords.z", ref l_U857._fU8, -9999.00000000, 9999.00000000, 0.10000000 );
        ADD_WIDGET_TOGGLE( "bToldPlayerToFindCarWithMoreSeats", ref l_U826 );
        ADD_WIDGET_TOGGLE( "bHasBeenInCar", ref l_U827 );
        END_WIDGET_GROUP();
        l_U825 = 1;
    }
    return;
}

void sub_27530()
{
    int I;

    if (IS_PLAYER_PLAYING( sub_5022() ))
    {
        SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( sub_2502(), 0 );
    }
    for ( I = 0; I < l_U852; I++ )
    {
        if (DOES_CHAR_EXIST( l_U852[I] ))
        {
            if (NOT (IS_CHAR_INJURED( l_U852[I] )))
            {
                SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( l_U852[I], 0 );
            }
        }
    }
    return;
}

int sub_27728(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, boolean bParam8, int iParam9, unknown uParam10, unknown uParam11)
{
    int I;
    int iVar15;
    int iVar16;
    int iVar17;
    int iVar18;
    int iVar19;
    int[3] iVar20;
    boolean bVar24;
    boolean bVar25;
    int iVar26;
    int iVar27;
    unknown[3] uVar28;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;

    array(ref iVar20, 3);
    l_U852[0] = uParam0;
    l_U852[1] = uParam1;
    l_U852[2] = uParam2;
    l_U851 = uParam0;
    array(ref uVar28, 3);
    uVar28[0] = uParam3;
    uVar28[1] = uParam4;
    uVar28[2] = uParam5;
    iVar18 = 1;
    iVar15 = 0;
    iVar16 = 0;
    iVar20[0] = 0;
    iVar20[1] = 0;
    iVar20[2] = 0;
    for ( I = 0; I < 3; I++ )
    {
        if (NOT (IS_CHAR_INJURED( l_U852[I] )))
        {
            iVar16++;
        }
    }
    if ((NOT (DOES_VEHICLE_EXIST( iParam9 ))) AND ((IS_CHAR_SITTING_IN_ANY_CAR( sub_2502() )) AND (NOT sub_27899())))
    {
        STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_2502(), ref iVar26 );
        if (IS_VEH_DRIVEABLE( iVar26 ))
        {
            if (NOT l_U832)
            {
                sub_28156( "MORE_SEATS", 0 );
                l_U832 = 1;
            }
            bVar25 = true;
        }
    }
    else
    {
        bVar25 = false;
        l_U832 = 0;
        sub_28276( "MORE_SEATS" );
    }
    for ( I = 0; I < 3; I++ )
    {
        if (DOES_CHAR_EXIST( l_U852[I] ))
        {
            if (NOT (IS_CHAR_INJURED( l_U852[I] )))
            {
                if (NOT (IS_GROUP_MEMBER( l_U852[I], sub_28386() )))
                {
                    SET_CHAR_DROWNS_IN_WATER( l_U852[I], 1 );
                }
                else
                {
                    SET_CHAR_DROWNS_IN_WATER( l_U852[I], 0 );
                }
                if (IS_CHAR_SITTING_IN_ANY_CAR( sub_2502() ))
                {
                    STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_2502(), ref iVar26 );
                    if (IS_VEH_DRIVEABLE( iVar26 ))
                    {
                        if (IS_GROUP_MEMBER( l_U852[I], sub_28386() ))
                        {
                            if ((IS_CHAR_SITTING_IN_ANY_CAR( sub_2502() )) AND (NOT sub_27899()))
                            {
                                if (NOT (sub_28588( l_U852[I] )))
                                {
                                    REMOVE_CHAR_FROM_GROUP( l_U852[I] );
                                    PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - REMOVE_CHAR_FROM_GROUP - 1" );
                                    PRINTNL();
                                }
                            }
                        }
                    }
                }
                bVar24 = true;
                if (NOT (IS_GROUP_MEMBER( l_U852[I], sub_28386() )))
                {
                    if (IS_CHAR_SITTING_IN_ANY_CAR( l_U852[I] ))
                    {
                        STORE_CAR_CHAR_IS_IN_NO_SAVE( l_U852[I], ref iVar26 );
                        if (IS_VEH_DRIVEABLE( iParam9 ))
                        {
                            if (NOT (iVar26 == iParam9))
                            {
                                if (NOT (IS_CAR_DEAD( iVar26 )))
                                {
                                    if (NOT (IS_CHAR_SITTING_IN_CAR( sub_2502(), iVar26 )))
                                    {
                                        TASK_LEAVE_CAR_IMMEDIATELY( l_U852[I], iVar26 );
                                        PRINTSTRING( "locates_heder - HAVE_BUDDIES_JOINED_PLAYERS_GROUP - Buddy told to leave car" );
                                        PRINTNL();
                                        bVar24 = false;
                                    }
                                }
                            }
                        }
                    }
                }
                if (IS_GROUP_MEMBER( l_U852[I], sub_28386() ))
                {
                    if (sub_29149())
                    {
                        if (l_U834[I])
                        {
                            SET_SPECIFIC_PASSENGER_INDEX_TO_USE_IN_GROUPS( l_U852[I], -1 );
                            l_U834[I] = 0;
                        }
                    }
                    else if (NOT l_U834[I])
                    {
                        SET_SPECIFIC_PASSENGER_INDEX_TO_USE_IN_GROUPS( l_U852[I], 2 );
                        l_U834[I] = 1;
                    }
                }
                if ((NOT (sub_29427( l_U852[I], iParam9 ))) AND ((NOT (sub_29331( l_U852[I], iParam9 ))) AND (NOT (IS_GROUP_MEMBER( l_U852[I], sub_28386() )))))
                {
                    if (sub_29540( l_U852[I], uParam7, uParam10 ))
                    {
                        if (NOT (IS_GROUP_MEMBER( l_U852[I], sub_28386() )))
                        {
                            GET_SCRIPT_TASK_STATUS( l_U852[I], 11, ref iVar27 );
                            if (iVar27 == 7)
                            {
                                CLEAR_CHAR_TASKS( l_U852[I] );
                                PRINTSTRING( "locates_heder - HAVE_BUDDIES_JOINED_PLAYERS_GROUP - CLEAR_CHAR_TASKS - 1" );
                                PRINTNL();
                            }
                            SET_GROUP_MEMBER( sub_28386(), l_U852[I] );
                            PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - SET_GROUP_MEMBER - 1" );
                            PRINTNL();
                            bVar24 = false;
                        }
                    }
                    if (bVar24)
                    {
                        if (NOT (DOES_BLIP_EXIST( l_U839[I] )))
                        {
                            GET_GAME_TIMER( ref l_U849 );
                            ADD_BLIP_FOR_CHAR( l_U852[I], ref l_U839[I] );
                            CHANGE_BLIP_DISPLAY( l_U839[I], 2 );
                            PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - add blip for char - 1" );
                            PRINTNL();
                            SET_BLIP_AS_FRIENDLY( l_U839[I], 1 );
                            if (bParam8)
                            {
                                sub_30263( l_U839[I] );
                            }
                        }
                    }
                    iVar18 = 0;
                }
                else if (DOES_BLIP_EXIST( l_U839[I] ))
                {
                    if ((uParam11) || ((sub_29331( l_U852[I], iParam9 )) || (sub_30382( l_U852[I] ))))
                    {
                        if (DOES_BLIP_EXIST( l_U839[I] ))
                        {
                            REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U839[I] );
                            PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - remove blip for char - 1" );
                            PRINTNL();
                            sub_28276( uVar28[I] );
                            iVar19 = 1;
                        }
                    }
                    else if (bParam8)
                    {
                        sub_30263( l_U839[I] );
                    }
                    iVar18 = 0;;
                }
                else if (IS_VEH_DRIVEABLE( iParam9 ))
                {
                    if (NOT (IS_CHAR_SITTING_IN_CAR( l_U852[I], iParam9 )))
                    {
                        if ((NOT l_U829) AND (LOCATE_CHAR_ANY_MEANS_CAR_3D( l_U852[I], iParam9, 20.00000000, 20.00000000, 5.00000000, 0 )))
                        {
                            if (IS_CHAR_SITTING_IN_ANY_CAR( l_U852[I] ))
                            {
                                if (NOT (IS_CHAR_IN_CAR( l_U852[I], iParam9 )))
                                {
                                    if (NOT (sub_30382( l_U852[I] )))
                                    {
                                        if (sub_30990( l_U852[I] ))
                                        {
                                            GET_SCRIPT_TASK_STATUS( l_U852[I], 31, ref iVar27 );
                                            if (iVar27 == 7)
                                            {
                                                TASK_LEAVE_ANY_CAR( l_U852[I] );
                                            }
                                        }
                                    }
                                }
                            }
                            else if (NOT (IS_CHAR_SITTING_IN_CAR( sub_2502(), iParam9 )))
                            {
                                SET_FORCE_PLAYER_TO_ENTER_THROUGH_DIRECT_DOOR( sub_2502(), 1 );
                            }
                            if (IS_GROUP_MEMBER( l_U852[I], sub_28386() ))
                            {
                                REMOVE_CHAR_FROM_GROUP( l_U852[I] );
                                PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - REMOVE_CHAR_FROM_GROUP - 2" );
                                PRINTNL();
                            }
                            GET_SCRIPT_TASK_STATUS( l_U852[I], 11, ref iVar27 );
                            if (iVar27 == 7)
                            {
                                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U852[I], 1 );
                                if (l_U828)
                                {
                                    SET_NEXT_DESIRED_MOVE_STATE( 2 );
                                }
                                TASK_ENTER_CAR_AS_PASSENGER( l_U852[I], iParam9, -1, I );
                                SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U852[I], 0 );
                                PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - told to enter car as passenger" );
                                PRINTNL();
                            }
                            else if (IS_CHAR_IN_CAR( sub_2502(), iParam9 ))
                            {
                                ADD_BLIP_FOR_CHAR( l_U852[I], ref l_U839[I] );
                                CHANGE_BLIP_DISPLAY( l_U839[I], 2 );
                                PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - add blip for char - 2" );
                                PRINTNL();
                                SET_BLIP_AS_FRIENDLY( l_U839[I], 1 );
                                iVar18 = 0;
                            };;;
                        }
                        else if (NOT (IS_GROUP_MEMBER( l_U852[I], sub_28386() )))
                        {
                            if (sub_29540( l_U852[I], uParam7, uParam10 ))
                            {
                                GET_SCRIPT_TASK_STATUS( l_U852[I], 11, ref iVar27 );
                                if (iVar27 == 7)
                                {
                                    CLEAR_CHAR_TASKS( l_U852[I] );
                                    PRINTSTRING( "locates_heder - HAVE_BUDDIES_JOINED_PLAYERS_GROUP - CLEAR_CHAR_TASKS - 2" );
                                    PRINTNL();
                                }
                                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U852[I], 0 );
                                SET_GROUP_MEMBER( sub_28386(), l_U852[I] );
                                PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - SET_GROUP_MEMBER - 2" );
                                PRINTNL();
                            }
                        }
                    }
                    else if (IS_CHAR_SITTING_IN_CAR( sub_2502(), iParam9 ))
                    {
                        if (NOT (IS_GROUP_MEMBER( l_U852[I], sub_28386() )))
                        {
                            SET_GROUP_MEMBER( sub_28386(), l_U852[I] );
                            PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - SET_GROUP_MEMBER - 3" );
                            PRINTNL();
                        }
                    }
                    else if (IS_GROUP_MEMBER( l_U852[I], sub_28386() ))
                    {
                        REMOVE_CHAR_FROM_GROUP( l_U852[I] );
                        PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - REMOVE_CHAR_FROM_GROUP - 3" );
                        PRINTNL();
                    };;;
                };;;
            }
            else if (DOES_BLIP_EXIST( l_U839[I] ))
            {
                REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U839[I] );
                PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - remove blip for char - 2" );
                PRINTNL();
                sub_28276( uVar28[I] );
                iVar19 = 1;
            }
        }
    }
    for ( I = 0; I < 3; I++ )
    {
        if (DOES_BLIP_EXIST( l_U839[I] ))
        {
            iVar20[I] = 1;
            iVar15++;
        }
    }
    if (NOT (sub_32430( 0 )))
    {
        if (iVar15 > 0)
        {
            for ( I = 0; I < 3; I++ )
            {
                if (iVar20[I])
                {
                    if (NOT (IS_CHAR_INJURED( l_U852[I] )))
                    {
                        if ((LOCATE_CHAR_ANY_MEANS_CHAR_3D( l_U852[I], sub_2502(), 40.00000000, 40.00000000, 40.00000000, 0 )) || (sub_28588( l_U852[I] )))
                        {
                            iVar15--;
                            iVar20[I] = 0;
                        }
                    }
                }
            }
        }
        GET_GAME_TIMER( ref iVar17 );
        if ((iVar16 == 1) || ((iVar17 - l_U849) > 1500))
        {
            if (iVar15 > 0)
            {
                if (l_U850 < iVar15)
                {
                    PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - printing 'pickup' text" );
                    PRINTNL();
                    PRINTSTRING( "iPrintedMissingBuddiesNumber = " );
                    PRINTINT( l_U850 );
                    PRINTNL();
                    PRINTSTRING( "iBuddiesMissing = " );
                    PRINTINT( iVar15 );
                    PRINTNL();
                    PRINTSTRING( "iTotalBuddies = " );
                    PRINTINT( iVar16 );
                    PRINTNL();
                    if ((iVar16 > 1) AND (iVar15 == iVar16))
                    {
                        if ((NOT (l_U850 == iVar15)) AND (NOT l_U818))
                        {
                            sub_28156( uParam6, 0 );
                            l_U818 = 1;
                            l_U850 = iVar15;
                        }
                    }
                    else
                    {
                        for ( I = 0; I < 3; I++ )
                        {
                            if (iVar20[I])
                            {
                                if ((NOT (l_U850 == iVar15)) AND (NOT l_U819[I]))
                                {
                                    sub_28156( uVar28[I], 0 );
                                    l_U819[I] = 1;
                                    l_U850 = iVar15;
                                }
                            }
                        }
                    }
                }
            }
            else
            {
                l_U850 = 0;
            }
        }
    }
    l_U828 = 0;
    if ((NOT bVar25) AND (iVar18))
    {
        for ( I = 0; I < 3; I++ )
        {
            if (DOES_BLIP_EXIST( l_U839[I] ))
            {
                REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U839[I] );
                PRINTSTRING( "HAVE_BUDDIES_JOINED_PLAYERS_GROUP - remove blip for char - 3" );
                PRINTNL();
                sub_28276( uVar28[I] );
            }
        }
        sub_28276( "MORE_SEATS" );
        return 1;
    }
    if (IS_KEYBOARD_KEY_JUST_PRESSED( 36 ))
    {
        for ( I = 0; I < 3; I++ )
        {
            if (NOT (IS_CHAR_INJURED( sub_2502() )))
            {
                GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( sub_2502(), 0.00000000, 1.00000000 + (TO_FLOAT( I )), 0.00000000, ref uVar32._fU0, ref uVar32._fU4, ref uVar32._fU8 );
                if (NOT (IS_CHAR_INJURED( l_U852[I] )))
                {
                    SET_CHAR_COORDINATES( l_U852[I], uVar32._fU0, uVar32._fU4, uVar32._fU8 );
                }
            }
        }
    }
    return 0;
}

int sub_27899()
{
    unknown uVar2;

    if (IS_CHAR_SITTING_IN_ANY_CAR( sub_2502() ))
    {
        STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_2502(), ref uVar2 );
        if (sub_27940( uVar2 ))
        {
            return 1;
        }
    }
    return 0;
}

int sub_27940(unknown uParam0)
{
    int iVar3;
    int iVar4;
    int I;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        iVar3 = 0;
        for ( I = 0; I < l_U852; I++ )
        {
            if (DOES_CHAR_EXIST( l_U852[I] ))
            {
                iVar3++;
            }
        }
        GET_MAXIMUM_NUMBER_OF_PASSENGERS( uParam0, ref iVar4 );
        if (iVar4 >= iVar3)
        {
            return 1;
        }
    }
    return 0;
}

void sub_28156(unknown uParam0, boolean bParam1)
{
    if (NOT bParam1)
    {
        if (NOT (IS_STRING_NULL( uParam0 )))
        {
            if (NOT (COMPARE_STRING( uParam0, "" )))
            {
                PRINT_NOW( uParam0, 7500, 1 );
            }
        }
    }
    GET_GAME_TIMER( ref l_U848 );
    return;
}

void sub_28276(unknown uParam0)
{
    if (NOT (IS_STRING_NULL( uParam0 )))
    {
        CLEAR_THIS_PRINT( uParam0 );
    }
    return;
}

void sub_28386()
{
    unknown Result;

    GET_PLAYER_GROUP( CONVERT_INT_TO_PLAYERINDEX( GET_PLAYER_ID() ), ref Result );
    return Result;
}

int sub_28588(unknown uParam0)
{
    int iVar3;
    int iVar4;

    if (IS_PLAYER_PLAYING( sub_5022() ))
    {
        GET_CAR_CHAR_IS_USING( sub_2502(), ref iVar3 );
        if (IS_VEH_DRIVEABLE( iVar3 ))
        {
            if (NOT (IS_CHAR_INJURED( uParam0 )))
            {
                GET_CAR_CHAR_IS_USING( uParam0, ref iVar4 );
                if (IS_VEH_DRIVEABLE( iVar4 ))
                {
                    if (iVar3 == iVar4)
                    {
                        if ((LOCATE_CHAR_ANY_MEANS_CAR_3D( uParam0, iVar4, 20.00000000, 20.00000000, 20.00000000, 0 )) AND (LOCATE_CHAR_ANY_MEANS_CHAR_3D( sub_2502(), uParam0, 20.00000000, 20.00000000, 20.00000000, 0 )))
                        {
                            return 1;
                        }
                    }
                }
            }
        }
    }
    return 0;
}

int sub_29149()
{
    unknown uVar2;

    GET_CAR_CHAR_IS_USING( sub_2502(), ref uVar2 );
    if (sub_27940( uVar2 ))
    {
        return 1;
    }
    return 0;
}

int sub_29331(unknown uParam0, unknown uParam1)
{
    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (DOES_VEHICLE_EXIST( uParam1 ))
        {
            if (IS_VEH_DRIVEABLE( uParam1 ))
            {
                if (IS_CHAR_SITTING_IN_CAR( uParam0, uParam1 ))
                {
                    return 1;
                }
            }
        }
    }
    return 0;
}

int sub_29427(unknown uParam0, int iParam1)
{
    int iVar4;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (NOT (IS_GROUP_MEMBER( uParam0, sub_28386() )))
        {
            GET_CAR_CHAR_IS_USING( uParam0, ref iVar4 );
            if (IS_VEH_DRIVEABLE( iParam1 ))
            {
                if (iVar4 == iParam1)
                {
                    return 1;
                }
            }
        }
    }
    return 0;
}

int sub_29540(unknown uParam0, unknown uParam1, boolean bParam2)
{
    unknown uVar5;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (IS_CHAR_SITTING_IN_ANY_CAR( uParam0 ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( uParam0, ref uVar5 );
            if (NOT (IS_CAR_DEAD( uVar5 )))
            {
                if (IS_VEH_DRIVEABLE( uVar5 ))
                {
                    if (IS_CHAR_SITTING_IN_CAR( sub_2502(), uVar5 ))
                    {
                        if (sub_27899())
                        {
                            return 1;
                        }
                    }
                }
                else if (LOCATE_CHAR_ANY_MEANS_CHAR_3D( sub_2502(), uParam0, uParam1, uParam1, 3.00000000, 0 ))
                {
                    return 1;
                }
            }
        }
        else if (LOCATE_CHAR_ANY_MEANS_CHAR_3D( sub_2502(), uParam0, uParam1, uParam1, 3.00000000, 0 ))
        {
            if (NOT bParam2)
            {
                if (sub_29149())
                {
                    return 1;
                }
                else
                {
                    GET_CAR_CHAR_IS_USING( sub_2502(), ref uVar5 );
                    if (NOT (DOES_VEHICLE_EXIST( uVar5 )))
                    {
                        return 1;
                    }
                }
            }
            else
            {
                return 1;
            }
        }
    }
    return 0;
}

void sub_30263(unknown uParam0)
{
    if (DOES_BLIP_EXIST( uParam0 ))
    {
        if (DOES_BLIP_EXIST( l_U844 ))
        {
            SET_ROUTE( l_U844, 0 );
        }
        l_U844 = uParam0;
        SET_ROUTE( uParam0, 1 );
    }
    return;
}

int sub_30382(unknown uParam0)
{
    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (IS_CHAR_SITTING_IN_ANY_CAR( sub_2502() ))
        {
            if (sub_30430( sub_2502(), uParam0 ))
            {
                SET_GROUP_SEPARATION_RANGE( sub_28386(), 40.00000000 );
                return 1;
            }
        }
        else if (IS_GROUP_MEMBER( uParam0, sub_28386() ))
        {
            SET_GROUP_SEPARATION_RANGE( sub_28386(), 40.00000000 );
            return 1;
        }
    }
    else
    {
        return 1;
    }
    return 0;
}

int sub_30430(unknown uParam0, unknown uParam1)
{
    unknown uVar4;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (IS_CHAR_SITTING_IN_ANY_CAR( uParam0 ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( uParam0, ref uVar4 );
            if (IS_VEH_DRIVEABLE( uVar4 ))
            {
                if (NOT (IS_CHAR_INJURED( uParam1 )))
                {
                    if (IS_CHAR_SITTING_IN_CAR( uParam1, uVar4 ))
                    {
                        return 1;
                    }
                }
            }
        }
    }
    return 0;
}

int sub_30990(unknown uParam0)
{
    float fVar3;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        GET_CHAR_SPEED( uParam0, ref fVar3 );
        if ((fVar3 < 0.50000000) AND (fVar3 > -0.50000000))
        {
            return 1;
        }
    }
    return 0;
}

int sub_32430(boolean bParam0)
{
    if ((sub_32543()) || ((IS_SCRIPTED_CONVERSATION_ONGOING()) || ((sub_32484()) || ((((bParam0) AND (sub_32455())) || ((NOT bParam0) AND (sub_22443()))) || (IS_MESSAGE_BEING_DISPLAYED())))))
    {
        return 1;
    }
    return 0;
}

void sub_32455()
{
    return IS_SCRIPTED_CONVERSATION_ONGOING();
}

int sub_32484()
{
    if ((g_U95._fU0 == 1008) || (g_U95._fU0 == 1007))
    {
        return 1;
    }
    return 0;
}

int sub_32543()
{
    int iVar2;
    int iVar3;

    GET_GAME_TIMER( ref iVar3 );
    iVar2 = iVar3 - l_U848;
    if (iVar2 < 35)
    {
        return 1;
    }
    return 0;
}

int sub_33836()
{
    if (NOT (IS_CHAR_INJURED( l_U851 )))
    {
        if (IS_AMBIENT_SPEECH_PLAYING( l_U851 ))
        {
            return 1;
        }
    }
    return 0;
}

int sub_34235()
{
    int iVar2;

    iVar2 = 1;
    if (IS_CHAR_SITTING_IN_ANY_CAR( sub_2502() ))
    {
        if ((IS_CHAR_IN_ANY_HELI( sub_2502() )) || (IS_CHAR_ON_ANY_BIKE( sub_2502() )))
        {
            iVar2 = 0;
        }
    }
    if (l_U830)
    {
        if (sub_30990( sub_2502() ))
        {
            if ((l_U824) || (sub_34325( 1, iVar2 )))
            {
                return 1;
            }
        }
    }
    else if ((l_U824) || (sub_34325( 1, iVar2 )))
    {
        return 1;
    }
    return 0;
}

int sub_34325(boolean bParam0, boolean bParam1)
{
    unknown uVar4;
    int iVar5;
    float fVar6;

    if (IS_MINIGAME_IN_PROGRESS())
    {
        return 0;
    }
    if (bParam1)
    {
        if (IS_CHAR_IN_ANY_CAR( sub_2502() ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_2502(), ref uVar4 );
            if (NOT (IS_CAR_DEAD( uVar4 )))
            {
                GET_CAR_UPRIGHT_VALUE( uVar4, ref fVar6 );
                if ((fVar6 > 1.01100000) || (fVar6 < 0.95000000))
                {
                    return 0;
                }
            }
        }
    }
    if (bParam0)
    {
        if (IS_CHAR_IN_ANY_CAR( sub_2502() ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_2502(), ref uVar4 );
            if (NOT (IS_CAR_DEAD( uVar4 )))
            {
                GET_DRIVER_OF_CAR( uVar4, ref iVar5 );
                if (NOT (iVar5 == sub_2502()))
                {
                    return 0;
                }
            }
        }
    }
    if (IS_CHAR_IN_ANY_CAR( sub_2502() ))
    {
        if (NOT (IS_CHAR_SITTING_IN_ANY_CAR( sub_2502() )))
        {
            return 0;
        }
    }
    if (NOT (IS_PLAYER_READY_FOR_CUTSCENE( sub_5022() )))
    {
        return 0;
    }
    if (NOT (CAN_PLAYER_START_MISSION( sub_5022() )))
    {
        return 0;
    }
    return 1;
}

void sub_34716()
{
    int I;

    sub_34725();
    for ( I = 0; I < 3; I++ )
    {
        if (DOES_BLIP_EXIST( l_U839[I] ))
        {
            REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U839[I] );
        }
    }
    if (DOES_BLIP_EXIST( l_U838 ))
    {
        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U838 );
    }
    l_U844 = nil;
    l_U818 = 0;
    for ( I = 0; I < l_U819; I++ )
    {
        l_U819[I] = 0;
        l_U834[I] = 0;
    }
    l_U814 = 0;
    l_U812 = 0;
    l_U813 = 0;
    l_U815 = 0;
    l_U817 = 0;
    l_U816 = 0;
    l_U823 = 0;
    l_U824 = 0;
    l_U826 = 0;
    l_U827 = 0;
    l_U850 = 0;
    for ( I = 0; I < l_U852; I++ )
    {
        if (NOT (IS_CHAR_INJURED( l_U852[I] )))
        {
            BLOCK_CHAR_AMBIENT_ANIMS( l_U852[I], 0 );
            SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( l_U852[I], 1 );
        }
    }
    if (IS_PLAYER_PLAYING( sub_5022() ))
    {
        BLOCK_CHAR_AMBIENT_ANIMS( sub_2502(), 0 );
    }
    if (IS_PLAYER_PLAYING( sub_5022() ))
    {
        SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( sub_2502(), 1 );
    }
    l_U828 = 0;
    l_U829 = 0;
    l_U830 = 0;
    l_U831 = 0;
    return;
}

void sub_34725()
{
    if (DOES_BLIP_EXIST( l_U843 ))
    {
        REMOVE_BLIP_AND_CLEAR_INDEX( ref l_U843 );
    }
    return;
}

void sub_36642(unknown uParam0, unknown uParam1, unknown uParam2, boolean bParam3, unknown uParam4)
{
    int I;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;

    sub_26650();
    if (l_U823)
    {
        uParam0 = l_U857._fU0;
        uParam1 = l_U857._fU4;
        uParam2 = l_U857._fU8;
        uVar12 = l_U847;
        l_U823 = 0;
    }
    else if (NOT (IS_CHAR_INJURED( sub_2502() )))
    {
        GET_CHAR_HEADING( sub_2502(), ref uVar12 );
    }
    if (IS_SCREEN_FADED_IN())
    {
        if (IS_KEYBOARD_KEY_JUST_PRESSED( 36 ))
        {
            PRINTSTRING( "J_SKIP - called" );
            PRINTNL();
            DO_SCREEN_FADE_OUT( 500 );
            while (NOT IS_SCREEN_FADED_OUT())
            {
                WAIT( 0 );
            }
            CLEAR_WANTED_LEVEL( sub_5022() );
            sub_36853( ref uVar8 );
            if (bParam3)
            {
                PRINTSTRING( "J_SKIP - onFoot = TRUE" );
                PRINTNL();
                sub_37274( uParam0, uParam1, uParam2, 0 );
                for ( I = 0; I < l_U852; I++ )
                {
                    if (NOT (IS_CHAR_INJURED( l_U852[I] )))
                    {
                        CLEAR_CHAR_TASKS_IMMEDIATELY( l_U852[I] );
                        if (NOT (IS_CHAR_INJURED( sub_2502() )))
                        {
                            GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( sub_2502(), 0.00000000, 1.00000000 + (TO_FLOAT( I )), 0.00000000, ref uVar9._fU0, ref uVar9._fU4, ref uVar9._fU8 );
                            SET_CHAR_COORDINATES( l_U852[I], uVar9._fU0, uVar9._fU4, uVar9._fU8 );
                            SET_CHAR_HEADING( l_U852[I], uVar12 );
                        }
                    }
                }
            }
            else if (DOES_VEHICLE_EXIST( uParam4 ))
            {
                PRINTSTRING( "J_SKIP - SpecificCarID exists" );
                PRINTNL();
                if (IS_VEH_DRIVEABLE( uParam4 ))
                {
                    CLEAR_CHAR_TASKS_IMMEDIATELY( sub_2502() );
                    WARP_CHAR_INTO_CAR( sub_2502(), uParam4 );
                    for ( I = 0; I < l_U852; I++ )
                    {
                        if (DOES_CHAR_EXIST( l_U852[I] ))
                        {
                            if (NOT (IS_CHAR_INJURED( l_U852[I] )))
                            {
                                CLEAR_CHAR_TASKS_IMMEDIATELY( l_U852[I] );
                                WARP_CHAR_INTO_CAR_AS_PASSENGER( l_U852[I], uParam4, I );
                                SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U852[I], 0 );
                            }
                        }
                    }
                }
                sub_37274( uParam0, uParam1, uParam2, uVar12 );
                if (IS_VEH_DRIVEABLE( uParam4 ))
                {
                    SET_CAR_COORDINATES( uParam4, uParam0, uParam1, uParam2 );
                }
            }
            else
            {
                PRINTSTRING( "J_SKIP - searching for temp_car" );
                PRINTNL();
                if (DOES_VEHICLE_EXIST( uVar8 ))
                {
                    if (NOT (IS_VEH_DRIVEABLE( uVar8 )))
                    {
                        PRINTSTRING( "J_SKIP - temp_car existed but not driveable" );
                        PRINTNL();
                        uVar8 = nil;
                    }
                }
                if (NOT (DOES_VEHICLE_EXIST( uVar8 )))
                {
                    PRINTSTRING( "J_SKIP - creating new temp_car" );
                    PRINTNL();
                    REQUEST_MODEL( 1264341792 );
                    while (NOT (HAS_MODEL_LOADED( 1264341792 )))
                    {
                        WAIT( 0 );
                    }
                    CREATE_CAR( 1264341792, uParam0, uParam1, uParam2, ref uVar8, 1 );
                    MARK_MODEL_AS_NO_LONGER_NEEDED( 1264341792 );
                    CLEAR_CHAR_TASKS_IMMEDIATELY( sub_2502() );
                    WARP_CHAR_INTO_CAR( sub_2502(), uVar8 );
                    sub_38181( uVar8 );
                }
                else
                {
                    PRINTSTRING( "J_SKIP - temp_car exists" );
                    PRINTNL();
                    if (IS_VEH_DRIVEABLE( uVar8 ))
                    {
                        PRINTSTRING( "J_SKIP - temp_car is driveable" );
                        PRINTNL();
                        CLEAR_CHAR_TASKS_IMMEDIATELY( sub_2502() );
                        WARP_CHAR_INTO_CAR( sub_2502(), uVar8 );
                    }
                }
                for ( I = 0; I < l_U852; I++ )
                {
                    if (DOES_CHAR_EXIST( l_U852[I] ))
                    {
                        if (NOT (IS_CHAR_INJURED( l_U852[I] )))
                        {
                            PRINTSTRING( "J_SKIP - buddy exists, clearing tasks." );
                            PRINTNL();
                            CLEAR_CHAR_TASKS_IMMEDIATELY( l_U852[I] );
                            if (IS_VEH_DRIVEABLE( uVar8 ))
                            {
                                WARP_CHAR_INTO_CAR_AS_PASSENGER( l_U852[I], uVar8, I );
                            }
                            else
                            {
                                PRINTSTRING( "J_SKIP - buddy exists, clearing tasks." );
                                PRINTNL();
                            }
                        }
                    }
                }
                for ( I = 0; I < l_U852; I++ )
                {
                    if (DOES_CHAR_EXIST( l_U852[I] ))
                    {
                        if (NOT (IS_CHAR_INJURED( l_U852[I] )))
                        {
                            if (IS_VEH_DRIVEABLE( uVar8 ))
                            {
                                PRINTSTRING( "J_SKIP - warping buddy into car" );
                                PRINTNL();
                                WARP_CHAR_INTO_CAR_AS_PASSENGER( l_U852[I], uVar8, I );
                            }
                        }
                    }
                }
                if (IS_VEH_DRIVEABLE( uVar8 ))
                {
                    SET_CAR_COORDINATES( uVar8, uParam0, uParam1, uParam2 );
                    SET_CAR_HEADING( uVar8, uVar12 );
                }
            }
            LOAD_SCENE( uParam0, uParam1, uParam2 );
            WAIT( 500 );
            sub_38801( 0, 0 );
            DO_SCREEN_FADE_IN( 500 );
        }
    }
    return;
}

void sub_36853(unknown uParam0)
{
    if (IS_PLAYER_PLAYING( sub_5022() ))
    {
        if (IS_CHAR_IN_ANY_CAR( sub_2502() ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_2502(), uParam0 );
        }
    }
    if (NOT (DOES_VEHICLE_EXIST( (uParam0^) )))
    {
        GET_CAR_CHAR_IS_USING( sub_2502(), uParam0 );
    }
    if (DOES_VEHICLE_EXIST( (uParam0^) ))
    {
        if (IS_VEH_DRIVEABLE( (uParam0^) ))
        {
            sub_36973( (uParam0^) );
        }
        else
        {
            (uParam0^) = nil;
        }
    }
    else
    {
        (uParam0^) = nil;
    }
    return;
}

void sub_36973(unknown uParam0)
{
    unknown uVar3;
    int I;
    int iVar5;

    if (DOES_VEHICLE_EXIST( uParam0 ))
    {
        if (IS_VEH_DRIVEABLE( uParam0 ))
        {
            GET_DRIVER_OF_CAR( uParam0, ref uVar3 );
            if (DOES_CHAR_EXIST( uVar3 ))
            {
                if (NOT (IS_CHAR_INJURED( uVar3 )))
                {
                    CLEAR_CHAR_TASKS_IMMEDIATELY( uVar3 );
                }
                else
                {
                    DELETE_CHAR( ref uVar3 );
                }
            }
            GET_MAXIMUM_NUMBER_OF_PASSENGERS( uParam0, ref iVar5 );
            for ( I = 0; I < iVar5; I++ )
            {
                if (NOT (IS_CAR_PASSENGER_SEAT_FREE( uParam0, I )))
                {
                    GET_CHAR_IN_CAR_PASSENGER_SEAT( uParam0, I, ref uVar3 );
                    if (DOES_CHAR_EXIST( uVar3 ))
                    {
                        if (NOT (IS_CHAR_INJURED( uVar3 )))
                        {
                            CLEAR_CHAR_TASKS_IMMEDIATELY( uVar3 );
                        }
                        else
                        {
                            DELETE_CHAR( ref uVar3 );
                        }
                    }
                }
            }
        }
    }
    return;
}

void sub_37274(unknown uParam0, unknown uParam1, float fParam2, unknown uParam3)
{
    fParam2 += 1.00000000;
    SET_CHAR_COORDINATES( sub_2502(), uParam0, uParam1, fParam2 );
    SET_GAME_CAM_HEADING( 0 );
    REQUEST_COLLISION_AT_POSN( uParam0, uParam1, fParam2 );
    LOAD_ALL_OBJECTS_NOW();
    GET_CHAR_COORDINATES( sub_2502(), ref uParam0, ref uParam1, ref fParam2 );
    GET_GROUND_Z_FOR_3D_COORD( uParam0, uParam1, fParam2, ref fParam2 );
    SET_CHAR_COORDINATES( sub_2502(), uParam0, uParam1, fParam2 );
    SET_CHAR_HEADING( sub_2502(), uParam3 );
    return;
}

void sub_38181(unknown uParam0)
{
    MARK_CAR_AS_NO_LONGER_NEEDED( ref uParam0 );
    return;
}

void sub_38801(boolean bParam0, unknown uParam1)
{
    boolean bVar4;
    int iVar5;
    int iVar6;

    PRINTSTRING( "WAIT_FOR_ANY_NEARBY_CLUBS_TO_STREAM_IN - called for " );
    PRINTNL();
    if (NOT bParam0)
    {
        if (NOT IS_SCREEN_FADED_OUT())
        {
            SCRIPT_ASSERT( "WAIT_FOR_ANY_NEARBY_CLUBS_TO_STREAM_IN() - should only be called when screen is faded out." );
        }
        else
        {
            WAIT( 0 );
        }
    }
    if (((bParam0) || (IS_SCREEN_FADED_OUT())) AND (NOT (IS_CHAR_INJURED( sub_2502() ))))
    {
        PRINTSTRING( "WAIT_FOR_ANY_NEARBY_CLUBS_TO_STREAM_IN - checking if player is near a club..." );
        PRINTNL();
        g_U30093[0] = 0;
        g_U30093[1] = 0;
        g_U30093[2] = 0;
        g_U30176 = uParam1;
        if (sub_39181( sub_2502(), 0, 25.00000000 ))
        {
            PRINTSTRING( "WAIT_FOR_ANY_NEARBY_CLUBS_TO_STREAM_IN - bahama mamas" );
            PRINTNL();
            g_U30110[0] = 1;
        }
        if (sub_39181( sub_2502(), 1, 25.00000000 ))
        {
            PRINTSTRING( "WAIT_FOR_ANY_NEARBY_CLUBS_TO_STREAM_IN - maisonette 9" );
            PRINTNL();
            g_U30110[1] = 1;
        }
        if (sub_39181( sub_2502(), 2, 25.00000000 ))
        {
            PRINTSTRING( "WAIT_FOR_ANY_NEARBY_CLUBS_TO_STREAM_IN - hercules" );
            PRINTNL();
            g_U30110[2] = 1;
        }
        sub_40458( 0 );
        sub_40458( 1 );
        sub_40458( 2 );
        bVar4 = false;
        GET_GAME_TIMER( ref l_U811 );
        while (NOT bVar4)
        {
            GET_GAME_TIMER( ref iVar5 );
            iVar6 = iVar5 - l_U811;
            if (((g_U30110[2] == 0) AND ((g_U30110[1] == 0) AND (g_U30110[0] == 0))) || (iVar6 > 15000))
            {
                if (iVar6 > 15000)
                {
                    ;
                }
                bVar4 = true;
            }
            else
            {
                PRINTSTRING( "WAIT_FOR_ANY_NEARBY_CLUBS_TO_STREAM_IN  - loading stuff" );
                PRINTNL();
                WAIT( 0 );
            }
        }
        if (NOT bParam0)
        {
            WAIT( 0 );
        }
        PRINTSTRING( "WAIT_FOR_ANY_NEARBY_CLUBS_TO_STREAM_IN - finished" );
        PRINTNL();
    }
    return;
}

int sub_39181(unknown uParam0, unknown uParam1, unknown uParam2)
{
    vector vVar5;
    vector vVar8;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;

    vVar5 = {sub_39192( uParam1 )};
    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (sub_39352( uParam0, uParam1, 0 ))
        {
            return 1;
        }
        else
        {
            GET_CHAR_COORDINATES( uParam0, ref vVar8.x, ref vVar8.y, ref vVar8.z );
            uVar11 = {vVar5 - vVar8};
            uVar11._fU8 = 0.00000000;
            if ((VMAG2( uVar11 )) < (uParam2 * uParam2))
            {
                return 1;
            }
        }
    }
    return 0;
}

vector sub_39192(unknown uParam0)
{
    switch (uParam0)
    {
        case 0:
        return vector( -399.10690000, 397.67000000, 14.17720000);
        break;
        case 1:
        return vector( -468.03000000, 153.41000000, 9.80000000);
        break;
        case 2:
        return vector( -440.28000000, 356.98000000, 11.54000000);
        break;
    }
    return vector( 0.00000000, 0.00000000, 0.00000000);
}

int sub_39352(unknown uParam0, unknown uParam1, boolean bParam2)
{
    unknown uVar5;
    unknown uVar6;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (sub_39380( uParam0, uParam1 ))
        {
            return 1;
        }
        switch (uParam1)
        {
            case 0:
            if (bParam2)
            {
                if (((LOCATE_CHAR_ANY_MEANS_3D( uParam0, -399.10690000, 397.39960000, 14.17720000, 1.60000000, 1.60000000, 1.60000000, 0 )) AND (IS_CHAR_ON_ANY_BIKE( uParam0 ))) || (LOCATE_CHAR_ON_FOOT_3D( uParam0, -399.10690000, 397.39960000, 14.17720000, 1.60000000, 1.60000000, 1.60000000, 0 )))
                {
                    return 1;
                }
            }
            break;
            case 1:
            if (bParam2)
            {
                if (((LOCATE_CHAR_ANY_MEANS_3D( uParam0, -466.92400000, 153.19500000, 9.87400000, 1.60000000, 1.60000000, 1.60000000, 0 )) AND (IS_CHAR_ON_ANY_BIKE( uParam0 ))) || (LOCATE_CHAR_ON_FOOT_3D( uParam0, -466.92400000, 153.19500000, 9.87400000, 1.60000000, 1.60000000, 1.60000000, 0 )))
                {
                    return 1;
                }
            }
            break;
            case 2:
            if (bParam2)
            {
                if (((LOCATE_CHAR_ANY_MEANS_3D( uParam0, -440.46400000, 356.91300000, 11.71800000, 1.60000000, 1.60000000, 1.60000000, 0 )) AND (IS_CHAR_ON_ANY_BIKE( uParam0 ))) || (LOCATE_CHAR_ON_FOOT_3D( uParam0, -440.46400000, 356.91300000, 11.71800000, 1.60000000, 1.60000000, 1.60000000, 0 )))
                {
                    return 1;
                }
            }
            break;
        }
    }
    return 0;
}

int sub_39380(unknown uParam0, unknown uParam1)
{
    int iVar4;
    int iVar5;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        switch (uParam1)
        {
            case 0:
            GET_INTERIOR_AT_COORDS( -395.22000000, 400.50000000, 14.40000000, ref iVar4 );
            GET_INTERIOR_FROM_CHAR( uParam0, ref iVar5 );
            if (NOT (iVar4 == nil))
            {
                if (iVar4 == iVar5)
                {
                    return 1;
                }
            }
            break;
            case 1:
            GET_INTERIOR_AT_COORDS( -483.90180000, 149.43310000, 7.56070000, ref iVar4 );
            GET_INTERIOR_FROM_CHAR( uParam0, ref iVar5 );
            if (NOT (iVar4 == nil))
            {
                if (iVar4 == iVar5)
                {
                    return 1;
                }
            }
            break;
            case 2:
            GET_INTERIOR_AT_COORDS( -431.82560000, 351.76230000, 11.71660000, ref iVar4 );
            GET_INTERIOR_FROM_CHAR( uParam0, ref iVar5 );
            if (NOT (iVar4 == nil))
            {
                if (iVar4 == iVar5)
                {
                    return 1;
                }
            }
            if (IS_CHAR_IN_AREA_3D( sub_2502(), -438.84750000, 349.78630000, 9.59170000, -436.09750000, 353.78630000, 14.46670000, 0 ))
            {
                return 1;
            }
            break;
        }
    }
    return 0;
}

void sub_40458(unknown uParam0)
{
    g_U30114[uParam0] = 1;
    return;
}

void sub_40799(unknown uParam0, unknown uParam1, unknown uParam2)
{
    unknown uVar5;

    if (NOT (sub_40824( uParam0, uParam1, uParam2, l_U845, 1120403456 )))
    {
        if (NOT (LOCATE_CHAR_ANY_MEANS_3D( sub_2502(), uParam0, uParam1, uParam2, 50.00000000, 50.00000000, 50.00000000, 0 )))
        {
            GET_PLAYERS_LAST_CAR_NO_SAVE( ref uVar5 );
            if (DOES_VEHICLE_EXIST( uVar5 ))
            {
                if (NOT (IS_CAR_DEAD( uVar5 )))
                {
                    if (NOT (LOCATE_CAR_3D( uVar5, uParam0, uParam1, uParam2, l_U845, l_U845, l_U845, 0 )))
                    {
                        CLEAR_AREA_OF_CARS( uParam0, uParam1, uParam2, l_U845 );
                    }
                }
            }
            else
            {
                CLEAR_AREA_OF_CARS( uParam0, uParam1, uParam2, l_U845 );
            }
        }
    }
    return;
}

int sub_40824(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (sub_40841( uParam0, uParam1, uParam2, uParam3 ))
    {
        if (NOT (LOCATE_CHAR_ANY_MEANS_2D( sub_2502(), uParam0, uParam1, uParam4, uParam4, 0 )))
        {
            return 0;
        }
        else if (IS_SCREEN_FADED_OUT())
        {
            return 0;
        }
        else
        {
            return 1;
        }
    }
    return 0;
}

int sub_40841(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;

    GET_GAME_VIEWPORT_ID( ref uVar6 );
    if (CAM_IS_SPHERE_VISIBLE( uVar6, uParam0, uParam1, uParam2, uParam3 ))
    {
        return 1;
    }
    return 0;
}

float sub_41529(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((NOT (IS_CHAR_INJURED( uParam1 ))) AND (NOT (IS_CHAR_INJURED( uParam0 ))))
    {
        GET_CHAR_COORDINATES( uParam0, ref uVar6._fU0, ref uVar6._fU4, ref uVar6._fU8 );
        GET_CHAR_COORDINATES( uParam1, ref uVar9._fU0, ref uVar9._fU4, ref uVar9._fU8 );
        return sub_22309( uVar6, uVar9, uParam2, uParam3 );
        break;
    }
    return -1.00000000;
}

void sub_41985()
{
    int iVar2;
    int iVar3;
    int iVar4;

    sub_24590( 0.00000000, 0.00000000, 0.00000000 );
    switch (l_U1193)
    {
        case 0:
        CLEAR_PRINTS();
        CLEAR_HELP();
        DELETE_CHECKPOINT( l_U1086 );
        SWITCH_RANDOM_BOATS( 0 );
        REQUEST_ALL_SLODS_IN_WORLD();
        REQUEST_ANIMS( "MISSTONY04" );
        REQUEST_ANIMS( "FACIALS@M_LO" );
        while ((NOT (HAVE_ANIMS_LOADED( "FACIALS@M_LO" ))) || (NOT (HAVE_ANIMS_LOADED( "MISSTONY04" ))))
        {
            WAIT( 0 );
        }
        WAIT( 500 );
        sub_22626( 0 );
        if ((NOT (IS_CHAR_INJURED( l_U1065 ))) AND ((NOT (IS_CHAR_INJURED( l_U1064 ))) AND (IS_VEH_DRIVEABLE( l_U1068 ))))
        {
            l_U1042 = 760.00000000;
            SET_CAR_COORDINATES( l_U1068, l_U880._fU0, l_U880._fU4, l_U1042 );
            SET_CAR_HEADING( l_U1068, -120.00000000 );
            FREEZE_CAR_POSITION( l_U1068, 1 );
            if (IS_CHAR_IN_ANY_CAR( sub_2502() ))
            {
                WARP_CHAR_FROM_CAR_TO_COORD( sub_2502(), l_U880._fU0, l_U880._fU4, l_U880._fU8 );
            }
            else
            {
                SET_CHAR_COORDINATES( sub_2502(), l_U880._fU0, l_U880._fU4, l_U880._fU8 );
            }
            ATTACH_PED_TO_CAR( sub_2502(), l_U1068, 0, l_U898, l_U1040, 0.00000000, 0, 0 );
            OPEN_SEQUENCE_TASK( ref l_U1077 );
            TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "Look_Out_A", "MISSTONY04", 1000.00000000, 0, 0, 0, 0, 0 );
            TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "Shake_1A", "MISSTONY04", 1000.00000000, 1, 0, 0, 0, 0 );
            CLOSE_SEQUENCE_TASK( l_U1077 );
            TASK_PERFORM_SEQUENCE( sub_2502(), l_U1077 );
            CLEAR_SEQUENCE_TASK( l_U1077 );
            WARP_CHAR_FROM_CAR_TO_COORD( l_U1064, l_U880._fU0, l_U880._fU4, l_U880._fU8 + 5.00000000 );
            WARP_CHAR_INTO_CAR( l_U1064, l_U1068 );
            TASK_LOOK_AT_CHAR( l_U1064, l_U1065, -2, 0 );
            DETACH_PED( l_U1065, 1 );
            CLEAR_CHAR_TASKS_IMMEDIATELY( l_U1065 );
            if (IS_CHAR_IN_ANY_CAR( l_U1065 ))
            {
                WARP_CHAR_FROM_CAR_TO_COORD( l_U1065, l_U880._fU0, l_U880._fU4, l_U880._fU8 + 5.00000000 );
            }
            else
            {
                SET_CHAR_COORDINATES( l_U1065, l_U880._fU0, l_U880._fU4, l_U880._fU8 + 2.00000000 );
            }
            ATTACH_PED_TO_CAR( l_U1065, l_U1068, 0, l_U901, l_U1041, 0.00000000, 0, 1 );
            OPEN_SEQUENCE_TASK( ref l_U1078 );
            TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "Look_Out_B", "MISSTONY04", 1000.00000000, 0, 0, 0, 0, 0 );
            TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "Shake_1B", "MISSTONY04", 1000.00000000, 1, 0, 0, 0, 0 );
            CLOSE_SEQUENCE_TASK( l_U1078 );
            TASK_PERFORM_SEQUENCE( l_U1065, l_U1078 );
            CLEAR_SEQUENCE_TASK( l_U1078 );
            CREATE_CAM( 14, ref l_U1080 );
            sub_42986( 0 );
            sub_43327( l_U1080, 1 );
            SET_USE_HIGHDOF( 1 );
        }
        sub_45907( sub_2502() );
        sub_46329( 0 );
        sub_46354( 1 );
        sub_46379( 0 );
        sub_5560( 1 );
        DISPLAY_RADAR( 0 );
        SET_WIDESCREEN_BORDERS( 1 );
        SET_CINEMATIC_BUTTON_ENABLED( 1 );
        if (NOT IS_SCREEN_FADED_IN())
        {
            DO_SCREEN_FADE_IN( 500 );
            while (NOT IS_SCREEN_FADED_IN())
            {
                sub_46488( ref l_U1068, 1056964608, 1045220557, 1036831949 );
                sub_44609();
                WAIT( 0 );
            }
        }
        CLEAR_AREA( l_U880._fU0, l_U880._fU4, l_U880._fU8, 100.00000000, 1 );
        sub_46868( "E2T4B_BANTF", 0, 1, ref l_U1182, 6, 1 );
        l_U1033++;
        SETTIMERB( 0 );
        l_U1193 = 1;
        break;
        case 1:
        if (sub_47006())
        {
            l_U1193 = 3;
        }
        if (NOT (IS_CHAR_INJURED( l_U1065 )))
        {
            if ((IS_CHAR_PLAYING_ANIM( l_U1065, "MISSTONY04", "Shake_1B" )) AND (IS_CHAR_PLAYING_ANIM( sub_2502(), "MISSTONY04", "Shake_1A" )))
            {
                l_U1193 = 2;
            }
        }
        iVar2 = TIMERB();
        if (NOT (IS_CHAR_INJURED( l_U1065 )))
        {
            switch (l_U1196)
            {
                case 0:
                if (IS_CHAR_PLAYING_ANIM( sub_2502(), "MISSTONY04", "Look_Out_A" ))
                {
                    SET_CHAR_ANIM_SPEED( sub_2502(), "MISSTONY04", "Look_Out_A", 0.00000000 );
                }
                if (IS_CHAR_PLAYING_ANIM( l_U1065, "MISSTONY04", "Look_Out_B" ))
                {
                    SET_CHAR_ANIM_SPEED( l_U1065, "MISSTONY04", "Look_Out_B", 0.00000000 );
                }
                if (iVar2 > 4500)
                {
                    sub_42986( 1 );
                    if (IS_CHAR_PLAYING_ANIM( sub_2502(), "MISSTONY04", "Look_Out_A" ))
                    {
                        SET_CHAR_ANIM_SPEED( sub_2502(), "MISSTONY04", "Look_Out_A", 1.00000000 );
                    }
                    if (IS_CHAR_PLAYING_ANIM( l_U1065, "MISSTONY04", "Look_Out_B" ))
                    {
                        SET_CHAR_ANIM_SPEED( l_U1065, "MISSTONY04", "Look_Out_B", 1.00000000 );
                    }
                }
                break;
                case 1:
                if (l_U1033 == 1)
                {
                    if (iVar2 > 5000)
                    {
                        sub_46868( "E2T4B_BANTF", 2, 1, ref l_U1182, 6, 1 );
                        l_U1033++;
                    }
                }
                if (iVar2 > 7500)
                {
                    sub_42986( 2 );
                }
                break;
                case 2:
                if (iVar2 > 10500)
                {
                    sub_46868( "E2T4B_BANTF", 3, 1, ref l_U1182, 6, 1 );
                    l_U1033++;
                    sub_42986( 3 );
                }
                break;
                case 3:
                if (l_U1033 == 3)
                {
                    if (NOT sub_22443())
                    {
                        sub_22541( "E2T4B_SCAR2", 33, 6, "E2T4BAU", 0, 0 );
                        l_U1033++;
                    }
                }
                if (iVar2 > 14500)
                {
                    sub_42986( 4 );
                }
                break;
            }
        }
        if (l_U1196 == 0)
        {
            sub_46488( ref l_U1068, 0.50000000, 0.20000000, 10.00000000 );
        }
        else
        {
            sub_46488( ref l_U1068, 1056964608, 1045220557, 1036831949 );
        }
        sub_44609();
        break;
        case 2:
        CLEAR_PRINTS();
        sub_22626( 0 );
        TASK_PLAY_ANIM_FACIAL( l_U1065, "Mood_Scared", "FACIALS@M_LO", 4.00000000, 1, 0, -1 );
        if (IS_VEH_DRIVEABLE( l_U1068 ))
        {
            SET_CAR_HEADING( l_U1068, -50.00000000 );
            if (NOT (IS_CHAR_INJURED( l_U1065 )))
            {
                DETACH_PED( l_U1065, 1 );
                ATTACH_PED_TO_CAR( l_U1065, l_U1068, 0, l_U895, l_U1041, 0.00000000, 0, 1 );
            }
            DETACH_PED( sub_2502(), 1 );
            ATTACH_PED_TO_CAR( sub_2502(), l_U1068, 0, l_U892, l_U1041, 0.00000000, 0, 0 );
        }
        sub_42986( 6 );
        sub_46488( ref l_U1068, 1056964608, 1045220557, 1036831949 );
        sub_44609();
        if (DOES_CAM_EXIST( l_U1083 ))
        {
            DESTROY_CAM( l_U1083 );
        }
        if (DOES_CAM_EXIST( l_U1084 ))
        {
            DESTROY_CAM( l_U1084 );
        }
        DISPLAY_RADAR( 1 );
        SET_WIDESCREEN_BORDERS( 0 );
        GET_GAME_TIMER( ref iVar3 );
        GENERATE_RANDOM_INT_IN_RANGE( 0, 7000, ref iVar4 );
        l_U1029 = iVar3 + iVar4;
        GENERATE_RANDOM_INT_IN_RANGE( 0, 7000, ref iVar4 );
        l_U1030 = iVar3 + iVar4;
        if (NOT IS_SCREEN_FADED_IN())
        {
            DO_SCREEN_FADE_IN( 500 );
            while (NOT IS_SCREEN_FADED_IN())
            {
                sub_46488( ref l_U1068, 1056964608, 1045220557, 1036831949 );
                sub_44609();
                WAIT( 0 );
            }
        }
        PRINT_NOW( "T4_SHAKE", 4000, 0 );
        l_U1172[2] = 1;
        GET_GAME_TIMER( ref l_U1031 );
        l_U740 = 0.00000000;
        l_U741 = 0.00000000;
        l_U1192 = 3;
        break;
        case 3:
        if (NOT IS_SCREEN_FADED_OUT())
        {
            DO_SCREEN_FADE_OUT( 500 );
            while (NOT IS_SCREEN_FADED_OUT())
            {
                sub_46488( ref l_U1068, 1056964608, 1045220557, 1036831949 );
                sub_44609();
                WAIT( 0 );
            }
        }
        if (IS_VEH_DRIVEABLE( l_U1068 ))
        {
            CLEAR_CHAR_TASKS_IMMEDIATELY( sub_2502() );
            TASK_PLAY_ANIM_NON_INTERRUPTABLE( sub_2502(), "Shake_1A", "MISSTONY04", 1000.00000000, 1, 0, 0, 0, 0 );
            if (NOT (IS_CHAR_INJURED( l_U1065 )))
            {
                CLEAR_CHAR_TASKS_IMMEDIATELY( l_U1065 );
                TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U1065, "Shake_1B", "MISSTONY04", 1000.00000000, 1, 0, 0, 0, 0 );
                TASK_PLAY_ANIM_FACIAL( l_U1065, "Mood_Scared", "FACIALS@M_LO", 4.00000000, 1, 0, -1 );
            }
        }
        l_U1193 = 2;
        break;
    }
    return;
}

void sub_42986(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    int iVar9;

    if ((IS_VEH_DRIVEABLE( l_U1068 )) AND (DOES_CAM_EXIST( l_U1080 )))
    {
        switch (iParam0)
        {
            case 0:
            SET_CAM_POS( l_U1080, -629.58180000, -827.46430000, 816.49400000 );
            SET_CAM_ROT( l_U1080, -36.80614000, 0.00000100, -26.26689000 );
            SET_CAM_FOV( l_U1080, 19.80006000 );
            SET_CAM_FAR_DOF( l_U1080, 100.00000000 );
            GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( l_U1068, 0.00000000, 0.00000000, 0.00000000, ref uVar3._fU0, ref uVar3._fU4, ref uVar3._fU8 );
            POINT_CAM_AT_COORD( l_U1080, uVar3._fU0, uVar3._fU4, uVar3._fU8 );
            SET_CAM_POINT_OFFSET( l_U1080, l_U946._fU0, l_U946._fU4, l_U946._fU8 );
            l_U1056 = 0.05000000;
            l_U1057 = 0.15000000;
            l_U1055 = 0.50000000;
            sub_43327( l_U1080, 1 );
            break;
            case 1:
            l_U943 = {-6.68000000, -0.83999990, -4.24000000};
            l_U946 = {1.19000000, 0.00000000, -0.27000000};
            SET_CAM_FOV( l_U1080, 35.20000000 );
            l_U976 = 1;
            l_U977 = 1;
            l_U978 = 0;
            l_U979 = 1;
            l_U980 = 0;
            l_U1056 = 0.00500000;
            l_U1057 = 0.02000000;
            l_U1055 = 0.05000000;
            break;
            case 2:
            l_U943 = {0.59000000, 0.95000000, 1.37000000};
            l_U946 = {20.00000000, 20.00000000, -10.35000000};
            SET_CAM_FOV( l_U1080, 40.00000000 );
            l_U976 = 1;
            l_U977 = 0;
            l_U978 = 1;
            l_U979 = 1;
            l_U980 = 1;
            l_U1056 = 0.01000000;
            l_U1057 = 0.05000000;
            l_U1055 = 0.20000000;
            break;
            case 3:
            l_U943 = {-2.08000000, 2.08000000, 0.83999990};
            l_U946 = {1.32000000, 0.00000000, 0.92000000};
            SET_CAM_FOV( l_U1080, 40.00000000 );
            l_U976 = 1;
            l_U977 = 0;
            l_U978 = 1;
            l_U979 = 1;
            l_U980 = 0;
            l_U1056 = 0.00100000;
            l_U1057 = 0.00500000;
            l_U1055 = 0.01000000;
            break;
            case 4:
            l_U943 = {-4.00000000, 3.04000000, 6.44000000};
            l_U946 = {0.00000000, -0.72000000, -3.26000000};
            SET_CAM_FOV( l_U1080, 24.80000000 );
            l_U976 = 1;
            l_U977 = 1;
            l_U978 = 0;
            l_U979 = 1;
            l_U980 = 0;
            l_U1056 = 0.00500000;
            l_U1057 = 0.01000000;
            l_U1055 = 0.07500000;
            break;
            case 5:
            l_U943 = {-4.96000000, -3.04000000, 0.00000000};
            l_U946 = {-2.60000000, 1.60000000, 0.22000000};
            SET_CAM_FOV( l_U1080, 32.10000000 );
            l_U976 = 1;
            l_U977 = 1;
            l_U978 = 0;
            l_U979 = 1;
            l_U980 = 0;
            l_U1056 = 0.00100000;
            l_U1057 = 0.00500000;
            l_U1055 = 0.01000000;
            break;
            case 6:
            iVar9 = 0;
            if (iVar9 == 0)
            {
                l_U943 = {0.36000000, -0.60000000, 1.07000000};
                l_U946 = {2.60000000, 5.84000000, 0.36000000};
                SET_CAM_FOV( l_U1080, 28.90000000 );
            }
            l_U976 = 1;
            l_U977 = 0;
            l_U978 = 1;
            l_U979 = 1;
            l_U980 = 1;
            l_U1056 = 0.00200000;
            l_U1057 = 0.01000000;
            l_U1055 = 0.02000000;
            break;
            case 7:
            l_U943 = {0.33000000, 1.08000000, 1.32000000};
            l_U946 = {-7.08000000, 18.28000000, -6.08000000};
            SET_CAM_FOV( l_U1080, 45.00000000 );
            l_U976 = 1;
            l_U977 = 0;
            l_U978 = 1;
            l_U979 = 1;
            l_U980 = 1;
            l_U1050 = 0.00000000;
            l_U1051 = 0.00000000;
            l_U1056 = 0.01000000;
            l_U1057 = 0.05000000;
            l_U1055 = 0.20000000;
            break;
            case 8:
            l_U943 = {3.41000000, 5.45000000, 19.52000000};
            l_U946 = {0.64000000, 3.60000000, 1.12000000};
            SET_CAM_FOV( l_U1080, 35.40000000 );
            l_U976 = 1;
            l_U977 = 1;
            l_U978 = 0;
            l_U979 = 1;
            l_U980 = 0;
            l_U1056 = 0.05000000;
            l_U1057 = 0.15000000;
            l_U1055 = 0.50000000;
            l_U994 = 0;
            break;
        }
        l_U1196 = iParam0;
        if (iParam0 != 0)
        {
            GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( l_U1068, l_U943._fU0, l_U943._fU4, l_U943._fU8, ref uVar3._fU0, ref uVar3._fU4, ref uVar3._fU8 );
            SET_CAM_POS( l_U1080, uVar3._fU0, uVar3._fU4, uVar3._fU8 );
            GET_CAR_COORDINATES( l_U1068, ref uVar6._fU0, ref uVar6._fU4, ref uVar6._fU8 );
            POINT_CAM_AT_COORD( l_U1080, uVar6._fU0, uVar6._fU4, uVar6._fU8 );
            l_U1043 = uVar6._fU8;
            SET_CAM_POINT_OFFSET( l_U1080, l_U946._fU0, l_U946._fU4, l_U946._fU8 );
            sub_43327( l_U1080, 1 );
            sub_44609();
        }
    }
    return;
}

void sub_43327(unknown uParam0, unknown uParam1)
{
    SET_CAM_ACTIVE( uParam0, uParam1 );
    SET_CAM_PROPAGATE( uParam0, uParam1 );
    ACTIVATE_SCRIPTED_CAMS( uParam1, uParam1 );
    return;
}

void sub_44609()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    float fVar14;
    unknown uVar15;
    unknown uVar16;

    if (DOES_CAM_EXIST( l_U1080 ))
    {
        GET_CAM_POS( l_U1080, ref uVar5._fU0, ref uVar5._fU4, ref uVar5._fU8 );
        if (l_U1196 != 0)
        {
            if (l_U994)
            {
                sub_44692( ref l_U1051, 0.10000000, 0.00800000 );
                l_U1050 -= l_U1051;
            }
            if (l_U1196 == 8)
            {
                sub_44692( ref l_U943._fU0, 3.36000000, 0.00100000 );
                sub_44692( ref l_U943._fU4, 2.12000000, 0.01000000 );
                sub_44692( ref l_U946._fU0, -3.12000000, 0.00500000 );
            }
            if (l_U1196 == 6)
            {
                l_U1051 += 0.20000000;
                if (l_U1051 >= 360.00000000)
                {
                    l_U1051 -= 360.00000000;
                }
                l_U1050 = (SIN( l_U1051 )) / 8.00000000;
            }
            if (IS_VEH_DRIVEABLE( l_U1068 ))
            {
                GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( l_U1068, l_U943._fU0 + l_U1050, l_U943._fU4, l_U943._fU8 + (l_U1050 / 3.00000000), ref uVar2._fU0, ref uVar2._fU4, ref uVar2._fU8 );
            }
            if (l_U976)
            {
                uVar5._fU0 = uVar2._fU0;
                uVar5._fU4 = uVar2._fU4;
            }
            if (l_U977)
            {
                uVar5._fU8 = (l_U1042 + l_U943._fU8) + 1.00000000;
            }
            else if (l_U978)
            {
                uVar5._fU8 = uVar2._fU8;
            }
            SET_CAM_POS( l_U1080, uVar5._fU0, uVar5._fU4, uVar5._fU8 );
            if (l_U994)
            {
                GET_CAM_ROT( l_U1080, ref uVar11._fU0, ref uVar11._fU4, ref uVar11._fU8 );
                UNPOINT_CAM( l_U1080 );
                SET_CAM_ROT( l_U1080, uVar11._fU0 + l_U1050, uVar11._fU4, uVar11._fU8 );
                GET_CAM_FOV( l_U1080, ref fVar14 );
                if (fVar14 < 45.00000000)
                {
                    SET_CAM_FOV( l_U1080, fVar14 - (l_U1050 * 3.00000000) );
                }
            }
            else if (l_U979)
            {
                if (IS_VEH_DRIVEABLE( l_U1068 ))
                {
                    GET_CAR_COORDINATES( l_U1068, ref uVar8._fU0, ref uVar8._fU4, ref uVar8._fU8 );
                }
                uVar15 = l_U1043;
                if (l_U980)
                {
                    uVar15 = uVar8._fU8;
                }
                POINT_CAM_AT_COORD( l_U1080, uVar8._fU0, uVar8._fU4, uVar15 );
            }
            sub_45434( l_U1080, l_U946, -l_U1055, l_U1055, l_U1056, l_U1057 );
        }
        else
        {
            GET_FRAME_TIME( ref uVar16 );
            SET_CAM_POS( l_U1080, uVar5._fU0 + (8.00000000 * uVar16), uVar5._fU4, uVar5._fU8 );
            sub_45434( l_U1080, l_U946, -l_U1055, l_U1055, l_U1056, l_U1057 );
        }
    }
    return;
}

void sub_44692(unknown uParam0, float fParam1, unknown uParam2)
{
    unknown uVar5;
    float fVar6;

    if ((uParam0^) != fParam1)
    {
        GET_FRAME_TIME( ref uVar5 );
        fVar6 = (uParam2 * 30.00000000) * uVar5;
        if (((uParam0^) - fParam1) > fVar6)
        {
            (uParam0^) -= fVar6;
        }
        else if (((uParam0^) - fParam1) < -fVar6)
        {
            (uParam0^) += fVar6;
        }
        else
        {
            (uParam0^) = fParam1;
        }
    }
    return;
}

void sub_45434(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7)
{
    if ((l_U722._fU8 != uParam1._fU8) || ((l_U722._fU4 != uParam1._fU4) || (l_U722._fU0 != uParam1._fU0)))
    {
        l_U722 = {uParam1};
        l_U728 = {0.00000000, 0.00000000, 0.00000000};
        l_U725 = {0.00000000, 0.00000000, 0.00000000};
    }
    if ((l_U728._fU8 == l_U725._fU8) AND ((l_U728._fU4 == l_U725._fU4) AND (l_U728._fU0 == l_U725._fU0)))
    {
        GENERATE_RANDOM_FLOAT_IN_RANGE( uParam4, uParam5, ref l_U725._fU0 );
        GENERATE_RANDOM_FLOAT_IN_RANGE( uParam4, uParam5, ref l_U725._fU4 );
        GENERATE_RANDOM_FLOAT_IN_RANGE( uParam4, uParam5, ref l_U725._fU8 );
        GENERATE_RANDOM_FLOAT_IN_RANGE( uParam6, uParam7, ref l_U738 );
    }
    else
    {
        sub_44692( ref l_U728._fU0, l_U725._fU0, l_U738 );
        sub_44692( ref l_U728._fU4, l_U725._fU4, l_U738 );
        sub_44692( ref l_U728._fU8, l_U725._fU8, l_U738 );
    }
    SET_CAM_POINT_OFFSET( uParam0, uParam1._fU0 + l_U728._fU0, uParam1._fU4 + l_U728._fU4, uParam1._fU8 + l_U728._fU8 );
    return;
}

void sub_45907(int iParam0)
{
    int iVar3;
    int I;

    iVar3 = sub_20657( iParam0 );
    if (iVar3 == -1)
    {
        if (NOT (IS_CHAR_INJURED( iParam0 )))
        {
            if (iParam0 != sub_2502())
            {
                I = 1;
                for ( I = 0; I < g_U2692; I++ )
                {
                    if (NOT g_U2692[I]._fU56)
                    {
                        iVar3 = I;
                    }
                }
            }
            else
            {
                iVar3 = 0;
            }
            if (iVar3 != -1)
            {
                if (NOT g_U2692[iVar3]._fU56)
                {
                    g_U2692[iVar3]._fU0 = iParam0;
                    g_U2692[iVar3]._fU4 = 0;
                    g_U2692[iVar3]._fU8 = 0;
                    g_U2692[iVar3]._fU12 = {0.00000000, 0.00000000, 0.00000000};
                    g_U2692[iVar3]._fU56 = 1;
                    g_U2692[iVar3]._fU60 = 0;
                    g_U2692[iVar3]._fU64 = 0;
                    g_U2692[iVar3]._fU48 = -60.00000000;
                    g_U2692[iVar3]._fU52 = -7.00000000;
                    g_U2791 = 0;
                    g_U2789 = 0;
                    g_U2785 = 1;
                    g_U2784 = 0;
                    g_U2783 = 0;
                    g_U2786 = 0;
                    g_U2790 = 0;
                }
            }
            else
            {
                SCRIPT_ASSERT( "GIVE_PED_A_PARACHUTE: All AI parachute ped slots are currently in use." );
            }
        }
    }
    return;
}

void sub_46329(unknown uParam0)
{
    g_U2785 = uParam0;
    return;
}

void sub_46354(unknown uParam0)
{
    g_U2786 = uParam0;
    return;
}

void sub_46379(unknown uParam0)
{
    g_U2783 = uParam0;
    return;
}

void sub_46488(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    float fVar10;
    float fVar11;
    float fVar12;

    if (IS_VEH_DRIVEABLE( (uParam0^) ))
    {
        GET_CAR_COORDINATES( (uParam0^), ref uVar7._fU0, ref uVar7._fU4, ref uVar7._fU8 );
        GET_CAR_HEADING( (uParam0^), ref uVar6 );
        l_U739 += uParam1;
        if (l_U739 >= 360.00000000)
        {
            l_U739 -= 360.00000000;
        }
        l_U740 += uParam2;
        if (l_U740 >= 360.00000000)
        {
            l_U740 -= 360.00000000;
        }
        l_U741 += uParam3;
        if (l_U741 >= 360.00000000)
        {
            l_U741 -= 360.00000000;
        }
        fVar10 = (SIN( l_U739 )) / 500.00000000;
        fVar11 = (SIN( l_U740 )) / 100.00000000;
        fVar12 = (SIN( l_U741 )) / 100.00000000;
        SET_CAR_HEADING( (uParam0^), uVar6 + fVar12 );
        SET_CAR_COORDINATES_NO_OFFSET( (uParam0^), uVar7._fU0, uVar7._fU4 + fVar11, uVar7._fU8 + fVar10 );
    }
    return;
}

void sub_46868(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    return sub_46895( uParam0, ref l_U539._fU0, uParam1, uParam2, uParam3, uParam4, uParam5 );
}

void sub_46895(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
    char[16] cVar9;
    char[12] cVar13;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;

    StrCopy( ref cVar9, uParam1, 16 );
    array(ref cVar13, 2);
    StrCopy( ref cVar13[0], uParam0, 16 );
    StrCopy( ref cVar13[1], "END", 16 );
    return sub_22769( ref cVar13, uParam4, uParam5, 0, 1, uParam3, uParam2, ref cVar9, uParam6 );
}

int sub_47006()
{
    if (((IS_CONTROL_JUST_PRESSED( 2, 98 )) AND (NOT IS_USING_CONTROLLER())) || (((IS_CONTROL_JUST_PRESSED( 2, 137 )) AND (NOT IS_USING_CONTROLLER())) || ((IS_CONTROL_JUST_PRESSED( 2, 77 )) || (IS_CONTROL_JUST_PRESSED( 0, 77 )))))
    {
        return 1;
        break;
    }
    return 0;
}

void sub_48794()
{
    int iVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    float fVar11;

    sub_46488( ref l_U1068, 0.50000000, 0.00000000, 0.00000000 );
    sub_44609();
    GET_GAME_TIMER( ref iVar2 );
    if ((NOT (IS_CHAR_INJURED( l_U1065 ))) AND (IS_VEH_DRIVEABLE( l_U1068 )))
    {
        if ((l_U1196 != 7) AND (NOT l_U1002))
        {
            if (NOT IS_HELP_MESSAGE_BEING_DISPLAYED())
            {
                PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "T4_DROPHELP", "NULL" );
            }
            if (IS_CHAR_PLAYING_ANIM( sub_2502(), "MISSTONY04", "Shake_1A" ))
            {
                if ((iVar2 - l_U1031) > 250)
                {
                    if (sub_48991( 0, 14 ))
                    {
                        CLEAR_PRINTS();
                        OPEN_SEQUENCE_TASK( ref uVar3 );
                        TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "slap_a", "MISSTONY04", 4.00000000, 0, 0, 0, 0, 0 );
                        TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "Shake_1A", "MISSTONY04", 4.00000000, 1, 0, 0, 0, 0 );
                        CLOSE_SEQUENCE_TASK( uVar3 );
                        TASK_PERFORM_SEQUENCE( sub_2502(), uVar3 );
                        CLEAR_SEQUENCE_TASK( uVar3 );
                        OPEN_SEQUENCE_TASK( ref uVar4 );
                        TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "slap_b", "MISSTONY04", 4.00000000, 0, 0, 0, 0, 0 );
                        TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "Shake_1B", "MISSTONY04", 4.00000000, 1, 0, 0, 0, 0 );
                        CLOSE_SEQUENCE_TASK( uVar4 );
                        TASK_PERFORM_SEQUENCE( l_U1065, uVar4 );
                        CLEAR_SEQUENCE_TASK( uVar4 );
                        l_U1024++;
                        l_U1000 = 0;
                        l_U1001 = 0;
                        l_U1002 = 1;
                        CANCEL_CURRENTLY_PLAYING_AMBIENT_SPEECH( l_U1065 );
                        sub_22626( 0 );
                        sub_22541( "E2T4B_HIT", 12, 6, "E2T4BAU", 1, 1 );
                        SETTIMERB( 0 );
                    }
                    else if (sub_48991( 0, 17 ))
                    {
                        CLEAR_PRINTS();
                        OPEN_SEQUENCE_TASK( ref uVar5 );
                        TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "punch_a", "MISSTONY04", 4.00000000, 0, 0, 0, 0, 0 );
                        TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "Shake_1A", "MISSTONY04", 4.00000000, 1, 0, 0, 0, 0 );
                        CLOSE_SEQUENCE_TASK( uVar5 );
                        TASK_PERFORM_SEQUENCE( sub_2502(), uVar5 );
                        CLEAR_SEQUENCE_TASK( uVar5 );
                        OPEN_SEQUENCE_TASK( ref uVar6 );
                        TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "punch_b", "MISSTONY04", 4.00000000, 0, 0, 0, 0, 0 );
                        TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "Shake_1B", "MISSTONY04", 4.00000000, 1, 0, 0, 0, 0 );
                        CLOSE_SEQUENCE_TASK( uVar6 );
                        TASK_PERFORM_SEQUENCE( l_U1065, uVar6 );
                        CLEAR_SEQUENCE_TASK( uVar6 );
                        l_U1000 = 0;
                        l_U1001 = 0;
                        l_U1024++;
                        l_U1002 = 1;
                        CANCEL_CURRENTLY_PLAYING_AMBIENT_SPEECH( l_U1065 );
                        sub_22626( 0 );
                        sub_22541( "E2T4B_HIT", 12, 6, "E2T4BAU", 1, 1 );
                        SETTIMERB( 0 );
                    }
                    else if (sub_48991( 0, 15 ))
                    {
                        TASK_PLAY_ANIM_NON_INTERRUPTABLE( sub_2502(), "Throw_Out_A", "MISSTONY04", 1000.00000000, 1, 0, 0, 0, 0 );
                        TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U1065, "Throw_Out_B", "MISSTONY04", 1000.00000000, 1, 0, 0, 0, 0 );
                        WAIT( 0 );
                        WAIT( 0 );
                        sub_42986( 7 );
                        l_U1002 = 0;
                    }
                    else if ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (NOT sub_22443()))
                    {
                        if (iVar2 > l_U1029)
                        {
                            sub_22541( "E2T4B_ENC", 13, 6, "E2T4BAU", 1, 0 );
                            GENERATE_RANDOM_INT_IN_RANGE( iVar2 + 6000, iVar2 + 12000, ref l_U1029 );
                        }
                        if (iVar2 > l_U1030)
                        {
                            sub_22541( "E2T4B_SCARE", 11, 6, "E2T4BAU", 1, 0 );
                            GENERATE_RANDOM_INT_IN_RANGE( iVar2 + 6000, iVar2 + 12000, ref l_U1030 );
                        }
                        if (iVar2 > l_U1032)
                        {
                            SAY_AMBIENT_SPEECH_WITH_VOICE( l_U1065, "PANIC_SHORT", "PAIN_VOICE", 1, 1, 2 );
                            GENERATE_RANDOM_INT_IN_RANGE( iVar2 + 7000, iVar2 + 12000, ref l_U1032 );
                        }
                    };;;;
                }
            }
        }
        else if (l_U1196 == 7)
        {
            if (IS_CHAR_PLAYING_ANIM( sub_2502(), "MISSTONY04", "Throw_Out_A" ))
            {
                CLEAR_HELP();
                CLEAR_PRINTS();
                sub_22626( 0 );
                sub_22541( "E2T4B_DROP", 14, 6, "E2T4BAU", 0, 1 );
                SETTIMERB( 0 );
                sub_50724();
                l_U1192 = 4;
            }
        }
        else if (IS_CHAR_PLAYING_ANIM( sub_2502(), "MISSTONY04", "slap_a" ))
        {
            if (NOT l_U1000)
            {
                if (TIMERB() > 600)
                {
                    if (WAS_PED_SKELETON_UPDATED( l_U1065 ))
                    {
                        GET_PED_BONE_POSITION( l_U1065, 1205, 0.00000000, 0.00000000, 0.00000000, ref uVar8 );
                    }
                    DAMAGE_PED_BODY_PART( l_U1065, 0, 10 );
                    TRIGGER_PTFX( "blood_shotgun_exit", uVar8, 0.00000000, 0.00000000, 0.00000000, 0.10000000 );
                    l_U1000 = 1;
                }
            }
            if (NOT l_U1001)
            {
                GET_CHAR_ANIM_CURRENT_TIME( sub_2502(), "MISSTONY04", "slap_a", ref fVar11 );
                if (fVar11 >= 0.26800000)
                {
                    PLAY_SOUND_FROM_PED( -1, "GT04_BLOG_THIS_OUCH", l_U1065 );
                    l_U1001 = 1;
                }
            }
            if (TIMERB() > 1500)
            {
                if (l_U1024 < 10)
                {
                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( sub_2502(), "Shake_1A", "MISSTONY04", 4.00000000, 1, 0, 0, 0, 0 );
                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U1065, "Shake_1B", "MISSTONY04", 4.00000000, 1, 0, 0, 0, 0 );
                    l_U1002 = 0;
                    l_U1031 = iVar2;
                }
                else if (NOT (sub_51369( l_U1182 )))
                {
                    REQUEST_ALL_SLODS_IN_WORLD();
                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( sub_2502(), "Throw_Out_A", "MISSTONY04", 1000.00000000, 1, 0, 0, 0, 0 );
                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U1065, "Throw_Out_B", "MISSTONY04", 1000.00000000, 1, 0, 0, 0, 0 );
                    WAIT( 0 );
                    WAIT( 0 );
                    sub_42986( 7 );
                    l_U1002 = 0;
                }
            }
        }
        else if (IS_CHAR_PLAYING_ANIM( sub_2502(), "MISSTONY04", "punch_a" ))
        {
            if (NOT l_U1000)
            {
                if (TIMERB() > 600)
                {
                    if (WAS_PED_SKELETON_UPDATED( l_U1065 ))
                    {
                        GET_PED_BONE_POSITION( l_U1065, 1205, 0.00000000, 0.00000000, 0.00000000, ref uVar8 );
                    }
                    DAMAGE_PED_BODY_PART( l_U1065, 0, 10 );
                    TRIGGER_PTFX( "blood_shotgun_exit", uVar8, 0.00000000, 0.00000000, 0.00000000, 0.40000000 );
                    l_U1000 = 1;
                }
            }
            if (NOT l_U1001)
            {
                GET_CHAR_ANIM_CURRENT_TIME( sub_2502(), "MISSTONY04", "punch_a", ref fVar11 );
                if (fVar11 >= 0.25800000)
                {
                    PLAY_SOUND_FROM_PED( -1, "GT04_BLOG_THIS_OUCH", l_U1065 );
                    l_U1001 = 1;
                }
            }
            if (TIMERB() > 1250)
            {
                if (l_U1024 < 10)
                {
                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( sub_2502(), "Shake_1A", "MISSTONY04", 4.00000000, 1, 0, 0, 0, 0 );
                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U1065, "Shake_1B", "MISSTONY04", 4.00000000, 1, 0, 0, 0, 0 );
                    l_U1002 = 0;
                    l_U1031 = iVar2;
                }
                else if (NOT (sub_51369( l_U1182 )))
                {
                    REQUEST_ALL_SLODS_IN_WORLD();
                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( sub_2502(), "Throw_Out_A", "MISSTONY04", 1000.00000000, 1, 0, 0, 0, 0 );
                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U1065, "Throw_Out_B", "MISSTONY04", 1000.00000000, 1, 0, 0, 0, 0 );
                    WAIT( 0 );
                    WAIT( 0 );
                    sub_42986( 7 );
                    l_U1002 = 0;
                }
            }
        }
        else if (l_U1024 >= 10)
        {
            if (NOT (sub_51369( l_U1182 )))
            {
                REQUEST_ALL_SLODS_IN_WORLD();
                TASK_PLAY_ANIM_NON_INTERRUPTABLE( sub_2502(), "Throw_Out_A", "MISSTONY04", 1000.00000000, 1, 0, 0, 0, 0 );
                TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U1065, "Throw_Out_B", "MISSTONY04", 1000.00000000, 1, 0, 0, 0, 0 );
                WAIT( 0 );
                WAIT( 0 );
                sub_42986( 7 );
                l_U1002 = 0;
            }
        };;;;;
    }
    return;
}

int sub_48991(unknown uParam0, int iParam1)
{
    int iVar4;

    if (IS_USING_CONTROLLER())
    {
        PRINTSTRING( "Using controller." );
        return IS_BUTTON_JUST_PRESSED( uParam0, iParam1 );
    }
    else
    {
        iVar4 = 185;
        if (iParam1 == 15)
        {
            iVar4 = l_U864;
        }
        else if (iParam1 == 16)
        {
            iVar4 = l_U863;
        }
        else if (iParam1 == 14)
        {
            iVar4 = l_U861;
        }
        else if (iParam1 == 17)
        {
            iVar4 = l_U862;
        }
        else if (iParam1 == 4)
        {
            iVar4 = l_U865;
        }
        else if (iParam1 == 5)
        {
            iVar4 = l_U866;
        }
        else if (iParam1 == 6)
        {
            iVar4 = l_U867;
        }
        else if (iParam1 == 7)
        {
            iVar4 = l_U868;
        }
        else if (iParam1 == 18)
        {
            iVar4 = l_U869;
        }
        else if (iParam1 == 19)
        {
            iVar4 = l_U870;
        };;;;;;;;;;
        if (iVar4 == 185)
        {
            PRINTSTRING( "MAX_INPUTS." );
            SCRIPT_ASSERT( "Unexpected value (F_IS_INPUT_JUST_PRESSED)." );
            return 0;
        }
        else
        {
            PRINTSTRING( "F_IS_INPUT_JUST_PRESSED processing INT version of:" );
            PRINTINT( iVar4 );
            return IS_CONTROL_JUST_PRESSED( 2, iVar4 );
        }
    }
    PRINTSTRING( "F_IS_INPUT_JUST_PRESSED --> Default case, returning false." );
    return 0;
}

void sub_50724()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    float fVar8;
    unknown uVar9;
    unknown uVar10;

    GENERATE_RANDOM_FLOAT_IN_RANGE( 0.00000000, 1.00000000, ref fVar8 );
    if (fVar8 < 0.50000000)
    {
        GENERATE_RANDOM_FLOAT_IN_RANGE( -5.00000000, -9.00000000, ref uVar10 );
    }
    else
    {
        GENERATE_RANDOM_FLOAT_IN_RANGE( 5.00000000, 9.00000000, ref uVar10 );
    }
    GENERATE_RANDOM_FLOAT_IN_RANGE( 16.00000000, 18.00000000, ref uVar9 );
    GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( sub_2502(), -uVar9, uVar10, 0.00000000, ref uVar5._fU0, ref uVar5._fU4, ref uVar5._fU8 );
    GET_CHAR_COORDINATES( sub_2502(), ref uVar2._fU0, ref uVar2._fU4, ref uVar2._fU8 );
    l_U949._fU0 = uVar5._fU0 - uVar2._fU0;
    l_U949._fU4 = uVar5._fU4 - uVar2._fU4;
    return;
}

int sub_51369(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    if ((g_U8867 == 2) || ((g_U8867 == 1) || (IS_SCRIPTED_CONVERSATION_ONGOING())))
    {
        if (uParam0._fU4 == g_U8866)
        {
            return 1;
        }
        else
        {
            sub_22868( "\n speech is playing, but not from this structure" );
        }
    }
    else
    {
        sub_22868( "\n speech is not playing" );
    }
    return 0;
}

void sub_52435()
{
    float fVar2;
    int iVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    float fVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    int iVar24;

    if (NOT l_U968)
    {
        sub_46488( ref l_U1068, 1056964608, 1045220557, 1036831949 );
    }
    sub_44609();
    GET_GAME_TIMER( ref iVar3 );
    if (NOT (IS_CHAR_INJURED( l_U1065 )))
    {
        SET_PED_MOTION_BLUR( l_U1065, 0 );
        GET_CHAR_COORDINATES( l_U1065, ref uVar10._fU0, ref uVar10._fU4, ref uVar10._fU8 );
        GET_CHAR_COORDINATES( sub_2502(), ref uVar7._fU0, ref uVar7._fU4, ref uVar7._fU8 );
        GET_CHAR_VELOCITY( l_U1065, ref uVar16._fU0, ref uVar16._fU4, ref uVar16._fU8 );
        GET_CHAR_HEADING( sub_2502(), ref uVar19 );
        GET_CHAR_HEIGHT_ABOVE_GROUND( l_U1065, ref fVar20 );
        if (NOT l_U971)
        {
            if (IS_CHAR_PLAYING_ANIM( l_U1065, "MISSTONY04", "Throw_Out_B" ))
            {
                GET_CHAR_ANIM_CURRENT_TIME( l_U1065, "MISSTONY04", "Throw_Out_B", ref fVar2 );
                if (fVar2 > 0.95000000)
                {
                    DETACH_PED( l_U1065, 1 );
                    SWITCH_PED_TO_RAGDOLL( l_U1065, 30000, 0, 1, 1, 1, 0 );
                    CREATE_NM_MESSAGE( 1, 246 );
                    SEND_NM_MESSAGE( l_U1065 );
                    l_U971 = 1;
                }
            }
        }
        if (NOT l_U968)
        {
            if (IS_CHAR_PLAYING_ANIM( sub_2502(), "MISSTONY04", "Throw_Out_A" ))
            {
                GET_CHAR_ANIM_CURRENT_TIME( sub_2502(), "MISSTONY04", "Throw_Out_A", ref fVar2 );
                GET_CHAR_HEADING( sub_2502(), ref l_U1048 );
                l_U1048 += 90.00000000;
                if (l_U1048 > 180.00000000)
                {
                    l_U1048 = -180.00000000 + (l_U1048 - 180.00000000);
                }
                if (fVar2 > 0.90000000)
                {
                    OPEN_SEQUENCE_TASK( ref l_U1079 );
                    TASK_PLAY_ANIM_WITH_FLAGS( 0, "Dive_Out", "MISSTONY04", 8.00000000, 0, 64 );
                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "Free_Fall", "PARACHUTE", 1000.00000000, 1, 1, 1, 0, 0 );
                    CLOSE_SEQUENCE_TASK( l_U1079 );
                    TASK_PERFORM_SEQUENCE( sub_2502(), l_U1079 );
                    CLEAR_SEQUENCE_TASK( l_U1079 );
                    l_U968 = 1;
                    sub_22541( "E2T4B_GO", 15, 6, "E2T4BAU", 0, 1 );
                }
            }
        }
        else if ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (NOT sub_22443()))
        {
            if (NOT l_U1137[15])
            {
                ;
            }
        }
        if (NOT l_U972)
        {
            if (IS_CHAR_PLAYING_ANIM( sub_2502(), "MISSTONY04", "Dive_Out" ))
            {
                GET_CHAR_ANIM_CURRENT_TIME( sub_2502(), "MISSTONY04", "Dive_Out", ref fVar2 );
                if (fVar2 > 0.75000000)
                {
                    l_U994 = 1;
                }
            }
            if (NOT l_U999)
            {
                if (IS_CHAR_PLAYING_ANIM( sub_2502(), "PARACHUTE", "Free_Fall" ))
                {
                    DETACH_PED( sub_2502(), 1 );
                    SET_CHAR_VELOCITY( sub_2502(), 2.00000000 * (-SIN( l_U1048 )), 2.00000000 * (COS( l_U1048 )), -2.50000000 );
                    sub_42986( 8 );
                    WAIT( 0 );
                    SET_CHAR_HEADING( sub_2502(), l_U1048 );
                    SET_CHAR_VELOCITY( sub_2502(), 2.00000000 * (-SIN( l_U1048 )), 2.00000000 * (COS( l_U1048 )), -2.50000000 );
                    sub_53499( sub_2502() );
                    SETTIMERA( 0 );
                    l_U999 = 1;
                }
            }
            else
            {
                sub_53734( uVar7, g_U2692[0]._fU24, uVar10, uVar16, uVar19 );
                if (TIMERA() > 1300)
                {
                    if (NOT (IS_CHAR_INJURED( l_U1065 )))
                    {
                        GET_CHAR_COORDINATES( l_U1065, ref uVar21._fU0, ref uVar21._fU4, ref uVar21._fU8 );
                        SET_CHAR_COORDINATES( l_U1065, uVar21._fU0, uVar21._fU4, uVar21._fU8 - 14.00000000 );
                    }
                    ACTIVATE_SCRIPTED_CAMS( 0, 0 );
                    SET_CAM_BEHIND_PED( sub_2502() );
                    SET_GAME_CAM_PITCH( 45.00000000 );
                    SET_USE_HIGHDOF( 0 );
                    SET_PLAYER_CONTROL( sub_5022(), 1 );
                    ADD_BLIP_FOR_CHAR( l_U1065, ref l_U1075 );
                    SHOW_BLIP_ON_ALTIMETER( l_U1075, 1 );
                    sub_22065( l_U1075 );
                    PRINT_NOW( "T4_CATCH", 5000, 0 );
                    GET_GAME_TIMER( ref l_U1025 );
                    sub_54781( 0 );
                    l_U972 = 1;
                }
            }
        }
        else
        {
            sub_54956( 0 );
        }
        if (NOT (IS_CHAR_INJURED( l_U1065 )))
        {
            if (l_U971)
            {
                if ((iVar3 - l_U1011) > l_U1012)
                {
                    PANIC_SCREAM( l_U1065 );
                    GET_GAME_TIMER( ref l_U1011 );
                    GENERATE_RANDOM_INT_IN_RANGE( 4000, 8000, ref l_U1012 );
                }
                if (NOT l_U982)
                {
                    if ((TIMERB() > 8500) AND (NOT IS_HELP_MESSAGE_BEING_DISPLAYED()))
                    {
                        PRINT_HELP_FOREVER( "T4_DIVE_HELP" );
                        l_U982 = 1;
                        if (DOES_CAM_EXIST( l_U1080 ))
                        {
                            DESTROY_CAM( l_U1080 );
                        }
                    }
                }
                else if (sub_20582( sub_2502() ))
                {
                    if ((IS_HELP_MESSAGE_BEING_DISPLAYED()) AND ((sub_54257( sub_2502() )) != 3))
                    {
                        CLEAR_HELP();
                    }
                }
                else
                {
                    CLEAR_HELP();
                }
                if (TIMERB() > 5250)
                {
                    if ((uVar10._fU8 < 0.00000000) || (IS_CHAR_IN_WATER( l_U1065 )))
                    {
                        SET_CHAR_HEALTH( l_U1065, 0 );
                    }
                    else if ((uVar16._fU8 > -1.00000000) AND (fVar20 < 500.00000000))
                    {
                        SET_CHAR_HEALTH( l_U1065, 0 );
                    }
                    if (sub_20582( sub_2502() ))
                    {
                        iVar24 = sub_54257( sub_2502() );
                        if ((NOT (IS_CHAR_PLAYING_ANIM( sub_2502(), "PARACHUTE", "Open_Chute" ))) AND (iVar24 != 5))
                        {
                            sub_53734( uVar7, g_U2692[0]._fU24, uVar10, uVar16, uVar19 );
                            if ((l_U968) AND (l_U972))
                            {
                                if ((iVar24 == 3) AND ((sub_22309( uVar7, uVar10, 0, 1 )) < 3.00000000))
                                {
                                    l_U969 = 1;
                                }
                                if (l_U969)
                                {
                                    sub_5061();
                                    CLEAR_HELP();
                                    CLEAR_PRINTS();
                                    l_U1044 = g_U2692[0]._fU36._fU8;
                                    UNLOCK_RAGDOLL( l_U1065, 0 );
                                    CLEAR_CHAR_TASKS_IMMEDIATELY( l_U1065 );
                                    TASK_PLAY_ANIM_WITH_FLAGS( l_U1065, "Air_Grab_B", "MISSTONY04", 1000.00000000, 0, 32 );
                                    CLEAR_CHAR_TASKS_IMMEDIATELY( sub_2502() );
                                    TASK_PLAY_ANIM_WITH_FLAGS( sub_2502(), "Air_Grab_A", "MISSTONY04", 1000.00000000, 0, 32 );
                                    SET_PLAYER_CONTROL( sub_5022(), 0 );
                                    GET_CHAR_VELOCITY( sub_2502(), ref l_U964._fU0, ref l_U964._fU4, ref l_U964._fU8 );
                                    if ((iVar3 - l_U1025) < 8000)
                                    {
                                        l_U993 = 1;
                                    }
                                    sub_20858( sub_2502(), 1 );
                                    l_U1192 = 5;
                                }
                            }
                        }
                    }
                }
            }
        }
    }
    return;
}

void sub_53499(unknown uParam0)
{
    int iVar3;

    iVar3 = sub_20657( uParam0 );
    if (iVar3 >= 0)
    {
        g_U2692[iVar3]._fU4 = 2;
    }
    else
    {
        SCRIPT_ASSERT( "FORCE_ENTER_FREE_FALL: Ped must have parachute equipped, and all resources must have finished loading before using this function." );
    }
    return;
}

void sub_53734(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12)
{
    float fVar15;
    float fVar16;
    float fVar17;
    float fVar18;
    unknown uVar19;
    int iVar20;
    unknown uVar21;
    unknown uVar22;

    if ((uParam9._fU8 > -1.00000000) AND (uParam6._fU8 < 500.00000000))
    {
        if (NOT (IS_CHAR_INJURED( l_U1065 )))
        {
            SET_CHAR_HEALTH( l_U1065, 0 );
        }
    }
    fVar15 = 1.25000000 - (uParam3._fU8 / -80.00000000);
    if (fVar15 < 0.75000000)
    {
        fVar15 = 0.75000000;
    }
    fVar16 = -ATAN2( l_U952._fU0, l_U952._fU4 );
    if (fVar16 < 0.00000000)
    {
        fVar16 += 360.00000000;
    }
    l_U952._fU0 = uParam6._fU0 - uParam0._fU0;
    l_U952._fU4 = uParam6._fU4 - uParam0._fU4;
    if (NOT (((ABSF( fVar16 - uParam12 )) < 30.00000000) AND ((ABSF( l_U949._fU0 )) < 0.40000000)))
    {
        l_U949._fU0 -= uParam3._fU0 / 105.00000000;
    }
    if (NOT (((ABSF( fVar16 - uParam12 )) < 30.00000000) AND ((ABSF( l_U949._fU4 )) < 0.40000000)))
    {
        l_U949._fU4 -= uParam3._fU4 / 105.00000000;
    }
    fVar17 = l_U949._fU0 - l_U952._fU0;
    fVar18 = l_U949._fU4 - l_U952._fU4;
    uParam9._fU0 = uParam3._fU0 + fVar17;
    uParam9._fU4 = uParam3._fU4 + fVar18;
    GET_POSITION_OF_ANALOGUE_STICKS( 0, ref uVar19, ref iVar20, ref uVar21, ref uVar22 );
    if (NOT IS_USING_CONTROLLER())
    {
        GET_KEYBOARD_MOVE_INPUT( ref uVar19, ref iVar20 );
    }
    if (iVar20 < 0)
    {
        sub_44692( ref l_U1045, (ABSF( ((TO_FLOAT( iVar20 )) / 128.00000000) * (-60.00000000 - -80.00000000) )) / 2.90000000, 0.40000000 );
    }
    if (sub_20582( sub_2502() ))
    {
        if ((NOT (IS_CHAR_IN_WATER( sub_2502() ))) AND ((NOT (IS_CHAR_PLAYING_ANIM( sub_2502(), "PARACHUTE", "Open_Chute" ))) AND (((sub_54257( sub_2502() )) != 7) AND ((sub_54257( sub_2502() )) != 5))))
        {
            if (uParam3._fU8 < -20.00000000)
            {
                uParam9._fU8 = uParam3._fU8 + l_U1045;
            }
            else
            {
                uParam9._fU8 = uParam3._fU8 - 1.00000000;
            }
            if (NOT (IS_CHAR_INJURED( l_U1065 )))
            {
                SET_CHAR_VELOCITY( l_U1065, uParam9._fU0, uParam9._fU4, uParam9._fU8 );
            }
        }
    }
    return;
}

int sub_54257(unknown uParam0)
{
    int iVar3;

    iVar3 = sub_20657( uParam0 );
    if (iVar3 >= 0)
    {
        return g_U2692[iVar3]._fU4;
        break;
    }
    SCRIPT_ASSERT( "GET_PARACHUTE_PED_STATE: Ped does not have a parachute equipped." );
    return 0;
}

void sub_54781(unknown uParam0)
{
    sub_54792( uParam0 );
    if (g_U43137 == 4)
    {
        sub_54860();
    }
    if (g_U43137 == 10)
    {
        sub_54860();
    }
    if (g_U43137 == 7)
    {
        sub_54860();
    }
    return;
}

void sub_54792(unknown uParam0)
{
    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_HEALTH( uParam0, ref g_U43510 );
    }
    g_U43499 = 1;
    return;
}

void sub_54860()
{
    GET_GAME_TIMER( ref g_U43504 );
    g_U43497 = 1;
    return;
}

void sub_54956(unknown uParam0)
{
    if ((sub_54967( uParam0 )) > g_U43138[g_U43137]._fU12)
    {
        g_U43564 = 0;
    }
    else
    {
        g_U43564 = 1;
    }
    if (g_U43602 == 1)
    {
        g_U43613 = sub_55406();
        g_U43602 = 0;
    }
    if (g_U43133 == 1)
    {
        if (g_U43624 == 0)
        {
            if ((sub_54967( uParam0 )) < g_U43613)
            {
                g_U43577 = 1;
            }
            else
            {
                g_U43577 = 0;
            }
        }
        else
        {
            g_U43577 = 0;
        }
    }
    else
    {
        g_U43577 = 0;
    }
    if (g_U43137 == 4)
    {
        if ((FLOOR( (TO_FLOAT( sub_56004() )) / 1000 )) <= (FLOOR( (TO_FLOAT( g_U43138[g_U43137]._fU44 )) / 1000 )))
        {
            g_U43570 = 1;
        }
        else
        {
            g_U43570 = 0;
        }
        if (g_U43601 == 1)
        {
            g_U43615 = sub_56228();
            g_U43601 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if ((FLOOR( (TO_FLOAT( sub_56004() )) / 1000 )) < (FLOOR( (TO_FLOAT( g_U43615 )) / 1000 )))
                {
                    g_U43576 = 1;
                }
                else
                {
                    g_U43576 = 0;
                }
            }
            else
            {
                g_U43576 = 0;
            }
        }
        else
        {
            g_U43576 = 0;
        }
    }
    if (g_U43137 == 10)
    {
        if ((FLOOR( (TO_FLOAT( sub_56004() )) / 1000 )) <= (FLOOR( (TO_FLOAT( g_U43138[g_U43137]._fU44 )) / 1000 )))
        {
            g_U43570 = 1;
        }
        else
        {
            g_U43570 = 0;
        }
        if (g_U43601 == 1)
        {
            g_U43615 = sub_56228();
            g_U43601 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if ((FLOOR( (TO_FLOAT( sub_56004() )) / 1000 )) < (FLOOR( (TO_FLOAT( g_U43615 )) / 1000 )))
                {
                    g_U43576 = 1;
                }
                else
                {
                    g_U43576 = 0;
                }
            }
            else
            {
                g_U43576 = 0;
            }
        }
        else
        {
            g_U43576 = 0;
        }
    }
    if (g_U43137 == 7)
    {
        if ((FLOOR( (TO_FLOAT( sub_56004() )) / 1000 )) <= (FLOOR( (TO_FLOAT( g_U43138[g_U43137]._fU44 )) / 1000 )))
        {
            g_U43570 = 1;
        }
        else
        {
            g_U43570 = 0;
        }
        if (g_U43601 == 1)
        {
            g_U43615 = sub_56228();
            g_U43601 = 0;
        }
        if (g_U43133 == 1)
        {
            if (g_U43624 == 0)
            {
                if ((FLOOR( (TO_FLOAT( sub_56004() )) / 1000 )) < (FLOOR( (TO_FLOAT( g_U43615 )) / 1000 )))
                {
                    g_U43576 = 1;
                }
                else
                {
                    g_U43576 = 0;
                }
            }
            else
            {
                g_U43576 = 0;
            }
        }
        else
        {
            g_U43576 = 0;
        }
    }
    if ((sub_57335( uParam0 )) >= g_U43138[g_U43137]._fU24)
    {
        g_U43565 = 1;
    }
    else
    {
        g_U43565 = 0;
    }
    if (g_U43606 == 1)
    {
        g_U43618 = sub_57533();
        g_U43606 = 0;
    }
    if (g_U43133 == 1)
    {
        if (g_U43624 == 0)
        {
            if ((sub_57335( uParam0 )) > g_U43618)
            {
                g_U43581 = 1;
            }
            else
            {
                g_U43581 = 0;
            }
        }
        else
        {
            g_U43581 = 0;
        }
    }
    else
    {
        g_U43581 = 0;
    }
    return;
}

void sub_54967(unknown uParam0)
{
    if (g_U43499 == 1)
    {
        if (IS_VEH_DRIVEABLE( uParam0 ))
        {
            GET_CAR_HEALTH( uParam0, ref g_U43511 );
        }
        g_U43512 = g_U43510 - g_U43511;
        g_U43559 = ((TO_FLOAT( g_U43512 )) / (TO_FLOAT( g_U43510 ))) * 100;
    }
    g_U43559 = sub_55084( uParam0 );
    g_U43559 = TO_FLOAT( FLOOR( g_U43559 ) );
    if (g_U43559 < 0)
    {
        g_U43559 = 0;
    }
    return g_U43559;
}

float sub_55084(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    float Result;
    unknown uVar7;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_HEALTH( uParam0, ref uVar7 );
        uVar3 = sub_55130( 100, TO_FLOAT( uVar7 ) );
        uVar4 = GET_PETROL_TANK_HEALTH( uParam0 );
        uVar5 = GET_ENGINE_HEALTH( uParam0 );
        Result = sub_55194( uVar3, sub_55194( uVar4, uVar5 ) );
        Result /= 10.00000000;
        Result = 100 - Result;
        return Result;
    }
    return 100.00000000;
}

void sub_55130(float Result, float fParam1)
{
    if (fParam1 < Result)
    {
        return Result;
    }
    return fParam1;
}

void sub_55194(float Result, float fParam1)
{
    if (Result < fParam1)
    {
        return Result;
    }
    return fParam1;
}

int sub_55406()
{
    if (g_U43137 == 0)
    {
        return GET_INT_STAT( 476 );
    }
    if (g_U43137 == 1)
    {
        ;
    }
    if (g_U43137 == 2)
    {
        ;
    }
    if (g_U43137 == 3)
    {
        return GET_INT_STAT( 490 );
    }
    if (g_U43137 == 21)
    {
        ;
    }
    if (g_U43137 == 15)
    {
        ;
    }
    if (g_U43137 == 16)
    {
        ;
    }
    if (g_U43137 == 17)
    {
        return GET_INT_STAT( 559 );
    }
    if (g_U43137 == 12)
    {
        return GET_INT_STAT( 526 );
    }
    if (g_U43137 == 13)
    {
        ;
    }
    if (g_U43137 == 19)
    {
        ;
    }
    if (g_U43137 == 20)
    {
        ;
    }
    if (g_U43137 == 5)
    {
        ;
    }
    if (g_U43137 == 4)
    {
        ;
    }
    if (g_U43137 == 6)
    {
        ;
    }
    if (g_U43137 == 7)
    {
        ;
    }
    if (g_U43137 == 8)
    {
        return GET_INT_STAT( 513 );
    }
    if (g_U43137 == 9)
    {
        return GET_INT_STAT( 611 );
    }
    if (g_U43137 == 14)
    {
        return GET_INT_STAT( 540 );
    }
    if (g_U43137 == 22)
    {
        ;
    }
    if (g_U43137 == 23)
    {
        ;
    }
    if (g_U43137 == 24)
    {
        ;
    }
    if (g_U43137 == 18)
    {
        ;
    }
    if (g_U43137 == 10)
    {
        ;
    }
    if (g_U43137 == 25)
    {
        ;
    }
    if (g_U43137 == 11)
    {
        ;
    }
    return 0;
}

void sub_56004()
{
    if (g_U43497 == 1)
    {
        GET_GAME_TIMER( ref g_U43505 );
        g_U43506 = g_U43505 - g_U43504;
    }
    if (g_U43506 > 18000000)
    {
        g_U43506 = 18000000;
    }
    if (g_U43506 < 0)
    {
        g_U43506 = 0;
    }
    return g_U43506;
}

int sub_56228()
{
    if (g_U43137 == 0)
    {
        ;
    }
    if (g_U43137 == 1)
    {
        ;
    }
    if (g_U43137 == 2)
    {
        ;
    }
    if (g_U43137 == 3)
    {
        ;
    }
    if (g_U43137 == 21)
    {
        ;
    }
    if (g_U43137 == 15)
    {
        ;
    }
    if (g_U43137 == 16)
    {
        ;
    }
    if (g_U43137 == 17)
    {
        ;
    }
    if (g_U43137 == 12)
    {
        ;
    }
    if (g_U43137 == 13)
    {
        ;
    }
    if (g_U43137 == 19)
    {
        ;
    }
    if (g_U43137 == 20)
    {
        ;
    }
    if (g_U43137 == 5)
    {
        ;
    }
    if (g_U43137 == 4)
    {
        return GET_INT_STAT( 499 );
    }
    if (g_U43137 == 6)
    {
        ;
    }
    if (g_U43137 == 7)
    {
        return GET_INT_STAT( 508 );
    }
    if (g_U43137 == 8)
    {
        ;
    }
    if (g_U43137 == 9)
    {
        ;
    }
    if (g_U43137 == 14)
    {
        ;
    }
    if (g_U43137 == 22)
    {
        ;
    }
    if (g_U43137 == 23)
    {
        ;
    }
    if (g_U43137 == 24)
    {
        ;
    }
    if (g_U43137 == 18)
    {
        ;
    }
    if (g_U43137 == 10)
    {
        return GET_INT_STAT( 517 );
    }
    if (g_U43137 == 25)
    {
        ;
    }
    if (g_U43137 == 11)
    {
        ;
    }
    return 0;
}

void sub_57335(unknown uParam0)
{
    float fVar3;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_SPEED( uParam0, ref fVar3 );
        fVar3 = (fVar3 * 2.23693600) * 1.30000000;
        if (fVar3 > g_U43558)
        {
            g_U43558 = fVar3;
            g_U43558 = (g_U43558 * 2.23693600) * 1.30000000;
        }
    }
    if (g_U43558 < 0)
    {
        g_U43558 = 0;
    }
    return g_U43558;
}

int sub_57533()
{
    if (g_U43137 == 0)
    {
        ;
    }
    if (g_U43137 == 1)
    {
        ;
    }
    if (g_U43137 == 2)
    {
        ;
    }
    if (g_U43137 == 3)
    {
        ;
    }
    if (g_U43137 == 21)
    {
        ;
    }
    if (g_U43137 == 15)
    {
        ;
    }
    if (g_U43137 == 16)
    {
        ;
    }
    if (g_U43137 == 17)
    {
        ;
    }
    if (g_U43137 == 12)
    {
        return sub_57678( GET_INT_STAT( 530 ) );
    }
    if (g_U43137 == 13)
    {
        ;
    }
    if (g_U43137 == 19)
    {
        ;
    }
    if (g_U43137 == 20)
    {
        ;
    }
    if (g_U43137 == 5)
    {
        ;
    }
    if (g_U43137 == 4)
    {
        ;
    }
    if (g_U43137 == 6)
    {
        ;
    }
    if (g_U43137 == 7)
    {
        ;
    }
    if (g_U43137 == 8)
    {
        ;
    }
    if (g_U43137 == 9)
    {
        ;
    }
    if (g_U43137 == 14)
    {
        return sub_57678( GET_INT_STAT( 539 ) );
    }
    if (g_U43137 == 22)
    {
        ;
    }
    if (g_U43137 == 23)
    {
        ;
    }
    if (g_U43137 == 24)
    {
        ;
    }
    if (g_U43137 == 18)
    {
        ;
    }
    if (g_U43137 == 10)
    {
        ;
    }
    if (g_U43137 == 25)
    {
        ;
    }
    if (g_U43137 == 11)
    {
        ;
    }
    return 0;
}

int sub_57678(int iParam0)
{
    return iParam0 / 1670;
}

void sub_58870()
{
    float fVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;

    GET_CHAR_COORDINATES( sub_2502(), ref uVar4._fU0, ref uVar4._fU4, ref uVar4._fU8 );
    GET_CHAR_VELOCITY( sub_2502(), ref uVar10._fU0, ref uVar10._fU4, ref uVar10._fU8 );
    if (NOT (HAS_MODEL_LOADED( 1490460832 )))
    {
        REQUEST_MODEL( 1490460832 );
    }
    switch (l_U1194)
    {
        case 0:
        if (NOT (IS_CHAR_INJURED( l_U1065 )))
        {
            SET_CHAR_HEADING( sub_2502(), l_U1044 );
            fVar2 = l_U1044;
            if (fVar2 > 180.00000000)
            {
                fVar2 = -180.00000000 + (fVar2 - 180.00000000);
            }
            UNLOCK_RAGDOLL( l_U1065, 0 );
            SET_CHAR_HEADING( l_U1065, fVar2 );
            SET_CHAR_INVINCIBLE( l_U1065, 1 );
            GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( sub_2502(), 1.03700000, 1.87600000, -1.47900000, ref uVar7._fU0, ref uVar7._fU4, ref uVar7._fU8 );
            SET_CHAR_COORDINATES_NO_OFFSET( l_U1065, uVar7._fU0, uVar7._fU4, uVar7._fU8 );
            l_U964 = {l_U964 / 2.00000000};
            if (NOT (IS_CHAR_INJURED( l_U1065 )))
            {
                SET_CHAR_VELOCITY( l_U1065, l_U964._fU0, l_U964._fU4, l_U964._fU8 );
            }
            SET_CHAR_VELOCITY( sub_2502(), l_U964._fU0, l_U964._fU4, l_U964._fU8 );
            CREATE_CAM( 14, ref l_U1081 );
            GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( sub_2502(), 5.00000000, 7.00000000, -15.00000000, ref uVar16._fU0, ref uVar16._fU4, ref uVar16._fU8 );
            SET_CAM_POS( l_U1081, uVar16._fU0, uVar16._fU4, uVar16._fU8 );
            POINT_CAM_AT_PED( l_U1081, sub_2502() );
            SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U1081, 1 );
            SET_CAM_FOV( l_U1081, 45.00000000 );
            SET_USE_HIGHDOF( 1 );
            SET_CAM_FAR_DOF( l_U1081, 100.00000000 );
            sub_43327( l_U1081, 1 );
            PANIC_SCREAM( l_U1065 );
            SETTIMERB( 0 );
            l_U1194 = 1;
        }
        break;
        case 1:
        if (DOES_CAM_EXIST( l_U1081 ))
        {
            GET_CAM_POS( l_U1081, ref uVar19._fU0, ref uVar19._fU4, ref uVar19._fU8 );
            SET_CAM_POS( l_U1081, uVar19._fU0, uVar19._fU4, uVar19._fU8 - 0.20000000 );
            sub_45434( l_U1081, 0.00000000, 0.00000000, 0.00000000, -0.05000000, 0.05000000, 0.00500000, 0.01000000 );
        }
        if (NOT (IS_CHAR_INJURED( l_U1065 )))
        {
            if (HAS_CHAR_ANIM_FINISHED( sub_2502(), "MISSTONY04", "Air_Grab_A" ))
            {
                g_U2692[0]._fU24 = {l_U964};
                g_U2692[0]._fU36._fU8 = l_U1044;
                TASK_PLAY_ANIM_NON_INTERRUPTABLE( sub_2502(), "Free_Fall", "PARACHUTE", 1000.00000000, 1, 1, 1, 0, 0 );
                TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U1065, "pass_ff_idle", "MISSTONY04", 1000.00000000, 1, 1, 1, 0, 0 );
                TASK_CLEAR_LOOK_AT( l_U1065 );
                TASK_PLAY_ANIM_FACIAL( l_U1065, "Mood_Scared", "FACIALS@M_LO", 4.00000000, 1, 0, -1 );
                WAIT( 0 );
                if (DOES_CAM_EXIST( l_U1081 ))
                {
                    DESTROY_CAM( l_U1081 );
                    ACTIVATE_SCRIPTED_CAMS( 0, 0 );
                    SET_CAM_BEHIND_PED( sub_2502() );
                    SET_GAME_CAM_HEADING( 0.00000000 );
                    SET_GAME_CAM_PITCH( 0.00000000 );
                }
                SETTIMERB( 0 );
                PRINT_NOW( "T4_LAND", 5000, 0 );
                if (NOT (IS_CHAR_INJURED( l_U1065 )))
                {
                    UNLOCK_RAGDOLL( l_U1065, 1 );
                    SET_CHAR_COLLISION( l_U1065, 0 );
                }
                GET_GAME_TIMER( ref l_U1036 );
                g_U2692[0]._fU36._fU0 = 0.00000000;
                SET_USE_HIGHDOF( 0 );
                l_U1192 = 6;
            }
            if (NOT (IS_CHAR_INJURED( l_U1065 )))
            {
                if (WAS_PED_SKELETON_UPDATED( sub_2502() ))
                {
                    GET_PED_BONE_POSITION( sub_2502(), 1205, 0.00000000, 0.00000000, 0.00000000, ref uVar22 );
                }
                else
                {
                    GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( sub_2502(), 0.00000000, 0.00000000, -2.00000000, ref uVar22._fU0, ref uVar22._fU4, ref uVar22._fU8 );
                }
                if (WAS_PED_SKELETON_UPDATED( l_U1065 ))
                {
                    GET_PED_BONE_POSITION( l_U1065, 1205, 0.00000000, 0.00000000, 0.00000000, ref uVar25 );
                }
                else
                {
                    GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( l_U1065, 0.00000000, 0.00000000, -2.00000000, ref uVar25._fU0, ref uVar25._fU4, ref uVar25._fU8 );
                }
                if ((uVar22._fU8 < 0.50000000) AND (uVar25._fU8 < 0.50000000))
                {
                    CLEAR_CHAR_TASKS_IMMEDIATELY( sub_2502() );
                    SET_CHAR_VELOCITY( sub_2502(), 0.00000000, 0.00000000, 0.00000000 );
                    SET_CHAR_COORDINATES( sub_2502(), uVar22._fU0, uVar22._fU4, uVar22._fU8 - 2.00000000 );
                    CLEAR_CHAR_TASKS_IMMEDIATELY( l_U1065 );
                    SET_CHAR_VELOCITY( l_U1065, 0.00000000, 0.00000000, 0.00000000 );
                    SET_CHAR_COORDINATES( l_U1065, uVar25._fU0, uVar25._fU4, uVar25._fU8 - 2.00000000 );
                    if (DOES_CAM_EXIST( l_U1081 ))
                    {
                        DESTROY_CAM( l_U1081 );
                        ACTIVATE_SCRIPTED_CAMS( 0, 0 );
                        SET_CAM_BEHIND_PED( sub_2502() );
                        SET_GAME_CAM_HEADING( 0.00000000 );
                        SET_GAME_CAM_PITCH( 0.00000000 );
                    }
                    SETTIMERB( 0 );
                    if (NOT (IS_CHAR_INJURED( l_U1065 )))
                    {
                        UNLOCK_RAGDOLL( l_U1065, 1 );
                        SET_CHAR_COLLISION( l_U1065, 1 );
                        SWITCH_PED_TO_RAGDOLL( l_U1065, 30000, 0, 1, 1, 1, 0 );
                        CREATE_NM_MESSAGE( 1, 246 );
                        SEND_NM_MESSAGE( l_U1065 );
                        l_U969 = 0;
                    }
                    SET_PLAYER_CONTROL( sub_5022(), 1 );
                    SET_USE_HIGHDOF( 0 );
                    l_U1030 = 0;
                    l_U1032 = 0;
                    l_U1192 = 6;
                }
            }
            if (l_U1192 != 6)
            {
                SET_CHAR_VELOCITY( sub_2502(), l_U964._fU0, l_U964._fU4, l_U964._fU8 );
                SET_CHAR_VELOCITY( l_U1065, l_U964._fU0, l_U964._fU4, l_U964._fU8 );
            }
        }
        break;
    }
    return;
}

void sub_60713()
{
    int iVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    float fVar9;
    unknown uVar10;
    int iVar11;
    int iVar12;
    unknown uVar13;
    int iVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;

    sub_60723( 1 );
    GET_GAME_TIMER( ref iVar2 );
    if (NOT (IS_PLAYER_CONTROL_ON( sub_5022() )))
    {
        if (iVar2 > (l_U1036 + 500))
        {
            SET_PLAYER_CONTROL( sub_5022(), 1 );
        }
    }
    if (NOT g_U2797)
    {
        g_U2797 = 1;
    }
    if ((NOT sub_22443()) AND (IS_THIS_PRINT_BEING_DISPLAYED( "T4_LAND", 0, 0, 0, 0, -1, -1, -1, -1, -1, -1 )))
    {
        if (iVar2 > l_U1011)
        {
            PANIC_SCREAM( l_U1065 );
            GET_GAME_TIMER( ref l_U1011 );
            GENERATE_RANDOM_INT_IN_RANGE( iVar2 + 4000, iVar2 + 8000, ref l_U1011 );
        }
    }
    if (NOT (IS_CHAR_INJURED( l_U1065 )))
    {
        GET_CHAR_COORDINATES( sub_2502(), ref uVar6._fU0, ref uVar6._fU4, ref uVar6._fU8 );
        GET_GROUND_Z_FOR_3D_COORD( uVar6._fU0, uVar6._fU4, uVar6._fU8, ref uVar10 );
        GET_CHAR_HEIGHT_ABOVE_GROUND( sub_2502(), ref fVar9 );
        GET_CHAR_COORDINATES( l_U1065, ref uVar3._fU0, ref uVar3._fU4, ref uVar3._fU8 );
        if ((uVar3._fU8 < 0.50000000) || (IS_CHAR_IN_WATER( l_U1065 )))
        {
            if (NOT l_U989)
            {
                SET_CHAR_MAX_HEALTH( l_U1065, 400 );
                SET_CHAR_HEALTH( l_U1065, 400 );
                l_U989 = 1;
            }
            else
            {
                GET_CHAR_HEALTH( l_U1065, ref iVar11 );
                SET_CHAR_HEALTH( l_U1065, iVar11 - 1 );
            }
        }
        if (sub_20582( sub_2502() ))
        {
            if ((l_U969) AND (((sub_54257( sub_2502() )) == 8) || (sub_48991( 0, 15 ))))
            {
                l_U969 = 0;
                sub_22626( 0 );
                CLEAR_CHAR_TASKS_IMMEDIATELY( l_U1065 );
                UNLOCK_RAGDOLL( l_U1065, 1 );
                SWITCH_PED_TO_RAGDOLL( l_U1065, 30000, 0, 1, 1, 1, 0 );
                PANIC_SCREAM( l_U1065 );
                CREATE_NM_MESSAGE( 1, 246 );
                SEND_NM_MESSAGE( l_U1065 );
                SET_CHAR_COLLISION( l_U1065, 1 );
                SET_CHAR_VELOCITY( l_U1065, g_U2692[0]._fU24._fU0, g_U2692[0]._fU24._fU4, g_U2692[0]._fU24._fU8 );
                SET_CHAR_INVINCIBLE( l_U1065, 1 );
                l_U1049 = fVar9;
                GET_GAME_TIMER( ref l_U1021 );
            }
        }
        if ((l_U969) AND ((IS_CHAR_IN_WATER( sub_2502() )) || (sub_62866( sub_2502() ))))
        {
            if (NOT (IS_PLAYER_CONTROL_ON( sub_5022() )))
            {
                SET_PLAYER_CONTROL( sub_5022(), 1 );
            }
            SET_CHAR_HEADING( l_U1065, g_U2692[0]._fU36._fU8 );
            CLEAR_CHAR_TASKS_IMMEDIATELY( l_U1065 );
            UNLOCK_RAGDOLL( l_U1065, 1 );
            SWITCH_PED_TO_RAGDOLL( l_U1065, 30000, 40000, 1, 1, 1, 0 );
            CREATE_NM_MESSAGE( 1, 246 );
            SEND_NM_MESSAGE( l_U1065 );
            SET_CHAR_COLLISION( l_U1065, 1 );
            SET_CHAR_INVINCIBLE( l_U1065, 1 );
            SET_CHAR_VELOCITY( l_U1065, 0.00000000, 0.00000000, 0.00000000 );
            if (sub_62866( sub_2502() ))
            {
                PLAY_SOUND_FROM_PED( -1, "GT04_BLOG_THIS_LANDING", sub_2502() );
                HANDLE_AUDIO_ANIM_EVENT( sub_2502(), "RIGHT_FOOT_RUN" );
                l_U997 = 1;
                SETTIMERB( 0 );
            }
            if ((NOT (IS_CHAR_IN_WATER( l_U1065 ))) AND ((fVar9 < 1.20000000) AND (NOT (IS_CHAR_IN_WATER( sub_2502() )))))
            {
                sub_22541( "E2T4B_LND1", 30, 6, "E2T4BAU", 0, 1 );
            }
            GET_GAME_TIMER( ref l_U1021 );
            SWITCH_RANDOM_BOATS( 1 );
            l_U969 = 0;
        }
        if (l_U997)
        {
            if (TIMERB() > 200)
            {
                HANDLE_AUDIO_ANIM_EVENT( sub_2502(), "LEFT_FOOT_RUN" );
                l_U997 = 0;
            }
        }
        if (l_U969)
        {
            if (NOT sub_22443())
            {
                if (g_U2692[0]._fU4 == 5)
                {
                    if (l_U1030 == 0)
                    {
                        GENERATE_RANDOM_INT_IN_RANGE( iVar2 + 1500, iVar2 + 2500, ref l_U1030 );
                    }
                    else if (iVar2 > l_U1030)
                    {
                        GENERATE_RANDOM_INT_IN_RANGE( 0, 4, ref iVar12 );
                        GENERATE_RANDOM_INT_IN_RANGE( 0, 6, ref uVar13 );
                        iVar14 = 0;
                        while ((iVar14 < 50) AND (l_U1137[sub_63588( uVar13 )]))
                        {
                            GENERATE_RANDOM_INT_IN_RANGE( 0, 6, ref uVar13 );
                            iVar14++;
                        }
                        if (NOT l_U1137[23])
                        {
                            sub_22541( "E2T4B_TLK1", 23, 6, "E2T4BAU", 0, 0 );
                        }
                        else if (iVar12 == 3)
                        {
                            if (l_U1035 < 7)
                            {
                                sub_22541( "E2T4B_CRYS", 29, 6, "E2T4BAU", 1, 0 );
                            }
                        }
                        else
                        {
                            sub_22541( sub_63853( uVar13 ), sub_63588( uVar13 ), 6, "E2T4BAU", 0, 0 );
                        }
                        l_U1030 = 0;
                    }
                }
                else if (g_U2692[0]._fU4 == 3)
                {
                    if (l_U1032 == 0)
                    {
                        GENERATE_RANDOM_INT_IN_RANGE( iVar2 + 3500, iVar2 + 5500, ref l_U1032 );
                    }
                    else if (iVar2 > l_U1032)
                    {
                        PANIC_SCREAM( l_U1065 );
                        l_U1032 = 0;
                    }
                }
            }
        }
        else
        {
            GET_CHAR_VELOCITY( l_U1065, ref uVar15._fU0, ref uVar15._fU4, ref uVar15._fU8 );
            if (l_U1049 > 25.00000000)
            {
                if ((uVar3._fU8 < 0.00000000) || (IS_CHAR_IN_WATER( l_U1065 )))
                {
                    SET_CHAR_HEALTH( l_U1065, 0 );
                }
                else if ((uVar15._fU8 > -1.00000000) AND (fVar9 < 500.00000000))
                {
                    SET_CHAR_HEALTH( l_U1065, 0 );
                }
            }
        }
        if ((l_U1021 != 0) AND ((NOT (IS_PED_RAGDOLL( sub_2502() ))) AND ((NOT (IS_CHAR_IN_WATER( sub_2502() ))) AND (sub_64294( sub_2502() )))))
        {
            if (fVar9 < 1.20000000)
            {
                if ((NOT sub_22443()) AND ((iVar2 - l_U1021) > 1000))
                {
                    if ((NOT (IS_CHAR_IN_WATER( l_U1065 ))) AND (NOT (IS_CHAR_INJURED( l_U1065 ))))
                    {
                        GET_CHAR_HEIGHT_ABOVE_GROUND( l_U1065, ref fVar9 );
                        if (((fVar9 < 1.20000000) AND (uVar3._fU8 > 0.20000000)) || (fVar9 < 0.75000000))
                        {
                            SET_PLAYER_CONTROL( sub_5022(), 0 );
                            if (NOT (IS_PED_RAGDOLL( l_U1065 )))
                            {
                                CLEAR_CHAR_TASKS_IMMEDIATELY( l_U1065 );
                                SWITCH_PED_TO_RAGDOLL( l_U1065, 30000, 0, 1, 1, 1, 0 );
                                CREATE_NM_MESSAGE( 1, 246 );
                                SEND_NM_MESSAGE( l_U1065 );
                                SET_CHAR_COLLISION( l_U1065, 1 );
                                SET_CHAR_INVINCIBLE( l_U1065, 1 );
                                SET_CHAR_VELOCITY( l_U1065, 0.00000000, 0.00000000, 0.00000000 );
                            }
                            CLEAR_HELP();
                            CLEAR_PRINTS();
                            l_U1192 = 7;
                        }
                    }
                }
            }
        }
        if (IS_WANTED_LEVEL_GREATER( sub_5022(), 0 ))
        {
            PRINT_NOW( "T4_FCOPS", 7500, 0 );
            sub_22626( 0 );
            if (NOT (IS_CHAR_INJURED( l_U1065 )))
            {
                l_U969 = 0;
                UNLOCK_RAGDOLL( l_U1065, 1 );
                SWITCH_PED_TO_RAGDOLL( l_U1065, 30000, 0, 1, 1, 1, 0 );
                PANIC_SCREAM( l_U1065 );
                CREATE_NM_MESSAGE( 1, 246 );
                SEND_NM_MESSAGE( l_U1065 );
                SET_CHAR_COLLISION( l_U1065, 1 );
                SET_CHAR_VELOCITY( l_U1065, g_U2692[0]._fU24._fU0, g_U2692[0]._fU24._fU4, g_U2692[0]._fU24._fU8 );
            }
            sub_64975( 0 );
        }
    }
    return;
}

void sub_60723(boolean bParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    int iVar15;
    int iVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    float fVar23;
    float fVar24;

    if ((NOT (IS_CHAR_INJURED( l_U1065 ))) AND (l_U969))
    {
        GET_CHAR_COORDINATES( sub_2502(), ref uVar6._fU0, ref uVar6._fU4, ref uVar6._fU8 );
        GET_POSITION_OF_ANALOGUE_STICKS( 0, ref iVar15, ref iVar16, ref uVar17, ref uVar18 );
        if (NOT IS_USING_CONTROLLER())
        {
            GET_KEYBOARD_MOVE_INPUT( ref iVar15, ref iVar16 );
        }
        uVar19 = GET_CONTROL_VALUE( 0, 6 );
        uVar20 = GET_CONTROL_VALUE( 0, 4 );
        uVar21 = ABSF( ATAN2( TO_FLOAT( iVar15 ), TO_FLOAT( iVar16 ) ) );
        uVar22 = TO_FLOAT( (iVar15 * iVar15) + (iVar16 * iVar16) );
        fVar23 = g_U2692[0]._fU36._fU4 / 20.00000000;
        fVar24 = g_U2692[0]._fU36._fU0 / 45.00000000;
        switch (l_U1200)
        {
            case 0:
            if (NOT (IS_CHAR_PLAYING_ANIM( l_U1065, "MISSTONY04", "pass_ff_idle" )))
            {
                TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U1065, "pass_ff_idle", "MISSTONY04", 10.00000000, 1, 0, 0, 0, 0 );
            }
            uVar9._fU0 = (uVar6._fU0 + (0.03000000 * (COS( g_U2692[0]._fU36._fU8 )))) + (-0.02000000 * (-SIN( g_U2692[0]._fU36._fU8 )));
            uVar9._fU4 = (uVar6._fU4 + (0.03000000 * (SIN( g_U2692[0]._fU36._fU8 )))) + (-0.02000000 * (COS( g_U2692[0]._fU36._fU8 )));
            uVar9._fU8 = (uVar6._fU8 + (-0.02000000 * (SIN( g_U2692[0]._fU36._fU0 )))) + 0.02000000;
            uVar12 = {g_U2692[0]._fU36._fU0, g_U2692[0]._fU36._fU4, g_U2692[0]._fU36._fU8};
            if (NOT (IS_CHAR_INJURED( l_U1065 )))
            {
                SET_CHAR_COORDINATES_NO_OFFSET( l_U1065, uVar9._fU0, uVar9._fU4, uVar9._fU8 );
                if (bParam0)
                {
                    SET_CHAR_ROTATION( l_U1065, uVar12._fU0, uVar12._fU4, uVar12._fU8 );
                }
            }
            if (((IS_CONTROL_JUST_PRESSED( 2, 137 )) AND (NOT IS_USING_CONTROLLER())) || (IS_BUTTON_JUST_PRESSED( 0, 16 )))
            {
                TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U1065, "pass_open_chute", "MISSTONY04", 10.00000000, 0, 0, 0, 1, 0 );
                l_U1200 = 1;
            }
            break;
            case 1:
            uVar9._fU0 = (uVar6._fU0 + (0.03000000 * (COS( g_U2692[0]._fU36._fU8 )))) + (-0.02000000 * (-SIN( g_U2692[0]._fU36._fU8 )));
            uVar9._fU4 = (uVar6._fU4 + (0.03000000 * (SIN( g_U2692[0]._fU36._fU8 )))) + (-0.02000000 * (COS( g_U2692[0]._fU36._fU8 )));
            uVar9._fU8 = (uVar6._fU8 + (-0.02000000 * (SIN( g_U2692[0]._fU36._fU0 )))) + 0.02000000;
            uVar12 = {g_U2692[0]._fU36._fU0, g_U2692[0]._fU36._fU4, g_U2692[0]._fU36._fU8};
            if (NOT (IS_CHAR_INJURED( l_U1065 )))
            {
                SET_CHAR_HEADING( l_U1065, uVar12._fU8 );
                SET_CHAR_COORDINATES_NO_OFFSET( l_U1065, uVar9._fU0, uVar9._fU4, uVar9._fU8 );
                if (bParam0)
                {
                    SET_CHAR_ROTATION( l_U1065, uVar12._fU0, uVar12._fU4, uVar12._fU8 );
                }
            }
            if (g_U2692[0]._fU4 == 5)
            {
                l_U1200 = 2;
            }
            break;
            case 2:
            if (NOT (IS_CHAR_PLAYING_ANIM( l_U1065, "MISSTONY04", "Pass_Idle" )))
            {
                TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U1065, "Pass_Idle", "MISSTONY04", 10.00000000, 1, 0, 0, 0, 0 );
            }
            uVar9._fU0 = (uVar6._fU0 + (0.03000000 * (COS( g_U2692[0]._fU36._fU8 )))) + (-0.02000000 * (-SIN( g_U2692[0]._fU36._fU8 )));
            uVar9._fU4 = (uVar6._fU4 + (0.03000000 * (SIN( g_U2692[0]._fU36._fU8 )))) + (-0.02000000 * (COS( g_U2692[0]._fU36._fU8 )));
            uVar9._fU8 = (uVar6._fU8 + (-0.02000000 * (SIN( g_U2692[0]._fU36._fU0 )))) + 0.02000000;
            uVar12 = {g_U2692[0]._fU36._fU0, g_U2692[0]._fU36._fU4, g_U2692[0]._fU36._fU8};
            if (NOT (IS_CHAR_INJURED( l_U1065 )))
            {
                SET_CHAR_HEADING( l_U1065, uVar12._fU8 );
                SET_CHAR_COORDINATES_NO_OFFSET( l_U1065, uVar9._fU0, uVar9._fU4, uVar9._fU8 );
                if (bParam0)
                {
                    SET_CHAR_ROTATION( l_U1065, uVar12._fU0, uVar12._fU4, uVar12._fU8 );
                }
            }
            break;
        }
    }
    return;
}

int sub_62866(unknown uParam0)
{
    int iVar3;
    float fVar4;

    iVar3 = sub_20657( uParam0 );
    if (iVar3 >= 0)
    {
        if ((g_U2692[iVar3]._fU4 == 7) || (g_U2692[iVar3]._fU4 == 0))
        {
            return 1;
        }
    }
    else if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        GET_CHAR_HEIGHT_ABOVE_GROUND( uParam0, ref fVar4 );
        if ((IS_CHAR_IN_WATER( uParam0 )) || ((NOT (IS_PED_RAGDOLL( uParam0 ))) AND (fVar4 < 2.00000000)))
        {
            return 1;
        }
    }
    return 0;
}

int sub_63588(int iParam0)
{
    if (iParam0 == 0)
    {
        return 23;
        break;
    }
    if (iParam0 == 1)
    {
        return 24;
        break;
    }
    if (iParam0 == 2)
    {
        return 25;
        break;
    }
    if (iParam0 == 3)
    {
        return 26;
        break;
    }
    if (iParam0 == 4)
    {
        return 27;
        break;
    }
    return 28;
}

string sub_63853(int iParam0)
{
    if (iParam0 == 0)
    {
        return "E2T4B_TLK1";
        break;
    }
    if (iParam0 == 1)
    {
        return "E2T4B_TLK2";
        break;
    }
    if (iParam0 == 2)
    {
        return "E2T4B_TLK3";
        break;
    }
    if (iParam0 == 3)
    {
        return "E2T4B_TLK4";
        break;
    }
    if (iParam0 == 4)
    {
        return "E2T4B_TLK5";
        break;
    }
    return "E2T4B_TLK6";
}

int sub_64294(unknown uParam0)
{
    int iVar3;
    float fVar4;

    iVar3 = sub_20657( uParam0 );
    if (iVar3 >= 0)
    {
        if ((NOT (IS_CHAR_INJURED( g_U2692[iVar3]._fU0 ))) AND (g_U2692[iVar3]._fU4 == 0))
        {
            if (NOT (IS_CHAR_IN_AIR( g_U2692[iVar3]._fU0 )))
            {
                return 1;
            }
        }
    }
    else if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        GET_CHAR_HEIGHT_ABOVE_GROUND( uParam0, ref fVar4 );
        if ((NOT (IS_PED_RAGDOLL( uParam0 ))) AND (fVar4 < 2.00000000))
        {
            return 1;
        }
    }
    return 0;
}

void sub_64975(unknown uParam0)
{
    switch (uParam0)
    {
        case 0: break;
        case 1:
        PRINT_NOW( "T4_T_DEAD", 7500, 0 );
        break;
        case 3:
        PRINT_NOW( "T4_B_DIED", 7500, 0 );
        break;
        case 5:
        PRINT_NOW( "T4_HELIDIED", 7500, 0 );
        break;
        case 2:
        PRINT_NOW( "T4_T_LEFT", 7500, 0 );
        break;
        case 4:
        PRINT_NOW( "T4_HELIGONE", 7500, 0 );
        break;
    }
    sub_65190();
    sub_4995();
    return;
}

void sub_65190()
{
    int iVar2;

    iVar2 = 0;
    sub_65204( iVar2 );
    sub_3978( iVar2 );
    return;
}

void sub_65204(unknown uParam0)
{
    if (g_U12382[uParam0]._fU12)
    {
        return;
    }
    SET_PLAYER_MOOD_PISSED_OFF( sub_5022(), 150 );
    CLEAR_HELP();
    sub_2692( uParam0 );
    return;
}

void sub_65312()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    GET_CHAR_COORDINATES( sub_2502(), ref uVar2._fU0, ref uVar2._fU4, ref uVar2._fU8 );
    switch (l_U1197)
    {
        case 0:
        CLEAR_PRINTS();
        CLEAR_HELP();
        sub_5061();
        SET_PLAYER_CONTROL( sub_5022(), 0 );
        if (NOT IS_SCREEN_FADED_OUT())
        {
            DO_SCREEN_FADE_OUT( 500 );
            while (NOT IS_SCREEN_FADED_OUT())
            {
                WAIT( 0 );
            }
        }
        l_U969 = 0;
        sub_22626( 0 );
        REQUEST_ANIMS( "move_injured_lower" );
        while (NOT (HAVE_ANIMS_LOADED( "move_injured_lower" )))
        {
            WAIT( 0 );
        }
        if (NOT (IS_CHAR_INJURED( l_U1065 )))
        {
            l_U1027 = sub_65567( uVar2 );
            l_U913 = {l_U1087[l_U1027]._fU0};
            l_U1053 = l_U1087[l_U1027]._fU12;
            SWITCH_ROADS_OFF( l_U913._fU0 - 50.00000000, l_U913._fU4 - 50.00000000, l_U913._fU8 - 50.00000000, l_U913._fU0 + 50.00000000, l_U913._fU4 + 50.00000000, l_U913._fU8 + 50.00000000 );
            SET_CHAR_COORDINATES_NO_OFFSET( l_U1065, l_U913._fU0, l_U913._fU4, l_U913._fU8 );
            SET_CHAR_HEADING( l_U1065, l_U1053 );
            SET_CHAR_COMPONENT_VARIATION( l_U1065, 2, 0, 1 );
            sub_65875();
            SET_CHAR_COORDINATES( sub_2502(), l_U916._fU0, l_U916._fU4, l_U916._fU8 );
            SET_CHAR_HEADING( sub_2502(), l_U1054 );
        }
        TASK_PLAY_ANIM_FACIAL( l_U1065, "Mood_Scared", "FACIALS@M_LO", 4.00000000, 1, 0, -1 );
        CREATE_CAM( 14, ref l_U1082 );
        SET_CAM_POS( l_U1082, l_U919._fU0, l_U919._fU4, l_U919._fU8 );
        SET_CAM_ROT( l_U1082, l_U931._fU0, l_U931._fU4, l_U931._fU8 );
        SET_CAM_FOV( l_U1082, 25.20005000 );
        CREATE_CAM( 14, ref l_U1083 );
        SET_CAM_POS( l_U1083, l_U922._fU0, l_U922._fU4, l_U922._fU8 );
        SET_CAM_ROT( l_U1083, l_U934._fU0, l_U934._fU4, l_U934._fU8 );
        SET_CAM_FOV( l_U1083, 25.20005000 );
        sub_43327( l_U1082, 1 );
        SET_USE_HIGHDOF( 1 );
        SET_CAM_FAR_DOF( l_U1082, 30.00000000 );
        SET_CAM_FAR_DOF( l_U1083, 30.00000000 );
        DISPLAY_RADAR( 0 );
        SET_WIDESCREEN_BORDERS( 1 );
        LOAD_SCENE( l_U916._fU0, l_U916._fU4, l_U916._fU8 );
        WAIT( 500 );
        if (NOT IS_SCREEN_FADED_IN())
        {
            DO_SCREEN_FADE_IN( 500 );
            while (NOT IS_SCREEN_FADED_IN())
            {
                WAIT( 0 );
            }
        }
        if (NOT (IS_CHAR_INJURED( l_U1065 )))
        {
            OPEN_SEQUENCE_TASK( ref uVar5 );
            TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "Blogger_Injured", "MISSTONY04", 1000.00000000, 1, 1, 1, 0, 0 );
            CLOSE_SEQUENCE_TASK( uVar5 );
            TASK_PERFORM_SEQUENCE( l_U1065, uVar5 );
            TASK_LOOK_AT_CHAR( sub_2502(), l_U1065, -2, 0 );
        }
        sub_22541( "E2T4B_BLUB", 31, 6, "E2T4BAU", 0, 0 );
        SETTIMERB( 0 );
        l_U1197 = 1;
        break;
        case 1:
        if (NOT (IS_CHAR_INJURED( l_U1065 )))
        {
            if (IS_CHAR_PLAYING_ANIM( l_U1065, "move_injured_lower", "walk" ))
            {
                SET_CHAR_ANIM_SPEED( l_U1065, "move_injured_lower", "walk", 0.75000000 );
            }
        }
        if (l_U1026 == 0)
        {
            if (TIMERB() > 0)
            {
                CREATE_CAM( 3, ref l_U1084 );
                SET_CAM_INTERP_STYLE_CORE( l_U1084, l_U1082, l_U1083, 15000, 0 );
                SET_CAM_INTERP_STYLE_DETAILED( l_U1084, 1, 1, 1, 1 );
                sub_43327( l_U1082, 0 );
                sub_43327( l_U1084, 1 );
                l_U1026++;
                SETTIMERB( 0 );
            }
        }
        else if (l_U1026 == 1)
        {
            if ((sub_67215()) AND (TIMERB() > 3000))
            {
                if (NOT (IS_CHAR_INJURED( l_U1065 )))
                {
                    if (IS_CHAR_PLAYING_ANIM( l_U1065, "MISSTONY04", "Blogger_Injured" ))
                    {
                        SET_CHAR_ANIM_CURRENT_TIME( l_U1065, "MISSTONY04", "Blogger_Injured", 0.20000000 );
                    }
                }
                WAIT( 0 );
                if (NOT (IS_CHAR_INJURED( l_U1065 )))
                {
                    SET_CHAR_COORDINATES( l_U1065, l_U913._fU0, l_U913._fU4, l_U913._fU8 );
                    SET_CHAR_HEADING( l_U1065, l_U1053 );
                }
                SET_CAM_POS( l_U1082, l_U925._fU0, l_U925._fU4, l_U925._fU8 );
                SET_CAM_ROT( l_U1082, l_U937._fU0, l_U937._fU4, l_U937._fU8 );
                SET_CAM_FOV( l_U1082, 25.20005000 );
                SET_CAM_POS( l_U1083, l_U928._fU0, l_U928._fU4, l_U928._fU8 );
                SET_CAM_ROT( l_U1083, l_U940._fU0, l_U940._fU4, l_U940._fU8 );
                SET_CAM_FOV( l_U1083, 25.20005000 );
                SET_CAM_INTERP_STYLE_CORE( l_U1084, l_U1082, l_U1083, 10000, 0 );
                SET_CAM_INTERP_STYLE_DETAILED( l_U1084, 0, 0, 1, 1 );
                sub_22541( "E2T4B_LND2", 32, 6, "E2T4BAU", 0, 0 );
                SETTIMERB( 0 );
                l_U1026++;
            }
        }
        else if (l_U1026 == 2)
        {
            if (TIMERB() > 500)
            {
                TASK_PLAY_ANIM_NON_INTERRUPTABLE( sub_2502(), "camera", "MISSTONY04", 4.00000000, 0, 1, 1, 1, 0 );
                l_U1026++;
            }
        }
        else if (l_U1026 == 3)
        {
            if (IS_CHAR_PLAYING_ANIM( sub_2502(), "MISSTONY04", "camera" ))
            {
                SET_CHAR_ANIM_SPEED( sub_2502(), "MISSTONY04", "camera", 0.95000000 );
            }
            if (TIMERB() > 6500)
            {
                l_U1197 = 2;
            }
        };;;;
        if (sub_47006())
        {
            l_U1197 = 2;
        }
        break;
        case 2:
        if (NOT IS_SCREEN_FADED_OUT())
        {
            DO_SCREEN_FADE_OUT( 500 );
            while (NOT IS_SCREEN_FADED_OUT())
            {
                WAIT( 0 );
            }
        }
        REMOVE_ANIMS( "move_injured_lower" );
        sub_22626( 0 );
        sub_5560( 0 );
        if (g_U2692[0]._fU56)
        {
            if (NOT (IS_CHAR_IN_ANY_CAR( sub_2502() )))
            {
                sub_68112( sub_2502() );
            }
            g_U2692[0]._fU56 = 0;
        }
        sub_68215( 0 );
        if (DOES_CHAR_EXIST( l_U1065 ))
        {
            DELETE_CHAR( ref l_U1065 );
        }
        SWITCH_ROADS_BACK_TO_ORIGINAL( l_U913._fU0 - 50.00000000, l_U913._fU4 - 50.00000000, l_U913._fU8 - 50.00000000, l_U913._fU0 + 50.00000000, l_U913._fU4 + 50.00000000, l_U913._fU8 + 50.00000000 );
        if (DOES_CAM_EXIST( l_U1084 ))
        {
            DESTROY_CAM( l_U1084 );
        }
        if (DOES_CAM_EXIST( l_U1082 ))
        {
            DESTROY_CAM( l_U1082 );
        }
        if (DOES_CAM_EXIST( l_U1083 ))
        {
            DESTROY_CAM( l_U1083 );
        }
        ACTIVATE_SCRIPTED_CAMS( 0, 0 );
        SET_CAM_BEHIND_PED( sub_2502() );
        SET_GAME_CAM_HEADING( 170.00000000 );
        CLEAR_CHAR_TASKS_IMMEDIATELY( sub_2502() );
        SET_PLAYER_CONTROL( sub_5022(), 1 );
        DISPLAY_RADAR( 1 );
        SET_WIDESCREEN_BORDERS( 0 );
        SET_USE_HIGHDOF( 0 );
        if (NOT IS_SCREEN_FADED_IN())
        {
            DO_SCREEN_FADE_IN( 500 );
            while (NOT IS_SCREEN_FADED_IN())
            {
                WAIT( 0 );
            }
        }
        SET_PLAYER_CONTROL( sub_5022(), 1 );
        l_U1192 = 11;
        break;
    }
    return;
}

void sub_65567(unknown uParam0, unknown uParam1, unknown uParam2)
{
    float fVar5;
    int Result;
    int I;
    float fVar8;

    fVar5 = 0.00000000;
    Result = 0;
    I = 0;
    for ( I = 0; I < l_U1087; I++ )
    {
        fVar8 = sub_22309( uParam0, l_U1087[I]._fU0, 0, 0 );
        if ((fVar8 < fVar5) || (fVar5 == 0.00000000))
        {
            fVar5 = fVar8;
            Result = I;
        }
    }
    return Result;
}

void sub_65875()
{
    if (NOT (IS_CHAR_INJURED( l_U1065 )))
    {
        GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( l_U1065, 1.28348000, -2.52031000, 0.00000000, ref l_U916._fU0, ref l_U916._fU4, ref l_U916._fU8 );
        GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( l_U1065, -4.23819000, -1.60811000, 1.07955800, ref l_U919._fU0, ref l_U919._fU4, ref l_U919._fU8 );
        GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( l_U1065, -5.55940000, -1.23225000, 1.07955800, ref l_U922._fU0, ref l_U922._fU4, ref l_U922._fU8 );
        GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( l_U1065, 1.04582000, 4.70961000, 0.95028900, ref l_U925._fU0, ref l_U925._fU4, ref l_U925._fU8 );
        GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( l_U1065, 1.28641000, 7.35718000, 0.95028900, ref l_U928._fU0, ref l_U928._fU4, ref l_U928._fU8 );
        l_U931 = {4.00255200, -0.00000000, 161.47290000 + (l_U1087[l_U1027]._fU12 - l_U1052)};
        l_U934 = {4.00255200, -0.00000000, 157.24040000 + (l_U1087[l_U1027]._fU12 - l_U1052)};
        l_U937 = {-1.56352200, 0.00000000, 10.41277000 + (l_U1087[l_U1027]._fU12 - l_U1052)};
        l_U940 = {-1.56352600, -0.00000000, 10.41277000 + (l_U1087[l_U1027]._fU12 - l_U1052)};
        l_U1054 = l_U1052 + (l_U1087[l_U1027]._fU12 - l_U1052);
    }
    return;
}

int sub_67215()
{
    if ((l_U1137[l_U1136]) AND ((NOT (sub_22641( l_U1182 ))) AND ((NOT (sub_51369( l_U1182 ))) AND ((NOT IS_HELP_MESSAGE_BEING_DISPLAYED()) AND (NOT IS_MESSAGE_BEING_DISPLAYED())))))
    {
        return 1;
    }
    return 0;
}

void sub_68112(unknown uParam0)
{
    int iVar3;

    iVar3 = sub_20657( uParam0 );
    if (iVar3 >= 0)
    {
        if (NOT (IS_CHAR_INJURED( g_U2692[iVar3]._fU0 )))
        {
            CLEAR_CHAR_TASKS_IMMEDIATELY( g_U2692[iVar3]._fU0 );
        }
        g_U2692[iVar3]._fU4 = 7;
    }
    return;
}

void sub_68215(boolean bParam0)
{
    if (NOT bParam0)
    {
        SET_DRAW_PLAYER_COMPONENT( 8, 0 );
        g_U2787 = 0;
    }
    else if (NOT sub_68252())
    {
        sub_68322();
    }
    SET_DRAW_PLAYER_COMPONENT( 8, 1 );
    g_U2787 = 1;;
    return;
}

int sub_68252()
{
    int iVar2;

    if (NOT (IS_CHAR_INJURED( sub_2502() )))
    {
        iVar2 = GET_CHAR_DRAWABLE_VARIATION( sub_2502(), 8 );
        if (iVar2 == 0)
        {
            return 0;
        }
    }
    return 1;
}

void sub_68322()
{
    unknown uVar2;

    uVar2 = sub_68331();
    SET_CHAR_COMPONENT_VARIATION( sub_2502(), 8, uVar2, 0 );
    WAIT( 0 );
    if (NOT g_U2787)
    {
        SET_DRAW_PLAYER_COMPONENT( 8, 0 );
    }
    return;
}

int sub_68331()
{
    unknown uVar2;

    if (NOT (IS_CHAR_INJURED( sub_2502() )))
    {
        uVar2 = GET_CHAR_DRAWABLE_VARIATION( sub_2502(), 1 );
        switch (uVar2)
        {
            case 0:
            return 1;
            break;
            case 1:
            return 2;
            break;
            case 2:
            return 2;
            break;
            case 3:
            return 1;
            break;
            case 4:
            return 1;
            break;
        }
    }
    return 1;
}

void sub_68921()
{
    sub_68955( 0, "E2T4B_PASS", "E2T4BAU", 0 );
    sub_69643();
    return;
}

void sub_68955(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    char[12] cVar6;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;

    array(ref cVar6, 2);
    StrCopy( ref cVar6[0], uParam1, 16 );
    StrCopy( ref cVar6[1], "END", 16 );
    sub_68999( uParam0, ref cVar6, uParam2, 10000, uParam3, 0 );
    return;
}

void sub_68999(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    unknown uVar36;
    int I;
    int iVar38;

    if (g_U43133)
    {
        PRINTSTRING( "KGM........End of mission call blocked because the mission is being repeated\n" );
        return;
    }
    array(ref uVar8._fU32, 5);
    ref uVar8;
    iVar38 = uVar8._fU32;
    if (NOT (IS_THREAD_ACTIVE( g_U818 )))
    {
        uVar8._fU12 = uParam0;
        if ((uParam1^) > iVar38)
        {
            SCRIPT_ASSERT( "TELL SIMON END CALL ARRAY SIZE NEEDS INCREASING" );
            return;
        }
        for ( I = 0; I <= ((uParam1^) - 1); I++ )
        {
            uVar8._fU32[I] = {(uParam1^)[I]};
        }
        if ((uParam1^) < iVar38)
        {
            StrCopy( ref uVar8._fU32[(uParam1^)], "END", 16 );
        }
        StrCopy( ref uVar8._fU16, uParam2, 16 );
        uVar8._fU0 = uParam3;
        uVar8._fU4 = uParam4;
        uVar8._fU8 = uParam5;
        REQUEST_SCRIPT( "SPcellphoneEndCall" );
        while (NOT (HAS_SCRIPT_LOADED( "SPcellphoneEndCall" )))
        {
            REQUEST_SCRIPT( "SPcellphoneEndCall" );
            WAIT( 0 );
        }
        g_U817 = 1;
        g_U818 = START_NEW_SCRIPT_WITH_ARGS( "SPcellphoneEndCall", ref uVar8, 29, 1024 );
        MARK_SCRIPT_AS_NO_LONGER_NEEDED( "SPcellphoneEndCall" );
    }
    else
    {
        SCRIPT_ASSERT( "MAKE_END_OF_MISSION_CALL() has been called more than once, might be in a loop" );
    }
    return;
}

void sub_69643()
{
    CLEAR_WANTED_LEVEL( sub_5022() );
    g_U25 = 80;
    sub_69671( 1 );
    sub_69941();
    sub_4995();
    return;
}

void sub_69671(unknown uParam0)
{
    if (NOT g_U42941[uParam0])
    {
        g_U42941[uParam0] = 1;
        sub_22868( "\n ----------------------------------------------------------------" );
        sub_6678( "\n  Following block of Celeb Stories has been unlocked CELEB_BLOCK_", uParam0 );
        sub_22868( "\n ----------------------------------------------------------------" );
    }
    return;
}

void sub_69941()
{
    int iVar2;
    int iVar3;
    int iVar4;

    iVar2 = 1;
    iVar3 = 0;
    iVar4 = 0;
    sub_69959();
    sub_70018( iVar2, iVar3, iVar4 );
    return;
}

void sub_69959()
{
    int I;

    I = 0;
    for ( I = 0; I < 5; I++ )
    {
        l_U716[I] = 4;
    }
    return;
}

void sub_70018(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int iVar5;

    iVar5 = 0;
    sub_70048( iVar5, uParam0, uParam1, uParam2, "GayTony" );
    return;
}

void sub_70048(unknown uParam0, boolean bParam1, boolean bParam2, boolean bParam3, unknown uParam4)
{
    int iVar7;
    int iVar8;
    char[64] cVar9;
    int iVar25;
    int I;
    int iVar27;
    boolean bVar28;
    unknown uVar29;
    unknown uVar30;
    int iVar31;
    boolean bVar32;

    if (bParam1)
    {
        if (g_U43133)
        {
            sub_70076();
            return;
        }
    }
    iVar7 = -1;
    iVar8 = -1;
    StrCopy( ref cVar9, "", 64 );
    if (bParam3)
    {
        if (g_U14925[uParam0]._fU80._fU0 == 0)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: friend mission", 64);
            sub_70250( ref cVar9 );
            return;
        }
        if (g_U14925[uParam0]._fU80._fU4 == -1)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: friend missionID", 64);
            sub_70250( ref cVar9 );
            return;
        }
        iVar7 = g_U14925[uParam0]._fU80._fU4;
    }
    else if (bParam2)
    {
        if (NOT g_U14925[uParam0]._fU160._fU80)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: proc mission", 64);
            sub_70250( ref cVar9 );
            return;
        }
        if (g_U14925[uParam0]._fU160._fU76 == -1)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: proc missionID", 64);
            sub_70250( ref cVar9 );
            return;
        }
        iVar7 = g_U14925[uParam0]._fU160._fU76;
    }
    else if (g_U14925[uParam0]._fU0._fU0 == 0)
    {
        StrCopy( ref cVar9, uParam4, 64 );
        ConcatString(ref cVar9, " Pass_Stats: mission", 64);
        sub_70250( ref cVar9 );
        return;
    }
    if (g_U14925[uParam0]._fU0._fU4 == -1)
    {
        StrCopy( ref cVar9, uParam4, 64 );
        ConcatString(ref cVar9, " Pass_Stats: missionID", 64);
        sub_70250( ref cVar9 );
        return;
    }
    iVar7 = g_U14925[uParam0]._fU0._fU4;
    iVar8 = sub_70827( uParam0, iVar7 );;;
    iVar25 = 0;
    if (bParam1)
    {
        g_U12382[uParam0]._fU24 = iVar7;
    }
    if (bParam2)
    {
        iVar25 = g_U14925[uParam0]._fU160._fU84;
    }
    if (bParam3)
    {
        I = 0;
        for ( I = 0; I < 5; I++ )
        {
            g_U12382[uParam0]._fU148[I]._fU8++;
            if ((g_U12382[uParam0]._fU148[I]._fU8 >= g_U12382[uParam0]._fU148[I]._fU4) AND (NOT g_U12382[uParam0]._fU148[I]._fU12))
            {
                iVar27 = 0;
                GET_GAME_TIMER( ref iVar27 );
                g_U12382[uParam0]._fU148[I]._fU16 = iVar27 + 90000;
            }
        }
    }
    if (NOT (sub_71275( uParam0, iVar7, iVar25, bParam1, bParam2, bParam3 )))
    {
        return;
    }
    if (bParam2)
    {
        g_U14925[uParam0]._fU160._fU84++;
    }
    SET_PLAYER_MOOD_NORMAL( sub_5022() );
    sub_3987();
    bVar28 = true;
    uVar29 = sub_70827( uParam0, iVar7 );
    uVar30 = sub_3607( uParam0 );
    if (bParam1)
    {
        iVar31 = g_U14925[uParam0]._fU0._fU56;
        if ((iVar31 == 6) || (iVar31 == 5))
        {
            bVar28 = false;
        }
        if (NOT g_U0)
        {
            bVar32 = true;
            if (IS_BIT_SET( g_U22960[uVar29]._fU108, 2 ))
            {
                REGISTER_MISSION_PASSED( ref g_U10961 );
                sub_75549( 9, ref g_U14925[uParam0]._fU0._fU24 );
                if ((g_U12379) AND (NOT bVar28))
                {
                    bVar32 = false;
                }
                if (bVar32)
                {
                    sub_70076();
                    g_U10953._fU8 = 1;
                    g_U10953._fU20 = sub_76000( uParam0, iVar7 );
                }
            }
            if (bVar28)
            {
                sub_76079( uParam0 );
                sub_76118( 0 );
                sub_3885( uVar30, 0 );
                g_U11076 = 0;
            }
            g_U12382[uParam0]._fU12 = 1;
        }
        if (bVar28)
        {
            sub_76293();
        }
    }
    if (bParam2)
    {
        sub_70076();
        sub_76392();
        sub_76118( 0 );
        g_U11062 = 1;
        g_U11076 = 0;
    }
    if (bParam3)
    {
        sub_70076();
        sub_76444();
        sub_76118( 0 );
        sub_3885( uVar30, 0 );
    }
    sub_3494();
    return;
}

void sub_70076()
{
    if (g_U0)
    {
        return;
    }
    g_U10953._fU0 = 1;
    g_U10953._fU4 = 0;
    g_U10953._fU8 = 0;
    g_U10953._fU12 = 0;
    g_U10953._fU16 = 0;
    g_U10953._fU20 = 0;
    g_U10953._fU28 = 5;
    return;
}

void sub_70250(unknown uParam0)
{
    PRINTSTRING( "FLOW WARNING: " );
    PRINTSTRING( uParam0 );
    PRINTNL();
    SCRIPT_ASSERT( "FLOW WARNING: Press IGNORE button and look at console window for details" );
    return;
}

int sub_70827(int iParam0, int iParam1)
{
    unknown uVar4;
    int iVar5;
    int Result;

    if ((iParam0 >= 11) || (iParam0 < 0))
    {
        sub_3838( "Main_Missions: Find_Trigger(): Illegal Strand ID" );
    }
    uVar4 = g_U28562[iParam0]._fU0;
    iVar5 = g_U28562[iParam0]._fU4;
    for ( Result = uVar4; Result <= iVar5; Result++ )
    {
        if (g_U22960[Result]._fU4 == iParam1)
        {
            return Result;
        }
    }
    return -1;
}

int sub_71275(unknown uParam0, unknown uParam1, unknown uParam2, boolean bParam3, unknown uParam4, unknown uParam5)
{
    boolean bVar8;
    unknown uVar9;

    bVar8 = false;
    switch (uParam0)
    {
        case 0:
        bVar8 = sub_71371( uParam1 );
        break;
        case 1:
        bVar8 = sub_72252( uParam1 );
        break;
        case 2:
        bVar8 = sub_72441( uParam1 );
        break;
        case 3:
        bVar8 = sub_72659( uParam1 );
        break;
        case 4:
        bVar8 = sub_73257( uParam1 );
        break;
        case 5:
        bVar8 = sub_73390( uParam1 );
        break;
        case 6:
        bVar8 = sub_73587( uParam1 );
        break;
        case 7:
        bVar8 = sub_73724( uParam1 );
        break;
        case 8:
        bVar8 = sub_73873( uParam1 );
        break;
        default:
        PRINTSTRING( "Strand ID: " );
        PRINTINT( uParam0 );
        PRINTNL();
        sub_72870( "Flow_Pass_Stats: Flow_Pass_Strand_Mission(): Unknown strand ID." );
    }
    if (NOT bVar8)
    {
        return 0;
    }
    uVar9 = sub_70827( uParam0, uParam1 );
    if (bParam3)
    {
        sub_74091( uVar9, uParam0 );
    }
    return 1;
}

int sub_71371(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 0;
    bVar4 = false;
    switch (uParam0)
    {
        case 1:
        sub_71538( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 2:
        sub_71538( iVar3, 1000, 5, 2, 0, 0 );
        break;
        case 3:
        sub_71538( iVar3, 1500, 5, 2, 0, 0 );
        break;
        case 4:
        sub_71538( iVar3, 500, 0, 0, 0, 0 );
        break;
        case 5:
        sub_71538( iVar3, 2500, 5, 2, 0, 0 );
        break;
        case 6:
        sub_71538( iVar3, 2000, 5, 2, 0, 0 );
        break;
        case 7:
        sub_71538( iVar3, 3000, 5, 2, 0, 0 );
        break;
        case 8:
        sub_71538( iVar3, 3500, 5, 2, 0, 0 );
        break;
        case 9:
        sub_71538( iVar3, 4000, 5, 2, 0, 0 );
        break;
        case 10:
        sub_71538( iVar3, 4500, 5, 2, 0, 0 );
        break;
        case 11:
        sub_71538( iVar3, 5000, 5, 2, 0, 0 );
        break;
        case 12:
        sub_71538( iVar3, 10000, 5, 2, 0, 0 );
        break;
        case 0:
        case 13:
        case 14:
        case 15:
        case 16: break;
        default:
        sub_72160( "Gay Tony", 1 );
        sub_71538( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_72160( "Gay Tony", 0 );
        sub_71538( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

void sub_71538(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, int iParam5)
{
    sub_71549( uParam1 );
    sub_71723( uParam0, 0, uParam2 );
    sub_71723( uParam0, 1, uParam3 );
    sub_71723( uParam0, 2, uParam4 );
    ProtectedSet(g_U22949[4], ProtectedGet(g_U22949[4]) + iParam5);
    sub_69959();
    return;
}

void sub_71549(unknown uParam0)
{
    ADD_SCORE( sub_5022(), uParam0 );
    sub_71574( uParam0 );
    return;
}

void sub_71574(int iParam0)
{
    if (g_U0)
    {
        return;
    }
    if (iParam0 < 0)
    {
        sub_3838( "Flow_Achievements_Increase_Cash_From_Missions: negative cash given. Tell Keith." );
    }
    INCREMENT_INT_STAT_NO_MESSAGE( 93, iParam0 );
    return;
}

void sub_71723(unknown uParam0, unknown uParam1, int iParam2)
{
    g_U12382[uParam0]._fU44[uParam1] += iParam2;
    if (g_U12382[uParam0]._fU44[uParam1] < 0)
    {
        g_U12382[uParam0]._fU44[uParam1] = 0;
    }
    if (g_U12382[uParam0]._fU44[uParam1] > 100)
    {
        g_U12382[uParam0]._fU44[uParam1] = 100;
    }
    return;
}

void sub_72160(unknown uParam0, unknown uParam1)
{
    return;
}

int sub_72252(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 1;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_71538( iVar3, 500, 5, 2, 0, 0 );
        break;
        case 1:
        sub_71538( iVar3, 1000, 5, 2, 0, 0 );
        break;
        case 2:
        sub_71538( iVar3, 1500, 5, 2, 0, 0 );
        break;
        default:
        sub_72160( "Mori", 1 );
        sub_71538( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_72160( "Mori", 0 );
        sub_71538( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_72441(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 2;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_71538( iVar3, 10000, 5, 2, 0, 0 );
        break;
        case 1:
        sub_71538( iVar3, 15000, 5, 2, 0, 0 );
        break;
        case 2:
        sub_71538( iVar3, 20000, 5, 2, 0, 0 );
        break;
        case 3:
        sub_71538( iVar3, 25000, 5, 2, 0, 0 );
        break;
        default:
        sub_72160( "Yusuf", 1 );
        sub_71538( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_72160( "Yusuf", 0 );
        sub_71538( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_72659(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 3;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_71538( iVar3, 5000, 5, 2, 0, 0 );
        break;
        case 1:
        sub_71538( iVar3, 2500, 5, 2, 0, 0 );
        break;
        case 2:
        sub_71538( iVar3, 0, sub_72748(), sub_73014(), 0, 0 );
        break;
        default:
        sub_72160( "Dominicans", 1 );
        sub_71538( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_72160( "Dominicans", 0 );
        sub_71538( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_72748()
{
    switch (l_U716[0])
    {
        case 0: return 14;
        case 1: return 8;
        case 2: return 6;
        case 3: return 1;
        case 4: return 0;
    }
    sub_72870( "Get_TRUST(): Unknown Friend Pass ID" );
    return 0;
}

void sub_72870(unknown uParam0)
{
    PRINTSTRING( "FLOW ERROR: " );
    PRINTSTRING( uParam0 );
    PRINTNL();
    SCRIPT_ASSERT( "FLOW ERROR: Press IGNORE button and look at console window for details" );
    return;
}

int sub_73014()
{
    switch (l_U716[1])
    {
        case 0: return 10;
        case 1: return 6;
        case 2: return 3;
        case 3: return 1;
        case 4: return 0;
    }
    sub_72870( "Get_LIKE(): Unknown Friend Pass ID" );
    return 0;
}

int sub_73257(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 4;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_71538( iVar3, 1000, 5, 2, 0, 0 );
        break;
        default:
        sub_72160( "Mum", 1 );
        sub_71538( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_72160( "Mum", 0 );
        sub_71538( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_73390(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 5;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_71538( iVar3, 2000, 5, 2, 0, 0 );
        break;
        case 1:
        sub_71538( iVar3, 4000, 5, 2, 0, 0 );
        break;
        case 2:
        sub_71538( iVar3, 6000, 5, 2, 0, 0 );
        break;
        default:
        sub_72160( "Bulgarin", 1 );
        sub_71538( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_72160( "Bulgarin", 0 );
        sub_71538( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_73587(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 6;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_71538( iVar3, 5000, 5, 2, 0, 0 );
        break;
        default:
        sub_72160( "Rocco", 1 );
        sub_71538( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_72160( "Rocco", 0 );
        sub_71538( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_73724(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 7;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_71538( iVar3, 0, sub_72748(), sub_73014(), 0, 0 );
        break;
        default:
        sub_72160( "Henrique", 1 );
        sub_71538( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_72160( "Henrique", 0 );
        sub_71538( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_73873(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 8;
    bVar4 = false;
    if (bVar4)
    {
        sub_72160( "Reserve 1", 0 );
        sub_71538( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

void sub_74091(int iParam0, int iParam1)
{
    if (g_U0)
    {
        return;
    }
    if (iParam0 == -1)
    {
        return;
    }
    if (iParam1 == -1)
    {
        return;
    }
    if (g_U10972)
    {
        return;
    }
    if (sub_74152( iParam0, iParam1 ))
    {
        INCREMENT_INT_STAT_NO_MESSAGE( 253, 1 );
        sub_74878( iParam1 );
    }
    return;
}

int sub_74152(int iParam0, int iParam1)
{
    int iVar4;
    boolean bVar5;
    int iVar6;

    if (g_U0)
    {
        return 0;
    }
    if (iParam0 == -1)
    {
        return 0;
    }
    if (iParam1 == -1)
    {
        return 0;
    }
    iVar4 = g_U14925[iParam1]._fU0._fU56;
    bVar5 = iVar4 == 6;
    if (bVar5)
    {
        return 0;
    }
    iVar6 = 0;
    if (NOT (IS_BIT_SET( g_U22960[iParam0]._fU108, 3 )))
    {
        iVar6 = g_U22960[iParam0]._fU104;
        if (iVar6 > 0)
        {
            sub_74292( 0, iVar6 );
            g_U14902[iParam1]._fU4 += iVar6;
        }
        SET_BIT( ref g_U22960[iParam0]._fU108, 3 );
        return 1;
    }
    return 0;
}

void sub_74292(unknown uParam0, int iParam1)
{
    g_U28780[uParam0]._fU4 += iParam1;
    if (g_U28780[uParam0]._fU4 > g_U28780[uParam0]._fU0)
    {
        SCRIPT_ASSERT( "Flow_Achievements_Game_Progress_Made: Current Category is over target value" );
        g_U28780[uParam0]._fU4 = g_U28780[uParam0]._fU0;
    }
    sub_74462( 0 );
    return;
}

void sub_74462(boolean bParam0)
{
    float fVar3;
    float fVar4;
    float fVar5;
    float fVar6;
    boolean bVar7;
    int I;

    fVar3 = 0.00000000;
    fVar4 = 0.00000000;
    fVar5 = 0.00000000;
    fVar6 = 0.00000000;
    bVar7 = true;
    I = 0;
    for ( I = 0; I < 8; I++ )
    {
        if (g_U28780[I]._fU4 == g_U28780[I]._fU0)
        {
            fVar4 = g_U28780[I]._fU8;
        }
        else
        {
            bVar7 = false;
            fVar5 = TO_FLOAT( g_U28780[I]._fU0 );
            fVar6 = TO_FLOAT( g_U28780[I]._fU4 );
            fVar4 = (fVar6 / fVar5) * g_U28780[I]._fU8;
        }
        fVar3 += fVar4;
    }
    if (fVar3 > 100.00000000)
    {
        fVar3 = 99.99000000;
    }
    if (bVar7)
    {
        fVar3 = 100.00000000;
    }
    SET_FLOAT_STAT( 187, fVar3 );
    if (bVar7)
    {
        sub_74707();
    }
    if ((NOT ((# -NULL-0xc27bfa()) || (# -NULL-0xc27c84()))) AND ((NOT bParam0) AND (bVar7)))
    {
        PRINT_HELP( "GAME100" );
    }
    return;
}

void sub_74707()
{
    ENABLE_MAX_AMMO_CAP( 0 );
    g_U15811[5] = 1;
    return;
}

void sub_74878(int iParam0)
{
    float fVar3;
    float fVar4;
    float fVar5;

    if (g_U0)
    {
        return;
    }
    if (iParam0 == -1)
    {
        return;
    }
    if (g_U14902[iParam0]._fU0 == 0)
    {
        return;
    }
    fVar3 = 0.00000000;
    fVar4 = 0.00000000;
    fVar5 = 0.00000000;
    if (g_U14902[iParam0]._fU4 == g_U14902[iParam0]._fU0)
    {
        fVar3 = 100.00000000;
    }
    else
    {
        fVar4 = TO_FLOAT( g_U14902[iParam0]._fU0 );
        fVar5 = TO_FLOAT( g_U14902[iParam0]._fU4 );
        fVar3 = fVar5 / fVar4;
        fVar3 *= 100.00000000;
    }
    switch (iParam0)
    {
        case 0:
        sub_75117( 188 );
        SET_FLOAT_STAT( 188, fVar3 );
        break;
        case 1:
        sub_75117( 192 );
        SET_FLOAT_STAT( 192, fVar3 );
        break;
        case 2:
        sub_75117( 191 );
        SET_FLOAT_STAT( 191, fVar3 );
        break;
        case 3:
        sub_75117( 197 );
        SET_FLOAT_STAT( 197, fVar3 );
        break;
        case 4: break;
        case 5:
        sub_75117( 200 );
        SET_FLOAT_STAT( 200, fVar3 );
        break;
        case 6:
        sub_75117( 201 );
        SET_FLOAT_STAT( 201, fVar3 );
        break;
        default: return;
    }
    return;
}

void sub_75117(unknown uParam0)
{
    if ((GET_STAT_FRONTEND_VISIBILITY( uParam0 )) == 0)
    {
        SET_STAT_FRONTEND_VISIBILITY( uParam0, 1 );
    }
    return;
}

void sub_75549(unknown uParam0, unknown uParam1)
{
    sub_75568( uParam0, 0, 0.00000000, uParam1 );
    return;
}

void sub_75568(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;

    switch (uParam0)
    {
        case 0:
        PLAYSTATS_INT( "SPRUNK_BOUGHT", uParam1 );
        break;
        case 1:
        PLAYSTATS_INT( "HOTDOG_BOUGHT", uParam1 );
        break;
        case 2:
        PLAYSTATS_INT( "NUTS_BOUGHT", uParam1 );
        break;
        case 3:
        PLAYSTATS_INT( "BURGERS_BOUGHT", uParam1 );
        break;
        case 7:
        PLAYSTATS_INT( "DONATE_BEGGAR", uParam1 );
        break;
        case 8:
        PLAYSTATS_INT( "DONATE_BUSKER", uParam1 );
        break;
        case 4:
        PLAYSTATS_INT( "BSHOT_BOUGHT", uParam1 );
        break;
        case 5:
        PLAYSTATS_INT( "CBELL_BOUGHT", uParam1 );
        break;
        case 6:
        PLAYSTATS_INT( "CAFE_BOUGHT", uParam1 );
        break;
        case 9: break;
    }
    return;
}

int sub_76000(int iParam0, int iParam1)
{
    if (iParam0 == 0)
    {
        if (iParam1 == 12)
        {
            return 1;
        }
    }
    if (iParam0 == 0)
    {
        if (iParam1 == 0)
        {
            return 1;
        }
    }
    return 0;
}

void sub_76079(unknown uParam0)
{
    sub_3355();
    g_U12382[uParam0]._fU120 = 0;
    return;
}

void sub_76118(unknown uParam0)
{
    if (g_U10754)
    {
        g_U10754 = 0;
        return;
    }
    SET_BIT( ref g_U10751._fU0, 1 );
    sub_76169( ref g_U10751._fU0, 2, uParam0 );
    CLEAR_BIT( ref g_U10751._fU0, 3 );
    g_U10751._fU4 = 0;
    g_U10751._fU8 = 0;
    return;
}

void sub_76169(unknown uParam0, unknown uParam1, boolean bParam2)
{
    if (bParam2)
    {
        SET_BIT( uParam0, uParam1 );
        return;
    }
    CLEAR_BIT( uParam0, uParam1 );
    return;
}

void sub_76293()
{
    sub_76302();
    return;
}

void sub_76302()
{
    if (g_U0)
    {
        return;
    }
    if (COMPARE_STRING( ref g_U10966, "" ))
    {
        return;
    }
    PLAYSTATS_MISSION_PASSED( ref g_U10966 );
    StrCopy( ref g_U10966, "", 16 );
    return;
}

void sub_76392()
{
    sub_76302();
    return;
}

void sub_76444()
{
    sub_76302();
    StrCopy( ref g_U10966, "FPASS", 16 );
    return;
}

void sub_76713()
{
    vector vVar2;
    int iVar5;

    vVar2 = {-576.92590000, 220.33740000, 3.81110000};
    switch (l_U1198)
    {
        case 0:
        if ((NOT IS_SCREEN_FADING()) AND ((IS_PLAYER_CONTROL_ON( sub_5022() )) AND ((sub_34325( 1, 1 )) AND (NOT IS_MESSAGE_BEING_DISPLAYED()))))
        {
            SET_PLAYER_CONTROL( sub_5022(), 0 );
            CLEAR_PRINTS();
            CLEAR_HELP();
            if (NOT IS_SCREEN_FADED_OUT())
            {
                DO_SCREEN_FADE_OUT( 500 );
                while (NOT IS_SCREEN_FADED_OUT())
                {
                    WAIT( 0 );
                }
            }
            sub_22626( 0 );
            sub_5560( 0 );
            if (g_U2692[0]._fU56)
            {
                if (NOT (IS_CHAR_IN_ANY_CAR( sub_2502() )))
                {
                    sub_68112( sub_2502() );
                }
                g_U2692[0]._fU56 = 0;
            }
            sub_68215( 0 );
            DISPLAY_RADAR( 0 );
            SET_WIDESCREEN_BORDERS( 1 );
            CLEAR_AREA( vVar2.x, vVar2.y, vVar2.z, 200.00000000, 1 );
            SET_PED_DENSITY_MULTIPLIER( 0.00000000 );
            if (DOES_CHAR_EXIST( l_U1065 ))
            {
                DELETE_CHAR( ref l_U1065 );
            }
            if (DOES_CHAR_EXIST( l_U1064 ))
            {
                DELETE_CHAR( ref l_U1064 );
            }
            sub_17615( 0 );
            while (NOT (sub_18103( 0 )))
            {
                WAIT( 0 );
            }
            sub_77138( 0, ref l_U1064, -577.85500000, 219.87600000, 3.81110000, 275.65350000 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1064, 1 );
            sub_19724( 0 );
            sub_6594( 1, l_U1064, "TONY", 0 );
            if (IS_CHAR_IN_ANY_CAR( sub_2502() ))
            {
                WARP_CHAR_FROM_CAR_TO_COORD( sub_2502(), vVar2.x, vVar2.y, vVar2.z );
            }
            else
            {
                SET_CHAR_COORDINATES( sub_2502(), vVar2.x, vVar2.y, vVar2.z );
            }
            SET_CHAR_HEADING( sub_2502(), 121.39150000 );
            if (DOES_VEHICLE_EXIST( l_U1068 ))
            {
                DELETE_CAR( ref l_U1068 );
            }
            HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_2502(), 1 );
            CLEAR_CHAR_TASKS_IMMEDIATELY( sub_2502() );
            TASK_TURN_CHAR_TO_FACE_CHAR( sub_2502(), l_U1064 );
            TASK_TURN_CHAR_TO_FACE_CHAR( l_U1064, sub_2502() );
            TASK_LOOK_AT_CHAR( sub_2502(), l_U1064, -2, 0 );
            TASK_LOOK_AT_CHAR( l_U1064, sub_2502(), -2, 0 );
            WAIT( 1000 );
            CREATE_CAM( 14, ref l_U1082 );
            SET_CAM_POS( l_U1082, -579.71550000, 220.26150000, 5.16339500 );
            SET_CAM_ROT( l_U1082, 1.14190300, 0.00000000, -90.07473000 );
            SET_CAM_FOV( l_U1082, 35.10003000 );
            CREATE_CAM( 14, ref l_U1083 );
            SET_CAM_POS( l_U1083, -579.31560000, 221.42150000, 5.16339500 );
            SET_CAM_ROT( l_U1083, -0.23319500, 0.00000000, -125.59800000 );
            SET_CAM_FOV( l_U1083, 35.10003000 );
            CREATE_CAM( 3, ref l_U1084 );
            SET_CAM_INTERP_STYLE_CORE( l_U1084, l_U1082, l_U1083, 35000, 0 );
            SET_CAM_INTERP_STYLE_DETAILED( l_U1084, 0, 0, 1, 1 );
            SET_USE_HIGHDOF( 1 );
            SET_CAM_FAR_DOF( l_U1082, 10.00000000 );
            SET_CAM_FAR_DOF( l_U1083, 10.00000000 );
            sub_43327( l_U1084, 1 );
            LOAD_SCENE( vVar2.x, vVar2.y, vVar2.z );
            WAIT( 0 );
            if (NOT IS_SCREEN_FADED_IN())
            {
                DO_SCREEN_FADE_IN( 500 );
                while (NOT IS_SCREEN_FADED_IN())
                {
                    WAIT( 0 );
                }
            }
            CLEAR_PRINTS();
            CLEAR_HELP();
            l_U1180 = 1;
            switch (l_U1199)
            {
                case 3:
                sub_22541( "E2T4B_FAILA", 17, 6, "E2T4BAU", 0, 0 );
                break;
                case 5:
                sub_22541( "E2T4B_FAILB", 18, 6, "E2T4BAU", 0, 0 );
                break;
            }
            SETTIMERB( 0 );
            l_U1198 = 1;
        }
        break;
        case 1:
        if ((NOT sub_32455()) AND (TIMERB() > 7000))
        {
            if (NOT (IS_CHAR_INJURED( l_U1064 )))
            {
                GET_SCRIPT_TASK_STATUS( l_U1064, 27, ref iVar5 );
                if (iVar5 != 1)
                {
                    TASK_FOLLOW_NAV_MESH_TO_COORD( l_U1064, -615.18100000, 195.52890000, 3.81220000, 2, -2, 0.50000000 );
                    sub_43327( l_U1084, 0 );
                    SET_CAM_POS( l_U1082, -580.93040000, 223.06020000, 5.01147500 );
                    SET_CAM_ROT( l_U1082, -2.63961800, 0.00000000, -136.25490000 );
                    SET_CAM_FOV( l_U1082, 35.10003000 );
                    SET_CAM_FAR_DOF( l_U1082, 20.00000000 );
                    sub_43327( l_U1082, 1 );
                    SETTIMERB( 0 );
                }
                else if (TIMERB() > 2000)
                {
                    l_U1198 = 2;
                }
            }
        }
        if (sub_47006())
        {
            l_U1198 = 2;
        }
        break;
        case 2:
        if (NOT IS_SCREEN_FADED_OUT())
        {
            DO_SCREEN_FADE_OUT( 500 );
            while (NOT IS_SCREEN_FADED_OUT())
            {
                WAIT( 0 );
            }
        }
        sub_22626( 0 );
        DELETE_CHAR( ref l_U1064 );
        if (DOES_CAM_EXIST( l_U1082 ))
        {
            DESTROY_CAM( l_U1082 );
        }
        if (DOES_CAM_EXIST( l_U1083 ))
        {
            DESTROY_CAM( l_U1083 );
        }
        if (DOES_CAM_EXIST( l_U1084 ))
        {
            DESTROY_CAM( l_U1084 );
        }
        ACTIVATE_SCRIPTED_CAMS( 0, 0 );
        SET_USE_HIGHDOF( 0 );
        CLEAR_CHAR_TASKS_IMMEDIATELY( sub_2502() );
        SET_CAM_BEHIND_PED( sub_2502() );
        SET_GAME_CAM_HEADING( 0.00000000 );
        DISPLAY_RADAR( 1 );
        SET_WIDESCREEN_BORDERS( 0 );
        HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_2502(), 0 );
        LOAD_SCENE( vVar2.x, vVar2.y, vVar2.z );
        if (NOT IS_SCREEN_FADED_IN())
        {
            DO_SCREEN_FADE_IN( 500 );
            while (NOT IS_SCREEN_FADED_IN())
            {
                WAIT( 0 );
            }
        }
        SET_PLAYER_CONTROL( sub_5022(), 1 );
        sub_64975( 0 );
        break;
    }
    return;
}

void sub_77138(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    CREATE_CHAR( sub_18295( uParam0 ), sub_17626( uParam0 ), uParam2, uParam3, uParam4, uParam1, 1 );
    sub_18336( uParam0, (uParam1^) );
    SET_CHAR_HEADING( (uParam1^), uParam5 );
    sub_18358( uParam0, (uParam1^) );
    return;
}

void sub_78638()
{
    vector vVar2;

    vVar2 = {-576.92590000, 220.33740000, 3.81110000};
    switch (l_U1198)
    {
        case 0:
        if ((NOT IS_SCREEN_FADING()) AND ((IS_PLAYER_CONTROL_ON( sub_5022() )) AND ((sub_34325( 1, 1 )) AND (NOT IS_MESSAGE_BEING_DISPLAYED()))))
        {
            SET_PLAYER_CONTROL( sub_5022(), 0 );
            CLEAR_PRINTS();
            CLEAR_HELP();
            if (NOT IS_SCREEN_FADED_OUT())
            {
                DO_SCREEN_FADE_OUT( 500 );
                while (NOT IS_SCREEN_FADED_OUT())
                {
                    WAIT( 0 );
                }
            }
            sub_22626( 0 );
            sub_5560( 0 );
            if (g_U2692[0]._fU56)
            {
                if (NOT (IS_CHAR_IN_ANY_CAR( sub_2502() )))
                {
                    sub_68112( sub_2502() );
                }
                g_U2692[0]._fU56 = 0;
            }
            sub_68215( 0 );
            DISPLAY_RADAR( 0 );
            SET_WIDESCREEN_BORDERS( 1 );
            CLEAR_AREA( vVar2.x, vVar2.y, vVar2.z, 200.00000000, 1 );
            SET_PED_DENSITY_MULTIPLIER( 0.00000000 );
            if (DOES_CHAR_EXIST( l_U1064 ))
            {
                DELETE_CHAR( ref l_U1064 );
            }
            if (DOES_CHAR_EXIST( l_U1065 ))
            {
                DELETE_CHAR( ref l_U1065 );
            }
            REQUEST_MODEL( -1798587656 );
            while (NOT (HAS_MODEL_LOADED( -1798587656 )))
            {
                WAIT( 0 );
            }
            CREATE_CHAR( 26, -1798587656, -577.85500000, 219.87600000, 3.81110000, ref l_U1065, 1 );
            SET_CHAR_HEADING( l_U1065, 275.65350000 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1065, 1 );
            MARK_MODEL_AS_NO_LONGER_NEEDED( -1798587656 );
            SET_CHAR_COMPONENT_VARIATION( l_U1065, 2, 0, 0 );
            sub_6594( 2, l_U1065, "CELEBINATOR", 0 );
            if (IS_CHAR_IN_ANY_CAR( sub_2502() ))
            {
                WARP_CHAR_FROM_CAR_TO_COORD( sub_2502(), vVar2.x, vVar2.y, vVar2.z );
            }
            else
            {
                SET_CHAR_COORDINATES( sub_2502(), vVar2.x, vVar2.y, vVar2.z );
            }
            SET_CHAR_HEADING( sub_2502(), 121.39150000 );
            if (DOES_VEHICLE_EXIST( l_U1068 ))
            {
                DELETE_CAR( ref l_U1068 );
            }
            HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_2502(), 1 );
            CLEAR_CHAR_TASKS_IMMEDIATELY( sub_2502() );
            TASK_TURN_CHAR_TO_FACE_CHAR( sub_2502(), l_U1065 );
            TASK_TURN_CHAR_TO_FACE_CHAR( l_U1065, sub_2502() );
            TASK_LOOK_AT_CHAR( sub_2502(), l_U1065, -2, 0 );
            TASK_LOOK_AT_CHAR( l_U1065, sub_2502(), -2, 0 );
            WAIT( 1000 );
            CREATE_CAM( 14, ref l_U1082 );
            SET_CAM_POS( l_U1082, -579.71550000, 220.26150000, 5.16339500 );
            SET_CAM_ROT( l_U1082, 1.14190300, 0.00000000, -90.07473000 );
            SET_CAM_FOV( l_U1082, 35.10003000 );
            CREATE_CAM( 14, ref l_U1083 );
            SET_CAM_POS( l_U1083, -579.31560000, 221.42150000, 5.16339500 );
            SET_CAM_ROT( l_U1083, -0.23319500, 0.00000000, -125.59800000 );
            SET_CAM_FOV( l_U1083, 35.10003000 );
            CREATE_CAM( 3, ref l_U1084 );
            SET_CAM_INTERP_STYLE_CORE( l_U1084, l_U1082, l_U1083, 35000, 0 );
            SET_CAM_INTERP_STYLE_DETAILED( l_U1084, 0, 0, 1, 1 );
            SET_USE_HIGHDOF( 1 );
            SET_CAM_FAR_DOF( l_U1082, 10.00000000 );
            SET_CAM_FAR_DOF( l_U1083, 10.00000000 );
            sub_43327( l_U1084, 1 );
            LOAD_SCENE( vVar2.x, vVar2.y, vVar2.z );
            WAIT( 0 );
            if (NOT IS_SCREEN_FADED_IN())
            {
                DO_SCREEN_FADE_IN( 500 );
                while (NOT IS_SCREEN_FADED_IN())
                {
                    WAIT( 0 );
                }
            }
            CLEAR_PRINTS();
            CLEAR_HELP();
            l_U1180 = 1;
            switch (l_U1199)
            {
                case 1:
                sub_22541( "E2T4B_FAILC", 19, 6, "E2T4BAU", 0, 0 );
                break;
                default:
            }
            SETTIMERB( 0 );
            l_U1198 = 1;
        }
        break;
        case 1:
        if (l_U1026 == 0)
        {
            if ((NOT sub_32455()) AND (TIMERB() > 7000))
            {
                if (NOT (IS_CHAR_INJURED( l_U1065 )))
                {
                    TASK_FOLLOW_NAV_MESH_TO_COORD( l_U1065, -615.18100000, 195.52890000, 3.81220000, 2, -2, 0.50000000 );
                }
                l_U1026++;
                SETTIMERB( 0 );
            }
        }
        else if (l_U1026 == 1)
        {
            if (TIMERB() > 500)
            {
                sub_43327( l_U1084, 0 );
                SET_CAM_POS( l_U1082, -580.93040000, 223.06020000, 5.01147500 );
                SET_CAM_ROT( l_U1082, -2.63961800, 0.00000000, -136.25490000 );
                SET_CAM_FOV( l_U1082, 35.10003000 );
                SET_CAM_FAR_DOF( l_U1082, 20.00000000 );
                sub_43327( l_U1082, 1 );
                SETTIMERB( 0 );
                l_U1026++;
            }
        }
        else if (TIMERB() > 2000)
        {
            l_U1198 = 2;
        };;;
        if (sub_47006())
        {
            l_U1198 = 2;
        }
        break;
        case 2:
        if (NOT IS_SCREEN_FADED_OUT())
        {
            DO_SCREEN_FADE_OUT( 500 );
            while (NOT IS_SCREEN_FADED_OUT())
            {
                WAIT( 0 );
            }
        }
        sub_22626( 0 );
        DELETE_CHAR( ref l_U1065 );
        if (DOES_CAM_EXIST( l_U1082 ))
        {
            DESTROY_CAM( l_U1082 );
        }
        if (DOES_CAM_EXIST( l_U1083 ))
        {
            DESTROY_CAM( l_U1083 );
        }
        if (DOES_CAM_EXIST( l_U1084 ))
        {
            DESTROY_CAM( l_U1084 );
        }
        SET_USE_HIGHDOF( 0 );
        ACTIVATE_SCRIPTED_CAMS( 0, 0 );
        CLEAR_CHAR_TASKS_IMMEDIATELY( sub_2502() );
        SET_CAM_BEHIND_PED( sub_2502() );
        SET_GAME_CAM_HEADING( 0.00000000 );
        DISPLAY_RADAR( 1 );
        SET_WIDESCREEN_BORDERS( 0 );
        HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_2502(), 0 );
        LOAD_SCENE( vVar2.x, vVar2.y, vVar2.z );
        if (NOT IS_SCREEN_FADED_IN())
        {
            DO_SCREEN_FADE_IN( 500 );
            while (NOT IS_SCREEN_FADED_IN())
            {
                WAIT( 0 );
            }
        }
        SET_PLAYER_CONTROL( sub_5022(), 1 );
        sub_64975( 0 );
        break;
    }
    return;
}

void sub_80527()
{
    switch (l_U1201)
    {
        case 0:
        if (NOT g_U43133)
        {
            if (((IS_CHAR_IN_ANY_CAR( sub_2502() )) || (sub_62866( sub_2502() ))) AND ((NOT (sub_51369( l_U1182 ))) AND (NOT (sub_32430( 0 )))))
            {
                switch (l_U1199)
                {
                    case 2:
                    if (sub_80683( 0, "E2T4B_CALLB", "E2T4BAU", 1000, 1 ))
                    {
                        l_U1201 = 1;
                    }
                    break;
                    case 3:
                    if (sub_80683( 0, "E2T4B_CALLA", "E2T4BAU", 1000, 1 ))
                    {
                        l_U1201 = 1;
                    }
                    break;
                }
                l_U1136 = 0;
            }
        }
        else
        {
            sub_64975( 0 );
        }
        break;
        case 1:
        if ((sub_84158() == 2) || (sub_83897( 0 )))
        {
            sub_5560( 0 );
            if (g_U2692[0]._fU56)
            {
                if (NOT (IS_CHAR_IN_ANY_CAR( sub_2502() )))
                {
                    sub_68112( sub_2502() );
                }
                g_U2692[0]._fU56 = 0;
            }
            sub_64975( 0 );
        }
        break;
    }
    return;
}

void sub_80683(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    char[12] cVar7;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown[2] uVar16;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;

    array(ref cVar7, 2);
    StrCopy( ref cVar7[0], uParam1, 16 );
    StrCopy( ref cVar7[1], "END", 16 );
    array(ref uVar16, 2);
    return sub_80743( uParam0, ref cVar7, uParam2, 0, ref uVar16, ref uVar16, "", uParam3, 1, 0, 1, 0, 0, uParam4 );
}

int sub_80743(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, boolean bParam8, unknown uParam9, unknown uParam10, boolean bParam11, unknown uParam12, unknown uParam13)
{
    int I;

    if (g_U95._fU540)
    {
        return 0;
    }
    sub_22868( "\n SETUP_AUDIO_PHONE_CALL has been called" );
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if (g_U8865 >= 6)
        {
            sub_22868( "\n scripted conversation is ongoing and priority is high" );
            return 0;
        }
    }
    if (NOT (IS_PLAYER_PLAYING( sub_5022() )))
    {
        sub_22868( "\n player is not playing" );
        return 0;
    }
    if ((NOT (IS_CHAR_SITTING_IN_ANY_CAR( sub_2502() ))) AND (IS_CHAR_IN_ANY_CAR( sub_2502() )))
    {
        sub_22868( "\n player is in middle of getting in/out of a car" );
        return 0;
    }
    switch (g_U8867)
    {
        case 4:
        case 1:
        case 2:
        sub_22868( "\n speechControlStatus = SPEECH_CONTROL_STREAMING_MOBILE OR speechControlStatus = SPEECH_CONTROL_STREAMING_CONVERSATION" );
        return 0;
        break;
    }
    switch (uParam9)
    {
        case 0:
        if ((NOT bParam11) AND (NOT sub_81258()))
        {
            return 0;
        }
        g_U95._fU60 = uParam0;
        g_U95._fU48 = 1;
        g_U16014[g_U95._fU60]._fU212._fU24 = 0;
        break;
        case 1:
        if (g_U95._fU368)
        {
            if ((NOT bParam8) || (g_U95._fU372))
            {
                sub_22868( "\n cellphone3Dstructure.missionAnsweredPhone OR (NOT missionCall)" );
                return 0;
            }
        }
        if (g_U95._fU60 != -1)
        {
            if ((g_U16014[g_U95._fU60]._fU212._fU24 != 4) AND (g_U16014[g_U95._fU60]._fU212._fU24 != 5))
            {
                g_U16014[g_U95._fU60]._fU212._fU24 = 0;
            }
        }
        g_U95._fU368 = 1;
        g_U95._fU372 = bParam8;
        uParam0 = g_U95._fU60;
        break;
        case 2:
        if ((NOT bParam11) AND (NOT sub_81258()))
        {
            return 0;
        }
        g_U95._fU60 = uParam0;
        g_U95._fU52 = 1;
        g_U95._fU56 = 1;
        g_U95._fU372 = 1;
        g_U95._fU368 = 1;
        g_U16014[g_U95._fU60]._fU212._fU24 = 0;
        break;
    }
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        ABORT_SCRIPTED_CONVERSATION( 0 );
    }
    sub_82630( uParam0, ref g_U95._fU176 );
    sub_83290( ref g_U95._fU160 );
    g_U95._fU380 = uParam10;
    g_U95._fU376 = bParam11;
    g_U95._fU420 = uParam12;
    g_U95._fU424 = -1;
    g_U95._fU364 = uParam3;
    StrCopy( ref g_U95._fU144, uParam2, 16 );
    for ( I = 0; I <= (g_U8972 - 1); I++ )
    {
        StrCopy( ref g_U8972[I], "END", 16 );
    }
    for ( I = 0; I <= ((uParam1^) - 1); I++ )
    {
        g_U8972[I] = {(uParam1^)[I]};
        sub_6718( "\n Telling phone we want to play these labels ", ref (uParam1^)[I] );
    }
    for ( I = 0; I <= (g_U95._fU260 - 1); I++ )
    {
        if (I < (uParam4^))
        {
            g_U95._fU260[I] = {(uParam4^)[I]};
        }
        else
        {
            StrCopy( ref g_U95._fU260[I], "", 16 );
        }
    }
    for ( I = 0; I <= (g_U95._fU312 - 1); I++ )
    {
        if (I < (uParam5^))
        {
            g_U95._fU312[I] = {(uParam5^)[I]};
        }
        else
        {
            StrCopy( ref g_U95._fU312[I], "", 16 );
        }
    }
    StrCopy( ref g_U95._fU208, uParam6, 16 );
    g_U95._fU80 = uParam7;
    g_U95._fU384 = 0;
    g_U95._fU532 = uParam13;
    g_U8867 = 4;
    return 1;
}

int sub_81258()
{
    if ((g_U95._fU52) || (g_U95._fU48))
    {
        return 0;
    }
    if (g_U95._fU40 == 0)
    {
        return 0;
    }
    if (NOT sub_81315())
    {
        return 0;
    }
    if (g_U560 == 1)
    {
        return 0;
    }
    return 1;
}

int sub_81315()
{
    boolean bVar2;
    unknown uVar3;

    bVar2 = false;
    if (NOT (IS_PLAYER_PLAYING( sub_5022() )))
    {
        sub_22868( "\n PHONE SCREEN CHECK - player is not playing." );
        return 0;
    }
    if (NETWORK_HAVE_SUMMONS())
    {
        sub_22868( "\n PHONE SCREEN CHECK - player has been summoned into another session." );
        return 0;
    }
    if (g_U95._fU376)
    {
        sub_22868( "\n PHONE CHECK - .cellphone3Dstructure.overrideCellphoneChecks is returning TRUE" );
        return 1;
    }
    if ((g_U95._fU104) || (g_U95._fU100))
    {
        sub_22868( "\n PHONE CHECK - .hideCellphone OR .disableCellphone are returning TRUE." );
        return 0;
    }
    if (NOT (IS_PLAYER_FREE_FOR_AMBIENT_TASK( sub_5022() )))
    {
        if (NOT (IS_CHAR_IN_ANY_CAR( sub_2502() )))
        {
            GET_SCRIPT_TASK_STATUS( sub_2502(), 53, ref uVar3 );
            switch (uVar3)
            {
                case 7:
                case 2:
                sub_22868( "\n PHONE CHECK - player is not free for an ambient task and is not in a car)" );
                return 0;
                break;
                default:
                if (NOT (IS_CHAR_IN_WATER( sub_2502() )))
                {
                    bVar2 = true;
                }
                else
                {
                    sub_22868( "\n PHONE CHECK - player is in water" );
                    return 0;
                }
                break;
            }
        }
    }
    if ((NOT bVar2) AND (CODE_WANTS_MOBILE_PHONE_REMOVED()))
    {
        sub_22868( "\n PHONE CHECK - CODE_WANTS_MOBILE_PHONE_REMOVED() is returning TRUE." );
        return 0;
    }
    if (NOT (IS_PLAYER_SCRIPT_CONTROL_ON( sub_5022() )))
    {
        sub_22868( "\n PHONE CHECK - IS_PLAYER_SCRIPT_CONTROL_ON is returning FALSE." );
        return 0;
    }
    return 1;
}

void sub_82630(unknown uParam0, unknown uParam1)
{
    switch (uParam0)
    {
        case 0:
        StrCopy( (uParam1^), "TONY", 32 );
        break;
        case 1:
        StrCopy( (uParam1^), "MORI", 32 );
        break;
        case 2:
        StrCopy( (uParam1^), "YUSUF", 32 );
        break;
        case 3:
        StrCopy( (uParam1^), "ARMANDO", 32 );
        break;
        case 4:
        StrCopy( (uParam1^), "ADRIANA", 32 );
        break;
        case 5:
        StrCopy( (uParam1^), "BULGARIN", 32 );
        break;
        case 6:
        StrCopy( (uParam1^), "ROCCO", 32 );
        break;
        case 7:
        StrCopy( (uParam1^), "HENRIQUE", 32 );
        break;
        case 9:
        StrCopy( (uParam1^), "reserve1", 32 );
        break;
        case 29:
        StrCopy( (uParam1^), "ASSISTANT", 32 );
        break;
        case 28:
        StrCopy( (uParam1^), "DESSIE", 32 );
        break;
        case 16:
        StrCopy( (uParam1^), "JOJO", 32 );
        break;
        case 17:
        StrCopy( (uParam1^), "TAYLOR", 32 );
        break;
        case 18:
        StrCopy( (uParam1^), "VIKKY", 32 );
        break;
        case 19:
        StrCopy( (uParam1^), "ANA", 32 );
        break;
        case 20:
        StrCopy( (uParam1^), "DANA", 32 );
        break;
        case 21:
        StrCopy( (uParam1^), "CINDY", 32 );
        break;
        case 22:
        StrCopy( (uParam1^), "TANIA", 32 );
        break;
        case 23:
        StrCopy( (uParam1^), "LILY", 32 );
        break;
        case 24:
        StrCopy( (uParam1^), "TAMI", 32 );
        break;
        case 25:
        StrCopy( (uParam1^), "DOMINO", 32 );
        break;
        case 26:
        StrCopy( (uParam1^), "HEIDI", 32 );
        break;
        case 27:
        StrCopy( (uParam1^), "SIMONE", 32 );
        break;
        case 12:
        StrCopy( (uParam1^), "LAZLOW", 32 );
        break;
        default:
        StrCopy( (uParam1^), "", 32 );
        break;
    }
    return;
}

void sub_83290(unknown uParam0)
{
    StrCopy( (uParam0^), "LUIS", 16 );
    return;
}

int sub_83897(boolean bParam0)
{
    unknown uVar3;

    if (g_U95._fU60 != -1)
    {
        switch (g_U16014[g_U95._fU60]._fU212._fU24)
        {
            case 0:
            case 3:
            case 4:
            case 5:
            return 0;
            break;
            default:
            if (g_U95._fU0 != 1000)
            {
                return 0;
            }
            break;
        }
    }
    if (bParam0)
    {
        GET_SCRIPT_TASK_STATUS( sub_2502(), 53, ref uVar3 );
        switch (uVar3)
        {
            case 7:
            case 2:
            return 1;
            break;
            default:
            sub_22868( "\n HAS_PHONE_CALL_ENDED - player is still using the phone" );
            return 0;
            break;
        }
    }
    return 1;
}

int sub_84158()
{
    if (g_U95._fU60 != -1)
    {
        return g_U16014[g_U95._fU60]._fU212._fU24;
    }
    return 6;
}

void sub_84325()
{
    return;
}

void sub_84347()
{
    int iVar2;

    if (l_U1180)
    {
        if (sub_22641( l_U1182 ))
        {
            sub_22682( l_U1189, ref l_U1182, l_U1188, 1 );
        }
    }
    else if (NOT (sub_22641( l_U1182 )))
    {
        sub_84429( ref l_U1182 );
    }
    iVar2 = 1;
    if (l_U1181)
    {
        if (NOT (DOES_CHAR_EXIST( l_U1191 )))
        {
            iVar2 = 0;
        }
        else if (IS_CHAR_INJURED( l_U1191 ))
        {
            iVar2 = 0;
        }
    }
    if ((iVar2) AND ((l_U1180) AND ((NOT l_U1137[l_U1136]) AND (l_U1136 != 0))))
    {
        if ((NOT sub_22443()) AND (NOT IS_MESSAGE_BEING_DISPLAYED()))
        {
            sub_84930( l_U1190 );
            sub_23830( l_U1189, ref l_U1182, l_U1188, 1 );
            l_U1137[l_U1136] = 1;
            if (l_U1136 == 29)
            {
                l_U1035++;
            }
        }
    }
    return;
}

int sub_84429(int iParam0)
{
    if (iParam0->_fU12)
    {
        sub_22868( "\n already paused" );
    }
    else if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if (iParam0->_fU4 == g_U8866)
        {
            iParam0->_fU8 += (ABORT_SCRIPTED_CONVERSATION( 1 )) + 1;
            sub_22868( "\n CONVERSATION PAUSED AT LINE " );
            sub_84569( iParam0->_fU8 );
            iParam0->_fU12 = 1;
            iParam0->_fU16 = 0;
            return 1;
        }
        else
        {
            sub_22868( "\n NOT pausing the line as scripted and global speech id dont match" );
        }
    }
    else
    {
        sub_22868( "\n NOT pausing the line as conversation is not playing" );
    }
    if (NOT iParam0->_fU12)
    {
        iParam0->_fU8 = -1;
        sub_22868( "\n reseting paused struct line" );
    }
    return 0;
}

void sub_84569(unknown uParam0)
{
    return;
}

int sub_84930(unknown uParam0)
{
    if (NOT IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        StrCopy( ref l_U539._fU0, uParam0, 16 );
        return 1;
    }
    return 0;
}

int sub_85175(unknown uParam0)
{
    unknown uVar3;
    int iVar4;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        if (NOT (IS_CAR_IN_AIR_PROPER( uParam0 )))
        {
            GET_CAR_ROLL( uParam0, ref uVar3 );
            if ((ABSF( uVar3 )) > 70.00000000)
            {
                if (l_U1023 == 0)
                {
                    GET_GAME_TIMER( ref l_U1023 );
                }
                else
                {
                    GET_GAME_TIMER( ref iVar4 );
                    if ((iVar4 - l_U1023) > 8000)
                    {
                        return 1;
                    }
                }
            }
            else
            {
                l_U1023 = 0;
            }
        }
        else
        {
            l_U1023 = 0;
        }
    }
    return 0;
}

