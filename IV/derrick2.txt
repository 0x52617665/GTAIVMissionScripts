void main()
{
    l_U0 = 0;
    l_U1 = 1;
    l_U2 = 3;
    l_U102 = 0;
    l_U103 = 0;
    l_U104 = 0;
    l_U105 = 0;
    l_U106 = 0;
    l_U107 = 0;
    l_U108 = 0;
    l_U109 = 0;
    l_U110 = 0;
    l_U111 = 0;
    l_U112 = 0;
    l_U113 = 0;
    ProtectedSet(l_U114, 0);
    ProtectedSet(l_U115, 0);
    l_U116 = 0;
    l_U117 = 0;
    ProtectedSet(l_U178, 0.00000000);
    ProtectedSet(l_U179, 0.00000000);
    l_U209 = 0;
    l_U226 = -1;
    l_U230 = 0;
    l_U231 = 1;
    l_U232 = 1;
    l_U240 = 150.00000000;
    l_U330 = 0;
    l_U331 = 150.00000000;
    l_U381 = 0;
    l_U584 = 0;
    l_U585 = 0;
    l_U586 = 0;
    l_U587 = 0;
    l_U588 = 0;
    l_U589 = 1;
    l_U590 = 0;
    l_U591 = 0;
    l_U592 = 0;
    l_U593 = 1;
    l_U594 = 0;
    l_U595 = 0;
    l_U596 = 0;
    l_U597 = 0;
    l_U598 = 0;
    l_U599 = 0;
    l_U600 = 0;
    l_U601 = 0;
    l_U602 = 0;
    l_U603 = 1;
    l_U604 = 0;
    l_U605 = 0;
    l_U606 = 0;
    l_U607 = 0;
    l_U608 = 0;
    l_U609 = 0;
    l_U610 = 0;
    l_U611 = 1;
    l_U612 = 1;
    l_U613 = 0;
    l_U614 = 0;
    l_U615 = 0;
    l_U616 = 0;
    l_U617 = 0;
    l_U618 = 0;
    l_U619 = 0;
    l_U824 = 90.00000000;
    l_U825 = 5.00000000;
    l_U826 = 25.00000000;
    l_U827 = 15.00000000;
    l_U828 = 2.00000000;
    l_U829 = 4.00000000;
    l_U830 = 0.50000000;
    l_U831 = 120.00000000;
    l_U832 = 0.00000000;
    l_U833 = 0.00000000;
    l_U835 = 1.00000000;
    l_U836 = 0.00000000;
    l_U837 = 1.00000000;
    l_U838 = 10.00000000;
    l_U839 = 30.00000000;
    l_U841 = 1.00000000;
    l_U843 = 1.00000000;
    l_U844 = 5.00000000;
    l_U845 = 1.00000000;
    l_U846 = 1.00000000;
    l_U851 = 0.30000000;
    l_U852 = 0.50000000;
    l_U853 = 50.00000000;
    l_U911 = 0;
    l_U912 = 0;
    l_U913 = 0;
    l_U914 = 0;
    l_U915 = 1;
    l_U916 = 0;
    l_U917 = 0;
    l_U918 = 0;
    l_U919 = 0;
    l_U920 = -1;
    l_U921 = 0;
    l_U922 = 0;
    l_U923 = 0;
    l_U924 = 0;
    l_U925 = 0;
    l_U926 = 0;
    l_U927 = 0;
    l_U1132 = 0;
    l_U1133 = 0;
    l_U1137 = 0;
    l_U1138 = 0;
    l_U1139 = 0;
    l_U1140 = 0;
    l_U1141 = 0;
    l_U1142 = 0;
    l_U1143 = 0;
    l_U1144 = 0;
    l_U1145 = 0;
    l_U1146 = 0;
    l_U1147 = 0;
    l_U1148 = 0;
    l_U1149 = 0;
    l_U1746 = 0;
    l_U1747 = 0;
    l_U1748 = 0;
    l_U1749 = 0;
    l_U1750 = 0;
    l_U1756 = 0;
    l_U1757 = 0;
    l_U1758 = 0;
    l_U1759 = 0;
    l_U1760 = 0;
    l_U1761 = 0;
    l_U1762 = 0;
    l_U1763 = 0;
    l_U1764 = 0;
    l_U1765 = 0;
    l_U1766 = 0;
    l_U1767 = 0;
    l_U1768 = 0;
    l_U1769 = 0;
    l_U1770 = 0;
    l_U1771 = 0;
    l_U1772 = 0;
    l_U1773 = 0;
    l_U1774 = 0;
    l_U1775 = 0;
    l_U1776 = 0;
    l_U1777 = 1;
    l_U1778 = 0;
    l_U1779 = 0;
    l_U1780 = 0;
    l_U1781 = 0;
    l_U1782 = 0;
    l_U1783 = 0;
    l_U1784 = 0;
    l_U1785 = 0;
    l_U1786 = 0;
    l_U1793 = 0;
    l_U1794 = 0;
    l_U1795 = 0;
    l_U1801 = 0;
    l_U1802 = 0;
    l_U1803 = 0;
    l_U1804 = 0;
    l_U1805 = 0;
    l_U1806 = 0;
    l_U1807 = 0;
    l_U1808 = 0;
    l_U1809 = 0;
    l_U1810 = 0;
    l_U1811 = 1;
    l_U1812 = 0;
    l_U1813 = 0;
    l_U1814 = 0;
    l_U1815 = 0;
    l_U1816 = 0;
    l_U1817 = 0;
    l_U1818 = 0;
    l_U1819 = 0;
    l_U1820 = 0;
    l_U1821 = 0;
    l_U1823 = 0;
    l_U1829 = 0;
    l_U1833 = 0;
    l_U1834 = 0;
    l_U1840 = 0;
    l_U1842 = 0;
    l_U1843 = 0;
    l_U1844 = 0;
    l_U1845 = 0;
    l_U1848 = 0;
    l_U1849 = 0;
    l_U1850 = 0;
    l_U1853 = -2;
    l_U1854 = -2;
    l_U1856 = 0;
    l_U1857 = {-789.70000000, 905.80000000, 5.07870000};
    l_U1881 = {-783.92140000, 822.96070000, 0.00000000};
    l_U1884 = {-783.92140000, 893.60060000, 0.00000000};
    l_U1887 = {5.50000000, 4.50000000, 0.00000000};
    l_U1890 = {-0.60000000, -1.30000000, 0.80000000};
    l_U1893 = {4.70000000, 6.60000000, 0.00000000};
    l_U1896 = {2.20000000, 0.40000000, 3.10000000};
    l_U1899 = {1.20000000, -0.30000000, 3.20000000};
    l_U1902 = {0.50000000, -3.60000000, 3.60000000};
    l_U1905 = {6.60000000, 7.40000000, 0.30000000};
    l_U1943 = 0.00000000;
    l_U1944 = 3.00000000;
    l_U1945 = 0;
    l_U1954 = 35;
    l_U2020 = 16;
    if (HAS_DEATHARREST_EXECUTED())
    {
        sub_1558();
        sub_3668();
    }
    SET_MISSION_FLAG( 1 );
    sub_6973( 565.00000000, 1101.00000000, 1.00000000, 730.00000000, 1224.00000000, 2.00000000, 5, 5 );
    while (true)
    {
        WAIT( 0 );
        sub_7245();
        switch (l_U1137)
        {
            case 0:
            sub_11427();
            break;
            case 3:
            sub_15622();
            break;
            case 4:
            sub_22709();
            break;
            case 5:
            sub_32472();
            break;
            case 6:
            sub_36736( ref l_U1162._fU0 );
            sub_37414();
            sub_66121();
            break;
            case 7:
            sub_36736( ref l_U1162._fU0 );
            sub_66865();
            break;
            case 8:
            sub_68396();
            break;
            case 9:
            sub_85785();
            break;
            case 10:
            sub_87638();
            break;
            case 11:
            sub_65620();
            break;
        }
        if ((NOT l_U1747) AND (IS_KEYBOARD_KEY_PRESSED( 30 )))
        {
            CREATE_CAR( l_U1630._fU148._fU4, 527.94070000, 1407.39900000, 29.64280000, ref l_U1630._fU148._fU0, 1 );
            SET_CAR_HEADING( l_U1630._fU148._fU0, 179.06050000 );
            CHANGE_CAR_COLOUR( l_U1630._fU148._fU0, l_U1630._fU148._fU52, l_U1630._fU148._fU56 );
            WARP_CHAR_FROM_CAR_TO_COORD( sub_4997(), 527.94070000, 1407.39900000, 29.64280000 );
            ATTACH_PED_TO_CAR( sub_4997(), l_U1630._fU148._fU0, 0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 360.00000000, 0, 0 );
            l_U1747 = 1;
        }
        if (l_U1747)
        {
            if (IS_VEH_DRIVEABLE( l_U1630._fU148._fU0 ))
            {
                ATTACH_PED_TO_CAR( sub_4997(), l_U1630._fU148._fU0, 0, l_U1930._fU0, l_U1930._fU4, l_U1930._fU8, 0, 360.00000000, 0, 0 );
                SET_CHAR_HEADING( sub_4997(), l_U1953 );
            }
        }
        if (IS_KEYBOARD_KEY_PRESSED( 31 ))
        {
            sub_74087();
        }
        if ((NOT l_U1771) AND (IS_KEYBOARD_KEY_PRESSED( 37 )))
        {
            if (IS_VEH_DRIVEABLE( l_U1630._fU148._fU0 ))
            {
                EXPLODE_CAR( l_U1630._fU148._fU0, 1, 0 );
                l_U1771 = 1;
            }
        }
        if ((NOT l_U1812) AND (IS_KEYBOARD_KEY_PRESSED( 44 )))
        {
            DETACH_PED( l_U1162._fU0, 1 );
            WARP_CHAR_INTO_CAR( l_U1162._fU0, l_U1312._fU0 );
            l_U1137 = 8;
            l_U1812 = 1;
        }
        if (l_U1814)
        {
            ATTACH_PED_TO_CAR( l_U1162._fU0, l_U1312._fU0, 0, l_U1162._fU16, l_U1162._fU28, 0.00000000, 1, 0 );
        }
        if (l_U1815)
        {
            GET_CHAR_COORDINATES( l_U1162._fU0, ref l_U1162._fU16._fU0, ref l_U1162._fU16._fU4, ref l_U1162._fU16._fU8 );
            PRINTSTRING( "kim:  " );
            PRINTVECTOR( l_U1162._fU16 );
            PRINTNL();
            GET_CAR_COORDINATES( l_U1312._fU0, ref l_U1312._fU12._fU0, ref l_U1312._fU12._fU4, ref l_U1312._fU12._fU8 );
            PRINTSTRING( "boat:  " );
            PRINTVECTOR( l_U1312._fU12 );
            PRINTNL();
        }
    }
    return;
}

void sub_1558()
{
    sub_1567();
    return;
}

void sub_1567()
{
    int iVar2;

    iVar2 = 16;
    sub_1581( iVar2 );
    sub_2757( iVar2 );
    return;
}

void sub_1581(unknown uParam0)
{
    int iVar3;
    boolean bVar4;
    unknown uVar5;

    iVar3 = g_U13391[uParam0]._fU0._fU56;
    bVar4 = iVar3 == 6;
    if (g_U813)
    {
        sub_1625();
        sub_1786();
    }
    else if (NOT g_U10981[uParam0]._fU12)
    {
        if (NOT bVar4)
        {
            sub_1894();
            sub_1933();
        }
    }
    sub_2009();
    sub_2110();
    uVar5 = sub_2223( uParam0 );
    sub_2664( uVar5, 0 );
    return;
}

void sub_1625()
{
    sub_1639( g_U9931 );
    if (NOT g_U9893._fU24)
    {
        sub_1739();
    }
    return;
}

void sub_1639(int iParam0)
{
    int iVar3;

    if (g_U0)
    {
        return;
    }
    if (iParam0 == -1)
    {
        return;
    }
    iVar3 = g_U26758[iParam0]._fU100;
    iVar3--;
    g_U26758[iParam0]._fU100 = iVar3;
    DECREMENT_INT_STAT( 255, 1 );
    return;
}

void sub_1739()
{
    if (g_U0)
    {
        return;
    }
    DECREMENT_INT_STAT( 256, 1 );
    return;
}

void sub_1786()
{
    sub_1795();
    return;
}

void sub_1795()
{
    if (COMPARE_STRING( ref g_U9926, "" ))
    {
        return;
    }
    PLAYSTATS_MISSION_CANCELLED( ref g_U9926 );
    StrCopy( ref g_U9926, "", 16 );
    return;
}

void sub_1894()
{
    if (g_U0)
    {
        return;
    }
    INCREMENT_INT_STAT_NO_MESSAGE( 254, 1 );
    return;
}

void sub_1933()
{
    sub_1942();
    return;
}

void sub_1942()
{
    if (COMPARE_STRING( ref g_U9926, "" ))
    {
        return;
    }
    PLAYSTATS_MISSION_FAILED( ref g_U9926 );
    StrCopy( ref g_U9926, "", 16 );
    return;
}

void sub_2009()
{
    int I;

    I = 0;
    for ( I = 0; I < 28; I++ )
    {
        if (g_U10981[I]._fU144._fU36)
        {
            g_U10981[I]._fU28 = 1;
        }
        g_U10981[I]._fU144._fU36 = 0;
    }
    return;
}

void sub_2110()
{
    int iVar2;
    int iVar3;

    iVar2 = 0;
    GET_GAME_TIMER( ref iVar2 );
    iVar3 = iVar2 + sub_2132();
    if (iVar3 > g_U63988._fU4)
    {
        g_U63988._fU4 = iVar3;
        g_U63988._fU8 = iVar2;
    }
    return;
}

int sub_2132()
{
    if (g_U15654[8])
    {
        return 27000;
    }
    return 15000;
}

int sub_2223(unknown uParam0)
{
    switch (uParam0)
    {
        case 0: return 0;
        case 1: return 1;
        case 2: return 2;
        case 3: return 3;
        case 4: return 4;
        case 5: return 5;
        case 6: return 6;
        case 7: return 7;
        case 8: return 8;
        case 9: return 9;
        case 10: return 10;
        case 11: return 11;
        case 12: return 12;
        case 13: return 13;
        case 14: return 14;
        case 15: return 15;
        case 16: return 16;
        case 17: return 17;
        case 18: return 18;
        case 19: return 19;
        case 20: return 22;
        case 21: return 20;
        case 22: return 21;
    }
    PRINTSTRING( "UNKNOWN STRAND ID: " );
    PRINTINT( uParam0 );
    PRINTNL();
    sub_2622( "Flow_public: Return_Contact_From_Strand(): Unknown strand" );
    return 57;
}

void sub_2622(unknown uParam0)
{
    SCRIPT_ASSERT( uParam0 );
    return;
}

void sub_2664(int iParam0, boolean bParam1)
{
    int iVar4;

    if (NOT (iParam0 < 57))
    {
        return;
    }
    iVar4 = 0;
    GET_GAME_TIMER( ref iVar4 );
    g_U26671[iParam0] = iVar4;
    if (bParam1)
    {
        g_U26671[iParam0] += 30000;
    }
    return;
}

void sub_2757(int iParam0)
{
    int iVar3;
    boolean bVar4;

    sub_2766();
    if (g_U0)
    {
        return;
    }
    if (g_U91._fU40 == 0)
    {
        return;
    }
    if (NOT g_U10978)
    {
        return;
    }
    iVar3 = g_U13391[iParam0]._fU0._fU56;
    bVar4 = iVar3 == 6;
    if (bVar4)
    {
        return;
    }
    if (g_U10981[iParam0]._fU12)
    {
        return;
    }
    if (g_U9893._fU40 == -1)
    {
        return;
    }
    if (NOT (g_U9893._fU40 == iParam0))
    {
        return;
    }
    if (NOT g_U813)
    {
        sub_3541();
        g_U9893._fU4 = 1;
    }
    return;
}

void sub_2766()
{
    int I;

    for ( I = 0; I <= (g_U569 - 1); I++ )
    {
        if ((g_U569[I]._fU20) AND ((sub_2804( 5, g_U569[I] )) == 1))
        {
            if ((sub_2804( 1, g_U569[I] )) != 0)
            {
                sub_3090( I );
            }
        }
    }
    if (NOT sub_3256())
    {
        SET_MESSAGES_WAITING( 0 );
        g_U91._fU404 = 1000;
    }
    if (g_U91._fU0 == 1014)
    {
        g_U91._fU92 = 1;
    }
    return;
}

int sub_2804(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
    switch (uParam0)
    {
        case 0:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 14, 23 );
        break;
        case 1:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 0, 13 );
        break;
        case 2:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 14, 27 );
        break;
        case 3:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 0, 13 );
        break;
        case 4:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 24, 27 );
        break;
        case 5:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 28, 31 );
        break;
        case 6:
        return uParam1._fU0[2];
        break;
    }
    return -1;
}

void sub_3090(int iParam0)
{
    int I;

    if (iParam0 < (g_U569 - 1))
    {
        for ( I = iParam0 + 1; I <= (g_U569 - 1); I++ )
        {
            g_U569[I - 1] = {g_U569[I]};
        }
    }
    sub_3175( g_U569 - 1 );
    return;
}

void sub_3175(unknown uParam0)
{
    g_U569[uParam0]._fU0[0] = -1;
    g_U569[uParam0]._fU0[1] = -1;
    g_U569[uParam0]._fU0[2] = -1;
    return;
}

int sub_3256()
{
    int I;

    for ( I = 0; I <= (g_U569 - 1); I++ )
    {
        if ((sub_2804( 4, g_U569[I] )) == 0)
        {
            return 1;
        }
    }
    return 0;
}

void sub_3541()
{
    g_U9893._fU4 = 0;
    g_U9893._fU8 = 0;
    g_U9893._fU12 = 0;
    g_U9893._fU16 = 0;
    g_U9893._fU20 = 0;
    g_U9893._fU28 = 0;
    g_U9893._fU32 = 0;
    g_U9893._fU36 = 0;
    g_U9893._fU48 = 0;
    return;
}

void sub_3668()
{
    FORCE_WIND( -1.00000000 );
    SWITCH_RANDOM_BOATS( 1 );
    if (IS_PLAYER_PLAYING( sub_3698() ))
    {
        SET_PLAYER_CONTROL( sub_3698(), 1 );
    }
    sub_3755( 0 );
    sub_3895();
    if (DOES_VEHICLE_EXIST( l_U1296._fU0 ))
    {
        if (IS_VEH_DRIVEABLE( l_U1296._fU0 ))
        {
            ANCHOR_BOAT( l_U1296._fU0, 0 );
        }
    }
    if (DOES_VEHICLE_EXIST( l_U1312._fU0 ))
    {
        if (IS_VEH_DRIVEABLE( l_U1312._fU0 ))
        {
            ANCHOR_BOAT( l_U1312._fU0, 0 );
        }
    }
    if (DOES_CHAR_EXIST( l_U1162._fU0 ))
    {
        if (NOT (IS_CHAR_INJURED( l_U1162._fU0 )))
        {
            if (IS_PED_ATTACHED_TO_ANY_CAR( l_U1162._fU0 ))
            {
                DETACH_PED( l_U1162._fU0, 1 );
            }
            STOP_PED_SPEAKING( l_U1162._fU0, 0 );
        }
    }
    if (DOES_CHAR_EXIST( l_U1150._fU0 ))
    {
        if (NOT (IS_CHAR_INJURED( l_U1150._fU0 )))
        {
            STOP_PED_SPEAKING( l_U1150._fU0, 0 );
        }
    }
    sub_4295( 0 );
    SET_CAR_GENERATORS_ACTIVE_IN_AREA( -788.72000000, 866.61690000, 10.00000000, -777.25190000, 832.35600000, -10.00000000, 1 );
    sub_6852();
    g_U10981[7]._fU144._fU32 = l_U1813;
    g_U9890 = 0;
    TERMINATE_THIS_SCRIPT();
    return;
}

void sub_3698()
{
    return CONVERT_INT_TO_PLAYERINDEX( GET_PLAYER_ID() );
}

void sub_3755(unknown uParam0)
{
    PRINTSTRING( "\n KILL_ANY_MISSION_SPEECH CALLED***************************************" );
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if ((g_U8392 <= 8) AND (g_U8392 >= 4))
        {
            ABORT_SCRIPTED_CONVERSATION( uParam0 );
        }
    }
    return;
}

void sub_3895()
{
    if (l_U105)
    {
        PRINTNL();
        PRINTSTRING( "**** CALLED KILL_CHASE_HINT_CAM()" );
    }
    if (IS_HINT_RUNNING())
    {
        HINT_CAM( 0.00000000, 0.00000000, 0.00000000, 0, 0, 0, 0 );
        SET_HINT_TIMES_DEFAULT();
        SET_HINT_FOV( -1 );
    }
    l_U103 = 0;
    l_U102 = 0;
    SET_CINEMATIC_BUTTON_ENABLED( 1 );
    return;
}

void sub_4295(boolean bParam0)
{
    l_U616 = 0;
    sub_4310();
    l_U615 = 1;
    sub_4482();
    if (IS_PLAYER_PLAYING( sub_3698() ))
    {
        FORCE_AIR_DRAG_MULT_FOR_PLAYERS_CAR( sub_3698(), 1.00000000 );
        DONT_DISPATCH_COPS_FOR_PLAYER( sub_3698(), 0 );
        SET_CREATE_RANDOM_COPS( 1 );
    }
    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_4652() );
    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_4681() );
    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_4710() );
    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_4739() );
    if ((NOT bParam0) AND (NOT IS_SCREEN_FADED_OUT()))
    {
        sub_4785();
        sub_5232();
        sub_5414();
    }
    else
    {
        sub_5632();
        sub_6205();
    }
    return;
}

void sub_4310()
{
    FLUSH_SCENARIO_BLOCKING_AREAS();
    SET_ALL_CAR_GENERATORS_BACK_TO_ACTIVE();
    sub_4333();
    OVERRIDE_NUMBER_OF_PARKED_CARS( -1 );
    SWITCH_GARBAGE_TRUCKS( 1 );
    ALLOW_EMERGENCY_SERVICES( 1 );
    SET_CAR_DENSITY_MULTIPLIER( 1.00000000 );
    return;
}

void sub_4333()
{
    int I;

    for ( I = 0; I < 20; I++ )
    {
        if (g_U8708[I]._fU60)
        {
            SWITCH_CAR_GENERATOR( g_U9029[I], 0 );
        }
        else
        {
            SWITCH_CAR_GENERATOR( g_U9029[I], 101 );
        }
    }
    return;
}

void sub_4482()
{
    SWITCH_ROADS_BACK_TO_ORIGINAL( l_U1070._fU0, l_U1070._fU4, l_U1070._fU8, l_U1073._fU0, l_U1073._fU4, l_U1073._fU8 );
    SWITCH_ROADS_BACK_TO_ORIGINAL( l_U1064._fU0, l_U1064._fU4, l_U1064._fU8, l_U1067._fU0, l_U1067._fU4, l_U1067._fU8 );
    return;
}

int sub_4652()
{
    return -2139064254;
}

int sub_4681()
{
    return 1264341792;
}

int sub_4710()
{
    return 2046537925;
}

int sub_4739()
{
    return -183203150;
}

void sub_4785()
{
    int I;

    for ( I = 0; I < 10; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U1076[I] ))
        {
            if (NOT (IS_CAR_DEAD( l_U1076[I] )))
            {
                SET_CAR_COLLISION( l_U1076[I], 1 );
            }
            if (IS_VEH_DRIVEABLE( l_U1076[I] ))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1076[I] ))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U1076[I] );
                }
            }
            sub_4933( l_U1076[I] );
            sub_5110( l_U1076[I] );
        }
        l_U865[I] = 0;
    }
    for ( I = 0; I < 10; I++ )
    {
        if (NOT (l_U928[I] == 0))
        {
            MARK_MODEL_AS_NO_LONGER_NEEDED( l_U928[I] );
        }
    }
    l_U921 = 0;
    l_U911 = 0;
    return;
}

void sub_4933(unknown uParam0)
{
    float fVar3;
    int iVar4;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_DRIVER_OF_CAR( uParam0, ref iVar4 );
        if (DOES_CHAR_EXIST( iVar4 ))
        {
            if (NOT (IS_CHAR_INJURED( iVar4 )))
            {
                if (NOT (iVar4 == sub_4997()))
                {
                    GET_CAR_SPEED( uParam0, ref fVar3 );
                    if (fVar3 < 8.00000000)
                    {
                        fVar3 = 8.00000000;
                    }
                    TASK_CAR_MISSION( iVar4, uParam0, 0, 1, fVar3, 0, 5, 5 );
                }
            }
        }
    }
    return;
}

void sub_4997()
{
    unknown Result;

    GET_PLAYER_CHAR( CONVERT_INT_TO_PLAYERINDEX( GET_PLAYER_ID() ), ref Result );
    return Result;
}

void sub_5110(unknown uParam0)
{
    MARK_CAR_AS_NO_LONGER_NEEDED( ref uParam0 );
    return;
}

void sub_5232()
{
    int I;

    for ( I = 0; I < 10; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U1098[I] ))
        {
            if (NOT (IS_CAR_DEAD( l_U1098[I] )))
            {
                SET_CAR_COLLISION( l_U1098[I], 1 );
            }
            sub_5110( l_U1098[I] );
        }
    }
    for ( I = 0; I < 10; I++ )
    {
        if (NOT (l_U939[I] == 0))
        {
            MARK_MODEL_AS_NO_LONGER_NEEDED( l_U939[I] );
        }
    }
    l_U923 = 0;
    l_U914 = 0;
    return;
}

void sub_5414()
{
    int I;

    for ( I = 0; I < 11; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U1109[I] ))
        {
            if (IS_VEH_DRIVEABLE( l_U1109[I] ))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1109[I] ))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U1109[I] );
                }
            }
            sub_4933( l_U1109[I] );
            sub_5110( l_U1109[I] );
        }
        l_U888[I] = 0;
    }
    for ( I = 0; I < 11; I++ )
    {
        if (NOT (l_U950[I] == 0))
        {
            MARK_MODEL_AS_NO_LONGER_NEEDED( l_U950[I] );
        }
    }
    return;
}

void sub_5632()
{
    sub_5641();
    sub_5853();
    sub_5997();
    return;
}

void sub_5641()
{
    int I;

    for ( I = 0; I < 10; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U1076[I] ))
        {
            if (IS_VEH_DRIVEABLE( l_U1076[I] ))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1076[I] ))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U1076[I] );
                }
            }
            DELETE_CAR( ref l_U1076[I] );
        }
        l_U865[I] = 0;
    }
    for ( I = 0; I < 10; I++ )
    {
        if (NOT (l_U928[I] == 0))
        {
            MARK_MODEL_AS_NO_LONGER_NEEDED( l_U928[I] );
        }
    }
    l_U921 = 0;
    l_U911 = 0;
    return;
}

void sub_5853()
{
    int I;

    for ( I = 0; I < 10; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U1098[I] ))
        {
            DELETE_CAR( ref l_U1098[I] );
        }
    }
    for ( I = 0; I < 10; I++ )
    {
        if (NOT (l_U939[I] == 0))
        {
            MARK_MODEL_AS_NO_LONGER_NEEDED( l_U939[I] );
        }
    }
    l_U923 = 0;
    l_U914 = 0;
    return;
}

void sub_5997()
{
    int I;

    for ( I = 0; I < 11; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U1109[I] ))
        {
            if (IS_VEH_DRIVEABLE( l_U1109[I] ))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1109[I] ))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U1109[I] );
                }
            }
            DELETE_CAR( ref l_U1109[I] );
        }
        l_U888[I] = 0;
    }
    for ( I = 0; I < 11; I++ )
    {
        if (NOT (l_U950[I] == 0))
        {
            MARK_MODEL_AS_NO_LONGER_NEEDED( l_U950[I] );
        }
    }
    return;
}

void sub_6205()
{
    int I;

    for ( I = 0; I < 10; I++ )
    {
        l_U1076[I] = nil;
        l_U962[I] = {0.00000000, 0.00000000, 0.00000000};
        l_U649[I] = 0.00000000;
        l_U660[I] = 0.00000000;
        l_U671[I] = 0.00000000;
        l_U682[I] = 0.00000000;
        l_U854[I] = 0;
        l_U693[I] = 0.00000000;
        l_U865[I] = 0;
        l_U928[I] = 0;
    }
    for ( I = 0; I < 10; I++ )
    {
        l_U1087[I] = nil;
    }
    l_U919 = 0;
    l_U911 = 0;
    l_U912 = 0;
    for ( I = 0; I < 10; I++ )
    {
        l_U1098[I] = nil;
        l_U993[I] = {0.00000000, 0.00000000, 0.00000000};
        l_U780[I] = 0.00000000;
        l_U791[I] = 0.00000000;
        l_U802[I] = 0.00000000;
        l_U813[I] = 0.00000000;
        l_U900[I] = 0;
        l_U939[I] = 0;
    }
    for ( I = 0; I < 6; I++ )
    {
        l_U1121[I] = nil;
    }
    l_U918 = 0;
    l_U914 = 0;
    for ( I = 0; I < 11; I++ )
    {
        l_U1109[I] = nil;
        l_U1024[I] = {0.00000000, 0.00000000, 0.00000000};
        l_U708[I] = 0.00000000;
        l_U720[I] = 0.00000000;
        l_U732[I] = 0.00000000;
        l_U744[I] = 0.00000000;
        l_U876[I] = 0;
        l_U756[I] = 0.00000000;
        l_U888[I] = 0;
        l_U950[I] = 0;
    }
    l_U913 = 0;
    l_U921 = 0;
    l_U925 = 0;
    l_U926 = 0;
    l_U927 = 0;
    return;
}

void sub_6852()
{
    g_U91._fU100 = 0;
    g_U91._fU104 = 0;
    return;
}

void sub_6973(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7)
{
    if (uParam0._fU0 < uParam3._fU0)
    {
        l_U196._fU0._fU4 = uParam0._fU0;
        l_U196._fU0._fU8 = uParam3._fU0;
    }
    else
    {
        l_U196._fU0._fU4 = uParam3._fU0;
        l_U196._fU0._fU8 = uParam0._fU0;
    }
    if (uParam0._fU4 < uParam3._fU4)
    {
        l_U196._fU16._fU4 = uParam0._fU4;
        l_U196._fU16._fU8 = uParam3._fU4;
    }
    else
    {
        l_U196._fU16._fU4 = uParam3._fU4;
        l_U196._fU16._fU8 = uParam0._fU4;
    }
    l_U196._fU0._fU0 = uParam6;
    l_U196._fU16._fU0 = uParam7;
    l_U196._fU0._fU12 = (l_U196._fU0._fU8 - l_U196._fU0._fU4) / uParam6;
    l_U196._fU16._fU12 = (l_U196._fU16._fU8 - l_U196._fU16._fU4) / uParam7;
    l_U196._fU32 = uParam0._fU8;
    return;
}

void sub_7245()
{
    if (NOT l_U1769)
    {
        if (sub_7269( ref l_U1312 ))
        {
            if (DOES_CHAR_EXIST( l_U1162._fU0 ))
            {
                if (NOT (IS_CHAR_INJURED( l_U1162._fU0 )))
                {
                    if (IS_PED_ATTACHED_TO_ANY_CAR( l_U1162._fU0 ))
                    {
                        DETACH_PED( l_U1162._fU0, 1 );
                    }
                }
            }
            sub_3755( 0 );
            CLEAR_PRINTS();
            PRINT_NOW( "DM2_F_D_KBOAT", 7500, 1 );
            GET_GAME_TIMER( ref l_U1829 );
            EXPLODE_CAR( l_U1312._fU0, 1, 0 );
            l_U1137 = 9;
            l_U1769 = 1;
            for ( l_U1820 = 0; l_U1820 <= 3; l_U1820++ )
            {
                if (DOES_BLIP_EXIST( l_U1959[l_U1820] ))
                {
                    REMOVE_BLIP( l_U1959[l_U1820] );
                }
            }
            for ( l_U1820 = 0; l_U1820 <= 0; l_U1820++ )
            {
                if (DOES_BLIP_EXIST( l_U1360[l_U1820]._fU0._fU8 ))
                {
                    REMOVE_BLIP( l_U1360[l_U1820]._fU0._fU8 );
                }
            }
            if (IS_VEH_DRIVEABLE( l_U1312._fU0 ))
            {
                STOP_PLAYBACK_RECORDED_CAR( l_U1312._fU0 );
            }
            if (DOES_BLIP_EXIST( l_U1162._fU8 ))
            {
                REMOVE_BLIP( l_U1162._fU8 );
            }
            if (DOES_BLIP_EXIST( l_U1630._fU224 ))
            {
                REMOVE_BLIP( l_U1630._fU224 );
            }
            if (DOES_BLIP_EXIST( l_U1296._fU8 ))
            {
                REMOVE_BLIP( l_U1296._fU8 );
            }
            return;
        }
        if (sub_7815( ref l_U1150 ))
        {
            sub_3755( 0 );
            CLEAR_PRINTS();
            PRINT_NOW( "DM2_F_D_DPED", 7500, 1 );
            l_U1137 = 10;
            GET_GAME_TIMER( ref l_U1829 );
            l_U1769 = 1;
            for ( l_U1820 = 0; l_U1820 <= 3; l_U1820++ )
            {
                if (DOES_BLIP_EXIST( l_U1959[l_U1820] ))
                {
                    REMOVE_BLIP( l_U1959[l_U1820] );
                }
            }
            for ( l_U1820 = 0; l_U1820 <= 0; l_U1820++ )
            {
                if (DOES_BLIP_EXIST( l_U1360[l_U1820]._fU0._fU8 ))
                {
                    REMOVE_BLIP( l_U1360[l_U1820]._fU0._fU8 );
                }
            }
            if (IS_VEH_DRIVEABLE( l_U1312._fU0 ))
            {
                STOP_PLAYBACK_RECORDED_CAR( l_U1312._fU0 );
            }
            if (DOES_BLIP_EXIST( l_U1162._fU8 ))
            {
                REMOVE_BLIP( l_U1162._fU8 );
            }
            if (DOES_BLIP_EXIST( l_U1630._fU224 ))
            {
                REMOVE_BLIP( l_U1630._fU224 );
            }
            if (DOES_BLIP_EXIST( l_U1296._fU8 ))
            {
                REMOVE_BLIP( l_U1296._fU8 );
            }
            return;
        }
        else if (sub_7815( ref l_U1162 ))
        {
            sub_3755( 0 );
            CLEAR_PRINTS();
            PRINT_NOW( "DM2_F_D_KPED", 7500, 1 );
            GET_GAME_TIMER( ref l_U1829 );
            for ( l_U1820 = 0; l_U1820 <= 3; l_U1820++ )
            {
                if (DOES_BLIP_EXIST( l_U1959[l_U1820] ))
                {
                    REMOVE_BLIP( l_U1959[l_U1820] );
                }
            }
            for ( l_U1820 = 0; l_U1820 <= 0; l_U1820++ )
            {
                if (DOES_BLIP_EXIST( l_U1360[l_U1820]._fU0._fU8 ))
                {
                    REMOVE_BLIP( l_U1360[l_U1820]._fU0._fU8 );
                }
            }
            if (IS_VEH_DRIVEABLE( l_U1312._fU0 ))
            {
                STOP_PLAYBACK_RECORDED_CAR( l_U1312._fU0 );
            }
            if (DOES_BLIP_EXIST( l_U1162._fU8 ))
            {
                REMOVE_BLIP( l_U1162._fU8 );
            }
            if (DOES_BLIP_EXIST( l_U1630._fU224 ))
            {
                REMOVE_BLIP( l_U1630._fU224 );
            }
            if (DOES_BLIP_EXIST( l_U1296._fU8 ))
            {
                REMOVE_BLIP( l_U1296._fU8 );
            }
            l_U1137 = 9;
            l_U1769 = 1;
            return;
        }
        else if (l_U1824[1] == 1)
        {
            if (IS_VEH_DRIVEABLE( l_U1312._fU0 ))
            {
                if ((NOT (IS_CAR_ON_SCREEN( l_U1312._fU0 ))) AND ((sub_8693( ref l_U1162._fU0 )) > 200))
                {
                    if (l_U1751[0])
                    {
                        EXPLODE_CAR( l_U1312._fU0, 1, 0 );
                    }
                    CLEAR_PRINTS();
                    sub_3755( 0 );
                    PRINT_NOW( "DM2_GOD6", 7500, 1 );
                    GET_GAME_TIMER( ref l_U1829 );
                    if (IS_VEH_DRIVEABLE( l_U1296._fU0 ))
                    {
                        SET_CAR_PROOFS( l_U1296._fU0, 1, 1, 1, 1, 1 );
                        SET_CHAR_PROOFS( l_U1150._fU0, 1, 1, 1, 1, 1 );
                    }
                    for ( l_U1820 = 0; l_U1820 <= 3; l_U1820++ )
                    {
                        if (DOES_BLIP_EXIST( l_U1959[l_U1820] ))
                        {
                            REMOVE_BLIP( l_U1959[l_U1820] );
                        }
                    }
                    for ( l_U1820 = 0; l_U1820 <= 0; l_U1820++ )
                    {
                        if (DOES_BLIP_EXIST( l_U1360[l_U1820]._fU0._fU8 ))
                        {
                            REMOVE_BLIP( l_U1360[l_U1820]._fU0._fU8 );
                        }
                    }
                    if (IS_VEH_DRIVEABLE( l_U1312._fU0 ))
                    {
                        STOP_PLAYBACK_RECORDED_CAR( l_U1312._fU0 );
                    }
                    if (DOES_BLIP_EXIST( l_U1162._fU8 ))
                    {
                        REMOVE_BLIP( l_U1162._fU8 );
                    }
                    if (DOES_BLIP_EXIST( l_U1630._fU224 ))
                    {
                        REMOVE_BLIP( l_U1630._fU224 );
                    }
                    if (DOES_BLIP_EXIST( l_U1296._fU8 ))
                    {
                        REMOVE_BLIP( l_U1296._fU8 );
                    }
                    l_U1137 = 9;
                    l_U1769 = 1;
                    return;
                }
            }
        };;;
        if (sub_9329())
        {
            l_U1769 = 1;
            return;
        }
    }
    return;
}

int sub_7269(int iParam0)
{
    if (iParam0->_fU56)
    {
        if (DOES_VEHICLE_EXIST( iParam0->_fU0 ))
        {
            if (NOT (IS_VEH_DRIVEABLE( iParam0->_fU0 )))
            {
                return 1;
            }
        }
        else
        {
            return 0;
        }
    }
    return 0;
}

int sub_7815(int iParam0)
{
    if (iParam0->_fU40)
    {
        if (DOES_CHAR_EXIST( iParam0->_fU0 ))
        {
            return IS_CHAR_INJURED( iParam0->_fU0 );
        }
        else
        {
            return 1;
        }
    }
    return 0;
}

void sub_8693(unknown uParam0)
{
    vector vVar3;
    vector vVar6;
    float Result;

    vVar3 = {0.00000000, 0.00000000, 0.00000000};
    vVar6 = {0.00000000, 0.00000000, 0.00000000};
    Result = 0.00000000;
    if (NOT (IS_CHAR_INJURED( (uParam0^) )))
    {
        GET_CHAR_COORDINATES( sub_4997(), ref vVar3.x, ref vVar3.y, ref vVar3.z );
        GET_CHAR_COORDINATES( (uParam0^), ref vVar6.x, ref vVar6.y, ref vVar6.z );
        GET_DISTANCE_BETWEEN_COORDS_3D( vVar3.x, vVar3.y, vVar3.z, vVar6.x, vVar6.y, vVar6.z, ref Result );
        return Result;
    }
    return Result;
}

int sub_9329()
{
    if (DOES_VEHICLE_EXIST( l_U1296._fU0 ))
    {
        if (IS_VEH_DRIVEABLE( l_U1296._fU0 ))
        {
            if (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 5000 ))
            {
                sub_3755( 0 );
                CLEAR_PRINTS();
                PRINT( "DM2_F_C_DBOAT", 5000, 1 );
                GET_GAME_TIMER( ref l_U1829 );
                for ( l_U1820 = 0; l_U1820 <= 3; l_U1820++ )
                {
                    if (DOES_BLIP_EXIST( l_U1959[l_U1820] ))
                    {
                        REMOVE_BLIP( l_U1959[l_U1820] );
                    }
                }
                for ( l_U1820 = 0; l_U1820 <= 0; l_U1820++ )
                {
                    if (DOES_BLIP_EXIST( l_U1360[l_U1820]._fU0._fU8 ))
                    {
                        REMOVE_BLIP( l_U1360[l_U1820]._fU0._fU8 );
                    }
                }
                if (IS_VEH_DRIVEABLE( l_U1312._fU0 ))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U1312._fU0 );
                }
                l_U1137 = 9;
                return 1;
            }
            if (sub_9675( ref l_U1296._fU0, ref l_U1782, ref l_U1851 ))
            {
                sub_3755( 0 );
                CLEAR_PRINTS();
                PRINT( "DM2_F_B_DBOAT", 7500, 1 );
                GET_GAME_TIMER( ref l_U1829 );
                for ( l_U1820 = 0; l_U1820 <= 3; l_U1820++ )
                {
                    if (DOES_BLIP_EXIST( l_U1959[l_U1820] ))
                    {
                        REMOVE_BLIP( l_U1959[l_U1820] );
                    }
                }
                for ( l_U1820 = 0; l_U1820 <= 0; l_U1820++ )
                {
                    if (DOES_BLIP_EXIST( l_U1360[l_U1820]._fU0._fU8 ))
                    {
                        REMOVE_BLIP( l_U1360[l_U1820]._fU0._fU8 );
                    }
                }
                if (IS_VEH_DRIVEABLE( l_U1312._fU0 ))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U1312._fU0 );
                }
                l_U1137 = 9;
                return 1;
            }
            if ((CHECK_STUCK_TIMER( l_U1296._fU0, 1, 40000 )) || ((CHECK_STUCK_TIMER( l_U1296._fU0, 2, 30000 )) || (CHECK_STUCK_TIMER( l_U1296._fU0, 3, 60000 ))))
            {
                sub_3755( 0 );
                CLEAR_PRINTS();
                PRINT( "DM2_F_D_KBOAT", 7500, 1 );
                GET_GAME_TIMER( ref l_U1829 );
                for ( l_U1820 = 0; l_U1820 <= 3; l_U1820++ )
                {
                    if (DOES_BLIP_EXIST( l_U1959[l_U1820] ))
                    {
                        REMOVE_BLIP( l_U1959[l_U1820] );
                    }
                }
                for ( l_U1820 = 0; l_U1820 <= 0; l_U1820++ )
                {
                    if (DOES_BLIP_EXIST( l_U1360[l_U1820]._fU0._fU8 ))
                    {
                        REMOVE_BLIP( l_U1360[l_U1820]._fU0._fU8 );
                    }
                }
                if (IS_VEH_DRIVEABLE( l_U1312._fU0 ))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U1312._fU0 );
                }
                l_U1137 = 9;
                return 1;
            }
            if (l_U1816)
            {
                if (sub_10486( l_U1296._fU0 ))
                {
                    sub_3755( 0 );
                    CLEAR_PRINTS();
                    PRINT( "DM2_ABANDON", 7500, 1 );
                    GET_GAME_TIMER( ref l_U1829 );
                    for ( l_U1820 = 0; l_U1820 <= 3; l_U1820++ )
                    {
                        if (DOES_BLIP_EXIST( l_U1959[l_U1820] ))
                        {
                            REMOVE_BLIP( l_U1959[l_U1820] );
                        }
                    }
                    for ( l_U1820 = 0; l_U1820 <= 0; l_U1820++ )
                    {
                        if (DOES_BLIP_EXIST( l_U1360[l_U1820]._fU0._fU8 ))
                        {
                            REMOVE_BLIP( l_U1360[l_U1820]._fU0._fU8 );
                        }
                    }
                    if (IS_VEH_DRIVEABLE( l_U1312._fU0 ))
                    {
                        STOP_PLAYBACK_RECORDED_CAR( l_U1312._fU0 );
                    }
                    if (DOES_BLIP_EXIST( l_U1162._fU8 ))
                    {
                        REMOVE_BLIP( l_U1162._fU8 );
                    }
                    if (DOES_BLIP_EXIST( l_U1296._fU8 ))
                    {
                        REMOVE_BLIP( l_U1296._fU8 );
                    }
                    l_U1137 = 9;
                    return 1;
                }
            }
        }
        else
        {
            sub_3755( 0 );
            CLEAR_PRINTS();
            PRINT( "DM2_F_D_DBOAT", 7500, 1 );
            GET_GAME_TIMER( ref l_U1829 );
            if (DOES_BLIP_EXIST( l_U1296._fU8 ))
            {
                REMOVE_BLIP( l_U1296._fU8 );
            }
            for ( l_U1820 = 0; l_U1820 <= 3; l_U1820++ )
            {
                if (DOES_BLIP_EXIST( l_U1959[l_U1820] ))
                {
                    REMOVE_BLIP( l_U1959[l_U1820] );
                }
            }
            for ( l_U1820 = 0; l_U1820 <= 0; l_U1820++ )
            {
                if (DOES_BLIP_EXIST( l_U1360[l_U1820]._fU0._fU8 ))
                {
                    REMOVE_BLIP( l_U1360[l_U1820]._fU0._fU8 );
                }
            }
            if (IS_VEH_DRIVEABLE( l_U1312._fU0 ))
            {
                STOP_PLAYBACK_RECORDED_CAR( l_U1312._fU0 );
            }
            l_U1137 = 9;
            return 1;
        }
    }
    return 0;
}

int sub_9675(unknown uParam0, unknown uParam1, unknown uParam2)
{
    if (DOES_VEHICLE_EXIST( (uParam0^) ))
    {
        if (IS_VEH_DRIVEABLE( (uParam0^) ))
        {
            if (NOT (IS_CAR_IN_WATER( (uParam0^) )))
            {
                if (NOT (uParam1^))
                {
                    GET_GAME_TIMER( uParam2 );
                    (uParam1^) = 1;
                }
                else
                {
                    PRINTSTRING( "water timer" );
                    PRINTNL();
                    if (sub_9790( uParam2, 10000 ))
                    {
                        return 1;
                    }
                }
            }
            else if ((uParam1^))
            {
                (uParam1^) = 0;
            }
        }
    }
    return 0;
}

int sub_9790(unknown uParam0, int iParam1)
{
    GET_GAME_TIMER( ref l_U113 );
    if ((l_U113 - (uParam0^)) > iParam1)
    {
        return 1;
    }
    return 0;
}

int sub_10486(unknown uParam0)
{
    int iVar3;

    if (g_U9079 == 0)
    {
        if (IS_VEH_DRIVEABLE( uParam0 ))
        {
            if (NOT (IS_CHAR_IN_CAR( sub_4997(), uParam0 )))
            {
                if (NOT (LOCATE_CHAR_ANY_MEANS_CAR_2D( sub_4997(), uParam0, 100.00000000, 100.00000000, 0 )))
                {
                    return 1;
                }
                if (NOT (LOCATE_CHAR_ANY_MEANS_CAR_2D( sub_4997(), uParam0, 50.00000000, 50.00000000, 0 )))
                {
                    GET_GAME_TIMER( ref iVar3 );
                    if ((iVar3 - l_U3) >= 180000)
                    {
                        return 1;
                    }
                }
                else
                {
                    GET_GAME_TIMER( ref l_U3 );
                }
            }
            else
            {
                GET_GAME_TIMER( ref l_U3 );
            }
        }
    }
    return 0;
}

void sub_11427()
{
    sub_11436();
    l_U1813 = g_U10981[7]._fU144._fU32;
    g_U10981[7]._fU144._fU32 = 1;
    g_U9890 = 1;
    CLEAR_WANTED_LEVEL( sub_3698() );
    SET_WANTED_MULTIPLIER( 0.00000000 );
    sub_11601( "derric2", 0 );
    sub_11753( "dm2aud" );
    sub_11872( 0, sub_4997(), "niko", 0 );
    sub_11601( "dm2aud", 6 );
    sub_12032();
    sub_12123();
    return;
}

void sub_11436()
{
    if (sub_11445())
    {
        g_U64921 = 1;
    }
    return;
}

int sub_11445()
{
    if ((GET_NUMBER_OF_INSTANCES_OF_STREAMED_SCRIPT( "dwayne_backup" )) >= 1)
    {
        return 1;
    }
    return 0;
}

void sub_11601(unknown uParam0, unknown uParam1)
{
    boolean bVar4;

    bVar4 = true;
    while (bVar4)
    {
        if (NOT (HAS_THIS_ADDITIONAL_TEXT_LOADED( uParam0, uParam1 )))
        {
            if (NOT sub_11637())
            {
                REQUEST_ADDITIONAL_TEXT( uParam0, uParam1 );
            }
            WAIT( 0 );
        }
        else
        {
            bVar4 = false;
        }
    }
    return;
}

int sub_11637()
{
    int I;

    for ( I = 0; I <= (8 - 1); I++ )
    {
        if (IS_STREAMING_ADDITIONAL_TEXT( I ))
        {
            return 1;
        }
    }
    return 0;
}

void sub_11753(unknown uParam0)
{
    StrCopy( ref l_U4._fU0, uParam0, 16 );
    sub_11770();
    return;
}

void sub_11770()
{
    int I;

    for ( I = 0; I <= 8; I++ )
    {
        l_U4._fU16[I]._fU0 = nil;
        StrCopy( ref l_U4._fU16[I]._fU4, "", 32 );
        l_U4._fU344[I] = 0;
    }
    return;
}

void sub_11872(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    l_U4._fU16[uParam0]._fU0 = uParam1;
    StrCopy( ref l_U4._fU16[uParam0]._fU4, uParam2, 32 );
    if (NOT (IS_CHAR_INJURED( uParam1 )))
    {
        BLOCK_CHAR_AMBIENT_ANIMS( uParam1, uParam3 );
    }
    sub_11952( "\n PED NUMBER ", uParam0 );
    sub_11992( " ADDED WITH VOICE ", uParam2 );
    return;
}

void sub_11952(unknown uParam0, unknown uParam1)
{
    return;
}

void sub_11992(unknown uParam0, unknown uParam1)
{
    return;
}

void sub_12032()
{
    for ( l_U1820 = 0; l_U1820 <= 3; l_U1820++ )
    {
        l_U1731[l_U1820] = 0;
        l_U1736[l_U1820] = 0;
        l_U1741[l_U1820] = 0;
    }
    return;
}

void sub_12123()
{
    if (sub_12133( 1 ))
    {
        GET_PLAYERS_LAST_CAR_NO_SAVE( ref l_U1957 );
        if (NOT (l_U1957 == nil))
        {
            if (IS_VEH_DRIVEABLE( l_U1957 ))
            {
                GET_CAR_MODEL( l_U1957, ref l_U2007 );
                if (NOT (IS_THIS_MODEL_A_BOAT( l_U2007 )))
                {
                    SET_CAR_AS_MISSION_CAR( l_U1957 );
                    CLEAR_AREA( -836.57920000, 909.43960000, 5.59780000, 4.00000000, 1 );
                    SET_CAR_HEADING( l_U1957, 90.33400000 );
                    SET_CAR_COORDINATES( l_U1957, -836.57920000, 909.43960000, 5.59780000 );
                }
            }
        }
        sub_12794();
        sub_14537( 16 );
        REQUEST_MODEL( l_U1296._fU4 );
        SUPPRESS_CAR_MODEL( l_U1296._fU4 );
        REQUEST_CAR_RECORDING( 841 );
        REQUEST_CAR_RECORDING( 842 );
        REQUEST_CAR_RECORDING( 843 );
        # -sub_C1FFC0-0xc214c8( 0, ref l_U2008 );
        LOAD_COMBAT_DECISION_MAKER( 0, ref l_U2009 );
        # -sub_C1FFC0-0xc214c8( 1, ref l_U2010 );
        LOAD_COMBAT_DECISION_MAKER( 2, ref l_U2011 );
        LOAD_COMBAT_DECISION_MAKER( 10, ref l_U2012 );
        LOAD_COMBAT_DECISION_MAKER( 10, ref l_U2013 );
        LOAD_COMBAT_DECISION_MAKER( 10, ref l_U2014 );
        SWITCH_RANDOM_BOATS( 0 );
        FORCE_WIND( 0.00000000 );
        LOAD_ALL_OBJECTS_NOW();
        SET_DECISION_MAKER_ATTRIBUTE_TARGET_LOSS_RESPONSE( l_U2013, 0 );
        SET_DECISION_MAKER_ATTRIBUTE_CAN_CHANGE_TARGET( l_U2013, 1 );
        SET_DECISION_MAKER_ATTRIBUTE_WEAPON_ACCURACY( l_U2013, 50 );
        SET_DECISION_MAKER_ATTRIBUTE_FIRE_RATE( l_U2013, 2 );
        SET_DECISION_MAKER_ATTRIBUTE_FIRE_RATE( l_U2014, 2 );
        SET_DECISION_MAKER_ATTRIBUTE_TARGET_LOSS_RESPONSE( l_U2014, 0 );
        SET_DECISION_MAKER_ATTRIBUTE_CAN_CHANGE_TARGET( l_U2014, 0 );
        SET_DECISION_MAKER_ATTRIBUTE_TARGET_LOSS_RESPONSE( l_U2012, 0 );
        SET_DECISION_MAKER_ATTRIBUTE_CAN_CHANGE_TARGET( l_U2012, 1 );
        SET_DECISION_MAKER_ATTRIBUTE_WEAPON_ACCURACY( l_U2012, 5 );
        SET_DECISION_MAKER_ATTRIBUTE_FIRE_RATE( l_U2012, 2 );
        SET_CAR_GENERATORS_ACTIVE_IN_AREA( -788.72000000, 866.61690000, 10.00000000, -777.25190000, 832.35600000, -10.00000000, 0 );
        l_U1137 = 3;
    }
    return;
}

int sub_12133(boolean bParam0)
{
    int iVar3;

    if (NOT IS_SCREEN_FADED_OUT())
    {
        if (NOT IS_SCREEN_FADING())
        {
            if (IS_CHAR_IN_ANY_BOAT( sub_4997() ))
            {
                iVar3 = 0;
            }
            else
            {
                iVar3 = 1;
            }
            if (sub_12199( 1, iVar3 ))
            {
                if (bParam0)
                {
                    SET_PLAYER_CONTROL( sub_3698(), 0 );
                }
                DO_SCREEN_FADE_OUT( 500 );
            }
        }
    }
    else
    {
        sub_3755( 0 );
        CLEAR_PRINTS();
        CLEAR_HELP();
        SET_PLAYER_CONTROL( sub_3698(), 0 );
        CLEAR_CHAR_TASKS( sub_4997() );
        DISPLAY_HUD( 0 );
        DISPLAY_RADAR( 0 );
        SET_WIDESCREEN_BORDERS( 1 );
        HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_4997(), 1 );
        ALLOW_EMERGENCY_SERVICES( 0 );
        return 1;
    }
    return 0;
}

int sub_12199(boolean bParam0, boolean bParam1)
{
    unknown uVar4;
    int iVar5;
    float fVar6;

    if (IS_MINIGAME_IN_PROGRESS())
    {
        return 0;
    }
    if (bParam1)
    {
        if (IS_CHAR_IN_ANY_CAR( sub_4997() ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_4997(), ref uVar4 );
            if (NOT (IS_CAR_DEAD( uVar4 )))
            {
                GET_CAR_UPRIGHT_VALUE( uVar4, ref fVar6 );
                if ((fVar6 > 1.01100000) || (fVar6 < 0.95000000))
                {
                    return 0;
                }
            }
        }
    }
    if (bParam0)
    {
        if (IS_CHAR_IN_ANY_CAR( sub_4997() ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_4997(), ref uVar4 );
            if (NOT (IS_CAR_DEAD( uVar4 )))
            {
                GET_DRIVER_OF_CAR( uVar4, ref iVar5 );
                if (NOT (iVar5 == sub_4997()))
                {
                    return 0;
                }
            }
        }
    }
    if (IS_CHAR_IN_ANY_CAR( sub_4997() ))
    {
        if (NOT (IS_CHAR_SITTING_IN_ANY_CAR( sub_4997() )))
        {
            return 0;
        }
    }
    if (NOT (IS_PLAYER_READY_FOR_CUTSCENE( sub_3698() )))
    {
        return 0;
    }
    if (NOT (CAN_PLAYER_START_MISSION( sub_3698() )))
    {
        return 0;
    }
    return 1;
}

void sub_12794()
{
    for ( l_U1820 = 0; l_U1820 <= (l_U1824 - 1); l_U1820++ )
    {
        l_U1824[l_U1820] = 0;
    }
    for ( l_U1820 = 0; l_U1820 <= 3; l_U1820++ )
    {
        l_U1835[l_U1820] = 0;
        l_U1751[l_U1820] = 0;
        l_U1796[l_U1820] = 0;
    }
    l_U1150._fU4 = 1169442297;
    l_U1162._fU4 = 757349871;
    l_U1162._fU16 = {0.70000000, -1.50000000, 3.15000000};
    l_U1162._fU28 = 300.00000000;
    l_U1174[0]._fU4 = -19263344;
    l_U1174[0]._fU16 = {1027.87900000, 1563.88200000, 2.93470000};
    l_U1174[0]._fU28 = 169.95720000;
    l_U1174[1]._fU4 = 1844702918;
    l_U1174[1]._fU16 = {1032.76200000, 1560.07400000, 2.77800000};
    l_U1174[1]._fU28 = 171.27590000;
    l_U1296._fU4 = 400514754;
    l_U1296._fU12 = {-784.03780000, 893.54590000, 0.37080000};
    l_U1296._fU24 = 0.00000000;
    l_U1830 = 56;
    l_U1831 = 62;
    l_U1312._fU4 = 1759673526;
    l_U1312._fU12 = {-800.85170000, 2038.98100000, 0.22000000};
    l_U1312._fU24 = 248.48900000;
    l_U1328._fU12 = {-784.03800000, 856.35420000, 0.38980000};
    l_U1328._fU24 = 0.23220000;
    l_U1344._fU12 = {-784.04490000, 846.35200000, 0.38980000};
    l_U1344._fU24 = 0.29860000;
    l_U1199[0]._fU0._fU4 = -235584669;
    l_U1199[0]._fU48._fU4 = -235584669;
    l_U1199[1]._fU0._fU4 = -235584669;
    l_U1199[1]._fU48._fU4 = -235584669;
    l_U1199[2]._fU0._fU4 = -235584669;
    l_U1199[2]._fU48._fU4 = -235584669;
    l_U1199[3]._fU0._fU4 = -235584669;
    l_U1199[3]._fU48._fU4 = -235584669;
    l_U1360[0]._fU0._fU4 = 1033245328;
    l_U1360[0]._fU64._fU4 = -235584669;
    l_U1360[0]._fU112._fU4 = -235584669;
    l_U1441[0]._fU96._fU4 = 1033245328;
    l_U1441[0]._fU96._fU12 = {-423.05990000, 1869.14800000, 0.00000000};
    l_U1441[0]._fU96._fU24 = 339.99960000;
    l_U1441[0]._fU176 = 70353.05000000;
    l_U1441[0]._fU180 = 1;
    l_U1441[0]._fU0._fU4 = -235584669;
    l_U1441[0]._fU48._fU4 = -235584669;
    l_U1441[1]._fU96._fU12 = {-341.51670000, 1829.28300000, 0.00000000};
    l_U1441[1]._fU96._fU24 = 355.35400000;
    l_U1441[1]._fU176 = 88618.60000000;
    l_U1441[1]._fU180 = 1;
    l_U1441[1]._fU0._fU4 = -235584669;
    l_U1441[1]._fU48._fU4 = -235584669;
    l_U1441[2]._fU96._fU12 = {-185.99190000, 1884.55200000, 0.00000000};
    l_U1441[2]._fU96._fU24 = 214.64210000;
    l_U1441[2]._fU176 = 112189.20000000;
    l_U1441[2]._fU180 = 1;
    l_U1441[2]._fU0._fU4 = -235584669;
    l_U1441[2]._fU48._fU4 = -235584669;
    l_U1441[3]._fU96._fU12 = {122.94410000, 1625.95000000, 0.29100000};
    l_U1441[3]._fU96._fU24 = 195.12190000;
    l_U1441[3]._fU176 = 156118.60000000;
    l_U1441[3]._fU180 = 1;
    l_U1441[3]._fU0._fU4 = -235584669;
    l_U1441[3]._fU48._fU4 = -235584669;
    l_U1689._fU8 = 1937616578;
    l_U1689._fU12 = {-1753.50500000, 226.70620000, 18.55740000};
    l_U1689._fU24 = 110.00000000;
    l_U1689._fU28 = 62;
    l_U1689._fU32 = 0;
    l_U1630._fU148._fU4 = -1660661558;
    l_U1630._fU148._fU8 = {512.69110000, 1391.87600000, 35.43110000};
    l_U1630._fU148._fU32 = 50.16660000;
    l_U1630._fU148._fU52 = 0;
    l_U1630._fU148._fU56 = 0;
    l_U1630._fU148._fU60 = 20.00000000;
    l_U1630._fU0._fU4 = -235584669;
    l_U1630._fU48[0]._fU4 = -235584669;
    l_U1630._fU48[1]._fU4 = -235584669;
    l_U1689._fU8 = 1937616578;
    l_U1689._fU12 = {-1753.50500000, 226.70620000, 19.05600000};
    l_U1689._fU24 = 110.00000000;
    l_U1689._fU28 = 62;
    l_U1689._fU32 = 0;
    l_U1698._fU8 = 1390084576;
    l_U1698._fU12 = {1017.46600000, 1578.90700000, 3.84290000};
    l_U1698._fU24 = 335.45580000;
    l_U1698._fU28 = 57;
    l_U1698._fU32 = 67;
    l_U1726 = -127453724;
    l_U1707[0]._fU4 = {1019.00000000, 1576.28000000, 3.14460000};
    l_U1707[0]._fU16 = 22.28000000;
    l_U1707[1]._fU4 = {1017.20000000, 1577.60000000, 4.11500000};
    l_U1707[1]._fU16 = 65.35701000;
    GET_WEAPONTYPE_MODEL( 13, ref l_U2003 );
    GET_WEAPONTYPE_MODEL( 14, ref l_U2004 );
    GET_WEAPONTYPE_MODEL( 18, ref l_U2005 );
    GET_WEAPONTYPE_MODEL( 15, ref l_U2006 );
    return;
}

void sub_14537(unknown uParam0)
{
    REQUEST_MODEL( sub_14548( uParam0 ) );
    return;
}

int sub_14548(unknown uParam0)
{
    switch (uParam0)
    {
        case 0:
        if (g_U64464[uParam0] == 2)
        {
            return 558221221;
        }
        return -1992728631;
        case 1: return 896408642;
        case 3:
        if (g_U64464[uParam0] == 1)
        {
            return -1275031987;
        }
        return 1487004273;
        case 4: return 57218969;
        case 5: return 1445589009;
        case 6: return 155063868;
        case 7: return -617264103;
        case 8: return -1729980128;
        case 9: return 1794146792;
        case 11: return 1710545037;
        case 12: return -1775659292;
        case 13: return 1690783035;
        case 14: return 954215094;
        case 15: return 809067472;
        case 16: return 1169442297;
        case 17: return 1872110126;
        case 18: return 1500493064;
        case 19: return -1826458934;
        case 22: return -366421228;
        case 20: return -379234846;
        case 24: return 237511807;
        case 25: return 237497537;
        case 26: return -1040287406;
        case 27: return -357652594;
        case 52: return 2129490787;
        case 53: return 386513184;
        case 2: return -1080659212;
        case 10: return -773750838;
        case 28: return -1788328884;
        case 29: return 1056837725;
        case 30: return -292713088;
        case 31:
        case 32: return -292713088;
    }
    sub_2622( "Contacts.sch: Get_Model_For_Contact(): Unknown Contact ID. Tell Keith." );
    return 0;
}

void sub_15622()
{
    unknown uVar2;

    if (NOT (l_U1824[0] == 1))
    {
        if (l_U1817)
        {
            if (sub_15664( ref l_U1832, 1000 ))
            {
                l_U1824[0] = 1;
                l_U1145 = 8;
            }
        }
    }
    if (DOES_VEHICLE_EXIST( l_U1296._fU0 ))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1296._fU0 ))
        {
            PRINTFLOAT( FIND_TIME_POSITION_IN_RECORDING( l_U1296._fU0 ) );
            PRINTNL();
        }
    }
    switch (l_U1145)
    {
        case 0:
        CLEAR_AREA( -784.29530000, 873.75890000, -1.22770000, 200.00000000, 1 );
        if (DOES_VEHICLE_EXIST( l_U1957 ))
        {
            if (IS_VEH_DRIVEABLE( l_U1957 ))
            {
                MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U1957 );
            }
        }
        BEGIN_CAM_COMMANDS( ref l_U1821 );
        CREATE_CAM( 3, ref l_U1975 );
        CREATE_CAM( 14, ref l_U1965 );
        SET_CAM_POS( l_U1965, -782.67350000, 862.19060000, 1.29287100 );
        SET_CAM_ROT( l_U1965, -1.13094600, 0.00000000, 177.60480000 );
        SET_CAM_FOV( l_U1965, 45.00000000 );
        CREATE_CAM( 14, ref l_U1966 );
        SET_CAM_POS( l_U1966, -781.89890000, 878.33340000, 1.26966300 );
        SET_CAM_ROT( l_U1966, -0.15875600, -0.00000000, 156.39400000 );
        SET_CAM_FOV( l_U1966, 45.00000000 );
        CREATE_CAM( 14, ref l_U1967 );
        SET_CAM_POS( l_U1967, -790.58620000, 905.32190000, 5.02953300 );
        SET_CAM_ROT( l_U1967, -20.17210000, 0.00000000, -167.73880000 );
        SET_CAM_FOV( l_U1967, 45.00000000 );
        CREATE_CAM( 14, ref l_U1968 );
        SET_CAM_POS( l_U1968, -790.53330000, 900.80710000, 3.89512500 );
        SET_CAM_ROT( l_U1968, -21.43262000, -0.00000100, -148.94580000 );
        SET_CAM_FOV( l_U1968, 45.00000000 );
        CREATE_CAM( 14, ref l_U1969 );
        SET_CAM_POS( l_U1969, -790.58620000, 905.32190000, 5.02953300 );
        SET_CAM_ROT( l_U1969, -20.17210000, 0.00000000, -167.73880000 );
        SET_CAM_FOV( l_U1969, 45.00000000 );
        l_U1296._fU12 = {l_U1881};
        l_U1296._fU24 = l_U1943;
        GET_GROUND_Z_FOR_3D_COORD( l_U1857._fU0, l_U1857._fU4, l_U1857._fU8, ref uVar2 );
        SET_CHAR_COORDINATES( sub_4997(), l_U1857._fU0, l_U1857._fU4, uVar2 );
        TASK_TURN_CHAR_TO_FACE_COORD( sub_4997(), l_U1296._fU12._fU0, l_U1296._fU12._fU4, l_U1296._fU12._fU8 );
        if (NOT (IS_CAR_DEAD( l_U1328._fU0 )))
        {
            SET_CAR_COORDINATES( l_U1328._fU0, l_U1328._fU12._fU0, l_U1328._fU12._fU4, l_U1328._fU12._fU8 );
        }
        if (NOT (IS_CAR_DEAD( l_U1344._fU0 )))
        {
            SET_CAR_COORDINATES( l_U1344._fU0, l_U1344._fU12._fU0, l_U1344._fU12._fU4, l_U1344._fU12._fU8 );
        }
        CREATE_CAR( l_U1296._fU4, -784.30280000, 793.09860000, -2.13000000, ref l_U1296._fU0, 1 );
        l_U1296._fU56 = 1;
        SET_CAR_HEADING( l_U1296._fU0, 359.91940000 );
        CHANGE_CAR_COLOUR( l_U1296._fU0, l_U1830, l_U1831 );
        SET_VEHICLE_CAN_BE_TARGETTED( l_U1296._fU0, 0 );
        SET_CAR_ENGINE_ON( l_U1296._fU0, 1, 1 );
        TURN_OFF_VEHICLE_EXTRA( l_U1296._fU0, 1, 1 );
        sub_16840( 16, ref l_U1150._fU0, l_U1296._fU0 );
        sub_11872( 1, l_U1150._fU0, "derrick_mcreary", 0 );
        STOP_PED_SPEAKING( l_U1150._fU0, 1 );
        l_U1150._fU40 = 1;
        SET_CHAR_NAME_DEBUG( l_U1150._fU0, "derrick.ped" );
        SET_CHAR_RELATIONSHIP( l_U1150._fU0, 1, 0 );
        SET_CHAR_HEALTH( l_U1150._fU0, 280 );
        SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U1150._fU0, 0 );
        SET_SENSE_RANGE( l_U1150._fU0, 250.00000000 );
        SET_CHAR_SUFFERS_CRITICAL_HITS( l_U1150._fU0, 0 );
        SET_CHAR_IS_TARGET_PRIORITY( l_U1150._fU0, 0 );
        SET_CHAR_IS_TARGET_PRIORITY( sub_4997(), 0 );
        SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U1150._fU0, 0 );
        CLEAR_CHAR_TASKS( l_U1150._fU0 );
        TASK_LOOK_AT_CHAR( l_U1150._fU0, sub_4997(), -2, 0 );
        START_PLAYBACK_RECORDED_CAR( l_U1296._fU0, 843 );
        SET_PLAYBACK_SPEED( l_U1296._fU0, 0.70000000 );
        SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( l_U1296._fU0, 5500 );
        GET_GAME_TIMER( ref l_U1829 );
        l_U1833 = 0;
        l_U1145 = 2;
        break;
        case 1:
        if (NOT l_U1766)
        {
            TASK_FLUSH_ROUTE();
            TASK_EXTEND_ROUTE( -789.59390000, 893.47490000, 0.43700000 );
            OPEN_SEQUENCE_TASK( ref l_U2040 );
            TASK_FOLLOW_POINT_ROUTE( 0, 2, 0 );
            CLOSE_SEQUENCE_TASK( l_U2040 );
            TASK_PERFORM_SEQUENCE( sub_4997(), l_U2040 );
            CLEAR_SEQUENCE_TASK( l_U2040 );
            GET_GAME_TIMER( ref l_U1829 );
            l_U1766 = 1;
        }
        if (l_U1766)
        {
            if (sub_9790( ref l_U1829, 1500 ))
            {
                SET_CAM_ACTIVE( l_U1969, 0 );
                SET_CAM_PROPAGATE( l_U1969, 0 );
                SET_CAM_INTERP_STYLE_CORE( l_U1975, l_U1967, l_U1968, 3500, 0 );
                SET_CAM_ACTIVE( l_U1975, 1 );
                SET_CAM_PROPAGATE( l_U1975, 1 );
                l_U1145 = 2;
            }
        }
        break;
        case 2:
        SETTIMERB( 0 );
        SET_CHAR_COORDINATES( sub_4997(), -789.91410000, 893.70680000, 0.44140000 );
        SET_CHAR_HEADING( sub_4997(), 256.46840000 );
        CLEAR_CHAR_TASKS( sub_4997() );
        TASK_LOOK_AT_CHAR( sub_4997(), l_U1150._fU0, -2, 0 );
        SET_CAM_INTERP_STYLE_CORE( l_U1975, l_U1965, l_U1966, 5500, 0 );
        SET_CAM_ACTIVE( l_U1975, 1 );
        SET_CAM_PROPAGATE( l_U1975, 1 );
        ACTIVATE_SCRIPTED_CAMS( 1, 1 );
        l_U1817 = 1;
        GET_GAME_TIMER( ref l_U1832 );
        DO_SCREEN_FADE_IN( 500 );
        l_U1145 = 3;
        break;
        case 3:
        if (NOT IS_CAM_INTERPOLATING())
        {
            SET_CAM_ACTIVE( l_U1975, 1 );
            SET_CAM_PROPAGATE( l_U1975, 1 );
            SET_CAM_ACTIVE( l_U1965, 1 );
            SET_CAM_PROPAGATE( l_U1965, 1 );
            SET_CAM_ACTIVE( l_U1966, 1 );
            SET_CAM_PROPAGATE( l_U1966, 1 );
            SET_CAM_ACTIVE( l_U1968, 1 );
            SET_CAM_PROPAGATE( l_U1968, 1 );
            l_U1145 = 4;
        }
        break;
        case 4:
        if (NOT (IS_CHAR_INJURED( l_U1150._fU0 )))
        {
            if (IS_VEH_DRIVEABLE( l_U1296._fU0 ))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1296._fU0 ))
                {
                    if ((FIND_TIME_POSITION_IN_RECORDING( l_U1296._fU0 )) > 11000)
                    {
                        SET_CAR_FORWARD_SPEED( l_U1296._fU0, 0.00000000 );
                        ANCHOR_BOAT( l_U1296._fU0, 1 );
                        sub_19485( "dm2_goto", ref l_U2027[0], 7, 1 );
                        CLEAR_CHAR_TASKS( l_U1150._fU0 );
                        OPEN_SEQUENCE_TASK( ref l_U1150._fU12 );
                        TASK_SHUFFLE_TO_NEXT_CAR_SEAT( 0, l_U1296._fU0 );
                        CLOSE_SEQUENCE_TASK( l_U1150._fU12 );
                        TASK_PERFORM_SEQUENCE( l_U1150._fU0, l_U1150._fU12 );
                        CLEAR_SEQUENCE_TASK( l_U1150._fU12 );
                        GET_GAME_TIMER( ref l_U1829 );
                        l_U1145 = 5;
                    }
                }
            }
        }
        break;
        case 5:
        if (sub_9790( ref l_U1829, 500 ))
        {
            TASK_FLUSH_ROUTE();
            TASK_EXTEND_ROUTE( -786.45540000, 892.31210000, 0.44140000 );
            CLEAR_CHAR_TASKS( sub_4997() );
            OPEN_SEQUENCE_TASK( ref l_U2040 );
            TASK_FOLLOW_POINT_ROUTE( 0, 2, 0 );
            CLOSE_SEQUENCE_TASK( l_U2040 );
            TASK_PERFORM_SEQUENCE( sub_4997(), l_U2040 );
            CLEAR_SEQUENCE_TASK( l_U2040 );
            GET_GAME_TIMER( ref l_U1829 );
            l_U1145 = 6;
        }
        break;
        case 6:
        if (NOT (sub_20711( l_U2027[0] )))
        {
            DO_SCREEN_FADE_OUT( 500 );
            l_U1145 = 7;
        }
        break;
        case 7:
        if (IS_SCREEN_FADED_OUT())
        {
            SET_CAM_ACTIVE( l_U1968, 0 );
            SET_CAM_PROPAGATE( l_U1968, 0 );
            ACTIVATE_SCRIPTED_CAMS( 0, 0 );
            END_CAM_COMMANDS( ref l_U1821 );
            DESTROY_ALL_CAMS();
            REQUEST_MODEL( l_U1162._fU4 );
            REQUEST_MODEL( l_U1312._fU4 );
            SUPPRESS_CAR_MODEL( l_U1312._fU4 );
            LOAD_ALL_OBJECTS_NOW();
            if ((NOT (IS_CHAR_INJURED( l_U1150._fU0 ))) AND (IS_VEH_DRIVEABLE( l_U1296._fU0 )))
            {
                ANCHOR_BOAT( l_U1296._fU0, 0 );
                if (NOT (IS_CHAR_IN_CAR( l_U1150._fU0, l_U1296._fU0 )))
                {
                    WARP_CHAR_INTO_CAR_AS_PASSENGER( l_U1150._fU0, l_U1296._fU0, 0 );
                }
                else
                {
                    WARP_CHAR_FROM_CAR_TO_CAR( l_U1150._fU0, l_U1296._fU0, 0 );
                }
                if (NOT (IS_CHAR_IN_CAR( sub_4997(), l_U1296._fU0 )))
                {
                    WARP_CHAR_INTO_CAR( sub_4997(), l_U1296._fU0 );
                }
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1296._fU0 ))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U1296._fU0 );
                }
                SET_CAR_COORDINATES( l_U1296._fU0, -783.64370000, 893.61980000, -0.01000000 );
                SET_CAR_HEADING( l_U1296._fU0, 356.90510000 );
            }
            CLEAR_AREA( l_U1312._fU12._fU0, l_U1312._fU12._fU4, l_U1312._fU12._fU8, 5.00000000, 1 );
            CREATE_CAR( 1759673526, l_U1312._fU12._fU0, l_U1312._fU12._fU4, l_U1312._fU12._fU8, ref l_U1312._fU0, 1 );
            l_U1312._fU56 = 1;
            SET_CAR_HEALTH( l_U1312._fU0, 1000 );
            SET_ENGINE_HEALTH( l_U1312._fU0, 1000 );
            SET_PETROL_TANK_HEALTH( l_U1312._fU0, 1000 );
            SET_CAR_ENGINE_ON( l_U1312._fU0, 1, 1 );
            SET_CAR_HEADING( l_U1312._fU0, l_U1312._fU24 );
            SET_CAR_COORDINATES( l_U1312._fU0, l_U1312._fU12._fU0, l_U1312._fU12._fU4, l_U1312._fU12._fU8 );
            ANCHOR_BOAT( l_U1312._fU0, 1 );
            LOCK_CAR_DOORS( l_U1312._fU0, 3 );
            CREATE_CHAR( 26, l_U1162._fU4, l_U1312._fU12._fU0, l_U1312._fU12._fU4, l_U1312._fU12._fU8 + 5.00000000, ref l_U1162._fU0, 1 );
            l_U1162._fU40 = 1;
            sub_11872( 2, l_U1162._fU0, "kim", 0 );
            ATTACH_PED_TO_CAR( l_U1162._fU0, l_U1312._fU0, 0, l_U1162._fU16, l_U1162._fU28, 0.00000000, 1, 0 );
            SET_CHAR_RELATIONSHIP_GROUP( l_U1162._fU0, 0 );
            SET_CHAR_SUFFERS_CRITICAL_HITS( l_U1162._fU0, 0 );
            SET_CHAR_IS_TARGET_PRIORITY( l_U1162._fU0, 1 );
            SET_CHAR_NEVER_TARGETTED( l_U1162._fU0, 1 );
            STOP_PED_SPEAKING( l_U1162._fU0, 1 );
            TASK_LOOK_AT_CHAR( l_U1162._fU0, sub_4997(), -2, 0 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1162._fU0, 1 );
            SET_CHAR_PROOFS( l_U1162._fU0, 0, 0, 1, 0, 0 );
            SET_CHAR_HEALTH( l_U1162._fU0, 335 );
            ADD_BLIP_FOR_CHAR( l_U1162._fU0, ref l_U1162._fU8 );
            SET_BLIP_AS_FRIENDLY( l_U1162._fU8, 1 );
            sub_21836( 1 );
            GET_GAME_TIMER( ref l_U1829 );
            l_U1833 = 0;
            l_U1824[0] = 1;
            l_U1816 = 1;
            l_U1137 = 4;
        }
        break;
        case 8:
        if (NOT IS_SCREEN_FADED_OUT())
        {
            if (NOT IS_SCREEN_FADING_OUT())
            {
                DO_SCREEN_FADE_OUT( 500 );
            }
        }
        else
        {
            sub_3755( 0 );
            CLEAR_PRINTS();
            if (NOT (DOES_VEHICLE_EXIST( l_U1296._fU0 )))
            {
                CREATE_CAR( l_U1296._fU4, l_U1296._fU12._fU0, l_U1296._fU12._fU4, l_U1296._fU12._fU8, ref l_U1296._fU0, 1 );
                l_U1296._fU56 = 1;
                SET_CAR_HEADING( l_U1296._fU0, l_U1296._fU24 );
                CHANGE_CAR_COLOUR( l_U1296._fU0, l_U1830, l_U1831 );
                SET_VEHICLE_CAN_BE_TARGETTED( l_U1296._fU0, 0 );
                TURN_OFF_VEHICLE_EXTRA( l_U1296._fU0, 1, 1 );
                START_PLAYBACK_RECORDED_CAR( l_U1296._fU0, 841 );
                SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( l_U1296._fU0, 2200 );
            }
            if (NOT (DOES_CHAR_EXIST( l_U1150._fU0 )))
            {
                sub_22327( 16, ref l_U1150._fU0, l_U1296._fU0, 0 );
                sub_11872( 1, l_U1150._fU0, "derrick_mcreary", 0 );
                l_U1150._fU40 = 1;
                SET_CHAR_NAME_DEBUG( l_U1150._fU0, "derrick.ped" );
                SET_CHAR_RELATIONSHIP( l_U1150._fU0, 1, 0 );
                STOP_PED_SPEAKING( l_U1150._fU0, 1 );
                SET_CHAR_HEALTH( l_U1150._fU0, 280 );
                SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U1150._fU0, 0 );
                SET_SENSE_RANGE( l_U1150._fU0, 200.00000000 );
                SET_CHAR_IS_TARGET_PRIORITY( l_U1150._fU0, 0 );
                SET_CHAR_IS_TARGET_PRIORITY( sub_4997(), 0 );
                CLEAR_CHAR_TASKS( l_U1150._fU0 );
                TASK_LOOK_AT_CHAR( l_U1150._fU0, sub_4997(), -2, 0 );
            }
            if ((NOT (IS_CAR_DEAD( l_U1296._fU0 ))) AND (NOT (IS_CHAR_INJURED( l_U1150._fU0 ))))
            {
                CLEAR_CHAR_TASKS_IMMEDIATELY( l_U1150._fU0 );
                CLEAR_CHAR_TASKS_IMMEDIATELY( sub_4997() );
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1296._fU0 ))
                {
                    SKIP_TO_END_AND_STOP_PLAYBACK_RECORDED_CAR( l_U1296._fU0 );
                }
            }
            l_U1145 = 7;
        }
        break;
    }
    return;
}

int sub_15664(unknown uParam0, unknown uParam1)
{
    if (sub_9790( uParam0, uParam1 ))
    {
        if (IS_SCREEN_FADED_IN())
        {
            if (sub_15699())
            {
                return 1;
            }
        }
    }
    return 0;
}

void sub_15699()
{
    return IS_CONTROL_JUST_PRESSED( 2, 77 );
}

void sub_16840(unknown uParam0, unknown uParam1, unknown uParam2)
{
    CREATE_CHAR_INSIDE_CAR( uParam2, 25, sub_14548( uParam0 ), uParam1 );
    sub_16873( uParam0, (uParam1^) );
    return;
}

void sub_16873(unknown uParam0, unknown uParam1)
{
    sub_16885( ref uParam1, uParam0 );
    g_U26440[uParam0]._fU0 = 1;
    g_U26440[uParam0]._fU4 = uParam1;
    return;
}

void sub_16885(unknown uParam0, int iParam1)
{
    SET_CHAR_SUFFERS_CRITICAL_HITS( (uParam0^), 0 );
    SET_CHAR_CANT_BE_DRAGGED_OUT( (uParam0^), 1 );
    SET_CHAR_NEVER_TARGETTED( (uParam0^), 1 );
    SET_CHAR_MAX_TIME_IN_WATER( (uParam0^), 10.00000000 );
    SET_CHAR_MAX_TIME_UNDERWATER( (uParam0^), 10.00000000 );
    if (iParam1 == 57)
    {
        sub_16979( uParam0, 0, 0, 0, 0, 0, 0, 0, -1, -1 );
    }
    else
    {
        sub_17523( (uParam0^), iParam1, g_U64464[iParam1] );
    }
    return;
}

void sub_16979(unknown uParam0, int iParam1, int iParam2, int iParam3, int iParam4, int iParam5, int iParam6, int iParam7, int iParam8, int iParam9)
{
    int iVar12;
    int iVar13;

    if (NOT (IS_CHAR_DEAD( (uParam0^) )))
    {
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 0 )) == iParam1)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 0 )) == iParam1)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 0, iParam1, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 1 )) == iParam2)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 1 )) == iParam2)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 1, iParam2, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 2 )) == iParam3)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 2 )) == iParam3)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 2, iParam3, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 5 )) == iParam4)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 5 )) == iParam4)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 5, iParam4, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 4 )) == iParam5)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 4 )) == iParam5)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 4, iParam5, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 3 )) == iParam6)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 3 )) == iParam6)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 3, iParam6, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 7 )) == iParam7)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 7 )) == iParam7)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 7, iParam7, 0 );
        }
        iVar12 = -1;
        GET_CHAR_PROP_INDEX( (uParam0^), 0, ref iVar12 );
        if (NOT (iVar12 == iParam8))
        {
            if (iParam8 == -1)
            {
                CLEAR_CHAR_PROP( (uParam0^), 0 );
            }
            else
            {
                SET_CHAR_PROP_INDEX( (uParam0^), 0, iParam8 );
            }
        }
        iVar13 = -1;
        GET_CHAR_PROP_INDEX( (uParam0^), 0, ref iVar13 );
        if (NOT (iVar13 == iParam9))
        {
            if (iParam9 == -1)
            {
                CLEAR_CHAR_PROP( (uParam0^), 1 );
            }
            else
            {
                SET_CHAR_PROP_INDEX( (uParam0^), 1, iParam9 );
            }
        }
    }
    return;
}

void sub_17523(unknown uParam0, unknown uParam1, int iParam2)
{
    switch (uParam1)
    {
        case 0:
        switch (iParam2)
        {
            case 0:
            sub_16979( ref uParam0, 0, 0, 0, 0, 0, 0, 0, -1, -1 );
            break;
            case 1:
            sub_16979( ref uParam0, 0, 1, 1, 1, 0, 0, 0, -1, -1 );
            break;
            case 2:
            sub_16979( ref uParam0, 0, 2, 1, 1, 0, 0, 0, -1, -1 );
            break;
            default: SCRIPT_ASSERT( "Set_Contacts_Clothes: Unknown Clothes set for Roman" );
        }
        return;
        case 3:
        switch (iParam2)
        {
            case 0:
            sub_16979( ref uParam0, 0, 0, 0, 0, 0, 0, 0, -1, 0 );
            break;
            case 1:
            sub_16979( ref uParam0, 0, 1, 0, 2, 0, 0, 0, -1, 0 );
            break;
            default: SCRIPT_ASSERT( "Set_Contacts_Clothes: Unknown Clothes set for Little Jacob" );
        }
        return;
        case 8:
        switch (iParam2)
        {
            case 0:
            sub_16979( ref uParam0, 0, 0, 0, 0, 0, 0, 0, -1, -1 );
            break;
            case 1:
            sub_16979( ref uParam0, 0, 1, 0, 0, 0, 0, 0, -1, -1 );
            break;
            case 2:
            sub_16979( ref uParam0, 0, 2, 1, 1, 0, 0, 0, -1, -1 );
            break;
            default: SCRIPT_ASSERT( "Set_Contacts_Clothes: Unknown Clothes set for Brucie" );
        }
        return;
        case 13:
        switch (iParam2)
        {
            case 0:
            sub_16979( ref uParam0, 0, 0, 0, 0, 0, 0, 0, -1, -1 );
            break;
            case 1:
            sub_16979( ref uParam0, 0, 1, 1, 1, 0, 0, 0, -1, -1 );
            break;
            default: SCRIPT_ASSERT( "Set_Contacts_Clothes: Unknown Clothes set for Packie" );
        }
        return;
        case 16:
        switch (iParam2)
        {
            case 0:
            sub_16979( ref uParam0, 0, 0, 0, 0, 0, 0, 0, -1, -1 );
            break;
            case 1:
            sub_16979( ref uParam0, 0, 1, 1, 1, 0, 0, 0, -1, -1 );
            break;
            default: SCRIPT_ASSERT( "Set_Contacts_Clothes: Unknown Clothes set for Derrick" );
        }
        return;
    }
    if (NOT (iParam2 == 0))
    {
        SCRIPT_ASSERT( "Set_Contacts_Clothes: A contact without a change of clothes attempting to change clothes" );
    }
    sub_16979( ref uParam0, 0, 0, 0, 0, 0, 0, 0, -1, -1 );
    return;
}

void sub_19485(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    return sub_19506( uParam0, ref l_U4._fU0, uParam1, uParam2, uParam3 );
}

void sub_19506(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    char[16] cVar7;
    char[12] cVar11;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    StrCopy( ref cVar7, uParam1, 16 );
    array(ref cVar11, 2);
    StrCopy( ref cVar11[0], uParam0, 16 );
    StrCopy( ref cVar11[1], "END", 16 );
    return sub_19560( ref cVar11, uParam2, uParam3, 0, 0, 0, 0, ref cVar7, uParam4 );
}

int sub_19560(unknown uParam0, int iParam1, unknown uParam2, boolean bParam3, boolean bParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    int I;
    int iVar12;

    iVar12 = 0;
    iParam1->_fU0 = uParam2;
    if (NOT (sub_19582( iParam1 )))
    {
        return 0;
    }
    l_U4._fU384 = 0;
    iParam1->_fU16 = 0;
    iParam1->_fU20 = uParam5;
    if (bParam3)
    {
        if (iParam1->_fU12)
        {
            iVar12 = iParam1->_fU8;
            iParam1->_fU12 = 0;
        }
    }
    else
    {
        iParam1->_fU12 = 0;
        if (bParam4)
        {
            iVar12 = uParam6;
            iParam1->_fU8 = uParam6;
            iParam1->_fU12 = 0;
        }
        else
        {
            iParam1->_fU8 = 0;
            iParam1->_fU12 = 0;
        }
    }
    iParam1->_fU16 = bParam4;
    for ( I = 0; I <= (g_U8499 - 1); I++ )
    {
        StrCopy( ref g_U8499[I], "END", 16 );
    }
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        g_U8499[I] = {(uParam0^)[I]};
    }
    g_U8493 = {(iParam1^)};
    sub_20270( ref g_U8395, ref l_U4 );
    StrCopy( ref g_U8395._fU0, uParam7, 16 );
    g_U8395._fU388 = uParam8;
    g_U8394 = 1;
    return 1;
}

int sub_19582(int iParam0)
{
    if (IS_MOBILE_PHONE_CALL_ONGOING())
    {
        sub_19659( "\n !!!!! CANT PLAY SPEECH MOBILE PHONE CALL IS PLAYING" );
        return 0;
    }
    if (IS_THREAD_ACTIVE( g_U556[1] ))
    {
        switch (g_U91._fU0)
        {
            case 1010:
            case 1001:
            case 1000: break;
            default:
            sub_19659( "\n !!!!! CANT PLAY SPEECH CALLING SCRIPT IS STILL ACTIVE" );
            return 0;
            break;
        }
    }
    switch (g_U8394)
    {
        case 4:
        case 1:
        case 2:
        return 0;
        break;
    }
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if (g_U8392 > iParam0->_fU0)
        {
            sub_19659( "\n !!!!! CANT PLAY SPEECH CURRENT SPEECH HAS HIGHER PRIORITY" );
            return 0;
        }
        ABORT_SCRIPTED_CONVERSATION( 0 );
    }
    g_U8392 = iParam0->_fU0;
    g_U8393++;
    if (g_U8393 > 100000)
    {
        g_U8393 = 1;
    }
    iParam0->_fU4 = g_U8393;
    return 1;
}

void sub_19659(unknown uParam0)
{
    return;
}

void sub_20270(int iParam0, int iParam1)
{
    int I;

    iParam0->_fU0 = {iParam1->_fU0};
    for ( I = 0; I <= 8; I++ )
    {
        iParam0->_fU16[I] = {iParam1->_fU16[I]};
        iParam0->_fU344[I] = iParam1->_fU344[I];
    }
    iParam0->_fU384 = iParam1->_fU384;
    iParam0->_fU388 = iParam1->_fU388;
    return;
}

int sub_20711(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    if ((g_U8394 == 2) || ((g_U8394 == 1) || (IS_SCRIPTED_CONVERSATION_ONGOING())))
    {
        if (uParam0._fU4 == g_U8393)
        {
            return 1;
        }
        else
        {
            sub_19659( "\n speech is playing, but not from this structure" );
        }
    }
    else
    {
        sub_19659( "\n speech is not playing" );
    }
    return 0;
}

void sub_21836(boolean bParam0)
{
    CLEAR_PRINTS();
    CLEAR_HELP();
    sub_3755( 0 );
    DISPLAY_HUD( 1 );
    DISPLAY_RADAR( 1 );
    SET_WIDESCREEN_BORDERS( 0 );
    if (IS_PLAYER_PLAYING( sub_3698() ))
    {
        SET_INTERP_IN_OUT_VEHICLE_ENABLED_THIS_FRAME( 0 );
        SET_INTERP_FROM_SCRIPT_TO_GAME( 1, 0 );
        SET_CAM_BEHIND_PED( sub_4997() );
        if (bParam0)
        {
            CLEAR_CHAR_TASKS( sub_4997() );
        }
        SET_PLAYER_CONTROL( sub_3698(), 1 );
        HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_4997(), 0 );
    }
    ALLOW_EMERGENCY_SERVICES( 1 );
    DO_SCREEN_FADE_IN( 500 );
    return;
}

void sub_22327(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    CREATE_CHAR_AS_PASSENGER( uParam2, 25, sub_14548( uParam0 ), uParam3, uParam1 );
    sub_16873( uParam0, (uParam1^) );
    return;
}

void sub_22709()
{
    sub_22718();
    sub_31203( ref l_U1296._fU0, ref l_U1296._fU8, ref l_U1162._fU0, ref l_U1162._fU8, 1, "DM2_FIND" );
    if ((sub_8693( ref l_U1162._fU0 )) < 50.00000000)
    {
        if (DOES_BLIP_EXIST( l_U1162._fU8 ))
        {
            if ((sub_8693( ref l_U1150._fU0 )) < 4.00000000)
            {
                if (sub_31499())
                {
                    l_U1140 = 1;
                    sub_31634();
                    l_U1137 = 5;
                }
            }
        }
    }
    if ((NOT l_U1727[1]) AND (IS_KEYBOARD_KEY_PRESSED( 36 )))
    {
        SET_CHAR_COORDINATES( sub_4997(), -770.44560000, 1930.71000000, 0.00000000 );
        SET_CHAR_HEADING( sub_4997(), 19.35060000 );
        l_U1727[1] = 1;
    }
    return;
}

void sub_22718()
{
    switch (l_U1147)
    {
        case 0:
        if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
        {
            sub_19485( "DM2_COORD", ref l_U2027[0], 8, 1 );
            l_U1147 = 1;
        }
        break;
        case 1:
        if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
        {
            l_U1780 = 0;
            l_U1779 = 0;
            if (l_U1772)
            {
                if (sub_9790( ref l_U1856, 3000 ))
                {
                    CLEAR_PRINTS();
                    sub_23084( "DM2_COORD", ref l_U2027[0], 8, 1 );
                    l_U1772 = 0;
                }
            }
            else if (NOT (sub_20711( l_U2027[0] )))
            {
                CLEAR_PRINTS();
                PRINT_NOW( "DM2_FIND", 7500, 1 );
                GET_GAME_TIMER( ref l_U1829 );
                CLEAR_CHAR_TASKS( l_U1150._fU0 );
                l_U1147 = 2;
            }
        }
        else
        {
            GET_GAME_TIMER( ref l_U1856 );
            if (NOT l_U1772)
            {
                if (sub_20711( l_U2027[0] ))
                {
                    l_U1772 = sub_23339( ref l_U2027[0] );
                }
            }
            if (NOT l_U1780)
            {
                if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 0 ))) AND (NOT (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 ))))
                {
                    sub_19485( "DM2_N_OUT", ref l_U2027[1], 8, 1 );
                    l_U1780 = 1;
                }
            }
            else if (NOT l_U1779)
            {
                if (NOT (sub_20711( l_U2027[1] )))
                {
                    CLEAR_PRINTS();
                    PRINT( "DM2_GOD1", 7500, 1 );
                    l_U1779 = 1;
                }
            }
        }
        break;
        case 2:
        switch (g_U65007)
        {
            case 0:
            if (sub_9790( ref l_U1829, 7500 ))
            {
                if (sub_9790( ref l_U1856, 3000 ))
                {
                    if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
                    {
                        if (sub_19485( "DM2_BUOY", ref l_U2027[0], 8, 1 ))
                        {
                            CLEAR_PRINTS();
                            CLEAR_CHAR_TASKS( l_U1150._fU0 );
                            TASK_LOOK_AT_CHAR( l_U1150._fU0, sub_4997(), -2, 0 );
                            l_U1772 = 0;
                            l_U1779 = 0;
                            l_U1780 = 0;
                            l_U1147 = 3;
                            break;
                        }
                    }
                }
            }
            sub_24201( ref l_U1296._fU0, "DM2_N_OUT", "DM2_GOD1", ref l_U2027[1], ref l_U1779, ref l_U1780, ref l_U1856 );
            break;
            case 1:
            if (sub_9790( ref l_U1829, 7500 ))
            {
                if (sub_9790( ref l_U1856, 3000 ))
                {
                    if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
                    {
                        if (sub_19485( "DM2_DRIVE", ref l_U2027[0], 8, 1 ))
                        {
                            CLEAR_PRINTS();
                            CLEAR_CHAR_TASKS( l_U1150._fU0 );
                            TASK_LOOK_AT_CHAR( l_U1150._fU0, sub_4997(), -2, 0 );
                            l_U1772 = 0;
                            l_U1779 = 0;
                            l_U1780 = 0;
                            l_U1147 = 3;
                            break;
                        }
                    }
                }
            }
            sub_24201( ref l_U1296._fU0, "DM2_N_OUT", "DM2_GOD1", ref l_U2027[1], ref l_U1779, ref l_U1780, ref l_U1856 );
            break;
            case 2:
            sub_24201( ref l_U1296._fU0, "DM2_N_OUT", "DM2_GOD1", ref l_U2027[1], ref l_U1779, ref l_U1780, ref l_U1856 );
            break;
        }
        break;
        case 3:
        switch (g_U65007)
        {
            case 0:
            if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
            {
                l_U1780 = 0;
                l_U1779 = 0;
                if (l_U1772)
                {
                    if (sub_9790( ref l_U1856, 3000 ))
                    {
                        CLEAR_PRINTS();
                        sub_23084( "DM2_BUOY", ref l_U2027[0], 8, 1 );
                        l_U1772 = 0;
                    }
                }
                else if (NOT (sub_20711( l_U2027[0] )))
                {
                    CLEAR_CHAR_TASKS( l_U1150._fU0 );
                    l_U1147 = 17;
                }
            }
            else
            {
                GET_GAME_TIMER( ref l_U1856 );
                if (NOT l_U1772)
                {
                    if (sub_20711( l_U2027[0] ))
                    {
                        l_U1772 = sub_23339( ref l_U2027[0] );
                    }
                }
                if (NOT l_U1780)
                {
                    if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 0 ))) AND (NOT (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 ))))
                    {
                        sub_19485( "DM2_N_OUT", ref l_U2027[1], 8, 1 );
                        l_U1780 = 1;
                    }
                }
                else if (NOT l_U1779)
                {
                    if (NOT (sub_20711( l_U2027[1] )))
                    {
                        CLEAR_PRINTS();
                        PRINT( "DM2_GOD1", 7500, 1 );
                        l_U1779 = 1;
                    }
                }
            }
            break;
            case 1:
            if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
            {
                l_U1780 = 0;
                l_U1779 = 0;
                if (l_U1772)
                {
                    if (sub_9790( ref l_U1856, 3000 ))
                    {
                        CLEAR_PRINTS();
                        sub_23084( "DM2_DRIVE", ref l_U2027[0], 8, 1 );
                        l_U1772 = 0;
                    }
                }
                else if (NOT (sub_20711( l_U2027[0] )))
                {
                    CLEAR_CHAR_TASKS( l_U1150._fU0 );
                    l_U1147 = 17;
                }
            }
            else
            {
                GET_GAME_TIMER( ref l_U1856 );
                if (NOT l_U1772)
                {
                    if (sub_20711( l_U2027[0] ))
                    {
                        l_U1772 = sub_23339( ref l_U2027[0] );
                    }
                }
                if (NOT l_U1780)
                {
                    if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 0 ))) AND (NOT (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 ))))
                    {
                        sub_19485( "DM2_N_OUT", ref l_U2027[1], 8, 1 );
                        l_U1780 = 1;
                    }
                }
                else if (NOT l_U1779)
                {
                    if (NOT (sub_20711( l_U2027[1] )))
                    {
                        CLEAR_PRINTS();
                        PRINT( "DM2_GOD1", 7500, 1 );
                        l_U1779 = 1;
                    }
                }
            }
            break;
            case 2:
            sub_24201( ref l_U1296._fU0, "DM2_N_OUT", "DM2_GOD1", ref l_U2027[1], ref l_U1779, ref l_U1780, ref l_U1856 );
            break;
        }
        break;
        case 4:
        switch (g_U65007)
        {
            case 0:
            if (sub_9790( ref l_U1829, 7500 ))
            {
                if (sub_9790( ref l_U1856, 3000 ))
                {
                    if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
                    {
                        if (sub_19485( "DM2_KIM1", ref l_U2027[0], 8, 1 ))
                        {
                            CLEAR_PRINTS();
                            CLEAR_CHAR_TASKS( l_U1150._fU0 );
                            TASK_LOOK_AT_CHAR( l_U1150._fU0, sub_4997(), -2, 0 );
                            l_U1772 = 0;
                            l_U1779 = 0;
                            l_U1780 = 0;
                            l_U1147 = 3;
                            break;
                        }
                    }
                }
            }
            sub_24201( ref l_U1296._fU0, "DM2_N_OUT", "DM2_GOD1", ref l_U2027[1], ref l_U1779, ref l_U1780, ref l_U1856 );
            break;
            case 1:
            if (sub_9790( ref l_U1829, 7500 ))
            {
                if (sub_9790( ref l_U1856, 3000 ))
                {
                    if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
                    {
                        if (sub_19485( "DM2_KIM2", ref l_U2027[0], 8, 1 ))
                        {
                            CLEAR_PRINTS();
                            CLEAR_CHAR_TASKS( l_U1150._fU0 );
                            TASK_LOOK_AT_CHAR( l_U1150._fU0, sub_4997(), -2, 0 );
                            l_U1772 = 0;
                            l_U1779 = 0;
                            l_U1780 = 0;
                            l_U1147 = 3;
                            break;
                        }
                    }
                }
            }
            sub_24201( ref l_U1296._fU0, "DM2_N_OUT", "DM2_GOD1", ref l_U2027[1], ref l_U1779, ref l_U1780, ref l_U1856 );
            break;
            case 2:
            sub_24201( ref l_U1296._fU0, "DM2_N_OUT", "DM2_GOD1", ref l_U2027[1], ref l_U1779, ref l_U1780, ref l_U1856 );
            l_U1147 = 3;
            break;
        }
        break;
        case 5:
        switch (g_U65007)
        {
            case 0:
            if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
            {
                l_U1780 = 0;
                l_U1779 = 0;
                if (l_U1772)
                {
                    if (sub_9790( ref l_U1856, 3000 ))
                    {
                        CLEAR_PRINTS();
                        sub_23084( "DM2_KIM1", ref l_U2027[0], 8, 1 );
                        l_U1772 = 0;
                    }
                }
                else if (NOT (sub_20711( l_U2027[0] )))
                {
                    if (NOT (sub_20711( l_U2027[0] )))
                    {
                        l_U1147 = 18;
                    }
                }
            }
            else
            {
                GET_GAME_TIMER( ref l_U1856 );
                if (NOT l_U1772)
                {
                    if (sub_20711( l_U2027[0] ))
                    {
                        l_U1772 = sub_23339( ref l_U2027[0] );
                    }
                }
                if (NOT l_U1780)
                {
                    if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 0 ))) AND (NOT (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 ))))
                    {
                        sub_19485( "DM2_N_OUT", ref l_U2027[1], 8, 1 );
                        l_U1780 = 1;
                    }
                }
                else if (NOT l_U1779)
                {
                    if (NOT (sub_20711( l_U2027[1] )))
                    {
                        CLEAR_PRINTS();
                        PRINT( "DM2_GOD1", 7500, 1 );
                        l_U1779 = 1;
                    }
                }
            }
            break;
            case 1:
            if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
            {
                l_U1780 = 0;
                l_U1779 = 0;
                if (l_U1772)
                {
                    if (sub_9790( ref l_U1856, 3000 ))
                    {
                        CLEAR_PRINTS();
                        sub_23084( "DM2_KIM2", ref l_U2027[0], 8, 1 );
                        l_U1772 = 0;
                    }
                }
                else if (NOT (sub_20711( l_U2027[0] )))
                {
                    l_U1147 = 18;
                }
            }
            else
            {
                GET_GAME_TIMER( ref l_U1856 );
                if (NOT l_U1772)
                {
                    if (sub_20711( l_U2027[0] ))
                    {
                        l_U1772 = sub_23339( ref l_U2027[0] );
                    }
                }
                if (NOT l_U1780)
                {
                    if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 0 ))) AND (NOT (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 ))))
                    {
                        sub_19485( "DM2_N_OUT", ref l_U2027[1], 8, 1 );
                        l_U1780 = 1;
                    }
                }
                else if (NOT l_U1779)
                {
                    if (NOT (sub_20711( l_U2027[1] )))
                    {
                        CLEAR_PRINTS();
                        PRINT( "DM2_GOD1", 7500, 1 );
                        l_U1779 = 1;
                    }
                }
            }
            break;
            case 2:
            sub_24201( ref l_U1296._fU0, "DM2_N_OUT", "DM2_GOD1", ref l_U2027[1], ref l_U1779, ref l_U1780, ref l_U1856 );
            break;
        }
        break;
        case 6:
        switch (g_U65007)
        {
            case 0:
            if (sub_9790( ref l_U1856, 3000 ))
            {
                if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
                {
                    if (sub_19485( "DM2_ATTK1", ref l_U2027[0], 8, 1 ))
                    {
                        CLEAR_PRINTS();
                        CLEAR_CHAR_TASKS( l_U1150._fU0 );
                        l_U1772 = 0;
                        l_U1779 = 0;
                        l_U1780 = 0;
                        l_U1147 = 7;
                        break;
                    }
                }
            }
            sub_24201( ref l_U1296._fU0, "DM2_N_OUT", "DM2_GOD1", ref l_U2027[1], ref l_U1779, ref l_U1780, ref l_U1856 );
            break;
            case 1:
            if (sub_9790( ref l_U1856, 3000 ))
            {
                if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
                {
                    if (sub_19485( "DM2_ATTK2", ref l_U2027[0], 8, 1 ))
                    {
                        CLEAR_PRINTS();
                        CLEAR_CHAR_TASKS( l_U1150._fU0 );
                        l_U1772 = 0;
                        l_U1779 = 0;
                        l_U1780 = 0;
                        l_U1147 = 7;
                        break;
                    }
                }
            }
            sub_24201( ref l_U1296._fU0, "DM2_N_OUT", "DM2_GOD1", ref l_U2027[1], ref l_U1779, ref l_U1780, ref l_U1856 );
            break;
            case 2:
            if (sub_9790( ref l_U1856, 3000 ))
            {
                l_U1806 = 1;
                sub_3755( 0 );
                GET_GAME_TIMER( ref l_U1829 );
                CLEAR_PRINTS();
                PRINT_NOW( "DM2_GOD2", 7500, 1 );
                l_U1147 = 7;
            }
            sub_24201( ref l_U1296._fU0, "DM2_N_OUT", "DM2_GOD1", ref l_U2027[1], ref l_U1779, ref l_U1780, ref l_U1856 );
            break;
        }
        break;
        case 7:
        switch (g_U65007)
        {
            case 0:
            if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
            {
                l_U1780 = 0;
                l_U1779 = 0;
                if (l_U1772)
                {
                    if (sub_9790( ref l_U1856, 3000 ))
                    {
                        CLEAR_PRINTS();
                        sub_23084( "DM2_ATTK1", ref l_U2027[0], 8, 1 );
                        l_U1772 = 0;
                    }
                }
                else if (NOT (sub_20711( l_U2027[0] )))
                {
                    PRINT_NOW( "DM2_GOD2", 7500, 1 );
                    GET_GAME_TIMER( ref l_U1829 );
                    l_U1806 = 1;
                    l_U1147 = 14;
                }
            }
            else
            {
                GET_GAME_TIMER( ref l_U1856 );
                if (NOT l_U1772)
                {
                    if (sub_20711( l_U2027[0] ))
                    {
                        l_U1772 = sub_23339( ref l_U2027[0] );
                    }
                }
                if (NOT l_U1780)
                {
                    if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 0 ))) AND (NOT (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 ))))
                    {
                        sub_19485( "DM2_N_OUT", ref l_U2027[1], 8, 1 );
                        l_U1780 = 1;
                    }
                }
                else if (NOT l_U1779)
                {
                    if (NOT (sub_20711( l_U2027[1] )))
                    {
                        CLEAR_PRINTS();
                        PRINT( "DM2_GOD2", 7500, 1 );
                        l_U1779 = 1;
                    }
                }
            }
            break;
            case 1:
            if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
            {
                l_U1780 = 0;
                l_U1779 = 0;
                if (l_U1772)
                {
                    if (sub_9790( ref l_U1856, 3000 ))
                    {
                        CLEAR_PRINTS();
                        sub_23084( "DM2_ATTK2", ref l_U2027[0], 8, 1 );
                        l_U1772 = 0;
                    }
                }
                else if (NOT (sub_20711( l_U2027[0] )))
                {
                    PRINT_NOW( "DM2_GOD2", 7500, 1 );
                    GET_GAME_TIMER( ref l_U1829 );
                    l_U1806 = 1;
                    l_U1147 = 14;
                }
            }
            else
            {
                GET_GAME_TIMER( ref l_U1856 );
                if (NOT l_U1772)
                {
                    if (sub_20711( l_U2027[0] ))
                    {
                        l_U1772 = sub_23339( ref l_U2027[0] );
                    }
                }
                if (NOT l_U1780)
                {
                    if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 0 ))) AND (NOT (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 ))))
                    {
                        sub_19485( "DM2_N_OUT", ref l_U2027[1], 8, 1 );
                        l_U1780 = 1;
                    }
                }
                else if (NOT l_U1779)
                {
                    if (NOT (sub_20711( l_U2027[1] )))
                    {
                        CLEAR_PRINTS();
                        PRINT( "DM2_GOD2", 7500, 1 );
                        l_U1779 = 1;
                    }
                }
            }
            break;
            case 2:
            l_U1147 = 14;
            break;
        }
        break;
        case 8:
        switch (g_U65007)
        {
            case 0:
            if (sub_9790( ref l_U1829, 7500 ))
            {
                if (sub_9790( ref l_U1856, 3000 ))
                {
                    if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
                    {
                        CLEAR_PRINTS();
                        sub_3755( 0 );
                        if (sub_19485( "DM2_BACK1", ref l_U2027[0], 8, 1 ))
                        {
                            l_U1772 = 0;
                            l_U1147 = 9;
                        }
                    }
                }
            }
            sub_24201( ref l_U1296._fU0, "DM2_N_OUT", "DM2_GOD1", ref l_U2027[1], ref l_U1779, ref l_U1780, ref l_U1856 );
            break;
            case 1:
            if (sub_9790( ref l_U1829, 7500 ))
            {
                if (sub_9790( ref l_U1856, 3000 ))
                {
                    if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
                    {
                        CLEAR_PRINTS();
                        sub_3755( 0 );
                        if (sub_19485( "DM2_BACK2", ref l_U2027[0], 8, 1 ))
                        {
                            l_U1772 = 0;
                            l_U1147 = 18;
                        }
                    }
                }
            }
            sub_24201( ref l_U1296._fU0, "DM2_N_OUT", "DM2_GOD1", ref l_U2027[1], ref l_U1779, ref l_U1780, ref l_U1856 );
            break;
            case 2:
            if (sub_9790( ref l_U1829, 7500 ))
            {
                l_U1147 = 9;
                break;
            }
            sub_24201( ref l_U1296._fU0, "DM2_N_OUT", "DM2_GOD1", ref l_U2027[1], ref l_U1779, ref l_U1780, ref l_U1856 );
            break;
        }
        break;
        case 9:
        switch (g_U65007)
        {
            case 0:
            if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
            {
                l_U1780 = 0;
                l_U1779 = 0;
                if (l_U1772)
                {
                    if (sub_9790( ref l_U1856, 3000 ))
                    {
                        CLEAR_PRINTS();
                        sub_23084( "DM2_ATTK1b", ref l_U2027[0], 8, 1 );
                        l_U1772 = 0;
                    }
                }
                else if (NOT (sub_20711( l_U2027[0] )))
                {
                    if (NOT (sub_20711( l_U2027[0] )))
                    {
                        l_U1147 = 17;
                    }
                }
            }
            else
            {
                GET_GAME_TIMER( ref l_U1856 );
                if (NOT l_U1772)
                {
                    if (sub_20711( l_U2027[0] ))
                    {
                        l_U1772 = sub_23339( ref l_U2027[0] );
                    }
                }
                if (NOT l_U1780)
                {
                    if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 0 ))) AND (NOT (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 ))))
                    {
                        sub_19485( "DM2_N_OUT", ref l_U2027[1], 8, 1 );
                        l_U1780 = 1;
                    }
                }
                else if (NOT l_U1779)
                {
                    if (NOT (sub_20711( l_U2027[1] )))
                    {
                        CLEAR_PRINTS();
                        PRINT( "DM2_GOD1", 7500, 1 );
                        l_U1779 = 1;
                    }
                }
            }
            break;
            case 1:
            if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
            {
                l_U1780 = 0;
                l_U1779 = 0;
                if (l_U1772)
                {
                    if (sub_9790( ref l_U1856, 3000 ))
                    {
                        CLEAR_PRINTS();
                        sub_23084( "DM2_ATTK2b", ref l_U2027[0], 8, 1 );
                        l_U1772 = 0;
                    }
                }
                else if (NOT (sub_20711( l_U2027[0] )))
                {
                    if (NOT (sub_20711( l_U2027[0] )))
                    {
                        l_U1147 = 17;
                    }
                }
            }
            else
            {
                GET_GAME_TIMER( ref l_U1856 );
                if (NOT l_U1772)
                {
                    if (sub_20711( l_U2027[0] ))
                    {
                        l_U1772 = sub_23339( ref l_U2027[0] );
                    }
                }
                if (NOT l_U1780)
                {
                    if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 0 ))) AND (NOT (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 ))))
                    {
                        sub_19485( "DM2_N_OUT", ref l_U2027[1], 8, 1 );
                        l_U1780 = 1;
                    }
                }
                else if (NOT l_U1779)
                {
                    if (NOT (sub_20711( l_U2027[1] )))
                    {
                        CLEAR_PRINTS();
                        PRINT( "DM2_GOD1", 7500, 1 );
                        l_U1779 = 1;
                    }
                }
            }
            break;
            case 2:
            l_U1147 = 17;
            break;
        }
        break;
        case 10:
        if (NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 250 )))
        {
            if (l_U1772)
            {
                sub_23084( "DM2_SHOTD", ref l_U2027[0], 8, 1 );
                l_U1772 = 0;
            }
            if (NOT (sub_20711( l_U2027[0] )))
            {
                if (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 ))
                {
                    CLEAR_PRINTS();
                    PRINT( "DM2_GOD5", 7500, 1 );
                    GET_GAME_TIMER( ref l_U1829 );
                    l_U1778 = 1;
                    l_U1147 = 18;
                }
                else
                {
                    l_U1778 = 1;
                    l_U1147 = 18;
                }
            }
        }
        else if (NOT l_U1772)
        {
            if (sub_20711( l_U2027[0] ))
            {
                sub_23339( ref l_U2027[0] );
                l_U1772 = 1;
            }
        }
        break;
        case 11:
        if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 250 ))) AND (((sub_8693( ref l_U1162._fU0 )) < 5.00000000) || (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 ))))
        {
            if (sub_19485( "DM2_RTRN", ref l_U2027[0], 8, 1 ))
            {
                TASK_LOOK_AT_CHAR( l_U1150._fU0, sub_4997(), 5000, 0 );
                CLEAR_PRINTS();
                sub_3755( 0 );
                l_U1772 = 0;
                l_U1147 = 12;
            }
        }
        break;
        case 12:
        if (NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 250 )))
        {
            if (l_U1772)
            {
                sub_23084( "DM2_RTRN", ref l_U2027[0], 8, 1 );
                l_U1772 = 0;
            }
            if (NOT (sub_20711( l_U2027[0] )))
            {
                CLEAR_CHAR_TASKS( l_U1150._fU0 );
                l_U1147 = 18;
            }
        }
        else if (NOT l_U1772)
        {
            if (sub_20711( l_U2027[0] ))
            {
                sub_23339( ref l_U2027[0] );
                l_U1772 = 1;
            }
        }
        break;
        case 13:
        if (sub_19485( "DM2_CHOPS", ref l_U2027[0], 8, 1 ))
        {
            l_U1147 = 18;
            l_U1794 = 1;
        }
        break;
        case 16:
        if (NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 250 )))
        {
            sub_19485( "DM2_SHOTD", ref l_U2027[0], 7, 1 );
            l_U1147 = 18;
        }
        break;
        case 14:
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1312._fU0 ))
        {
            if ((FIND_TIME_POSITION_IN_RECORDING( l_U1312._fU0 )) > 131791.00000000)
            {
                if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
                {
                    sub_19485( "DM2_N_DEST", ref l_U2027[0], 8, 1 );
                    l_U1147 = 15;
                }
            }
        }
        sub_24201( ref l_U1296._fU0, "DM2_N_OUT", "DM2_GOD1", ref l_U2027[1], ref l_U1779, ref l_U1780, ref l_U1856 );
        break;
        case 15:
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1312._fU0 ))
        {
            if ((FIND_TIME_POSITION_IN_RECORDING( l_U1312._fU0 )) > 161297.80000000)
            {
                if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
                {
                    sub_19485( "DM2_RIGHT", ref l_U2027[0], 4, 1 );
                    l_U1147 = 17;
                }
            }
        }
        sub_24201( ref l_U1296._fU0, "DM2_N_OUT", "DM2_GOD1", ref l_U2027[1], ref l_U1779, ref l_U1780, ref l_U1856 );
        break;
        case 17:
        if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
        {
            if (l_U1780)
            {
                CLEAR_PRINTS();
                l_U1779 = 0;
                l_U1780 = 0;
            }
        }
        else if (NOT l_U1780)
        {
            if ((NOT (CHECK_STUCK_TIMER( l_U1296._fU0, 0, 0 ))) AND (NOT (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 ))))
            {
                sub_19485( "DM2_N_OUT", ref l_U2027[1], 8, 1 );
                l_U1780 = 1;
            }
        }
        else if (NOT l_U1779)
        {
            if (NOT (sub_20711( l_U2027[1] )))
            {
                CLEAR_PRINTS();
                PRINT( "DM2_GOD1", 7500, 1 );
                l_U1779 = 1;
            }
        };;;
        break;
        case 18: break;
    }
    return;
}

void sub_23084(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    return sub_23105( uParam0, ref l_U4._fU0, uParam1, uParam2, uParam3 );
}

int sub_23105(unknown uParam0, unknown uParam1, int iParam2, unknown uParam3, unknown uParam4)
{
    char[16] cVar7;
    char[12] cVar11;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    StrCopy( ref cVar7, uParam1, 16 );
    array(ref cVar11, 2);
    if (iParam2->_fU12)
    {
        StrCopy( ref cVar11[0], uParam0, 16 );
        StrCopy( ref cVar11[1], "END", 16 );
        return sub_19560( ref cVar11, iParam2, uParam3, 1, 0, 0, 0, ref cVar7, uParam4 );
    }
    return 0;
}

int sub_23339(int iParam0)
{
    if (iParam0->_fU12)
    {
        sub_19659( "\n already paused" );
    }
    else if ((g_U8394 == 2) || ((g_U8394 == 1) || (IS_SCRIPTED_CONVERSATION_ONGOING())))
    {
        if (iParam0->_fU4 == g_U8393)
        {
            iParam0->_fU8 += (ABORT_SCRIPTED_CONVERSATION( 0 )) + 1;
            sub_19659( "\n CONVERSATION PAUSED AT LINE " );
            sub_23495( iParam0->_fU8 );
            iParam0->_fU12 = 1;
            iParam0->_fU16 = 0;
            return 1;
        }
        else
        {
            sub_19659( "\n NOT pausing the line as scripted and global speech id dont match or the speech is already paused" );
        }
    }
    else
    {
        sub_19659( "\n NOT pausing the line as conversation is not playing" );
    }
    if (NOT iParam0->_fU12)
    {
        iParam0->_fU8 = -1;
        sub_19659( "\n reseting paused struct line" );
    }
    return 0;
}

void sub_23495(unknown uParam0)
{
    return;
}

void sub_24201(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
    if ((NOT (CHECK_STUCK_TIMER( (uParam0^), 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4997(), (uParam0^) )))
    {
        (uParam5^) = 0;
        if ((uParam4^))
        {
            CLEAR_PRINTS();
            (uParam4^) = 0;
        }
    }
    else
    {
        GET_GAME_TIMER( uParam6 );
        if (NOT (uParam5^))
        {
            if ((NOT (CHECK_STUCK_TIMER( (uParam0^), 0, 0 ))) AND (NOT (IS_CHAR_SITTING_IN_CAR( sub_4997(), (uParam0^) ))))
            {
                sub_19485( uParam1, uParam3, 8, 1 );
                (uParam5^) = 1;
            }
        }
        else if (NOT (uParam4^))
        {
            if (NOT (sub_20711( (uParam3^) )))
            {
                CLEAR_PRINTS();
                PRINT_NOW( uParam2, 7500, 1 );
                (uParam4^) = 1;
            }
        }
    }
    return;
}

void sub_31203(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, boolean bParam4, unknown uParam5)
{
    if (DOES_BLIP_EXIST( (uParam3^) ))
    {
        if (IS_VEH_DRIVEABLE( (uParam0^) ))
        {
            if (NOT (IS_CHAR_SITTING_IN_CAR( sub_4997(), (uParam0^) )))
            {
                REMOVE_BLIP( (uParam3^) );
                if (NOT (DOES_BLIP_EXIST( (uParam1^) )))
                {
                    ADD_BLIP_FOR_CAR( (uParam0^), uParam1 );
                    SET_BLIP_AS_FRIENDLY( (uParam1^), 1 );
                }
            }
        }
    }
    else if (IS_VEH_DRIVEABLE( (uParam0^) ))
    {
        if (IS_CHAR_SITTING_IN_CAR( sub_4997(), (uParam0^) ))
        {
            REMOVE_BLIP( (uParam1^) );
            if (NOT (DOES_BLIP_EXIST( (uParam3^) )))
            {
                ADD_BLIP_FOR_CHAR( (uParam2^), uParam3 );
                if (bParam4)
                {
                    SET_BLIP_AS_FRIENDLY( (uParam3^), 1 );
                }
                CLEAR_PRINTS();
                PRINT_NOW( uParam5, 7500, 0 );
            }
        }
    }
    return;
}

int sub_31499()
{
    if (sub_12199( 1, 1 ))
    {
        CLEAR_PRINTS();
        CLEAR_HELP();
        sub_3755( 0 );
        DISPLAY_HUD( 0 );
        DISPLAY_RADAR( 0 );
        SET_WIDESCREEN_BORDERS( 1 );
        SET_PLAYER_CONTROL( sub_3698(), 0 );
        CLEAR_CHAR_TASKS( sub_4997() );
        HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_4997(), 1 );
        ALLOW_EMERGENCY_SERVICES( 0 );
        return 1;
    }
    return 0;
}

void sub_31634()
{
    if (DOES_BLIP_EXIST( l_U1162._fU8 ))
    {
        REMOVE_BLIP( l_U1162._fU8 );
    }
    if (DOES_BLIP_EXIST( l_U1296._fU8 ))
    {
        REMOVE_BLIP( l_U1296._fU8 );
    }
    CLEAR_AREA( -803.85430000, 2039.94700000, 4.38185100, 200.00000000, 1 );
    SET_CAR_HEADING( l_U1296._fU0, 33.71440000 );
    SET_CAR_COORDINATES( l_U1296._fU0, -772.99470000, 2005.34700000, 0.00000000 );
    if (NOT (IS_CHAR_IN_CAR( l_U1150._fU0, l_U1296._fU0 )))
    {
        WARP_CHAR_INTO_CAR_AS_PASSENGER( l_U1150._fU0, l_U1296._fU0, 0 );
    }
    else
    {
        WARP_CHAR_FROM_CAR_TO_CAR( l_U1150._fU0, l_U1296._fU0, 0 );
    }
    if (NOT (IS_CHAR_IN_CAR( sub_4997(), l_U1296._fU0 )))
    {
        WARP_CHAR_INTO_CAR( sub_4997(), l_U1296._fU0 );
    }
    else
    {
        WARP_CHAR_FROM_CAR_TO_CAR( sub_4997(), l_U1296._fU0, -1 );
    }
    BEGIN_CAM_COMMANDS( ref l_U1821 );
    CREATE_CAM( 14, ref l_U1965 );
    CREATE_CAM( 14, ref l_U1966 );
    CREATE_CAM( 14, ref l_U1967 );
    CREATE_CAM( 14, ref l_U1968 );
    CREATE_CAM( 3, ref l_U1975 );
    SET_CAM_POS( l_U1965, -803.85430000, 2039.94700000, 4.38185100 );
    SET_CAM_ROT( l_U1965, -7.57078600, -3.18065300, -134.51020000 );
    SET_CAM_FOV( l_U1965, 28.80004000 );
    SET_CAM_POS( l_U1968, -813.31980000, 2037.91700000, 1.22158900 );
    SET_CAM_ROT( l_U1968, 6.08487800, -2.84867700, -100.90700000 );
    SET_CAM_FOV( l_U1968, 28.80004000 );
    SET_CAM_FOV( l_U1966, 35.00000000 );
    SET_CAM_FOV( l_U1967, 35.00000000 );
    ANCHOR_BOAT( l_U1312._fU0, 1 );
    SET_CAM_INTERP_STYLE_CORE( l_U1975, l_U1965, l_U1968, 8000, 0 );
    SET_CAM_ACTIVE( l_U1975, 1 );
    SET_CAM_PROPAGATE( l_U1975, 1 );
    SETTIMERB( 0 );
    l_U1833 = 0;
    GET_GAME_TIMER( ref l_U1832 );
    SET_CAR_PROOFS( l_U1296._fU0, 0, 0, 1, 0, 0 );
    START_PLAYBACK_RECORDED_CAR( l_U1296._fU0, 842 );
    SET_PLAYBACK_SPEED( l_U1296._fU0, 1.00000000 );
    SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( l_U1296._fU0, 2200 );
    ACTIVATE_SCRIPTED_CAMS( 1, 1 );
    l_U1139 = 1;
    return;
}

void sub_32472()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if (NOT (l_U1824[1] == 1))
    {
        if (l_U1139 != 0)
        {
            if (sub_15664( ref l_U1832, 1000 ))
            {
                l_U1824[1] = 1;
                l_U1139 = 6;
            }
        }
    }
    if ((NOT (IS_CHAR_DEAD( l_U1162._fU0 ))) AND ((NOT (IS_CHAR_DEAD( l_U1150._fU0 ))) AND ((IS_VEH_DRIVEABLE( l_U1296._fU0 )) AND (IS_VEH_DRIVEABLE( l_U1312._fU0 )))))
    {
        switch (l_U1139)
        {
            case 1:
            if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1296._fU0 )))
            {
                l_U1139 = 2;
            }
            break;
            case 2:
            switch (l_U1833)
            {
                case 0:
                if (TIMERB() > 600)
                {
                    TASK_LOOK_AT_CHAR( l_U1150._fU0, l_U1162._fU0, -2, 0 );
                    l_U1833++;
                }
                break;
                case 1:
                if (TIMERB() > 1200)
                {
                    if (sub_19485( "dm2_meetk", ref l_U2021, 6, 1 ))
                    {
                        SETTIMERB( 0 );
                        l_U1833++;
                    }
                }
                break;
                case 2:
                if (TIMERB() > 500)
                {
                    TASK_LOOK_AT_CHAR( sub_4997(), l_U1162._fU0, -2, 0 );
                    l_U1833++;
                }
                break;
                case 3:
                if (sub_20711( l_U2021 ))
                {
                    if ((sub_32943( l_U2021 )) > 0)
                    {
                        SET_CAM_ACTIVE( l_U1975, 0 );
                        SET_CAM_PROPAGATE( l_U1975, 0 );
                        SET_CAM_ACTIVE( l_U1965, 0 );
                        SET_CAM_PROPAGATE( l_U1965, 0 );
                        SET_CAM_ACTIVE( l_U1968, 0 );
                        SET_CAM_PROPAGATE( l_U1968, 0 );
                        ATTACH_CAM_TO_VEHICLE( l_U1966, l_U1312._fU0 );
                        POINT_CAM_AT_VEHICLE( l_U1966, l_U1312._fU0 );
                        SET_CAM_ATTACH_OFFSET( l_U1966, 2.60000000, 0.50000000, 2.90000000 );
                        SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U1966, 1 );
                        SET_CAM_POINT_OFFSET( l_U1966, -3.00000000, -4.20000000, 4.30000000 );
                        SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U1966, 1 );
                        if (NOT (IS_CAR_ATTACHED( l_U1296._fU0 )))
                        {
                            ATTACH_CAR_TO_CAR( l_U1296._fU0, l_U1312._fU0, 0, l_U1887, 0.00000000, 0.00000000, l_U1944 );
                            DETACH_CAR( l_U1296._fU0 );
                            APPLY_FORCE_TO_CAR( l_U1312._fU0, 0, 0.10000000, 0.10000000, 0.10000000, 0.00000000, 0.00000000, 0.00000000, 0, 1, 1, 1 );
                            ANCHOR_BOAT( l_U1296._fU0, 1 );
                        }
                        SET_CAM_ACTIVE( l_U1966, 1 );
                        SET_CAM_PROPAGATE( l_U1966, 1 );
                        l_U1833 = 0;
                        l_U1139 = 3;
                    }
                }
                break;
            }
            break;
            case 3:
            if (sub_20711( l_U2021 ))
            {
                if ((sub_32943( l_U2021 )) > 1)
                {
                    SET_CAM_ACTIVE( l_U1966, 0 );
                    SET_CAM_PROPAGATE( l_U1966, 0 );
                    ATTACH_CAM_TO_VEHICLE( l_U1967, l_U1296._fU0 );
                    POINT_CAM_AT_VEHICLE( l_U1967, l_U1296._fU0 );
                    SET_CAM_ATTACH_OFFSET( l_U1967, -1.20000000, -1.90000000, 0.90000000 );
                    SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U1967, 1 );
                    SET_CAM_POINT_OFFSET( l_U1967, 0.00000000, 0.00000000, 1.00000000 );
                    SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U1967, 1 );
                    SET_CAM_ACTIVE( l_U1967, 1 );
                    SET_CAM_PROPAGATE( l_U1967, 1 );
                    l_U1833 = 0;
                    l_U1139 = 4;
                }
            }
            break;
            case 4:
            if (NOT (sub_20711( l_U2021 )))
            {
                CLEAR_CHAR_TASKS( l_U1162._fU0 );
                DO_SCREEN_FADE_OUT( 500 );
                sub_33674( ref l_U2021, 0 );
                CLEAR_PRINTS();
                l_U1139 = 5;
            }
            break;
            case 6:
            if (NOT IS_SCREEN_FADED_OUT())
            {
                if (NOT IS_SCREEN_FADING_OUT())
                {
                    DO_SCREEN_FADE_OUT( 500 );
                }
            }
            else if (IS_VEH_DRIVEABLE( l_U1296._fU0 ))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1296._fU0 ))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U1296._fU0 );
                }
            }
            sub_33674( ref l_U2021, 0 );
            CLEAR_PRINTS();
            l_U1139 = 5;;
            break;
            case 5:
            if (IS_SCREEN_FADED_OUT())
            {
                ACTIVATE_SCRIPTED_CAMS( 0, 0 );
                END_CAM_COMMANDS( ref l_U1821 );
                SET_CAM_ACTIVE( l_U1965, 0 );
                SET_CAM_PROPAGATE( l_U1965, 0 );
                SET_CAM_ACTIVE( l_U1966, 0 );
                SET_CAM_PROPAGATE( l_U1966, 0 );
                SET_CAM_ACTIVE( l_U1967, 0 );
                SET_CAM_PROPAGATE( l_U1967, 0 );
                DESTROY_ALL_CAMS();
                REQUEST_MODEL( l_U1441[0]._fU96._fU4 );
                SUPPRESS_CAR_MODEL( l_U1441[0]._fU96._fU4 );
                REQUEST_MODEL( l_U1199[0]._fU0._fU4 );
                REQUEST_MODEL( l_U1199[0]._fU48._fU4 );
                REQUEST_MODEL( l_U1630._fU148._fU4 );
                SUPPRESS_CAR_MODEL( l_U1630._fU148._fU4 );
                REQUEST_MODEL( l_U2004 );
                REQUEST_MODEL( l_U2005 );
                REQUEST_MODEL( l_U2006 );
                REQUEST_MODEL( l_U2003 );
                REQUEST_CAR_RECORDING( 830 );
                REQUEST_CAR_RECORDING( 831 );
                REQUEST_CAR_RECORDING( 832 );
                REQUEST_CAR_RECORDING( 833 );
                REQUEST_CAR_RECORDING( 834 );
                REQUEST_CAR_RECORDING( 835 );
                REQUEST_CAR_RECORDING( 836 );
                REQUEST_CAR_RECORDING( 837 );
                REQUEST_CAR_RECORDING( 838 );
                LOAD_ALL_OBJECTS_NOW();
                ANCHOR_BOAT( l_U1296._fU0, 0 );
                ANCHOR_BOAT( l_U1312._fU0, 0 );
                CREATE_CAR( l_U1360[0]._fU0._fU4, 208.33740000, 1647.83100000, 0.00000000, ref l_U1360[0]._fU0._fU0, 1 );
                SET_CAR_HEADING( l_U1360[0]._fU0._fU0, 161.34780000 );
                sub_34437( ref l_U1360[0], 0 );
                SET_CAR_HEALTH( l_U1360[0]._fU0._fU0, 500 );
                SET_ENGINE_HEALTH( l_U1360[0]._fU0._fU0, 500 );
                SET_PETROL_TANK_HEALTH( l_U1360[0]._fU0._fU0, 500 );
                ANCHOR_BOAT( l_U1360[0]._fU0._fU0, 1 );
                SET_RELATIONSHIP( 5, 0, 23 );
                SET_RELATIONSHIP( 5, 23, 0 );
                CLEAR_CHAR_TASKS( l_U1150._fU0 );
                SET_COMBAT_DECISION_MAKER( l_U1150._fU0, l_U2013 );
                SET_CHAR_SHOOT_RATE( l_U1150._fU0, 80 );
                SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U1150._fU0, 0 );
                SET_CHAR_WILL_USE_COVER( l_U1150._fU0, 0 );
                SET_CHAR_RELATIONSHIP_GROUP( l_U1150._fU0, 0 );
                SET_CAR_COORDINATES( l_U1296._fU0, -812.99240000, 2033.53300000, 0.00000000 );
                SET_CAR_HEADING( l_U1296._fU0, 251.23420000 );
                CLEAR_CHAR_TASKS( l_U1162._fU0 );
                CLEAR_CHAR_TASKS( l_U1150._fU0 );
                CLEAR_CHAR_TASKS( sub_4997() );
                if (NOT (IS_CHAR_IN_CAR( sub_4997(), l_U1296._fU0 )))
                {
                    WARP_CHAR_INTO_CAR( sub_4997(), l_U1296._fU0 );
                }
                if (NOT (IS_CHAR_IN_CAR( l_U1150._fU0, l_U1296._fU0 )))
                {
                    WARP_CHAR_INTO_CAR_AS_PASSENGER( l_U1150._fU0, l_U1296._fU0, 0 );
                }
                if (NOT (IS_CHAR_IN_CAR( l_U1162._fU0, l_U1312._fU0 )))
                {
                    if (IS_PED_ATTACHED_TO_ANY_CAR( l_U1162._fU0 ))
                    {
                        DETACH_PED( l_U1162._fU0, 1 );
                    }
                    WARP_CHAR_INTO_CAR( l_U1162._fU0, l_U1312._fU0 );
                }
                ADD_BLIP_FOR_CHAR( l_U1162._fU0, ref l_U1162._fU8 );
                SET_BLIP_AS_FRIENDLY( l_U1162._fU8, 1 );
                GIVE_WEAPON_TO_CHAR( l_U1150._fU0, 15, 30000, 0 );
                GIVE_WEAPON_TO_CHAR( sub_4997(), 13, 500, 1 );
                l_U1833 = 0;
                sub_35404( 1, 0 );
                sub_35936();
                sub_36467();
                l_U1140 = 1;
                l_U1824[1] = 1;
                SET_CHAR_PROOFS( l_U1150._fU0, 0, 0, 1, 0, 0 );
                sub_21836( 1 );
                PRINT( "dm2_follow", 7500, 1 );
                GET_GAME_TIMER( ref l_U1829 );
                l_U1147 = 4;
                l_U1137 = 6;
            }
            break;
        }
    }
    return;
}

void sub_32943(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    int Result;

    Result = -1;
    if (sub_20711( uParam0 ))
    {
        Result = GET_CURRENT_SCRIPTED_CONVERSATION_LINE();
        if (Result != -1)
        {
            Result += uParam0._fU8;
        }
    }
    return Result;
}

void sub_33674(int iParam0, unknown uParam1)
{
    PRINTSTRING( "\n KILL SPEECH CALLED***************************************" );
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if (iParam0->_fU4 == g_U8393)
        {
            ABORT_SCRIPTED_CONVERSATION( uParam1 );
        }
    }
    return;
}

void sub_34437(int iParam0, unknown uParam1)
{
    if (IS_VEH_DRIVEABLE( ref iParam0->_fU0->_fU0 ))
    {
        CREATE_CHAR_INSIDE_CAR( ref iParam0->_fU0->_fU0, 26, ref iParam0->_fU64->_fU4, (iParam0 + 64) + 0 );
        SET_CHAR_RANDOM_COMPONENT_VARIATION( ref iParam0->_fU64->_fU0 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( ref iParam0->_fU64->_fU0, 1 );
        SET_CHAR_SUFFERS_CRITICAL_HITS( ref iParam0->_fU64->_fU0, 0 );
        SET_CHAR_IS_TARGET_PRIORITY( ref iParam0->_fU64->_fU0, 1 );
        SET_CHAR_HEALTH( ref iParam0->_fU64->_fU0, 175 );
        CREATE_CHAR_AS_PASSENGER( ref iParam0->_fU0->_fU0, 26, ref iParam0->_fU112->_fU4, 0, (iParam0 + 112) + 0 );
        SET_CHAR_RANDOM_COMPONENT_VARIATION( ref iParam0->_fU112->_fU0 );
        GIVE_WEAPON_TO_CHAR( ref iParam0->_fU112->_fU0, 13, 30000, 0 );
        SET_CHAR_SUFFERS_CRITICAL_HITS( ref iParam0->_fU112->_fU0, 0 );
        SET_CHAR_IS_TARGET_PRIORITY( ref iParam0->_fU112->_fU0, 1 );
        SET_CHAR_KEEP_TASK( ref iParam0->_fU112->_fU0, 1 );
        sub_34712( (iParam0 + 112) + 0 );
        SET_CHAR_HEALTH( ref iParam0->_fU112->_fU0, 175 );
    }
    return;
}

void sub_34712(unknown uParam0)
{
    if (NOT (IS_CHAR_INJURED( (uParam0^) )))
    {
        SET_RELATIONSHIP( 5, 0, 23 );
        SET_RELATIONSHIP( 5, 23, 0 );
        CLEAR_CHAR_TASKS( (uParam0^) );
        SET_COMBAT_DECISION_MAKER( (uParam0^), l_U2012 );
        SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( (uParam0^), 0 );
        SET_CHAR_WILL_USE_COVER( (uParam0^), 0 );
        SET_CHAR_RELATIONSHIP_GROUP( (uParam0^), 23 );
    }
    return;
}

void sub_35404(boolean bParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;

    l_U603 = 1;
    l_U613 = 0;
    l_U911 = 0;
    l_U912 = 0;
    l_U913 = 0;
    l_U914 = 0;
    l_U915 = 1;
    l_U916 = 0;
    l_U917 = 0;
    l_U918 = 0;
    l_U919 = 0;
    l_U920 = -1;
    l_U921 = 0;
    l_U922 = 0;
    l_U923 = 0;
    l_U924 = 0;
    l_U834 = 0.00000000;
    l_U616 = 0;
    if (IS_PLAYER_PLAYING( sub_3698() ))
    {
        GET_CHAR_COORDINATES( sub_4997(), ref uVar4._fU0, ref uVar4._fU4, ref uVar4._fU8 );
        l_U1064._fU0 = uVar4._fU0 - 100.00000000;
        l_U1064._fU4 = uVar4._fU4 - 100.00000000;
        l_U1064._fU8 = uVar4._fU8 - 100.00000000;
        l_U1067._fU0 = uVar4._fU0 + 100.00000000;
        l_U1067._fU4 = uVar4._fU4 + 100.00000000;
        l_U1067._fU8 = uVar4._fU8 + 100.00000000;
        SWITCH_ROADS_OFF( l_U1064._fU0, l_U1064._fU4, l_U1064._fU8, l_U1067._fU0, l_U1067._fU4, l_U1067._fU8 );
        if (bParam0)
        {
            CLEAR_AREA_OF_CARS( uVar4._fU0, uVar4._fU4, uVar4._fU8, 500.00000000 );
        }
    }
    sub_35745();
    l_U615 = 0;
    if (IS_PLAYER_PLAYING( sub_3698() ))
    {
        DONT_DISPATCH_COPS_FOR_PLAYER( sub_3698(), 1 );
        SET_CREATE_RANDOM_COPS( 0 );
    }
    sub_6205();
    return;
}

void sub_35745()
{
    ADD_SCENARIO_BLOCKING_AREA( -9999.90000000, -9999.90000000, -9999.90000000, 9999.90000000, 9999.90000000, 9999.90000000 );
    SET_CAR_GENERATORS_ACTIVE_IN_AREA( -9999.90000000, -9999.90000000, -9999.90000000, 9999.90000000, 9999.90000000, 9999.90000000, 0 );
    OVERRIDE_NUMBER_OF_PARKED_CARS( 0 );
    SWITCH_GARBAGE_TRUCKS( 0 );
    ALLOW_EMERGENCY_SERVICES( 0 );
    SET_CAR_DENSITY_MULTIPLIER( 0.00000000 );
    return;
}

void sub_35936()
{
    l_U1024[0] = {-423.82250000, 1866.75700000, 0.04160000};
    l_U708[0] = 0.01730000;
    l_U720[0] = 0.00620000;
    l_U732[0] = -0.19140000;
    l_U744[0] = 0.98130000;
    l_U876[0] = 831;
    l_U756[0] = 55000.00000000;
    l_U768[0] = 1.00000000;
    l_U950[0] = 1033245328;
    l_U1024[1] = {-336.84280000, 1831.00500000, -0.09270000};
    l_U708[1] = 0.03630000;
    l_U720[1] = 0.01220000;
    l_U732[1] = 0.16160000;
    l_U744[1] = 0.98610000;
    l_U876[1] = 832;
    l_U756[1] = 62300.00000000;
    l_U768[1] = 1.00000000;
    l_U950[1] = 1033245328;
    l_U1024[2] = {-181.51740000, 1872.12700000, -0.14510000};
    l_U708[2] = -0.00310000;
    l_U720[2] = 0.00380000;
    l_U732[2] = 0.99850000;
    l_U744[2] = -0.05480000;
    l_U876[2] = 833;
    l_U756[2] = 89613.00000000;
    l_U768[2] = 1.00000000;
    l_U950[2] = 1033245328;
    l_U1024[3] = {134.32040000, 1399.16500000, 0.00380000};
    l_U708[3] = 0.01300000;
    l_U720[3] = -0.01090000;
    l_U732[3] = -0.28910000;
    l_U744[3] = 0.95720000;
    l_U876[3] = 835;
    l_U756[3] = 155000.00000000;
    l_U768[3] = 1.00000000;
    l_U950[3] = 1033245328;
    return;
}

void sub_36467()
{
    if (NOT (IS_CAR_DEAD( l_U1312._fU0 )))
    {
        START_PLAYBACK_RECORDED_CAR( l_U1312._fU0, 830 );
        SET_PLAYBACK_SPEED( l_U1312._fU0, 1.00000000 );
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1312._fU0 ))
        {
            PAUSE_PLAYBACK_RECORDED_CAR( l_U1312._fU0 );
            SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( l_U1312._fU0, -999999 );
            SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( l_U1312._fU0, 9200 );
            UNPAUSE_PLAYBACK_RECORDED_CAR( l_U1312._fU0 );
        }
    }
    return;
}

void sub_36736(unknown uParam0)
{
    int iVar3;
    int iVar4;

    if (l_U105)
    {
        PRINTNL();
        PRINTSTRING( "**** CALLED CONTROL_CHASE_HINT_CAM()" );
    }
    GET_FOLLOW_VEHICLE_CAM_SUBMODE( ref iVar3 );
    if ((IS_HINT_RUNNING()) AND (l_U103))
    {
        iVar4 = 0;
        GET_GAME_TIMER( ref iVar4 );
        if (iVar4 > (l_U104 + 500))
        {
            l_U103 = 0;
        }
    }
    if ((iVar3 != 4) AND ((NOT sub_36904()) AND ((NOT (IS_CHAR_DEAD( (uParam0^) ))) AND ((IS_CHAR_IN_ANY_CAR( sub_4997() )) AND (IS_CONTROL_PRESSED( 0, 51 ))))))
    {
        if ((IS_CHAR_IN_ANY_CAR( (uParam0^) )) AND (NOT IS_HINT_RUNNING()))
        {
            if (l_U105)
            {
                PRINTNL();
                PRINTSTRING( "**** LAUNCHING THE HINT_CAM" );
            }
            SET_CINEMATIC_BUTTON_ENABLED( 0 );
            HINT_CAM( 0.00000000, 0.00000000, 0.00000000, (uParam0^), 0, 0, 999999 );
            SET_HINT_TIMES( 500, 0, 0 );
            SET_HINT_FOV( 45.00000000 );
            GET_GAME_TIMER( ref l_U104 );
            l_U103 = 1;
            l_U102 = 0;
        }
    }
    else if (IS_HINT_RUNNING())
    {
        if ((NOT l_U103) AND (NOT l_U102))
        {
            if (l_U105)
            {
                PRINTNL();
                PRINTSTRING( "**** INTERP HINT_CAM BACK" );
            }
            HINT_CAM( 0.00000000, 0.00000000, 0.00000000, 0, 0, 0, 0 );
            HINT_CAM( 0.00000000, 0.00000000, 0.00000000, (uParam0^), 0, 0, 500 );
            SET_HINT_TIMES( 0, 0, 500 );
            SET_HINT_FOV( 45.00000000 );
            l_U102 = 1;
        }
    }
    else if (l_U102)
    {
        if (l_U105)
        {
            PRINTNL();
            PRINTSTRING( "**** DONE INTERP, RESETTING HINT_CAM VARIABLES" );
        }
        SET_CINEMATIC_BUTTON_ENABLED( 1 );
        SET_HINT_TIMES_DEFAULT();
        SET_HINT_FOV( -1 );
        l_U102 = 0;
    };;;
    return;
}

int sub_36904()
{
    if (g_U555 == 9)
    {
        return 0;
    }
    return 1;
}

void sub_37414()
{
    sub_22718();
    if (NOT l_U1783)
    {
        if (NOT l_U1806)
        {
            sub_31203( ref l_U1296._fU0, ref l_U1296._fU8, ref l_U1162._fU0, ref l_U1162._fU8, 1, "DM2_GOD5" );
        }
        else
        {
            sub_31203( ref l_U1296._fU0, ref l_U1296._fU8, ref l_U1162._fU0, ref l_U1162._fU8, 1, "DM2_GOD2" );
        }
        sub_37538( 4 );
    }
    sub_38128();
    if (NOT (IS_CHAR_INJURED( l_U1162._fU0 )))
    {
        if (IS_VEH_DRIVEABLE( l_U1312._fU0 ))
        {
            if (NOT l_U1801)
            {
                sub_39471();
            }
            switch (l_U1141)
            {
                case 0:
                if (l_U1757)
                {
                    sub_40259();
                    sub_40342();
                    sub_40569();
                    sub_40656();
                }
                if (NOT l_U1783)
                {
                    sub_41091();
                }
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1312._fU0 ))
                {
                    sub_41604( l_U1312._fU0, sub_4997(), ref l_U1945, 70.00000000, 40.00000000, 100, 2.00000000, 3.20000000, 1065353216 );
                    SET_PLAYBACK_SPEED( l_U1312._fU0, l_U1945 );
                    sub_44845( l_U1312._fU0, l_U1945 );
                    if (NOT l_U1775)
                    {
                        if (DOES_VEHICLE_EXIST( l_U1109[1] ))
                        {
                            if (IS_VEH_DRIVEABLE( l_U1109[1] ))
                            {
                                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1109[1] ))
                                {
                                    if (LOCATE_CAR_3D( l_U1109[1], 289.60500000, 1365.65300000, 0.00000000, 7.00000000, 7.00000000, 7.00000000, 0 ))
                                    {
                                        SET_PLAYBACK_SPEED( l_U1109[1], 1.30000000 );
                                    }
                                }
                            }
                            else
                            {
                                l_U1775 = 1;
                            }
                        }
                    }
                }
                for ( l_U1820 = 0; l_U1820 <= (l_U1199 - 1); l_U1820++ )
                {
                    if (NOT l_U1731[l_U1820])
                    {
                        if (DOES_VEHICLE_EXIST( l_U1109[l_U1820] ))
                        {
                            sub_58601( ref l_U1109[l_U1820], ref l_U1199[l_U1820], l_U1820 );
                        }
                    }
                }
                if (NOT l_U1360[0]._fU0._fU60)
                {
                    if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1312._fU0 ))
                    {
                        if ((FIND_TIME_POSITION_IN_RECORDING( l_U1312._fU0 )) > 143000)
                        {
                            if (IS_VEH_DRIVEABLE( l_U1360[0]._fU0._fU0 ))
                            {
                                if (NOT (IS_CHAR_INJURED( l_U1360[0]._fU64._fU0 )))
                                {
                                    ANCHOR_BOAT( l_U1360[0]._fU0._fU0, 0 );
                                    SET_CAR_FORWARD_SPEED( l_U1360[0]._fU0._fU0, 30.00000000 );
                                    TASK_CAR_MISSION( l_U1360[0]._fU64._fU0, l_U1360[0]._fU0._fU0, l_U1296._fU0, 2, 60.00000000, 2, 300, 200 );
                                    ADD_BLIP_FOR_CAR( l_U1360[0]._fU0._fU0, ref l_U1360[0]._fU0._fU8 );
                                    l_U1360[0]._fU0._fU60 = 1;
                                }
                            }
                        }
                    }
                }
                if (NOT l_U1746)
                {
                    if (IS_VEH_DRIVEABLE( l_U1312._fU0 ))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1312._fU0 ))
                        {
                            if ((FIND_TIME_POSITION_IN_RECORDING( l_U1312._fU0 )) > 175000)
                            {
                                CREATE_CAR( l_U1630._fU148._fU4, l_U1630._fU148._fU8._fU0, l_U1630._fU148._fU8._fU4, l_U1630._fU148._fU8._fU8, ref l_U1630._fU148._fU0, 1 );
                                SET_CAR_HEADING( l_U1630._fU148._fU0, l_U1630._fU148._fU32 );
                                ADD_BLIP_FOR_CAR( l_U1630._fU148._fU0, ref l_U1630._fU224 );
                                CHANGE_CAR_COLOUR( l_U1630._fU148._fU0, l_U1630._fU148._fU52, l_U1630._fU148._fU56 );
                                CREATE_CHAR_INSIDE_CAR( l_U1630._fU148._fU0, 26, l_U1630._fU0._fU4, ref l_U1630._fU0._fU0 );
                                SET_CHAR_RANDOM_COMPONENT_VARIATION( l_U1630._fU0._fU0 );
                                SET_SENSE_RANGE( l_U1630._fU0._fU0, 100 );
                                SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U1630._fU0._fU0, 0 );
                                SET_CHAR_WILL_USE_COVER( l_U1630._fU0._fU0, 0 );
                                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1630._fU0._fU0, 1 );
                                SET_CHAR_HEALTH( l_U1630._fU0._fU0, 400 );
                                SET_CHAR_SUFFERS_CRITICAL_HITS( l_U1630._fU0._fU0, 0 );
                                SET_CHAR_IS_TARGET_PRIORITY( l_U1630._fU0._fU0, 1 );
                                SET_CHAR_KEEP_TASK( l_U1630._fU0._fU0, 1 );
                                SET_CHAR_PROOFS( l_U1630._fU0._fU0, 1, 1, 1, 1, 1 );
                                for ( l_U1820 = 0; l_U1820 <= 1; l_U1820++ )
                                {
                                    CREATE_CHAR_AS_PASSENGER( l_U1630._fU148._fU0, 26, l_U1630._fU48[l_U1820]._fU4, l_U1820 + 1, ref l_U1630._fU48[l_U1820]._fU0 );
                                    SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U1630._fU48[l_U1820]._fU0, 0 );
                                    SET_CHAR_WILL_USE_COVER( l_U1630._fU48[l_U1820]._fU0, 0 );
                                    SET_CHAR_RANDOM_COMPONENT_VARIATION( l_U1630._fU48[l_U1820]._fU0 );
                                    GIVE_WEAPON_TO_CHAR( l_U1630._fU48[l_U1820]._fU0, 14, 30000, 0 );
                                    SET_CHAR_SUFFERS_CRITICAL_HITS( l_U1630._fU48[l_U1820]._fU0, 0 );
                                    SET_CHAR_IS_TARGET_PRIORITY( l_U1630._fU48[l_U1820]._fU0, 1 );
                                    SET_CHAR_KEEP_TASK( l_U1630._fU48[l_U1820]._fU0, 1 );
                                    sub_60040( ref l_U1630._fU48[l_U1820]._fU0, l_U1820 );
                                }
                                START_PLAYBACK_RECORDED_CAR( l_U1630._fU148._fU0, 837 );
                                SET_PLAYBACK_SPEED( l_U1630._fU148._fU0, 1.00000000 );
                                l_U1746 = 1;
                            }
                        }
                    }
                }
                else if (IS_VEH_DRIVEABLE( l_U1630._fU148._fU0 ))
                {
                    GET_CAR_HEALTH( l_U1630._fU148._fU0, ref l_U1630._fU148._fU40 );
                    GET_CAR_HEALTH( l_U1630._fU148._fU0, ref l_U1630._fU148._fU44 );
                    GET_CAR_HEALTH( l_U1630._fU148._fU0, ref l_U1630._fU148._fU48 );
                    if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1630._fU148._fU0 ))
                    {
                        if (NOT l_U1762)
                        {
                            if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1312._fU0 ))
                            {
                                if ((FIND_TIME_POSITION_IN_RECORDING( l_U1312._fU0 )) > 225000)
                                {
                                    l_U1147 = 13;
                                    sub_22718();
                                    l_U1762 = 1;
                                }
                            }
                        }
                        if (NOT l_U1757)
                        {
                            if (l_U1794)
                            {
                                if (sub_20711( l_U2027[0] ))
                                {
                                    if ((sub_32943( l_U2027[0] )) > 0)
                                    {
                                        sub_60601( 100.00000000 );
                                        sub_61666();
                                        if (HAS_CHAR_GOT_WEAPON( sub_4997(), 18 ))
                                        {
                                            GET_AMMO_IN_CHAR_WEAPON( sub_4997(), 18, ref l_U1850 );
                                            l_U1849 = 5 - l_U1850;
                                            if (l_U1849 < 0)
                                            {
                                                l_U1849 = 0;
                                            }
                                            ADD_AMMO_TO_CHAR( sub_4997(), 18, l_U1849 );
                                        }
                                        else
                                        {
                                            GIVE_WEAPON_TO_CHAR( sub_4997(), 18, 5, 1 );
                                        }
                                        GET_AMMO_IN_CHAR_WEAPON( sub_4997(), 18, ref l_U1849 );
                                        l_U1757 = 1;
                                    }
                                }
                            }
                        }
                        l_U1946 = l_U1945 * 0.58823530;
                        SET_PLAYBACK_SPEED( l_U1630._fU148._fU0, l_U1946 );
                    }
                    else
                    {
                        sub_62259();
                        if (NOT (IS_CHAR_INJURED( l_U1630._fU0._fU0 )))
                        {
                            SET_CHAR_PROOFS( l_U1630._fU0._fU0, 0, 0, 0, 0, 0 );
                        }
                        l_U1820 = 0;
                        l_U1141 = 1;
                        break;
                    }
                    if (IS_CAR_IN_WATER( l_U1630._fU148._fU0 ))
                    {
                        SET_CAR_ONLY_DAMAGED_BY_PLAYER( l_U1312._fU0, 1 );
                        SET_CHAR_ONLY_DAMAGED_BY_PLAYER( l_U1162._fU0, 1 );
                        EXPLODE_CAR( l_U1630._fU148._fU0, 1, 0 );
                    }
                }
                else if (DOES_BLIP_EXIST( l_U1630._fU224 ))
                {
                    REMOVE_BLIP( l_U1630._fU224 );
                    GET_GAME_TIMER( ref l_U1829 );
                    SET_CHAR_PROOFS( l_U1150._fU0, 0, 0, 0, 0, 0 );
                    SET_CAR_ONLY_DAMAGED_BY_PLAYER( l_U1312._fU0, 1 );
                    SET_CHAR_ONLY_DAMAGED_BY_PLAYER( l_U1162._fU0, 1 );
                    if (NOT (IS_CHAR_INJURED( l_U1630._fU0._fU0 )))
                    {
                        SET_CHAR_PROOFS( l_U1630._fU0._fU0, 0, 0, 0, 0, 0 );
                        SET_CHAR_HEALTH( l_U1630._fU0._fU0, 13 );
                    }
                    for ( l_U1820 = 0; l_U1820 <= 1; l_U1820++ )
                    {
                        if (NOT (IS_CHAR_INJURED( l_U1630._fU48[l_U1820]._fU0 )))
                        {
                            SET_CHAR_HEALTH( l_U1630._fU48[l_U1820]._fU0, 13 );
                        }
                    }
                    GET_GAME_TIMER( ref l_U1829 );
                    l_U1141 = 2;
                    break;
                };;;
                break;
                case 1:
                GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( l_U1312._fU0, 0.00000000, 8.00000000, 0.00000000, ref l_U1927._fU0, ref l_U1927._fU4, ref l_U1927._fU8 );
                LOCATE_CAR_3D( l_U1296._fU0, l_U1927._fU0, l_U1927._fU4, l_U1927._fU8, 6.00000000, 8.00000000, 10.00000000, 0 );
                if (NOT l_U1803)
                {
                    if (IS_CHAR_INJURED( l_U1630._fU0._fU0 ))
                    {
                        if (IS_VEH_DRIVEABLE( l_U1630._fU148._fU0 ))
                        {
                            SET_CAR_HEALTH( l_U1630._fU148._fU0, 100 );
                            SET_ENGINE_HEALTH( l_U1630._fU148._fU0, 100 );
                            SET_PETROL_TANK_HEALTH( l_U1630._fU148._fU0, 100 );
                            l_U1803 = 1;
                        }
                    }
                }
                if (IS_VEH_DRIVEABLE( l_U1630._fU148._fU0 ))
                {
                    GET_CAR_HEALTH( l_U1630._fU148._fU0, ref l_U1630._fU148._fU40 );
                    GET_CAR_HEALTH( l_U1630._fU148._fU0, ref l_U1630._fU148._fU44 );
                    GET_CAR_HEALTH( l_U1630._fU148._fU0, ref l_U1630._fU148._fU48 );
                    if (NOT l_U1762)
                    {
                        l_U1147 = 13;
                        sub_22718();
                        l_U1762 = 1;
                    }
                    if (NOT l_U1757)
                    {
                        if (l_U1794)
                        {
                            if (sub_20711( l_U2027[0] ))
                            {
                                if ((sub_32943( l_U2027[0] )) > 0)
                                {
                                    sub_60601( 100.00000000 );
                                    sub_61666();
                                    if (HAS_CHAR_GOT_WEAPON( sub_4997(), 18 ))
                                    {
                                        GET_AMMO_IN_CHAR_WEAPON( sub_4997(), 18, ref l_U1850 );
                                        l_U1849 = 5 - l_U1850;
                                        if (l_U1849 < 0)
                                        {
                                            l_U1849 = 0;
                                        }
                                        ADD_AMMO_TO_CHAR( sub_4997(), 18, l_U1849 );
                                    }
                                    else
                                    {
                                        GIVE_WEAPON_TO_CHAR( sub_4997(), 18, 5, 0 );
                                    }
                                    CLEAR_PRINTS();
                                    PRINT( "DM2_GOD3", 7500, 1 );
                                    GET_AMMO_IN_CHAR_WEAPON( sub_4997(), 18, ref l_U1849 );
                                    l_U1757 = 1;
                                }
                            }
                        }
                    }
                    if (l_U1757)
                    {
                        sub_40259();
                        sub_40342();
                        sub_40569();
                        sub_40656();
                    }
                    sub_62259();
                    if (IS_CAR_IN_WATER( l_U1630._fU148._fU0 ))
                    {
                        SET_CAR_ONLY_DAMAGED_BY_PLAYER( l_U1312._fU0, 1 );
                        SET_CHAR_ONLY_DAMAGED_BY_PLAYER( l_U1162._fU0, 1 );
                        EXPLODE_CAR( l_U1630._fU148._fU0, 1, 0 );
                    }
                }
                else if (DOES_BLIP_EXIST( l_U1630._fU224 ))
                {
                    REMOVE_BLIP( l_U1630._fU224 );
                    SET_CHAR_PROOFS( l_U1150._fU0, 1, 1, 1, 1, 1 );
                    SET_CAR_ONLY_DAMAGED_BY_PLAYER( l_U1312._fU0, 1 );
                    SET_CHAR_ONLY_DAMAGED_BY_PLAYER( l_U1162._fU0, 1 );
                    if (NOT (IS_CHAR_INJURED( l_U1630._fU0._fU0 )))
                    {
                        SET_CHAR_PROOFS( l_U1630._fU0._fU0, 0, 0, 0, 0, 0 );
                        SET_CHAR_HEALTH( l_U1630._fU0._fU0, 13 );
                    }
                    for ( l_U1820 = 0; l_U1820 <= 1; l_U1820++ )
                    {
                        if (NOT (IS_CHAR_INJURED( l_U1630._fU48[l_U1820]._fU0 )))
                        {
                            SET_CHAR_HEALTH( l_U1630._fU48[l_U1820]._fU0, 13 );
                        }
                    }
                    GET_GAME_TIMER( ref l_U1829 );
                    l_U1141 = 2;
                    break;
                }
                sub_65179( 0 );
                break;
                case 2:
                if (sub_37538( 4 ))
                {
                    PRINTSTRING( "are all boats dead" );
                    PRINTNL();
                    if (NOT l_U1809)
                    {
                        CLEAR_PRINTS();
                        CLEAR_HELP();
                        l_U1147 = 16;
                        GET_GAME_TIMER( ref l_U1829 );
                        l_U1809 = 1;
                        l_U1783 = 1;
                    }
                    if (NOT l_U1804)
                    {
                        if ((sub_9790( ref l_U1829, 5000 )) || (IS_CAR_IN_WATER( l_U1630._fU148._fU0 )))
                        {
                            EXPLODE_CAR( l_U1630._fU148._fU0, 1, 0 );
                            l_U1804 = 1;
                        }
                    }
                    if ((NOT (sub_20711( l_U2027[0] ))) AND (sub_9790( ref l_U1829, 7500 )))
                    {
                        sub_65179( 1 );
                        l_U1137 = 7;
                    }
                }
                else if (NOT l_U1810)
                {
                    CLEAR_PRINTS();
                    PRINT_NOW( "DM2_GOD7", 7500, 0 );
                    l_U1810 = 1;
                }
                break;
            }
        }
        else
        {
            sub_65620();
        }
    }
    else
    {
        sub_65620();
    }
    return;
}

int sub_37538(unknown uParam0)
{
    int I;
    int iVar4;
    int iVar5;

    for ( I = 0; I <= 3; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U1109[I] ))
        {
            if ((IS_CHAR_INJURED( l_U1199[I]._fU0._fU0 )) || (NOT (IS_VEH_DRIVEABLE( l_U1109[I] ))))
            {
                if (l_U1777)
                {
                    EXPLODE_CAR( l_U1109[I], 1, 0 );
                    l_U1777 = 0;
                }
                else
                {
                    l_U1777 = 1;
                }
                MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U1199[I]._fU0._fU0 );
                MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U1199[I]._fU48._fU0 );
                MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U1109[I] );
                REMOVE_BLIP( l_U1959[I] );
                iVar4++;
            }
        }
        else if (DOES_BLIP_EXIST( l_U1959[I] ))
        {
            REMOVE_BLIP( l_U1959[I] );
        }
        iVar4++;;
    }
    for ( I = 0; I <= 0; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U1360[I]._fU0._fU0 ))
        {
            if ((IS_CHAR_INJURED( l_U1360[I]._fU64._fU0 )) || (NOT (IS_VEH_DRIVEABLE( l_U1360[I]._fU0._fU0 ))))
            {
                GENERATE_RANDOM_INT_IN_RANGE( 0, 2, ref iVar5 );
                if (iVar5 > 0)
                {
                    EXPLODE_CAR( l_U1360[I]._fU0._fU0, 1, 0 );
                }
                MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U1360[I]._fU64._fU0 );
                MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U1360[I]._fU112._fU0 );
                MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U1360[I]._fU0._fU0 );
                REMOVE_BLIP( l_U1360[I]._fU0._fU8 );
                iVar4++;
            }
        }
        else if (DOES_BLIP_EXIST( l_U1360[I]._fU0._fU8 ))
        {
            REMOVE_BLIP( l_U1360[I]._fU0._fU8 );
        }
        iVar4++;;
    }
    if (iVar4 == 5)
    {
        return 1;
    }
    return 0;
}

void sub_38128()
{
    if (NOT l_U1787[0])
    {
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1312._fU0 ))
        {
            if ((FIND_TIME_POSITION_IN_RECORDING( l_U1312._fU0 )) > 132000)
            {
                if (DOES_VEHICLE_EXIST( l_U1109[0] ))
                {
                    if (IS_VEH_DRIVEABLE( l_U1109[0] ))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1109[0] ))
                        {
                            STOP_PLAYBACK_RECORDED_CAR( l_U1109[0] );
                            l_U1787[0] = 1;
                        }
                    }
                }
            }
        }
    }
    else if (NOT l_U1796[0])
    {
        if (l_U888[0] >= 99)
        {
            if (NOT (IS_CHAR_INJURED( l_U1199[0]._fU0._fU0 )))
            {
                if (IS_VEH_DRIVEABLE( l_U1109[0] ))
                {
                    SET_CAR_FORWARD_SPEED( l_U1109[0], 20.00000000 );
                    CLEAR_CHAR_TASKS( l_U1199[0]._fU0._fU0 );
                    TASK_CAR_MISSION( l_U1199[0]._fU0._fU0, l_U1109[0], l_U1312._fU0, 2, 60.00000000, 2, 300, 200 );
                    l_U1796[0] = 1;
                }
            }
        }
    }
    if (NOT l_U1787[2])
    {
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1312._fU0 ))
        {
            if ((FIND_TIME_POSITION_IN_RECORDING( l_U1312._fU0 )) > 132000)
            {
                if (DOES_VEHICLE_EXIST( l_U1109[2] ))
                {
                    if (IS_VEH_DRIVEABLE( l_U1109[2] ))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1109[2] ))
                        {
                            STOP_PLAYBACK_RECORDED_CAR( l_U1109[2] );
                            l_U1787[2] = 1;
                        }
                    }
                }
            }
        }
    }
    else if (NOT l_U1796[2])
    {
        if (l_U888[2] >= 99)
        {
            if (NOT (IS_CHAR_INJURED( l_U1199[2]._fU0._fU0 )))
            {
                if (IS_VEH_DRIVEABLE( l_U1109[2] ))
                {
                    SET_CAR_FORWARD_SPEED( l_U1109[2], 20.00000000 );
                    CLEAR_CHAR_TASKS( l_U1199[2]._fU0._fU0 );
                    TASK_CAR_MISSION( l_U1199[2]._fU0._fU0, l_U1109[2], l_U1312._fU0, 2, 60.00000000, 2, 300, 200 );
                    l_U1796[2] = 1;
                }
            }
        }
    }
    if (NOT l_U1787[1])
    {
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1312._fU0 ))
        {
            if ((FIND_TIME_POSITION_IN_RECORDING( l_U1312._fU0 )) > 179000)
            {
                if (DOES_VEHICLE_EXIST( l_U1109[1] ))
                {
                    if (IS_VEH_DRIVEABLE( l_U1109[1] ))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1109[1] ))
                        {
                            STOP_PLAYBACK_RECORDED_CAR( l_U1109[1] );
                            l_U1787[1] = 1;
                        }
                    }
                }
            }
        }
    }
    else if (NOT l_U1796[1])
    {
        if (l_U888[1] >= 99)
        {
            if (NOT (IS_CHAR_INJURED( l_U1199[1]._fU0._fU0 )))
            {
                if (IS_VEH_DRIVEABLE( l_U1109[1] ))
                {
                    SET_CAR_FORWARD_SPEED( l_U1109[1], 20.00000000 );
                    CLEAR_CHAR_TASKS( l_U1199[1]._fU0._fU0 );
                    TASK_CAR_MISSION( l_U1199[1]._fU0._fU0, l_U1109[1], l_U1312._fU0, 2, 60.00000000, 2, 300, 200 );
                    l_U1796[1] = 1;
                }
            }
        }
    }
    if (NOT l_U1787[3])
    {
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1312._fU0 ))
        {
            if ((FIND_TIME_POSITION_IN_RECORDING( l_U1312._fU0 )) > 214979)
            {
                if (DOES_VEHICLE_EXIST( l_U1109[3] ))
                {
                    if (IS_VEH_DRIVEABLE( l_U1109[3] ))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1109[3] ))
                        {
                            STOP_PLAYBACK_RECORDED_CAR( l_U1109[3] );
                            l_U1787[3] = 1;
                        }
                    }
                }
            }
        }
    }
    else if (NOT l_U1796[3])
    {
        if (l_U888[3] >= 99)
        {
            if (NOT (IS_CHAR_INJURED( l_U1199[3]._fU0._fU0 )))
            {
                if (IS_VEH_DRIVEABLE( l_U1109[3] ))
                {
                    SET_CAR_FORWARD_SPEED( l_U1109[3], 20.00000000 );
                    CLEAR_CHAR_TASKS( l_U1199[3]._fU0._fU0 );
                    TASK_CAR_MISSION( l_U1199[3]._fU0._fU0, l_U1109[3], l_U1312._fU0, 2, 60.00000000, 2, 300, 200 );
                    l_U1796[3] = 1;
                }
            }
        }
    }
    return;
}

void sub_39471()
{
    if (NOT l_U1749)
    {
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1312._fU0 ))
        {
            if ((FIND_TIME_POSITION_IN_RECORDING( l_U1312._fU0 )) > 233465)
            {
                if (NOT (IS_CHAR_INJURED( l_U1162._fU0 )))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U1312._fU0 );
                    TASK_FLUSH_ROUTE();
                    TASK_EXTEND_ROUTE( 645.73030000, 1162.66700000, 0.00000000 );
                    CLEAR_CHAR_TASKS( l_U1162._fU0 );
                    OPEN_SEQUENCE_TASK( ref l_U1162._fU12 );
                    TASK_CAR_DRIVE_TO_COORD( 0, l_U1312._fU0, 645.73030000, 1162.66700000, 0.00000000, 25.00000000, 0, l_U1312._fU4, 3, 5.00000000, 100 );
                    CLOSE_SEQUENCE_TASK( l_U1162._fU12 );
                    TASK_PERFORM_SEQUENCE( l_U1162._fU0, l_U1162._fU12 );
                    CLEAR_SEQUENCE_TASK( l_U1162._fU12 );
                    l_U1749 = 1;
                }
            }
        }
    }
    else
    {
        GET_SCRIPT_TASK_STATUS( l_U1162._fU0, 29, ref l_U1162._fU44 );
        if ((LOCATE_CHAR_ANY_MEANS_3D( l_U1162._fU0, 645.73030000, 1162.66700000, 0.00000000, 5.00000000, 5.00000000, 5.00000000, 0 )) || (l_U1162._fU44 == 7))
        {
            GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( l_U1312._fU0, 0.00000000, 0.20000000, 1.15000000, ref l_U1939._fU0, ref l_U1939._fU4, ref l_U1939._fU8 );
            WARP_CHAR_FROM_CAR_TO_COORD( l_U1162._fU0, l_U1939._fU0, l_U1939._fU4, l_U1939._fU8 );
            ATTACH_PED_TO_CAR( l_U1162._fU0, l_U1312._fU0, 0, 0.00000000, 0.20000000, 1.15000000, 0.00000000, 0.00000000, 1, 0 );
            CLEAR_CHAR_TASKS( l_U1162._fU0 );
            ANCHOR_BOAT( l_U1312._fU0, 1 );
            PRINTINT( sub_39990( l_U1162._fU0 ) );
            PRINTNL();
            l_U1801 = 1;
        }
    }
    return;
}

int sub_39990(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        GET_CHAR_COORDINATES( uParam0, ref uVar3._fU0, ref uVar3._fU4, ref uVar3._fU8 );
        if ((uVar3._fU0 <= l_U196._fU0._fU8) AND (uVar3._fU0 >= l_U196._fU0._fU4))
        {
            if ((uVar3._fU4 <= l_U196._fU16._fU8) AND (uVar3._fU4 >= l_U196._fU16._fU4))
            {
                return (FLOOR( (uVar3._fU0 - l_U196._fU0._fU4) / l_U196._fU0._fU12 )) + ((FLOOR( (uVar3._fU4 - l_U196._fU16._fU4) / l_U196._fU16._fU12 )) * l_U196._fU0._fU0);
            }
        }
    }
    return -1;
}

void sub_40259()
{
    if (NOT l_U1786)
    {
        if (NOT (sub_20711( l_U2027[0] )))
        {
            CLEAR_PRINTS();
            PRINT( "DM2_GOD3", 7500, 1 );
            l_U1786 = 1;
        }
    }
    return;
}

void sub_40342()
{
    if (NOT l_U1785)
    {
        if (NOT (IS_CHAR_IN_CAR( sub_4997(), l_U1296._fU0 )))
        {
            CLEAR_CHAR_TASKS( l_U1150._fU0 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1150._fU0, 1 );
            SET_CHAR_ONLY_DAMAGED_BY_PLAYER( l_U1150._fU0, 1 );
            SET_CURRENT_CHAR_WEAPON( sub_4997(), 18, 1 );
            l_U1785 = 1;
        }
    }
    if (NOT l_U1764)
    {
        if (HAS_CHAR_GOT_WEAPON( sub_4997(), 18 ))
        {
            GET_AMMO_IN_CHAR_WEAPON( sub_4997(), 18, ref l_U1841 );
            if (l_U1841 < 2)
            {
                if (sub_19485( "DM2_SHOOTC", ref l_U2027[0], 7, 1 ))
                {
                    ADD_AMMO_TO_CHAR( sub_4997(), 18, 2 );
                    sub_3755( 1 );
                }
            }
        }
    }
    return;
}

void sub_40569()
{
    if (NOT l_U1773)
    {
        GET_AMMO_IN_CHAR_WEAPON( sub_4997(), 18, ref l_U1848 );
        if ((l_U1849 - l_U1848) > 1)
        {
            l_U1630._fU148._fU60 = 20.00000000;
            l_U1773 = 1;
        }
    }
    return;
}

void sub_40656()
{
    int iVar2;
    unknown uVar3;

    if (NOT l_U1774)
    {
        switch (l_U1148)
        {
            case 0:
            if (NOT l_U1795)
            {
                CLEAR_HELP();
                PRINT_HELP_FOREVER( "DM2_HELP0" );
                l_U1795 = 1;
            }
            l_U1148 = 1;
            break;
            case 1:
            if (NOT (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
            {
                CLEAR_HELP();
                PRINT_HELP_FOREVER( "DM2_HELP1" );
                l_U1795 = 0;
                l_U1148 = 2;
            }
            else
            {
                l_U1148 = 0;
            }
            break;
            case 2:
            GET_MOUSE_INPUT( ref iVar2, ref uVar3 );
            if (NOT (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
            {
                if (((iVar2 != 0) || (IS_BUTTON_PRESSED( 0, 2 ))) AND ((IS_CONTROL_PRESSED( 2, 87 )) || (IS_CONTROL_PRESSED( 2, 6 ))))
                {
                    CLEAR_HELP();
                    PRINT_HELP_FOREVER( "DM2_HELP2" );
                    l_U1795 = 0;
                    l_U1148 = 3;
                }
            }
            else
            {
                l_U1148 = 0;
            }
            break;
            case 3:
            if (NOT (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
            {
                if ((IS_CONTROL_PRESSED( 2, 4 )) AND ((IS_CONTROL_PRESSED( 2, 87 )) || (IS_CONTROL_PRESSED( 2, 6 ))))
                {
                    CLEAR_HELP();
                    l_U1774 = 1;
                }
            }
            else
            {
                l_U1148 = 0;
            }
            break;
        }
    }
    return;
}

void sub_41091()
{
    if (NOT l_U1756)
    {
        for ( l_U1820 = 0; l_U1820 <= 3; l_U1820++ )
        {
            if (NOT l_U1751[l_U1820])
            {
                if (DOES_VEHICLE_EXIST( l_U1109[l_U1820] ))
                {
                    if (IS_VEH_DRIVEABLE( l_U1109[l_U1820] ))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1109[l_U1820] ))
                        {
                            if (NOT l_U1741[l_U1820])
                            {
                                GET_GAME_TIMER( ref l_U1835[l_U1820] );
                                l_U1741[l_U1820] = 1;
                            }
                            if (sub_9790( ref l_U1835[l_U1820], 1000 ))
                            {
                                if (NOT (DOES_BLIP_EXIST( l_U1959[l_U1820] )))
                                {
                                    ADD_BLIP_FOR_CAR( l_U1109[l_U1820], ref l_U1959[l_U1820] );
                                    SET_CAR_HEALTH( l_U1109[l_U1820], 820 );
                                    SET_PETROL_TANK_HEALTH( l_U1109[l_U1820], 820 );
                                    SET_ENGINE_HEALTH( l_U1109[l_U1820], 820 );
                                    if (NOT l_U1751[0])
                                    {
                                        if (DOES_BLIP_EXIST( l_U1959[0] ))
                                        {
                                            GET_GAME_TIMER( ref l_U1852 );
                                            sub_3755( 0 );
                                            l_U1147 = 6;
                                        }
                                    }
                                    l_U1751[l_U1820] = 1;
                                    l_U1840++;
                                    if (l_U1840 > 3)
                                    {
                                        l_U1756 = 1;
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
    return;
}

void sub_41604(unknown uParam0, unknown uParam1, unknown uParam2, float fParam3, float fParam4, unknown uParam5, float fParam6, unknown uParam7, float fParam8)
{
    float fVar11;
    float fVar12;
    float fVar13;

    if (NOT (fParam4 < fParam3))
    {
        fParam4 = fParam3 - 0.10000000;
    }
    if (fParam6 > fParam8)
    {
        fParam8 = fParam6;
    }
    fVar11 = uParam7 / fParam8;
    fVar12 = fParam6 / fParam8;
    fVar13 = ((uParam5 - fParam3) * (1.00000000 / 0.40000000)) + fParam3;
    sub_41719( uParam0, uParam1, uParam2, fParam8, fParam4, fParam3, fVar13, fVar11, 1.00000000, fVar12, 1 );
    return;
}

void sub_41719(unknown uParam0, unknown uParam1, unknown uParam2, float fParam3, float fParam4, float fParam5, float fParam6, unknown uParam7, float fParam8, unknown uParam9, boolean bParam10)
{
    float fVar13;
    float fVar14;
    float fVar15;
    float fVar16;
    float fVar17;
    float fVar18;
    float fVar19;
    float fVar20;
    float fVar21;
    unknown uVar22;
    unknown uVar23;

    if (l_U616 == 0)
    {
        if ((uParam2^) < fParam3)
        {
            (uParam2^) = fParam3;
            l_U616 = 1;
        }
    }
    if (fParam4 < 0.00000000)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist = " );
        PRINTFLOAT( fParam4 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist cannot be less than zero." );
    }
    if (fParam4 >= fParam5)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist = " );
        PRINTFLOAT( fParam4 );
        PRINTSTRING( ", fIdealDist = " );
        PRINTFLOAT( fParam5 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist must be less than fIdealDist" );
    }
    if (fParam4 >= fParam6)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist = " );
        PRINTFLOAT( fParam4 );
        PRINTSTRING( ", fSlowDownDist = " );
        PRINTFLOAT( fParam6 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist must be less than fSlowDownDist" );
    }
    if (fParam5 < 0.00000000)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fIdealDist = " );
        PRINTFLOAT( fParam5 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fIdealDist cannot be less than zero." );
    }
    if (fParam5 >= fParam6)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fIdealDist = " );
        PRINTFLOAT( fParam5 );
        PRINTSTRING( ", fSlowDownDist = " );
        PRINTFLOAT( fParam6 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fIdealDist must be less than fSlowDownDist" );
    }
    if (fParam6 < 0.00000000)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fSlowDownDist = " );
        PRINTFLOAT( fParam6 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fSlowDownDist cannot be less than zero." );
    }
    if (fParam8 < 0.00000000)
    {
        fParam8 = l_U846;
    }
    fVar13 = fParam3 * uParam7;
    if (NOT (fVar13 > fParam3))
    {
        fVar13 = fParam3 + 0.10000000;
    }
    fVar18 = fParam3 * uParam9;
    fVar19 = ((fParam6 - fParam5) * 0.40000000) + fParam5;
    fVar15 = sub_43057( uParam0, uParam1 );
    if (fVar15 < 0.00000000)
    {
        fVar15 *= -1.00000000;
    }
    fVar16 = fVar15;
    if (fVar16 < fParam4)
    {
        fVar16 = fParam4;
    }
    if (fVar16 > fVar19)
    {
        fVar16 = fVar19;
    }
    fVar17 = fParam3;
    if (DOES_CHAR_EXIST( uParam1 ))
    {
        if (NOT (IS_CHAR_DEAD( uParam1 )))
        {
            if (sub_43384( uParam1, uParam0 ))
            {
                if (IS_CHAR_IN_ANY_CAR( uParam1 ))
                {
                    fVar17 = fVar13;
                }
                else if (fVar15 < 50.00000000)
                {
                    fVar17 = fParam3;
                }
                else
                {
                    fVar17 = fVar13;
                }
            }
            else if (fVar15 < fParam5)
            {
                if ((sub_43767( uParam0, uParam1 )) < fParam5)
                {
                    fVar14 = sub_43900( uParam0, uParam1 );
                    fVar14 += -15.00000000;
                    if (fVar14 < 0.00000000)
                    {
                        fVar14 = 0.00000000;
                    }
                    if (fVar14 > 75.00000000)
                    {
                        fVar14 = 75.00000000;
                    }
                    fVar20 = (75.00000000 - fVar14) / 75.00000000;
                }
                else
                {
                    fVar20 = 1.00000000;
                }
                fVar17 = (((((fParam5 - fParam4) - (fVar16 - fParam4)) / (fParam5 - fParam4)) * (fVar13 - fParam3)) * fVar20) + fParam3;
            }
            else if (fVar15 > fParam6)
            {
                fVar17 = fVar18;
                l_U617 = 1;
            }
            else if (l_U617)
            {
                if (fVar15 < fVar19)
                {
                    fVar17 = fParam3;
                    l_U617 = 0;
                }
                else
                {
                    fVar17 = fVar18;
                }
            }
            else
            {
                fVar17 = fParam3;
            };;;;
        }
    }
    fVar14 = fVar17 - (uParam2^);
    if (fVar14 > 0.00000000)
    {
        GET_FRAME_TIME( ref fVar14 );
        fVar21 = (l_U851 * fParam3) * fVar14;
        fVar14 = fVar17 - (uParam2^);
        if (fVar14 > fVar21)
        {
            fVar14 = fVar21;
        }
        (uParam2^) += fVar14;
    }
    else
    {
        GET_FRAME_TIME( ref fVar14 );
        fVar21 = (l_U852 * fParam3) * fVar14;
        fVar14 = fVar17 - (uParam2^);
        if (fVar14 < (fVar21 * -1.00000000))
        {
            fVar14 = fVar21 * -1.00000000;
        }
        (uParam2^) += fVar14;
    }
    if (bParam10)
    {
        if (NOT (IS_CHAR_INJURED( uParam1 )))
        {
            if (IS_CHAR_IN_ANY_CAR( uParam1 ))
            {
                STORE_CAR_CHAR_IS_IN_NO_SAVE( uParam1, ref uVar22 );
                if (DOES_VEHICLE_EXIST( uVar22 ))
                {
                    if (NOT (IS_CAR_DEAD( uVar22 )))
                    {
                        GET_CAR_MODEL( uVar22, ref uVar23 );
                        if ((IS_THIS_MODEL_A_BIKE( uVar23 )) || (IS_THIS_MODEL_A_CAR( uVar23 )))
                        {
                            if (IS_VEH_DRIVEABLE( uVar22 ))
                            {
                                fVar14 = fVar17;
                                if (fVar14 < fParam3)
                                {
                                    fVar14 = fParam3;
                                }
                                fVar14 -= fParam3;
                                fVar14 /= fVar13 - fParam3;
                                fVar14 *= fParam8;
                                fVar14 *= l_U844 - l_U845;
                                fVar14 += l_U845;
                                l_U843 = fVar14;
                                if (l_U843 < l_U845)
                                {
                                    l_U843 = l_U845;
                                }
                                if (l_U843 > l_U844)
                                {
                                    l_U843 = l_U844;
                                }
                                FORCE_AIR_DRAG_MULT_FOR_PLAYERS_CAR( sub_3698(), l_U843 );
                            }
                        }
                    }
                }
            }
        }
    }
    return;
}

float sub_43057(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    vector vVar10;
    vector vVar13;
    float fVar16;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_FORWARD_X( uParam0, ref uVar4._fU0 );
        GET_CAR_FORWARD_Y( uParam0, ref uVar4._fU4 );
        GET_CAR_COORDINATES( uParam0, ref vVar10.x, ref vVar10.y, ref vVar10.z );
    }
    if (NOT (IS_CHAR_DEAD( uParam1 )))
    {
        GET_CHAR_COORDINATES( uParam1, ref vVar13.x, ref vVar13.y, ref vVar13.z );
    }
    uVar7 = {vVar13 - vVar10};
    GET_ANGLE_BETWEEN_2D_VECTORS( uVar7._fU0, uVar7._fU4, uVar4._fU0, uVar4._fU4, ref fVar16 );
    fVar16 += -90.00000000;
    if (fVar16 < 0.00000000)
    {
        fVar16 *= -1.00000000;
    }
    uVar7._fU8 = 0.00000000;
    return (VMAG( uVar7 )) * (SIN( fVar16 ));
}

int sub_43384(unknown uParam0, unknown uParam1)
{
    vector vVar4;
    vector vVar7;
    vector vVar10;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    float fVar19;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (NOT (IS_CAR_DEAD( uParam1 )))
        {
            if (IS_CHAR_IN_CAR( uParam0, uParam1 ))
            {
                return 0;
            }
        }
    }
    if (NOT (IS_CHAR_DEAD( uParam0 )))
    {
        GET_CHAR_COORDINATES( uParam0, ref vVar4.x, ref vVar4.y, ref vVar4.z );
    }
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_CAR_COORDINATES( uParam1, ref vVar7.x, ref vVar7.y, ref vVar7.z );
    }
    uVar13 = {vVar7 - vVar4};
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( uParam1, 0.00000000, 5.00000000, 0.00000000, ref vVar10.x, ref vVar10.y, ref vVar10.z );
        uVar16 = {vVar10 - vVar7};
    }
    uVar13._fU8 = 0.00000000;
    uVar16._fU8 = 0.00000000;
    fVar19 = sub_43605( ref uVar13, ref uVar16 );
    if (fVar19 < 0.00000000)
    {
        return 1;
    }
    return 0;
}

float sub_43605(int iParam0, int iParam1)
{
    return ((iParam0->_fU0 * iParam1->_fU0) + (iParam0->_fU4 * iParam1->_fU4)) + (iParam0->_fU8 * iParam1->_fU8);
}

void sub_43767(unknown uParam0, unknown uParam1)
{
    vector vVar4;
    vector vVar7;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown Result;

    if (NOT (IS_CAR_DEAD( uParam0 )))
    {
        GET_CAR_COORDINATES( uParam0, ref vVar4.x, ref vVar4.y, ref vVar4.z );
    }
    if (NOT (IS_CHAR_DEAD( uParam1 )))
    {
        GET_CHAR_COORDINATES( uParam1, ref vVar7.x, ref vVar7.y, ref vVar7.z );
    }
    uVar10 = {vVar7 - vVar4};
    uVar10._fU8 = 0.00000000;
    Result = VMAG( uVar10 );
    return Result;
}

void sub_43900(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    vector vVar7;
    vector vVar10;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown Result;
    unknown uVar17;

    if (NOT (IS_CAR_DEAD( uParam0 )))
    {
        GET_CAR_FORWARD_X( uParam0, ref uVar4._fU0 );
        GET_CAR_FORWARD_Y( uParam0, ref uVar4._fU4 );
    }
    if (NOT (IS_CHAR_DEAD( uParam1 )))
    {
        GET_CHAR_COORDINATES( uParam1, ref vVar7.x, ref vVar7.y, ref vVar7.z );
        if (IS_CHAR_IN_ANY_CAR( uParam1 ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( uParam1, ref uVar17 );
            GET_CAR_FORWARD_X( uVar17, ref uVar13._fU0 );
            GET_CAR_FORWARD_Y( uVar17, ref uVar13._fU4 );
        }
        else
        {
            GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( uParam1, 0.00000000, 5.00000000, 0.00000000, ref vVar10.x, ref vVar10.y, ref vVar10.z );
            uVar13 = {vVar10 - vVar7};
        }
    }
    GET_ANGLE_BETWEEN_2D_VECTORS( uVar4._fU0, uVar4._fU4, uVar13._fU0, uVar13._fU4, ref Result );
    return Result;
}

void sub_44845(unknown uParam0, float fParam1)
{
    unknown uVar4;
    float fVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    int I;
    int iVar10;

    GET_FRAME_TIME( ref fVar5 );
    fVar5 *= 1000.00000000;
    l_U1134 += fVar5;
    l_U1135 += fVar5;
    l_U1136 += fVar5;
    l_U842 = fParam1;
    if (NOT l_U606)
    {
        if (l_U605)
        {
            sub_35745();
            l_U615 = 0;
            if (IS_PLAYER_PLAYING( sub_3698() ))
            {
                GET_CHAR_COORDINATES( sub_4997(), ref uVar6._fU0, ref uVar6._fU4, ref uVar6._fU8 );
                CLEAR_AREA( uVar6._fU0, uVar6._fU4, uVar6._fU8, 1000.00000000, 1 );
                PRINTSTRING( "UPDATE_UBER_PLAYBACK - called massive clear area! \n" );
            }
            l_U606 = 1;
        }
    }
    else if (NOT l_U605)
    {
        sub_4310();
        l_U615 = 1;
        l_U606 = 0;
    }
    if (l_U605)
    {
        fParam1 = 1.00000000;
    }
    if (NOT l_U596)
    {
        if (l_U587)
        {
            l_U837 = 0.00000000;
        }
        else
        {
            l_U837 = 1.00000000;
        }
        if (IS_VEH_DRIVEABLE( uParam0 ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( uParam0 ))
            {
                if (IS_PLAYER_PLAYING( sub_3698() ))
                {
                    if (sub_43384( sub_4997(), uParam0 ))
                    {
                        l_U604 = 1;
                    }
                    else
                    {
                        l_U604 = 0;
                    }
                }
                l_U834 = FIND_TIME_POSITION_IN_RECORDING( uParam0 );
                l_U920 = GET_CURRENT_PLAYBACK_NUMBER_FOR_CAR( uParam0 );
                SET_PLAYBACK_SPEED( uParam0, (fParam1 * l_U835) * l_U837 );
                if (l_U591)
                {
                    # -NULL-0xbfc99f( uParam0, 1 );
                }
                else
                {
                    # -NULL-0xbfc99f( uParam0, 0 );
                }
                if (l_U603)
                {
                    if (l_U840 > 1000.00000000)
                    {
                        sub_45374( uParam0, l_U834 );
                        sub_45869( uParam0, 100.00000000 );
                        for ( I = 0; I < 3; I++ )
                        {
                            fVar5 = TO_FLOAT( I );
                            fVar5 *= 2000.00000000;
                            fVar5 += l_U834;
                            fVar5 += 4000.00000000;
                            sub_46095( uParam0, fVar5, l_U839 );
                        }
                        l_U840 = 0.00000000;
                    }
                    else
                    {
                        GET_FRAME_TIME( ref fVar5 );
                        fVar5 *= 1000.00000000;
                        l_U840 += fVar5;
                    }
                }
            }
        }
        iVar10 = 0;
        if (IS_VEH_DRIVEABLE( uParam0 ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( uParam0 ))
            {
                iVar10 = 1;
            }
        }
        if ((IS_SCREEN_FADED_OUT()) || (l_U834 == 0))
        {
            iVar10 = 1;
        }
        if ((NOT l_U618) AND (iVar10))
        {
            if (NOT l_U584)
            {
                sub_46727( uParam0, (fParam1 * l_U835) * l_U837 );
                sub_52178( ref uParam0 );
                sub_52738( ref uParam0 );
            }
            if (l_U589)
            {
                sub_53245( uParam0 );
            }
            if (NOT l_U584)
            {
                sub_54191( uParam0, (fParam1 * l_U835) * l_U837 );
            }
        }
        if (l_U598)
        {
            if (IS_PLAYER_PLAYING( sub_3698() ))
            {
                if (IS_CHAR_IN_ANY_CAR( sub_4997() ))
                {
                    STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_4997(), ref l_U1128 );
                    GET_CAR_COORDINATES( l_U1128, ref l_U1058._fU0, ref l_U1058._fU4, ref l_U1058._fU8 );
                    GET_VEHICLE_QUATERNION( l_U1128, ref l_U704, ref l_U705, ref l_U706, ref l_U707 );
                }
            }
            l_U598 = 0;
        }
        if (l_U597)
        {
            if (DOES_VEHICLE_EXIST( l_U1128 ))
            {
                sub_5110( l_U1129 );
                l_U1129 = l_U1128;
            }
            if (IS_VEH_DRIVEABLE( l_U1129 ))
            {
                SET_CAR_COORDINATES( l_U1129, l_U1058._fU0, l_U1058._fU4, l_U1058._fU8 );
                SET_VEHICLE_QUATERNION( l_U1129, l_U704, l_U705, l_U706, l_U707 );
            }
            l_U833 = l_U836;
            l_U584 = 1;
            l_U597 = 0;
        }
        if (l_U584)
        {
            while (NOT (sub_57915( ref uParam0, l_U833 )))
            {
                WAIT( 0 );
            }
            l_U587 = 1;
        }
    }
    return;
}

void sub_45374(unknown uParam0, unknown uParam1)
{
    int I;
    unknown uVar5;
    vector vVar6;
    vector vVar9;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;

    vVar6 = {99999.90000000, 99999.90000000, 99999.90000000};
    vVar9 = {-99999.90000000, -99999.90000000, -99999.90000000};
    sub_4482();
    for ( I = 0; I < 15; I++ )
    {
        if (IS_VEH_DRIVEABLE( uParam0 ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( uParam0 ))
            {
                uVar5 = GET_CURRENT_PLAYBACK_NUMBER_FOR_CAR( uParam0 );
                GET_POSITION_OF_CAR_RECORDING_AT_TIME( uVar5, uParam1 + ((TO_FLOAT( I - 1 )) * 2000), ref uVar12 );
                if (uVar12._fU0 < vVar6.x)
                {
                    vVar6.x = uVar12._fU0;
                }
                if (uVar12._fU4 < vVar6.y)
                {
                    vVar6.y = uVar12._fU4;
                }
                if (uVar12._fU8 < vVar6.z)
                {
                    vVar6.z = uVar12._fU8;
                }
                if (uVar12._fU0 > vVar9.x)
                {
                    vVar9.x = uVar12._fU0;
                }
                if (uVar12._fU4 > vVar9.y)
                {
                    vVar9.y = uVar12._fU4;
                }
                if (uVar12._fU8 > vVar9.z)
                {
                    vVar9.z = uVar12._fU8;
                }
            }
        }
    }
    vVar6 = {vVar6 + (vector( l_U853 * -1.00000000, l_U853 * -1.00000000, l_U853 * -1.00000000))};
    vVar9 = {vVar9 + (vector( l_U853, l_U853, l_U853))};
    l_U1070 = {vVar6};
    l_U1073 = {vVar9};
    SWITCH_ROADS_OFF( l_U1064._fU0, l_U1064._fU4, l_U1064._fU8, l_U1067._fU0, l_U1067._fU4, l_U1067._fU8 );
    SWITCH_ROADS_OFF( l_U1070._fU0, l_U1070._fU4, l_U1070._fU8, l_U1073._fU0, l_U1073._fU4, l_U1073._fU8 );
    return;
}

void sub_45869(unknown uParam0, unknown uParam1)
{
    vector vVar4;
    vector vVar7;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;

    if (NOT l_U606)
    {
        if (NOT (IS_CAR_DEAD( uParam0 )))
        {
            if (IS_PLAYER_PLAYING( sub_3698() ))
            {
                GET_CAR_COORDINATES( uParam0, ref vVar4.x, ref vVar4.y, ref vVar4.z );
                GET_CHAR_COORDINATES( sub_4997(), ref vVar7.x, ref vVar7.y, ref vVar7.z );
                uVar10 = {vVar4 - vVar7};
                if ((VMAG2( uVar10 )) > (uParam1 * uParam1))
                {
                    SET_CAR_DENSITY_MULTIPLIER( 1.00000000 );
                }
                else
                {
                    SET_CAR_DENSITY_MULTIPLIER( 0.00000000 );
                }
            }
        }
    }
    return;
}

void sub_46095(unknown uParam0, unknown uParam1, float fParam2)
{
    unknown uVar5;
    vector vVar6;
    vector vVar9;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    float fVar15;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( uParam0 ))
        {
            uVar5 = GET_CURRENT_PLAYBACK_NUMBER_FOR_CAR( uParam0 );
            GET_POSITION_OF_CAR_RECORDING_AT_TIME( uVar5, uParam1, ref vVar6 );
            GET_CAR_COORDINATES( uParam0, ref vVar9.x, ref vVar9.y, ref vVar9.z );
            uVar12 = {vVar9 - vVar6};
            fVar15 = VMAG( uVar12 );
            if (fVar15 > fParam2)
            {
                fVar15 = fParam2;
            }
            sub_46224( vVar6, fVar15 );
        }
    }
    return;
}

void sub_46224(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    boolean bVar6;
    unknown uVar7;

    if (NOT l_U606)
    {
        if (NOT (sub_46254( uParam0, uParam3, 150.00000000 )))
        {
            bVar6 = true;
            if (IS_PLAYER_PLAYING( sub_3698() ))
            {
                GET_PLAYERS_LAST_CAR_NO_SAVE( ref uVar7 );
                if (DOES_VEHICLE_EXIST( uVar7 ))
                {
                    if (NOT (IS_CAR_DEAD( uVar7 )))
                    {
                        if (LOCATE_CAR_3D( uVar7, uParam0._fU0, uParam0._fU4, uParam0._fU8, uParam3, uParam3, uParam3, 0 ))
                        {
                            bVar6 = false;
                        }
                    }
                }
            }
            if (bVar6)
            {
                CLEAR_AREA_OF_CARS( uParam0._fU0, uParam0._fU4, uParam0._fU8, uParam3 );
            }
        }
    }
    return;
}

int sub_46254(vector vParam0, unknown uParam3, float fParam4)
{
    unknown uVar7;
    vector vVar8;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;

    if (NOT IS_SCREEN_FADED_OUT())
    {
        if (NOT l_U606)
        {
            if (NOT l_U584)
            {
                GET_GAME_VIEWPORT_ID( ref uVar7 );
                if (CAM_IS_SPHERE_VISIBLE( uVar7, vParam0.x, vParam0.y, vParam0.z, uParam3 ))
                {
                    if (IS_PLAYER_PLAYING( sub_3698() ))
                    {
                        GET_CHAR_COORDINATES( sub_4997(), ref vVar8.x, ref vVar8.y, ref vVar8.z );
                        uVar11 = {vVar8 - vParam0};
                        if (((VMAG( uVar11 )) - uParam3) < fParam4)
                        {
                            return 1;
                        }
                    }
                }
            }
        }
    }
    return 0;
}

void sub_46727(unknown uParam0, unknown uParam1)
{
    int I;
    int iVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    float fVar14;
    unknown uVar15;
    boolean bVar16;
    boolean bVar17;
    int iVar18;

    l_U922 = 0;
    iVar5 = 0;
    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        for ( I = 0; I < 10; I++ )
        {
            if (I < l_U921)
            {
                I = l_U921;
            }
            if (l_U865[I] == 0)
            {
                if ((NOT (l_U928[I] == 0)) AND ((l_U854[I] < 3000) AND (l_U854[I] > 0)))
                {
                    if (NOT l_U584)
                    {
                        if (l_U834 > (l_U693[I] - (7000.00000000 * uParam1)))
                        {
                            l_U927++;
                            l_U865[I]++;
                        }
                        else if (iVar5 > 3)
                        {
                            return;
                        }
                        else
                        {
                            iVar5++;
                        }
                    }
                    else
                    {
                        fVar14 = l_U834 - l_U693[I];
                        if (fVar14 >= 0.00000000)
                        {
                            if (fVar14 < (sub_46999( l_U854[I] )))
                            {
                                l_U927++;
                                l_U865[I]++;
                            }
                            else
                            {
                                sub_47125( I, 1090519040 );
                            }
                        }
                    }
                }
                else
                {
                    sub_47125( I, 1090519040 );
                }
            }
            if (l_U865[I] == 1)
            {
                if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( l_U854[I] )))
                {
                    REQUEST_CAR_RECORDING( l_U854[I] );
                }
                else if (l_U928[I] == sub_4710())
                {
                    if (HAS_MODEL_LOADED( sub_4739() ))
                    {
                        l_U865[I]++;
                    }
                    else
                    {
                        REQUEST_MODEL( sub_4739() );
                    }
                }
                else if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
                {
                    l_U865[I]++;
                }
                else if (HAS_MODEL_LOADED( sub_4652() ))
                {
                    l_U865[I]++;
                }
                else
                {
                    REQUEST_MODEL( sub_4652() );
                };;;;
            }
            if (l_U865[I] == 2)
            {
                if (HAS_MODEL_LOADED( l_U928[I] ))
                {
                    if (NOT (DOES_VEHICLE_EXIST( l_U1076[I] )))
                    {
                        bVar16 = false;
                        if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
                        {
                            bVar16 = true;
                        }
                        else if (HAS_MODEL_LOADED( sub_4652() ))
                        {
                            bVar16 = true;
                        }
                        else
                        {
                            REQUEST_MODEL( sub_4652() );
                        }
                        if (bVar16)
                        {
                            bVar17 = false;
                            if ((NOT (sub_48035( l_U962[I] ))) AND (NOT (sub_46254( l_U962[I], 5.00000000, 1120403456 ))))
                            {
                                bVar17 = true;
                            }
                            if (l_U610)
                            {
                                bVar17 = true;
                            }
                            if (bVar17)
                            {
                                if (l_U603)
                                {
                                    sub_46224( l_U962[I], l_U839 );
                                }
                                CREATE_CAR( l_U928[I], l_U962[I]._fU0, l_U962[I]._fU4, l_U962[I]._fU8, ref l_U1076[I], 1 );
                                if (l_U928[I] == sub_4710())
                                {
                                    CREATE_CHAR_INSIDE_CAR( l_U1076[I], 6, sub_4739(), ref uVar6 );
                                    SET_CHAR_RELATIONSHIP_GROUP( uVar6, 23 );
                                    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_4739() );
                                }
                                else if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
                                {
                                    CREATE_RANDOM_CHAR_AS_DRIVER( l_U1076[I], ref uVar6 );
                                }
                                else
                                {
                                    CREATE_CHAR_INSIDE_CAR( l_U1076[I], 4, sub_4652(), ref uVar6 );
                                    SET_CHAR_RANDOM_COMPONENT_VARIATION( uVar6 );
                                    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_4652() );
                                }
                                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( uVar6, 1 );
                                SET_VEHICLE_QUATERNION( l_U1076[I], l_U649[I], l_U660[I], l_U671[I], l_U682[I] );
                                FREEZE_CAR_POSITION( l_U1076[I], 1 );
                                SET_CAR_ONLY_DAMAGED_BY_PLAYER( l_U1076[I], 1 );
                                SET_CAR_COLLISION( l_U1076[I], 0 );
                                MARK_MODEL_AS_NO_LONGER_NEEDED( l_U928[I] );
                                sub_48559( l_U1076[I] );
                                GET_INTERIOR_FROM_CAR( l_U1076[I], ref iVar18 );
                                if (NOT (iVar18 == nil))
                                {
                                    # -NULL-0xbfc5b5( l_U1076[I] );
                                }
                                l_U927--;
                                l_U865[I]++;
                            }
                            else if (l_U834 > l_U693[I])
                            {
                                l_U927--;
                                sub_47125( I, 1090519040 );
                            }
                        }
                    }
                }
                else
                {
                    REQUEST_MODEL( l_U928[I] );
                }
            }
            if (l_U865[I] == 3)
            {
                if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( l_U854[I] )))
                {
                    REQUEST_CAR_RECORDING( l_U854[I] );
                }
                if (IS_VEH_DRIVEABLE( l_U1076[I] ))
                {
                    if (l_U834 > l_U693[I])
                    {
                        if (10 > l_U911)
                        {
                            if (IS_VEH_DRIVEABLE( uParam0 ))
                            {
                                if (IS_PLAYBACK_GOING_ON_FOR_CAR( uParam0 ))
                                {
                                    l_U834 = FIND_TIME_POSITION_IN_RECORDING( uParam0 );
                                }
                            }
                            fVar14 = l_U834 - l_U693[I];
                            if (HAS_CAR_RECORDING_BEEN_LOADED( l_U854[I] ))
                            {
                                if (fVar14 < (GET_TOTAL_DURATION_OF_CAR_RECORDING( l_U854[I] )))
                                {
                                    GET_CAR_COORDINATES( l_U1076[I], ref uVar8._fU0, ref uVar8._fU4, ref uVar8._fU8 );
                                    GET_POSITION_OF_CAR_RECORDING_AT_TIME( l_U854[I], fVar14, ref uVar11 );
                                    if ((sub_46254( uVar11, 5.00000000, 1120403456 )) AND (NOT (sub_46254( uVar8, 5.00000000, 1120403456 ))))
                                    {
                                        sub_47125( I, 1090519040 );
                                    }
                                    else if (sub_49148( ref l_U1076[I], l_U854[I], fVar14, 1, 0, 0 ))
                                    {
                                        SET_CAR_COLLISION( l_U1076[I], 1 );
                                        SET_PLAYBACK_SPEED( l_U1076[I], uParam1 );
                                        sub_49514( ref l_U1076[I] );
                                        l_U911++;
                                        l_U865[I]++;
                                    }
                                }
                                else
                                {
                                    PRINTSTRING( "Traffic car removed from processing (check A) car = " );
                                    PRINTINT( I );
                                    PRINTSTRING( "/n" );
                                    sub_47125( I, 1090519040 );
                                }
                            }
                        }
                        else
                        {
                            PRINTSTRING( "Traffic car removed from processing (check B) car = " );
                            PRINTINT( I );
                            PRINTSTRING( "/n" );
                            sub_47125( I, 1090519040 );
                        }
                    }
                    else if ((NOT l_U619) AND (l_U604))
                    {
                        PRINTSTRING( "Traffic car removed from processing (check C) car = " );
                        PRINTINT( I );
                        PRINTSTRING( "/n" );
                        sub_47125( I, 1090519040 );
                    }
                }
                else
                {
                    PRINTSTRING( "Traffic car removed from processing (check D) car = " );
                    PRINTINT( I );
                    PRINTSTRING( "/n" );
                    sub_47125( I, 1090519040 );
                }
            }
            if (l_U865[I] == 4)
            {
                if (IS_VEH_DRIVEABLE( l_U1076[I] ))
                {
                    SET_CAR_COLLISION( l_U1076[I], 1 );
                    if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1076[I] ))
                    {
                        GET_DRIVER_OF_CAR( l_U1076[I], ref uVar6 );
                        if (DOES_CHAR_EXIST( uVar6 ))
                        {
                            if (NOT (IS_CHAR_INJURED( uVar6 )))
                            {
                                if (IS_PLAYER_PLAYING( sub_3698() ))
                                {
                                    if ((NOT l_U599) AND ((NOT l_U587) AND ((NOT l_U590) AND (IS_CHAR_TOUCHING_VEHICLE( sub_4997(), l_U1076[I] )))))
                                    {
                                        if (IS_CHAR_IN_ANY_CAR( sub_4997() ))
                                        {
                                            bVar16 = false;
                                            STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_4997(), ref uVar7 );
                                            if (NOT (sub_50372( l_U1076[I], uVar7 )))
                                            {
                                                bVar16 = true;
                                            }
                                            if (NOT bVar16)
                                            {
                                                if (sub_50534( uVar7, l_U1076[I] ))
                                                {
                                                    bVar16 = true;
                                                }
                                            }
                                            if (bVar16)
                                            {
                                                sub_50765( l_U1076[I] );
                                                l_U865[I]++;
                                            }
                                        }
                                    }
                                    else if (sub_50534( l_U1076[I], uParam0 ))
                                    {
                                        SET_PLAYBACK_SPEED( l_U1076[I], uParam1 );
                                    }
                                    else if ((NOT l_U599) AND (sub_50892( uParam0, l_U1076[I] )))
                                    {
                                        sub_50765( l_U1076[I] );
                                        l_U865[I]++;
                                    }
                                    else
                                    {
                                        SET_PLAYBACK_SPEED( l_U1076[I], uParam1 );
                                    }
                                    if (l_U592)
                                    {
                                        # -NULL-0xbfc99f( l_U1076[I], 1 );
                                    }
                                    else
                                    {
                                        # -NULL-0xbfc99f( l_U1076[I], 0 );
                                    }
                                }
                            }
                            else
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U1076[I] );
                            }
                        }
                        else
                        {
                            STOP_PLAYBACK_RECORDED_CAR( l_U1076[I] );
                        }
                    }
                    else
                    {
                        l_U865[I]++;
                    }
                }
                else
                {
                    l_U865[I]++;
                }
            }
            if (l_U865[I] == 5)
            {
                if (IS_VEH_DRIVEABLE( l_U1076[I] ))
                {
                    if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1076[I] )))
                    {
                        l_U865[I]++;
                    }
                    else
                    {
                        GET_DRIVER_OF_CAR( l_U1076[I], ref uVar6 );
                        if (DOES_CHAR_EXIST( uVar6 ))
                        {
                            if (NOT (IS_CHAR_INJURED( uVar6 )))
                            {
                                SET_PLAYBACK_SPEED( l_U1076[I], uParam1 );
                                if (l_U592)
                                {
                                    # -NULL-0xbfc99f( l_U1076[I], 1 );
                                }
                                else
                                {
                                    # -NULL-0xbfc99f( l_U1076[I], 0 );
                                }
                            }
                            else
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U1076[I] );
                            }
                        }
                        else
                        {
                            STOP_PLAYBACK_RECORDED_CAR( l_U1076[I] );
                        }
                        if (HAS_CAR_RECORDING_BEEN_LOADED( l_U854[I] ))
                        {
                            if (l_U834 > (l_U693[I] + (GET_TOTAL_DURATION_OF_CAR_RECORDING( l_U854[I] ))))
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U1076[I] );
                            }
                        }
                        else
                        {
                            STOP_PLAYBACK_RECORDED_CAR( l_U1076[I] );
                        }
                    }
                }
                else
                {
                    l_U865[I]++;
                }
            }
            if (l_U865[I] == 6)
            {
                if (NOT (IS_CAR_DEAD( l_U1076[I] )))
                {
                    GET_CAR_SPEED( l_U1076[I], ref uVar15 );
                }
                sub_52005( ref l_U1076[I] );
                l_U911--;
                sub_47125( I, uVar15 );
            }
            l_U922++;
        }
    }
    else
    {
        sub_4785();
    }
    return;
}

void sub_46999(unknown uParam0)
{
    unknown Result;

    REQUEST_CAR_RECORDING( uParam0 );
    while (NOT (HAS_CAR_RECORDING_BEEN_LOADED( uParam0 )))
    {
        WAIT( 0 );
    }
    Result = GET_TOTAL_DURATION_OF_CAR_RECORDING( uParam0 );
    REMOVE_CAR_RECORDING( uParam0 );
    return Result;
}

void sub_47125(int iParam0, float fParam1)
{
    int I;
    unknown uVar5;

    if (NOT (l_U928[iParam0] == 0))
    {
        MARK_MODEL_AS_NO_LONGER_NEEDED( l_U928[iParam0] );
    }
    if (DOES_VEHICLE_EXIST( l_U1076[iParam0] ))
    {
        if (IS_VEH_DRIVEABLE( l_U1076[iParam0] ))
        {
            GET_DRIVER_OF_CAR( l_U1076[iParam0], ref uVar5 );
            if (DOES_CHAR_EXIST( uVar5 ))
            {
                if (NOT (IS_CHAR_INJURED( uVar5 )))
                {
                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( uVar5, 0 );
                }
            }
        }
    }
    if (IS_VEH_DRIVEABLE( l_U1076[iParam0] ))
    {
        sub_4933( l_U1076[iParam0] );
        SET_CAR_COLLISION( l_U1076[iParam0], 1 );
        FREEZE_CAR_POSITION( l_U1076[iParam0], 0 );
    }
    if (NOT l_U588)
    {
        if (DOES_CHAR_EXIST( uVar5 ))
        {
            if (NOT (IS_CHAR_INJURED( uVar5 )))
            {
                if (fParam1 < 8.00000000)
                {
                    fParam1 = 8.00000000;
                }
                SET_DRIVE_TASK_CRUISE_SPEED( uVar5, fParam1 );
            }
            sub_47407( uVar5 );
        }
        sub_5110( l_U1076[iParam0] );
    }
    else if (DOES_CHAR_EXIST( uVar5 ))
    {
        DELETE_CHAR( ref uVar5 );
    }
    if (DOES_VEHICLE_EXIST( l_U1076[iParam0] ))
    {
        DELETE_CAR( ref l_U1076[iParam0] );
    }
    if (iParam0 >= l_U921)
    {
        for ( I = 0; I < 10; I++ )
        {
            if (NOT (l_U865[I] == 99))
            {
                if (iParam0 == I)
                {
                    if (iParam0 < 9)
                    {
                        l_U921 = iParam0 + 1;
                    }
                }
                I = 10;
            }
        }
    }
    l_U865[iParam0] = 99;
    return;
}

void sub_47407(unknown uParam0)
{
    MARK_CHAR_AS_NO_LONGER_NEEDED( ref uParam0 );
    return;
}

int sub_48035(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 10; I++ )
    {
        if (IS_VEH_DRIVEABLE( l_U620[I] ))
        {
            if (LOCATE_CAR_3D( l_U620[I], uParam0._fU0, uParam0._fU4, uParam0._fU8, 4.00000000, 4.00000000, 4.00000000, 0 ))
            {
                return 1;
            }
        }
    }
    return 0;
}

int sub_48559(unknown uParam0)
{
    unknown uVar3;

    if (DOES_VEHICLE_EXIST( uParam0 ))
    {
        if (NOT (IS_CAR_DEAD( uParam0 )))
        {
            GET_CAR_MODEL( uParam0, ref uVar3 );
            if ((IS_THIS_MODEL_A_BIKE( uVar3 )) || (IS_THIS_MODEL_A_CAR( uVar3 )))
            {
                return SET_CAR_ON_GROUND_PROPERLY( uParam0 );
            }
        }
    }
    return 0;
}

int sub_49148(unknown uParam0, int iParam1, unknown uParam2, boolean bParam3, boolean bParam4, unknown uParam5)
{
    unknown uVar8;

    if ((iParam1 < 3000) AND (iParam1 > 0))
    {
        if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( iParam1 )))
        {
            REQUEST_CAR_RECORDING( iParam1 );
        }
        else if (IS_VEH_DRIVEABLE( (uParam0^) ))
        {
            if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( (uParam0^) )))
            {
                FREEZE_CAR_POSITION( (uParam0^), 0 );
                if (bParam4)
                {
                    START_PLAYBACK_RECORDED_CAR_USING_AI( (uParam0^), iParam1 );
                }
                else
                {
                    START_PLAYBACK_RECORDED_CAR( (uParam0^), iParam1 );
                    SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( (uParam0^), uParam2 );
                    return 1;
                }
            }
            else if ((GET_CURRENT_PLAYBACK_NUMBER_FOR_CAR( (uParam0^) )) == iParam1)
            {
                uVar8 = FIND_TIME_POSITION_IN_RECORDING( (uParam0^) );
                SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( (uParam0^), uParam2 - uVar8 );
                if (NOT bParam3)
                {
                    STOP_PLAYBACK_RECORDED_CAR( (uParam0^) );
                    REQUEST_CAR_RECORDING( iParam1 );
                }
                return 1;
            }
            else
            {
                STOP_PLAYBACK_RECORDED_CAR( (uParam0^) );
                FREEZE_CAR_POSITION( (uParam0^), 0 );
                if (bParam4)
                {
                    START_PLAYBACK_RECORDED_CAR_USING_AI( (uParam0^), iParam1 );
                }
                else
                {
                    START_PLAYBACK_RECORDED_CAR( (uParam0^), iParam1 );
                }
                SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( (uParam0^), uParam2 );
                return 1;
            }
        }
    }
    return 0;
}

void sub_49514(unknown uParam0)
{
    int iVar3;

    if (l_U600)
    {
        if (IS_VEH_DRIVEABLE( (uParam0^) ))
        {
            iVar3 = sub_49548();
            if (NOT (iVar3 == -1))
            {
                l_U620[iVar3] = (uParam0^);
                if (IS_VEH_DRIVEABLE( l_U620[iVar3] ))
                {
                    ADD_BLIP_FOR_CAR( l_U620[iVar3], ref l_U631[iVar3] );
                }
            }
        }
    }
    return;
}

int sub_49548()
{
    int Result;

    for ( Result = 0; Result < 10; Result++ )
    {
        if (NOT (DOES_VEHICLE_EXIST( l_U620[Result] )))
        {
            return Result;
        }
    }
    return -1;
}

int sub_50372(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    float fVar10;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_SPEED_VECTOR( uParam0, ref uVar4, 0 );
    }
    else
    {
        return 0;
    }
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_CAR_SPEED_VECTOR( uParam1, ref uVar7, 0 );
    }
    else
    {
        return 0;
    }
    uVar4._fU8 = 0.00000000;
    uVar7._fU8 = 0.00000000;
    fVar10 = sub_43605( ref uVar4, ref uVar7 );
    if (fVar10 < 0.00000000)
    {
        return 0;
    }
    return 1;
}

int sub_50534(unknown uParam0, unknown uParam1)
{
    vector vVar4;
    vector vVar7;
    vector vVar10;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    float fVar19;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_COORDINATES( uParam0, ref vVar4.x, ref vVar4.y, ref vVar4.z );
    }
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_CAR_COORDINATES( uParam1, ref vVar7.x, ref vVar7.y, ref vVar7.z );
    }
    uVar13 = {vVar7 - vVar4};
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( uParam1, 0.00000000, 5.00000000, 0.00000000, ref vVar10.x, ref vVar10.y, ref vVar10.z );
        uVar16 = {vVar10 - vVar7};
    }
    uVar13._fU8 = 0.00000000;
    uVar16._fU8 = 0.00000000;
    fVar19 = sub_43605( ref uVar13, ref uVar16 );
    if (fVar19 < 0.00000000)
    {
        return 1;
    }
    return 0;
}

void sub_50765(unknown uParam0)
{
    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        sub_4933( uParam0 );
        CHANGE_PLAYBACK_TO_USE_AI( uParam0 );
    }
    return;
}

int sub_50892(unknown uParam0, unknown uParam1)
{
    float fVar4;
    float fVar5;

    fVar4 = sub_50905( uParam0, uParam1 );
    fVar5 = sub_51129( uParam0, uParam1 );
    if (fVar4 > fVar5)
    {
        return 1;
    }
    return 0;
}

float sub_50905(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    vector vVar10;
    vector vVar13;
    float fVar16;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_FORWARD_X( uParam0, ref uVar4._fU0 );
        GET_CAR_FORWARD_Y( uParam0, ref uVar4._fU4 );
        GET_CAR_COORDINATES( uParam0, ref vVar10.x, ref vVar10.y, ref vVar10.z );
    }
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_CAR_COORDINATES( uParam1, ref vVar13.x, ref vVar13.y, ref vVar13.z );
    }
    uVar7 = {vVar13 - vVar10};
    GET_ANGLE_BETWEEN_2D_VECTORS( uVar7._fU0, uVar7._fU4, uVar4._fU0, uVar4._fU4, ref fVar16 );
    fVar16 += -90.00000000;
    if (fVar16 < 0.00000000)
    {
        fVar16 *= -1.00000000;
    }
    uVar7._fU8 = 0.00000000;
    return (VMAG( uVar7 )) * (SIN( fVar16 ));
}

float sub_51129(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    vector vVar10;
    vector vVar13;
    float fVar16;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_FORWARD_X( uParam0, ref uVar4._fU0 );
        GET_CAR_FORWARD_Y( uParam0, ref uVar4._fU4 );
        GET_CAR_COORDINATES( uParam0, ref vVar10.x, ref vVar10.y, ref vVar10.z );
    }
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_CAR_COORDINATES( uParam1, ref vVar13.x, ref vVar13.y, ref vVar13.z );
    }
    uVar7 = {vVar13 - vVar10};
    GET_ANGLE_BETWEEN_2D_VECTORS( uVar7._fU0, uVar7._fU4, uVar4._fU0, uVar4._fU4, ref fVar16 );
    fVar16 += -90.00000000;
    if (fVar16 < 0.00000000)
    {
        fVar16 *= -1.00000000;
    }
    uVar7._fU8 = 0.00000000;
    return (VMAG( uVar7 )) * (COS( fVar16 ));
}

void sub_52005(unknown uParam0)
{
    int I;

    for ( I = 0; I < 10; I++ )
    {
        if (l_U620[I] == (uParam0^))
        {
            l_U620[I] = nil;
            if (DOES_BLIP_EXIST( l_U631[I] ))
            {
                REMOVE_BLIP( l_U631[I] );
            }
            return;
        }
    }
    return;
}

void sub_52178(unknown uParam0)
{
    int I;
    int iVar4;
    int iVar5;
    unknown uVar6;

    iVar4 = l_U921 - 5;
    iVar5 = iVar4 + 15;
    if (l_U1134 > 4000.00000000)
    {
        if (IS_PLAYER_PLAYING( sub_3698() ))
        {
            if (IS_CHAR_IN_ANY_CAR( sub_4997() ))
            {
                STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_4997(), ref uVar6 );
            }
            for ( I = 0; I < 10; I++ )
            {
                if (I < iVar4)
                {
                    I = iVar4;
                }
                if (DOES_VEHICLE_EXIST( l_U1076[I] ))
                {
                    if (IS_VEH_DRIVEABLE( l_U1076[I] ))
                    {
                        if ((sub_52345( l_U1076[I], uVar6 )) || (sub_52345( l_U1076[I], (uParam0^) )))
                        {
                            SOUND_CAR_HORN( l_U1076[I], 3000 );
                            l_U1134 = 0.00000000;
                        }
                    }
                }
                if (I >= iVar5)
                {
                    I = 10;
                }
            }
        }
    }
    return;
}

int sub_52345(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;

    if ((DOES_VEHICLE_EXIST( uParam1 )) AND (DOES_VEHICLE_EXIST( uParam0 )))
    {
        if (IS_VEH_DRIVEABLE( uParam0 ))
        {
            if (IS_VEH_DRIVEABLE( uParam1 ))
            {
                if (NOT (sub_50372( uParam0, uParam1 )))
                {
                    GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( uParam0, 0.00000000, 25.00000000, 0.00000000, ref uVar4._fU0, ref uVar4._fU4, ref uVar4._fU8 );
                    GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( uParam0, 0.00000000, 20.00000000, 0.00000000, ref uVar7._fU0, ref uVar7._fU4, ref uVar7._fU8 );
                    GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( uParam0, 0.00000000, 15.00000000, 0.00000000, ref uVar10._fU0, ref uVar10._fU4, ref uVar10._fU8 );
                    if ((LOCATE_CAR_3D( uParam1, uVar4._fU0, uVar4._fU4, uVar4._fU8, 5.00000000, 5.00000000, 5.00000000, 0 )) || ((LOCATE_CAR_3D( uParam1, uVar4._fU0, uVar4._fU4, uVar4._fU8, 5.00000000, 5.00000000, 5.00000000, 0 )) || (LOCATE_CAR_3D( uParam1, uVar4._fU0, uVar4._fU4, uVar4._fU8, 5.00000000, 5.00000000, 5.00000000, 0 ))))
                    {
                        return 1;
                    }
                }
            }
        }
    }
    return 0;
}

void sub_52738(unknown uParam0)
{
    int I;
    int iVar4;
    int iVar5;
    unknown uVar6;

    iVar4 = l_U921 - 5;
    iVar5 = iVar4 + 15;
    if (IS_PLAYER_PLAYING( sub_3698() ))
    {
        switch (l_U1132)
        {
            case 0:
            if (l_U1135 > 3000.00000000)
            {
                if (IS_CHAR_IN_ANY_CAR( sub_4997() ))
                {
                    STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_4997(), ref uVar6 );
                }
                for ( I = 0; I < 10; I++ )
                {
                    if (I < iVar4)
                    {
                        I = iVar4;
                    }
                    if (DOES_VEHICLE_EXIST( l_U1076[I] ))
                    {
                        if (IS_VEH_DRIVEABLE( l_U1076[I] ))
                        {
                            if ((sub_52345( l_U1076[I], uVar6 )) || (sub_52345( l_U1076[I], (uParam0^) )))
                            {
                                l_U1131 = l_U1076[I];
                                l_U1135 = 0.00000000;
                                I = 10;
                                l_U1132++;
                            }
                        }
                    }
                    if (I >= iVar5)
                    {
                        I = 10;
                    }
                }
            }
            break;
            case 1:
            if (IS_VEH_DRIVEABLE( l_U1131 ))
            {
                if (l_U1135 < 1000.00000000)
                {
                    if (l_U1136 > 100.00000000)
                    {
                        if (NOT l_U1133)
                        {
                            SET_CAR_LIGHT_MULTIPLIER( l_U1131, 2.00000000 );
                            l_U1133 = 1;
                        }
                        else
                        {
                            SET_CAR_LIGHT_MULTIPLIER( l_U1131, 1.00000000 );
                            l_U1133 = 0;
                        }
                        l_U1136 = 0.00000000;
                    }
                }
                else
                {
                    SET_CAR_LIGHT_MULTIPLIER( l_U1131, 1.00000000 );
                    l_U1132 = 0;
                    l_U1135 = 0.00000000;
                    l_U1133 = 0;
                }
            }
            else
            {
                l_U1132 = 0;
                l_U1135 = 0.00000000;
                l_U1133 = 0;
            }
            break;
        }
    }
    return;
}

void sub_53245(unknown uParam0)
{
    int I;
    int iVar4;

    l_U924 = 0;
    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        for ( I = 0; I < 10; I++ )
        {
            if (I < l_U923)
            {
                I = l_U923;
            }
            if (l_U900[I] == 0)
            {
                if (NOT (l_U939[I] == 0))
                {
                    if (LOCATE_CAR_2D( uParam0, l_U993[I]._fU0, l_U993[I]._fU4, l_U831, l_U831, 0 ))
                    {
                        l_U925++;
                        l_U900[I]++;
                    }
                }
                else
                {
                    sub_53425( I );
                }
            }
            if (l_U900[I] == 1)
            {
                if (6 > l_U914)
                {
                    if (HAS_MODEL_LOADED( l_U939[I] ))
                    {
                        if (NOT (DOES_VEHICLE_EXIST( l_U1098[I] )))
                        {
                            if ((l_U610) || ((l_U584) || (NOT (sub_46254( l_U993[I], 5.00000000, 1120403456 )))))
                            {
                                if (l_U603)
                                {
                                    sub_46224( l_U993[I], l_U839 );
                                }
                                CREATE_CAR( l_U939[I], l_U993[I]._fU0, l_U993[I]._fU4, l_U993[I]._fU8, ref l_U1098[I], 1 );
                                SET_VEHICLE_QUATERNION( l_U1098[I], l_U780[I], l_U791[I], l_U802[I], l_U813[I] );
                                MARK_MODEL_AS_NO_LONGER_NEEDED( l_U939[I] );
                                if (IS_CAR_MODEL( l_U1098[I], sub_4710() ))
                                {
                                    SWITCH_CAR_SIREN( l_U1098[I], 1 );
                                }
                                if (IS_CAR_MODEL( l_U1098[I], sub_4681() ))
                                {
                                    CHANGE_CAR_COLOUR( l_U1098[I], 0, 0 );
                                }
                                GET_INTERIOR_FROM_CAR( l_U1098[I], ref iVar4 );
                                if (NOT (iVar4 == nil))
                                {
                                    # -NULL-0xbfc5b5( l_U1098[I] );
                                }
                                l_U925--;
                                l_U914++;
                                l_U900[I]++;
                            }
                        }
                    }
                    else
                    {
                        REQUEST_MODEL( l_U939[I] );
                    }
                }
            }
            if (l_U900[I] == 2)
            {
                if (NOT (sub_50534( l_U1098[I], uParam0 )))
                {
                    if (NOT l_U588)
                    {
                        sub_5110( l_U1098[I] );
                    }
                    else
                    {
                        DELETE_CAR( ref l_U1098[I] );
                    }
                    l_U914--;
                    sub_53425( I );
                }
            }
            l_U924++;
            if (l_U924 >= 15)
            {
                return;
            }
        }
    }
    else
    {
        sub_5232();
    }
    return;
}

void sub_53425(int iParam0)
{
    int I;

    if (iParam0 >= l_U923)
    {
        for ( I = 0; I < 10; I++ )
        {
            if (NOT (l_U900[I] == 99))
            {
                if (iParam0 == I)
                {
                    if (iParam0 < 9)
                    {
                        l_U923 = iParam0 + 1;
                    }
                }
                I = 10;
            }
        }
    }
    l_U900[iParam0] = 99;
    return;
}

void sub_54191(unknown uParam0, unknown uParam1)
{
    int I;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    float fVar13;
    float fVar14;
    boolean bVar15;
    int iVar16;
    int iVar17;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        for ( I = 0; I < 11; I++ )
        {
            if ((NOT (l_U950[I] == 0)) AND ((l_U876[I] < 3000) AND (l_U876[I] > 0)))
            {
                if (l_U888[I] == 0)
                {
                    if (NOT l_U584)
                    {
                        if (l_U834 > (l_U756[I] - (7000.00000000 * uParam1)))
                        {
                            l_U888[I]++;
                            l_U926++;
                        }
                    }
                    else
                    {
                        fVar13 = l_U834 - l_U756[I];
                        fVar13 *= l_U768[I];
                        if (fVar13 >= 0.00000000)
                        {
                            if (fVar13 < (sub_46999( l_U876[I] )))
                            {
                                l_U888[I]++;
                                l_U926++;
                            }
                            else
                            {
                                l_U888[I] = 99;
                            }
                        }
                    }
                }
                if (l_U888[I] == 1)
                {
                    if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( l_U876[I] )))
                    {
                        REQUEST_CAR_RECORDING( l_U876[I] );
                    }
                    else if (l_U950[I] == sub_4710())
                    {
                        if (HAS_MODEL_LOADED( sub_4739() ))
                        {
                            l_U888[I]++;
                        }
                        else
                        {
                            REQUEST_MODEL( sub_4739() );
                        }
                    }
                    else if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
                    {
                        l_U888[I]++;
                    }
                    else if (HAS_MODEL_LOADED( sub_4652() ))
                    {
                        l_U888[I]++;
                    }
                    else
                    {
                        REQUEST_MODEL( sub_4652() );
                    };;;;
                }
                if (l_U888[I] == 2)
                {
                    if (HAS_MODEL_LOADED( l_U950[I] ))
                    {
                        if (NOT (DOES_VEHICLE_EXIST( l_U1109[I] )))
                        {
                            bVar15 = false;
                            if (l_U950[I] == sub_4710())
                            {
                                if (HAS_MODEL_LOADED( sub_4739() ))
                                {
                                    bVar15 = true;
                                }
                                else
                                {
                                    REQUEST_MODEL( sub_4739() );
                                }
                            }
                            else if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
                            {
                                bVar15 = true;
                            }
                            else if (HAS_MODEL_LOADED( sub_4652() ))
                            {
                                bVar15 = true;
                            }
                            else
                            {
                                REQUEST_MODEL( sub_4652() );
                            };;;
                            if (bVar15)
                            {
                                if ((l_U610) || (NOT (sub_46254( l_U1024[I], 5.00000000, 1120403456 ))))
                                {
                                    CREATE_CAR( l_U950[I], l_U1024[I]._fU0, l_U1024[I]._fU4, l_U1024[I]._fU8, ref l_U1109[I], 1 );
                                    if (l_U950[I] == sub_4710())
                                    {
                                        CREATE_CHAR_INSIDE_CAR( l_U1109[I], 6, sub_4739(), ref uVar5 );
                                        SET_CHAR_RELATIONSHIP_GROUP( uVar5, 23 );
                                        MARK_MODEL_AS_NO_LONGER_NEEDED( sub_4739() );
                                    }
                                    else if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
                                    {
                                        CREATE_RANDOM_CHAR_AS_DRIVER( l_U1109[I], ref uVar5 );
                                        SET_CHAR_RANDOM_COMPONENT_VARIATION( uVar5 );
                                    }
                                    else
                                    {
                                        CREATE_CHAR_INSIDE_CAR( l_U1109[I], 26, sub_4652(), ref uVar5 );
                                        SET_CHAR_RANDOM_COMPONENT_VARIATION( uVar5 );
                                        MARK_MODEL_AS_NO_LONGER_NEEDED( sub_4652() );
                                    }
                                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( uVar5, 1 );
                                    SET_CHAR_ONLY_DAMAGED_BY_PLAYER( uVar5, 1 );
                                    SET_CHAR_SUFFERS_CRITICAL_HITS( uVar5, 0 );
                                    SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( uVar5, 0 );
                                    sub_47407( uVar5 );
                                    SET_VEHICLE_QUATERNION( l_U1109[I], l_U708[I], l_U720[I], l_U732[I], l_U744[I] );
                                    FREEZE_CAR_POSITION( l_U1109[I], 1 );
                                    MARK_MODEL_AS_NO_LONGER_NEEDED( l_U950[I] );
                                    sub_48559( l_U1109[I] );
                                    GET_INTERIOR_FROM_CAR( l_U1109[I], ref iVar16 );
                                    if (NOT (iVar16 == nil))
                                    {
                                        # -NULL-0xbfc5b5( l_U1109[I] );
                                    }
                                    l_U888[I]++;
                                    l_U926--;
                                }
                            }
                        }
                    }
                    else
                    {
                        REQUEST_MODEL( l_U950[I] );
                    }
                }
                if (l_U888[I] == 3)
                {
                    if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( l_U876[I] )))
                    {
                        REQUEST_CAR_RECORDING( l_U876[I] );
                    }
                    if (IS_VEH_DRIVEABLE( l_U1109[I] ))
                    {
                        if (l_U834 > l_U756[I])
                        {
                            if (11 > l_U913)
                            {
                                if (IS_VEH_DRIVEABLE( uParam0 ))
                                {
                                    if (IS_PLAYBACK_GOING_ON_FOR_CAR( uParam0 ))
                                    {
                                        l_U834 = FIND_TIME_POSITION_IN_RECORDING( uParam0 );
                                    }
                                }
                                fVar13 = l_U834 - l_U756[I];
                                fVar13 *= l_U768[I];
                                if (HAS_CAR_RECORDING_BEEN_LOADED( l_U876[I] ))
                                {
                                    if (fVar13 < (GET_TOTAL_DURATION_OF_CAR_RECORDING( l_U876[I] )))
                                    {
                                        GET_CAR_COORDINATES( l_U1109[I], ref uVar7._fU0, ref uVar7._fU4, ref uVar7._fU8 );
                                        GET_POSITION_OF_CAR_RECORDING_AT_TIME( l_U876[I], fVar13, ref uVar10 );
                                        if ((NOT l_U610) AND ((sub_46254( uVar10, 5.00000000, 1120403456 )) AND (NOT (sub_46254( uVar7, 5.00000000, 1120403456 )))))
                                        {
                                            l_U913++;
                                            l_U888[I]++;
                                        }
                                        else if (sub_49148( ref l_U1109[I], l_U876[I], fVar13, 1, 0, 0 ))
                                        {
                                            SET_PLAYBACK_SPEED( l_U1109[I], uParam1 * l_U768[I] );
                                            if (IS_VEH_DRIVEABLE( l_U1109[I] ))
                                            {
                                                if (l_U950[I] == sub_4710())
                                                {
                                                    SWITCH_CAR_SIREN( l_U1109[I], 1 );
                                                }
                                            }
                                            if (l_U601)
                                            {
                                                # -NULL-0xbfc99f( l_U1109[I], 1 );
                                            }
                                            else
                                            {
                                                # -NULL-0xbfc99f( l_U1109[I], 0 );
                                            }
                                            l_U913++;
                                            l_U888[I]++;
                                        }
                                    }
                                    else
                                    {
                                        l_U913++;
                                        l_U888[I]++;
                                    }
                                }
                            }
                            else
                            {
                                SCRIPT_ASSERT( "Too many set peice cars playing back at once" );
                                l_U913++;
                                l_U888[I]++;
                            }
                        }
                    }
                    else
                    {
                        l_U913++;
                        l_U888[I]++;
                    }
                }
                if (l_U888[I] == 4)
                {
                    if (IS_VEH_DRIVEABLE( l_U1109[I] ))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1109[I] ))
                        {
                            GET_DRIVER_OF_CAR( l_U1109[I], ref uVar5 );
                            if (DOES_CHAR_EXIST( uVar5 ))
                            {
                                if (NOT (IS_CHAR_INJURED( uVar5 )))
                                {
                                    if (IS_PLAYER_PLAYING( sub_3698() ))
                                    {
                                        if ((NOT l_U587) AND ((NOT l_U590) AND (IS_CHAR_TOUCHING_VEHICLE( sub_4997(), l_U1109[I] ))))
                                        {
                                            if (IS_CHAR_IN_ANY_CAR( sub_4997() ))
                                            {
                                                bVar15 = false;
                                                STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_4997(), ref uVar6 );
                                                if (NOT (sub_56347( l_U1109[I], uVar6, 45.00000000 )))
                                                {
                                                    bVar15 = true;
                                                }
                                                if (NOT bVar15)
                                                {
                                                    if (sub_50534( uVar6, l_U1109[I] ))
                                                    {
                                                        bVar15 = true;
                                                    }
                                                }
                                                if (NOT bVar15)
                                                {
                                                    GET_CAR_SPEED( uVar6, ref fVar14 );
                                                    if (fVar14 < 1.00000000)
                                                    {
                                                        bVar15 = true;
                                                    }
                                                }
                                                if (NOT bVar15)
                                                {
                                                    if (sub_56632( uVar6, l_U1109[I], 15.00000000 ))
                                                    {
                                                        bVar15 = true;
                                                    }
                                                }
                                                if (bVar15)
                                                {
                                                    sub_50765( l_U1109[I] );
                                                    l_U888[I]++;
                                                }
                                            }
                                        }
                                        else
                                        {
                                            SET_PLAYBACK_SPEED( l_U1109[I], uParam1 * l_U768[I] );
                                            if (l_U601)
                                            {
                                                # -NULL-0xbfc99f( l_U1109[I], 1 );
                                            }
                                            else
                                            {
                                                # -NULL-0xbfc99f( l_U1109[I], 0 );
                                            }
                                        }
                                    }
                                }
                                else
                                {
                                    STOP_PLAYBACK_RECORDED_CAR( l_U1109[I] );
                                }
                            }
                            else
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U1109[I] );
                            }
                        }
                        else
                        {
                            l_U888[I]++;
                        }
                    }
                    else
                    {
                        l_U888[I]++;
                    }
                }
                if (l_U888[I] == 5)
                {
                    if (IS_VEH_DRIVEABLE( l_U1109[I] ))
                    {
                        if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1109[I] )))
                        {
                            l_U888[I]++;
                        }
                        else
                        {
                            GET_DRIVER_OF_CAR( l_U1109[I], ref uVar5 );
                            if (DOES_CHAR_EXIST( uVar5 ))
                            {
                                if (NOT (IS_CHAR_INJURED( uVar5 )))
                                {
                                    SET_PLAYBACK_SPEED( l_U1109[I], uParam1 * l_U768[I] );
                                    if (l_U601)
                                    {
                                        # -NULL-0xbfc99f( l_U1109[I], 1 );
                                    }
                                    else
                                    {
                                        # -NULL-0xbfc99f( l_U1109[I], 0 );
                                    }
                                }
                                else
                                {
                                    STOP_PLAYBACK_RECORDED_CAR( l_U1109[I] );
                                }
                            }
                            else
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U1109[I] );
                            }
                            if (HAS_CAR_RECORDING_BEEN_LOADED( l_U876[I] ))
                            {
                                if (l_U834 > (l_U756[I] + (GET_TOTAL_DURATION_OF_CAR_RECORDING( l_U876[I] ))))
                                {
                                    STOP_PLAYBACK_RECORDED_CAR( l_U1109[I] );
                                }
                            }
                            else
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U1109[I] );
                            }
                        }
                    }
                    else
                    {
                        l_U888[I]++;
                    }
                }
                if (l_U888[I] == 6)
                {
                    if (NOT (l_U1109[I] == l_U1130))
                    {
                        if (IS_VEH_DRIVEABLE( l_U1109[I] ))
                        {
                            GET_DRIVER_OF_CAR( l_U1109[I], ref uVar5 );
                            if (DOES_CHAR_EXIST( uVar5 ))
                            {
                                if (NOT (IS_CHAR_INJURED( uVar5 )))
                                {
                                    GET_SCRIPT_TASK_STATUS( uVar5, 29, ref iVar17 );
                                    if (iVar17 == 7)
                                    {
                                        GET_CAR_SPEED( l_U1109[I], ref fVar14 );
                                        if (fVar14 < 8.00000000)
                                        {
                                            fVar14 = 8.00000000;
                                        }
                                        SET_DRIVE_TASK_CRUISE_SPEED( uVar5, fVar14 );
                                    }
                                }
                            }
                        }
                        if (NOT l_U588)
                        {
                            sub_5110( l_U1109[I] );
                        }
                        else if (DOES_VEHICLE_EXIST( l_U1109[I] ))
                        {
                            DELETE_CAR( ref l_U1109[I] );
                        }
                    }
                    l_U913--;
                    l_U888[I] = 99;
                }
            }
        }
    }
    else
    {
        sub_5414();
    }
    return;
}

int sub_56347(unknown uParam0, unknown uParam1, float fParam2)
{
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    float fVar11;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_SPEED_VECTOR( uParam0, ref uVar5, 0 );
    }
    else
    {
        return 0;
    }
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_CAR_SPEED_VECTOR( uParam1, ref uVar8, 0 );
    }
    else
    {
        return 0;
    }
    uVar5._fU8 = 0.00000000;
    uVar8._fU8 = 0.00000000;
    fVar11 = sub_43605( ref uVar5, ref uVar8 );
    if (fVar11 < 0.00000000)
    {
        return 0;
    }
    GET_ANGLE_BETWEEN_2D_VECTORS( uVar5._fU0, uVar5._fU4, uVar8._fU0, uVar8._fU4, ref fVar11 );
    if (NOT (fVar11 < fParam2))
    {
        return 0;
    }
    return 1;
}

int sub_56632(unknown uParam0, unknown uParam1, float fParam2)
{
    unknown uVar5;
    unknown uVar6;

    if (NOT (IS_CAR_DEAD( uParam0 )))
    {
        GET_CAR_SPEED( uParam0, ref uVar5 );
    }
    if (NOT (IS_CAR_DEAD( uParam1 )))
    {
        GET_CAR_SPEED( uParam1, ref uVar6 );
    }
    if (((uVar5 - uVar6) < (fParam2 * -1.00000000)) || ((uVar5 - uVar6) > fParam2))
    {
        return 1;
    }
    return 0;
}

int sub_57915(unknown uParam0, unknown uParam1)
{
    if (NOT l_U613)
    {
        l_U584 = 1;
        sub_5632();
        if (IS_VEH_DRIVEABLE( (uParam0^) ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( (uParam0^) ))
            {
                STOP_PLAYBACK_RECORDED_CAR( (uParam0^) );
                FIX_CAR( (uParam0^) );
            }
            if (NOT (l_U920 == -1))
            {
                while (NOT (sub_49148( uParam0, l_U920, uParam1, 1, 0, 0 )))
                {
                    WAIT( 0 );
                }
                if (NOT l_U595)
                {
                    l_U587 = 1;
                    l_U837 = 0.00000000;
                    l_U921 = 0;
                    l_U923 = 0;
                    l_U911 = 0;
                    l_U913 = 0;
                    l_U914 = 0;
                    l_U925 = 0;
                    l_U926 = 0;
                    l_U927 = 0;
                }
            }
        }
        l_U613 = 1;
    }
    else if (IS_VEH_DRIVEABLE( (uParam0^) ))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( (uParam0^) ))
        {
            SET_PLAYBACK_SPEED( (uParam0^), (1.00000000 * l_U835) * l_U837 );
            sub_49148( uParam0, l_U920, uParam1, 1, 0, 0 );
        }
    }
    l_U834 = uParam1;
    sub_54191( (uParam0^), (1.00000000 * l_U835) * l_U837 );
    sub_46727( (uParam0^), (1.00000000 * l_U835) * l_U837 );
    if ((l_U927 == 0) AND ((l_U926 == 0) AND (l_U925 == 0)))
    {
        l_U587 = 0;
        l_U584 = 0;
        l_U613 = 0;
        return 1;
    }
    return 0;
}

void sub_58601(unknown uParam0, int iParam1, int iParam2)
{
    unknown uVar5;

    if (IS_VEH_DRIVEABLE( (uParam0^) ))
    {
        GET_DRIVER_OF_CAR( (uParam0^), ref uVar5 );
        if (DOES_CHAR_EXIST( uVar5 ))
        {
            DELETE_CHAR( ref uVar5 );
            CREATE_CHAR_INSIDE_CAR( (uParam0^), 26, ref iParam1->_fU0->_fU4, (iParam1 + 0) + 0 );
            SET_CHAR_RANDOM_COMPONENT_VARIATION( ref iParam1->_fU0->_fU0 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( ref iParam1->_fU0->_fU0, 1 );
            SET_CHAR_SUFFERS_CRITICAL_HITS( ref iParam1->_fU0->_fU0, 0 );
            SET_CHAR_IS_TARGET_PRIORITY( ref iParam1->_fU0->_fU0, 1 );
            sub_34712( (iParam1 + 0) + 0 );
            SET_CHAR_HEALTH( ref iParam1->_fU0->_fU0, 175 );
            CREATE_CHAR_AS_PASSENGER( (uParam0^), 26, ref iParam1->_fU48->_fU4, 0, (iParam1 + 48) + 0 );
            SET_CHAR_RANDOM_COMPONENT_VARIATION( ref iParam1->_fU48->_fU0 );
            GIVE_WEAPON_TO_CHAR( ref iParam1->_fU48->_fU0, 13, 30000, 0 );
            SET_CHAR_SUFFERS_CRITICAL_HITS( ref iParam1->_fU48->_fU0, 0 );
            SET_CHAR_IS_TARGET_PRIORITY( ref iParam1->_fU48->_fU0, 1 );
            sub_34712( (iParam1 + 48) + 0 );
            SET_CHAR_HEALTH( ref iParam1->_fU48->_fU0, 175 );
            if (iParam2 == 3)
            {
                SET_CHAR_ONLY_DAMAGED_BY_PLAYER( ref iParam1->_fU0->_fU0, 1 );
                SET_CHAR_ONLY_DAMAGED_BY_PLAYER( ref iParam1->_fU48->_fU0, 1 );
            }
            if (iParam2 == 2)
            {
                SET_CHAR_ONLY_DAMAGED_BY_PLAYER( ref iParam1->_fU0->_fU0, 1 );
                SET_CHAR_ONLY_DAMAGED_BY_PLAYER( ref iParam1->_fU48->_fU0, 1 );
            }
            l_U1731[iParam2] = 1;
        }
    }
    return;
}

void sub_60040(unknown uParam0, int iParam1)
{
    if (NOT (IS_CHAR_INJURED( (uParam0^) )))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( (uParam0^), 1 );
        SET_COMBAT_DECISION_MAKER( (uParam0^), l_U2014 );
        SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( (uParam0^), 0 );
        SET_CHAR_WILL_USE_COVER( (uParam0^), 0 );
        if (iParam1 == 1)
        {
            TASK_DRIVE_BY( (uParam0^), 0, l_U1312._fU0, 0.00000000, 0.00000000, 0.00000000, 300.00000000, 1, 1, 10 );
        }
        else
        {
            TASK_DRIVE_BY( (uParam0^), 0, l_U1312._fU0, 0.00000000, 0.00000000, 0.00000000, 300.00000000, 0, 1, 10 );
        }
        SET_CHAR_ACCURACY( (uParam0^), 10 );
        SET_CHAR_SHOOT_RATE( (uParam0^), 10 );
        SET_SENSE_RANGE( (uParam0^), 250.00000000 );
    }
    return;
}

void sub_60601(float fParam0)
{
    for ( l_U1820 = 0; l_U1820 <= 0; l_U1820++ )
    {
        if ((sub_60645( ref l_U1360[l_U1820]._fU0._fU0 )) > fParam0)
        {
            if (DOES_BLIP_EXIST( l_U1360[l_U1820]._fU0._fU8 ))
            {
                REMOVE_BLIP( l_U1360[l_U1820]._fU0._fU8 );
            }
            MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U1360[l_U1820]._fU112._fU0 );
            if (NOT (IS_CHAR_INJURED( l_U1360[l_U1820]._fU64._fU0 )))
            {
                if (IS_VEH_DRIVEABLE( l_U1360[l_U1820]._fU0._fU0 ))
                {
                    CLEAR_CHAR_TASKS( l_U1360[l_U1820]._fU64._fU0 );
                    SET_CHAR_KEEP_TASK( l_U1360[l_U1820]._fU64._fU0, 1 );
                    TASK_CAR_MISSION_PED_TARGET( l_U1360[l_U1820]._fU64._fU0, l_U1360[l_U1820]._fU0._fU0, sub_4997(), 8, 40.00000000, 2, 200, -1 );
                    MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U1360[l_U1820]._fU64._fU0 );
                    MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U1360[l_U1820]._fU0._fU0 );
                }
                else
                {
                    MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U1360[l_U1820]._fU64._fU0 );
                    MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U1360[l_U1820]._fU0._fU0 );
                }
            }
            else
            {
                MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U1360[l_U1820]._fU64._fU0 );
                MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U1360[l_U1820]._fU0._fU0 );
            }
        }
    }
    for ( l_U1820 = 0; l_U1820 <= 3; l_U1820++ )
    {
        if ((sub_60645( ref l_U1109[l_U1820] )) > fParam0)
        {
            if (DOES_BLIP_EXIST( l_U1959[l_U1820] ))
            {
                REMOVE_BLIP( l_U1959[l_U1820] );
            }
            MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U1199[l_U1820]._fU48._fU0 );
            if (NOT (IS_CHAR_INJURED( l_U1199[l_U1820]._fU0._fU0 )))
            {
                if (IS_VEH_DRIVEABLE( l_U1109[l_U1820] ))
                {
                    CLEAR_CHAR_TASKS( l_U1199[l_U1820]._fU0._fU0 );
                    SET_CHAR_KEEP_TASK( l_U1199[l_U1820]._fU0._fU0, 1 );
                    TASK_CAR_MISSION_PED_TARGET( l_U1199[l_U1820]._fU0._fU0, l_U1109[l_U1820], sub_4997(), 8, 40.00000000, 2, 200, -1 );
                    MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U1199[l_U1820]._fU0._fU0 );
                    MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U1109[l_U1820] );
                }
                else
                {
                    MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U1199[l_U1820]._fU0._fU0 );
                    MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U1109[l_U1820] );
                }
            }
            else
            {
                MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U1199[l_U1820]._fU0._fU0 );
                MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U1109[l_U1820] );
            }
        }
    }
    return;
}

float sub_60645(unknown uParam0)
{
    vector vVar3;
    vector vVar6;
    float Result;

    vVar3 = {0.00000000, 0.00000000, 0.00000000};
    vVar6 = {0.00000000, 0.00000000, 0.00000000};
    Result = 0.00000000;
    if (NOT (IS_CAR_DEAD( (uParam0^) )))
    {
        GET_CHAR_COORDINATES( sub_4997(), ref vVar3.x, ref vVar3.y, ref vVar3.z );
        GET_CAR_COORDINATES( (uParam0^), ref vVar6.x, ref vVar6.y, ref vVar6.z );
        GET_DISTANCE_BETWEEN_COORDS_3D( vVar3.x, vVar3.y, vVar3.z, vVar6.x, vVar6.y, vVar6.z, ref Result );
        return Result;
    }
    return 22.22000000;
}

void sub_61666()
{
    for ( l_U1820 = 0; l_U1820 <= 0; l_U1820++ )
    {
        if (DOES_BLIP_EXIST( l_U1360[l_U1820]._fU0._fU8 ))
        {
            if (NOT (IS_CHAR_INJURED( l_U1360[l_U1820]._fU64._fU0 )))
            {
                if (IS_VEH_DRIVEABLE( l_U1360[l_U1820]._fU0._fU0 ))
                {
                    CLEAR_CHAR_TASKS( l_U1360[l_U1820]._fU64._fU0 );
                    TASK_CAR_MISSION( l_U1360[l_U1820]._fU64._fU0, l_U1360[l_U1820]._fU0._fU0, l_U1312._fU0, 9, 10.00000000, 2, 300, -1 );
                }
            }
        }
    }
    for ( l_U1820 = 0; l_U1820 <= 3; l_U1820++ )
    {
        if (DOES_BLIP_EXIST( l_U1959[l_U1820] ))
        {
            if (NOT (IS_CHAR_INJURED( l_U1199[l_U1820]._fU0._fU0 )))
            {
                if (IS_VEH_DRIVEABLE( l_U1109[l_U1820] ))
                {
                    CLEAR_CHAR_TASKS( l_U1199[l_U1820]._fU0._fU0 );
                    TASK_CAR_MISSION( l_U1199[l_U1820]._fU0._fU0, l_U1109[l_U1820], l_U1312._fU0, 9, 10.00000000, 2, 300, -1 );
                }
            }
        }
    }
    return;
}

void sub_62259()
{
    l_U1854 = sub_39990( sub_4997() );
    PRINTINT( l_U1854 );
    PRINTNL();
    if (l_U1854 != l_U1853)
    {
        sub_62318();
    }
    if (NOT (IS_CHAR_INJURED( l_U1630._fU0._fU0 )))
    {
        PRINTSTRING( "get_script_task_status" );
        PRINTNL();
        GET_SCRIPT_TASK_STATUS( l_U1630._fU0._fU0, 29, ref l_U1630._fU0._fU44 );
        if (l_U1630._fU0._fU44 == 7)
        {
            if (NOT l_U1802)
            {
                sub_62945( ref l_U1908[1], ref l_U1908[0] );
                l_U1802 = 1;
            }
            else
            {
                sub_62945( ref l_U1908[0], ref l_U1908[1] );
                l_U1802 = 0;
            }
        }
    }
    l_U1853 = sub_39990( sub_4997() );
    if (DOES_VEHICLE_EXIST( l_U1296._fU0 ))
    {
        sub_63391( l_U1296._fU0 );
        l_U1853 = sub_39990( sub_4997() );
        l_U1854 = sub_39990( sub_4997() );
        sub_63626( ref l_U1933, l_U1854 );
    }
    return;
}

void sub_62318()
{
    switch (l_U1854)
    {
        case -1:
        GET_CHAR_COORDINATES( sub_4997(), ref l_U1936._fU0, ref l_U1936._fU4, ref l_U1936._fU8 );
        if (l_U1936._fU0 < 565.00000000)
        {
            l_U1908[0] = {605.14250000, 1165.13900000, 20.00000000};
            l_U1908[1] = {607.00400000, 1140.36000000, 20.00000000};
        }
        else if (l_U1936._fU0 > 730.00000000)
        {
            l_U1908[0] = {637.15420000, 1193.95600000, 20.00000000};
            l_U1908[1] = {608.06810000, 1169.16800000, 20.00000000};
        }
        break;
        case 2:
        case 3:
        case 4:
        case 7:
        case 8:
        case 9:
        l_U1908[0] = {637.15420000, 1193.95600000, 20.00000000};
        l_U1908[1] = {608.06810000, 1169.16800000, 20.00000000};
        break;
        case 0:
        case 1:
        case 5:
        case 6:
        case 10:
        case 11:
        case 12:
        case 13:
        case 14:
        l_U1908[0] = {647.56260000, 1188.15800000, 20.00000000};
        l_U1908[1] = {610.64500000, 1186.77700000, 20.00000000};
        break;
        case 15:
        case 16:
        case 20:
        case 21:
        l_U1908[0] = {647.25960000, 1137.08400000, 20.00000000};
        l_U1908[1] = {612.69170000, 1138.40400000, 20.00000000};
        break;
        case 17:
        case 18:
        case 19:
        case 22:
        case 23:
        case 24:
        l_U1908[0] = {610.21970000, 1163.45300000, 20.00000000};
        l_U1908[1] = {647.25960000, 1137.08400000, 20.00000000};
        break;
    }
    sub_62945( ref l_U1908[0], ref l_U1908[1] );
    return;
}

void sub_62945(int iParam0, int iParam1)
{
    if (NOT (IS_CHAR_INJURED( l_U1630._fU0._fU0 )))
    {
        TASK_FLUSH_ROUTE();
        TASK_EXTEND_ROUTE( iParam0->_fU0, iParam0->_fU4, iParam0->_fU8 );
        TASK_EXTEND_ROUTE( iParam1->_fU0, iParam1->_fU4, iParam1->_fU8 );
        CLEAR_CHAR_TASKS( l_U1630._fU0._fU0 );
        OPEN_SEQUENCE_TASK( ref l_U1630._fU0._fU12 );
        TASK_HELI_MISSION( 0, l_U1630._fU148._fU0, 0, 0, iParam1->_fU0, iParam1->_fU4, iParam1->_fU8, 4, 20.00000000, 2, -1, 25, 18 );
        CLOSE_SEQUENCE_TASK( l_U1630._fU0._fU12 );
        TASK_PERFORM_SEQUENCE( l_U1630._fU0._fU0, l_U1630._fU0._fU12 );
        CLEAR_SEQUENCE_TASK( l_U1630._fU0._fU12 );
    }
    return;
}

int sub_63391(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if (NOT (IS_CAR_DEAD( uParam0 )))
    {
        GET_CAR_COORDINATES( uParam0, ref uVar3._fU0, ref uVar3._fU4, ref uVar3._fU8 );
        if ((uVar3._fU0 <= l_U196._fU0._fU8) AND (uVar3._fU0 >= l_U196._fU0._fU4))
        {
            if ((uVar3._fU4 <= l_U196._fU16._fU8) AND (uVar3._fU4 >= l_U196._fU16._fU4))
            {
                return (FLOOR( (uVar3._fU0 - l_U196._fU0._fU4) / l_U196._fU0._fU12 )) + ((FLOOR( (uVar3._fU4 - l_U196._fU16._fU4) / l_U196._fU16._fU12 )) * l_U196._fU0._fU0);
            }
        }
    }
    return -1;
}

void sub_63626(int iParam0, int iParam1)
{
    if (iParam1 != -1)
    {
        iParam0->_fU0 = (l_U196._fU0._fU4 + ((TO_FLOAT( iParam1 mod l_U196._fU0._fU0 )) * l_U196._fU0._fU12)) + (l_U196._fU0._fU12 * 0.50000000);
        iParam0->_fU4 = (l_U196._fU16._fU4 + ((TO_FLOAT( iParam1 / l_U196._fU0._fU0 )) * l_U196._fU16._fU12)) + (l_U196._fU16._fU12 * 0.50000000);
        iParam0->_fU8 = l_U196._fU32;
    }
    return;
}

void sub_65179(boolean bParam0)
{
    if (IS_VEH_DRIVEABLE( l_U1296._fU0 ))
    {
        if (NOT bParam0)
        {
            if (NOT (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
            {
                if (NOT l_U1759)
                {
                    ANCHOR_BOAT( l_U1296._fU0, 1 );
                    l_U1759 = 1;
                }
            }
            else if (l_U1759)
            {
                ANCHOR_BOAT( l_U1296._fU0, 0 );
                l_U1759 = 0;
            }
        }
        else
        {
            ANCHOR_BOAT( l_U1296._fU0, 0 );
        }
    }
    return;
}

void sub_65620()
{
    if (g_U65007 < 2)
    {
        g_U65007++;
    }
    g_U65008++;
    if (g_U65008 > 1)
    {
        SET_PLAYER_MOOD_PISSED_OFF( sub_3698(), 150 );
        SAY_AMBIENT_SPEECH( sub_4997(), "MISSION_FAIL_RAGE", 0, 0, 0 );
    }
    sub_65739();
    sub_65977();
    sub_3668();
    return;
}

void sub_65739()
{
    if (l_U1746)
    {
        if (IS_VEH_DRIVEABLE( l_U1630._fU148._fU0 ))
        {
            if (NOT (IS_CHAR_INJURED( l_U1630._fU0._fU0 )))
            {
                SET_CHAR_KEEP_TASK( l_U1630._fU0._fU0, 1 );
                TASK_FLUSH_ROUTE();
                TASK_EXTEND_ROUTE( 0.00000000, 0.00000000, 40.00000000 );
                CLEAR_CHAR_TASKS( l_U1630._fU0._fU0 );
                OPEN_SEQUENCE_TASK( ref l_U1630._fU0._fU12 );
                TASK_DRIVE_POINT_ROUTE( 0, l_U1630._fU148._fU0, l_U1630._fU148._fU60 );
                CLOSE_SEQUENCE_TASK( l_U1630._fU0._fU12 );
                TASK_PERFORM_SEQUENCE( l_U1630._fU0._fU0, l_U1630._fU0._fU12 );
                CLEAR_SEQUENCE_TASK( l_U1630._fU0._fU12 );
            }
        }
    }
    return;
}

void sub_65977()
{
    sub_65986();
    return;
}

void sub_65986()
{
    int iVar2;

    iVar2 = 16;
    sub_66000( iVar2 );
    sub_2757( iVar2 );
    return;
}

void sub_66000(unknown uParam0)
{
    if (g_U10981[uParam0]._fU12)
    {
        return;
    }
    SET_PLAYER_MOOD_PISSED_OFF( sub_3698(), 150 );
    CLEAR_HELP();
    sub_1581( uParam0 );
    return;
}

void sub_66121()
{
    if (NOT l_U1762)
    {
        if (((sub_60645( ref l_U1312._fU0 )) < 65) AND ((sub_60645( ref l_U1312._fU0 )) > 60))
        {
            l_U1846 = 25;
            l_U1847 = 25;
        }
        else if (((sub_60645( ref l_U1312._fU0 )) < 70) AND ((sub_60645( ref l_U1312._fU0 )) > 65))
        {
            l_U1846 = 40;
            l_U1847 = 40;
        }
        else if (((sub_60645( ref l_U1312._fU0 )) < 75) AND ((sub_60645( ref l_U1312._fU0 )) > 70))
        {
            l_U1846 = 55;
            l_U1847 = 55;
        }
        else if (((sub_60645( ref l_U1312._fU0 )) < 80) AND ((sub_60645( ref l_U1312._fU0 )) > 75))
        {
            l_U1846 = 65;
            l_U1847 = 65;
        }
        else if (((sub_60645( ref l_U1312._fU0 )) < 85) AND ((sub_60645( ref l_U1312._fU0 )) > 80))
        {
            l_U1846 = 75;
            l_U1847 = 75;
        }
        else if (((sub_60645( ref l_U1312._fU0 )) < 90) AND ((sub_60645( ref l_U1312._fU0 )) > 85))
        {
            l_U1846 = 85;
            l_U1847 = 85;
        }
        else if ((sub_60645( ref l_U1312._fU0 )) > 90)
        {
            l_U1846 = 90;
            l_U1847 = 90;
        };;;;;;;
    }
    else
    {
        l_U1846 = 20;
        l_U1847 = 20;
    }
    for ( l_U1820 = 0; l_U1820 <= 3; l_U1820++ )
    {
        if (DOES_CHAR_EXIST( l_U1199[l_U1820]._fU48._fU0 ))
        {
            if (NOT (IS_CHAR_INJURED( l_U1199[l_U1820]._fU48._fU0 )))
            {
                sub_66649( ref l_U1199[l_U1820]._fU48._fU0, ref l_U1846, ref l_U1847 );
            }
        }
    }
    for ( l_U1820 = 0; l_U1820 <= 0; l_U1820++ )
    {
        if (DOES_CHAR_EXIST( l_U1360[l_U1820]._fU112._fU0 ))
        {
            if (NOT (IS_CHAR_INJURED( l_U1360[l_U1820]._fU112._fU0 )))
            {
                sub_66649( ref l_U1360[l_U1820]._fU112._fU0, ref l_U1846, ref l_U1847 );
            }
        }
    }
    return;
}

void sub_66649(unknown uParam0, unknown uParam1, unknown uParam2)
{
    SET_CHAR_ACCURACY( (uParam0^), (uParam1^) );
    SET_CHAR_SHOOT_RATE( (uParam0^), (uParam1^) );
    return;
}

void sub_66865()
{
    sub_22718();
    if (IS_VEH_DRIVEABLE( l_U1312._fU0 ))
    {
        if (IS_VEH_DRIVEABLE( l_U1296._fU0 ))
        {
            if (NOT (IS_CHAR_INJURED( l_U1162._fU0 )))
            {
                switch (l_U1143)
                {
                    case 0:
                    if (IS_VEH_DRIVEABLE( l_U1296._fU0 ))
                    {
                        GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( l_U1312._fU0, 0.00000000, 8.00000000, 0.00000000, ref l_U1927._fU0, ref l_U1927._fU4, ref l_U1927._fU8 );
                        if (LOCATE_CAR_3D( l_U1296._fU0, l_U1927._fU0, l_U1927._fU4, l_U1927._fU8, 6.00000000, 8.00000000, 10.00000000, 0 ))
                        {
                            if (NOT l_U1761)
                            {
                                CLEAR_PRINTS();
                                PRINT( "DM2_GOD4", 7500, 1 );
                                GET_GAME_TIMER( ref l_U1829 );
                                l_U1761 = 1;
                            }
                            else
                            {
                                sub_67149();
                            }
                        }
                        else
                        {
                            sub_67149();
                        }
                    }
                    break;
                    case 1:
                    if (NOT l_U1818)
                    {
                        l_U1147 = 8;
                        l_U1818 = 1;
                    }
                    sub_31203( ref l_U1296._fU0, ref l_U1296._fU8, ref l_U1162._fU0, ref l_U1162._fU8, 1, "DM2_GOD5" );
                    if (NOT l_U1807)
                    {
                        if (LOCATE_CAR_3D( l_U1312._fU0, 1017.79900000, 1496.21100000, 0.00000000, 15.00000000, 15.00000000, 10.00000000, 0 ))
                        {
                            if ((sub_60645( ref l_U1312._fU0 )) < 35.00000000)
                            {
                                if (sub_12199( 1, 1 ))
                                {
                                    FORCE_WIND( 0.00000000 );
                                    SET_PLAYER_CONTROL( sub_3698(), 0 );
                                    sub_3895();
                                    l_U1137 = 8;
                                    break;
                                }
                            }
                            l_U1807 = 1;
                        }
                    }
                    else if (NOT l_U1819)
                    {
                        SET_CAR_FORWARD_SPEED( l_U1312._fU0, 0.00000000 );
                        ANCHOR_BOAT( l_U1312._fU0, 1 );
                        l_U1819 = 1;
                    }
                    if (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 ))
                    {
                        if ((sub_60645( ref l_U1312._fU0 )) < 35.00000000)
                        {
                            if (sub_12199( 1, 1 ))
                            {
                                FORCE_WIND( 0.00000000 );
                                SET_PLAYER_CONTROL( sub_3698(), 0 );
                                sub_3895();
                                l_U1137 = 8;
                            }
                        }
                    }
                    if (l_U1778)
                    {
                        if (sub_9790( ref l_U1829, 7500 ))
                        {
                            if ((sub_68063( ref l_U1312._fU0, ref l_U1296._fU0 )) > 125.00000000)
                            {
                                ANCHOR_BOAT( l_U1312._fU0, 1 );
                                CLEAR_CHAR_TASKS( l_U1162._fU0 );
                                l_U1776 = 1;
                                l_U1778 = 0;
                                l_U1147 = 11;
                            }
                        }
                    }
                    if ((NOT l_U1807) AND (l_U1776))
                    {
                        if ((sub_68063( ref l_U1312._fU0, ref l_U1296._fU0 )) < 50.00000000)
                        {
                            sub_67407();
                            l_U1776 = 0;
                        }
                    }
                    break;
                }
            }
            else
            {
                sub_65620();
            }
        }
        else
        {
            sub_65620();
        }
    }
    else
    {
        sub_65620();
    }
    return;
}

void sub_67149()
{
    if (sub_9790( ref l_U1829, 7500 ))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1312._fU0 ))
        {
            STOP_PLAYBACK_RECORDED_CAR( l_U1312._fU0 );
        }
        SET_CHAR_PROOFS( l_U1150._fU0, 0, 0, 0, 0, 0 );
        SET_CHAR_ONLY_DAMAGED_BY_PLAYER( l_U1150._fU0, 0 );
        if (NOT (IS_CHAR_SITTING_IN_CAR( sub_4997(), l_U1296._fU0 )))
        {
            if (DOES_BLIP_EXIST( l_U1162._fU8 ))
            {
                REMOVE_BLIP( l_U1162._fU8 );
            }
            if (NOT (DOES_BLIP_EXIST( l_U1296._fU8 )))
            {
                ADD_BLIP_FOR_CAR( l_U1296._fU0, ref l_U1296._fU8 );
                SET_BLIP_AS_FRIENDLY( l_U1296._fU8, 1 );
            }
        }
        GET_GAME_TIMER( ref l_U1829 );
        CLEAR_CHAR_TASKS( l_U1150._fU0 );
        TASK_LOOK_AT_CHAR( l_U1150._fU0, sub_4997(), -2, 0 );
        l_U1147 = 10;
        sub_67407();
        l_U1143 = 1;
    }
    return;
}

void sub_67407()
{
    if (NOT (IS_CHAR_INJURED( l_U1162._fU0 )))
    {
        ANCHOR_BOAT( l_U1312._fU0, 0 );
        if (IS_PED_ATTACHED_TO_ANY_CAR( l_U1162._fU0 ))
        {
            DETACH_PED( l_U1162._fU0, 1 );
            WARP_CHAR_INTO_CAR( l_U1162._fU0, l_U1312._fU0 );
        }
        TASK_FLUSH_ROUTE();
        TASK_EXTEND_ROUTE( 1017.79900000, 1496.21100000, 0.00000000 );
        CLEAR_CHAR_TASKS( l_U1162._fU0 );
        OPEN_SEQUENCE_TASK( ref l_U1162._fU12 );
        TASK_DRIVE_POINT_ROUTE( 0, l_U1312._fU0, 60.00000000 );
        CLOSE_SEQUENCE_TASK( l_U1162._fU12 );
        TASK_PERFORM_SEQUENCE( l_U1162._fU0, l_U1162._fU12 );
        CLEAR_SEQUENCE_TASK( l_U1162._fU12 );
    }
    return;
}

float sub_68063(unknown uParam0, unknown uParam1)
{
    vector vVar4;
    vector vVar7;
    float Result;

    vVar4 = {0.00000000, 0.00000000, 0.00000000};
    vVar7 = {0.00000000, 0.00000000, 0.00000000};
    Result = 0.00000000;
    if ((NOT (IS_CAR_DEAD( (uParam1^) ))) AND (NOT (IS_CAR_DEAD( (uParam0^) ))))
    {
        GET_CAR_COORDINATES( (uParam0^), ref vVar4.x, ref vVar4.y, ref vVar4.z );
        GET_CAR_COORDINATES( (uParam1^), ref vVar7.x, ref vVar7.y, ref vVar7.z );
        GET_DISTANCE_BETWEEN_COORDS_3D( vVar4.x, vVar4.y, vVar4.z, vVar7.x, vVar7.y, vVar7.z, ref Result );
        return Result;
    }
    return 22.22000000;
}

void sub_68396()
{
    unknown uVar2;

    if (NOT (l_U1824[2] == 1))
    {
        if (l_U1146 != 0)
        {
            if (sub_15664( ref l_U1832, 1000 ))
            {
                l_U1824[2] = 1;
                l_U1146 = 13;
            }
        }
    }
    switch (l_U1146)
    {
        case 0:
        if (NOT l_U1808)
        {
            sub_68612( ref l_U1150._fU0, ref l_U1296._fU0 );
            sub_68612( ref l_U1162._fU0, ref l_U1312._fU0 );
            l_U1808 = 1;
        }
        if (sub_12133( 1 ))
        {
            REQUEST_MODEL( l_U1174[0]._fU4 );
            REQUEST_MODEL( l_U1174[1]._fU4 );
            REQUEST_MODEL( l_U1698._fU8 );
            REQUEST_MODEL( l_U1726 );
            REQUEST_MODEL( l_U1689._fU8 );
            SUPPRESS_CAR_MODEL( l_U1689._fU8 );
            REQUEST_CAR_RECORDING( 839 );
            REQUEST_CAR_RECORDING( 840 );
            LOAD_ALL_OBJECTS_NOW();
            if (NOT (IS_CHAR_INJURED( l_U1162._fU0 )))
            {
                HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( l_U1162._fU0, 1 );
            }
            BEGIN_CAM_COMMANDS( ref l_U1821 );
            ACTIVATE_SCRIPTED_CAMS( 0, 0 );
            CLEAR_CHAR_TASKS( sub_4997() );
            if (NOT (DOES_CHAR_EXIST( l_U1174[0]._fU0 )))
            {
                CREATE_CHAR( 26, -19263344, l_U1174[0]._fU16._fU0, l_U1174[0]._fU16._fU4, l_U1174[0]._fU16._fU8, ref l_U1174[0]._fU0, 1 );
                SET_CHAR_HEADING( l_U1174[0]._fU0, l_U1174[0]._fU28 );
                SET_CHAR_RANDOM_COMPONENT_VARIATION( l_U1174[0]._fU0 );
            }
            if (NOT (DOES_CHAR_EXIST( l_U1174[1]._fU0 )))
            {
                CREATE_CHAR( 26, 1844702918, l_U1174[1]._fU16._fU0, l_U1174[1]._fU16._fU4, l_U1174[1]._fU16._fU8, ref l_U1174[1]._fU0, 1 );
                SET_CHAR_HEADING( l_U1174[1]._fU0, l_U1174[1]._fU28 );
                SET_CHAR_RANDOM_COMPONENT_VARIATION( l_U1174[1]._fU0 );
            }
            if (NOT (DOES_VEHICLE_EXIST( l_U1698._fU0 )))
            {
                CREATE_CAR( l_U1698._fU8, l_U1698._fU12._fU0, l_U1698._fU12._fU4, l_U1698._fU12._fU8, ref l_U1698._fU0, 1 );
                SET_CAR_HEADING( l_U1698._fU0, l_U1698._fU24 );
                CHANGE_CAR_COLOUR( l_U1698._fU0, l_U1698._fU28, l_U1698._fU32 );
                TURN_OFF_VEHICLE_EXTRA( l_U1698._fU0, 1, 1 );
                TURN_OFF_VEHICLE_EXTRA( l_U1698._fU0, 2, 1 );
                TURN_OFF_VEHICLE_EXTRA( l_U1698._fU0, 3, 0 );
                TURN_OFF_VEHICLE_EXTRA( l_U1698._fU0, 4, 0 );
            }
            if ((NOT (IS_CAR_DEAD( l_U1296._fU0 ))) AND ((NOT (IS_CAR_DEAD( l_U1312._fU0 ))) AND (NOT (IS_CHAR_DEAD( l_U1150._fU0 )))))
            {
                ANCHOR_BOAT( l_U1312._fU0, 0 );
                if (IS_PED_ATTACHED_TO_ANY_CAR( l_U1162._fU0 ))
                {
                    DETACH_PED( l_U1162._fU0, 1 );
                }
                CLEAR_CHAR_TASKS_IMMEDIATELY( l_U1162._fU0 );
                WARP_CHAR_INTO_CAR( l_U1162._fU0, l_U1312._fU0 );
                TASK_LOOK_AT_CHAR( l_U1162._fU0, sub_4997(), -2, 0 );
                START_PLAYBACK_RECORDED_CAR( l_U1312._fU0, 839 );
                START_PLAYBACK_RECORDED_CAR( l_U1296._fU0, 840 );
                SET_PLAYBACK_SPEED( l_U1312._fU0, 0.90000000 );
                SET_PLAYBACK_SPEED( l_U1296._fU0, 1.00000000 );
                SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( l_U1312._fU0, 4000 );
                SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( l_U1296._fU0, 4000 );
                CREATE_CAM( 14, ref l_U2002 );
                SET_CAM_POS( l_U2002, 1023.96700000, 1515.52700000, 0.10746100 );
                SET_CAM_ROT( l_U2002, 1.22797600, 0.00000000, -10.30201000 );
                SET_CAM_FOV( l_U2002, 30.00004000 );
                CREATE_CAM( 14, ref l_U1965 );
                SET_CAM_FOV( l_U1965, 35.00000000 );
                CREATE_CAM( 14, ref l_U1966 );
                SET_CAM_POS( l_U1966, 1026.16200000, 1566.10200000, 4.64840700 );
                SET_CAM_ROT( l_U1966, -14.61468000, 0.00000000, -166.57340000 );
                SET_CAM_FOV( l_U1966, 40.00000000 );
                CREATE_CAM( 14, ref l_U1967 );
                SET_CAM_POS( l_U1967, 1014.27400000, 1577.05800000, 5.70122400 );
                SET_CAM_ROT( l_U1967, -11.22598000, -0.00000000, -113.95740000 );
                SET_CAM_FOV( l_U1967, 56.69997000 );
                CREATE_CAM( 14, ref l_U1968 );
                SET_CAM_POS( l_U1968, 1021.41100000, 1570.34700000, 3.89523300 );
                SET_CAM_ROT( l_U1968, 17.76567000, 0.00000100, -117.28050000 );
                SET_CAM_FOV( l_U1968, 34.20003000 );
                CREATE_CAM( 14, ref l_U1969 );
                SET_CAM_POS( l_U1969, 1022.15100000, 1569.43800000, 4.12241400 );
                SET_CAM_ROT( l_U1969, 6.87947700, 0.00000000, 29.16754000 );
                SET_CAM_FOV( l_U1969, 45.00000000 );
                CREATE_CAM( 14, ref l_U1970 );
                SET_CAM_POS( l_U1970, 1020.72200000, 1571.43200000, 4.30974300 );
                SET_CAM_ROT( l_U1970, 8.48375800, -0.00000100, -123.81210000 );
                SET_CAM_FOV( l_U1970, 39.00001000 );
                CREATE_CAM( 14, ref l_U1971 );
                SET_CAM_POS( l_U1971, 1030.45500000, 1550.27000000, 16.08063000 );
                SET_CAM_ROT( l_U1971, -28.83270000, 0.00000000, 12.24733000 );
                SET_CAM_FOV( l_U1971, 39.30002000 );
                CREATE_CAM( 14, ref l_U1972 );
                SET_CAM_POS( l_U1972, 1014.27400000, 1577.05800000, 5.70122400 );
                SET_CAM_ROT( l_U1972, -11.22598000, -0.00000000, -113.95740000 );
                SET_CAM_FOV( l_U1972, 52.00000000 );
                CREATE_CAM( 14, ref l_U1973 );
                SET_CAM_POS( l_U1973, 1022.33400000, 1572.02600000, 4.69451500 );
                SET_CAM_ROT( l_U1973, -7.36204000, 5.34166200, 176.14020000 );
                SET_CAM_FOV( l_U1973, 30.30004000 );
                CREATE_CAM( 14, ref l_U1974 );
                SET_CAM_POS( l_U1974, 1022.75400000, 1572.71300000, 4.56189000 );
                SET_CAM_ROT( l_U1974, -2.40246300, 0.11448800, 163.18820000 );
                SET_CAM_FOV( l_U1974, 30.60004000 );
                CREATE_CAM( 3, ref l_U1975 );
                ACTIVATE_SCRIPTED_CAMS( 1, 1 );
                SET_CAM_ACTIVE( l_U2002, 1 );
                SET_CAM_PROPAGATE( l_U2002, 1 );
                GET_GAME_TIMER( ref l_U1829 );
                GET_GAME_TIMER( ref l_U1832 );
                SETTIMERB( 0 );
                l_U1833 = 0;
                DO_SCREEN_FADE_IN( 500 );
                l_U1146 = 1;
            }
        }
        break;
        case 1:
        if (sub_9790( ref l_U1829, 4000 ))
        {
            SET_CAM_ACTIVE( l_U2002, 0 );
            SET_CAM_PROPAGATE( l_U2002, 0 );
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1312._fU0 ))
            {
                SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( l_U1312._fU0, -99999 );
                SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( l_U1312._fU0, 4000 );
            }
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1296._fU0 ))
            {
                SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( l_U1296._fU0, -99999 );
                SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( l_U1296._fU0, 4000 );
            }
            ATTACH_CAM_TO_VEHICLE( l_U1965, l_U1312._fU0 );
            POINT_CAM_AT_VEHICLE( l_U1965, l_U1312._fU0 );
            SET_CAM_ATTACH_OFFSET( l_U1965, 1.70000000, 1.60000000, 2.10000000 );
            SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U1965, 1 );
            SET_CAM_POINT_OFFSET( l_U1965, 0.00000000, 0.80000000, 1.50000000 );
            SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U1965, 1 );
            SET_CAM_ACTIVE( l_U1965, 1 );
            SET_CAM_PROPAGATE( l_U1965, 1 );
            GET_GAME_TIMER( ref l_U1829 );
            l_U1146 = 2;
        }
        break;
        case 2:
        if (sub_9790( ref l_U1829, 3000 ))
        {
            SET_CAM_ACTIVE( l_U1965, 0 );
            SET_CAM_PROPAGATE( l_U1965, 0 );
            SET_CAM_ACTIVE( l_U1966, 1 );
            SET_CAM_PROPAGATE( l_U1966, 1 );
            GET_GAME_TIMER( ref l_U1829 );
            l_U1146 = 3;
        }
        break;
        case 3:
        if (sub_9790( ref l_U1829, 3000 ))
        {
            DO_SCREEN_FADE_OUT( 500 );
            GET_GAME_TIMER( ref l_U1829 );
            l_U1146 = 4;
        }
        break;
        case 4:
        if (IS_SCREEN_FADED_OUT())
        {
            if (sub_9790( ref l_U1829, 1500 ))
            {
                SET_CAM_ACTIVE( l_U1966, 0 );
                SET_CAM_PROPAGATE( l_U1966, 0 );
                if (NOT (IS_CAR_DEAD( l_U1296._fU0 )))
                {
                    if (NOT (IS_CAR_DEAD( l_U1312._fU0 )))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1296._fU0 ))
                        {
                            SKIP_TO_END_AND_STOP_PLAYBACK_RECORDED_CAR( l_U1296._fU0 );
                        }
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1312._fU0 ))
                        {
                            SKIP_TO_END_AND_STOP_PLAYBACK_RECORDED_CAR( l_U1312._fU0 );
                        }
                    }
                }
                for ( l_U1820 = 0; l_U1820 <= 1; l_U1820++ )
                {
                    if (NOT (DOES_OBJECT_EXIST( l_U1707[l_U1820]._fU0 )))
                    {
                        CREATE_OBJECT( l_U1726, l_U1707[l_U1820]._fU4._fU0, l_U1707[l_U1820]._fU4._fU4, l_U1707[l_U1820]._fU4._fU8, ref l_U1707[l_U1820]._fU0, 1 );
                        SET_OBJECT_HEADING( l_U1707[l_U1820]._fU0, l_U1707[l_U1820]._fU16 );
                    }
                }
                if ((NOT (IS_CHAR_DEAD( l_U1174[1]._fU0 ))) AND ((NOT (IS_CHAR_DEAD( l_U1174[0]._fU0 ))) AND ((NOT (IS_CHAR_DEAD( l_U1150._fU0 ))) AND (NOT (IS_CHAR_DEAD( l_U1162._fU0 ))))))
                {
                    CLEAR_CHAR_TASKS( sub_4997() );
                    WARP_CHAR_FROM_CAR_TO_COORD( sub_4997(), 1022.02100000, 1571.21200000, 2.98100000 );
                    SET_CHAR_HEADING( sub_4997(), 234.02670000 );
                    HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_4997(), 1 );
                    CLEAR_CHAR_TASKS( l_U1150._fU0 );
                    WARP_CHAR_FROM_CAR_TO_COORD( l_U1150._fU0, 1022.84300000, 1569.18400000, 2.95030000 );
                    SET_CHAR_HEADING( l_U1150._fU0, 53.48210000 );
                    HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( l_U1150._fU0, 1 );
                    CLEAR_CHAR_TASKS( l_U1162._fU0 );
                    WARP_CHAR_FROM_CAR_TO_COORD( l_U1162._fU0, 1021.16800000, 1570.47900000, 2.95850000 );
                    SET_CHAR_HEADING( l_U1162._fU0, 250.00000000 );
                    HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( l_U1162._fU0, 1 );
                    SET_CHAR_COORDINATES( l_U1174[0]._fU0, 1022.21500000, 1568.08200000, 2.93070000 );
                    SET_CHAR_HEADING( l_U1174[0]._fU0, 35.32310000 );
                    SET_CHAR_COORDINATES( l_U1174[1]._fU0, 1024.29500000, 1569.61800000, 2.99560000 );
                    SET_CHAR_HEADING( l_U1174[1]._fU0, 62.98890000 );
                }
                sub_19485( "dm2_done", ref l_U2027[0], 7, 1 );
                SET_CAM_INTERP_STYLE_CORE( l_U1975, l_U1967, l_U1972, 5000, 0 );
                SET_CAM_ACTIVE( l_U1975, 1 );
                SET_CAM_PROPAGATE( l_U1975, 1 );
                TASK_LOOK_AT_CHAR( sub_4997(), l_U1150._fU0, -2, 0 );
                TASK_LOOK_AT_CHAR( l_U1162._fU0, l_U1150._fU0, -2, 0 );
                TASK_LOOK_AT_CHAR( l_U1150._fU0, sub_4997(), -2, 0 );
                TASK_LOOK_AT_CHAR( l_U1174[0]._fU0, l_U1162._fU0, -2, 0 );
                TASK_LOOK_AT_CHAR( l_U1174[1]._fU0, l_U1162._fU0, -2, 0 );
                DO_SCREEN_FADE_IN( 500 );
                l_U1146 = 5;
            }
        }
        break;
        case 5:
        if (NOT l_U1784)
        {
            SET_CURRENT_CHAR_WEAPON( sub_4997(), 0, 1 );
            HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_4997(), 1 );
            l_U1784 = 1;
        }
        if (NOT (sub_20711( l_U2027[0] )))
        {
            if (NOT (IS_CHAR_INJURED( l_U1150._fU0 )))
            {
                SET_CAM_ACTIVE( l_U1975, 0 );
                SET_CAM_PROPAGATE( l_U1975, 0 );
                SET_CAM_ACTIVE( l_U1967, 0 );
                SET_CAM_PROPAGATE( l_U1967, 0 );
                SET_CAM_ACTIVE( l_U1972, 0 );
                SET_CAM_PROPAGATE( l_U1972, 0 );
                sub_19485( "dm2_pass", ref l_U2027[0], 7, 1 );
                TASK_LOOK_AT_CHAR( l_U1150._fU0, sub_4997(), -2, 0 );
                SET_CAM_ACTIVE( l_U1969, 1 );
                SET_CAM_PROPAGATE( l_U1969, 1 );
                l_U1146 = 6;
            }
        }
        break;
        case 6:
        if (sub_20711( l_U2027[0] ))
        {
            if ((sub_32943( l_U2027[0] )) > 0)
            {
                SET_CAM_ACTIVE( l_U1969, 0 );
                SET_CAM_PROPAGATE( l_U1969, 0 );
                SET_CAM_ACTIVE( l_U1968, 1 );
                SET_CAM_PROPAGATE( l_U1968, 1 );
                l_U1146 = 7;
            }
        }
        break;
        case 7:
        if (sub_20711( l_U2027[0] ))
        {
            if ((sub_32943( l_U2027[0] )) > 2)
            {
                SET_CAM_ACTIVE( l_U1968, 0 );
                SET_CAM_PROPAGATE( l_U1968, 0 );
                if (NOT (IS_CHAR_INJURED( l_U1150._fU0 )))
                {
                    TASK_LOOK_AT_CHAR( l_U1150._fU0, sub_4997(), -2, 0 );
                }
                for ( l_U1820 = 0; l_U1820 <= 1; l_U1820++ )
                {
                    if (NOT (IS_CHAR_INJURED( l_U1174[l_U1820]._fU0 )))
                    {
                        TASK_LOOK_AT_CHAR( l_U1174[l_U1820]._fU0, sub_4997(), -2, 0 );
                    }
                }
                SET_CAM_ACTIVE( l_U1970, 1 );
                SET_CAM_PROPAGATE( l_U1970, 1 );
                l_U1146 = 8;
            }
        }
        break;
        case 8:
        if (sub_20711( l_U2027[0] ))
        {
            if ((sub_32943( l_U2027[0] )) > 3)
            {
                l_U1146 = 9;
            }
        }
        break;
        case 9:
        if (sub_20711( l_U2027[0] ))
        {
            if ((sub_32943( l_U2027[0] )) > 4)
            {
                TASK_FOLLOW_NAV_MESH_TO_COORD( sub_4997(), 1015.38400000, 1576.69600000, 3.22240000, 2, -1, 0.10000000 );
                l_U1146 = 10;
            }
        }
        break;
        case 10:
        if (NOT (IS_CHAR_ON_SCREEN( sub_4997() )))
        {
            FREEZE_CHAR_POSITION( sub_4997(), 1 );
        }
        if (NOT (sub_20711( l_U2027[0] )))
        {
            if (NOT (IS_CHAR_INJURED( l_U1174[0]._fU0 )))
            {
                SET_CAM_ACTIVE( l_U1970, 0 );
                SET_CAM_PROPAGATE( l_U1970, 0 );
                FREEZE_CHAR_POSITION( sub_4997(), 0 );
                TASK_FLUSH_ROUTE();
                TASK_EXTEND_ROUTE( 1015.38400000, 1576.69600000, 3.22240000 );
                TASK_FOLLOW_POINT_ROUTE( sub_4997(), 2, 0 );
                TASK_FOLLOW_NAV_MESH_TO_COORD( l_U1174[0]._fU0, 1017.92800000, 1572.49400000, 2.93760000, 2, -1, 0.10000000 );
                SET_CAM_ACTIVE( l_U1971, 1 );
                SET_CAM_PROPAGATE( l_U1971, 1 );
                GET_GAME_TIMER( ref l_U1829 );
                l_U1146 = 11;
            }
        }
        break;
        case 11:
        if (sub_9790( ref l_U1829, 2000 ))
        {
            DO_SCREEN_FADE_OUT( 500 );
            l_U1146 = 12;
        }
        break;
        case 12:
        if (IS_SCREEN_FADED_OUT())
        {
            ACTIVATE_SCRIPTED_CAMS( 0, 0 );
            END_CAM_COMMANDS( ref l_U1821 );
            DESTROY_ALL_CAMS();
            if (IS_CHAR_IN_ANY_BOAT( sub_4997() ))
            {
                WARP_CHAR_FROM_CAR_TO_COORD( sub_4997(), 1117.46500000, 1527.93500000, 15.57810000 );
            }
            else
            {
                SET_CHAR_COORDINATES( sub_4997(), 1117.46500000, 1527.93500000, 15.57810000 );
            }
            SET_CHAR_HEADING( sub_4997(), 336.00000000 );
            CLEAR_CHAR_TASKS_IMMEDIATELY( sub_4997() );
            HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_4997(), 0 );
            if (DOES_CHAR_EXIST( l_U1150._fU0 ))
            {
                DELETE_CHAR( ref l_U1150._fU0 );
            }
            if (DOES_CHAR_EXIST( l_U1162._fU0 ))
            {
                DELETE_CHAR( ref l_U1162._fU0 );
            }
            if (DOES_CHAR_EXIST( l_U1174[0]._fU0 ))
            {
                DELETE_CHAR( ref l_U1174[0]._fU0 );
            }
            if (DOES_CHAR_EXIST( l_U1174[1]._fU0 ))
            {
                DELETE_CHAR( ref l_U1174[1]._fU0 );
            }
            if (DOES_CHAR_EXIST( l_U1630._fU0._fU0 ))
            {
                DELETE_CHAR( ref l_U1630._fU0._fU0 );
            }
            for ( l_U1820 = 0; l_U1820 <= 1; l_U1820++ )
            {
                if (DOES_CHAR_EXIST( l_U1630._fU48[l_U1820]._fU0 ))
                {
                    DELETE_CHAR( ref l_U1630._fU48[l_U1820]._fU0 );
                }
            }
            if (DOES_VEHICLE_EXIST( l_U1296._fU0 ))
            {
                DELETE_CAR( ref l_U1296._fU0 );
            }
            if (DOES_VEHICLE_EXIST( l_U1630._fU148._fU0 ))
            {
                DELETE_CAR( ref l_U1630._fU148._fU0 );
            }
            if (DOES_VEHICLE_EXIST( l_U1312._fU0 ))
            {
                DELETE_CAR( ref l_U1312._fU0 );
            }
            for ( l_U1820 = 0; l_U1820 <= 3; l_U1820++ )
            {
                if (DOES_CHAR_EXIST( l_U1199[l_U1820]._fU0._fU0 ))
                {
                    DELETE_CHAR( ref l_U1199[l_U1820]._fU0._fU0 );
                }
                if (DOES_CHAR_EXIST( l_U1199[l_U1820]._fU48._fU0 ))
                {
                    DELETE_CHAR( ref l_U1199[l_U1820]._fU48._fU0 );
                }
                if (DOES_VEHICLE_EXIST( l_U1109[l_U1820] ))
                {
                    DELETE_CAR( ref l_U1109[l_U1820] );
                }
            }
            sub_21836( 1 );
            sub_74087();
        }
        break;
        case 13:
        DO_SCREEN_FADE_OUT( 500 );
        while (NOT IS_SCREEN_FADED_OUT())
        {
            WAIT( 0 );
        }
        l_U1146 = 12;
        break;
    }
    return;
}

void sub_68612(unknown uParam0, unknown uParam1)
{
    sub_68630( 1, 1 );
    sub_68699( uParam0 );
    sub_68798( 1, ref l_U179, 1, 1 );
    sub_68906( uParam1 );
    return;
    break;
    2;
    1;
    ref l_U115;
    2;
    1;
    ref l_U178;
    2;
    1;
    ref l_U179;
    1;
    ref l_U178;
    1;
    1;
    ref l_U115;
    uParam1;
    2;
    1;
    ref l_U114;
    ref l_U114;
    uParam0;
    break;
}

void sub_68630(unknown uParam0, unknown uParam1)
{
    if (DOES_CHAR_EXIST( (uParam0^) ))
    {
        if (NOT (IS_CHAR_INJURED( (uParam0^) )))
        {
            GET_CHAR_HEALTH( (uParam0^), uParam1 );
        }
    }
    return;
}

void sub_68699(unknown uParam0)
{
    if (DOES_CHAR_EXIST( (uParam0^) ))
    {
        if (NOT (IS_CHAR_INJURED( (uParam0^) )))
        {
            SET_CHAR_HEALTH( (uParam0^), 200 );
            SET_CHAR_PROOFS( (uParam0^), 1, 1, 1, 1, 1 );
        }
    }
    return;
}

void sub_68798(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    if (DOES_VEHICLE_EXIST( (uParam0^) ))
    {
        if (IS_VEH_DRIVEABLE( (uParam0^) ))
        {
            GET_CAR_HEALTH( (uParam0^), uParam1 );
            (uParam2^) = GET_ENGINE_HEALTH( (uParam0^) );
            (uParam3^) = GET_PETROL_TANK_HEALTH( (uParam0^) );
        }
    }
    return;
}

void sub_68906(unknown uParam0)
{
    if (DOES_VEHICLE_EXIST( (uParam0^) ))
    {
        if (IS_VEH_DRIVEABLE( (uParam0^) ))
        {
            if (ProtectedGet(l_U115) < 500)
            {
                SET_CAR_HEALTH( (uParam0^), 500 );
            }
            if (ProtectedGet(l_U178) < 500)
            {
                SET_ENGINE_HEALTH( (uParam0^), 500.00000000 );
            }
            if (ProtectedGet(l_U179) < 500.00000000)
            {
                SET_PETROL_TANK_HEALTH( (uParam0^), 500.00000000 );
            }
            SET_CAR_PROOFS( (uParam0^), 1, 1, 1, 1, 1 );
        }
    }
    return;
}

void sub_74087()
{
    CLEAR_WANTED_LEVEL( sub_3698() );
    TRIGGER_MISSION_COMPLETE_AUDIO( 61 );
    sub_74118();
    sub_3668();
    return;
}

void sub_74118()
{
    sub_74127();
    return;
}

void sub_74127()
{
    int iVar2;
    int iVar3;
    int iVar4;

    iVar2 = 1;
    iVar3 = 0;
    iVar4 = 0;
    sub_74145();
    sub_74204( iVar2, iVar3, iVar4 );
    return;
}

void sub_74145()
{
    int I;

    I = 0;
    for ( I = 0; I < 5; I++ )
    {
        l_U578[I] = 4;
    }
    return;
}

void sub_74204(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int iVar5;

    iVar5 = 16;
    sub_74237( iVar5, uParam0, uParam1, uParam2, "Contact_19" );
    return;
}

void sub_74237(int iParam0, boolean bParam1, boolean bParam2, boolean bParam3, unknown uParam4)
{
    int iVar7;
    int iVar8;
    char[64] cVar9;
    int iVar25;
    int iVar26;
    boolean bVar27;
    unknown uVar28;
    unknown uVar29;
    int iVar30;
    boolean bVar31;

    iVar7 = -1;
    iVar8 = -1;
    StrCopy( ref cVar9, "", 64 );
    if (bParam3)
    {
        if (g_U13391[iParam0]._fU80._fU0 == 0)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: friend mission", 64);
            sub_74333( ref cVar9 );
            return;
        }
        if (g_U13391[iParam0]._fU80._fU4 == -1)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: friend missionID", 64);
            sub_74333( ref cVar9 );
            return;
        }
        iVar7 = g_U13391[iParam0]._fU80._fU4;
    }
    else if (bParam2)
    {
        if (NOT g_U13391[iParam0]._fU160._fU80)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: proc mission", 64);
            sub_74333( ref cVar9 );
            return;
        }
        if (g_U13391[iParam0]._fU160._fU76 == -1)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: proc missionID", 64);
            sub_74333( ref cVar9 );
            return;
        }
        iVar7 = g_U13391[iParam0]._fU160._fU76;
    }
    else if (g_U13391[iParam0]._fU0._fU0 == 0)
    {
        StrCopy( ref cVar9, uParam4, 64 );
        ConcatString(ref cVar9, " Pass_Stats: mission", 64);
        sub_74333( ref cVar9 );
        return;
    }
    if (g_U13391[iParam0]._fU0._fU4 == -1)
    {
        StrCopy( ref cVar9, uParam4, 64 );
        ConcatString(ref cVar9, " Pass_Stats: missionID", 64);
        sub_74333( ref cVar9 );
        return;
    }
    iVar7 = g_U13391[iParam0]._fU0._fU4;
    iVar8 = sub_74910( iParam0, iVar7 );;;
    iVar25 = 0;
    if (bParam1)
    {
        g_U10981[iParam0]._fU24 = iVar7;
    }
    if (bParam2)
    {
        iVar25 = g_U13391[iParam0]._fU160._fU84;
    }
    if (bParam3)
    {
        g_U10981[iParam0]._fU144._fU8++;
        if ((g_U10981[iParam0]._fU144._fU8 >= g_U10981[iParam0]._fU144._fU4) AND (NOT g_U10981[iParam0]._fU144._fU12))
        {
            iVar26 = 0;
            GET_GAME_TIMER( ref iVar26 );
            g_U10981[iParam0]._fU144._fU16 = iVar26 + 60000;
        }
        if (g_U10981[iParam0]._fU144._fU8 == 1)
        {
            if (iParam0 == 3)
            {
                sub_75307( 0, 3 );
            }
            if (iParam0 == 8)
            {
                sub_75307( 0, 4 );
            }
        }
    }
    if (NOT (sub_75396( iParam0, iVar7, iVar25, bParam1, bParam2, bParam3 )))
    {
        return;
    }
    if (bParam2)
    {
        g_U13391[iParam0]._fU160._fU84++;
    }
    if ((iVar7 == 12) AND (iParam0 == 0))
    {
        SET_PLAYER_MOOD_PISSED_OFF( sub_3698(), 150 );
    }
    else
    {
        SET_PLAYER_MOOD_NORMAL( sub_3698() );
    }
    sub_2766();
    bVar27 = true;
    uVar28 = sub_74910( iParam0, iVar7 );
    uVar29 = sub_2223( iParam0 );
    if (bParam1)
    {
        iVar30 = g_U13391[iParam0]._fU0._fU56;
        if ((iVar30 == 6) || (iVar30 == 5))
        {
            bVar27 = false;
        }
        if (NOT g_U0)
        {
            bVar31 = true;
            if (IS_BIT_SET( g_U26758[uVar28]._fU108, 2 ))
            {
                REGISTER_MISSION_PASSED( ref g_U9921 );
                sub_84772( 9, ref g_U13391[iParam0]._fU0._fU24 );
                if ((g_U10978) AND (NOT bVar27))
                {
                    bVar31 = false;
                }
                if (bVar31)
                {
                    sub_85202();
                    g_U9914._fU8 = 1;
                    g_U9914._fU20 = sub_85287( iParam0, iVar7 );
                }
            }
            if (bVar27)
            {
                sub_85344( iParam0 );
                sub_85383( 0 );
                sub_2664( uVar29, 0 );
            }
            g_U10981[iParam0]._fU12 = 1;
        }
        if (bVar27)
        {
            sub_85491();
        }
    }
    if (bParam2)
    {
        sub_85202();
        sub_85579();
        sub_85383( 0 );
    }
    if (bParam3)
    {
        sub_85202();
        sub_85619();
        sub_85383( 0 );
        sub_2664( uVar29, 0 );
    }
    sub_2110();
    return;
}

void sub_74333(unknown uParam0)
{
    PRINTSTRING( "FLOW WARNING: " );
    PRINTSTRING( uParam0 );
    PRINTNL();
    SCRIPT_ASSERT( "FLOW WARNING: Press IGNORE button and look at console window for details" );
    return;
}

int sub_74910(int iParam0, int iParam1)
{
    unknown uVar4;
    int iVar5;
    int Result;

    if ((iParam0 >= 28) || (iParam0 < 0))
    {
        sub_2622( "Main_Missions: Find_Trigger(): Illegal Strand ID" );
    }
    uVar4 = g_U32640[iParam0]._fU0;
    iVar5 = g_U32640[iParam0]._fU4;
    for ( Result = uVar4; Result <= iVar5; Result++ )
    {
        if (g_U26758[Result]._fU4 == iParam1)
        {
            return Result;
        }
    }
    return -1;
}

void sub_75307(unknown uParam0, unknown uParam1)
{
    int iVar4;

    iVar4 = 0;
    GET_GAME_TIMER( ref iVar4 );
    g_U15874[uParam0]._fU0 = uParam1;
    g_U15874[uParam0]._fU4 = iVar4 + 7200000;
    return;
}

int sub_75396(unknown uParam0, unknown uParam1, unknown uParam2, boolean bParam3, unknown uParam4, unknown uParam5)
{
    boolean bVar8;
    unknown uVar9;
    int iVar10;

    bVar8 = false;
    switch (uParam0)
    {
        case 0:
        bVar8 = sub_75604( uParam1 );
        break;
        case 1:
        bVar8 = sub_77682( uParam1 );
        break;
        case 2:
        bVar8 = sub_77908( uParam1 );
        break;
        case 3:
        bVar8 = sub_78058( uParam1 );
        break;
        case 4:
        bVar8 = sub_78336( uParam1 );
        break;
        case 5:
        bVar8 = sub_78639( uParam1 );
        break;
        case 6:
        bVar8 = sub_78838( uParam1 );
        break;
        case 7:
        bVar8 = sub_79064( uParam1 );
        break;
        case 8:
        bVar8 = sub_79299( uParam1 );
        break;
        case 9:
        bVar8 = sub_79674( uParam1 );
        break;
        case 10:
        bVar8 = sub_79921( uParam1 );
        break;
        case 11:
        bVar8 = sub_80060( uParam1 );
        break;
        case 12:
        bVar8 = sub_80359( uParam1 );
        break;
        case 13:
        bVar8 = sub_80587( uParam1 );
        break;
        case 14:
        bVar8 = sub_80874( uParam1 );
        break;
        case 15:
        bVar8 = sub_81156( uParam1 );
        break;
        case 16:
        bVar8 = sub_81438( uParam1 );
        break;
        case 17:
        bVar8 = sub_81639( uParam1 );
        break;
        case 18:
        bVar8 = sub_81712( uParam1 );
        break;
        case 19:
        bVar8 = sub_81926( uParam1 );
        break;
        case 20:
        bVar8 = sub_82179( uParam1 );
        break;
        case 21:
        bVar8 = sub_82426( uParam1 );
        break;
        case 22:
        bVar8 = sub_82627( uParam1 );
        break;
        default:
        PRINTSTRING( "Strand ID: " );
        PRINTINT( uParam0 );
        PRINTNL();
        sub_77287( "Flow_Pass_Stats: Flow_Pass_Strand_Mission(): Unknown strand ID." );
    }
    if (NOT bVar8)
    {
        return 0;
    }
    uVar9 = sub_74910( uParam0, uParam1 );
    if (bParam3)
    {
        iVar10 = g_U13391[uParam0]._fU0._fU56;
        if ((NOT (iVar10 == 6)) AND (NOT (iVar10 == 5)))
        {
            sub_82950( uVar9, uParam0 );
        }
    }
    return 1;
}

int sub_75604(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 0;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_75883( iVar3, 25, 5, 2, 0, 0 );
        break;
        case 1:
        sub_75883( iVar3, 30, 5, 2, 0, 0 );
        break;
        case 2:
        sub_75883( iVar3, 0, 5, 0, 0, 0 );
        break;
        case 4:
        sub_75883( iVar3, 50, 5, 2, 0, 0 );
        break;
        case 5:
        sub_75883( iVar3, 100, 5, 2, 0, 0 );
        break;
        case 6:
        sub_75883( iVar3, 150, 5, 2, 0, 0 );
        break;
        case 8:
        sub_75883( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 9:
        sub_75883( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 10:
        sub_75883( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 11:
        sub_75883( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 12:
        sub_75883( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 13:
        sub_75883( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 15:
        sub_75883( iVar3, 250000, 5, 2, 0, 0 );
        break;
        case 16:
        sub_75883( iVar3, 0, 0, 0, 0, 0 );
        break;
        case 20:
        if (g_U15654[12])
        {
            sub_75883( iVar3, 0, 5, 2, 0, 0 );
        }
        else
        {
            sub_75883( iVar3, 250000, 0, 0, 0, 0 );
        }
        break;
        case 7:
        sub_75883( iVar3, 0, 3, 1, 0, 0 );
        break;
        case 3:
        case 30:
        case 14:
        case 37:
        case 18:
        case 19:
        case 17:
        case 21: break;
        case 22:
        case 23:
        case 24:
        case 25:
        case 26:
        case 27:
        case 28:
        sub_75883( iVar3, 0, sub_77165(), sub_77431(), 0, 0 );
        break;
        default:
        sub_77590( "Friend 1", 1 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_77590( "Friend 1", 0 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

void sub_75883(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, int iParam5)
{
    sub_75894( uParam1 );
    sub_76068( uParam0, 0, uParam2 );
    sub_76068( uParam0, 1, uParam3 );
    sub_76068( uParam0, 2, uParam4 );
    ProtectedSet(g_U26747[4], ProtectedGet(g_U26747[4]) + iParam5);
    sub_74145();
    return;
}

void sub_75894(unknown uParam0)
{
    ADD_SCORE( sub_3698(), uParam0 );
    sub_75919( uParam0 );
    return;
}

void sub_75919(int iParam0)
{
    if (g_U0)
    {
        return;
    }
    if (iParam0 < 0)
    {
        sub_2622( "Flow_Achievements_Increase_Cash_From_Missions: negative cash given. Tell Keith." );
    }
    INCREMENT_INT_STAT_NO_MESSAGE( 93, iParam0 );
    return;
}

void sub_76068(unknown uParam0, int iParam1, int iParam2)
{
    g_U10981[uParam0]._fU40[iParam1] += iParam2;
    if (g_U10981[uParam0]._fU40[iParam1] < 0)
    {
        g_U10981[uParam0]._fU40[iParam1] = 0;
    }
    if (g_U10981[uParam0]._fU40[iParam1] > 100)
    {
        g_U10981[uParam0]._fU40[iParam1] = 100;
    }
    if (iParam1 == 1)
    {
        sub_76225( uParam0 );
    }
    return;
}

void sub_76225(unknown uParam0)
{
    if (g_U0)
    {
        return;
    }
    if (IS_BIT_SET( ProtectedGet(g_U64791), 11 ))
    {
        return;
    }
    if (g_U10981[uParam0]._fU40[1] < 90)
    {
        return;
    }
    switch (uParam0)
    {
        case 0:
        SET_BIT( 1, 6 );
        break;
        break;
        2;
        1;
        ref g_U64791;
        1;
        ref g_U64791;
        break;
        case 3:
        SET_BIT( 1, 7 );
        break;
        break;
        2;
        1;
        ref g_U64791;
        1;
        ref g_U64791;
        break;
        case 7:
        SET_BIT( 1, 8 );
        break;
        break;
        2;
        1;
        ref g_U64791;
        1;
        ref g_U64791;
        break;
        case 8:
        SET_BIT( 1, 9 );
        break;
        break;
        2;
        1;
        ref g_U64791;
        1;
        ref g_U64791;
        break;
        case 13:
        SET_BIT( 1, 10 );
        break;
        break;
        2;
        1;
        ref g_U64791;
        1;
        ref g_U64791;
        break;
    }
    if ((NOT (IS_BIT_SET( ProtectedGet(g_U64791), 5 ))) || ((NOT (IS_BIT_SET( ProtectedGet(g_U64791), 4 ))) || ((NOT (IS_BIT_SET( ProtectedGet(g_U64791), 3 ))) || ((NOT (IS_BIT_SET( ProtectedGet(g_U64791), 2 ))) || (NOT (IS_BIT_SET( ProtectedGet(g_U64791), 1 )))))))
    {
        return;
    }
    if (NOT (IS_BIT_SET( ProtectedGet(g_U64791), 7 )))
    {
        return;
    }
    if (NOT (IS_BIT_SET( ProtectedGet(g_U64791), 9 )))
    {
        return;
    }
    if (NOT (IS_BIT_SET( ProtectedGet(g_U64791), 10 )))
    {
        return;
    }
    if (g_U10981[0]._fU8)
    {
        if (NOT (IS_BIT_SET( ProtectedGet(g_U64791), 6 )))
        {
            return;
        }
    }
    if (g_U10981[7]._fU8)
    {
        if (NOT (IS_BIT_SET( ProtectedGet(g_U64791), 8 )))
        {
            return;
        }
    }
    SET_BIT( 1, 11 );
    AWARD_ACHIEVEMENT( 35 );
    return;
    break;
    2;
    1;
    ref g_U64791;
    1;
    ref g_U64791;
    break;
}

int sub_77165()
{
    switch (l_U578[0])
    {
        case 0: return 14;
        case 1: return 8;
        case 2: return 6;
        case 3: return 1;
        case 4: return 0;
    }
    sub_77287( "Get_TRUST(): Unknown Friend Pass ID" );
    return 0;
}

void sub_77287(unknown uParam0)
{
    PRINTSTRING( "FLOW ERROR: " );
    PRINTSTRING( uParam0 );
    PRINTNL();
    SCRIPT_ASSERT( "FLOW ERROR: Press IGNORE button and look at console window for details" );
    return;
}

int sub_77431()
{
    switch (l_U578[1])
    {
        case 0: return 10;
        case 1: return 6;
        case 2: return 3;
        case 3: return 1;
        case 4: return 0;
    }
    sub_77287( "Get_LIKE(): Unknown Friend Pass ID" );
    return 0;
}

void sub_77590(unknown uParam0, unknown uParam1)
{
    return;
}

int sub_77682(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 1;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_75883( iVar3, 50, 5, 5, 0, 0 );
        break;
        case 1:
        sub_75883( iVar3, 100, 5, 5, 0, 0 );
        break;
        case 2:
        sub_75883( iVar3, 150, 5, 5, 0, 0 );
        break;
        case 3:
        sub_75883( iVar3, 200, 5, 5, 0, 0 );
        break;
        default:
        sub_77590( "Contact 2", 1 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_77590( "Contact 2", 0 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_77908(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 2;
    bVar4 = false;
    switch (uParam0)
    {
        case 1:
        sub_75883( iVar3, 0, 5, 5, 0, 0 );
        break;
        case 0: break;
        default:
        sub_77590( "Girl 3", 1 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_77590( "Girl 3", 0 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_78058(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 3;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_75883( iVar3, 200, 5, 2, 0, 0 );
        break;
        case 1:
        sub_75883( iVar3, 250, 5, 2, 0, 0 );
        break;
        case 2:
        sub_75883( iVar3, 250, 3, 1, 0, 0 );
        break;
        case 3:
        case 4:
        case 5:
        case 6:
        case 7:
        case 8:
        case 9:
        sub_75883( iVar3, 0, sub_77165(), sub_77431(), 0, 0 );
        break;
        default:
        sub_77590( "Friend 4", 1 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_77590( "Friend 4", 0 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_78336(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 4;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_75883( iVar3, 200, 5, 5, 0, 0 );
        break;
        case 1:
        sub_75883( iVar3, 400, 5, 5, 0, 0 );
        break;
        case 2:
        sub_75883( iVar3, 500, 5, 5, 0, 0 );
        break;
        case 3:
        sub_75883( iVar3, 600, 5, 5, 0, 0 );
        break;
        case 4:
        sub_75883( iVar3, 700, 5, 5, 0, 0 );
        break;
        case 5:
        sub_75883( iVar3, 0, 5, 5, 0, 0 );
        break;
        case 6:
        sub_75883( iVar3, 0, 5, 5, 0, 0 );
        break;
        default:
        sub_77590( "Contact 5", 1 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_77590( "Contact 5", 0 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_78639(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 5;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_75883( iVar3, 1000, 5, 5, 0, 0 );
        break;
        case 1:
        sub_75883( iVar3, 1100, 5, 5, 0, 0 );
        break;
        case 2:
        sub_75883( iVar3, 1500, 5, 5, 0, 0 );
        break;
        default:
        sub_77590( "Contact 7", 1 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_77590( "Contact 7", 0 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_78838(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 6;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_75883( iVar3, 1500, 5, 5, 0, 0 );
        break;
        case 1:
        sub_75883( iVar3, 2000, 5, 5, 0, 0 );
        break;
        case 2:
        sub_75883( iVar3, 2500, 5, 5, 0, 0 );
        break;
        case 3:
        sub_75883( iVar3, 0, 5, 5, 0, 0 );
        break;
        default:
        sub_77590( "Contact 7b", 1 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_77590( "Contact 7b", 0 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_79064(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 7;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_75883( iVar3, 6000, 5, 2, 0, 0 );
        break;
        case 1:
        sub_75883( iVar3, 6250, 5, 2, 0, 0 );
        break;
        case 2:
        case 3:
        case 4:
        case 5:
        case 6:
        sub_75883( iVar3, 0, sub_77165(), sub_77431(), 0, 0 );
        break;
        default:
        sub_77590( "Friend 8", 1 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_77590( "Friend 8", 0 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_79299(unknown uParam0)
{
    int iVar3;
    boolean bVar4;
    int iVar5;

    iVar3 = 8;
    bVar4 = false;
    iVar5 = 500;
    switch (uParam0)
    {
        case 0:
        sub_75883( iVar3, 3500, 5, 2, 0, 0 );
        break;
        case 1:
        sub_75883( iVar3, 3500, 5, 2, 0, 0 );
        break;
        case 4:
        sub_75883( iVar3, 6750, 5, 2, 0, 0 );
        break;
        case 5:
        sub_75883( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 2:
        case 3: break;
        case 6:
        sub_75883( iVar3, iVar5, 3, 1, 0, 0 );
        INCREMENT_INT_STAT_NO_MESSAGE( 109, iVar5 );
        break;
        case 7:
        case 8:
        case 9:
        case 10:
        case 11:
        case 12:
        case 13:
        case 14:
        sub_75883( iVar3, 0, sub_77165(), sub_77431(), 0, 0 );
        break;
        default:
        sub_77590( "Friend 9", 1 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_77590( "Friend 9", 0 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_79674(unknown uParam0)
{
    int iVar3;
    int iVar4;
    boolean bVar5;

    iVar3 = 9;
    iVar4 = 7;
    bVar5 = false;
    switch (uParam0)
    {
        case 0:
        sub_75883( iVar3, 6500, 5, 5, 0, 0 );
        break;
        case 1:
        sub_75883( iVar3, 6750, 5, 5, 0, 0 );
        break;
        case 3:
        if (g_U15654[39])
        {
            sub_75883( iVar4, 0, 5, 10, 0, 0 );
        }
        else
        {
            sub_75883( iVar3, 0, 5, 5, 0, 0 );
        }
        break;
        case 2: break;
        default:
        sub_77590( "Contact 10", 1 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar5)
    {
        sub_77590( "Contact 10", 0 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_79921(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 10;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_75883( iVar3, 0, 1, 1, 0, 0 );
        break;
        default:
        sub_77590( "Girl 11", 1 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_77590( "Girl 11", 0 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_80060(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 11;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_75883( iVar3, 1000, 5, 5, 0, 0 );
        break;
        case 3:
        sub_75883( iVar3, 1000, 5, 5, 0, 0 );
        break;
        case 4:
        sub_75883( iVar3, 5000, 5, 5, 0, 0 );
        break;
        case 5:
        sub_75883( iVar3, 5000, 5, 5, 0, 0 );
        break;
        case 6:
        sub_75883( iVar3, 0, 5, 5, 0, 0 );
        break;
        case 7:
        sub_75883( iVar3, 0, 5, 5, 0, 0 );
        break;
        case 1:
        case 2: break;
        default:
        sub_77590( "Contact 12", 1 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_77590( "Contact 12", 0 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_80359(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 12;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_75883( iVar3, 6500, 5, 5, 0, 0 );
        break;
        case 1:
        sub_75883( iVar3, 6750, 5, 5, 0, 0 );
        break;
        case 2:
        sub_75883( iVar3, 7000, 5, 5, 0, 0 );
        break;
        case 3:
        sub_75883( iVar3, 7500, 5, 5, 0, 0 );
        break;
        default:
        sub_77590( "Contact 13", 1 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_77590( "Contact 13", 0 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_80587(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 13;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_75883( iVar3, 7500, 5, 2, 0, 5 );
        break;
        case 1:
        sub_75883( iVar3, 8000, 5, 2, 0, 5 );
        break;
        case 3:
        sub_75883( iVar3, 250000, 5, 2, 0, 5 );
        break;
        case 4:
        case 5:
        case 6:
        case 7:
        case 8:
        case 9:
        sub_75883( iVar3, 0, sub_77165(), sub_77431(), 0, 0 );
        break;
        case 2: break;
        default:
        sub_77590( "Friend 15", 1 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_77590( "Friend 15", 0 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_80874(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 14;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_75883( iVar3, 8500, 5, 5, 0, 0 );
        break;
        case 1:
        sub_75883( iVar3, 9000, 5, 5, 0, 0 );
        break;
        case 2:
        sub_75883( iVar3, 9500, 5, 5, 0, 0 );
        break;
        case 3:
        sub_75883( iVar3, 9500, 5, 5, 0, 0 );
        break;
        case 4:
        sub_75883( iVar3, 9500, 5, 5, 0, 0 );
        break;
        case 5:
        sub_75883( iVar3, 11000, 5, 5, 0, 0 );
        break;
        default:
        sub_77590( "Contact 16", 1 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_77590( "Contact 16", 0 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_81156(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 15;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_75883( iVar3, 9000, 5, 5, 0, 0 );
        break;
        case 1:
        sub_75883( iVar3, 9250, 5, 5, 0, 0 );
        break;
        case 4:
        sub_75883( iVar3, 9500, 5, 5, 0, 0 );
        break;
        case 6:
        sub_75883( iVar3, 9750, 5, 5, 0, 0 );
        break;
        case 7:
        sub_75883( iVar3, 0, 5, 5, 0, 0 );
        break;
        case 2:
        case 3:
        case 5: break;
        default:
        sub_77590( "Contact 18", 1 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_77590( "Contact 18", 0 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_81438(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 16;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_75883( iVar3, 6500, 5, 5, 0, 0 );
        break;
        case 1:
        sub_75883( iVar3, 7000, 5, 5, 0, 0 );
        break;
        case 2:
        sub_75883( iVar3, 7500, 5, 5, 0, 0 );
        break;
        default:
        sub_77590( "Contact 19", 1 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_77590( "Contact 19", 0 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_81639(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 17;
    bVar4 = false;
    if (bVar4)
    {
        sub_77590( "Girl 20", 0 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_81712(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 18;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_75883( iVar3, 6000, 5, 5, 0, 0 );
        break;
        case 1:
        sub_75883( iVar3, 6250, 5, 5, 0, 0 );
        break;
        case 2:
        sub_75883( iVar3, 6500, 5, 5, 0, 0 );
        break;
        case 3: break;
        default:
        sub_77590( "Contact 21", 1 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_77590( "Contact 21", 0 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_81926(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 19;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_75883( iVar3, 7500, 5, 5, 0, 0 );
        break;
        case 2:
        sub_75883( iVar3, 10500, 5, 5, 0, 0 );
        break;
        case 3:
        sub_75883( iVar3, 11000, 5, 5, 0, 0 );
        break;
        case 4:
        sub_75883( iVar3, 12000, 5, 5, 0, 0 );
        break;
        case 1:
        sub_75883( iVar3, 0, 3, 3, 0, 0 );
        break;
        default:
        sub_77590( "Contact 22", 1 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_77590( "Contact 22", 0 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_82179(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 20;
    bVar4 = false;
    switch (uParam0)
    {
        case 1:
        sub_75883( iVar3, 10500, 5, 5, 0, 0 );
        break;
        case 2:
        sub_75883( iVar3, 0, 5, 5, 0, 0 );
        break;
        case 3:
        sub_75883( iVar3, 13000, 5, 5, 0, 0 );
        break;
        case 5:
        sub_75883( iVar3, 14500, 5, 5, 0, 0 );
        break;
        case 4:
        case 0: break;
        default:
        sub_77590( "Contact 24", 1 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_77590( "Contact 24", 0 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_82426(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 21;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_75883( iVar3, 12000, 5, 5, 0, 0 );
        break;
        case 1:
        sub_75883( iVar3, 13250, 5, 5, 0, 0 );
        break;
        case 2:
        sub_75883( iVar3, 14500, 5, 5, 0, 0 );
        break;
        default:
        sub_77590( "Contact 25", 1 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_77590( "Contact 25", 0 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_82627(unknown uParam0)
{
    int iVar3;
    int iVar4;
    boolean bVar5;

    iVar3 = 22;
    iVar4 = 8;
    bVar5 = false;
    switch (uParam0)
    {
        case 0:
        sub_75883( iVar4, 0, 3, 1, 0, 0 );
        break;
        default:
        sub_77590( "Girl 26", 1 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar5)
    {
        sub_77590( "Girl 26", 0 );
        sub_75883( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

void sub_82950(int iParam0, int iParam1)
{
    if (g_U0)
    {
        return;
    }
    if (iParam0 == -1)
    {
        return;
    }
    if (iParam1 == -1)
    {
        return;
    }
    if (sub_82998( iParam0, iParam1 ))
    {
        INCREMENT_INT_STAT_NO_MESSAGE( 253, 1 );
        sub_83729( iParam1 );
    }
    return;
}

int sub_82998(int iParam0, int iParam1)
{
    int iVar4;
    boolean bVar5;
    int iVar6;

    if (g_U0)
    {
        return 0;
    }
    if (iParam0 == -1)
    {
        return 0;
    }
    if (iParam1 == -1)
    {
        return 0;
    }
    iVar4 = g_U13391[iParam1]._fU0._fU56;
    bVar5 = iVar4 == 6;
    if (bVar5)
    {
        return 0;
    }
    iVar6 = 0;
    if (NOT (IS_BIT_SET( g_U26758[iParam0]._fU108, 3 )))
    {
        iVar6 = g_U26758[iParam0]._fU104;
        if (iVar6 > 0)
        {
            sub_83138( 0, iVar6 );
            g_U13334[iParam1]._fU4 += iVar6;
        }
        SET_BIT( ref g_U26758[iParam0]._fU108, 3 );
        return 1;
    }
    return 0;
}

void sub_83138(unknown uParam0, int iParam1)
{
    g_U32871[uParam0]._fU4 += iParam1;
    if (g_U32871[uParam0]._fU4 > g_U32871[uParam0]._fU0)
    {
        SCRIPT_ASSERT( "Flow_Achievements_Game_Progress_Made: Current Category is over target value" );
        g_U32871[uParam0]._fU4 = g_U32871[uParam0]._fU0;
    }
    sub_83320( 0 );
    return;
}

void sub_83320(boolean bParam0)
{
    float fVar3;
    float fVar4;
    float fVar5;
    float fVar6;
    boolean bVar7;
    int I;

    fVar3 = 0.00000000;
    fVar4 = 0.00000000;
    fVar5 = 0.00000000;
    fVar6 = 0.00000000;
    bVar7 = true;
    I = 0;
    for ( I = 0; I < 8; I++ )
    {
        if (g_U32871[I]._fU4 == g_U32871[I]._fU0)
        {
            fVar4 = g_U32871[I]._fU8;
        }
        else
        {
            bVar7 = false;
            fVar5 = TO_FLOAT( g_U32871[I]._fU0 );
            fVar6 = TO_FLOAT( g_U32871[I]._fU4 );
            fVar4 = (fVar6 / fVar5) * g_U32871[I]._fU8;
        }
        fVar3 += fVar4;
    }
    if (fVar3 > 100.00000000)
    {
        fVar3 = 99.99000000;
    }
    if (bVar7)
    {
        fVar3 = 100.00000000;
    }
    SET_FLOAT_STAT( 0, fVar3 );
    if (bVar7)
    {
        sub_83575();
    }
    if ((NOT (# -NULL-0xc27c84())) AND ((NOT bParam0) AND (bVar7)))
    {
        PRINT_HELP( "GAME100" );
    }
    return;
}

void sub_83575()
{
    ENABLE_MAX_AMMO_CAP( 0 );
    return;
}

void sub_83729(int iParam0)
{
    float fVar3;
    float fVar4;
    float fVar5;

    if (g_U0)
    {
        return;
    }
    if (iParam0 == -1)
    {
        return;
    }
    if (g_U13334[iParam0]._fU0 == 0)
    {
        return;
    }
    fVar3 = 0.00000000;
    fVar4 = 0.00000000;
    fVar5 = 0.00000000;
    if (g_U13334[iParam0]._fU4 == g_U13334[iParam0]._fU0)
    {
        fVar3 = 100.00000000;
    }
    else
    {
        fVar4 = TO_FLOAT( g_U13334[iParam0]._fU0 );
        fVar5 = TO_FLOAT( g_U13334[iParam0]._fU4 );
        fVar3 = fVar5 / fVar4;
        fVar3 *= 100.00000000;
    }
    switch (iParam0)
    {
        case 0:
        sub_84062( 3 );
        SET_FLOAT_STAT( 3, fVar3 );
        break;
        case 1:
        sub_84062( 4 );
        SET_FLOAT_STAT( 4, fVar3 );
        break;
        case 3:
        sub_84062( 7 );
        SET_FLOAT_STAT( 7, fVar3 );
        break;
        case 4:
        sub_84062( 8 );
        SET_FLOAT_STAT( 8, fVar3 );
        break;
        case 5:
        sub_84062( 9 );
        SET_FLOAT_STAT( 9, fVar3 );
        break;
        case 6:
        sub_84062( 10 );
        SET_FLOAT_STAT( 10, fVar3 );
        break;
        case 7:
        sub_84062( 13 );
        SET_FLOAT_STAT( 13, fVar3 );
        break;
        case 8:
        sub_84062( 16 );
        SET_FLOAT_STAT( 16, fVar3 );
        break;
        case 9:
        sub_84062( 17 );
        SET_FLOAT_STAT( 17, fVar3 );
        break;
        case 11:
        sub_84062( 18 );
        SET_FLOAT_STAT( 18, fVar3 );
        break;
        case 12:
        sub_84062( 19 );
        SET_FLOAT_STAT( 19, fVar3 );
        break;
        case 13:
        sub_84062( 22 );
        SET_FLOAT_STAT( 22, fVar3 );
        break;
        case 14:
        sub_84062( 23 );
        SET_FLOAT_STAT( 23, fVar3 );
        break;
        case 15:
        sub_84062( 24 );
        SET_FLOAT_STAT( 24, fVar3 );
        break;
        case 16:
        sub_84062( 25 );
        SET_FLOAT_STAT( 25, fVar3 );
        break;
        case 18:
        sub_84062( 26 );
        SET_FLOAT_STAT( 26, fVar3 );
        break;
        case 19:
        sub_84062( 27 );
        SET_FLOAT_STAT( 27, fVar3 );
        break;
        case 20:
        sub_84062( 29 );
        SET_FLOAT_STAT( 29, fVar3 );
        break;
        case 21:
        sub_84062( 28 );
        SET_FLOAT_STAT( 28, fVar3 );
        break;
        default: return;
    }
    return;
}

void sub_84062(unknown uParam0)
{
    if ((GET_STAT_FRONTEND_VISIBILITY( uParam0 )) == 0)
    {
        SET_STAT_FRONTEND_VISIBILITY( uParam0, 1 );
    }
    return;
}

void sub_84772(unknown uParam0, unknown uParam1)
{
    sub_84791( uParam0, 0, 0.00000000, uParam1 );
    return;
}

void sub_84791(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;

    switch (uParam0)
    {
        case 0:
        PLAYSTATS_INT( "SPRUNK_BOUGHT", uParam1 );
        break;
        case 1:
        PLAYSTATS_INT( "HOTDOG_BOUGHT", uParam1 );
        break;
        case 2:
        PLAYSTATS_INT( "NUTS_BOUGHT", uParam1 );
        break;
        case 3:
        PLAYSTATS_INT( "BURGERS_BOUGHT", uParam1 );
        break;
        case 7:
        PLAYSTATS_INT( "DONATE_BEGGAR", uParam1 );
        break;
        case 8:
        PLAYSTATS_INT( "DONATE_BUSKER", uParam1 );
        break;
        case 4:
        PLAYSTATS_INT( "BSHOT_BOUGHT", uParam1 );
        break;
        case 5:
        PLAYSTATS_INT( "CBELL_BOUGHT", uParam1 );
        break;
        case 6:
        PLAYSTATS_INT( "CAFE_BOUGHT", uParam1 );
        break;
        case 9: break;
    }
    return;
}

void sub_85202()
{
    g_U9914._fU0 = 1;
    g_U9914._fU4 = 0;
    g_U9914._fU8 = 0;
    g_U9914._fU12 = 0;
    g_U9914._fU16 = 0;
    g_U9914._fU20 = 0;
    g_U9914._fU24 = 7;
    return;
}

int sub_85287(int iParam0, int iParam1)
{
    if (iParam0 == 0)
    {
        if (iParam1 == 20)
        {
            return 1;
        }
    }
    return 0;
}

void sub_85344(unknown uParam0)
{
    sub_2009();
    g_U10981[uParam0]._fU116 = 0;
    return;
}

void sub_85383(unknown uParam0)
{
    if (g_U9385)
    {
        g_U9385 = 0;
        return;
    }
    g_U9380._fU0 = 1;
    g_U9380._fU4 = uParam0;
    g_U9380._fU8 = 0;
    g_U9380._fU12 = 0;
    g_U9380._fU16 = 0;
    return;
}

void sub_85491()
{
    sub_85500();
    return;
}

void sub_85500()
{
    if (COMPARE_STRING( ref g_U9926, "" ))
    {
        return;
    }
    PLAYSTATS_MISSION_PASSED( ref g_U9926 );
    StrCopy( ref g_U9926, "", 16 );
    return;
}

void sub_85579()
{
    sub_85500();
    return;
}

void sub_85619()
{
    sub_85500();
    StrCopy( ref g_U9926, "FPASS", 16 );
    return;
}

void sub_85785()
{
    unknown uVar2;

    if (NOT (l_U1824[3] >= 1))
    {
        if (l_U1149 != 0)
        {
            if (sub_15664( ref l_U1832, 1000 ))
            {
                l_U1824[3] = 1;
                l_U1149 = 3;
            }
        }
    }
    if (NOT (IS_CHAR_INJURED( l_U1150._fU0 )))
    {
        switch (l_U1149)
        {
            case 0:
            if (sub_9790( ref l_U1829, 7500 ))
            {
                if (NOT l_U1805)
                {
                    sub_68612( ref l_U1150._fU0, ref l_U1296._fU0 );
                    l_U1805 = 1;
                }
                if (sub_12133( 1 ))
                {
                    REQUEST_MODEL( l_U1689._fU8 );
                    LOAD_ALL_OBJECTS_NOW();
                    BEGIN_CAM_COMMANDS( ref l_U1821 );
                    CREATE_CAM( 14, ref l_U1965 );
                    SET_CAM_POS( l_U1965, -1756.43500000, 224.45190000, 19.49919000 );
                    SET_CAM_ROT( l_U1965, -3.45002100, -4.23034100, -45.00545000 );
                    SET_CAM_FOV( l_U1965, 30.60004000 );
                    LOAD_SCENE( l_U1689._fU12._fU0, l_U1689._fU12._fU4, l_U1689._fU12._fU8 );
                    CLEAR_AREA_OF_CARS( l_U1689._fU12._fU0, l_U1689._fU12._fU4, l_U1689._fU12._fU8, 50.00000000 );
                    CREATE_CAR( l_U1689._fU8, l_U1689._fU12._fU0, l_U1689._fU12._fU4, l_U1689._fU12._fU8, ref l_U1689._fU0, 1 );
                    SET_CAR_HEADING( l_U1689._fU0, l_U1689._fU24 );
                    CHANGE_CAR_COLOUR( l_U1689._fU0, l_U1689._fU28, l_U1689._fU32 );
                    SET_CAR_HEALTH( l_U1689._fU0, 1000000 );
                    SET_CAR_ON_GROUND_PROPERLY( l_U1689._fU0 );
                    SET_CAR_ENGINE_ON( l_U1689._fU0, 1, 1 );
                    CLEAR_CHAR_TASKS_IMMEDIATELY( sub_4997() );
                    WARP_CHAR_INTO_CAR( sub_4997(), l_U1689._fU0 );
                    TASK_LOOK_AT_CHAR( sub_4997(), l_U1150._fU0, -2, 0 );
                    if (NOT (IS_CHAR_INJURED( l_U1150._fU0 )))
                    {
                        CLEAR_CHAR_TASKS_IMMEDIATELY( l_U1150._fU0 );
                        WARP_CHAR_INTO_CAR_AS_PASSENGER( l_U1150._fU0, l_U1689._fU0, 0 );
                        TASK_LOOK_AT_CHAR( l_U1150._fU0, sub_4997(), -2, 0 );
                    }
                    SET_CAM_PROPAGATE( l_U1965, 1 );
                    SET_CAM_ACTIVE( l_U1965, 1 );
                    ACTIVATE_SCRIPTED_CAMS( 1, 1 );
                    SETTIMERB( 0 );
                    GET_GAME_TIMER( ref l_U1832 );
                    DO_SCREEN_FADE_IN( 500 );
                    l_U1833 = 0;
                    l_U1149 = 1;
                }
            }
            break;
            case 1:
            if (NOT (IS_CHAR_INJURED( l_U1150._fU0 )))
            {
                BLOCK_CHAR_AMBIENT_ANIMS( l_U1150._fU0, 1 );
            }
            BLOCK_CHAR_AMBIENT_ANIMS( sub_4997(), 1 );
            switch (l_U1833)
            {
                case 0:
                if (IS_SCREEN_FADED_IN())
                {
                    sub_19485( "dm2_dropd", ref l_U2027[0], 6, 1 );
                    l_U1833++;
                }
                break;
                case 1:
                if (sub_20711( l_U2027[0] ))
                {
                    l_U1833++;
                }
                break;
                case 2:
                if (NOT (sub_20711( l_U2027[0] )))
                {
                    if (IS_VEH_DRIVEABLE( l_U1689._fU0 ))
                    {
                        OPEN_SEQUENCE_TASK( ref l_U1150._fU12 );
                        TASK_LOOK_AT_CHAR( 0, sub_4997(), 50, 0 );
                        TASK_LEAVE_CAR( 0, l_U1689._fU0 );
                        TASK_FOLLOW_NAV_MESH_TO_COORD( 0, -1758.80600000, 228.70950000, 18.44540000, 2, -1, 0.10000000 );
                        CLOSE_SEQUENCE_TASK( l_U1150._fU12 );
                        TASK_PERFORM_SEQUENCE( l_U1150._fU0, l_U1150._fU12 );
                        l_U1149 = 2;
                    }
                }
                break;
            }
            break;
            case 2:
            GET_SCRIPT_TASK_STATUS( l_U1150._fU0, 29, ref l_U2017[0] );
            if (l_U2017[0] == 1)
            {
                GET_SEQUENCE_PROGRESS( l_U1150._fU0, ref l_U1823 );
                if (l_U1823 > 0)
                {
                    GET_GAME_TIMER( ref l_U1829 );
                    l_U1149 = 3;
                }
            }
            break;
            case 3:
            if ((l_U1824[3] >= 1) || (sub_9790( ref l_U1829, 3000 )))
            {
                if (NOT IS_SCREEN_FADED_OUT())
                {
                    if (NOT IS_SCREEN_FADING_OUT())
                    {
                        DO_SCREEN_FADE_OUT( 500 );
                    }
                }
                else
                {
                    ACTIVATE_SCRIPTED_CAMS( 0, 0 );
                    DESTROY_ALL_CAMS();
                    END_CAM_COMMANDS( ref l_U1821 );
                    if (DOES_CHAR_EXIST( l_U1150._fU0 ))
                    {
                        DELETE_CHAR( ref l_U1150._fU0 );
                    }
                    if (DOES_CHAR_EXIST( l_U1162._fU0 ))
                    {
                        DELETE_CHAR( ref l_U1162._fU0 );
                    }
                    for ( l_U1820 = 0; l_U1820 <= 1; l_U1820++ )
                    {
                        if (DOES_CHAR_EXIST( l_U1630._fU48[l_U1820]._fU0 ))
                        {
                            DELETE_CHAR( ref l_U1630._fU48[l_U1820]._fU0 );
                        }
                    }
                    if (DOES_CHAR_EXIST( l_U1630._fU0._fU0 ))
                    {
                        DELETE_CHAR( ref l_U1630._fU0._fU0 );
                    }
                    if (DOES_VEHICLE_EXIST( l_U1296._fU0 ))
                    {
                        DELETE_CAR( ref l_U1296._fU0 );
                    }
                    if (DOES_VEHICLE_EXIST( l_U1630._fU148._fU0 ))
                    {
                        DELETE_CAR( ref l_U1630._fU148._fU0 );
                    }
                    if (DOES_VEHICLE_EXIST( l_U1312._fU0 ))
                    {
                        DELETE_CAR( ref l_U1312._fU0 );
                    }
                    for ( l_U1820 = 0; l_U1820 <= 3; l_U1820++ )
                    {
                        if (DOES_CHAR_EXIST( l_U1199[l_U1820]._fU0._fU0 ))
                        {
                            DELETE_CHAR( ref l_U1199[l_U1820]._fU0._fU0 );
                        }
                        if (DOES_CHAR_EXIST( l_U1199[l_U1820]._fU48._fU0 ))
                        {
                            DELETE_CHAR( ref l_U1199[l_U1820]._fU48._fU0 );
                        }
                        if (DOES_VEHICLE_EXIST( l_U1109[l_U1820] ))
                        {
                            DELETE_CAR( ref l_U1109[l_U1820] );
                        }
                    }
                    if (IS_VEH_DRIVEABLE( l_U1689._fU0 ))
                    {
                        SET_CAR_ON_GROUND_PROPERLY( l_U1689._fU0 );
                        CLOSE_ALL_CAR_DOORS( l_U1689._fU0 );
                        MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U1689._fU0 );
                    }
                    sub_21836( 1 );
                    sub_65620();
                }
            }
            break;
        }
    }
    else
    {
        sub_3755( 0 );
        sub_65620();
    }
    return;
}

void sub_87638()
{
    if (NOT l_U1781)
    {
        for ( l_U1820 = 0; l_U1820 <= (l_U1199 - 1); l_U1820++ )
        {
            if (DOES_VEHICLE_EXIST( l_U1109[l_U1820] ))
            {
                if (IS_VEH_DRIVEABLE( l_U1109[l_U1820] ))
                {
                    if (NOT (IS_CHAR_INJURED( l_U1199[l_U1820]._fU0._fU0 )))
                    {
                        if (IS_VEH_DRIVEABLE( l_U1296._fU0 ))
                        {
                            CLEAR_CHAR_TASKS( l_U1199[l_U1820]._fU0._fU0 );
                            SET_CHAR_KEEP_TASK( l_U1199[l_U1820]._fU0._fU0, 1 );
                            TASK_CAR_MISSION( l_U1199[l_U1820]._fU0._fU0, l_U1109[l_U1820], l_U1296._fU0, 8, 25.00000000, 2, 200, -1 );
                        }
                    }
                }
            }
        }
        for ( l_U1820 = 0; l_U1820 <= (l_U1360 - 1); l_U1820++ )
        {
            if (DOES_VEHICLE_EXIST( l_U1360[l_U1820]._fU0._fU0 ))
            {
                if (IS_VEH_DRIVEABLE( l_U1360[l_U1820]._fU0._fU0 ))
                {
                    if (NOT (IS_CHAR_INJURED( l_U1360[l_U1820]._fU64._fU0 )))
                    {
                        CLEAR_CHAR_TASKS( l_U1360[l_U1820]._fU64._fU0 );
                        SET_CHAR_KEEP_TASK( l_U1360[l_U1820]._fU64._fU0, 1 );
                        TASK_CAR_MISSION_PED_TARGET( l_U1360[l_U1820]._fU64._fU0, l_U1360[l_U1820]._fU0._fU0, sub_4997(), 8, 25.00000000, 2, 200, -1 );
                    }
                }
            }
        }
        if (DOES_CHAR_EXIST( l_U1162._fU0 ))
        {
            if (NOT (IS_CHAR_INJURED( l_U1162._fU0 )))
            {
                if (DOES_VEHICLE_EXIST( l_U1312._fU0 ))
                {
                    if (IS_VEH_DRIVEABLE( l_U1312._fU0 ))
                    {
                        if (IS_CHAR_SITTING_IN_CAR( l_U1162._fU0, l_U1312._fU0 ))
                        {
                            if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U1312._fU0 ))
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U1312._fU0 );
                            }
                            CLEAR_CHAR_TASKS( l_U1162._fU0 );
                            SET_CHAR_KEEP_TASK( l_U1162._fU0, 1 );
                            TASK_CAR_MISSION_PED_TARGET( l_U1162._fU0, l_U1312._fU0, sub_4997(), 8, 25.00000000, 2, 200, -1 );
                        }
                    }
                }
            }
        }
        for ( l_U1820 = 0; l_U1820 <= 3; l_U1820++ )
        {
            if (DOES_BLIP_EXIST( l_U1959[l_U1820] ))
            {
                REMOVE_BLIP( l_U1959[l_U1820] );
            }
        }
        for ( l_U1820 = 0; l_U1820 <= 0; l_U1820++ )
        {
            if (DOES_BLIP_EXIST( l_U1360[l_U1820]._fU0._fU8 ))
            {
                REMOVE_BLIP( l_U1360[l_U1820]._fU0._fU8 );
            }
        }
        if (DOES_BLIP_EXIST( l_U1162._fU8 ))
        {
            REMOVE_BLIP( l_U1162._fU8 );
        }
        if (DOES_BLIP_EXIST( l_U1630._fU224 ))
        {
            REMOVE_BLIP( l_U1630._fU224 );
        }
        if (DOES_BLIP_EXIST( l_U1296._fU8 ))
        {
            REMOVE_BLIP( l_U1296._fU8 );
        }
        GET_GAME_TIMER( ref l_U1829 );
        l_U1781 = 1;
    }
    else if (sub_9790( ref l_U1829, 7500 ))
    {
        if (NOT IS_SCREEN_FADED_OUT())
        {
            if (NOT IS_SCREEN_FADING_OUT())
            {
                SET_PLAYER_CONTROL( sub_3698(), 0 );
                DO_SCREEN_FADE_OUT( 500 );
            }
        }
        else
        {
            CLEAR_AREA( -1755.80700000, 229.25570000, 18.59150000, 20.00000000, 1 );
            CLEAR_CHAR_TASKS_IMMEDIATELY( sub_4997() );
            SET_CHAR_COORDINATES( sub_4997(), -1752.20500000, 230.45530000, 18.77740000 );
            SET_CHAR_HEADING( sub_4997(), 288.42280000 );
            LOAD_SCENE( -1755.80700000, 229.25570000, 18.59150000 );
            sub_21836( 1 );
            sub_65620();
        }
    }
    return;
}

