void main()
{
    l_U4 = 0;
    l_U5 = 1;
    l_U6 = 3;
    l_U8 = 0;
    l_U25 = -1;
    l_U29 = 0;
    l_U30 = 1;
    l_U31 = 1;
    l_U39 = 150.00000000;
    l_U129 = 0;
    l_U130 = 150.00000000;
    l_U180 = 0;
    l_U490 = 0;
    l_U493 = 0;
    l_U495 = 0;
    l_U496 = 0;
    l_U497 = 0;
    l_U498 = 0;
    l_U500 = 45;
    l_U501 = 0.00000000;
    l_U502 = -3.00000000;
    l_U503 = -3.00000000;
    l_U504 = 0.00000000;
    l_U505 = 0.00000000;
    l_U506 = 0.20000000;
    l_U507 = 65491;
    l_U508 = 45;
    l_U509 = 0;
    l_U510 = 0.00000000;
    l_U514 = 0.00000000;
    l_U515 = 0.35000000;
    l_U516 = 7.50000000;
    l_U517 = -7.50000000;
    l_U545 = 0;
    l_U546 = 0;
    l_U547 = 0;
    l_U548 = 0;
    l_U549 = 0;
    l_U550 = 0;
    l_U551 = 0.00000000;
    l_U552 = 0;
    l_U553 = 0;
    l_U554 = 1;
    l_U555 = 0;
    l_U556 = 2.20000000;
    l_U557 = 0;
    l_U558 = 0;
    l_U560 = 0;
    l_U561 = 0;
    l_U566 = 0;
    l_U567 = 1;
    l_U568 = 0;
    l_U573 = -1;
    l_U574 = "CRADLE_LOOP";
    l_U603 = 2;
    l_U610 = 0;
    l_U620 = 0;
    l_U621 = 0;
    l_U623 = 0;
    l_U624 = 0;
    l_U625 = 0;
    l_U626 = {-0.50000000, 0.00000000, 0.29000000};
    l_U629 = {0.50000000, 0.00000000, 0.29000000};
    l_U632 = 3;
    l_U633 = 0;
    l_U634 = 0;
    l_U635 = 0;
    l_U639 = {1.00000000, 1.00000000, 1.00000000};
    l_U648 = 1.00000000;
    l_U657 = 0;
    l_U658 = 0;
    l_U659 = 0;
    l_U660 = 0;
    l_U670 = 99;
    l_U671 = 0;
    l_U672 = 0;
    l_U684 = 0;
    l_U685 = 0;
    l_U686 = {0.00000000, 0.00000000, 0.00000000};
    l_U689 = {0.00000000, 0.00000000, 0.00000000};
    l_U692 = 0;
    l_U693 = 0;
    l_U700 = 0;
    l_U823 = 99;
    l_U825 = 99;
    l_U833 = 0;
    l_U840 = 0;
    l_U843 = 0;
    l_U844 = -1;
    l_U845 = {0.00000000, 0.00000000, 0.00000000};
    l_U848 = {0.00000000, 0.00000000, 0.00000000};
    l_U851 = 0;
    l_U852 = 0;
    l_U853 = 0;
    l_U854 = 0;
    l_U855 = 1.00000000;
    l_U857 = 0;
    l_U858 = 0;
    l_U859 = 0;
    l_U860 = 0;
    l_U861 = 0;
    l_U862 = 0;
    l_U863 = 0;
    l_U865 = 0;
    l_U866 = {1.00000000, 0.00000000, 1.00000000};
    l_U869 = {-1.00000000, 0.00000000, -1.50000000};
    l_U872 = 0.50000000;
    l_U873 = 0.50000000;
    l_U874 = 0.50000000;
    l_U879 = 0;
    l_U880 = 2;
    l_U881 = 0;
    l_U882 = 0;
    l_U883 = 0;
    l_U884 = 0;
    l_U885 = 0;
    l_U886 = 0;
    l_U887 = 0;
    l_U888 = -196312163;
    l_U889 = 583488944;
    l_U890 = 7;
    l_U891 = 7;
    l_U892 = 16;
    l_U905 = {67.99230000, 322.19370000, 13.75300000};
    l_U922 = {81.56910000, 373.35700000, 19.20000000};
    l_U947 = 0;
    l_U954 = 0;
    l_U955 = 0;
    l_U956 = 0;
    l_U964 = {50.14790000, 342.48090000, 14.70510000};
    l_U967 = {82.77000000, 353.85000000, 40.60000000};
    l_U970 = 0;
    l_U971 = 0;
    l_U972 = 0;
    l_U973 = 0;
    l_U997 = 0;
    l_U998 = 0;
    l_U999 = 0;
    l_U1000 = 0;
    l_U1003 = 0;
    l_U1004 = 0;
    l_U1005 = 0;
    l_U1008 = {74.34070000, 315.64670000, 15.05380000};
    l_U1011 = {75.46640000, 315.60800000, 15.05380000};
    l_U1014 = {74.23000000, 318.33000000, 13.75000000};
    l_U1017 = {74.11940000, 317.35650000, 14.75300000};
    l_U1020 = {84.92000000, 373.34300000, 39.08901000};
    l_U1045 = 0;
    l_U1046 = 0;
    l_U1052 = 16;
    l_U1053 = 0;
    l_U1054 = 0;
    l_U1056 = 0;
    l_U1057 = 0;
    l_U1058 = 0;
    l_U1060 = 4;
    l_U1061 = 0;
    l_U1064 = 0;
    l_U1065 = 0;
    l_U1066 = 0;
    l_U1067 = 0;
    l_U1068 = 0;
    l_U1069 = 0;
    l_U1070 = 0;
    l_U1072 = 0;
    l_U1073 = 8;
    l_U1074 = 0;
    l_U1075 = 0;
    l_U1076 = 0;
    l_U1077 = {74.28000000, 315.61000000, 14.25000000};
    l_U1080 = 0;
    l_U1081 = 0;
    l_U1082 = 0;
    l_U1083 = 0;
    l_U1084 = 0;
    l_U1088 = 0;
    l_U1089 = 0;
    l_U1090 = 0;
    l_U1091 = 0;
    l_U1098 = {51.99340000, 296.35530000, 14.69490000};
    l_U1102 = 0;
    l_U1104 = 0;
    l_U1105 = 100000;
    l_U1106 = 0;
    l_U1107 = 0;
    l_U1108 = 0;
    l_U1109 = 0;
    l_U1110 = 0;
    l_U1111 = 0;
    l_U1112 = {141.02750000, 599.27250000, 13.56370000};
    l_U1115 = 0;
    l_U1116 = 0;
    l_U1117 = 0;
    l_U1118 = nil;
    l_U1119 = "FRANCIS6_18";
    l_U1120 = 0;
    l_U1126 = 0;
    l_U1127 = 0;
    l_U1128 = 0;
    l_U1129 = 0;
    l_U1152 = 10;
    l_U1189 = 0;
    l_U1191 = 1;
    l_U1192 = 0;
    l_U1194 = 0;
    l_U1195 = 0;
    l_U1196 = 0;
    l_U1197 = 0;
    l_U1198 = 0;
    l_U1199 = 0;
    l_U1200 = 0;
    l_U1201 = {49.00000000, 319.26060000, 14.75300000};
    l_U1204 = {16.00000000, 31.00000000, 3.00000000};
    l_U1207 = 0;
    l_U1209 = 6;
    l_U1211 = 0;
    l_U1212 = 0;
    l_U1215 = 0;
    l_U1217 = 1;
    l_U1234 = 0;
    l_U1235 = 0;
    l_U1236 = 0;
    l_U1237 = 0;
    l_U1238 = 0;
    l_U1239 = 0;
    l_U1240 = 0;
    l_U1241 = {-585.30510000, -271.97080000, 5.77000000};
    l_U1244 = 37.07330000;
    l_U1245 = 0;
    l_U1246 = 0;
    l_U1247 = 0;
    l_U1248 = 0;
    l_U1249 = 0;
    l_U1250 = 1;
    l_U1251 = {76.48000000, 316.59000000, 3.75000000};
    l_U1254 = {73.53000000, 314.57000000, 23.75000000};
    l_U1257 = {73.30000000, 318.85000000, 3.75000000};
    l_U1260 = {72.04000000, 316.41000000, 23.75000000};
    l_U1263 = 0;
    SET_MISSION_FLAG( 1 );
    if (HAS_DEATHARREST_EXECUTED())
    {
        l_U956 = 1;
        sub_2019();
        sub_4129();
    }
    STOP_PED_SPEAKING( sub_5707(), 0 );
    sub_7086();
    sub_7925();
    sub_8767();
    while (true)
    {
        WAIT( 0 );
        if (IS_PLAYER_PLAYING( sub_6521() ))
        {
            switch (l_U880)
            {
                case 2:
                sub_8937();
                sub_9274();
                l_U880 = 3;
                ADD_SCENARIO_BLOCKING_AREA( l_U1257, l_U1260 );
                ADD_SCENARIO_BLOCKING_AREA( l_U1251, l_U1254 );
                break;
                case 3:
                sub_10172();
                break;
                case 0:
                l_U880 = 1;
                break;
                case 1:
                if (LOCATE_CHAR_ANY_MEANS_2D( sub_5707(), 83.05240000, 324.95280000, 57.00000000, 74.00000000, 0 ))
                {
                    if (NOT l_U1247)
                    {
                        SET_PED_DENSITY_MULTIPLIER( 0.30000000 );
                        SET_CAR_DENSITY_MULTIPLIER( 0.30000000 );
                        l_U1247 = 1;
                    }
                }
                else if (l_U1247)
                {
                    SET_PED_DENSITY_MULTIPLIER( 1.00000000 );
                    SET_CAR_DENSITY_MULTIPLIER( 1.00000000 );
                    l_U1247 = 0;
                }
                if (l_U882)
                {
                    sub_11054();
                }
                sub_32375();
                sub_32888();
                sub_33776();
                sub_34255();
                sub_34609();
                sub_35144();
                if (IS_CHAR_IN_ANY_CAR( sub_5707() ))
                {
                    GET_CAR_CHAR_IS_USING( sub_5707(), ref l_U1264 );
                    GET_CAR_MODEL( l_U1264, ref l_U1265 );
                    if (IS_THIS_MODEL_A_HELI( l_U1265 ))
                    {
                        sub_35852();
                    }
                }
                if (NOT l_U971)
                {
                    if (NOT l_U970)
                    {
                        if (NOT l_U1192)
                        {
                            if (l_U1082)
                            {
                                sub_35977();
                            }
                            else if (LOCATE_CHAR_ON_FOOT_3D( sub_5707(), l_U1020._fU0, l_U1020._fU4, l_U1020._fU8, 50.00000000, 50.00000000, 3.00000000, 0 ))
                            {
                                if (IS_CHAR_SHOOTING( sub_5707() ))
                                {
                                    sub_32487( 3 );
                                }
                            }
                            sub_36297();
                            sub_37341();
                            if (l_U999)
                            {
                                sub_54352();
                            }
                            sub_54712();
                            sub_56267();
                        }
                    }
                }
                if (l_U881)
                {
                    sub_56414();
                }
                if (l_U970)
                {
                    if (l_U1090)
                    {
                        sub_59413( ref l_U893[1], 1 );
                    }
                }
                if (l_U971)
                {
                    if (l_U1090)
                    {
                        sub_59413( ref l_U893[0], 0 );
                    }
                }
                if (l_U971)
                {
                    if (NOT l_U970)
                    {
                        if (NOT l_U1249)
                        {
                            STOP_PED_SPEAKING( sub_5707(), 0 );
                            GET_GAME_TIMER( ref l_U1263 );
                            l_U1249 = 1;
                        }
                        if ((NOT (IS_CONTROL_PRESSED( 0, 6 ))) || (sub_33858( 1000, l_U1263 )))
                        {
                            if (NOT (IS_CHAR_IN_AIR( sub_5707() )))
                            {
                                if (IS_PLAYER_PLAYING( sub_6521() ))
                                {
                                    l_U1090 = 1;
                                }
                            }
                        }
                    }
                }
                if (l_U970)
                {
                    if (NOT l_U971)
                    {
                        if (NOT l_U1249)
                        {
                            STOP_PED_SPEAKING( sub_5707(), 0 );
                            GET_GAME_TIMER( ref l_U1263 );
                            l_U1249 = 1;
                        }
                        if ((NOT (IS_CONTROL_PRESSED( 0, 6 ))) || (sub_33858( 5000, l_U1263 )))
                        {
                            if (NOT (IS_CHAR_IN_AIR( sub_5707() )))
                            {
                                if (IS_PLAYER_PLAYING( sub_6521() ))
                                {
                                    sub_60178();
                                }
                            }
                        }
                    }
                }
                if ((l_U955) || (l_U954))
                {
                    sub_63167();
                    sub_63299();
                }
                break;
                case 4:
                sub_4129();
                break;
            }
        }
        sub_64901();
        sub_65913( ref l_U893 );
    }
    return;
}

void sub_2019()
{
    sub_2028();
    return;
}

void sub_2028()
{
    int iVar2;

    iVar2 = 11;
    sub_2042( iVar2 );
    sub_3218( iVar2 );
    return;
}

void sub_2042(unknown uParam0)
{
    int iVar3;
    boolean bVar4;
    unknown uVar5;

    iVar3 = g_U13391[uParam0]._fU0._fU56;
    bVar4 = iVar3 == 6;
    if (g_U813)
    {
        sub_2086();
        sub_2247();
    }
    else if (NOT g_U10981[uParam0]._fU12)
    {
        if (NOT bVar4)
        {
            sub_2355();
            sub_2394();
        }
    }
    sub_2470();
    sub_2571();
    uVar5 = sub_2684( uParam0 );
    sub_3125( uVar5, 0 );
    return;
}

void sub_2086()
{
    sub_2100( g_U9931 );
    if (NOT g_U9893._fU24)
    {
        sub_2200();
    }
    return;
}

void sub_2100(int iParam0)
{
    int iVar3;

    if (g_U0)
    {
        return;
    }
    if (iParam0 == -1)
    {
        return;
    }
    iVar3 = g_U26758[iParam0]._fU100;
    iVar3--;
    g_U26758[iParam0]._fU100 = iVar3;
    DECREMENT_INT_STAT( 255, 1 );
    return;
}

void sub_2200()
{
    if (g_U0)
    {
        return;
    }
    DECREMENT_INT_STAT( 256, 1 );
    return;
}

void sub_2247()
{
    sub_2256();
    return;
}

void sub_2256()
{
    if (COMPARE_STRING( ref g_U9926, "" ))
    {
        return;
    }
    PLAYSTATS_MISSION_CANCELLED( ref g_U9926 );
    StrCopy( ref g_U9926, "", 16 );
    return;
}

void sub_2355()
{
    if (g_U0)
    {
        return;
    }
    INCREMENT_INT_STAT_NO_MESSAGE( 254, 1 );
    return;
}

void sub_2394()
{
    sub_2403();
    return;
}

void sub_2403()
{
    if (COMPARE_STRING( ref g_U9926, "" ))
    {
        return;
    }
    PLAYSTATS_MISSION_FAILED( ref g_U9926 );
    StrCopy( ref g_U9926, "", 16 );
    return;
}

void sub_2470()
{
    int I;

    I = 0;
    for ( I = 0; I < 28; I++ )
    {
        if (g_U10981[I]._fU144._fU36)
        {
            g_U10981[I]._fU28 = 1;
        }
        g_U10981[I]._fU144._fU36 = 0;
    }
    return;
}

void sub_2571()
{
    int iVar2;
    int iVar3;

    iVar2 = 0;
    GET_GAME_TIMER( ref iVar2 );
    iVar3 = iVar2 + sub_2593();
    if (iVar3 > g_U63988._fU4)
    {
        g_U63988._fU4 = iVar3;
        g_U63988._fU8 = iVar2;
    }
    return;
}

int sub_2593()
{
    if (g_U15654[8])
    {
        return 27000;
    }
    return 15000;
}

int sub_2684(unknown uParam0)
{
    switch (uParam0)
    {
        case 0: return 0;
        case 1: return 1;
        case 2: return 2;
        case 3: return 3;
        case 4: return 4;
        case 5: return 5;
        case 6: return 6;
        case 7: return 7;
        case 8: return 8;
        case 9: return 9;
        case 10: return 10;
        case 11: return 11;
        case 12: return 12;
        case 13: return 13;
        case 14: return 14;
        case 15: return 15;
        case 16: return 16;
        case 17: return 17;
        case 18: return 18;
        case 19: return 19;
        case 20: return 22;
        case 21: return 20;
        case 22: return 21;
    }
    PRINTSTRING( "UNKNOWN STRAND ID: " );
    PRINTINT( uParam0 );
    PRINTNL();
    sub_3083( "Flow_public: Return_Contact_From_Strand(): Unknown strand" );
    return 57;
}

void sub_3083(unknown uParam0)
{
    SCRIPT_ASSERT( uParam0 );
    return;
}

void sub_3125(int iParam0, boolean bParam1)
{
    int iVar4;

    if (NOT (iParam0 < 57))
    {
        return;
    }
    iVar4 = 0;
    GET_GAME_TIMER( ref iVar4 );
    g_U26671[iParam0] = iVar4;
    if (bParam1)
    {
        g_U26671[iParam0] += 30000;
    }
    return;
}

void sub_3218(int iParam0)
{
    int iVar3;
    boolean bVar4;

    sub_3227();
    if (g_U0)
    {
        return;
    }
    if (g_U91._fU40 == 0)
    {
        return;
    }
    if (NOT g_U10978)
    {
        return;
    }
    iVar3 = g_U13391[iParam0]._fU0._fU56;
    bVar4 = iVar3 == 6;
    if (bVar4)
    {
        return;
    }
    if (g_U10981[iParam0]._fU12)
    {
        return;
    }
    if (g_U9893._fU40 == -1)
    {
        return;
    }
    if (NOT (g_U9893._fU40 == iParam0))
    {
        return;
    }
    if (NOT g_U813)
    {
        sub_4002();
        g_U9893._fU4 = 1;
    }
    return;
}

void sub_3227()
{
    int I;

    for ( I = 0; I <= (g_U569 - 1); I++ )
    {
        if ((g_U569[I]._fU20) AND ((sub_3265( 5, g_U569[I] )) == 1))
        {
            if ((sub_3265( 1, g_U569[I] )) != 0)
            {
                sub_3551( I );
            }
        }
    }
    if (NOT sub_3717())
    {
        SET_MESSAGES_WAITING( 0 );
        g_U91._fU404 = 1000;
    }
    if (g_U91._fU0 == 1014)
    {
        g_U91._fU92 = 1;
    }
    return;
}

int sub_3265(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
    switch (uParam0)
    {
        case 0:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 14, 23 );
        break;
        case 1:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 0, 13 );
        break;
        case 2:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 14, 27 );
        break;
        case 3:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 0, 13 );
        break;
        case 4:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 24, 27 );
        break;
        case 5:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 28, 31 );
        break;
        case 6:
        return uParam1._fU0[2];
        break;
    }
    return -1;
}

void sub_3551(int iParam0)
{
    int I;

    if (iParam0 < (g_U569 - 1))
    {
        for ( I = iParam0 + 1; I <= (g_U569 - 1); I++ )
        {
            g_U569[I - 1] = {g_U569[I]};
        }
    }
    sub_3636( g_U569 - 1 );
    return;
}

void sub_3636(unknown uParam0)
{
    g_U569[uParam0]._fU0[0] = -1;
    g_U569[uParam0]._fU0[1] = -1;
    g_U569[uParam0]._fU0[2] = -1;
    return;
}

int sub_3717()
{
    int I;

    for ( I = 0; I <= (g_U569 - 1); I++ )
    {
        if ((sub_3265( 4, g_U569[I] )) == 0)
        {
            return 1;
        }
    }
    return 0;
}

void sub_4002()
{
    g_U9893._fU4 = 0;
    g_U9893._fU8 = 0;
    g_U9893._fU12 = 0;
    g_U9893._fU16 = 0;
    g_U9893._fU20 = 0;
    g_U9893._fU28 = 0;
    g_U9893._fU32 = 0;
    g_U9893._fU36 = 0;
    g_U9893._fU48 = 0;
    return;
}

void sub_4129()
{
    sub_4140( 19, 0 );
    sub_6023( ref l_U957, 1 );
    sub_6251( 2, "WClift_01" );
    sub_6615( 0, l_U922, 5 );
    sub_6615( 0, l_U964, 5 );
    sub_6793( 0, l_U925[0], 7 );
    sub_6615( 0, l_U967, 8 );
    sub_6615( 0, l_U922, 1 );
    SWITCH_ROADS_BACK_TO_ORIGINAL( 49.80710000, 394.24510000, 24.69070000, 116.83730000, 374.95990000, -14.83160000 );
    SWITCH_ROADS_BACK_TO_ORIGINAL( -556.93020000, -299.84810000, -10.59620000, -624.41570000, -224.50730000, 16.97690000 );
    TERMINATE_THIS_SCRIPT();
    return;
}

void sub_4140(unknown uParam0, unknown uParam1)
{
    g_U10133._fU84[uParam0] = uParam1;
    sub_4164();
    return;
}

void sub_4164()
{
    int I;
    int iVar3;

    I = 0;
    iVar3 = 0;
    for ( I = 0; I < 15; I++ )
    {
        iVar3 = sub_4192( 13 );
        if ((g_U9932[g_U9999[I]._fU0]._fU0) AND (sub_4237( 13, iVar3 )))
        {
            sub_4338( ref g_U9999[I]._fU20, g_U9999[I]._fU4, 4, 60 );
        }
        else
        {
            sub_4522( ref g_U9999[I]._fU20 );
        }
    }
    for ( I = 0; I < 7; I++ )
    {
        iVar3 = sub_4192( 11 );
        if ((g_U9932[g_U10090[I]._fU0]._fU0) AND (sub_4237( 11, iVar3 )))
        {
            sub_4338( ref g_U10090[I]._fU20, g_U10090[I]._fU4, 4, 62 );
        }
        else
        {
            sub_4522( ref g_U10090[I]._fU20 );
        }
    }
    for ( I = 0; I < 59; I++ )
    {
        iVar3 = sub_4716( I );
        if ((g_U9932[g_U10324[I]._fU28]._fU0) AND (sub_4237( g_U10324[I]._fU12, iVar3 )))
        {
            sub_4338( ref g_U10324[I]._fU32, g_U10324[I]._fU0, g_U10324[I]._fU24, g_U10324[I]._fU20 );
            sub_5024( I );
        }
        else
        {
            sub_4522( ref g_U10324[I]._fU32 );
            g_U10133._fU520[I] = 0;
        }
    }
    sub_5253();
    return;
}

int sub_4192(unknown uParam0)
{
    if (g_U10133._fU84[uParam0])
    {
        return 1;
    }
    return 0;
}

int sub_4237(unknown uParam0, boolean bParam1)
{
    if (bParam1)
    {
        return 1;
    }
    if (g_U10133._fU0[uParam0])
    {
        return 1;
    }
    return 0;
}

void sub_4338(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4, unknown uParam5)
{
    if (NOT (DOES_BLIP_EXIST( (uParam0^) )))
    {
        if ((iParam4 == 1) || ((iParam4 == 4) || ((iParam4 == 3) || (iParam4 == 2))))
        {
            ADD_BLIP_FOR_COORD( uParam1._fU0, uParam1._fU4, uParam1._fU8, uParam0 );
        }
        else
        {
            ADD_BLIP_FOR_CONTACT( uParam1._fU0, uParam1._fU4, uParam1._fU8, uParam0 );
        }
        CHANGE_BLIP_SPRITE( (uParam0^), uParam5 );
        CHANGE_BLIP_PRIORITY( (uParam0^), l_U4 );
        if (iParam4 == 3)
        {
            CHANGE_BLIP_DISPLAY( (uParam0^), 3 );
        }
        if (iParam4 == 4)
        {
            CHANGE_BLIP_DISPLAY( (uParam0^), 5 );
        }
    }
    return;
}

void sub_4522(unknown uParam0)
{
    if (NOT (DOES_BLIP_EXIST( (uParam0^) )))
    {
        return;
    }
    REMOVE_BLIP( (uParam0^) );
    (uParam0^) = nil;
    return;
}

int sub_4716(unknown uParam0)
{
    unknown uVar3;

    if (g_U10133._fU280[uParam0])
    {
        return 1;
    }
    if (sub_4758( g_U10324[uParam0]._fU16 ))
    {
        return 1;
    }
    if (sub_4192( g_U10324[uParam0]._fU12 ))
    {
        return 1;
    }
    if (NOT g_U10978)
    {
        uVar3 = g_U10324[uParam0]._fU12;
        if (g_U10133._fU0[uVar3])
        {
            if (g_U10324[uParam0]._fU24 == 1)
            {
                if (g_U9937 == g_U10324[uParam0]._fU28)
                {
                    return 1;
                }
            }
        }
    }
    return 0;
}

int sub_4758(unknown uParam0)
{
    if (g_U10133._fU168[uParam0])
    {
        return 1;
    }
    return 0;
}

void sub_5024(unknown uParam0)
{
    if (DOES_BLIP_EXIST( g_U10324[uParam0]._fU32 ))
    {
        switch (uParam0)
        {
            case 6:
            CHANGE_BLIP_NAME_FROM_TEXT_FILE( g_U10324[uParam0]._fU32, "BINCO" );
            break;
            case 37:
            CHANGE_BLIP_NAME_FROM_TEXT_FILE( g_U10324[uParam0]._fU32, "ZIP" );
            break;
            case 36:
            case 35:
            CHANGE_BLIP_NAME_FROM_TEXT_FILE( g_U10324[uParam0]._fU32, "PERSEUS" );
            break;
        }
    }
    return;
}

void sub_5253()
{
    int I;
    boolean bVar3;
    int iVar4;
    boolean bVar5;
    boolean bVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    float fVar10;
    float fVar11;
    int iVar12;

    I = 0;
    bVar3 = sub_4192( 13 );
    for ( I = 0; I < 15; I++ )
    {
        sub_5298( g_U9999[I]._fU20, bVar3 );
    }
    bVar3 = sub_4192( 11 );
    for ( I = 0; I < 7; I++ )
    {
        sub_5298( g_U10090[I]._fU20, bVar3 );
    }
    iVar4 = 0;
    for ( I = 0; I < 59; I++ )
    {
        if ((g_U9932[g_U10324[I]._fU28]._fU0) AND (sub_4716( I )))
        {
            iVar4++;
        }
    }
    bVar5 = false;
    if (iVar4 <= 3)
    {
        bVar5 = true;
    }
    for ( I = 0; I < 59; I++ )
    {
        bVar3 = sub_4716( I );
        if (bVar3)
        {
            if (NOT bVar5)
            {
                if (NOT (g_U9937 == g_U10324[I]._fU28))
                {
                    bVar3 = false;
                }
            }
        }
        sub_5298( g_U10324[I]._fU32, bVar3 );
    }
    bVar6 = false;
    for ( I = 0; I < 5; I++ )
    {
        bVar3 = false;
        if (g_U9943[I]._fU0)
        {
            if (g_U9937 == g_U9943[I]._fU40)
            {
                bVar3 = true;
                bVar6 = true;
            }
        }
        sub_5298( g_U9943[I]._fU32, bVar3 );
    }
    fVar10 = 99999.90000000;
    fVar11 = 0.00000000;
    iVar12 = -1;
    if (NOT bVar6)
    {
        if (NOT (IS_CHAR_DEAD( sub_5707() )))
        {
            GET_CHAR_COORDINATES( sub_5707(), ref uVar7._fU0, ref uVar7._fU4, ref uVar7._fU8 );
            for ( I = 0; I < 5; I++ )
            {
                if (g_U9943[I]._fU0)
                {
                    fVar11 = sub_5825( uVar7, g_U9943[I]._fU8 );
                    if (fVar11 < fVar10)
                    {
                        fVar10 = fVar11;
                        iVar12 = I;
                    }
                }
            }
        }
        if (NOT (iVar12 == -1))
        {
            for ( I = 0; I < 5; I++ )
            {
                bVar3 = false;
                if (iVar12 == I)
                {
                    bVar3 = true;
                }
                sub_5298( g_U9943[I]._fU32, bVar3 );
            }
        }
    }
    return;
}

void sub_5298(unknown uParam0, boolean bParam1)
{
    if (bParam1)
    {
        SET_BLIP_AS_SHORT_RANGE( uParam0, 0 );
    }
    else
    {
        SET_BLIP_AS_SHORT_RANGE( uParam0, 1 );
    }
    return;
}

void sub_5707()
{
    unknown Result;

    GET_PLAYER_CHAR( CONVERT_INT_TO_PLAYERINDEX( GET_PLAYER_ID() ), ref Result );
    return Result;
}

void sub_5825(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    float Result;

    Result = 9999.90000000;
    GET_DISTANCE_BETWEEN_COORDS_3D( uParam0._fU0, uParam0._fU4, uParam0._fU8, uParam3._fU0, uParam3._fU4, uParam3._fU8, ref Result );
    return Result;
}

void sub_6023(int iParam0, unknown uParam1)
{
    int I;

    if (iParam0->_fU24 >= 0)
    {
        for ( I = iParam0->_fU24; I >= 0; I += -1 )
        {
            if (sub_6076( iParam0->_fU0, g_U569[I] ))
            {
                g_U569[I]._fU20 = uParam1;
                iParam0->_fU24 = I;
            }
        }
    }
    return;
}

int sub_6076(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    int iVar14;
    int iVar15;

    if ((uParam0._fU0[2] == uParam6._fU0[2]) AND (uParam0._fU0[0] == uParam6._fU0[0]))
    {
        iVar14 = sub_3265( 0, uParam0 );
        if (iVar14 == (sub_3265( 0, uParam6 )))
        {
            iVar15 = sub_3265( 3, uParam0 );
            if (iVar15 == (sub_3265( 3, uParam6 )))
            {
                return 1;
            }
        }
    }
    return 0;
}

void sub_6251(int iParam0, string sParam1)
{
    string sVar4;

    if (USING_STANDARD_CONTROLS())
    {
        sVar4 = "CNTBUT1";
    }
    else
    {
        sVar4 = "CNTBUT2";
    }
    if (IS_STRING_NULL( sParam1 ))
    {
        sParam1 = "NULL";
    }
    else if (DOES_TEXT_LABEL_EXIST( sParam1 ))
    {
        if ((GET_LENGTH_OF_STRING_WITH_THIS_TEXT_LABEL( sParam1 )) == 0)
        {
            sParam1 = "NULL";
        }
    }
    else
    {
        sParam1 = "NULL";
    }
    if (NOT (IS_STRING_NULL( sParam1 )))
    {
        if (COMPARE_STRING( sParam1, ref g_U9174 ))
        {
            if ((l_U3) AND (g_U9172 == iParam0))
            {
                StrCopy( ref g_U9174, "", 16 );
                g_U9172 = 0;
                g_U9173 = 0;
                g_U9178 = nil;
                l_U3 = 0;
                if (l_U1)
                {
                    sub_6472();
                    l_U1 = 0;
                }
            }
            if (l_U2)
            {
                ALLOW_PLAYER_TO_CARRY_NON_MISSION_OBJECTS( sub_6521(), 1 );
                l_U2 = 0;
            }
            if (l_U0)
            {
                if (IS_THIS_HELP_MESSAGE_WITH_STRING_BEING_DISPLAYED( sParam1, sVar4 ))
                {
                    CLEAR_HELP();
                }
                l_U0 = 0;
            }
        }
    }
    return;
}

void sub_6472()
{
    g_U91._fU100 = 0;
    g_U91._fU104 = 0;
    return;
}

void sub_6521()
{
    return CONVERT_INT_TO_PLAYERINDEX( GET_PLAYER_ID() );
}

void sub_6615(boolean bParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (bParam0)
    {
        if (NOT (DOES_BLIP_EXIST( l_U936[uParam4] )))
        {
            if (NOT l_U947)
            {
                ADD_BLIP_FOR_COORD( uParam1._fU0, uParam1._fU4, uParam1._fU8, ref l_U936[uParam4] );
                SET_ROUTE( l_U936[uParam4], 1 );
                l_U947 = 1;
            }
        }
    }
    else if (DOES_BLIP_EXIST( l_U936[uParam4] ))
    {
        REMOVE_BLIP( l_U936[uParam4] );
        l_U947 = 0;
    }
    return;
}

void sub_6793(boolean bParam0, unknown uParam1, unknown uParam2)
{
    if (bParam0)
    {
        if (NOT (DOES_BLIP_EXIST( l_U936[uParam2] )))
        {
            if (NOT l_U947)
            {
                if (IS_VEH_DRIVEABLE( uParam1 ))
                {
                    ADD_BLIP_FOR_CAR( uParam1, ref l_U936[uParam2] );
                    SET_ROUTE( l_U936[uParam2], 1 );
                    l_U947 = 1;
                }
            }
        }
    }
    else if (DOES_BLIP_EXIST( l_U936[uParam2] ))
    {
        REMOVE_BLIP( l_U936[uParam2] );
        l_U947 = 0;
    }
    return;
}

void sub_7086()
{
    INIT_DEBUG_WIDGETS();
    CREATE_WIDGET_GROUP( "PLAYER WIDGET" );
    ADD_WIDGET_TOGGLE( "USE COORDS FOR LOCATE", ref l_U865 );
    ADD_WIDGET_FLOAT_SLIDER( "LOCATE_SIZE.X", ref l_U639._fU0, 0.00000000, 100.00000000, 1.00000000 );
    ADD_WIDGET_FLOAT_SLIDER( "LOCATE_SIZE.Y", ref l_U639._fU4, 0.00000000, 100.00000000, 1.00000000 );
    ADD_WIDGET_FLOAT_SLIDER( "LOCATE_SIZE.Z", ref l_U639._fU8, 0.00000000, 100.00000000, 1.00000000 );
    ADD_WIDGET_FLOAT_SLIDER( "vPLAYER_COORDS.X", ref l_U636._fU0, -2000.00000000, 2000.00000000, 1.00000000 );
    ADD_WIDGET_FLOAT_SLIDER( "vPLAYER_COORDS.Y", ref l_U636._fU4, -2000.00000000, 2000.00000000, 1.00000000 );
    ADD_WIDGET_FLOAT_SLIDER( "vPLAYER_COORDS.Z", ref l_U636._fU8, -2000.00000000, 2000.00000000, 1.00000000 );
    ADD_WIDGET_TOGGLE( "PRINT_TO_O/P_FILE", ref l_U649 );
    ADD_WIDGET_FLOAT_SLIDER( "VOFFS_MAX.X", ref l_U866._fU0, 0.00000000, 100.00000000, 0.50000000 );
    ADD_WIDGET_FLOAT_SLIDER( "VOFFS_MAX.Y", ref l_U866._fU4, 0.00000000, 100.00000000, 0.50000000 );
    ADD_WIDGET_FLOAT_SLIDER( "VOFFS_MAX.Z", ref l_U866._fU8, 0.00000000, 100.00000000, 0.50000000 );
    ADD_WIDGET_FLOAT_SLIDER( "VOFFS_MIN.X", ref l_U869._fU0, -100.00000000, 0.00000000, 0.50000000 );
    ADD_WIDGET_FLOAT_SLIDER( "VOFFS_MIN.Y", ref l_U869._fU4, -100.00000000, 0.00000000, 0.50000000 );
    ADD_WIDGET_FLOAT_SLIDER( "VOFFS_MIN.Z", ref l_U869._fU8, -100.00000000, 0.00000000, 0.50000000 );
    ADD_WIDGET_FLOAT_SLIDER( "L_WIDTH", ref l_U648, -100.00000000, 1000.00000000, 0.50000000 );
    ADD_WIDGET_FLOAT_SLIDER( "OBJECT_POS.X", ref l_U875._fU0, -100.00000000, 100.00000000, 0.25000000 );
    ADD_WIDGET_FLOAT_SLIDER( "OBJECT_POS.Y", ref l_U875._fU4, -100.00000000, 100.00000000, 0.25000000 );
    ADD_WIDGET_FLOAT_SLIDER( "OBJECT_POS.Z", ref l_U875._fU8, -100.00000000, 100.00000000, 0.25000000 );
    END_WIDGET_GROUP();
    return;
}

void sub_7925()
{
    INIT_DEBUG_WIDGETS();
    CREATE_WIDGET_GROUP( "PED WIDGET" );
    ADD_WIDGET_FLOAT_SLIDER( "vPED_DEBUG_POS.X", ref l_U827._fU0, -2000.00000000, 2000.00000000, 0.20000000 );
    ADD_WIDGET_FLOAT_SLIDER( "vPED_DEBUG_POS.Y", ref l_U827._fU4, -2000.00000000, 2000.00000000, 0.20000000 );
    ADD_WIDGET_FLOAT_SLIDER( "vPED_DEBUG_POS.Z", ref l_U827._fU8, -2000.00000000, 2000.00000000, 0.20000000 );
    ADD_WIDGET_FLOAT_SLIDER( "vPED_DEBUG_ROT.X", ref l_U830._fU0, 0.00000000, 360.00000000, 1.00000000 );
    ADD_WIDGET_FLOAT_SLIDER( "vPED_DEBUG_ROT.Y", ref l_U830._fU4, 0.00000000, 360.00000000, 1.00000000 );
    ADD_WIDGET_FLOAT_SLIDER( "vPED_DEBUG_ROT.Z", ref l_U830._fU8, 0.00000000, 360.00000000, 0.20000000 );
    ADD_WIDGET_FLOAT_SLIDER( "vFORCE.X", ref l_U673._fU0, -100.00000000, 360.00000000, 0.20000000 );
    ADD_WIDGET_FLOAT_SLIDER( "vFORCE.Y", ref l_U673._fU4, -100.00000000, 360.00000000, 0.20000000 );
    ADD_WIDGET_FLOAT_SLIDER( "vFORCE.Z", ref l_U673._fU8, -100.00000000, 360.00000000, 0.20000000 );
    ADD_WIDGET_FLOAT_SLIDER( "vtfOffset.X", ref l_U676._fU0, -100.00000000, 360.00000000, 0.20000000 );
    ADD_WIDGET_FLOAT_SLIDER( "vtfOffset.Y", ref l_U676._fU4, -100.00000000, 360.00000000, 0.20000000 );
    ADD_WIDGET_FLOAT_SLIDER( "vtfOffset.Z", ref l_U676._fU8, -100.00000000, 360.00000000, 0.20000000 );
    ADD_WIDGET_TOGGLE( "LOCAL_FORCE", ref l_U679 );
    ADD_WIDGET_TOGGLE( "LOCAL_OFFSET", ref l_U680 );
    ADD_WIDGET_TOGGLE( "SCALE_BY_MASS", ref l_U681 );
    ADD_WIDGET_TOGGLE( "bAPPLY_FORCE_TO_PED", ref l_U834 );
    ADD_WIDGET_TOGGLE( "STUMBLE", ref l_U837 );
    ADD_WIDGET_TOGGLE( "DEBUG PED", ref l_U824 );
    ADD_WIDGET_TOGGLE( "bRESET_PED_TEST", ref l_U835 );
    ADD_WIDGET_SLIDER( "PED_INDEX", ref l_U826, 0, 100, 1 );
    ADD_WIDGET_SLIDER( "BONE", ref l_U836, 0, 100, 1 );
    END_WIDGET_GROUP();
    return;
}

void sub_8767()
{
    INIT_DEBUG_WIDGETS();
    CREATE_WIDGET_GROUP( "VAN CAM WIDGET" );
    ADD_WIDGET_SLIDER( "test time", ref l_U1086, 63536, 2000, 1 );
    END_WIDGET_GROUP();
    return;
}

void sub_8937()
{
    LOAD_ADDITIONAL_TEXT( "FM5AUD", 6 );
    LOAD_ADDITIONAL_TEXT( "FRANCI5", 0 );
    sub_8990( "FM5AUD" );
    sub_9117( 0, sub_5707(), "NIKO", 0 );
    return;
}

void sub_8990(unknown uParam0)
{
    StrCopy( ref l_U181._fU0, uParam0, 16 );
    sub_9009();
    return;
}

void sub_9009()
{
    int I;

    for ( I = 0; I <= 8; I++ )
    {
        l_U181._fU16[I]._fU0 = nil;
        StrCopy( ref l_U181._fU16[I]._fU4, "", 32 );
        l_U181._fU344[I] = 0;
    }
    return;
}

void sub_9117(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    l_U181._fU16[uParam0]._fU0 = uParam1;
    StrCopy( ref l_U181._fU16[uParam0]._fU4, uParam2, 32 );
    if (NOT (IS_CHAR_INJURED( uParam1 )))
    {
        BLOCK_CHAR_AMBIENT_ANIMS( uParam1, uParam3 );
    }
    sub_9201( "\n PED NUMBER ", uParam0 );
    sub_9241( " ADDED WITH VOICE ", uParam2 );
    return;
}

void sub_9201(unknown uParam0, unknown uParam1)
{
    return;
}

void sub_9241(unknown uParam0, unknown uParam1)
{
    return;
}

void sub_9274()
{
    sub_9284( 11 );
    sub_9284( 16 );
    while ((NOT (sub_9994( 16 ))) || (NOT (sub_9994( 11 ))))
    {
        WAIT( 0 );
    }
    REQUEST_ANIMS( "missfrancis5" );
    while (NOT (HAVE_ANIMS_LOADED( "missfrancis5" )))
    {
        WAIT( 0 );
    }
    return;
}

void sub_9284(unknown uParam0)
{
    REQUEST_MODEL( sub_9295( uParam0 ) );
    return;
}

int sub_9295(unknown uParam0)
{
    switch (uParam0)
    {
        case 0:
        if (g_U64464[uParam0] == 2)
        {
            return 558221221;
        }
        return -1992728631;
        case 1: return 896408642;
        case 3:
        if (g_U64464[uParam0] == 1)
        {
            return -1275031987;
        }
        return 1487004273;
        case 4: return 57218969;
        case 5: return 1445589009;
        case 6: return 155063868;
        case 7: return -617264103;
        case 8: return -1729980128;
        case 9: return 1794146792;
        case 11: return 1710545037;
        case 12: return -1775659292;
        case 13: return 1690783035;
        case 14: return 954215094;
        case 15: return 809067472;
        case 16: return 1169442297;
        case 17: return 1872110126;
        case 18: return 1500493064;
        case 19: return -1826458934;
        case 22: return -366421228;
        case 20: return -379234846;
        case 24: return 237511807;
        case 25: return 237497537;
        case 26: return -1040287406;
        case 27: return -357652594;
        case 52: return 2129490787;
        case 53: return 386513184;
        case 2: return -1080659212;
        case 10: return -773750838;
        case 28: return -1788328884;
        case 29: return 1056837725;
        case 30: return -292713088;
        case 31:
        case 32: return -292713088;
    }
    sub_3083( "Contacts.sch: Get_Model_For_Contact(): Unknown Contact ID. Tell Keith." );
    return 0;
}

void sub_9994(unknown uParam0)
{
    return HAS_MODEL_LOADED( sub_9295( uParam0 ) );
}

void sub_10172()
{
    switch (l_U1245)
    {
        case 0:
        sub_10250( l_U1241, -595.38680000, -281.37450000, 5.75420000, 209.18620000, 10.00000000 );
        SWITCH_ROADS_OFF( -556.93020000, -299.84810000, -10.59620000, -624.41570000, -224.50730000, 16.97690000 );
        if (g_U9893._fU24)
        {
            START_CUTSCENE_NOW( "FM_5" );
            l_U1245 = 1;
        }
        else
        {
            l_U1245 = 2;
        }
        break;
        case 1:
        if (HAS_CUTSCENE_LOADED())
        {
            while (NOT HAS_CUTSCENE_FINISHED())
            {
                WAIT( 0 );
            }
            CLEAR_NAMED_CUTSCENE( "FM_5" );
            l_U1245 = 2;
        }
        break;
        case 2:
        sub_10723();
        DO_SCREEN_FADE_IN( 500 );
        l_U1245 = 3;
        SWITCH_ROADS_BACK_TO_ORIGINAL( -556.93020000, -299.84810000, -10.59620000, -624.41570000, -224.50730000, 16.97690000 );
        l_U880 = 0;
        break;
    }
    return;
}

void sub_10250(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7)
{
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    float fVar13;

    uVar10 = uParam7;
    uVar11 = nil;
    uVar12 = nil;
    GET_PLAYERS_LAST_CAR_NO_SAVE( ref uVar11 );
    if (NOT (IS_CAR_DEAD( uVar11 )))
    {
        GET_CAR_UPRIGHT_VALUE( uVar11, ref fVar13 );
        if ((fVar13 > 0.90000000) AND (IS_VEH_DRIVEABLE( uVar11 )))
        {
            if (LOCATE_CAR_3D( uVar11, uParam0._fU0, uParam0._fU4, uParam0._fU8, uVar10, uVar10, uVar10, 0 ))
            {
                GET_DRIVER_OF_CAR( uVar11, ref uVar12 );
                if (IS_CHAR_DEAD( uVar12 ))
                {
                    if (NOT (IS_CAR_A_MISSION_CAR( uVar11 )))
                    {
                        SET_CAR_AS_MISSION_CAR( uVar11 );
                    }
                    CLEAR_AREA( uParam3._fU0, uParam3._fU4, uParam3._fU8, 3.00000000, 0 );
                    SET_CAR_HEADING( uVar11, uParam6 );
                    SET_CAR_COORDINATES( uVar11, uParam3._fU0, uParam3._fU4, uParam3._fU8 );
                }
            }
        }
        else
        {
            DELETE_CAR( ref uVar11 );
        }
    }
    CLEAR_AREA( uParam0._fU0, uParam0._fU4, uParam0._fU8, uVar10, 0 );
    if (NOT (IS_CAR_DEAD( uVar11 )))
    {
        if (IS_CAR_A_MISSION_CAR( uVar11 ))
        {
            MARK_CAR_AS_NO_LONGER_NEEDED( ref uVar11 );
        }
    }
    return;
}

void sub_10723()
{
    SET_CHAR_COORDINATES( sub_5707(), l_U1241._fU0, l_U1241._fU4, l_U1241._fU8 );
    SET_CHAR_HEADING( sub_5707(), l_U1244 );
    SET_CAM_BEHIND_PED( sub_5707() );
    MARK_MODEL_AS_NO_LONGER_NEEDED( -196312163 );
    SET_PLAYER_CONTROL( sub_6521(), 1 );
    return;
}

void sub_11054()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;

    array(ref uVar2._fU0._fU0, 3);
    ref uVar2._fU0;
    ref uVar2;
    if (l_U954)
    {
        UNLOCK_MISSION_NEWS_STORY( 32 );
        sub_11098( 32 );
        g_U15654[13] = 1;
        sub_14333( 16, "FM5_CDPASS", "FM5AUD", 0 );
    }
    if (l_U955)
    {
        UNLOCK_MISSION_NEWS_STORY( 33 );
        sub_11098( 33 );
        g_U15654[13] = 0;
        sub_14333( 11, "FM5_CLEAR", "FM5AUD", 0 );
        sub_12458( 36, 1, 16383, 16383, ref uVar2 );
        sub_13134( ref uVar2, 6 );
        sub_13165( ref uVar2, 0 );
        if (l_U887)
        {
            sub_15028( 20000 );
        }
        else
        {
            sub_15028( 10000 );
        }
        sub_15210();
    }
    sub_21004();
    if (IS_PLAYER_PLAYING( sub_6521() ))
    {
        CLEAR_WANTED_LEVEL( sub_6521() );
    }
    TRIGGER_MISSION_COMPLETE_AUDIO( 59 );
    sub_32310();
    sub_4129();
    return;
}

void sub_11098(int iParam0)
{
    if (iParam0 >= g_U1452)
    {
        SCRIPT_ASSERT( "NEWS STORY ARRAY SIZE NEEDS INCREASING - see simon" );
        return;
    }
    if (sub_11185( iParam0 ))
    {
        sub_12247( iParam0 );
    }
    return;
}

int sub_11185(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;

    if ((IS_BIT_SET( g_U1452[uParam0], 21 )) || (IS_BIT_SET( g_U1452[uParam0], 20 )))
    {
        return 0;
    }
    sub_11242( ref uVar3, 1, 0, 0 );
    sub_11854( uVar3, ref g_U1452[uParam0] );
    SET_BITS_IN_RANGE( ref g_U1452[uParam0], 22, 31, g_U1452[0] );
    g_U1452[0]++;
    SET_BIT( ref g_U1452[uParam0], 20 );
    sub_12067( "\n ----------------------------------------------------------------" );
    sub_9201( "\n  Following block of New Stories has been unlocked NEWS_BLOCK_", uParam0 );
    sub_12067( "\n ----------------------------------------------------------------" );
    return 1;
}

void sub_11242(int iParam0, unknown uParam1, unknown uParam2, boolean bParam3)
{
    GET_CURRENT_DATE( (iParam0 + 0) + 0, (iParam0 + 0) + 4 );
    GET_TIME_OF_DAY( (iParam0 + 8) + 0, (iParam0 + 8) + 4 );
    sub_11295( iParam0, uParam1, uParam2 );
    if (NOT bParam3)
    {
        return;
    }
    if (NOT ((ref iParam0->_fU8->_fU4) == 0))
    {
        if ((ref iParam0->_fU8->_fU4) <= 15)
        {
            ref iParam0->_fU8->_fU4 = 15;
        }
        else if ((ref iParam0->_fU8->_fU4) <= 30)
        {
            ref iParam0->_fU8->_fU4 = 30;
        }
        else if ((ref iParam0->_fU8->_fU4) <= 45)
        {
            ref iParam0->_fU8->_fU4 = 45;
        }
        else
        {
            ref iParam0->_fU8->_fU4 = 0;
            ref iParam0->_fU8->_fU0++;
        };;;
    }
    while ((ref iParam0->_fU8->_fU0) >= 24)
    {
        ref iParam0->_fU8->_fU0 -= 24;
        sub_11427( iParam0 + 0 );
    }
    return;
}

void sub_11295(int iParam0, int iParam1, int iParam2)
{
    ref iParam0->_fU8->_fU4 += iParam2;
    ref iParam0->_fU8->_fU0 += iParam1;
    while ((ref iParam0->_fU8->_fU4) >= 60)
    {
        ref iParam0->_fU8->_fU4 -= 60;
        ref iParam0->_fU8->_fU0++;
    }
    while ((ref iParam0->_fU8->_fU0) >= 24)
    {
        ref iParam0->_fU8->_fU0 -= 24;
        sub_11427( iParam0 + 0 );
    }
    return;
}

void sub_11427(int iParam0)
{
    iParam0->_fU0++;
    if (iParam0->_fU0 > (sub_11458( iParam0->_fU4 )))
    {
        iParam0->_fU0 = 1;
        iParam0->_fU4++;
        if (iParam0->_fU4 > 12)
        {
            iParam0->_fU4 = 1;
        }
    }
    return;
}

int sub_11458(unknown uParam0)
{
    switch (uParam0)
    {
        case 1:
        case 3:
        case 5:
        case 7:
        case 8:
        case 10:
        case 12: return 31;
        case 4:
        case 6:
        case 9:
        case 11: return 30;
        case 2: return 28;
    }
    return 30;
}

void sub_11854(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    SET_BITS_IN_RANGE( uParam4, 0, 4, uParam0._fU0._fU0 );
    SET_BITS_IN_RANGE( uParam4, 5, 8, uParam0._fU0._fU4 );
    SET_BITS_IN_RANGE( uParam4, 9, 13, uParam0._fU8._fU0 );
    SET_BITS_IN_RANGE( uParam4, 14, 19, uParam0._fU8._fU4 );
    return;
}

void sub_12067(unknown uParam0)
{
    return;
}

void sub_12247(unknown uParam0)
{
    int iVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;

    iVar3 = GET_BITS_IN_RANGE( g_U953, 12, 14 );
    array(ref uVar4._fU0._fU0, 3);
    ref uVar4._fU0;
    ref uVar4;
    switch (uParam0)
    {
        case 14:
        SET_BITS_IN_RANGE( ref g_U953, 0, 2, iVar3 );
        iVar3++;
        break;
        case 20:
        SET_BITS_IN_RANGE( ref g_U953, 3, 5, iVar3 );
        iVar3++;
        break;
        case 24:
        SET_BITS_IN_RANGE( ref g_U953, 6, 8, iVar3 );
        iVar3++;
        break;
        case 29:
        g_U963 = 1;
        sub_12458( 20, 6, 16383, 16383, ref uVar4 );
        sub_13134( ref uVar4, 7 );
        sub_13165( ref uVar4, 0 );
        break;
        case 36:
        g_U963 = 2;
        break;
        case 39:
        SET_BITS_IN_RANGE( ref g_U953, 9, 11, iVar3 );
        iVar3++;
        break;
        case 40:
        g_U963 = 3;
        sub_12458( 20, 7, 9, 16383, ref uVar4 );
        sub_13134( ref uVar4, 7 );
        sub_13165( ref uVar4, 0 );
        break;
        case 45:
        case 46:
        g_U963 = 4;
        break;
    }
    SET_BITS_IN_RANGE( ref g_U953, 12, 14, iVar3 );
    return;
}

void sub_12458(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown uVar7;

    iParam4->_fU40 = -1;
    sub_12482( uParam0, 0, iParam4 + 0 );
    sub_12482( uParam1, 1, iParam4 + 0 );
    sub_12482( uParam2, 2, iParam4 + 0 );
    sub_12482( uParam3, 3, iParam4 + 0 );
    sub_12482( 0, 4, iParam4 + 0 );
    sub_12482( 1, 5, iParam4 + 0 );
    sub_12482( 65535, 6, iParam4 + 0 );
    sub_12482( 0, 12, iParam4 + 0 );
    sub_12482( 0, 11, iParam4 + 0 );
    sub_12482( 0, 14, iParam4 + 0 );
    sub_12482( 0, 13, iParam4 + 0 );
    GENERATE_RANDOM_INT_IN_RANGE( 0, 8, ref uVar7 );
    sub_12482( uVar7, 8, iParam4 + 0 );
    GENERATE_RANDOM_INT_IN_RANGE( 0, 8, ref uVar7 );
    sub_12482( uVar7, 9, iParam4 + 0 );
    ref iParam4->_fU0->_fU20 = 0;
    ref iParam4->_fU0->_fU24 = 0;
    ref iParam4->_fU0->_fU28 = 0;
    ref iParam4->_fU0->_fU32 = 0;
    ref iParam4->_fU0->_fU16 = 1;
    ref iParam4->_fU0->_fU36 = 1;
    return;
}

void sub_12482(unknown uParam0, unknown uParam1, int iParam2)
{
    switch (uParam1)
    {
        case 0:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[1], 14, 23, uParam0 );
        break;
        case 1:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[0], 0, 13, uParam0 );
        break;
        case 2:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[0], 14, 27, uParam0 );
        break;
        case 3:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[1], 0, 13, uParam0 );
        break;
        case 4:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[2], 22, 25, uParam0 );
        break;
        case 5:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[0], 28, 31, uParam0 );
        break;
        case 6:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[2], 0, 15, uParam0 );
        break;
        case 8:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[2], 16, 18, uParam0 );
        break;
        case 9:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[2], 19, 21, uParam0 );
        break;
        case 11:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[1], 27, 31, uParam0 );
        break;
        case 12:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[2], 29, 31, uParam0 );
        break;
        case 13:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[1], 24, 26, uParam0 );
        break;
        case 14:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[2], 26, 28, uParam0 );
        break;
    }
    return;
}

void sub_13134(int iParam0, unknown uParam1)
{
    sub_12482( uParam1, 5, iParam0 + 0 );
    return;
}

int sub_13165(int iParam0, int iParam1)
{
    int I;
    int iVar5;

    if (iParam1 == 0)
    {
        ;
    }
    if (g_U968[39]._fU0[0] != -1)
    {
        if (NOT sub_13205())
        {
            return 0;
        }
    }
    if (iParam0->_fU40 != -1)
    {
        return 0;
    }
    iVar5 = sub_13892( iParam0->_fU0 );
    if (iVar5 != -1)
    {
        sub_13691( iVar5 );
    }
    for ( I = 0; I <= 39; I++ )
    {
        if (g_U968[I]._fU0[0] == -1)
        {
            g_U968[I] = {iParam0->_fU0};
            iParam0->_fU40 = I;
            I = 40;
            INCREMENT_INT_STAT_NO_MESSAGE( 368, 1 );
        }
    }
    g_U967 = 1;
    return 1;
}

int sub_13205()
{
    int I;

    for ( I = 0; I <= 39; I++ )
    {
        if ((sub_13239( 5, g_U968[I] )) == 7)
        {
            sub_13691( I );
            return 1;
        }
    }
    return 0;
}

int sub_13239(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    switch (uParam0)
    {
        case 0:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 14, 23 );
        break;
        case 1:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 0, 13 );
        break;
        case 2:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 14, 27 );
        break;
        case 3:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 0, 13 );
        break;
        case 4:
        return GET_BITS_IN_RANGE( uParam1._fU0[2], 22, 25 );
        break;
        case 5:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 28, 31 );
        break;
        case 6:
        return GET_BITS_IN_RANGE( uParam1._fU0[2], 0, 15 );
        break;
        case 8:
        return GET_BITS_IN_RANGE( uParam1._fU0[2], 16, 18 );
        break;
        case 9:
        return GET_BITS_IN_RANGE( uParam1._fU0[2], 19, 21 );
        break;
        case 11:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 27, 31 );
        break;
        case 12:
        return GET_BITS_IN_RANGE( uParam1._fU0[2], 29, 31 );
        break;
        case 13:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 24, 26 );
        break;
        case 14:
        return GET_BITS_IN_RANGE( uParam1._fU0[2], 26, 28 );
        break;
    }
    return -1;
}

void sub_13691(int iParam0)
{
    int I;

    if (iParam0 < 39)
    {
        for ( I = iParam0 + 1; I <= 39; I++ )
        {
            g_U968[I - 1] = {g_U968[I]};
        }
    }
    sub_13764( 39 );
    return;
}

void sub_13764(unknown uParam0)
{
    g_U968[uParam0]._fU0[0] = -1;
    g_U968[uParam0]._fU0[1] = -1;
    g_U968[uParam0]._fU0[2] = -1;
    return;
}

int sub_13892(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9)
{
    int Result;

    for ( Result = 0; Result <= 39; Result++ )
    {
        if (g_U968[Result]._fU0[0] != -1)
        {
            if (sub_13953( uParam0, g_U968[Result] ))
            {
                return Result;
            }
        }
        else
        {
            Result = 40;
        }
    }
    return -1;
}

int sub_13953(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19)
{
    if ((uParam0._fU0[1] == uParam10._fU0[1]) AND (uParam0._fU0[0] == uParam10._fU0[0]))
    {
        return 1;
    }
    return 0;
}

void sub_14333(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    char[12] cVar6;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;

    array(ref cVar6, 2);
    StrCopy( ref cVar6[0], uParam1, 16 );
    StrCopy( ref cVar6[1], "END", 16 );
    sub_14377( uParam0, ref cVar6, uParam2, 10000, uParam3, 0 );
    return;
}

void sub_14377(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    unknown uVar36;
    int I;
    int iVar38;

    array(ref uVar8._fU32, 5);
    ref uVar8;
    iVar38 = uVar8._fU32;
    if (NOT (IS_THREAD_ACTIVE( g_U812 )))
    {
        uVar8._fU12 = uParam0;
        if ((uParam1^) > iVar38)
        {
            SCRIPT_ASSERT( "TELL SIMON END CALL ARRAY SIZE NEEDS INCREASING" );
            return;
        }
        for ( I = 0; I <= ((uParam1^) - 1); I++ )
        {
            uVar8._fU32[I] = {(uParam1^)[I]};
        }
        if ((uParam1^) < iVar38)
        {
            StrCopy( ref uVar8._fU32[(uParam1^)], "END", 16 );
        }
        StrCopy( ref uVar8._fU16, uParam2, 16 );
        uVar8._fU0 = uParam3;
        uVar8._fU4 = uParam4;
        uVar8._fU8 = uParam5;
        REQUEST_SCRIPT( "SPcellphoneEndCall" );
        while (NOT (HAS_SCRIPT_LOADED( "SPcellphoneEndCall" )))
        {
            REQUEST_SCRIPT( "SPcellphoneEndCall" );
            WAIT( 0 );
        }
        g_U811 = 1;
        g_U812 = START_NEW_SCRIPT_WITH_ARGS( "SPcellphoneEndCall", ref uVar8, 29, 1024 );
        MARK_SCRIPT_AS_NO_LONGER_NEEDED( "SPcellphoneEndCall" );
    }
    else
    {
        SCRIPT_ASSERT( "MAKE_END_OF_MISSION_CALL() has been called more than once, might be in a loop" );
    }
    return;
}

void sub_15028(unknown uParam0)
{
    ADD_SCORE( sub_6521(), uParam0 );
    sub_15053( uParam0 );
    return;
}

void sub_15053(int iParam0)
{
    if (g_U0)
    {
        return;
    }
    if (iParam0 < 0)
    {
        sub_3083( "Flow_Achievements_Increase_Cash_From_Missions: negative cash given. Tell Keith." );
    }
    INCREMENT_INT_STAT_NO_MESSAGE( 93, iParam0 );
    return;
}

void sub_15210()
{
    sub_15219();
    return;
}

void sub_15219()
{
    int iVar2;

    iVar2 = 16;
    sub_15233( iVar2 );
    return;
}

void sub_15233(unknown uParam0)
{
    unknown uVar3;

    g_U10981[uParam0]._fU4 = 1;
    uVar3 = sub_2684( uParam0 );
    sub_15267( uVar3 );
    sub_15370( "****** STRAND DEACTIVATING *******\n" );
    sub_15389( uParam0 );
    g_U15946[uVar3]._fU132._fU0 = 0;
    return;
}

void sub_15267(unknown uParam0)
{
    if (NOT g_U22274[uParam0]._fU0)
    {
        return;
    }
    g_U22274[uParam0]._fU0 = 0;
    g_U26439--;
    return;
}

void sub_15370(unknown uParam0)
{
    return;
}

void sub_15389(unknown uParam0)
{
    boolean bVar3;
    unknown uVar4;

    if (NOT g_U10981[uParam0]._fU8)
    {
        return;
    }
    if (NOT g_U10981[uParam0]._fU4)
    {
        return;
    }
    bVar3 = false;
    uVar4 = sub_2684( uParam0 );
    if ((g_U13391[uParam0]._fU80._fU0 == 1) || (g_U13391[uParam0]._fU80._fU0 == 0))
    {
        sub_15500( uParam0 );
        g_U22274[uVar4]._fU0 = 0;
    }
    else
    {
        bVar3 = true;
    }
    g_U10981[uParam0]._fU144._fU0 = 0;
    if (g_U13391[uParam0]._fU160._fU0)
    {
        if (g_U13391[uParam0]._fU160._fU80)
        {
            if (NOT g_U13391[uParam0]._fU160._fU96)
            {
                sub_19981( uParam0 );
            }
            else
            {
                bVar3 = true;
            }
        }
        else
        {
            bVar3 = true;
        }
    }
    if ((g_U13391[uParam0]._fU0._fU0 == 1) || (g_U13391[uParam0]._fU0._fU0 == 0))
    {
        sub_20619( uParam0 );
    }
    else
    {
        bVar3 = true;
    }
    if (bVar3)
    {
        return;
    }
    g_U10981[uParam0]._fU8 = 0;
    return;
}

void sub_15500(unknown uParam0)
{
    unknown uVar3;
    int iVar4;

    uVar3 = g_U13391[uParam0]._fU80._fU0;
    iVar4 = 1;
    switch (uVar3)
    {
        case 0: break;
        case 1:
        g_U13391[uParam0]._fU80._fU0 = 0;
        sub_15621( uParam0 );
        sub_18053( uParam0, 0 );
        break;
        case 2:
        g_U13391[uParam0]._fU0._fU0 = 6;
        sub_18341( uParam0, iVar4 );
        break;
        case 3:
        g_U13391[uParam0]._fU80._fU0 = 6;
        sub_18341( uParam0, iVar4 );
        break;
        case 6:
        sub_18341( uParam0, iVar4 );
        break;
        case 4:
        case 5:
        sub_18790( uParam0, iVar4 );
        g_U4 = 0;
        break;
        default:
        sub_3083( "Main_Missions: Cancel_Strand_Friend_Mission(): Unknown Mission Status ID" );
        return;
    }
    return;
}

void sub_15621(unknown uParam0)
{
    if ((NOT (g_U13391[uParam0]._fU80._fU0 == 1)) AND (NOT (g_U13391[uParam0]._fU80._fU0 == 0)))
    {
        sub_15678( uParam0 );
        sub_15824( uParam0 );
        return;
    }
    if (g_U13391[uParam0]._fU80._fU0 == 1)
    {
        sub_15678( uParam0 );
        sub_16014( uParam0 );
        return;
    }
    if (g_U13391[uParam0]._fU80._fU0 == 0)
    {
        sub_15824( uParam0 );
    }
    if ((NOT (g_U13391[uParam0]._fU0._fU0 == 1)) AND (NOT (g_U13391[uParam0]._fU0._fU0 == 0)))
    {
        sub_15678( uParam0 );
        return;
    }
    if (g_U13391[uParam0]._fU0._fU0 == 1)
    {
        sub_17295( uParam0 );
        return;
    }
    if (g_U13391[uParam0]._fU0._fU0 == 0)
    {
        sub_15678( uParam0 );
    }
    return;
}

void sub_15678(unknown uParam0)
{
    unknown uVar3;

    if (NOT (DOES_BLIP_EXIST( g_U13391[uParam0]._fU0._fU64 )))
    {
        return;
    }
    REMOVE_BLIP( g_U13391[uParam0]._fU0._fU64 );
    g_U13391[uParam0]._fU0._fU64 = nil;
    uVar3 = g_U13391[uParam0]._fU0._fU68;
    g_U13391[uParam0]._fU0._fU68 = 50;
    g_U9387[uVar3]._fU24 = 0;
    return;
}

void sub_15824(unknown uParam0)
{
    unknown uVar3;

    if (NOT (DOES_BLIP_EXIST( g_U13391[uParam0]._fU80._fU64 )))
    {
        return;
    }
    REMOVE_BLIP( g_U13391[uParam0]._fU80._fU64 );
    g_U13391[uParam0]._fU80._fU64 = nil;
    uVar3 = g_U13391[uParam0]._fU80._fU68;
    g_U13391[uParam0]._fU80._fU68 = 50;
    g_U9387[uVar3]._fU24 = 0;
    return;
}

void sub_16014(unknown uParam0)
{
    vector vVar3;
    unknown uVar6;
    int iVar7;
    int iVar8;
    int iVar9;
    boolean bVar10;
    unknown uVar11;
    int iVar12;

    sub_15824( uParam0 );
    vVar3 = {0.00000000, 0.00000000, 0.00000000};
    uVar6 = g_U9386;
    iVar7 = -1;
    iVar8 = 0;
    iVar9 = 0;
    bVar10 = false;
    uVar11 = g_U13391[uParam0]._fU80._fU56;
    switch (uVar11)
    {
        case 0:
        case 8:
        iVar7 = g_U13391[uParam0]._fU80._fU4;
        iVar8 = sub_16197( uParam0, iVar7 );
        iVar9 = g_U26758[iVar8]._fU16;
        vVar3 = {g_U9387[iVar9]._fU0};
        uVar6 = g_U9387[iVar9]._fU12;
        bVar10 = true;
        g_U13391[uParam0]._fU80._fU68 = iVar9;
        g_U9387[iVar9]._fU24 = 1;
        break;
        case 1:
        case 2:
        case 3:
        case 4:
        case 5:
        case 6:
        case 7: break;
        default: sub_3083( "Main_Missions: Add_Friend_Contact_Point_Blip(): Unknown or illegal startType" );
    }
    if (bVar10)
    {
        ADD_BLIP_FOR_CONTACT( vVar3.x, vVar3.y, vVar3.z, ref g_U13391[uParam0]._fU80._fU64 );
        CHANGE_BLIP_DISPLAY( g_U13391[uParam0]._fU80._fU64, 2 );
        CHANGE_BLIP_SPRITE( g_U13391[uParam0]._fU80._fU64, uVar6 );
        CHANGE_BLIP_PRIORITY( g_U13391[uParam0]._fU80._fU64, l_U5 );
        if ((NOT g_U13391[uParam0]._fU80._fU72) || (NOT g_U32896._fU4))
        {
            CHANGE_BLIP_DISPLAY( g_U13391[uParam0]._fU80._fU64, 0 );
        }
        iVar12 = 0;
        GET_GAME_TIMER( ref iVar12 );
        g_U13391[uParam0]._fU80._fU76 = iVar12 + 10000;
        FLASH_BLIP( g_U13391[uParam0]._fU80._fU64, 1 );
        CHANGE_BLIP_PRIORITY( g_U13391[uParam0]._fU80._fU64, l_U6 );
        sub_16850( g_U13391[uParam0]._fU80._fU64, iVar9 );
        return;
    }
    return;
}

int sub_16197(int iParam0, int iParam1)
{
    unknown uVar4;
    int iVar5;
    int Result;

    if ((iParam0 >= 28) || (iParam0 < 0))
    {
        sub_3083( "Main_Missions: Find_Trigger(): Illegal Strand ID" );
    }
    uVar4 = g_U32640[iParam0]._fU0;
    iVar5 = g_U32640[iParam0]._fU4;
    for ( Result = uVar4; Result <= iVar5; Result++ )
    {
        if (g_U26758[Result]._fU4 == iParam1)
        {
            return Result;
        }
    }
    return -1;
}

void sub_16850(unknown uParam0, unknown uParam1)
{
    unknown uVar4;

    uVar4 = uParam1;
    switch (uVar4)
    {
        case 1:
        sub_16942( ref uParam0, 827.41800000, -288.99640000, 14.75330000, 179.76500000 );
        break;
        case 17:
        sub_16942( ref uParam0, -150.38910000, -795.66570000, 4.20110000, 271.69380000 );
        break;
        case 18:
        sub_16942( ref uParam0, -160.31520000, -796.40800000, 5.20610000, 270.00000000 );
        break;
        case 24:
        sub_16942( ref uParam0, -126.75380000, -263.66190000, 11.56380000, 0.00000000 );
        break;
        case 29:
        sub_16942( ref uParam0, -905.43880000, 908.73140000, 12.59760000, 0.74970000 );
        break;
        case 32:
        sub_16942( ref uParam0, 341.41760000, -454.50700000, 3.60780000, 0.74970000 );
        break;
    }
    return;
}

void sub_16942(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (DOES_BLIP_EXIST( (uParam0^) ))
    {
        g_U2220 = (uParam0^);
        g_U2235 = {uParam1};
        g_U2233 = uParam4;
    }
    return;
}

void sub_17295(unknown uParam0)
{
    vector vVar3;
    unknown uVar6;
    int iVar7;
    int iVar8;
    int iVar9;
    boolean bVar10;
    unknown uVar11;
    int iVar12;

    sub_15678( uParam0 );
    vVar3 = {0.00000000, 0.00000000, 0.00000000};
    uVar6 = g_U9386;
    iVar7 = -1;
    iVar8 = 0;
    iVar9 = 0;
    bVar10 = false;
    uVar11 = g_U13391[uParam0]._fU0._fU56;
    switch (uVar11)
    {
        case 0:
        case 8:
        iVar7 = g_U13391[uParam0]._fU0._fU4;
        iVar8 = sub_16197( uParam0, iVar7 );
        iVar9 = g_U26758[iVar8]._fU16;
        vVar3 = {g_U9387[iVar9]._fU0};
        uVar6 = g_U9387[iVar9]._fU12;
        bVar10 = true;
        g_U13391[uParam0]._fU0._fU68 = iVar9;
        g_U9387[iVar9]._fU24 = 1;
        break;
        case 1:
        case 2:
        case 3:
        case 4:
        case 5:
        case 6:
        case 7: break;
        default: sub_3083( "Main_Missions: Add_Primary_Contact_Point_Blip(): Unknown or illegal startType" );
    }
    if (bVar10)
    {
        ADD_BLIP_FOR_CONTACT( vVar3.x, vVar3.y, vVar3.z, ref g_U13391[uParam0]._fU0._fU64 );
        CHANGE_BLIP_DISPLAY( g_U13391[uParam0]._fU0._fU64, 2 );
        CHANGE_BLIP_SPRITE( g_U13391[uParam0]._fU0._fU64, uVar6 );
        CHANGE_BLIP_PRIORITY( g_U13391[uParam0]._fU0._fU64, l_U5 );
        if ((NOT g_U13391[uParam0]._fU0._fU72) || (NOT g_U32896._fU4))
        {
            CHANGE_BLIP_DISPLAY( g_U13391[uParam0]._fU0._fU64, 0 );
        }
        iVar12 = 0;
        GET_GAME_TIMER( ref iVar12 );
        g_U13391[uParam0]._fU0._fU76 = iVar12 + 10000;
        CHANGE_BLIP_PRIORITY( g_U13391[uParam0]._fU0._fU64, l_U6 );
        if (l_U31)
        {
            FLASH_BLIP( g_U13391[uParam0]._fU0._fU64, 1 );
            l_U31 = 0;
        }
        else
        {
            FLASH_BLIP_ALT( g_U13391[uParam0]._fU0._fU64, 1 );
            l_U31 = 1;
        }
        sub_16850( g_U13391[uParam0]._fU0._fU64, iVar9 );
        return;
    }
    return;
}

void sub_18053(unknown uParam0, boolean bParam1)
{
    if (NOT bParam1)
    {
        if (DOES_BLIP_EXIST( g_U13391[uParam0]._fU80._fU64 ))
        {
            REMOVE_BLIP( g_U13391[uParam0]._fU80._fU64 );
        }
    }
    g_U13391[uParam0]._fU80._fU0 = 0;
    g_U13391[uParam0]._fU80._fU4 = -1;
    StrCopy( ref g_U13391[uParam0]._fU80._fU24, "", 32 );
    g_U13391[uParam0]._fU80._fU56 = 10;
    g_U13391[uParam0]._fU80._fU60 = nil;
    g_U13391[uParam0]._fU80._fU64 = nil;
    g_U13391[uParam0]._fU80._fU68 = 50;
    g_U13391[uParam0]._fU80._fU72 = 1;
    g_U13391[uParam0]._fU80._fU76 = 0;
    return;
}

void sub_18341(unknown uParam0, boolean bParam1)
{
    if (bParam1)
    {
        if (NOT (HAS_SCRIPT_LOADED( ref g_U13391[uParam0]._fU80._fU24 )))
        {
            return;
        }
        MARK_SCRIPT_AS_NO_LONGER_NEEDED( ref g_U13391[uParam0]._fU80._fU24 );
        sub_18053( uParam0, 0 );
    }
    else if (NOT (HAS_SCRIPT_LOADED( ref g_U13391[uParam0]._fU0._fU24 )))
    {
        return;
    }
    MARK_SCRIPT_AS_NO_LONGER_NEEDED( ref g_U13391[uParam0]._fU0._fU24 );
    sub_18479( uParam0, 0 );;
    sub_15621( uParam0 );
    return;
}

void sub_18479(unknown uParam0, boolean bParam1)
{
    if (NOT bParam1)
    {
        if (DOES_BLIP_EXIST( g_U13391[uParam0]._fU0._fU64 ))
        {
            REMOVE_BLIP( g_U13391[uParam0]._fU0._fU64 );
        }
    }
    g_U13391[uParam0]._fU0._fU0 = 0;
    g_U13391[uParam0]._fU0._fU4 = -1;
    StrCopy( ref g_U13391[uParam0]._fU0._fU24, "", 32 );
    g_U13391[uParam0]._fU0._fU56 = 10;
    g_U13391[uParam0]._fU0._fU60 = nil;
    g_U13391[uParam0]._fU0._fU64 = nil;
    g_U13391[uParam0]._fU0._fU68 = 50;
    g_U13391[uParam0]._fU0._fU72 = 1;
    g_U13391[uParam0]._fU0._fU76 = 0;
    return;
}

void sub_18790(int iParam0, boolean bParam1)
{
    boolean bVar4;
    int iVar5;

    bVar4 = true;
    if (bParam1)
    {
        if (g_U13391[iParam0]._fU80._fU60 != nil)
        {
            DESTROY_THREAD( g_U13391[iParam0]._fU80._fU60 );
        }
        sub_18053( iParam0, 0 );
        bVar4 = false;
    }
    else if (g_U13391[iParam0]._fU0._fU60 != nil)
    {
        DESTROY_THREAD( g_U13391[iParam0]._fU0._fU60 );
    }
    iVar5 = g_U13391[iParam0]._fU0._fU56;
    if ((iVar5 == 6) || (iVar5 == 5))
    {
        bVar4 = false;
    }
    if (bVar4)
    {
        g_U10981[iParam0]._fU28 = 1;
    }
    sub_18479( iParam0, 0 );
    if (bVar4)
    {
        sub_18999();
    }
    g_U10981[iParam0]._fU12 = 0;;
    if (iParam0 == 23)
    {
        sub_19055();
        return;
    }
    sub_15621( iParam0 );
    if (bVar4)
    {
        g_U10978 = 0;
    }
    if (bVar4)
    {
        sub_19690( iParam0 );
    }
    if (g_U2)
    {
        if (g_U3)
        {
            WAIT( 1500 );
            g_U4 = 1;
        }
    }
    return;
}

void sub_18999()
{
    unknown uVar2;

    uVar2 = g_U9925;
    SET_RICH_PRESENCE_TEMPLATESP2( uVar2 );
    return;
}

void sub_19055()
{
    boolean bVar2;
    unknown uVar3;
    unknown uVar4;

    bVar2 = false;
    if (IS_PLAYER_PLAYING( sub_6521() ))
    {
        if (IS_CHAR_IN_ANY_CAR( sub_5707() ))
        {
            if (NOT (g_U15936._fU24 == -1))
            {
                uVar3 = g_U32697[g_U15936._fU24]._fU36;
                if (IS_CHAR_IN_MODEL( sub_5707(), uVar3 ))
                {
                    bVar2 = true;
                }
            }
        }
    }
    uVar4 = g_U15936._fU24;
    sub_19167();
    if (bVar2)
    {
        g_U15936._fU8 = 1;
        STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_5707(), ref g_U15936._fU32 );
        g_U15936._fU24 = uVar4;
    }
    l_U30 = 0;
    SET_PLAYER_CAN_DO_DRIVE_BY( sub_6521(), 0 );
    sub_19320();
    if (IS_PLAYER_PLAYING( sub_6521() ))
    {
        SET_PLAYER_CONTROL( sub_6521(), 1 );
    }
    return;
}

void sub_19167()
{
    g_U15936._fU0 = 0;
    g_U15936._fU4 = 0;
    g_U15936._fU8 = 0;
    g_U15936._fU12 = 0;
    g_U15936._fU16 = 0;
    g_U15936._fU20 = 0;
    g_U15936._fU24 = -1;
    g_U15936._fU32 = nil;
    g_U15936._fU28 = 0;
    return;
}

void sub_19320()
{
    unknown uVar2;
    float fVar3;
    boolean bVar4;

    uVar2 = nil;
    fVar3 = 0.00000000;
    bVar4 = false;
    if (NOT (IS_PLAYER_PLAYING( sub_6521() )))
    {
        return;
    }
    if (IS_CHAR_DEAD( sub_5707() ))
    {
        l_U30 = 1;
        SET_PLAYER_CAN_DO_DRIVE_BY( sub_6521(), 1 );
        return;
    }
    if (IS_CHAR_IN_ANY_POLICE_VEHICLE( sub_5707() ))
    {
        STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_5707(), ref uVar2 );
        if ((NOT (IS_CHAR_IN_MODEL( sub_5707(), -488123221 ))) AND (NOT (IS_CHAR_IN_MODEL( sub_5707(), 837858166 ))))
        {
            GET_CAR_SPEED( uVar2, ref fVar3 );
            if (fVar3 < 0.40000000)
            {
                if (g_U15936._fU20)
                {
                    bVar4 = true;
                }
                else
                {
                    bVar4 = false;
                }
            }
            else
            {
                bVar4 = true;
            }
        }
        else
        {
            bVar4 = true;
        }
    }
    else
    {
        bVar4 = true;
    }
    if (bVar4)
    {
        if (l_U30)
        {
            return;
        }
        l_U30 = 1;
        SET_PLAYER_CAN_DO_DRIVE_BY( sub_6521(), 1 );
    }
    else if (NOT l_U30)
    {
        return;
    }
    l_U30 = 0;
    SET_PLAYER_CAN_DO_DRIVE_BY( sub_6521(), 0 );;
    return;
}

void sub_19690(int iParam0)
{
    if (NOT (g_U26746 == iParam0))
    {
        return;
    }
    g_U26745 = 1;
    return;
}

void sub_19981(unknown uParam0)
{
    unknown uVar3;

    if (NOT g_U13391[uParam0]._fU160._fU0)
    {
        return;
    }
    if (NOT g_U13391[uParam0]._fU160._fU80)
    {
        g_U13391[uParam0]._fU160._fU0 = 0;
        return;
    }
    uVar3 = sub_2684( uParam0 );
    DESTROY_THREAD( g_U13391[uParam0]._fU160._fU104 );
    g_U13391[uParam0]._fU160._fU108._fU0 = 0;
    sub_20121( uParam0 );
    if (g_U13391[uParam0]._fU160._fU8)
    {
        g_U15946[uVar3]._fU8[0]._fU0[3] = 0;
    }
    return;
}

void sub_20121(unknown uParam0)
{
    g_U13391[uParam0]._fU160._fU0 = 0;
    g_U13391[uParam0]._fU160._fU4 = 0;
    g_U13391[uParam0]._fU160._fU8 = 0;
    StrCopy( ref g_U13391[uParam0]._fU160._fU12, "", 32 );
    StrCopy( ref g_U13391[uParam0]._fU160._fU44, "", 32 );
    g_U13391[uParam0]._fU160._fU76 = -1;
    g_U13391[uParam0]._fU160._fU80 = 0;
    g_U13391[uParam0]._fU160._fU84 = 0;
    g_U13391[uParam0]._fU160._fU88 = 0;
    g_U13391[uParam0]._fU160._fU92 = 0;
    g_U13391[uParam0]._fU160._fU96 = 0;
    g_U13391[uParam0]._fU160._fU100 = 0;
    g_U13391[uParam0]._fU160._fU104 = nil;
    g_U13391[uParam0]._fU160._fU108._fU0 = 0;
    g_U13391[uParam0]._fU160._fU108._fU4 = 59;
    g_U13391[uParam0]._fU160._fU108._fU12 = 0;
    g_U13391[uParam0]._fU160._fU108._fU16 = 0;
    g_U13391[uParam0]._fU160._fU108._fU20 = 0;
    return;
}

void sub_20619(unknown uParam0)
{
    unknown uVar3;
    int iVar4;

    uVar3 = g_U13391[uParam0]._fU0._fU0;
    iVar4 = 0;
    switch (uVar3)
    {
        case 0: break;
        case 1:
        g_U13391[uParam0]._fU0._fU0 = 0;
        sub_15621( uParam0 );
        sub_18479( uParam0, 0 );
        break;
        case 2:
        g_U13391[uParam0]._fU0._fU0 = 6;
        sub_18341( uParam0, iVar4 );
        break;
        case 3:
        g_U13391[uParam0]._fU0._fU0 = 6;
        sub_18341( uParam0, iVar4 );
        break;
        case 6:
        sub_18341( uParam0, iVar4 );
        break;
        case 4:
        case 5:
        sub_18790( uParam0, iVar4 );
        g_U4 = 0;
        break;
        default:
        sub_3083( "Main_Missions: Cancel_Strand(): Unknown Mission Status ID" );
        return;
    }
    return;
}

void sub_21004()
{
    sub_21013();
    return;
}

void sub_21013()
{
    int iVar2;
    int iVar3;
    int iVar4;

    iVar2 = 1;
    iVar3 = 0;
    iVar4 = 0;
    sub_21031();
    sub_21090( iVar2, iVar3, iVar4 );
    return;
}

void sub_21031()
{
    int I;

    I = 0;
    for ( I = 0; I < 5; I++ )
    {
        l_U475[I] = 4;
    }
    return;
}

void sub_21090(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int iVar5;

    iVar5 = 11;
    sub_21123( iVar5, uParam0, uParam1, uParam2, "Contact_12" );
    return;
}

void sub_21123(int iParam0, boolean bParam1, boolean bParam2, boolean bParam3, unknown uParam4)
{
    int iVar7;
    int iVar8;
    char[64] cVar9;
    int iVar25;
    int iVar26;
    boolean bVar27;
    unknown uVar28;
    unknown uVar29;
    int iVar30;
    boolean bVar31;

    iVar7 = -1;
    iVar8 = -1;
    StrCopy( ref cVar9, "", 64 );
    if (bParam3)
    {
        if (g_U13391[iParam0]._fU80._fU0 == 0)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: friend mission", 64);
            sub_21219( ref cVar9 );
            return;
        }
        if (g_U13391[iParam0]._fU80._fU4 == -1)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: friend missionID", 64);
            sub_21219( ref cVar9 );
            return;
        }
        iVar7 = g_U13391[iParam0]._fU80._fU4;
    }
    else if (bParam2)
    {
        if (NOT g_U13391[iParam0]._fU160._fU80)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: proc mission", 64);
            sub_21219( ref cVar9 );
            return;
        }
        if (g_U13391[iParam0]._fU160._fU76 == -1)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: proc missionID", 64);
            sub_21219( ref cVar9 );
            return;
        }
        iVar7 = g_U13391[iParam0]._fU160._fU76;
    }
    else if (g_U13391[iParam0]._fU0._fU0 == 0)
    {
        StrCopy( ref cVar9, uParam4, 64 );
        ConcatString(ref cVar9, " Pass_Stats: mission", 64);
        sub_21219( ref cVar9 );
        return;
    }
    if (g_U13391[iParam0]._fU0._fU4 == -1)
    {
        StrCopy( ref cVar9, uParam4, 64 );
        ConcatString(ref cVar9, " Pass_Stats: missionID", 64);
        sub_21219( ref cVar9 );
        return;
    }
    iVar7 = g_U13391[iParam0]._fU0._fU4;
    iVar8 = sub_16197( iParam0, iVar7 );;;
    iVar25 = 0;
    if (bParam1)
    {
        g_U10981[iParam0]._fU24 = iVar7;
    }
    if (bParam2)
    {
        iVar25 = g_U13391[iParam0]._fU160._fU84;
    }
    if (bParam3)
    {
        g_U10981[iParam0]._fU144._fU8++;
        if ((g_U10981[iParam0]._fU144._fU8 >= g_U10981[iParam0]._fU144._fU4) AND (NOT g_U10981[iParam0]._fU144._fU12))
        {
            iVar26 = 0;
            GET_GAME_TIMER( ref iVar26 );
            g_U10981[iParam0]._fU144._fU16 = iVar26 + 60000;
        }
        if (g_U10981[iParam0]._fU144._fU8 == 1)
        {
            if (iParam0 == 3)
            {
                sub_22035( 0, 3 );
            }
            if (iParam0 == 8)
            {
                sub_22035( 0, 4 );
            }
        }
    }
    if (NOT (sub_22124( iParam0, iVar7, iVar25, bParam1, bParam2, bParam3 )))
    {
        return;
    }
    if (bParam2)
    {
        g_U13391[iParam0]._fU160._fU84++;
    }
    if ((iVar7 == 12) AND (iParam0 == 0))
    {
        SET_PLAYER_MOOD_PISSED_OFF( sub_6521(), 150 );
    }
    else
    {
        SET_PLAYER_MOOD_NORMAL( sub_6521() );
    }
    sub_3227();
    bVar27 = true;
    uVar28 = sub_16197( iParam0, iVar7 );
    uVar29 = sub_2684( iParam0 );
    if (bParam1)
    {
        iVar30 = g_U13391[iParam0]._fU0._fU56;
        if ((iVar30 == 6) || (iVar30 == 5))
        {
            bVar27 = false;
        }
        if (NOT g_U0)
        {
            bVar31 = true;
            if (IS_BIT_SET( g_U26758[uVar28]._fU108, 2 ))
            {
                REGISTER_MISSION_PASSED( ref g_U9921 );
                sub_31336( 9, ref g_U13391[iParam0]._fU0._fU24 );
                if ((g_U10978) AND (NOT bVar27))
                {
                    bVar31 = false;
                }
                if (bVar31)
                {
                    sub_31766();
                    g_U9914._fU8 = 1;
                    g_U9914._fU20 = sub_31851( iParam0, iVar7 );
                }
            }
            if (bVar27)
            {
                sub_31908( iParam0 );
                sub_31947( 0 );
                sub_3125( uVar29, 0 );
            }
            g_U10981[iParam0]._fU12 = 1;
        }
        if (bVar27)
        {
            sub_32055();
        }
    }
    if (bParam2)
    {
        sub_31766();
        sub_32143();
        sub_31947( 0 );
    }
    if (bParam3)
    {
        sub_31766();
        sub_32183();
        sub_31947( 0 );
        sub_3125( uVar29, 0 );
    }
    sub_2571();
    return;
}

void sub_21219(unknown uParam0)
{
    PRINTSTRING( "FLOW WARNING: " );
    PRINTSTRING( uParam0 );
    PRINTNL();
    SCRIPT_ASSERT( "FLOW WARNING: Press IGNORE button and look at console window for details" );
    return;
}

void sub_22035(unknown uParam0, unknown uParam1)
{
    int iVar4;

    iVar4 = 0;
    GET_GAME_TIMER( ref iVar4 );
    g_U15874[uParam0]._fU0 = uParam1;
    g_U15874[uParam0]._fU4 = iVar4 + 7200000;
    return;
}

int sub_22124(unknown uParam0, unknown uParam1, unknown uParam2, boolean bParam3, unknown uParam4, unknown uParam5)
{
    boolean bVar8;
    unknown uVar9;
    int iVar10;

    bVar8 = false;
    switch (uParam0)
    {
        case 0:
        bVar8 = sub_22332( uParam1 );
        break;
        case 1:
        bVar8 = sub_24246( uParam1 );
        break;
        case 2:
        bVar8 = sub_24472( uParam1 );
        break;
        case 3:
        bVar8 = sub_24622( uParam1 );
        break;
        case 4:
        bVar8 = sub_24900( uParam1 );
        break;
        case 5:
        bVar8 = sub_25203( uParam1 );
        break;
        case 6:
        bVar8 = sub_25402( uParam1 );
        break;
        case 7:
        bVar8 = sub_25628( uParam1 );
        break;
        case 8:
        bVar8 = sub_25863( uParam1 );
        break;
        case 9:
        bVar8 = sub_26238( uParam1 );
        break;
        case 10:
        bVar8 = sub_26485( uParam1 );
        break;
        case 11:
        bVar8 = sub_26624( uParam1 );
        break;
        case 12:
        bVar8 = sub_26923( uParam1 );
        break;
        case 13:
        bVar8 = sub_27151( uParam1 );
        break;
        case 14:
        bVar8 = sub_27438( uParam1 );
        break;
        case 15:
        bVar8 = sub_27720( uParam1 );
        break;
        case 16:
        bVar8 = sub_28002( uParam1 );
        break;
        case 17:
        bVar8 = sub_28203( uParam1 );
        break;
        case 18:
        bVar8 = sub_28276( uParam1 );
        break;
        case 19:
        bVar8 = sub_28490( uParam1 );
        break;
        case 20:
        bVar8 = sub_28743( uParam1 );
        break;
        case 21:
        bVar8 = sub_28990( uParam1 );
        break;
        case 22:
        bVar8 = sub_29191( uParam1 );
        break;
        default:
        PRINTSTRING( "Strand ID: " );
        PRINTINT( uParam0 );
        PRINTNL();
        sub_23851( "Flow_Pass_Stats: Flow_Pass_Strand_Mission(): Unknown strand ID." );
    }
    if (NOT bVar8)
    {
        return 0;
    }
    uVar9 = sub_16197( uParam0, uParam1 );
    if (bParam3)
    {
        iVar10 = g_U13391[uParam0]._fU0._fU56;
        if ((NOT (iVar10 == 6)) AND (NOT (iVar10 == 5)))
        {
            sub_29514( uVar9, uParam0 );
        }
    }
    return 1;
}

int sub_22332(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 0;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_22611( iVar3, 25, 5, 2, 0, 0 );
        break;
        case 1:
        sub_22611( iVar3, 30, 5, 2, 0, 0 );
        break;
        case 2:
        sub_22611( iVar3, 0, 5, 0, 0, 0 );
        break;
        case 4:
        sub_22611( iVar3, 50, 5, 2, 0, 0 );
        break;
        case 5:
        sub_22611( iVar3, 100, 5, 2, 0, 0 );
        break;
        case 6:
        sub_22611( iVar3, 150, 5, 2, 0, 0 );
        break;
        case 8:
        sub_22611( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 9:
        sub_22611( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 10:
        sub_22611( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 11:
        sub_22611( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 12:
        sub_22611( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 13:
        sub_22611( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 15:
        sub_22611( iVar3, 250000, 5, 2, 0, 0 );
        break;
        case 16:
        sub_22611( iVar3, 0, 0, 0, 0, 0 );
        break;
        case 20:
        if (g_U15654[12])
        {
            sub_22611( iVar3, 0, 5, 2, 0, 0 );
        }
        else
        {
            sub_22611( iVar3, 250000, 0, 0, 0, 0 );
        }
        break;
        case 7:
        sub_22611( iVar3, 0, 3, 1, 0, 0 );
        break;
        case 3:
        case 30:
        case 14:
        case 37:
        case 18:
        case 19:
        case 17:
        case 21: break;
        case 22:
        case 23:
        case 24:
        case 25:
        case 26:
        case 27:
        case 28:
        sub_22611( iVar3, 0, sub_23729(), sub_23995(), 0, 0 );
        break;
        default:
        sub_24154( "Friend 1", 1 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_24154( "Friend 1", 0 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

void sub_22611(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, int iParam5)
{
    sub_15028( uParam1 );
    sub_22632( uParam0, 0, uParam2 );
    sub_22632( uParam0, 1, uParam3 );
    sub_22632( uParam0, 2, uParam4 );
    ProtectedSet(g_U26747[4], ProtectedGet(g_U26747[4]) + iParam5);
    sub_21031();
    return;
}

void sub_22632(unknown uParam0, int iParam1, int iParam2)
{
    g_U10981[uParam0]._fU40[iParam1] += iParam2;
    if (g_U10981[uParam0]._fU40[iParam1] < 0)
    {
        g_U10981[uParam0]._fU40[iParam1] = 0;
    }
    if (g_U10981[uParam0]._fU40[iParam1] > 100)
    {
        g_U10981[uParam0]._fU40[iParam1] = 100;
    }
    if (iParam1 == 1)
    {
        sub_22789( uParam0 );
    }
    return;
}

void sub_22789(unknown uParam0)
{
    if (g_U0)
    {
        return;
    }
    if (IS_BIT_SET( ProtectedGet(g_U64791), 11 ))
    {
        return;
    }
    if (g_U10981[uParam0]._fU40[1] < 90)
    {
        return;
    }
    switch (uParam0)
    {
        case 0:
        SET_BIT( 1, 6 );
        break;
        break;
        2;
        1;
        ref g_U64791;
        1;
        ref g_U64791;
        break;
        case 3:
        SET_BIT( 1, 7 );
        break;
        break;
        2;
        1;
        ref g_U64791;
        1;
        ref g_U64791;
        break;
        case 7:
        SET_BIT( 1, 8 );
        break;
        break;
        2;
        1;
        ref g_U64791;
        1;
        ref g_U64791;
        break;
        case 8:
        SET_BIT( 1, 9 );
        break;
        break;
        2;
        1;
        ref g_U64791;
        1;
        ref g_U64791;
        break;
        case 13:
        SET_BIT( 1, 10 );
        break;
        break;
        2;
        1;
        ref g_U64791;
        1;
        ref g_U64791;
        break;
    }
    if ((NOT (IS_BIT_SET( ProtectedGet(g_U64791), 5 ))) || ((NOT (IS_BIT_SET( ProtectedGet(g_U64791), 4 ))) || ((NOT (IS_BIT_SET( ProtectedGet(g_U64791), 3 ))) || ((NOT (IS_BIT_SET( ProtectedGet(g_U64791), 2 ))) || (NOT (IS_BIT_SET( ProtectedGet(g_U64791), 1 )))))))
    {
        return;
    }
    if (NOT (IS_BIT_SET( ProtectedGet(g_U64791), 7 )))
    {
        return;
    }
    if (NOT (IS_BIT_SET( ProtectedGet(g_U64791), 9 )))
    {
        return;
    }
    if (NOT (IS_BIT_SET( ProtectedGet(g_U64791), 10 )))
    {
        return;
    }
    if (g_U10981[0]._fU8)
    {
        if (NOT (IS_BIT_SET( ProtectedGet(g_U64791), 6 )))
        {
            return;
        }
    }
    if (g_U10981[7]._fU8)
    {
        if (NOT (IS_BIT_SET( ProtectedGet(g_U64791), 8 )))
        {
            return;
        }
    }
    SET_BIT( 1, 11 );
    AWARD_ACHIEVEMENT( 35 );
    return;
    break;
    2;
    1;
    ref g_U64791;
    1;
    ref g_U64791;
    break;
}

int sub_23729()
{
    switch (l_U475[0])
    {
        case 0: return 14;
        case 1: return 8;
        case 2: return 6;
        case 3: return 1;
        case 4: return 0;
    }
    sub_23851( "Get_TRUST(): Unknown Friend Pass ID" );
    return 0;
}

void sub_23851(unknown uParam0)
{
    PRINTSTRING( "FLOW ERROR: " );
    PRINTSTRING( uParam0 );
    PRINTNL();
    SCRIPT_ASSERT( "FLOW ERROR: Press IGNORE button and look at console window for details" );
    return;
}

int sub_23995()
{
    switch (l_U475[1])
    {
        case 0: return 10;
        case 1: return 6;
        case 2: return 3;
        case 3: return 1;
        case 4: return 0;
    }
    sub_23851( "Get_LIKE(): Unknown Friend Pass ID" );
    return 0;
}

void sub_24154(unknown uParam0, unknown uParam1)
{
    return;
}

int sub_24246(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 1;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_22611( iVar3, 50, 5, 5, 0, 0 );
        break;
        case 1:
        sub_22611( iVar3, 100, 5, 5, 0, 0 );
        break;
        case 2:
        sub_22611( iVar3, 150, 5, 5, 0, 0 );
        break;
        case 3:
        sub_22611( iVar3, 200, 5, 5, 0, 0 );
        break;
        default:
        sub_24154( "Contact 2", 1 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_24154( "Contact 2", 0 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_24472(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 2;
    bVar4 = false;
    switch (uParam0)
    {
        case 1:
        sub_22611( iVar3, 0, 5, 5, 0, 0 );
        break;
        case 0: break;
        default:
        sub_24154( "Girl 3", 1 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_24154( "Girl 3", 0 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_24622(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 3;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_22611( iVar3, 200, 5, 2, 0, 0 );
        break;
        case 1:
        sub_22611( iVar3, 250, 5, 2, 0, 0 );
        break;
        case 2:
        sub_22611( iVar3, 250, 3, 1, 0, 0 );
        break;
        case 3:
        case 4:
        case 5:
        case 6:
        case 7:
        case 8:
        case 9:
        sub_22611( iVar3, 0, sub_23729(), sub_23995(), 0, 0 );
        break;
        default:
        sub_24154( "Friend 4", 1 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_24154( "Friend 4", 0 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_24900(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 4;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_22611( iVar3, 200, 5, 5, 0, 0 );
        break;
        case 1:
        sub_22611( iVar3, 400, 5, 5, 0, 0 );
        break;
        case 2:
        sub_22611( iVar3, 500, 5, 5, 0, 0 );
        break;
        case 3:
        sub_22611( iVar3, 600, 5, 5, 0, 0 );
        break;
        case 4:
        sub_22611( iVar3, 700, 5, 5, 0, 0 );
        break;
        case 5:
        sub_22611( iVar3, 0, 5, 5, 0, 0 );
        break;
        case 6:
        sub_22611( iVar3, 0, 5, 5, 0, 0 );
        break;
        default:
        sub_24154( "Contact 5", 1 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_24154( "Contact 5", 0 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_25203(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 5;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_22611( iVar3, 1000, 5, 5, 0, 0 );
        break;
        case 1:
        sub_22611( iVar3, 1100, 5, 5, 0, 0 );
        break;
        case 2:
        sub_22611( iVar3, 1500, 5, 5, 0, 0 );
        break;
        default:
        sub_24154( "Contact 7", 1 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_24154( "Contact 7", 0 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_25402(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 6;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_22611( iVar3, 1500, 5, 5, 0, 0 );
        break;
        case 1:
        sub_22611( iVar3, 2000, 5, 5, 0, 0 );
        break;
        case 2:
        sub_22611( iVar3, 2500, 5, 5, 0, 0 );
        break;
        case 3:
        sub_22611( iVar3, 0, 5, 5, 0, 0 );
        break;
        default:
        sub_24154( "Contact 7b", 1 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_24154( "Contact 7b", 0 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_25628(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 7;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_22611( iVar3, 6000, 5, 2, 0, 0 );
        break;
        case 1:
        sub_22611( iVar3, 6250, 5, 2, 0, 0 );
        break;
        case 2:
        case 3:
        case 4:
        case 5:
        case 6:
        sub_22611( iVar3, 0, sub_23729(), sub_23995(), 0, 0 );
        break;
        default:
        sub_24154( "Friend 8", 1 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_24154( "Friend 8", 0 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_25863(unknown uParam0)
{
    int iVar3;
    boolean bVar4;
    int iVar5;

    iVar3 = 8;
    bVar4 = false;
    iVar5 = 500;
    switch (uParam0)
    {
        case 0:
        sub_22611( iVar3, 3500, 5, 2, 0, 0 );
        break;
        case 1:
        sub_22611( iVar3, 3500, 5, 2, 0, 0 );
        break;
        case 4:
        sub_22611( iVar3, 6750, 5, 2, 0, 0 );
        break;
        case 5:
        sub_22611( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 2:
        case 3: break;
        case 6:
        sub_22611( iVar3, iVar5, 3, 1, 0, 0 );
        INCREMENT_INT_STAT_NO_MESSAGE( 109, iVar5 );
        break;
        case 7:
        case 8:
        case 9:
        case 10:
        case 11:
        case 12:
        case 13:
        case 14:
        sub_22611( iVar3, 0, sub_23729(), sub_23995(), 0, 0 );
        break;
        default:
        sub_24154( "Friend 9", 1 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_24154( "Friend 9", 0 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_26238(unknown uParam0)
{
    int iVar3;
    int iVar4;
    boolean bVar5;

    iVar3 = 9;
    iVar4 = 7;
    bVar5 = false;
    switch (uParam0)
    {
        case 0:
        sub_22611( iVar3, 6500, 5, 5, 0, 0 );
        break;
        case 1:
        sub_22611( iVar3, 6750, 5, 5, 0, 0 );
        break;
        case 3:
        if (g_U15654[39])
        {
            sub_22611( iVar4, 0, 5, 10, 0, 0 );
        }
        else
        {
            sub_22611( iVar3, 0, 5, 5, 0, 0 );
        }
        break;
        case 2: break;
        default:
        sub_24154( "Contact 10", 1 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar5)
    {
        sub_24154( "Contact 10", 0 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_26485(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 10;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_22611( iVar3, 0, 1, 1, 0, 0 );
        break;
        default:
        sub_24154( "Girl 11", 1 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_24154( "Girl 11", 0 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_26624(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 11;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_22611( iVar3, 1000, 5, 5, 0, 0 );
        break;
        case 3:
        sub_22611( iVar3, 1000, 5, 5, 0, 0 );
        break;
        case 4:
        sub_22611( iVar3, 5000, 5, 5, 0, 0 );
        break;
        case 5:
        sub_22611( iVar3, 5000, 5, 5, 0, 0 );
        break;
        case 6:
        sub_22611( iVar3, 0, 5, 5, 0, 0 );
        break;
        case 7:
        sub_22611( iVar3, 0, 5, 5, 0, 0 );
        break;
        case 1:
        case 2: break;
        default:
        sub_24154( "Contact 12", 1 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_24154( "Contact 12", 0 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_26923(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 12;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_22611( iVar3, 6500, 5, 5, 0, 0 );
        break;
        case 1:
        sub_22611( iVar3, 6750, 5, 5, 0, 0 );
        break;
        case 2:
        sub_22611( iVar3, 7000, 5, 5, 0, 0 );
        break;
        case 3:
        sub_22611( iVar3, 7500, 5, 5, 0, 0 );
        break;
        default:
        sub_24154( "Contact 13", 1 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_24154( "Contact 13", 0 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_27151(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 13;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_22611( iVar3, 7500, 5, 2, 0, 5 );
        break;
        case 1:
        sub_22611( iVar3, 8000, 5, 2, 0, 5 );
        break;
        case 3:
        sub_22611( iVar3, 250000, 5, 2, 0, 5 );
        break;
        case 4:
        case 5:
        case 6:
        case 7:
        case 8:
        case 9:
        sub_22611( iVar3, 0, sub_23729(), sub_23995(), 0, 0 );
        break;
        case 2: break;
        default:
        sub_24154( "Friend 15", 1 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_24154( "Friend 15", 0 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_27438(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 14;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_22611( iVar3, 8500, 5, 5, 0, 0 );
        break;
        case 1:
        sub_22611( iVar3, 9000, 5, 5, 0, 0 );
        break;
        case 2:
        sub_22611( iVar3, 9500, 5, 5, 0, 0 );
        break;
        case 3:
        sub_22611( iVar3, 9500, 5, 5, 0, 0 );
        break;
        case 4:
        sub_22611( iVar3, 9500, 5, 5, 0, 0 );
        break;
        case 5:
        sub_22611( iVar3, 11000, 5, 5, 0, 0 );
        break;
        default:
        sub_24154( "Contact 16", 1 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_24154( "Contact 16", 0 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_27720(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 15;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_22611( iVar3, 9000, 5, 5, 0, 0 );
        break;
        case 1:
        sub_22611( iVar3, 9250, 5, 5, 0, 0 );
        break;
        case 4:
        sub_22611( iVar3, 9500, 5, 5, 0, 0 );
        break;
        case 6:
        sub_22611( iVar3, 9750, 5, 5, 0, 0 );
        break;
        case 7:
        sub_22611( iVar3, 0, 5, 5, 0, 0 );
        break;
        case 2:
        case 3:
        case 5: break;
        default:
        sub_24154( "Contact 18", 1 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_24154( "Contact 18", 0 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_28002(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 16;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_22611( iVar3, 6500, 5, 5, 0, 0 );
        break;
        case 1:
        sub_22611( iVar3, 7000, 5, 5, 0, 0 );
        break;
        case 2:
        sub_22611( iVar3, 7500, 5, 5, 0, 0 );
        break;
        default:
        sub_24154( "Contact 19", 1 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_24154( "Contact 19", 0 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_28203(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 17;
    bVar4 = false;
    if (bVar4)
    {
        sub_24154( "Girl 20", 0 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_28276(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 18;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_22611( iVar3, 6000, 5, 5, 0, 0 );
        break;
        case 1:
        sub_22611( iVar3, 6250, 5, 5, 0, 0 );
        break;
        case 2:
        sub_22611( iVar3, 6500, 5, 5, 0, 0 );
        break;
        case 3: break;
        default:
        sub_24154( "Contact 21", 1 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_24154( "Contact 21", 0 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_28490(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 19;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_22611( iVar3, 7500, 5, 5, 0, 0 );
        break;
        case 2:
        sub_22611( iVar3, 10500, 5, 5, 0, 0 );
        break;
        case 3:
        sub_22611( iVar3, 11000, 5, 5, 0, 0 );
        break;
        case 4:
        sub_22611( iVar3, 12000, 5, 5, 0, 0 );
        break;
        case 1:
        sub_22611( iVar3, 0, 3, 3, 0, 0 );
        break;
        default:
        sub_24154( "Contact 22", 1 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_24154( "Contact 22", 0 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_28743(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 20;
    bVar4 = false;
    switch (uParam0)
    {
        case 1:
        sub_22611( iVar3, 10500, 5, 5, 0, 0 );
        break;
        case 2:
        sub_22611( iVar3, 0, 5, 5, 0, 0 );
        break;
        case 3:
        sub_22611( iVar3, 13000, 5, 5, 0, 0 );
        break;
        case 5:
        sub_22611( iVar3, 14500, 5, 5, 0, 0 );
        break;
        case 4:
        case 0: break;
        default:
        sub_24154( "Contact 24", 1 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_24154( "Contact 24", 0 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_28990(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 21;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_22611( iVar3, 12000, 5, 5, 0, 0 );
        break;
        case 1:
        sub_22611( iVar3, 13250, 5, 5, 0, 0 );
        break;
        case 2:
        sub_22611( iVar3, 14500, 5, 5, 0, 0 );
        break;
        default:
        sub_24154( "Contact 25", 1 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_24154( "Contact 25", 0 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_29191(unknown uParam0)
{
    int iVar3;
    int iVar4;
    boolean bVar5;

    iVar3 = 22;
    iVar4 = 8;
    bVar5 = false;
    switch (uParam0)
    {
        case 0:
        sub_22611( iVar4, 0, 3, 1, 0, 0 );
        break;
        default:
        sub_24154( "Girl 26", 1 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar5)
    {
        sub_24154( "Girl 26", 0 );
        sub_22611( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

void sub_29514(int iParam0, int iParam1)
{
    if (g_U0)
    {
        return;
    }
    if (iParam0 == -1)
    {
        return;
    }
    if (iParam1 == -1)
    {
        return;
    }
    if (sub_29562( iParam0, iParam1 ))
    {
        INCREMENT_INT_STAT_NO_MESSAGE( 253, 1 );
        sub_30293( iParam1 );
    }
    return;
}

int sub_29562(int iParam0, int iParam1)
{
    int iVar4;
    boolean bVar5;
    int iVar6;

    if (g_U0)
    {
        return 0;
    }
    if (iParam0 == -1)
    {
        return 0;
    }
    if (iParam1 == -1)
    {
        return 0;
    }
    iVar4 = g_U13391[iParam1]._fU0._fU56;
    bVar5 = iVar4 == 6;
    if (bVar5)
    {
        return 0;
    }
    iVar6 = 0;
    if (NOT (IS_BIT_SET( g_U26758[iParam0]._fU108, 3 )))
    {
        iVar6 = g_U26758[iParam0]._fU104;
        if (iVar6 > 0)
        {
            sub_29702( 0, iVar6 );
            g_U13334[iParam1]._fU4 += iVar6;
        }
        SET_BIT( ref g_U26758[iParam0]._fU108, 3 );
        return 1;
    }
    return 0;
}

void sub_29702(unknown uParam0, int iParam1)
{
    g_U32871[uParam0]._fU4 += iParam1;
    if (g_U32871[uParam0]._fU4 > g_U32871[uParam0]._fU0)
    {
        SCRIPT_ASSERT( "Flow_Achievements_Game_Progress_Made: Current Category is over target value" );
        g_U32871[uParam0]._fU4 = g_U32871[uParam0]._fU0;
    }
    sub_29884( 0 );
    return;
}

void sub_29884(boolean bParam0)
{
    float fVar3;
    float fVar4;
    float fVar5;
    float fVar6;
    boolean bVar7;
    int I;

    fVar3 = 0.00000000;
    fVar4 = 0.00000000;
    fVar5 = 0.00000000;
    fVar6 = 0.00000000;
    bVar7 = true;
    I = 0;
    for ( I = 0; I < 8; I++ )
    {
        if (g_U32871[I]._fU4 == g_U32871[I]._fU0)
        {
            fVar4 = g_U32871[I]._fU8;
        }
        else
        {
            bVar7 = false;
            fVar5 = TO_FLOAT( g_U32871[I]._fU0 );
            fVar6 = TO_FLOAT( g_U32871[I]._fU4 );
            fVar4 = (fVar6 / fVar5) * g_U32871[I]._fU8;
        }
        fVar3 += fVar4;
    }
    if (fVar3 > 100.00000000)
    {
        fVar3 = 99.99000000;
    }
    if (bVar7)
    {
        fVar3 = 100.00000000;
    }
    SET_FLOAT_STAT( 0, fVar3 );
    if (bVar7)
    {
        sub_30139();
    }
    if ((NOT (# -NULL-0xc27c84())) AND ((NOT bParam0) AND (bVar7)))
    {
        PRINT_HELP( "GAME100" );
    }
    return;
}

void sub_30139()
{
    ENABLE_MAX_AMMO_CAP( 0 );
    return;
}

void sub_30293(int iParam0)
{
    float fVar3;
    float fVar4;
    float fVar5;

    if (g_U0)
    {
        return;
    }
    if (iParam0 == -1)
    {
        return;
    }
    if (g_U13334[iParam0]._fU0 == 0)
    {
        return;
    }
    fVar3 = 0.00000000;
    fVar4 = 0.00000000;
    fVar5 = 0.00000000;
    if (g_U13334[iParam0]._fU4 == g_U13334[iParam0]._fU0)
    {
        fVar3 = 100.00000000;
    }
    else
    {
        fVar4 = TO_FLOAT( g_U13334[iParam0]._fU0 );
        fVar5 = TO_FLOAT( g_U13334[iParam0]._fU4 );
        fVar3 = fVar5 / fVar4;
        fVar3 *= 100.00000000;
    }
    switch (iParam0)
    {
        case 0:
        sub_30626( 3 );
        SET_FLOAT_STAT( 3, fVar3 );
        break;
        case 1:
        sub_30626( 4 );
        SET_FLOAT_STAT( 4, fVar3 );
        break;
        case 3:
        sub_30626( 7 );
        SET_FLOAT_STAT( 7, fVar3 );
        break;
        case 4:
        sub_30626( 8 );
        SET_FLOAT_STAT( 8, fVar3 );
        break;
        case 5:
        sub_30626( 9 );
        SET_FLOAT_STAT( 9, fVar3 );
        break;
        case 6:
        sub_30626( 10 );
        SET_FLOAT_STAT( 10, fVar3 );
        break;
        case 7:
        sub_30626( 13 );
        SET_FLOAT_STAT( 13, fVar3 );
        break;
        case 8:
        sub_30626( 16 );
        SET_FLOAT_STAT( 16, fVar3 );
        break;
        case 9:
        sub_30626( 17 );
        SET_FLOAT_STAT( 17, fVar3 );
        break;
        case 11:
        sub_30626( 18 );
        SET_FLOAT_STAT( 18, fVar3 );
        break;
        case 12:
        sub_30626( 19 );
        SET_FLOAT_STAT( 19, fVar3 );
        break;
        case 13:
        sub_30626( 22 );
        SET_FLOAT_STAT( 22, fVar3 );
        break;
        case 14:
        sub_30626( 23 );
        SET_FLOAT_STAT( 23, fVar3 );
        break;
        case 15:
        sub_30626( 24 );
        SET_FLOAT_STAT( 24, fVar3 );
        break;
        case 16:
        sub_30626( 25 );
        SET_FLOAT_STAT( 25, fVar3 );
        break;
        case 18:
        sub_30626( 26 );
        SET_FLOAT_STAT( 26, fVar3 );
        break;
        case 19:
        sub_30626( 27 );
        SET_FLOAT_STAT( 27, fVar3 );
        break;
        case 20:
        sub_30626( 29 );
        SET_FLOAT_STAT( 29, fVar3 );
        break;
        case 21:
        sub_30626( 28 );
        SET_FLOAT_STAT( 28, fVar3 );
        break;
        default: return;
    }
    return;
}

void sub_30626(unknown uParam0)
{
    if ((GET_STAT_FRONTEND_VISIBILITY( uParam0 )) == 0)
    {
        SET_STAT_FRONTEND_VISIBILITY( uParam0, 1 );
    }
    return;
}

void sub_31336(unknown uParam0, unknown uParam1)
{
    sub_31355( uParam0, 0, 0.00000000, uParam1 );
    return;
}

void sub_31355(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;

    switch (uParam0)
    {
        case 0:
        PLAYSTATS_INT( "SPRUNK_BOUGHT", uParam1 );
        break;
        case 1:
        PLAYSTATS_INT( "HOTDOG_BOUGHT", uParam1 );
        break;
        case 2:
        PLAYSTATS_INT( "NUTS_BOUGHT", uParam1 );
        break;
        case 3:
        PLAYSTATS_INT( "BURGERS_BOUGHT", uParam1 );
        break;
        case 7:
        PLAYSTATS_INT( "DONATE_BEGGAR", uParam1 );
        break;
        case 8:
        PLAYSTATS_INT( "DONATE_BUSKER", uParam1 );
        break;
        case 4:
        PLAYSTATS_INT( "BSHOT_BOUGHT", uParam1 );
        break;
        case 5:
        PLAYSTATS_INT( "CBELL_BOUGHT", uParam1 );
        break;
        case 6:
        PLAYSTATS_INT( "CAFE_BOUGHT", uParam1 );
        break;
        case 9: break;
    }
    return;
}

void sub_31766()
{
    g_U9914._fU0 = 1;
    g_U9914._fU4 = 0;
    g_U9914._fU8 = 0;
    g_U9914._fU12 = 0;
    g_U9914._fU16 = 0;
    g_U9914._fU20 = 0;
    g_U9914._fU24 = 7;
    return;
}

int sub_31851(int iParam0, int iParam1)
{
    if (iParam0 == 0)
    {
        if (iParam1 == 20)
        {
            return 1;
        }
    }
    return 0;
}

void sub_31908(unknown uParam0)
{
    sub_2470();
    g_U10981[uParam0]._fU116 = 0;
    return;
}

void sub_31947(unknown uParam0)
{
    if (g_U9385)
    {
        g_U9385 = 0;
        return;
    }
    g_U9380._fU0 = 1;
    g_U9380._fU4 = uParam0;
    g_U9380._fU8 = 0;
    g_U9380._fU12 = 0;
    g_U9380._fU16 = 0;
    return;
}

void sub_32055()
{
    sub_32064();
    return;
}

void sub_32064()
{
    if (COMPARE_STRING( ref g_U9926, "" ))
    {
        return;
    }
    PLAYSTATS_MISSION_PASSED( ref g_U9926 );
    StrCopy( ref g_U9926, "", 16 );
    return;
}

void sub_32143()
{
    sub_32064();
    return;
}

void sub_32183()
{
    sub_32064();
    StrCopy( ref g_U9926, "FPASS", 16 );
    return;
}

void sub_32310()
{
    MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U893[0] );
    MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U893[1] );
    CLEAR_HELP();
    return;
}

void sub_32375()
{
    if (NOT l_U970)
    {
        if (NOT l_U971)
        {
            GET_CHAR_COORDINATES( sub_5707(), ref l_U908._fU0, ref l_U908._fU4, ref l_U908._fU8 );
            if (l_U908._fU8 < 16.37810000)
            {
                if (l_U972)
                {
                    if (NOT l_U954)
                    {
                        if (NOT l_U955)
                        {
                            sub_32487( 1 );
                        }
                    }
                }
            }
        }
    }
    return;
}

void sub_32487(unknown uParam0)
{
    switch (uParam0)
    {
        case 0:
        PRINT_NOW( "FRANCIS6_12", 7000, 1 );
        break;
        case 1:
        PRINT_NOW( "FRANCIS6_13", 7000, 1 );
        sub_14333( 11, "FM5_NEITHER", "FM5AUD", 0 );
        break;
        case 2:
        PRINT_NOW( "FRANCIS6_14", 7000, 1 );
        break;
        case 3:
        PRINT_NOW( "FRANCIS6_20", 7000, 1 );
        break;
    }
    if (g_U9930 > 1)
    {
        SET_PLAYER_MOOD_PISSED_OFF( sub_6521(), 150 );
        SAY_AMBIENT_SPEECH( sub_5707(), "MISSION_FAIL_RAGE", 0, 0, 0 );
    }
    sub_32749();
    sub_32310();
    sub_4129();
    return;
}

void sub_32749()
{
    sub_32758();
    return;
}

void sub_32758()
{
    int iVar2;

    iVar2 = 11;
    sub_32772( iVar2 );
    sub_3218( iVar2 );
    return;
}

void sub_32772(unknown uParam0)
{
    if (g_U10981[uParam0]._fU12)
    {
        return;
    }
    SET_PLAYER_MOOD_PISSED_OFF( sub_6521(), 150 );
    CLEAR_HELP();
    sub_2042( uParam0 );
    return;
}

void sub_32888()
{
    unknown uVar2;

    if ((NOT l_U970) AND (NOT l_U971))
    {
        if ((DOES_CHAR_EXIST( l_U893[0] )) AND (DOES_CHAR_EXIST( l_U893[1] )))
        {
            if ((HAS_CHAR_BEEN_DAMAGED_BY_CHAR( l_U893[0], sub_5707(), 0 )) AND (HAS_CHAR_BEEN_DAMAGED_BY_CHAR( l_U893[1], sub_5707(), 0 )))
            {
                REMOVE_BLIP( l_U936[2] );
                REMOVE_BLIP( l_U936[3] );
                l_U971 = 1;
                l_U970 = 1;
                if (NOT (IS_CHAR_DEAD( l_U893[1] )))
                {
                    SET_CHAR_HEALTH( l_U893[1], 0 );
                }
                if (NOT (IS_CHAR_DEAD( l_U893[0] )))
                {
                    SET_CHAR_HEALTH( l_U893[0], 0 );
                }
            }
        }
    }
    if (NOT l_U971)
    {
        if (DOES_CHAR_EXIST( l_U893[1] ))
        {
            if (HAS_CHAR_BEEN_DAMAGED_BY_CHAR( l_U893[1], sub_5707(), 0 ))
            {
                if (IS_CHAR_INJURED( l_U893[1] ))
                {
                    if (sub_33192())
                    {
                        l_U970 = 1;
                        if (NOT (IS_CHAR_DEAD( l_U893[0] )))
                        {
                            SET_CHAR_HEALTH( l_U893[0], 0 );
                        }
                    }
                    else
                    {
                        sub_33298( l_U893[0] );
                    }
                    l_U971 = 1;
                    if (NOT (IS_CHAR_DEAD( l_U893[1] )))
                    {
                        SET_CHAR_HEALTH( l_U893[1], 0 );
                        MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U893[1] );
                    }
                    if (DOES_BLIP_EXIST( l_U936[2] ))
                    {
                        REMOVE_BLIP( l_U936[2] );
                    }
                    if (DOES_BLIP_EXIST( l_U936[3] ))
                    {
                        REMOVE_BLIP( l_U936[3] );
                    }
                }
            }
        }
    }
    if (NOT l_U970)
    {
        if (DOES_CHAR_EXIST( l_U893[0] ))
        {
            if (HAS_CHAR_BEEN_DAMAGED_BY_CHAR( l_U893[0], sub_5707(), 0 ))
            {
                if (IS_CHAR_INJURED( l_U893[0] ))
                {
                    if (sub_33192())
                    {
                        l_U971 = 1;
                        if (NOT (IS_CHAR_DEAD( l_U893[1] )))
                        {
                            SET_CHAR_HEALTH( l_U893[1], 0 );
                        }
                    }
                    else
                    {
                        sub_33298( l_U893[1] );
                    }
                    l_U970 = 1;
                    if (NOT (IS_CHAR_DEAD( l_U893[0] )))
                    {
                        SET_CHAR_HEALTH( l_U893[0], 0 );
                        MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U893[0] );
                    }
                    if (DOES_BLIP_EXIST( l_U936[3] ))
                    {
                        REMOVE_BLIP( l_U936[3] );
                    }
                    if (DOES_BLIP_EXIST( l_U936[2] ))
                    {
                        REMOVE_BLIP( l_U936[2] );
                    }
                }
            }
        }
    }
    if (l_U970)
    {
        if (l_U971)
        {
            sub_32487( 0 );
        }
    }
    return;
}

int sub_33192()
{
    int iVar2;

    GET_CURRENT_CHAR_WEAPON( sub_5707(), ref iVar2 );
    if (iVar2 == 18)
    {
        return 1;
    }
    return 0;
}

void sub_33298(unknown uParam0)
{
    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( uParam0, 1 );
    }
    return;
}

void sub_33776()
{
    unknown uVar2;

    if (l_U1082)
    {
        if (NOT l_U1194)
        {
            if (IS_CHAR_SHOOTING( sub_5707() ))
            {
                GET_GAME_TIMER( ref l_U1193 );
                l_U1194 = 1;
            }
        }
    }
    if (l_U1194)
    {
        if (sub_33858( 100, l_U1193 ))
        {
            if (NOT l_U1192)
            {
                if (NOT (IS_CHAR_INJURED( l_U893[0] )))
                {
                    if (NOT (IS_CHAR_INJURED( l_U893[1] )))
                    {
                        sub_33298( l_U893[0] );
                        sub_33298( l_U893[1] );
                        l_U1192 = 1;
                    }
                }
                else if (NOT l_U1195)
                {
                    if (NOT (IS_CHAR_INJURED( l_U893[1] )))
                    {
                        TASK_PLAY_ANIM_SECONDARY( l_U893[1], "SIT_SHOCKED_R", "MISSFRANCIS5", 24.00000000, 0, 0, 0, 1, -1 );
                        l_U1195 = 1;
                    }
                }
            }
        }
    }
    if (l_U1195)
    {
        if (NOT l_U1196)
        {
            if (NOT (IS_CHAR_INJURED( l_U893[1] )))
            {
                if (IS_CHAR_PLAYING_ANIM( l_U893[1], "MISSFRANCIS5", "SIT_SHOCKED_R" ))
                {
                    SET_CHAR_ANIM_SPEED( l_U893[1], "MISSFRANCIS5", "SIT_SHOCKED_R", 0.75000000 );
                    l_U1196 = 1;
                }
            }
        }
    }
    return;
}

void sub_33858(int iParam0, int iParam1)
{
    int Result;
    int iVar5;
    int iVar6;

    Result = 0;
    GET_GAME_TIMER( ref iVar5 );
    iVar6 = iVar5 - iParam1;
    if (iVar6 > iParam0)
    {
        Result = 1;
    }
    return Result;
}

void sub_34255()
{
    if (l_U1192)
    {
        if (sub_33858( 500, l_U1193 ))
        {
            if (NOT (IS_CHAR_INJURED( l_U893[1] )))
            {
                if (NOT l_U1197)
                {
                    CLEAR_CHAR_TASKS( l_U893[1] );
                    sub_34348( l_U893[1], 4 );
                    l_U1197 = 1;
                }
            }
        }
        if (sub_33858( 1500, l_U1193 ))
        {
            if (NOT (IS_CHAR_INJURED( l_U893[0] )))
            {
                if (NOT l_U1198)
                {
                    CLEAR_CHAR_TASKS( l_U893[0] );
                    sub_34348( l_U893[0], 4 );
                    l_U1198 = 1;
                }
            }
        }
    }
    return;
}

void sub_34348(unknown uParam0, unknown uParam1)
{
    vector vVar4;

    vVar4 = {60.66020000, 318.49880000, 14.75300000};
    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        OPEN_SEQUENCE_TASK( ref l_U1101 );
        TASK_FOLLOW_NAV_MESH_TO_COORD( 0, vVar4.x, vVar4.y, 14.75300000, uParam1, -1, 0.25000000 );
        TASK_FOLLOW_NAV_MESH_TO_COORD( 0, l_U1098._fU0, l_U1098._fU4, 14.75300000, 2, -1, 0.25000000 );
        CLOSE_SEQUENCE_TASK( l_U1101 );
        TASK_PERFORM_SEQUENCE( uParam0, l_U1101 );
        CLEAR_SEQUENCE_TASK( l_U1101 );
    }
    return;
}

void sub_34609()
{
    if ((l_U1104) || (l_U1192))
    {
        if (NOT l_U1200)
        {
            if (NOT l_U1199)
            {
                if (NOT (IS_CHAR_INJURED( l_U893[0] )))
                {
                    if (NOT (IS_CHAR_INJURED( l_U893[1] )))
                    {
                        if (NOT l_U1207)
                        {
                            GET_GAME_TIMER( ref l_U1208 );
                            l_U1207 = 1;
                        }
                        if ((LOCATE_CHAR_ANY_MEANS_3D( l_U893[1], l_U1201._fU0, l_U1201._fU4, l_U1201._fU8, l_U1204._fU0, l_U1204._fU4, l_U1204._fU8, 0 )) AND (LOCATE_CHAR_ANY_MEANS_3D( l_U893[0], l_U1201._fU0, l_U1201._fU4, l_U1201._fU8, l_U1204._fU0, l_U1204._fU4, l_U1204._fU8, 0 )))
                        {
                            l_U1199 = 1;
                            l_U1200 = 1;
                            DELETE_CHAR( ref l_U893[0] );
                            DELETE_CHAR( ref l_U893[1] );
                        }
                        if (sub_33858( 10000, l_U1208 ))
                        {
                            if (NOT l_U1199)
                            {
                                if (NOT l_U1200)
                                {
                                    if (NOT (IS_CHAR_INJURED( l_U893[0] )))
                                    {
                                        if (NOT (IS_CHAR_INJURED( l_U893[1] )))
                                        {
                                            if (NOT (IS_CHAR_ON_SCREEN( l_U893[0] )))
                                            {
                                                if (NOT (IS_CHAR_ON_SCREEN( l_U893[1] )))
                                                {
                                                    l_U1199 = 1;
                                                    l_U1200 = 1;
                                                    DELETE_CHAR( ref l_U893[0] );
                                                    DELETE_CHAR( ref l_U893[1] );
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                        if (sub_33858( 30000, l_U1208 ))
                        {
                            l_U1199 = 1;
                            l_U1200 = 1;
                            DELETE_CHAR( ref l_U893[0] );
                            DELETE_CHAR( ref l_U893[1] );
                        }
                    }
                }
            }
        }
    }
    if (l_U1199)
    {
        if (l_U1200)
        {
            sub_32487( 2 );
        }
    }
    return;
}

void sub_35144()
{
    if (IS_SCREEN_FADED_OUT())
    {
        if (sub_35170( sub_5707() ))
        {
            sub_6615( 0, l_U964, 5 );
            l_U1238 = 1;
        }
    }
    if (l_U1238)
    {
        if (NOT l_U1003)
        {
            if (sub_35476( 1, 1 ))
            {
                l_U1005 = 1;
                l_U1238 = 0;
            }
        }
    }
    return;
}

int sub_35170(int iParam0)
{
    unknown uVar3;
    int iVar4;
    int iVar5;

    if (NOT (IS_CHAR_INJURED( iParam0 )))
    {
        if (IS_CHAR_IN_ANY_CAR( iParam0 ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( iParam0, ref uVar3 );
            if (IS_VEH_DRIVEABLE( uVar3 ))
            {
                if (sub_35234( uVar3 ))
                {
                    GET_MAXIMUM_NUMBER_OF_PASSENGERS( uVar3, ref iVar5 );
                    if (iVar5 == 3)
                    {
                        if (NOT (IS_CAR_PASSENGER_SEAT_FREE( uVar3, 1 )))
                        {
                            GET_CHAR_IN_CAR_PASSENGER_SEAT( uVar3, 1, ref iVar4 );
                            if (iVar4 == iParam0)
                            {
                                return 1;
                            }
                        }
                        if (NOT (IS_CAR_PASSENGER_SEAT_FREE( uVar3, 2 )))
                        {
                            GET_CHAR_IN_CAR_PASSENGER_SEAT( uVar3, 2, ref iVar4 );
                            if (iVar4 == iParam0)
                            {
                                return 1;
                            }
                        }
                    }
                }
            }
        }
    }
    return 0;
}

int sub_35234(int iParam0)
{
    if ((iParam0 == g_U2239) || ((IS_CAR_MODEL( iParam0, 1208856469 )) || ((IS_CAR_MODEL( iParam0, 1884962369 )) || (IS_CAR_MODEL( iParam0, -956048545 )))))
    {
        return 1;
    }
    return 0;
}

int sub_35476(boolean bParam0, boolean bParam1)
{
    unknown uVar4;
    int iVar5;
    float fVar6;

    if (IS_MINIGAME_IN_PROGRESS())
    {
        return 0;
    }
    if (bParam1)
    {
        if (IS_CHAR_IN_ANY_CAR( sub_5707() ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_5707(), ref uVar4 );
            if (NOT (IS_CAR_DEAD( uVar4 )))
            {
                GET_CAR_UPRIGHT_VALUE( uVar4, ref fVar6 );
                if ((fVar6 > 1.01100000) || (fVar6 < 0.95000000))
                {
                    return 0;
                }
            }
        }
    }
    if (bParam0)
    {
        if (IS_CHAR_IN_ANY_CAR( sub_5707() ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_5707(), ref uVar4 );
            if (NOT (IS_CAR_DEAD( uVar4 )))
            {
                GET_DRIVER_OF_CAR( uVar4, ref iVar5 );
                if (NOT (iVar5 == sub_5707()))
                {
                    return 0;
                }
            }
        }
    }
    if (IS_CHAR_IN_ANY_CAR( sub_5707() ))
    {
        if (NOT (IS_CHAR_SITTING_IN_ANY_CAR( sub_5707() )))
        {
            return 0;
        }
    }
    if (NOT (IS_PLAYER_READY_FOR_CUTSCENE( sub_6521() )))
    {
        return 0;
    }
    if (NOT (CAN_PLAYER_START_MISSION( sub_6521() )))
    {
        return 0;
    }
    return 1;
}

void sub_35852()
{
    if (sub_35861())
    {
        g_U64921 = 1;
    }
    return;
}

int sub_35861()
{
    if ((GET_NUMBER_OF_INSTANCES_OF_STREAMED_SCRIPT( "dwayne_backup" )) >= 1)
    {
        return 1;
    }
    return 0;
}

void sub_35977()
{
    if (sub_33858( l_U1105, l_U1063 ))
    {
        if (NOT l_U970)
        {
            if (NOT l_U971)
            {
                if (NOT l_U885)
                {
                    switch (l_U1102)
                    {
                        case 0:
                        if (NOT (IS_CHAR_INJURED( l_U893[0] )))
                        {
                            sub_34348( l_U893[0], 2 );
                            GET_GAME_TIMER( ref l_U1103 );
                            l_U1102 = 1;
                        }
                        break;
                        case 1:
                        if (sub_33858( 2000, l_U1103 ))
                        {
                            if (NOT (IS_CHAR_INJURED( l_U893[1] )))
                            {
                                sub_34348( l_U893[1], 2 );
                                l_U1102 = 2;
                                l_U1104 = 1;
                            }
                        }
                        break;
                        case 2: break;
                    }
                }
            }
        }
    }
    return;
}

void sub_36297()
{
    float fVar2;

    fVar2 = 352.87500000;
    if (IS_PLAYER_SCRIPT_CONTROL_ON( sub_6521() ))
    {
        switch (l_U1106)
        {
            case 0:
            if (NOT (DOES_VEHICLE_EXIST( l_U925[0] )))
            {
                REQUEST_MODEL( 1264341792 );
                while (NOT (HAS_MODEL_LOADED( 1264341792 )))
                {
                    WAIT( 0 );
                }
                CREATE_CAR( 1264341792, l_U1112._fU0, l_U1112._fU4, l_U1112._fU8, ref l_U925[0], 1 );
                SET_CAR_HEADING( l_U925[0], 89.60370000 );
                CLEAR_AREA_OF_CARS( l_U1112._fU0, l_U1112._fU4, l_U1112._fU8, 10.00000000 );
                MARK_MODEL_AS_NO_LONGER_NEEDED( 1264341792 );
                l_U1106 = 4;
            }
            break;
            case 4:
            if (LOCATE_CHAR_ANY_MEANS_3D( sub_5707(), l_U1112._fU0, l_U1112._fU4, l_U1112._fU8, 75.00000000, 75.00000000, 2.00000000, 0 ))
            {
                if (NOT (DOES_VEHICLE_EXIST( l_U925[0] )))
                {
                    REQUEST_MODEL( 1264341792 );
                    while (NOT (HAS_MODEL_LOADED( 1264341792 )))
                    {
                        WAIT( 0 );
                    }
                    CREATE_CAR( 1264341792, l_U1112._fU0, l_U1112._fU4, l_U1112._fU8, ref l_U925[0], 1 );
                    SET_CAR_HEADING( l_U925[0], 89.60370000 );
                    CLEAR_AREA_OF_CARS( l_U1112._fU0, l_U1112._fU4, l_U1112._fU8, 10.00000000 );
                    MARK_MODEL_AS_NO_LONGER_NEEDED( 1264341792 );
                }
            }
            if (DOES_VEHICLE_EXIST( l_U925[0] ))
            {
                if (IS_VEH_DRIVEABLE( l_U925[0] ))
                {
                    if (NOT l_U973)
                    {
                        sub_6793( 1, l_U925[0], 7 );
                        CHANGE_BLIP_COLOUR( l_U936[7], 2 );
                    }
                    if (IS_CHAR_SITTING_IN_CAR( sub_5707(), l_U925[0] ))
                    {
                        MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U925[0] );
                        GIVE_WEAPON_TO_CHAR( sub_5707(), l_U892, 20, 0 );
                        sub_6793( 0, l_U925[0], 7 );
                        l_U1126 = 0;
                        l_U973 = 1;
                        l_U1106 = 3;
                    }
                }
                else if (HAS_CAR_BEEN_DAMAGED_BY_CHAR( l_U925[0], sub_5707() ))
                {
                    sub_6793( 0, l_U925[0], 7 );
                    if (NOT sub_36989())
                    {
                        CLEAR_PRINTS();
                        PRINT_NOW( "FRANCIS6_19", 7500, 1 );
                        sub_4140( 19, 1 );
                        l_U1106 = 3;
                        l_U1117 = 1;
                    }
                    else
                    {
                        l_U1117 = 0;
                    }
                    l_U973 = 1;
                    l_U1106 = 3;
                }
            }
            break;
            case 3:
            if (IS_PLAYER_SCRIPT_CONTROL_ON( sub_6521() ))
            {
                if (sub_36989())
                {
                    if (l_U1117)
                    {
                        sub_4140( 19, 0 );
                        l_U1117 = 0;
                    }
                }
                else if (NOT l_U1117)
                {
                    sub_4140( 19, 1 );
                    l_U1117 = 1;
                }
            }
            break;
        }
    }
    return;
}

int sub_36989()
{
    if ((HAS_CHAR_GOT_WEAPON( sub_5707(), 17 )) || (HAS_CHAR_GOT_WEAPON( sub_5707(), 16 )))
    {
        if (NOT sub_37030())
        {
            l_U973 = 1;
            return 1;
        }
    }
    return 0;
}

int sub_37030()
{
    if (NOT sub_37039())
    {
        if (NOT (IS_PLAYER_SCRIPT_CONTROL_ON( sub_6521() )))
        {
            return 1;
        }
    }
    return 0;
}

int sub_37039()
{
    int iVar2;

    if (NOT (IS_CHAR_INJURED( sub_5707() )))
    {
        GET_INTERIOR_FROM_CHAR( sub_5707(), ref iVar2 );
    }
    if (iVar2 == nil)
    {
        return 1;
    }
    return 0;
}

void sub_37341()
{
    unknown uVar2;
    vector vVar3;

    vVar3 = {74.91330000, 316.19890000, 14.75300000};
    switch (l_U1053)
    {
        case 0:
        if (LOCATE_CHAR_ANY_MEANS_2D( sub_5707(), l_U922._fU0, l_U922._fU4, 40.00000000, 40.00000000, 0 ))
        {
            sub_35852();
        }
        if (sub_36989())
        {
            if (l_U1003)
            {
                if (NOT l_U1115)
                {
                    CLEAR_PRINTS();
                    PRINT_NOW( "FRANCIS6_04", 7500, 1 );
                    l_U1119 = "FRANCIS6_04";
                    sub_6615( 0, l_U964, 5 );
                    sub_6615( 1, l_U922, 1 );
                    l_U1115 = 1;
                }
            }
            else if (NOT l_U1120)
            {
                if (NOT (DOES_BLIP_EXIST( l_U936[5] )))
                {
                    sub_6615( 1, l_U964, 5 );
                    sub_16942( ref l_U936[5], l_U964, 0 );
                    PRINT_NOW( "FRANCIS6_18", 7500, 1 );
                    l_U1119 = "FRANCIS6_18";
                    l_U1120 = 1;
                }
            }
            if (LOCATE_CHAR_ANY_MEANS_3D( sub_5707(), 79.69910000, 380.35960000, 14.55610000, 24.00000000, 7.00000000, 6.00000000, 0 ))
            {
                if (l_U1003)
                {
                    SWITCH_ROADS_OFF( 49.80710000, 394.24510000, 24.69070000, 116.83730000, 374.95990000, -14.83160000 );
                    sub_6615( 0, l_U922, 1 );
                    GET_PLAYER_GROUP( sub_6521(), ref l_U1121 );
                    GET_GROUP_SIZE( l_U1121, ref l_U1122, ref l_U1123 );
                    if (l_U1123 == 0)
                    {
                        PRINT_NOW( "FRANCIS6_05", 7500, 1 );
                    }
                    else
                    {
                        PRINT( "FRANCIS6_05", 7500, 1 );
                    }
                    sub_6615( 1, l_U967, 8 );
                    l_U1110 = 1;
                    l_U1053 = 4;
                    GET_PLAYERS_LAST_CAR_NO_SAVE( ref uVar2 );
                    if (NOT (IS_CAR_DEAD( uVar2 )))
                    {
                        SET_CAR_AS_MISSION_CAR( uVar2 );
                    }
                }
            }
        }
        else if (NOT l_U1107)
        {
            if (l_U973)
            {
                CLEAR_PRINTS();
                PRINT_NOW( "FRANCIS6_19", 7500, 1 );
                l_U1106 = 3;
                sub_4140( 19, 1 );
                l_U1117 = 1;
            }
            else
            {
                CLEAR_PRINTS();
                PRINT_NOW( "FRANCIS6_17", 7500, 1 );
            }
            l_U1107 = 1;
            sub_6615( 0, l_U964, 5 );
            l_U1111 = 1;
            l_U1053 = 6;
        }
        break;
        case 6:
        if (l_U1111 == 1)
        {
            if (l_U973)
            {
                if (sub_36989())
                {
                    CLEAR_PRINTS();
                    if (NOT (IS_THIS_PRINT_BEING_DISPLAYED( l_U1119, 0, 0, 0, 0, -1, -1, -1, -1, -1, -1 )))
                    {
                        PRINT_NOW( l_U1119, 7500, 1 );
                    }
                    sub_6793( 0, l_U925[0], 7 );
                    sub_6615( 1, l_U922, 1 );
                    l_U1053 = 0;
                    l_U1107 = 0;
                    l_U1111 = 0;
                    l_U1115 = 1;
                    l_U1116 = 1;
                }
                else if (DOES_BLIP_EXIST( l_U936[1] ))
                {
                    sub_6615( 0, l_U922, 1 );
                    l_U1106 = 3;
                    sub_4140( 19, 1 );
                    l_U1117 = 1;
                }
            }
            else if (NOT sub_36989())
            {
                sub_6615( 0, l_U922, 1 );
                sub_6793( 1, l_U925[0], 7 );
                CHANGE_BLIP_COLOUR( l_U936[0], 2 );
            }
            else
            {
                CLEAR_PRINTS();
                if (NOT (IS_THIS_PRINT_BEING_DISPLAYED( l_U1119, 0, 0, 0, 0, -1, -1, -1, -1, -1, -1 )))
                {
                    PRINT_NOW( l_U1119, 7500, 1 );
                }
                sub_6793( 0, l_U925[0], 7 );
                sub_6615( 1, l_U922, 1 );
                l_U1115 = 1;
                l_U1053 = 0;
                l_U1107 = 0;
                l_U1116 = 1;
                l_U1111 = 0;
            }
        }
        if (l_U1111 == 2)
        {
            if (l_U973)
            {
                if (sub_36989())
                {
                    sub_6793( 0, l_U925[0], 7 );
                    sub_6615( 1, l_U967, 8 );
                    l_U1053 = 4;
                    l_U1107 = 0;
                    l_U1116 = 1;
                    l_U1111 = 0;
                }
                else if (DOES_BLIP_EXIST( l_U936[8] ))
                {
                    sub_6615( 0, l_U922, 8 );
                    l_U1106 = 3;
                    sub_4140( 19, 1 );
                    l_U1117 = 1;
                }
            }
            else if (NOT sub_36989())
            {
                sub_6615( 0, l_U967, 8 );
                sub_6793( 1, l_U925[0], 7 );
                CHANGE_BLIP_COLOUR( l_U936[0], 2 );
            }
            else
            {
                sub_6793( 0, l_U925[0], 7 );
                sub_6615( 1, l_U967, 8 );
                l_U1053 = 4;
                l_U1107 = 0;
                l_U1116 = 1;
                l_U1111 = 0;
            }
        }
        if (l_U1111 == 3)
        {
            if (l_U973)
            {
                if (sub_36989())
                {
                    sub_6793( 0, l_U925[0], 7 );
                    sub_6615( 1, l_U967, 8 );
                    l_U1053 = 2;
                    l_U1107 = 0;
                    l_U1111 = 0;
                }
                else if (DOES_BLIP_EXIST( l_U936[8] ))
                {
                    sub_6615( 0, l_U967, 8 );
                    l_U1106 = 3;
                    sub_4140( 19, 1 );
                    l_U1117 = 1;
                }
            }
            else if (sub_36989())
            {
                sub_6615( 0, l_U967, 8 );
                sub_6793( 1, l_U925[0], 7 );
                CHANGE_BLIP_COLOUR( l_U936[0], 2 );
            }
            else
            {
                sub_6793( 0, l_U925[0], 7 );
                sub_6615( 1, l_U967, 8 );
                l_U1053 = 2;
                l_U1107 = 0;
                l_U1111 = 0;
            }
        }
        break;
        case 4:
        l_U1111 = 2;
        if (sub_36989())
        {
            LOCATE_CHAR_ON_FOOT_3D( sub_5707(), l_U967._fU0, l_U967._fU4, l_U967._fU8, 1.60000000, 1.60000000, 2.00000000, 1 );
            if (LOCATE_CHAR_ON_FOOT_3D( sub_5707(), l_U1020._fU0, l_U1020._fU4, l_U1020._fU8, 2.00000000, 2.00000000, 2.00000000, 0 ))
            {
                CLEAR_AREA( vVar3.x, vVar3.y, vVar3.z, 10.00000000, 0 );
                sub_10250( vVar3, -595.38680000, -281.37450000, 5.75420000, 209.18620000, 10.00000000 );
                l_U1053 = 2;
            }
            else if (LOCATE_CHAR_ON_FOOT_3D( sub_5707(), l_U967._fU0, l_U967._fU4, l_U967._fU8, 1.60000000, 1.60000000, 2.00000000, 0 ))
            {
                sub_10250( vVar3, -595.38680000, -281.37450000, 5.75420000, 209.18620000, 10.00000000 );
                l_U1053 = 2;
            }
        }
        else if (NOT l_U1107)
        {
            if (l_U973)
            {
                CLEAR_PRINTS();
                PRINT_NOW( "FRANCIS6_19", 7500, 1 );
            }
            else
            {
                CLEAR_PRINTS();
                PRINT_NOW( "FRANCIS6_17", 7500, 1 );
            }
            l_U1107 = 1;
            l_U1053 = 6;
        }
        break;
        case 2:
        l_U1111 = 3;
        if (sub_36989())
        {
            if (LOCATE_CHAR_ON_FOOT_3D( sub_5707(), l_U967._fU0, l_U967._fU4, l_U967._fU8, 1.60000000, 1.60000000, 2.00000000, 1 ))
            {
                REMOVE_BLIP( l_U936[8] );
                GET_PLAYERS_LAST_CAR_NO_SAVE( ref uVar2 );
                if (NOT (IS_CAR_DEAD( uVar2 )))
                {
                    SET_CAR_AS_MISSION_CAR( uVar2 );
                }
                l_U1053 = 5;
                l_U972 = 1;
                STOP_PED_SPEAKING( sub_5707(), 1 );
            }
        }
        else if (NOT l_U1107)
        {
            if (l_U973)
            {
                CLEAR_PRINTS();
                PRINT_NOW( "FRANCIS6_19", 7500, 1 );
            }
            else
            {
                CLEAR_PRINTS();
                PRINT_NOW( "FRANCIS6_17", 7500, 1 );
            }
            l_U1107 = 1;
            l_U1053 = 6;
        }
        break;
        case 1:
        if (IS_CONTROL_PRESSED( 0, 6 ))
        {
            if (NOT (IS_CHAR_INJURED( l_U893[1] )))
            {
                if (IS_CHAR_ON_SCREEN( l_U893[1] ))
                {
                    if (sub_39731())
                    {
                        WAIT( 1000 );
                        PRINT_NOW( "FRANCIS6_07", 7500, 1 );
                    }
                }
            }
        }
        break;
        case 5:
        sub_39837();
        break;
        case 7:
        if (NOT (IS_CHAR_INJURED( l_U893[1] )))
        {
            sub_48333( ref l_U893[1], ref l_U893[0] );
        }
        break;
        case 3: break;
    }
    return;
}

int sub_39731()
{
    int iVar2;

    GET_CURRENT_CHAR_WEAPON( sub_5707(), ref iVar2 );
    if ((iVar2 == 17) || (iVar2 == 16))
    {
        if (NOT sub_37030())
        {
            return 1;
        }
    }
    return 0;
}

void sub_39837()
{
    vector vVar2;
    vector vVar5;
    vector vVar8;
    vector vVar11;
    vector vVar14;
    vector vVar17;
    vector vVar20;
    vector vVar23;
    vector vVar26;
    vector vVar29;
    vector vVar32;
    vector vVar35;
    vector vVar38;
    vector vVar41;
    vector vVar44;
    unknown uVar47;
    unknown uVar48;
    unknown uVar49;
    float fVar50;
    float fVar51;

    vVar2 = {76.91958000, 319.15520000, 14.38594000};
    vVar5 = {2.97539000, -0.00000000, 153.16910000};
    vVar8 = {77.62666000, 319.23950000, 14.69460000};
    vVar11 = {2.86079200, -0.00000000, 125.81630000};
    vVar14 = {76.96955000, 318.00140000, 14.73252000};
    vVar17 = {-1.70621900, 0.00000000, 102.78330000};
    vVar20 = {76.19719000, 315.38130000, 14.93480000};
    vVar23 = {2.86119000, -0.00000000, 53.97217000};
    vVar26 = {72.08320000, 314.75400000, 14.82062000};
    vVar29 = {9.23886800, -0.00000000, -46.07966000};
    vVar32 = {74.39722000, 313.36480000, 14.84245000};
    vVar35 = {9.18224700, -0.00000000, -3.91424700};
    vVar38 = {74.88000000, 320.10000000, 13.75000000};
    vVar41 = {85.57000000, 327.58000000, 23.75000000};
    vVar44 = {63.71000000, 311.06000000, 3.75000000};
    if (sub_40147())
    {
        l_U1073 = 10;
        DO_SCREEN_FADE_OUT( 500 );
    }
    switch (l_U1073)
    {
        case 8:
        DO_SCREEN_FADE_OUT( 500 );
        SET_PLAYER_CONTROL( sub_6521(), 0 );
        l_U1073 = 0;
        break;
        case 0:
        if (IS_SCREEN_FADED_OUT())
        {
            EXTINGUISH_FIRE_AT_POINT( 74.12999000, 315.60000000, 13.85000000, 25.00000000 );
            if (NOT l_U884)
            {
                if (l_U995 == 0)
                {
                    BEGIN_CAM_COMMANDS( ref l_U995 );
                    l_U884 = 1;
                }
            }
            SET_USE_HIGHDOF( 1 );
            SET_WIDESCREEN_BORDERS( 1 );
            sub_40570();
            LOAD_SCENE( 74.12999000, 315.60000000, 13.85000000 );
            SET_CHAR_COORDINATES( sub_5707(), 88.41070000, 354.51280000, 38.64870000 );
            SET_CHAR_HEADING( sub_5707(), 189.15410000 );
            if (sub_36989())
            {
                sub_42825();
                TASK_AIM_GUN_AT_COORD( sub_5707(), l_U1014._fU0, l_U1014._fU4, l_U1014._fU8, 4000 );
            }
            CLEAR_AREA( 76.13000000, 316.07000000, 13.75000000, 10.00000000, 1 );
            if (NOT (IS_CHAR_DEAD( l_U893[1] )))
            {
                sub_43015( l_U893[1], l_U1008, 13.75000000 );
            }
            if (NOT (IS_CHAR_INJURED( l_U893[0] )))
            {
                SET_CHAR_COORDINATES( l_U893[0], 75.45600000, 316.00000000, 13.70000000 );
                SET_CHAR_HEADING( l_U893[0], 0.00000000 );
                SET_CHAR_VISIBLE( l_U893[0], 0 );
            }
            if (NOT (DOES_CAM_EXIST( l_U974[4] )))
            {
                CREATE_CAM( 14, ref l_U974[4] );
                SET_CAM_POS( l_U974[4], vVar2.x, vVar2.y, vVar2.z );
                SET_CAM_ROT( l_U974[4], vVar5.x, vVar5.y, vVar5.z );
                SET_CAM_ACTIVE( l_U974[4], 1 );
                SET_CAM_PROPAGATE( l_U974[4], 1 );
                SET_CAM_FOV( l_U974[4], 30.90004000 );
            }
            if (NOT (DOES_CAM_EXIST( l_U974[5] )))
            {
                CREATE_CAM( 14, ref l_U974[5] );
                SET_CAM_POS( l_U974[5], vVar8.x, vVar8.y, vVar8.z );
                SET_CAM_ROT( l_U974[5], vVar11.x, vVar11.y, vVar11.z );
                SET_CAM_FOV( l_U974[5], 24.00000000 );
                SET_CAM_ACTIVE( l_U974[5], 0 );
                SET_CAM_PROPAGATE( l_U974[5], 0 );
            }
            if (NOT (DOES_CAM_EXIST( l_U974[6] )))
            {
                CREATE_CAM( 14, ref l_U974[6] );
                SET_CAM_POS( l_U974[6], vVar14.x, vVar14.y, vVar14.z );
                SET_CAM_ROT( l_U974[6], vVar17.x, vVar17.y, vVar17.z );
                SET_CAM_ACTIVE( l_U974[6], 0 );
                SET_CAM_PROPAGATE( l_U974[6], 0 );
            }
            if (NOT (DOES_CAM_EXIST( l_U974[7] )))
            {
                CREATE_CAM( 14, ref l_U974[7] );
                SET_CAM_POS( l_U974[7], vVar20.x, vVar20.y, vVar20.z );
                SET_CAM_ROT( l_U974[7], vVar23.x, vVar23.y, vVar23.z );
                SET_CAM_ACTIVE( l_U974[7], 0 );
                SET_CAM_PROPAGATE( l_U974[7], 0 );
                SET_CAM_NEAR_DOF( l_U974[7], 0.50000000 );
                SET_CAM_FAR_DOF( l_U974[7], 15.00000000 );
            }
            if (NOT (DOES_CAM_EXIST( l_U974[8] )))
            {
                CREATE_CAM( 14, ref l_U974[8] );
                SET_CAM_POS( l_U974[8], vVar26.x, vVar26.y, vVar26.z );
                SET_CAM_ROT( l_U974[8], vVar29.x, vVar29.y, vVar29.z );
                SET_CAM_FOV( l_U974[8], 57.89997000 );
                SET_CAM_ACTIVE( l_U974[8], 0 );
                SET_CAM_PROPAGATE( l_U974[8], 0 );
            }
            if (NOT (DOES_CAM_EXIST( l_U974[9] )))
            {
                CREATE_CAM( 14, ref l_U974[9] );
                SET_CAM_POS( l_U974[9], vVar32.x, vVar32.y, vVar32.z );
                SET_CAM_ROT( l_U974[9], vVar35.x, vVar35.y, vVar35.z );
                SET_CAM_FOV( l_U974[9], 50.00000000 );
                SET_CAM_ACTIVE( l_U974[9], 0 );
                SET_CAM_PROPAGATE( l_U974[9], 0 );
            }
            ACTIVATE_SCRIPTED_CAMS( 1, 1 );
            l_U1073 = 1;
            l_U1084 = 0;
        }
        break;
        case 1:
        if (NOT (IS_CHAR_INJURED( l_U893[1] )))
        {
            if (IS_CHAR_SITTING_IDLE( l_U893[1] ))
            {
                DO_SCREEN_FADE_IN( 500 );
                CHANGE_CHAR_SIT_IDLE_ANIM( l_U893[1], "missfrancis5", "idle_bench_a", 0 );
                l_U1073 = 3;
                l_U1072 = 1;
                GET_GAME_TIMER( ref l_U1071 );
                SETTIMERA( 0 );
            }
            else if (NOT (IS_CHAR_DEAD( l_U893[1] )))
            {
                if (NOT l_U1084)
                {
                    sub_43015( l_U893[1], l_U1008, 13.75000000 );
                    l_U1084 = 1;
                }
            }
        }
        break;
        case 3:
        if (NOT (IS_CHAR_INJURED( l_U893[1] )))
        {
            if (NOT (IS_CHAR_PLAYING_ANIM( l_U893[1], "missfrancis5", "idle_bench_a" )))
            {
                TASK_PLAY_ANIM( l_U893[1], "BroMeet_atDestination", "missfrancis5", 24.00000000, 0, 0, 0, 1, -1 );
                GET_GAME_TIMER( ref l_U1085 );
                l_U1073 = 4;
            }
            if (NOT (IS_CHAR_INJURED( l_U893[0] )))
            {
                TASK_PLAY_ANIM( l_U893[0], "BROMEET_TODESTINATION", "MISSFRANCIS5", 24.00000000, 0, 0, 0, 1, -1 );
            }
        }
        break;
        case 9: break;
        case 4:
        if (NOT (IS_CHAR_INJURED( l_U893[0] )))
        {
            if (IS_CHAR_PLAYING_ANIM( l_U893[0], "MISSFRANCIS5", "BROMEET_TODESTINATION" ))
            {
                SET_CHAR_ANIM_SPEED( l_U893[0], "MISSFRANCIS5", "BROMEET_TODESTINATION", 0.00000000 );
            }
        }
        if (NOT (IS_CHAR_INJURED( l_U893[0] )))
        {
            if (NOT (IS_CHAR_INJURED( l_U893[1] )))
            {
                SETTIMERA( 0 );
                if (NOT (IS_CHAR_INJURED( l_U893[1] )))
                {
                    if (IS_CHAR_PLAYING_ANIM( l_U893[1], "MISSFRANCIS5", "BROMEET_ATDESTINATION" ))
                    {
                        if (NOT (IS_CHAR_INJURED( l_U893[0] )))
                        {
                            if (IS_CHAR_PLAYING_ANIM( l_U893[0], "MISSFRANCIS5", "BROMEET_TODESTINATION" ))
                            {
                                SET_CHAR_ANIM_SPEED( l_U893[0], "MISSFRANCIS5", "BROMEET_TODESTINATION", 1.00000000 );
                                SET_CHAR_VISIBLE( l_U893[0], 1 );
                            }
                        }
                        SET_CAM_ACTIVE( l_U974[7], 1 );
                        SET_CAM_PROPAGATE( l_U974[7], 1 );
                        SET_CAM_FOV( l_U974[7], 44.60000000 );
                        l_U1073 = 5;
                    }
                }
            }
        }
        break;
        case 5:
        if (TIMERA() > 1000)
        {
            if (NOT (IS_CAM_ACTIVE( l_U974[5] )))
            {
                CREATE_CAM( 3, ref l_U974[14] );
                SET_CAM_ACTIVE( l_U974[5], 0 );
                SET_CAM_PROPAGATE( l_U974[5], 1 );
                SET_CAM_INTERP_STYLE_CORE( l_U974[14], l_U974[7], l_U974[8], 6000, 0 );
                SET_CAM_ACTIVE( l_U974[14], 1 );
                SET_CAM_PROPAGATE( l_U974[14], 1 );
                l_U1073 = 6;
            }
        }
        break;
        case 6:
        if (TIMERA() > 1500)
        {
            if (NOT l_U1083)
            {
                sub_45257( "FM5_FDMEET", ref l_U948, 7, 1 );
                l_U1083 = 1;
            }
        }
        if (NOT (IS_SPECIFIC_CAM_INTERPOLATING( l_U974[14] )))
        {
            SET_CAM_ACTIVE( l_U974[14], 0 );
            SET_CAM_PROPAGATE( l_U974[14], 0 );
            SET_CAM_ACTIVE( l_U974[8], 1 );
            SET_CAM_PROPAGATE( l_U974[8], 1 );
            l_U1073 = 12;
            SETTIMERA( 0 );
        }
        break;
        case 12:
        if (NOT (IS_CHAR_INJURED( l_U893[0] )))
        {
            if (IS_CHAR_PLAYING_ANIM( l_U893[0], "missfrancis5", "BroMeet_toDestination" ))
            {
                GET_CHAR_ANIM_CURRENT_TIME( l_U893[0], "missfrancis5", "BroMeet_toDestination", ref fVar51 );
                if (fVar51 >= 0.99000000)
                {
                    if (NOT (IS_CHAR_PLAYING_ANIM( l_U893[0], "missfrancis5", "BroMeet_toDestin_chat" )))
                    {
                        TASK_PLAY_ANIM( l_U893[0], "BroMeet_toDestin_chat", "missfrancis5", 8.00000000, 1, 0, 0, 0, -1 );
                    }
                }
            }
        }
        if (NOT (IS_CHAR_INJURED( l_U893[1] )))
        {
            if (IS_CHAR_PLAYING_ANIM( l_U893[1], "missfrancis5", "BroMeet_atDestination" ))
            {
                GET_CHAR_ANIM_CURRENT_TIME( l_U893[1], "missfrancis5", "BroMeet_atDestination", ref fVar50 );
                if (fVar50 >= 0.99000000)
                {
                    if (NOT (IS_CHAR_PLAYING_ANIM( l_U893[1], "missfrancis5", "BroMeet_atDestin_chat" )))
                    {
                        TASK_PLAY_ANIM( l_U893[1], "BroMeet_atDestin_chat", "missfrancis5", 8.00000000, 1, 0, 0, 0, -1 );
                    }
                }
            }
        }
        if (TIMERA() > 2000)
        {
            if (NOT (IS_CAM_ACTIVE( l_U974[9] )))
            {
                SET_CAM_ACTIVE( l_U974[8], 0 );
                SET_CAM_PROPAGATE( l_U974[8], 0 );
                SET_CAM_ACTIVE( l_U974[9], 1 );
                SET_CAM_PROPAGATE( l_U974[9], 1 );
                if (sub_36989())
                {
                    sub_42825();
                    TASK_AIM_GUN_AT_COORD( sub_5707(), l_U1014._fU0, l_U1014._fU4, l_U1014._fU8, 4000 );
                }
            }
        }
        if (NOT (IS_CHAR_INJURED( l_U893[0] )))
        {
            if (NOT (IS_CHAR_INJURED( l_U893[1] )))
            {
                if (NOT sub_47072())
                {
                    if (NOT IS_SCREEN_FADED_OUT())
                    {
                        DO_SCREEN_FADE_OUT( 500 );
                        l_U1073 = 10;
                    }
                }
            }
        }
        break;
        case 10:
        if (IS_SCREEN_FADED_OUT())
        {
            if (NOT (IS_CHAR_INJURED( l_U893[1] )))
            {
                CLEAR_CHAR_TASKS_IMMEDIATELY( l_U893[1] );
                sub_43015( l_U893[1], l_U1008, 14.00000000 );
            }
            if (NOT (IS_CHAR_INJURED( l_U893[0] )))
            {
                CLEAR_CHAR_TASKS_IMMEDIATELY( l_U893[0] );
                sub_43015( l_U893[0], l_U1011, 14.00000000 );
            }
            l_U1073 = 11;
        }
        break;
        case 11:
        if (NOT (IS_CHAR_INJURED( l_U893[0] )))
        {
            if (IS_CHAR_SITTING_IDLE( l_U893[0] ))
            {
                if (NOT (IS_CHAR_PLAYING_ANIM( l_U893[0], "missfrancis5", "CHATTING_ON_BENCH_B" )))
                {
                    CHANGE_CHAR_SIT_IDLE_ANIM( l_U893[0], "missfrancis5", "CHATTING_ON_BENCH_B", 1 );
                }
            }
        }
        if (NOT (IS_CHAR_INJURED( l_U893[1] )))
        {
            if (IS_CHAR_SITTING_IDLE( l_U893[1] ))
            {
                if (NOT (IS_CHAR_PLAYING_ANIM( l_U893[1], "missfrancis5", "CHATTING_ON_BENCH_A" )))
                {
                    CHANGE_CHAR_SIT_IDLE_ANIM( l_U893[1], "missfrancis5", "CHATTING_ON_BENCH_A", 1 );
                }
            }
        }
        if (NOT (IS_CHAR_INJURED( l_U893[1] )))
        {
            if (NOT (IS_CHAR_INJURED( l_U893[0] )))
            {
                if ((IS_CHAR_PLAYING_ANIM( l_U893[1], "missfrancis5", "CHATTING_ON_BENCH_A" )) AND (IS_CHAR_PLAYING_ANIM( l_U893[0], "missfrancis5", "CHATTING_ON_BENCH_B" )))
                {
                    l_U1073 = 7;
                }
            }
        }
        break;
        case 7:
        if (IS_SCREEN_FADED_OUT())
        {
            sub_47763( ref l_U948, 0 );
            if (NOT (IS_CHAR_INJURED( l_U893[0] )))
            {
                SET_CHAR_VISIBLE( l_U893[0], 1 );
            }
            SET_USE_HIGHDOF( 0 );
            SET_WIDESCREEN_BORDERS( 0 );
            DESTROY_ALL_CAMS();
            ACTIVATE_SCRIPTED_CAMS( 0, 0 );
            SET_CAM_BEHIND_PED( sub_5707() );
            SET_PLAYER_CONTROL( sub_6521(), 1 );
            SET_CHAR_COORDINATES( sub_5707(), 86.10410000, 353.08630000, 38.64870000 );
            SET_CHAR_HEADING( sub_5707(), 189.15410000 );
            CLEAR_AREA( l_U1077._fU0, l_U1077._fU4, l_U1077._fU8, 100.00000000, 1 );
            WAIT( 100 );
            FORCE_SPAWN_SCENARIO_PEDS_IN_AREA( l_U1077, 10, 25 );
            l_U1072 = 0;
            GET_GAME_TIMER( ref l_U1063 );
            if (NOT (IS_CHAR_INJURED( l_U893[1] )))
            {
                ADD_BLIP_FOR_CHAR( l_U893[1], ref l_U936[2] );
                l_U1080 = 1;
            }
            if (NOT (IS_CHAR_INJURED( l_U893[0] )))
            {
                ADD_BLIP_FOR_CHAR( l_U893[0], ref l_U936[3] );
                l_U1070 = 1;
            }
            DO_SCREEN_FADE_IN( 500 );
            PRINT_NOW( "FRANCIS6_09", 7500, 1 );
            l_U1053 = 7;
            l_U1082 = 1;
            l_U881 = 1;
            if (l_U884)
            {
                END_CAM_COMMANDS( ref l_U995 );
                l_U884 = 0;
            }
        }
        break;
    }
    return;
}

void sub_40147()
{
    int Result;

    Result = 0;
    if ((IS_SCREEN_FADED_IN()) AND ((sub_40172()) AND (sub_33858( 1500, l_U1071 ))))
    {
        if (l_U1072)
        {
            Result = 1;
            l_U1072 = 0;
        }
    }
    return Result;
}

int sub_40172()
{
    if (((IS_CONTROL_PRESSED( 2, 98 )) AND (NOT IS_USING_CONTROLLER())) || (((IS_CONTROL_PRESSED( 2, 137 )) AND (NOT IS_USING_CONTROLLER())) || ((IS_CONTROL_PRESSED( 2, 77 )) || (IS_CONTROL_PRESSED( 0, 77 )))))
    {
        return 1;
        break;
    }
    return 0;
}

void sub_40570()
{
    float fVar2;
    vector vVar3;
    float fVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;

    fVar2 = 243.92300000;
    vVar3 = {74.12999000, 315.60000000, 13.21000000};
    fVar6 = 13.75300000;
    GET_CHAR_COORDINATES( sub_5707(), ref uVar7._fU0, ref uVar7._fU4, ref uVar7._fU8 );
    if (uVar7._fU8 > 30.00000000)
    {
        if (NOT (DOES_CHAR_EXIST( l_U893[0] )))
        {
            sub_40699( 16, ref l_U893[0], l_U905._fU0, l_U905._fU4, l_U905._fU8, fVar2 );
            if (NOT (IS_CHAR_INJURED( l_U893[0] )))
            {
                SET_CHAR_NEVER_TARGETTED( l_U893[0], 0 );
                SET_CHAR_MAX_HEALTH( l_U893[0], 105 );
                SET_CHAR_HEALTH( l_U893[0], 105 );
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U893[0], 1 );
                SET_CHAR_AS_ENEMY( l_U893[0], 1 );
                sub_9117( 2, l_U893[0], "DERRICK_MCREARY", 0 );
            }
            while (NOT (DOES_CHAR_EXIST( l_U893[0] )))
            {
                WAIT( 0 );
            }
        }
        if (NOT (DOES_CHAR_EXIST( l_U893[1] )))
        {
            sub_40699( 11, ref l_U893[1], vVar3.x, vVar3.y, vVar3.z, fVar6 );
            if (NOT (IS_CHAR_INJURED( l_U893[1] )))
            {
                SET_CHAR_NEVER_TARGETTED( l_U893[1], 0 );
                SET_CHAR_MAX_HEALTH( l_U893[1], 105 );
                SET_CHAR_HEALTH( l_U893[1], 105 );
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U893[1], 1 );
                SET_CHAR_AS_ENEMY( l_U893[1], 1 );
                sub_9117( 1, l_U893[1], "FRANCIS_MCREARY", 0 );
            }
            while (NOT (DOES_CHAR_EXIST( l_U893[1] )))
            {
                WAIT( 0 );
            }
        }
    }
    return;
}

void sub_40699(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    CREATE_CHAR( 25, sub_9295( uParam0 ), uParam2, uParam3, uParam4, uParam1, 1 );
    SET_CHAR_HEADING( (uParam1^), uParam5 );
    sub_40749( uParam0, (uParam1^) );
    return;
}

void sub_40749(unknown uParam0, unknown uParam1)
{
    sub_40761( ref uParam1, uParam0 );
    g_U26440[uParam0]._fU0 = 1;
    g_U26440[uParam0]._fU4 = uParam1;
    return;
}

void sub_40761(unknown uParam0, int iParam1)
{
    SET_CHAR_SUFFERS_CRITICAL_HITS( (uParam0^), 0 );
    SET_CHAR_CANT_BE_DRAGGED_OUT( (uParam0^), 1 );
    SET_CHAR_NEVER_TARGETTED( (uParam0^), 1 );
    SET_CHAR_MAX_TIME_IN_WATER( (uParam0^), 10.00000000 );
    SET_CHAR_MAX_TIME_UNDERWATER( (uParam0^), 10.00000000 );
    if (iParam1 == 57)
    {
        sub_40855( uParam0, 0, 0, 0, 0, 0, 0, 0, -1, -1 );
    }
    else
    {
        sub_41399( (uParam0^), iParam1, g_U64464[iParam1] );
    }
    return;
}

void sub_40855(unknown uParam0, int iParam1, int iParam2, int iParam3, int iParam4, int iParam5, int iParam6, int iParam7, int iParam8, int iParam9)
{
    int iVar12;
    int iVar13;

    if (NOT (IS_CHAR_DEAD( (uParam0^) )))
    {
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 0 )) == iParam1)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 0 )) == iParam1)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 0, iParam1, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 1 )) == iParam2)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 1 )) == iParam2)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 1, iParam2, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 2 )) == iParam3)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 2 )) == iParam3)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 2, iParam3, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 5 )) == iParam4)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 5 )) == iParam4)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 5, iParam4, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 4 )) == iParam5)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 4 )) == iParam5)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 4, iParam5, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 3 )) == iParam6)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 3 )) == iParam6)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 3, iParam6, 0 );
        }
        if ((NOT ((GET_CHAR_TEXTURE_VARIATION( (uParam0^), 7 )) == iParam7)) || (NOT ((GET_CHAR_DRAWABLE_VARIATION( (uParam0^), 7 )) == iParam7)))
        {
            SET_CHAR_COMPONENT_VARIATION( (uParam0^), 7, iParam7, 0 );
        }
        iVar12 = -1;
        GET_CHAR_PROP_INDEX( (uParam0^), 0, ref iVar12 );
        if (NOT (iVar12 == iParam8))
        {
            if (iParam8 == -1)
            {
                CLEAR_CHAR_PROP( (uParam0^), 0 );
            }
            else
            {
                SET_CHAR_PROP_INDEX( (uParam0^), 0, iParam8 );
            }
        }
        iVar13 = -1;
        GET_CHAR_PROP_INDEX( (uParam0^), 0, ref iVar13 );
        if (NOT (iVar13 == iParam9))
        {
            if (iParam9 == -1)
            {
                CLEAR_CHAR_PROP( (uParam0^), 1 );
            }
            else
            {
                SET_CHAR_PROP_INDEX( (uParam0^), 1, iParam9 );
            }
        }
    }
    return;
}

void sub_41399(unknown uParam0, unknown uParam1, int iParam2)
{
    switch (uParam1)
    {
        case 0:
        switch (iParam2)
        {
            case 0:
            sub_40855( ref uParam0, 0, 0, 0, 0, 0, 0, 0, -1, -1 );
            break;
            case 1:
            sub_40855( ref uParam0, 0, 1, 1, 1, 0, 0, 0, -1, -1 );
            break;
            case 2:
            sub_40855( ref uParam0, 0, 2, 1, 1, 0, 0, 0, -1, -1 );
            break;
            default: SCRIPT_ASSERT( "Set_Contacts_Clothes: Unknown Clothes set for Roman" );
        }
        return;
        case 3:
        switch (iParam2)
        {
            case 0:
            sub_40855( ref uParam0, 0, 0, 0, 0, 0, 0, 0, -1, 0 );
            break;
            case 1:
            sub_40855( ref uParam0, 0, 1, 0, 2, 0, 0, 0, -1, 0 );
            break;
            default: SCRIPT_ASSERT( "Set_Contacts_Clothes: Unknown Clothes set for Little Jacob" );
        }
        return;
        case 8:
        switch (iParam2)
        {
            case 0:
            sub_40855( ref uParam0, 0, 0, 0, 0, 0, 0, 0, -1, -1 );
            break;
            case 1:
            sub_40855( ref uParam0, 0, 1, 0, 0, 0, 0, 0, -1, -1 );
            break;
            case 2:
            sub_40855( ref uParam0, 0, 2, 1, 1, 0, 0, 0, -1, -1 );
            break;
            default: SCRIPT_ASSERT( "Set_Contacts_Clothes: Unknown Clothes set for Brucie" );
        }
        return;
        case 13:
        switch (iParam2)
        {
            case 0:
            sub_40855( ref uParam0, 0, 0, 0, 0, 0, 0, 0, -1, -1 );
            break;
            case 1:
            sub_40855( ref uParam0, 0, 1, 1, 1, 0, 0, 0, -1, -1 );
            break;
            default: SCRIPT_ASSERT( "Set_Contacts_Clothes: Unknown Clothes set for Packie" );
        }
        return;
        case 16:
        switch (iParam2)
        {
            case 0:
            sub_40855( ref uParam0, 0, 0, 0, 0, 0, 0, 0, -1, -1 );
            break;
            case 1:
            sub_40855( ref uParam0, 0, 1, 1, 1, 0, 0, 0, -1, -1 );
            break;
            default: SCRIPT_ASSERT( "Set_Contacts_Clothes: Unknown Clothes set for Derrick" );
        }
        return;
    }
    if (NOT (iParam2 == 0))
    {
        SCRIPT_ASSERT( "Set_Contacts_Clothes: A contact without a change of clothes attempting to change clothes" );
    }
    sub_40855( ref uParam0, 0, 0, 0, 0, 0, 0, 0, -1, -1 );
    return;
}

void sub_42825()
{
    if (HAS_CHAR_GOT_WEAPON( sub_5707(), 16 ))
    {
        SET_CURRENT_CHAR_WEAPON( sub_5707(), 16, 0 );
    }
    else if (HAS_CHAR_GOT_WEAPON( sub_5707(), 17 ))
    {
        SET_CURRENT_CHAR_WEAPON( sub_5707(), 17, 0 );
    }
    return;
}

void sub_43015(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (NOT (IS_CHAR_SITTING_IDLE( uParam0 )))
        {
            TASK_SIT_DOWN_INSTANTLY( uParam0, 0, 1, -2 );
            SET_CHAR_COORDINATES( uParam0, uParam1._fU0, uParam1._fU4, uParam4 );
            SET_CHAR_HEADING( uParam0, 0.00000000 );
        }
    }
    return;
}

void sub_45257(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    return sub_45280( uParam0, ref l_U181._fU0, uParam1, uParam2, uParam3 );
}

void sub_45280(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    char[16] cVar7;
    char[12] cVar11;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    StrCopy( ref cVar7, uParam1, 16 );
    array(ref cVar11, 2);
    StrCopy( ref cVar11[0], uParam0, 16 );
    StrCopy( ref cVar11[1], "END", 16 );
    return sub_45334( ref cVar11, uParam2, uParam3, 0, 0, 0, 0, ref cVar7, uParam4 );
}

int sub_45334(unknown uParam0, int iParam1, unknown uParam2, boolean bParam3, boolean bParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    int I;
    int iVar12;

    iVar12 = 0;
    iParam1->_fU0 = uParam2;
    if (NOT (sub_45356( iParam1 )))
    {
        return 0;
    }
    l_U181._fU384 = 0;
    iParam1->_fU16 = 0;
    iParam1->_fU20 = uParam5;
    if (bParam3)
    {
        if (iParam1->_fU12)
        {
            iVar12 = iParam1->_fU8;
            iParam1->_fU12 = 0;
        }
    }
    else
    {
        iParam1->_fU12 = 0;
        if (bParam4)
        {
            iVar12 = uParam6;
            iParam1->_fU8 = uParam6;
            iParam1->_fU12 = 0;
        }
        else
        {
            iParam1->_fU8 = 0;
            iParam1->_fU12 = 0;
        }
    }
    iParam1->_fU16 = bParam4;
    for ( I = 0; I <= (g_U8499 - 1); I++ )
    {
        StrCopy( ref g_U8499[I], "END", 16 );
    }
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        g_U8499[I] = {(uParam0^)[I]};
    }
    g_U8493 = {(iParam1^)};
    sub_46036( ref g_U8395, ref l_U181 );
    StrCopy( ref g_U8395._fU0, uParam7, 16 );
    g_U8395._fU388 = uParam8;
    g_U8394 = 1;
    return 1;
}

int sub_45356(int iParam0)
{
    if (IS_MOBILE_PHONE_CALL_ONGOING())
    {
        sub_12067( "\n !!!!! CANT PLAY SPEECH MOBILE PHONE CALL IS PLAYING" );
        return 0;
    }
    if (IS_THREAD_ACTIVE( g_U556[1] ))
    {
        switch (g_U91._fU0)
        {
            case 1010:
            case 1001:
            case 1000: break;
            default:
            sub_12067( "\n !!!!! CANT PLAY SPEECH CALLING SCRIPT IS STILL ACTIVE" );
            return 0;
            break;
        }
    }
    switch (g_U8394)
    {
        case 4:
        case 1:
        case 2:
        return 0;
        break;
    }
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if (g_U8392 > iParam0->_fU0)
        {
            sub_12067( "\n !!!!! CANT PLAY SPEECH CURRENT SPEECH HAS HIGHER PRIORITY" );
            return 0;
        }
        ABORT_SCRIPTED_CONVERSATION( 0 );
    }
    g_U8392 = iParam0->_fU0;
    g_U8393++;
    if (g_U8393 > 100000)
    {
        g_U8393 = 1;
    }
    iParam0->_fU4 = g_U8393;
    return 1;
}

void sub_46036(int iParam0, int iParam1)
{
    int I;

    iParam0->_fU0 = {iParam1->_fU0};
    for ( I = 0; I <= 8; I++ )
    {
        iParam0->_fU16[I] = {iParam1->_fU16[I]};
        iParam0->_fU344[I] = iParam1->_fU344[I];
    }
    iParam0->_fU384 = iParam1->_fU384;
    iParam0->_fU388 = iParam1->_fU388;
    return;
}

void sub_47072()
{
    return IS_SCRIPTED_CONVERSATION_ONGOING();
}

void sub_47763(int iParam0, unknown uParam1)
{
    PRINTSTRING( "\n KILL SPEECH CALLED***************************************" );
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if (iParam0->_fU4 == g_U8393)
        {
            ABORT_SCRIPTED_CONVERSATION( uParam1 );
        }
    }
    return;
}

void sub_48333(unknown uParam0, unknown uParam1)
{
    switch (l_U1060)
    {
        case 4:
        if (sub_48404( 11, 1 ))
        {
            sub_48712( 1 );
            GET_GAME_TIMER( ref l_U1063 );
            l_U1060 = 0;
        }
        break;
        case 0:
        if (sub_48404( 11, 1 ))
        {
            if (NOT (IS_CHAR_INJURED( (uParam0^) )))
            {
                sub_48793( (uParam0^) );
                l_U1060 = 1;
                l_U1064 = 1;
            }
        }
        else
        {
            l_U1060 = 4;
        }
        break;
        case 1:
        if (sub_48404( 11, 1 ))
        {
            if (NOT (IS_CHAR_INJURED( (uParam0^) )))
            {
                GET_MOBILE_PHONE_TASK_SUB_TASK( (uParam0^), ref l_U1062 );
                l_U885 = 1;
                if (l_U1062 == 1)
                {
                    GET_GAME_TIMER( ref l_U1063 );
                    sub_49036();
                    l_U1060 = 2;
                }
            }
        }
        else if (l_U1064)
        {
            l_U1061 = 1;
            l_U1060 = 5;
        }
        break;
        case 2:
        if (sub_53417() == 4)
        {
            l_U887 = 1;
        }
        if (sub_53492( 0 ))
        {
            if (NOT (IS_CHAR_INJURED( (uParam0^) )))
            {
                CLEAR_CHAR_TASKS( (uParam0^) );
                l_U1056 = 0;
                l_U1061 = 1;
                l_U1060 = 5;
            }
        }
        break;
        case 5:
        if (NOT l_U1061)
        {
            l_U1060 = 0;
            sub_53838( l_U893[1], l_U1008 );
        }
        else
        {
            sub_53838( l_U893[1], l_U1008 );
            l_U885 = 0;
            l_U1060 = 3;
        }
        break;
        case 3:
        if (NOT l_U1031)
        {
            if (NOT (IS_CHAR_INJURED( l_U893[0] )))
            {
                if (IS_CHAR_SITTING_IDLE( l_U893[0] ))
                {
                    l_U1054 = 1;
                    l_U1031 = 1;
                }
            }
        }
        if (NOT l_U1030)
        {
            if (NOT (IS_CHAR_INJURED( l_U893[1] )))
            {
                if (IS_CHAR_SITTING_IDLE( l_U893[1] ))
                {
                    l_U1030 = 1;
                }
            }
        }
        if ((l_U1030) AND (l_U1031))
        {
            if (NOT (IS_CHAR_INJURED( l_U893[1] )))
            {
                if (IS_CHAR_SITTING_IDLE( l_U893[1] ))
                {
                    CHANGE_CHAR_SIT_IDLE_ANIM( l_U893[1], "missfrancis5", "CHATTING_ON_BENCH_A", 1 );
                }
            }
            if (NOT (IS_CHAR_INJURED( l_U893[0] )))
            {
                if (IS_CHAR_SITTING_IDLE( l_U893[0] ))
                {
                    CHANGE_CHAR_SIT_IDLE_ANIM( l_U893[0], "missfrancis5", "CHATTING_ON_BENCH_B", 1 );
                }
            }
            l_U1053 = 3;
        }
        break;
    }
    return;
}

int sub_48404(int iParam0, boolean bParam1)
{
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        sub_12067( "\n IS_PLAYER_CALLING_CONTACT - Scripted Conversation ongoing" );
        return 0;
    }
    switch (g_U8394)
    {
        case 4:
        case 1:
        case 2:
        sub_12067( "\n IS_PLAYER_CALLING_CONTACT - speech control is streaming" );
        return 0;
        break;
    }
    if ((g_U91._fU60 == iParam0) AND (g_U91._fU0 == 1005))
    {
        if (bParam1)
        {
            if ((NOT g_U91._fU372) AND (g_U91._fU508 >= 4))
            {
                return 1;
            }
        }
        else if (NOT g_U91._fU368)
        {
            return 1;
        }
    }
    return 0;
}

void sub_48712(unknown uParam0)
{
    g_U91._fU384 = uParam0;
    return;
}

void sub_48793(unknown uParam0)
{
    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        OPEN_SEQUENCE_TASK( ref l_U1055 );
        TASK_FOLLOW_NAV_MESH_TO_COORD( 0, 73.34000000, 317.97000000, 13.75000000, 2, -1, 0.25000000 );
        TASK_TURN_CHAR_TO_FACE_COORD( 0, 75.41000000, 316.13000000, 13.75000000 );
        TASK_USE_MOBILE_PHONE( 0, 1 );
        CLOSE_SEQUENCE_TASK( l_U1055 );
        TASK_PERFORM_SEQUENCE( uParam0, l_U1055 );
        CLEAR_SEQUENCE_TASK( l_U1055 );
    }
    return;
}

void sub_49036()
{
    if (l_U1057)
    {
        sub_48712( 0 );
        sub_49083( "FM5_CALL2", "FM5AUD", 1 );
    }
    if (l_U885)
    {
        sub_48712( 0 );
        sub_53138( "FM5_SIGHTS", "FM5_SIGHTY", "FM5_SIGHTN", "FRANCIS6_10", "FM5AUD", 1 );
    }
    return;
}

int sub_49083(unknown uParam0, unknown uParam1, boolean bParam2)
{
    char[12] cVar5;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown[2] uVar14;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;

    array(ref cVar5, 2);
    StrCopy( ref cVar5[0], uParam0, 16 );
    StrCopy( ref cVar5[1], "END", 16 );
    array(ref uVar14, 2);
    uVar23 = g_U91._fU60;
    if (NOT (COMPARE_STRING( uParam0, "PLACEHOLDER" )))
    {
        if (bParam2)
        {
            return sub_49191( uVar23, ref cVar5, uParam1, 0, ref uVar14, ref uVar14, "", 0, bParam2, 1, 1, 0, 0, 0 );
        }
        if ((NOT g_U91._fU368) == 1)
        {
            StrCopy( ref g_U91._fU224[0], uParam1, 16 );
            StrCopy( ref g_U91._fU224[1], uParam0, 16 );
            sub_51078( uVar23, ref g_U91._fU176 );
            g_U91._fU368 = 1;
            return 1;
        }
    }
    return 0;
}

int sub_49191(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, boolean bParam8, unknown uParam9, unknown uParam10, boolean bParam11, unknown uParam12, unknown uParam13)
{
    int I;

    if (g_U91._fU540)
    {
        return 0;
    }
    sub_12067( "\n SETUP_AUDIO_PHONE_CALL has been called" );
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if (g_U8392 >= 6)
        {
            sub_12067( "\n scripted conversation is ongoing and priority is high" );
            return 0;
        }
    }
    if (NOT (IS_PLAYER_PLAYING( sub_6521() )))
    {
        sub_12067( "\n player is not playing" );
        return 0;
    }
    if ((NOT (IS_CHAR_SITTING_IN_ANY_CAR( sub_5707() ))) AND (IS_CHAR_IN_ANY_CAR( sub_5707() )))
    {
        sub_12067( "\n player is in middle of getting in/out of a car" );
        return 0;
    }
    switch (g_U8394)
    {
        case 4:
        case 1:
        case 2:
        sub_12067( "\n speechControlStatus = SPEECH_CONTROL_STREAMING_MOBILE OR speechControlStatus = SPEECH_CONTROL_STREAMING_CONVERSATION" );
        return 0;
        break;
    }
    switch (uParam9)
    {
        case 0:
        if ((NOT bParam11) AND (NOT sub_49706()))
        {
            return 0;
        }
        g_U91._fU60 = uParam0;
        g_U91._fU48 = 1;
        g_U15946[g_U91._fU60]._fU132._fU24 = 0;
        break;
        case 1:
        if (g_U91._fU368)
        {
            if ((NOT bParam8) || (g_U91._fU372))
            {
                sub_12067( "\n cellphone3Dstructure.missionAnsweredPhone OR (NOT missionCall)" );
                return 0;
            }
        }
        if (g_U91._fU60 != -1)
        {
            if ((g_U15946[g_U91._fU60]._fU132._fU24 != 4) AND (g_U15946[g_U91._fU60]._fU132._fU24 != 5))
            {
                g_U15946[g_U91._fU60]._fU132._fU24 = 0;
            }
        }
        g_U91._fU368 = 1;
        g_U91._fU372 = bParam8;
        uParam0 = g_U91._fU60;
        break;
        case 2:
        if ((NOT bParam11) AND (NOT sub_49706()))
        {
            return 0;
        }
        g_U91._fU60 = uParam0;
        g_U91._fU52 = 1;
        g_U91._fU56 = 1;
        g_U91._fU372 = 1;
        g_U91._fU368 = 1;
        g_U15946[g_U91._fU60]._fU132._fU24 = 0;
        break;
    }
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        ABORT_SCRIPTED_CONVERSATION( 0 );
    }
    sub_51078( uParam0, ref g_U91._fU176 );
    sub_52459( ref g_U91._fU160 );
    g_U91._fU380 = uParam10;
    g_U91._fU376 = bParam11;
    g_U91._fU420 = uParam12;
    g_U91._fU424 = -1;
    g_U91._fU364 = uParam3;
    StrCopy( ref g_U91._fU144, uParam2, 16 );
    for ( I = 0; I <= (g_U8499 - 1); I++ )
    {
        StrCopy( ref g_U8499[I], "END", 16 );
    }
    for ( I = 0; I <= ((uParam1^) - 1); I++ )
    {
        g_U8499[I] = {(uParam1^)[I]};
        sub_9241( "\n Telling phone we want to play these labels ", ref (uParam1^)[I] );
    }
    for ( I = 0; I <= (g_U91._fU260 - 1); I++ )
    {
        if (I < (uParam4^))
        {
            g_U91._fU260[I] = {(uParam4^)[I]};
        }
        else
        {
            StrCopy( ref g_U91._fU260[I], "", 16 );
        }
    }
    for ( I = 0; I <= (g_U91._fU312 - 1); I++ )
    {
        if (I < (uParam5^))
        {
            g_U91._fU312[I] = {(uParam5^)[I]};
        }
        else
        {
            StrCopy( ref g_U91._fU312[I], "", 16 );
        }
    }
    StrCopy( ref g_U91._fU208, uParam6, 16 );
    g_U91._fU80 = uParam7;
    g_U91._fU384 = 0;
    g_U91._fU532 = uParam13;
    g_U8394 = 4;
    return 1;
}

int sub_49706()
{
    if ((g_U91._fU52) || (g_U91._fU48))
    {
        return 0;
    }
    if (g_U91._fU40 == 0)
    {
        return 0;
    }
    if (NOT sub_49763())
    {
        return 0;
    }
    if (g_U555 == 1)
    {
        return 0;
    }
    return 1;
}

int sub_49763()
{
    boolean bVar2;
    unknown uVar3;

    bVar2 = false;
    if (NOT (IS_PLAYER_PLAYING( sub_6521() )))
    {
        sub_12067( "\n PHONE SCREEN CHECK - player is not playing." );
        return 0;
    }
    if (NETWORK_HAVE_SUMMONS())
    {
        sub_12067( "\n PHONE SCREEN CHECK - player has been summoned into another session." );
        return 0;
    }
    if (g_U91._fU376)
    {
        sub_12067( "\n PHONE CHECK - .cellphone3Dstructure.overrideCellphoneChecks is returning TRUE" );
        return 1;
    }
    if ((g_U91._fU104) || (g_U91._fU100))
    {
        sub_12067( "\n PHONE CHECK - .hideCellphone OR .disableCellphone are returning TRUE." );
        return 0;
    }
    if (NOT (IS_PLAYER_FREE_FOR_AMBIENT_TASK( sub_6521() )))
    {
        if (NOT (IS_CHAR_IN_ANY_CAR( sub_5707() )))
        {
            GET_SCRIPT_TASK_STATUS( sub_5707(), 53, ref uVar3 );
            switch (uVar3)
            {
                case 7:
                case 2:
                sub_12067( "\n PHONE CHECK - player is not free for an ambient task and is not in a car)" );
                return 0;
                break;
                default:
                if (NOT (IS_CHAR_IN_WATER( sub_5707() )))
                {
                    bVar2 = true;
                }
                else
                {
                    sub_12067( "\n PHONE CHECK - player is in water" );
                    return 0;
                }
                break;
            }
        }
    }
    if ((NOT bVar2) AND (CODE_WANTS_MOBILE_PHONE_REMOVED()))
    {
        sub_12067( "\n PHONE CHECK - CODE_WANTS_MOBILE_PHONE_REMOVED() is returning TRUE." );
        return 0;
    }
    if (NOT (IS_PLAYER_SCRIPT_CONTROL_ON( sub_6521() )))
    {
        sub_12067( "\n PHONE CHECK - IS_PLAYER_SCRIPT_CONTROL_ON is returning FALSE." );
        return 0;
    }
    return 1;
}

void sub_51078(int iParam0, unknown uParam1)
{
    switch (iParam0)
    {
        case 0:
        StrCopy( (uParam1^), "ROMAN", 32 );
        break;
        case 1:
        StrCopy( (uParam1^), "VLAD", 32 );
        break;
        case 2:
        StrCopy( (uParam1^), "MICHELLE", 32 );
        break;
        case 3:
        StrCopy( (uParam1^), "JACOB", 32 );
        break;
        case 4:
        StrCopy( (uParam1^), "FAUSTIN", 32 );
        break;
        case 5:
        StrCopy( (uParam1^), "MANNY", 32 );
        break;
        case 6:
        StrCopy( (uParam1^), "ELIZABETA", 32 );
        break;
        case 7:
        StrCopy( (uParam1^), "DWAYNE", 32 );
        break;
        case 8:
        StrCopy( (uParam1^), "BRUCIE", 32 );
        break;
        case 9:
        StrCopy( (uParam1^), "PLAYBOY", 32 );
        break;
        case 10:
        StrCopy( (uParam1^), "KATE_MCREARY", 32 );
        break;
        case 11:
        StrCopy( (uParam1^), "FRANCIS_MCREARY", 32 );
        break;
        case 12:
        StrCopy( (uParam1^), "CIA_CHARACTER", 32 );
        break;
        case 13:
        StrCopy( (uParam1^), "PACKIE_MCREARY", 32 );
        break;
        case 14:
        StrCopy( (uParam1^), "RAY_BOCCINO", 32 );
        break;
        case 15:
        StrCopy( (uParam1^), "GERRY_MCREARY", 32 );
        break;
        case 16:
        StrCopy( (uParam1^), "DERRICK_MCREARY", 32 );
        break;
        case 18:
        StrCopy( (uParam1^), "BERNIE", 32 );
        break;
        case 19:
        StrCopy( (uParam1^), "BELL", 32 );
        break;
        case 22:
        StrCopy( (uParam1^), "JIMMY_PEGORINO", 32 );
        break;
        case 20:
        StrCopy( (uParam1^), "GRAVELLI", 32 );
        break;
        case 25:
        StrCopy( (uParam1^), "DIMITRI", 32 );
        break;
        case 26:
        StrCopy( (uParam1^), "MALLORIE", 32 );
        break;
        case 27:
        case 42:
        StrCopy( (uParam1^), "GRACIE", 32 );
        break;
        case 28:
        StrCopy( (uParam1^), "ALEX", 32 );
        break;
        case 29:
        StrCopy( (uParam1^), "KIKI", 32 );
        break;
        case 30:
        StrCopy( (uParam1^), "CARMEN", 32 );
        break;
        case 35:
        StrCopy( (uParam1^), "RECEPTIONIST_F", 32 );
        break;
        case 36:
        StrCopy( (uParam1^), "BLACKMAILER_M", 32 );
        break;
        case 37:
        StrCopy( (uParam1^), "TOM", 32 );
        break;
        case 38:
        StrCopy( (uParam1^), "REAL_BADMAN", 32 );
        break;
        case 39:
        StrCopy( (uParam1^), "BRIAN", 32 );
        break;
        case 40:
        StrCopy( (uParam1^), "PI_CHERISE", 32 );
        break;
        case 41:
        StrCopy( (uParam1^), "PI_ED_LOW", 32 );
        break;
        case 43:
        StrCopy( (uParam1^), "HOSSAN", 32 );
        break;
        case 44:
        StrCopy( (uParam1^), "PI_ILYENA", 32 );
        break;
        case 45:
        StrCopy( (uParam1^), "IVAN", 32 );
        break;
        case 46:
        StrCopy( (uParam1^), "PI_JEFF", 32 );
        break;
        case 47:
        StrCopy( (uParam1^), "PI_MARLENE", 32 );
        break;
        case 48:
        StrCopy( (uParam1^), "CLARENCE", 32 );
        break;
        case 49:
        StrCopy( (uParam1^), "PI_MEL", 32 );
        break;
        case 50:
        StrCopy( (uParam1^), "PATHOS", 32 );
        break;
        case 51:
        StrCopy( (uParam1^), "SARA", 32 );
        break;
        case 52:
        StrCopy( (uParam1^), "GORDON", 32 );
        break;
        case 53:
        StrCopy( (uParam1^), "DARKO_BREVIC", 32 );
        break;
        case 21:
        StrCopy( (uParam1^), "LAZLOW", 32 );
        break;
        case 17:
        StrCopy( (uParam1^), "FIXER", 32 );
        break;
        default:
        StrCopy( (uParam1^), "", 32 );
        if (iParam0 != 56)
        {
            ;
        }
        break;
    }
    return;
}

void sub_52459(unknown uParam0)
{
    StrCopy( (uParam0^), "NIKO", 16 );
    return;
}

int sub_53138(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, boolean bParam5)
{
    char[12] cVar8;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    char[12] cVar17;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    char[12] cVar26;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    array(ref cVar8, 2);
    StrCopy( ref cVar8[0], uParam0, 16 );
    StrCopy( ref cVar8[1], "END", 16 );
    array(ref cVar17, 2);
    StrCopy( ref cVar17[0], uParam1, 16 );
    array(ref cVar26, 2);
    StrCopy( ref cVar26[0], uParam2, 16 );
    if (NOT (COMPARE_STRING( uParam0, "PLACEHOLDER" )))
    {
        uVar35 = g_U91._fU60;
        if (bParam5)
        {
            return sub_49191( uVar35, ref cVar8, uParam4, 1, ref cVar17, ref cVar26, uParam3, 0, bParam5, 1, 1, 0, 0, 0 );
        }
        if (NOT g_U91._fU368)
        {
            StrCopy( ref g_U91._fU224[0], uParam4, 16 );
            StrCopy( ref g_U91._fU224[1], uParam0, 16 );
            sub_51078( uVar35, ref g_U91._fU176 );
            g_U91._fU368 = 1;
            return 1;
        }
    }
    return 0;
}

int sub_53417()
{
    if (g_U91._fU60 != -1)
    {
        return g_U15946[g_U91._fU60]._fU132._fU24;
    }
    return 6;
}

int sub_53492(boolean bParam0)
{
    unknown uVar3;

    if (g_U91._fU60 != -1)
    {
        switch (g_U15946[g_U91._fU60]._fU132._fU24)
        {
            case 0:
            case 3:
            case 4:
            case 5:
            return 0;
            break;
            default:
            if (g_U91._fU0 != 1000)
            {
                return 0;
            }
            break;
        }
    }
    if (bParam0)
    {
        GET_SCRIPT_TASK_STATUS( sub_5707(), 53, ref uVar3 );
        switch (uVar3)
        {
            case 7:
            case 2:
            return 1;
            break;
            default:
            sub_12067( "\n HAS_PHONE_CALL_ENDED - player is still using the phone" );
            return 0;
            break;
        }
    }
    return 1;
}

void sub_53838(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        OPEN_SEQUENCE_TASK( ref l_U1007 );
        TASK_SIT_DOWN_ON_SEAT( 0, 0, 1, uParam1, 0.00000000, -2 );
        CLOSE_SEQUENCE_TASK( l_U1007 );
        TASK_PERFORM_SEQUENCE( uParam0, l_U1007 );
        CLEAR_SEQUENCE_TASK( l_U1007 );
    }
    return;
}

void sub_54352()
{
    switch (l_U1001)
    {
        case 0:
        GET_GAME_TIMER( ref l_U1002 );
        l_U1001 = 1;
        break;
        case 1:
        if ((l_U1005) || (sub_33858( 25000, l_U1002 )))
        {
            if (sub_54473( 11, "FM5_CINST", "FM5AUD" ))
            {
                l_U1001 = 2;
            }
        }
        break;
        case 2:
        switch (sub_53417())
        {
            case 0: break;
            case 6:
            if (l_U1004)
            {
                l_U1000 = 1;
                l_U1003 = 1;
                l_U1001 = 3;
            }
            else
            {
                l_U1001 = 1;
            }
            break;
            case 2:
            case 1:
            l_U1001 = 1;
            GET_GAME_TIMER( ref l_U1002 );
            break;
            case 3:
            l_U1004 = 1;
            break;
        }
        break;
        case 3: break;
    }
    return;
}

void sub_54473(unknown uParam0, unknown uParam1, unknown uParam2)
{
    char[12] cVar5;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown[2] uVar14;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;

    array(ref cVar5, 2);
    StrCopy( ref cVar5[0], uParam1, 16 );
    StrCopy( ref cVar5[1], "END", 16 );
    array(ref uVar14, 2);
    return sub_49191( uParam0, ref cVar5, uParam2, 0, ref uVar14, ref uVar14, "", 0, 1, 2, 1, 0, 0, 0 );
}

void sub_54712()
{
    unknown uVar2;

    switch (l_U1127)
    {
        case 0:
        GET_GAME_TIMER( ref l_U1087 );
        l_U1127 = 1;
        break;
        case 1:
        if (NOT l_U1128)
        {
            if (sub_33858( 10000, l_U1087 ))
            {
                if (sub_54850( 16, "FM5_CDINT", "FM5AUD", 10000, 0 ))
                {
                    l_U1128 = 1;
                    l_U1127 = 3;
                }
            }
        }
        else if (sub_33858( 10000, l_U1087 ))
        {
            l_U1127 = 4;
        }
        break;
        case 3:
        switch (sub_53417())
        {
            case 0: break;
            case 6:
            if (l_U1129)
            {
                l_U1127 = 5;
            }
            else if ((NOT CAN_PHONE_BE_SEEN_ON_SCREEN()) || (sub_53492( 0 )))
            {
                if (sub_55072())
                {
                    l_U1128 = 0;
                    l_U1127 = 0;
                }
                else
                {
                    l_U1127 = 4;
                }
            }
            break;
            case 2:
            case 1:
            l_U1127 = 0;
            break;
            case 3:
            l_U1129 = 1;
            break;
        }
        break;
        case 4:
        sub_55170( 16, 1, 16383, 16383, ref l_U957 );
        sub_55517( ref l_U957, 0 );
        sub_55548( ref l_U957, 0 );
        sub_55578( ref l_U957 );
        l_U1127 = 5;
        break;
        case 5:
        l_U999 = 1;
        break;
    }
    return;
}

void sub_54850(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    char[12] cVar7;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown[2] uVar16;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;

    array(ref cVar7, 2);
    StrCopy( ref cVar7[0], uParam1, 16 );
    StrCopy( ref cVar7[1], "END", 16 );
    array(ref uVar16, 2);
    return sub_49191( uParam0, ref cVar7, uParam2, 0, ref uVar16, ref uVar16, "", uParam3, 1, 0, 1, 0, 0, uParam4 );
}

void sub_55072()
{
    return g_U91._fU504;
}

void sub_55170(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    iParam4->_fU24 = -1;
    sub_55192( uParam0, 0, iParam4 + 0 );
    sub_55192( uParam1, 1, iParam4 + 0 );
    sub_55192( uParam2, 2, iParam4 + 0 );
    sub_55192( uParam3, 3, iParam4 + 0 );
    sub_55192( 0, 4, iParam4 + 0 );
    sub_55192( 1, 5, iParam4 + 0 );
    sub_55192( -1, 6, iParam4 + 0 );
    ref iParam4->_fU0->_fU20 = 1;
    return;
}

void sub_55192(unknown uParam0, unknown uParam1, int iParam2)
{
    switch (uParam1)
    {
        case 0:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[1], 14, 23, uParam0 );
        break;
        case 1:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[0], 0, 13, uParam0 );
        break;
        case 2:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[0], 14, 27, uParam0 );
        break;
        case 3:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[1], 0, 13, uParam0 );
        break;
        case 4:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[1], 24, 27, uParam0 );
        break;
        case 5:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[0], 28, 31, uParam0 );
        break;
        case 6:
        iParam2->_fU0[2] = uParam0;
        break;
    }
    return;
}

void sub_55517(int iParam0, unknown uParam1)
{
    ref iParam0->_fU0->_fU16 = uParam1;
    return;
}

void sub_55548(int iParam0, unknown uParam1)
{
    ref iParam0->_fU0->_fU20 = uParam1;
    return;
}

int sub_55578(int iParam0)
{
    int I;
    int iVar4;
    char[16] cVar5;
    int iVar9;

    iVar4 = 0;
    StrCopy( ref cVar5, "TM_NAME_", 16 );
    if (g_U91._fU540)
    {
        return 0;
    }
    if ((g_U569[g_U569 - 1]._fU0[0]) != -1)
    {
        if (NOT sub_55648())
        {
            sub_3551( 0 );
        }
    }
    if (iParam0->_fU24 != -1)
    {
        return 0;
    }
    iVar9 = sub_55775( iParam0->_fU0 );
    if (iVar9 != -1)
    {
        sub_3551( iVar9 );
    }
    for ( I = 0; I <= (g_U569 - 1); I++ )
    {
        if (g_U569[I]._fU0[0] == -1)
        {
            g_U569[I] = {iParam0->_fU0};
            iParam0->_fU24 = I;
            I = g_U569;
            iVar4++;
            if (iVar4 > 1)
            {
                SET_PHONE_HUD_ITEM( 1, "UNREAD_MESSAGES", iVar4 );
            }
            else
            {
                ConcatString(ref cVar5, sub_3265( 0, iParam0->_fU0 ), 16);
                SET_PHONE_HUD_ITEM( 1, ref cVar5, iVar4 );
            }
            g_U91._fU520 = 1;
            PLAY_AUDIO_EVENT( "MOBILE_PHONE_SMS_RECIEVE" );
            if (g_U555 == 9)
            {
                g_U91._fU404 = 1015;
            }
            else if (g_U91._fU0 == 1014)
            {
                g_U91._fU92 = 1;
            }
            INCREMENT_INT_STAT_NO_MESSAGE( 300, 1 );
            g_U15654[17] = 1;
        }
        else if ((sub_3265( 4, g_U569[I] )) == 0)
        {
            iVar4++;
        }
    }
    SET_MESSAGES_WAITING( 1 );
    return 1;
}

int sub_55648()
{
    int I;

    for ( I = 0; I <= (g_U569 - 1); I++ )
    {
        if ((g_U569[I]._fU20) AND ((sub_3265( 1, g_U569[I] )) != 0))
        {
            sub_3551( I );
            return 1;
        }
    }
    return 0;
}

int sub_55775(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    int Result;

    for ( Result = 0; Result <= (g_U569 - 1); Result++ )
    {
        if (g_U569[Result]._fU0[0] != -1)
        {
            if (sub_6076( uParam0, g_U569[Result] ))
            {
                return Result;
            }
        }
        else
        {
            Result = g_U569;
        }
    }
    return -1;
}

void sub_56267()
{
    switch (l_U1058)
    {
        case 0:
        if (sub_48404( 11, 1 ))
        {
            l_U1056 = 1;
        }
        if (NOT l_U1057)
        {
            l_U1058 = 1;
        }
        break;
        case 1:
        if (sub_48404( 11, 1 ))
        {
            l_U1056 = 1;
        }
        if (l_U886)
        {
            l_U1058 = 2;
        }
        break;
        case 2: break;
    }
    return;
}

void sub_56414()
{
    int I;

    switch (l_U1089)
    {
        case 0:
        sub_56467();
        l_U1089 = 1;
        sub_56647();
        break;
        case 1:
        sub_56719();
        sub_57083( ref l_U1032[1], 83.31940000, 62.89320000, 316.50100000, 325.00670000 );
        sub_57606();
        break;
        case 2:
        for ( I = 0; I <= 9; I++ )
        {
            if (NOT (IS_CHAR_INJURED( l_U1032[I] )))
            {
                DELETE_CHAR( ref l_U1032[I] );
            }
        }
        for ( I = 0; I <= (l_U1152 - 1); I++ )
        {
            if (NOT (IS_CHAR_INJURED( l_U1130[I] )))
            {
                DELETE_CHAR( ref l_U1130[I] );
            }
        }
        MARK_MODEL_AS_NO_LONGER_NEEDED( -722019798 );
        MARK_MODEL_AS_NO_LONGER_NEEDED( 453889158 );
        l_U881 = 0;
        break;
        case 3: break;
    }
    return;
}

void sub_56467()
{
    REQUEST_MODEL( -1481923910 );
    while (NOT (HAS_MODEL_LOADED( -1481923910 )))
    {
        WAIT( 0 );
    }
    CREATE_CHAR( 26, -1481923910, 60.16700000, 343.05920000, 14.75300000, ref l_U1032[0], 1 );
    CREATE_CHAR( 26, -1481923910, 79.09960000, 338.35080000, 14.75300000, ref l_U1032[1], 1 );
    SET_CHAR_RANDOM_COMPONENT_VARIATION( l_U1032[0] );
    SET_CHAR_RANDOM_COMPONENT_VARIATION( l_U1032[1] );
    MARK_MODEL_AS_NO_LONGER_NEEDED( -1481923910 );
    return;
}

void sub_56647()
{
    int I;

    for ( I = 0; I <= (l_U1152 - 1); I++ )
    {
        l_U1141[I] = 0;
        l_U1130[I] = nil;
    }
    return;
}

void sub_56719()
{
    if (NOT l_U1045)
    {
        if (NOT (IS_CHAR_INJURED( l_U1032[0] )))
        {
            sub_56767( ref l_U1032[0] );
            l_U1045 = 1;
        }
    }
    if (l_U1045)
    {
        if (NOT (IS_CHAR_INJURED( l_U1032[0] )))
        {
            GET_SCRIPT_TASK_STATUS( l_U1032[0], 29, ref l_U1044 );
            if (l_U1044 == 7)
            {
                l_U1045 = 0;
                CLEAR_CHAR_TASKS( l_U1032[0] );
            }
        }
    }
    return;
}

void sub_56767(unknown uParam0)
{
    if (NOT (IS_CHAR_INJURED( (uParam0^) )))
    {
        OPEN_SEQUENCE_TASK( ref l_U1043 );
        TASK_FOLLOW_NAV_MESH_TO_COORD( 0, 79.50120000, 343.47840000, 14.75300000, 3, -1, -1 );
        TASK_FOLLOW_NAV_MESH_TO_COORD( 0, 80.50320000, 298.34910000, 14.75300000, 3, -1, -1 );
        TASK_FOLLOW_NAV_MESH_TO_COORD( 0, 61.53430000, 298.23590000, 14.73460000, 3, -1, -1 );
        TASK_FOLLOW_NAV_MESH_TO_COORD( 0, 60.16700000, 343.05920000, 14.75300000, 3, -1, -1 );
        CLOSE_SEQUENCE_TASK( l_U1043 );
        TASK_PERFORM_SEQUENCE( (uParam0^), l_U1043 );
        CLEAR_SEQUENCE_TASK( l_U1043 );
    }
    return;
}

void sub_57083(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    switch (l_U1046)
    {
        case 0:
        if (NOT (IS_CHAR_INJURED( (uParam0^) )))
        {
            GET_CHAR_COORDINATES( (uParam0^), ref uVar7._fU0, ref uVar7._fU4, ref uVar7._fU8 );
            sub_57183( uParam1, uParam2, uParam3, uParam4, ref uVar10, ref uVar11 );
            TASK_FOLLOW_NAV_MESH_TO_COORD( (uParam0^), uVar10, uVar11, uVar7._fU8, 2, -1, 0.50000000 );
            l_U1046 = 1;
            l_U1047._fU0 = uVar10;
            l_U1047._fU4 = uVar11;
            l_U1047._fU8 = uVar7._fU8;
        }
        break;
        case 1:
        if (NOT (IS_CHAR_INJURED( (uParam0^) )))
        {
            if (LOCATE_CHAR_ANY_MEANS_3D( (uParam0^), l_U1047._fU0, l_U1047._fU4, l_U1047._fU8, 2.00000000, 2.00000000, 2.00000000, 0 ))
            {
                l_U1046 = 3;
                GENERATE_RANDOM_INT_IN_RANGE( 3000, 7000, ref l_U1050 );
                TASK_USE_MOBILE_PHONE_TIMED( (uParam0^), l_U1050 );
            }
        }
        break;
        case 2:
        if (NOT (IS_CHAR_INJURED( (uParam0^) )))
        {
            GET_MOBILE_PHONE_TASK_SUB_TASK( (uParam0^), ref l_U1051 );
            if (l_U1051 == 0)
            {
                l_U1046 = 0;
            }
        }
        break;
        case 3:
        if (NOT (IS_CHAR_INJURED( (uParam0^) )))
        {
            GET_MOBILE_PHONE_TASK_SUB_TASK( (uParam0^), ref l_U1051 );
            if (l_U1051 == 2)
            {
                l_U1046 = 2;
            }
        }
        break;
    }
    return;
}

void sub_57183(float fParam0, float fParam1, float fParam2, float fParam3, unknown uParam4, unknown uParam5)
{
    float fVar8;
    float fVar9;
    float fVar10;
    float fVar11;

    if (fParam1 > fParam0)
    {
        fVar8 = fParam0;
        fVar9 = fParam1;
    }
    else
    {
        fVar8 = fParam1;
        fVar9 = fParam0;
    }
    if (fParam3 > fParam2)
    {
        fVar10 = fParam2;
        fVar11 = fParam3;
    }
    else
    {
        fVar10 = fParam3;
        fVar11 = fParam2;
    }
    GENERATE_RANDOM_FLOAT_IN_RANGE( fVar8, fVar9, uParam4 );
    GENERATE_RANDOM_FLOAT_IN_RANGE( fVar10, fVar11, uParam5 );
    return (uParam4^);
    return (uParam5^);
}

void sub_57606()
{
    vector vVar2;
    vector vVar5;

    vVar2 = {93.65970000, 298.88960000, 14.75300000};
    vVar5 = {62.71000000, 321.45000000, 13.75000000};
    sub_57651();
    switch (l_U1189)
    {
        case 0:
        if (l_U1191 == 1)
        {
            l_U1189 = 4;
        }
        if (l_U1191 == 2)
        {
            l_U1189 = 1;
        }
        break;
        case 1:
        sub_57885( vVar2, 1 );
        GENERATE_RANDOM_INT_IN_RANGE( 2000, 5000, ref l_U1190 );
        SETTIMERB( 0 );
        l_U1189 = 5;
        l_U1191 = 1;
        break;
        case 4:
        sub_57885( vVar5, 2 );
        GENERATE_RANDOM_INT_IN_RANGE( 2000, 7000, ref l_U1190 );
        SETTIMERB( 0 );
        l_U1189 = 5;
        l_U1191 = 2;
        break;
        case 5:
        if (TIMERB() > l_U1190)
        {
            l_U1189 = 0;
        }
        break;
    }
    return;
}

void sub_57651()
{
    int I;

    for ( I = 0; I <= (l_U1152 - 1); I++ )
    {
        if (NOT (IS_CHAR_INJURED( l_U1130[I] )))
        {
            GET_SCRIPT_TASK_STATUS( l_U1130[I], 29, ref l_U1163[I] );
            if (l_U1163[I] == 7)
            {
                MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U1130[I] );
                l_U1130[I] = nil;
                l_U1141[I] = 0;
            }
        }
    }
    return;
}

void sub_57885(unknown uParam0, unknown uParam1, unknown uParam2, int iParam3)
{
    int I;
    int iVar7;
    int iVar8;
    boolean bVar9;

    bVar9 = false;
    l_U901[0] = -722019798;
    l_U901[1] = 453889158;
    l_U901[2] = -1481923910;
    if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
    {
        for ( I = 0; I <= (l_U1152 - 1); I++ )
        {
            if (l_U1130[I] == nil)
            {
                if (NOT l_U1141[I])
                {
                    if (NOT bVar9)
                    {
                        GENERATE_RANDOM_INT_IN_RANGE( 0, 100, ref iVar8 );
                        if (iVar8 <= 33)
                        {
                            iVar7 = 0;
                        }
                        else if ((iVar8 <= 66) AND (iVar8 > 33))
                        {
                            iVar7 = 1;
                        }
                        else
                        {
                            iVar7 = 2;
                        }
                        CREATE_RANDOM_CHAR( uParam0._fU0, uParam0._fU4, uParam0._fU8, ref l_U1130[I] );
                        SET_CHAR_RANDOM_COMPONENT_VARIATION( l_U1130[I] );
                        if (iParam3 == 1)
                        {
                            sub_58135( l_U1130[I] );
                        }
                        if (iParam3 == 2)
                        {
                            sub_58656( l_U1130[I] );
                        }
                        bVar9 = true;
                        l_U1141[I] = 1;
                    }
                }
            }
        }
    }
    return;
}

void sub_58135(unknown uParam0)
{
    unknown[4] uVar3;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    int I;

    l_U1176[0] = {80.69400000, 299.19670000, 14.75300000};
    l_U1176[1] = {75.08000000, 317.22000000, 13.75000000};
    l_U1176[2] = {61.48580000, 322.69600000, 14.75300000};
    l_U1176[3] = {60.00000000, 334.00000000, 14.75300000};
    array(ref uVar3, 4);
    for ( I = 0; I <= 3; I++ )
    {
        if (I == 1)
        {
            GENERATE_RANDOM_FLOAT_IN_RANGE( l_U1176[I]._fU0 - 0.75000000, l_U1176[I]._fU0 + 0.75000000, ref uVar3[I]._fU0 );
            GENERATE_RANDOM_FLOAT_IN_RANGE( l_U1176[I]._fU4 - 0.75000000, l_U1176[I]._fU4 + 0.75000000, ref uVar3[I]._fU4 );
        }
        else
        {
            uVar3[I]._fU0 = l_U1176[I]._fU0;
            uVar3[I]._fU4 = l_U1176[I]._fU4;
        }
    }
    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        OPEN_SEQUENCE_TASK( ref l_U1175 );
        TASK_FOLLOW_NAV_MESH_TO_COORD( 0, uVar3[0]._fU0, uVar3[0]._fU4, 14.75300000, 2, -1, 0.40000000 );
        TASK_FOLLOW_NAV_MESH_TO_COORD( 0, uVar3[1]._fU0, uVar3[1]._fU4, 14.75300000, 2, -1, 0.40000000 );
        TASK_FOLLOW_NAV_MESH_TO_COORD( 0, uVar3[2]._fU0, uVar3[2]._fU4, 14.75300000, 2, -1, 0.40000000 );
        TASK_FOLLOW_NAV_MESH_TO_COORD( 0, uVar3[3]._fU0, uVar3[3]._fU4, 14.75300000, 2, -1, 0.40000000 );
        CLOSE_SEQUENCE_TASK( l_U1175 );
        TASK_PERFORM_SEQUENCE( uParam0, l_U1175 );
        CLEAR_SEQUENCE_TASK( l_U1175 );
    }
    return;
}

void sub_58656(unknown uParam0)
{
    unknown[3] uVar3;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    int I;

    array(ref uVar3, 3);
    l_U1153[0] = {75.08000000, 317.22000000, 13.75000000};
    l_U1153[1] = {99.81140000, 298.45700000, 14.75300000};
    for ( I = 0; I <= 1; I++ )
    {
        if (I == 0)
        {
            GENERATE_RANDOM_FLOAT_IN_RANGE( l_U1153[I]._fU0 - 0.75000000, l_U1153[I]._fU0 + 0.75000000, ref uVar3[I]._fU0 );
            GENERATE_RANDOM_FLOAT_IN_RANGE( l_U1153[I]._fU4 - 0.75000000, l_U1153[I]._fU4 + 0.75000000, ref uVar3[I]._fU4 );
        }
        else
        {
            uVar3[I]._fU0 = l_U1153[I]._fU0;
            uVar3[I]._fU4 = l_U1153[I]._fU4;
        }
    }
    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        OPEN_SEQUENCE_TASK( ref l_U1174 );
        TASK_FOLLOW_NAV_MESH_TO_COORD( 0, uVar3[0]._fU0, uVar3[0]._fU4, 14.75300000, 2, -1, 0.40000000 );
        TASK_FOLLOW_NAV_MESH_TO_COORD( 0, uVar3[1]._fU0, uVar3[1]._fU4, 14.75300000, 2, -1, 0.40000000 );
        CLOSE_SEQUENCE_TASK( l_U1174 );
        TASK_PERFORM_SEQUENCE( uParam0, l_U1174 );
        CLEAR_SEQUENCE_TASK( l_U1174 );
    }
    return;
}

void sub_59413(unknown uParam0, boolean bParam1)
{
    switch (l_U1209)
    {
        case 6:
        if (DOES_BLIP_EXIST( l_U936[8] ))
        {
            REMOVE_BLIP( l_U936[8] );
        }
        GET_GAME_TIMER( ref l_U1087 );
        l_U1209 = 7;
        if (NOT (IS_CHAR_INJURED( l_U893[0] )))
        {
            sub_34348( l_U893[0], 2 );
        }
        break;
        case 7:
        if (sub_33858( 4000, l_U1087 ))
        {
            if (NOT (IS_CHAR_INJURED( (uParam0^) )))
            {
                l_U1209 = 5;
            }
        }
        break;
        case 5:
        if (bParam1)
        {
            l_U955 = 1;
        }
        else
        {
            l_U954 = 1;
        }
        PRINT_NOW( "FRANCIS6_15", 7500, 1 );
        GET_GAME_TIMER( ref l_U1211 );
        l_U1209 = 9;
        break;
        case 9:
        if (NOT (IS_CHAR_INJURED( (uParam0^) )))
        {
            OPEN_SEQUENCE_TASK( ref l_U1210 );
            TASK_PLAY_ANIM( 0, "KNEEL_CRYING_INTRO", "missfrancis5", 8.00000000, 0, 1, 1, 1, -1 );
            TASK_PLAY_ANIM( 0, "KNEEL_CRYING", "missfrancis5", 8.00000000, 1, 1, 1, 0, -1 );
            CLOSE_SEQUENCE_TASK( l_U1210 );
            TASK_PERFORM_SEQUENCE( (uParam0^), l_U1210 );
            CLEAR_SEQUENCE_TASK( l_U1210 );
            l_U1209 = 8;
        }
        break;
        case 8: break;
        case 4: break;
    }
    return;
}

void sub_60178()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    vector vVar5;
    float fVar8;
    vector vVar9;
    vector vVar12;
    vector vVar15;
    vector vVar18;
    vector vVar21;
    unknown uVar24;

    vVar5 = {73.50000000, 318.12000000, 13.75000000};
    fVar8 = 253.50230000;
    vVar9 = {77.69252000, 316.46620000, 14.39019000};
    vVar12 = {-1.01097600, -0.00000000, 77.77479000};
    vVar15 = {74.72000000, 316.30000000, 13.75000000};
    vVar18 = {76.37000000, 322.04000000, 20.42000000};
    vVar21 = {-55.00000000, 0.00000000, 168.76000000};
    if (sub_40147())
    {
        DO_SCREEN_FADE_OUT( 500 );
        l_U1088 = 5;
    }
    switch (l_U1088)
    {
        case 0:
        SET_PLAYER_CONTROL( sub_6521(), 0 );
        DO_SCREEN_FADE_OUT( 500 );
        l_U1088 = 1;
        break;
        case 1:
        if (IS_SCREEN_FADED_OUT())
        {
            if (NOT l_U884)
            {
                if (l_U995 == 0)
                {
                    BEGIN_CAM_COMMANDS( ref l_U995 );
                    l_U884 = 1;
                }
            }
            SET_USE_HIGHDOF( 1 );
            SET_PLAYER_CONTROL( sub_6521(), 0 );
            CLEAR_AREA( vVar5.x, vVar5.y, vVar5.z, 10.00000000, 0 );
            SET_WIDESCREEN_BORDERS( 1 );
            CREATE_CAM( 14, ref l_U974[10] );
            SET_CAM_POS( l_U974[10], vVar9.x, vVar9.y, vVar9.z );
            SET_CAM_ROT( l_U974[10], vVar12.x, vVar12.y, vVar12.z );
            SET_CAM_ACTIVE( l_U974[10], 1 );
            SET_CAM_PROPAGATE( l_U974[10], 1 );
            SET_CAM_FOV( l_U974[10], 42.50001000 );
            SET_CAM_NEAR_DOF( l_U974[10], 0.30000000 );
            SET_CAM_FAR_DOF( l_U974[10], 8.00000000 );
            CREATE_CAM( 14, ref l_U974[11] );
            SET_CAM_POS( l_U974[11], vVar18.x, vVar18.y, vVar18.z );
            SET_CAM_ROT( l_U974[11], vVar21.x, vVar21.y, vVar21.z );
            SET_CAM_ACTIVE( l_U974[11], 0 );
            SET_CAM_PROPAGATE( l_U974[11], 0 );
            SET_CAM_FOV( l_U974[11], 15.90007000 );
            CREATE_CAM( 14, ref l_U974[12] );
            SET_CAM_POS( l_U974[12], 79.27126000, 320.42470000, 15.20154000 );
            SET_CAM_ROT( l_U974[12], -12.03610000, -0.00000000, 131.99740000 );
            SET_CAM_ACTIVE( l_U974[12], 1 );
            SET_CAM_PROPAGATE( l_U974[12], 0 );
            SET_CAM_FOV( l_U974[12], 24.00005000 );
            if (l_U970)
            {
                if (NOT (IS_CHAR_INJURED( l_U893[1] )))
                {
                    CLEAR_CHAR_TASKS( l_U893[1] );
                    SET_CHAR_COORDINATES( l_U893[1], vVar5.x, vVar5.y, vVar5.z );
                    SET_CHAR_HEADING( l_U893[1], fVar8 );
                    sub_40699( 16, ref l_U893[2], vVar15.x, vVar15.y, 13.75000000, 0.00000000 );
                    while (IS_CHAR_DEAD( l_U893[2] ))
                    {
                        WAIT( 0 );
                    }
                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U893[2], 1 );
                    SET_CHAR_COORDINATES( l_U893[2], 75.52000000, 317.30000000, 13.75000000 );
                    EXPLODE_CHAR_HEAD( l_U893[2] );
                }
            }
            else if (NOT (IS_CHAR_INJURED( l_U893[0] )))
            {
                CLEAR_CHAR_TASKS( l_U893[0] );
                SET_CHAR_COORDINATES( l_U893[0], vVar5.x, vVar5.y, vVar5.z );
                SET_CHAR_HEADING( l_U893[0], fVar8 );
                sub_40699( 11, ref l_U893[3], vVar15.x, vVar15.y, 13.75000000, 0.00000000 );
                while (IS_CHAR_DEAD( l_U893[3] ))
                {
                    WAIT( 0 );
                }
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U893[3], 1 );
                SET_CHAR_COORDINATES( l_U893[3], 75.52000000, 317.30000000, 13.75000000 );
                EXPLODE_CHAR_HEAD( l_U893[3] );
            }
            if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
            {
                CREATE_RANDOM_CHAR( 60.95000000, 323.38000000, 13.75000000, ref l_U1092 );
                CREATE_RANDOM_CHAR( 62.95000000, 321.70000000, 13.75000000, ref l_U1093 );
                CREATE_RANDOM_CHAR( 63.95000000, 324.80000000, 13.75000000, ref l_U1094 );
                CREATE_RANDOM_CHAR( 61.82000000, 315.76000000, 13.75000000, ref l_U1095 );
                CREATE_RANDOM_CHAR( 78.33000000, 330.05000000, 13.75000000, ref l_U1096 );
                CREATE_RANDOM_CHAR( 79.81000000, 337.79000000, 13.75000000, ref l_U1097 );
            }
            if (NOT (IS_CHAR_INJURED( l_U1092 )))
            {
                TASK_TURN_CHAR_TO_FACE_COORD( l_U1092, 75.52000000, 317.30000000, 13.75000000 );
            }
            if (NOT (IS_CHAR_INJURED( l_U1093 )))
            {
                TASK_TURN_CHAR_TO_FACE_COORD( l_U1093, 75.52000000, 317.30000000, 13.75000000 );
            }
            if (NOT (IS_CHAR_INJURED( l_U1094 )))
            {
                TASK_TURN_CHAR_TO_FACE_COORD( l_U1094, 75.52000000, 317.30000000, 13.75000000 );
            }
            if (NOT (IS_CHAR_INJURED( l_U1095 )))
            {
                TASK_TURN_CHAR_TO_FACE_COORD( l_U1095, 75.52000000, 317.30000000, 13.75000000 );
            }
            if (NOT (IS_CHAR_INJURED( l_U1096 )))
            {
                TASK_TURN_CHAR_TO_FACE_COORD( l_U1095, 75.52000000, 317.30000000, 13.75000000 );
            }
            if (NOT (IS_CHAR_INJURED( l_U1097 )))
            {
                TASK_TURN_CHAR_TO_FACE_COORD( l_U1095, 75.52000000, 317.30000000, 13.75000000 );
            }
            l_U1089 = 2;
            l_U1088 = 4;
        }
        break;
        case 4:
        if (l_U970)
        {
            WAIT( 4000 );
            if (DOES_CHAR_EXIST( l_U893[2] ))
            {
                SET_DEAD_CHAR_COORDINATES( l_U893[2], 75.52000000, 317.30000000, 13.75000000 );
            }
            l_U1072 = 1;
            GET_GAME_TIMER( ref l_U1071 );
            SETTIMERA( 0 );
            ACTIVATE_SCRIPTED_CAMS( 1, 1 );
            if (NOT (IS_CHAR_INJURED( l_U893[1] )))
            {
                CLEAR_CHAR_TASKS( l_U893[1] );
                SET_CHAR_COORDINATES( l_U893[1], vVar5.x, vVar5.y, vVar5.z );
                SET_CHAR_HEADING( l_U893[1], fVar8 );
                TASK_PLAY_ANIM_WITH_ADVANCED_FLAGS( l_U893[1], "KNEEL_DEAD_BROTHER", "missfrancis5", 8.00000000, 0, 1, 1, 0, 0, 0, 0, -1 );
            }
            DO_SCREEN_FADE_IN( 500 );
            l_U1088 = 2;
        }
        break;
        case 2:
        if (l_U970)
        {
            if (NOT l_U1091)
            {
                sub_45257( "FM5_MOURN", ref l_U948, 7, 1 );
                l_U1091 = 1;
            }
            if (TIMERA() > 2000)
            {
                sub_62209();
            }
            if (TIMERA() > 2500)
            {
                sub_62324( l_U974[11], l_U974[10] );
                l_U1088 = 3;
                SETTIMERA( 0 );
            }
        }
        break;
        case 3:
        if (l_U970)
        {
            if (TIMERA() > 3500)
            {
                SET_CAM_POS( l_U974[12], 80.71311000, 312.96040000, 16.33811000 );
                SET_CAM_ROT( l_U974[12], -11.34857000, -0.00000000, 53.95516000 );
                SET_CAM_FOV( l_U974[12], 24.00005000 );
                sub_62324( l_U974[12], l_U974[11] );
                l_U1088 = 8;
            }
        }
        if (l_U971)
        {
            if (TIMERA() > 1000)
            {
                CREATE_CAM( 3, ref l_U974[13] );
                SET_CAM_ACTIVE( l_U974[13], 0 );
                SET_CAM_PROPAGATE( l_U974[13], 0 );
                SET_CAM_INTERP_STYLE_CORE( l_U974[13], l_U974[11], l_U974[12], 6000, 0 );
                SET_CAM_ACTIVE( l_U974[13], 1 );
                SET_CAM_PROPAGATE( l_U974[13], 1 );
                l_U1088 = 7;
                SETTIMERA( 0 );
            }
        }
        break;
        case 8:
        if (TIMERA() > 7500)
        {
            l_U1088 = 9;
            DO_SCREEN_FADE_OUT( 500 );
        }
        break;
        case 7:
        if (TIMERA() > 5500)
        {
            l_U1088 = 9;
            DO_SCREEN_FADE_OUT( 500 );
        }
        break;
        case 5:
        if (IS_SCREEN_FADED_OUT())
        {
            if (NOT (IS_CHAR_INJURED( l_U893[1] )))
            {
                CLEAR_CHAR_TASKS_IMMEDIATELY( l_U893[1] );
            }
            if (NOT (IS_CHAR_INJURED( l_U893[0] )))
            {
                CLEAR_CHAR_TASKS_IMMEDIATELY( l_U893[0] );
            }
            l_U1088 = 9;
        }
        break;
        case 9:
        if (IS_SCREEN_FADED_OUT())
        {
            if (l_U970)
            {
                if (NOT (IS_CHAR_INJURED( l_U893[1] )))
                {
                    CLEAR_CHAR_TASKS_IMMEDIATELY( l_U893[1] );
                    SET_CHAR_COORDINATES( l_U893[1], 74.56000000, 317.66000000, 13.75000000 );
                    SET_CHAR_HEADING( l_U893[1], fVar8 );
                }
            }
            sub_47763( ref l_U948, 1 );
            SET_USE_HIGHDOF( 0 );
            l_U1072 = 0;
            SET_WIDESCREEN_BORDERS( 0 );
            ACTIVATE_SCRIPTED_CAMS( 0, 0 );
            SET_CAM_BEHIND_PED( sub_5707() );
            SET_PLAYER_CONTROL( sub_6521(), 1 );
            GET_CHAR_COORDINATES( sub_5707(), ref uVar2._fU0, ref uVar2._fU4, ref uVar2._fU8 );
            LOAD_SCENE( uVar2._fU0, uVar2._fU4, uVar2._fU8 );
            l_U1090 = 1;
            DO_SCREEN_FADE_IN( 500 );
            DESTROY_ALL_CAMS();
            CLEAR_PRINTS();
            if (l_U884)
            {
                END_CAM_COMMANDS( ref l_U995 );
                l_U884 = 0;
            }
            l_U1088 = 10;
        }
        break;
    }
    return;
}

void sub_62209()
{
    MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U1092 );
    MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U1093 );
    MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U1094 );
    MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U1095 );
    MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U1096 );
    MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U1097 );
    return;
}

void sub_62324(unknown uParam0, unknown uParam1)
{
    SET_CAM_ACTIVE( uParam0, 1 );
    SET_CAM_PROPAGATE( uParam0, 1 );
    SET_CAM_ACTIVE( uParam1, 0 );
    SET_CAM_PROPAGATE( uParam1, 0 );
    return;
}

void sub_63167()
{
    if (sub_33858( 25000, l_U1211 ))
    {
        if (LOCATE_CHAR_ANY_MEANS_3D( sub_5707(), 92.08520000, 363.26690000, 36.88610000, 22.00000000, 19.00000000, 6.00000000, 0 ))
        {
            if (NOT (IS_WANTED_LEVEL_GREATER( sub_6521(), 3 )))
            {
                if (NOT l_U1212)
                {
                    ALTER_WANTED_LEVEL( sub_6521(), 3 );
                    l_U1212 = 1;
                }
            }
        }
    }
    return;
}

void sub_63299()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    float fVar5;

    if (NOT (IS_CAR_DEAD( l_U925[3] )))
    {
        if (NOT (IS_CHAR_DEAD( l_U900 )))
        {
            sub_63358( ref l_U900, ref l_U925[3] );
        }
    }
    sub_63925();
    switch (l_U1235)
    {
        case 0:
        SWITCH_ROADS_OFF( 49.80710000, 394.24510000, 24.69070000, 116.83730000, 374.95990000, -14.83160000 );
        REQUEST_MODEL( 1171614426 );
        REQUEST_MODEL( -1175077216 );
        while ((NOT (HAS_MODEL_LOADED( -1175077216 ))) || (NOT (HAS_MODEL_LOADED( 1171614426 ))))
        {
            WAIT( 0 );
        }
        CREATE_CAR( 1171614426, 48.31270000, 335.70420000, 13.70740000, ref l_U925[2], 1 );
        CREATE_CHAR_INSIDE_CAR( l_U925[2], 4, -1175077216, ref l_U899 );
        MARK_MODEL_AS_NO_LONGER_NEEDED( 1171614426 );
        MARK_MODEL_AS_NO_LONGER_NEEDED( -1175077216 );
        l_U1235 = 1;
        break;
        case 3:
        l_U1235 = 4;
        break;
        case 4:
        l_U1235 = 1;
        break;
        case 1:
        if (fVar5 < 25.00000000)
        {
            if (NOT l_U1237)
            {
                if (NOT (IS_CHAR_INJURED( l_U899 )))
                {
                    if (NOT (IS_CAR_DEAD( l_U925[2] )))
                    {
                        TASK_CAR_DRIVE_WANDER( l_U899, l_U925[2], 15.00000000, 2 );
                        SWITCH_CAR_SIREN( l_U925[2], 1 );
                        l_U1237 = 1;
                        MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U925[2] );
                    }
                }
            }
        }
        if (NOT (LOCATE_CHAR_ANY_MEANS_2D( sub_5707(), l_U967._fU0, l_U967._fU4, 100.00000000, 100.00000000, 0 )))
        {
            if (NOT (IS_WANTED_LEVEL_GREATER( sub_6521(), 0 )))
            {
                l_U882 = 1;
                l_U1235 = 2;
            }
            else if (NOT l_U1236)
            {
                PRINT_NOW( "FRANCIS6_16", 7500, 1 );
                l_U1236 = 1;
            }
        }
        if (IS_WANTED_LEVEL_GREATER( sub_6521(), 0 ))
        {
            if (NOT l_U1236)
            {
                PRINT( "FRANCIS6_16", 7500, 1 );
                l_U1236 = 1;
            }
        }
        break;
    }
    return;
}

void sub_63358(unknown uParam0, unknown uParam1)
{
    l_U1218[0] = {103, 292, 75};
    l_U1218[1] = {40.30000000, 293, 78.80001000};
    l_U1218[2] = {37.30000000, 369, 88.80000000};
    l_U1218[3] = {80, 325, 73.80000000};
    switch (l_U1217)
    {
        case 1:
        if (NOT (IS_CHAR_INJURED( (uParam0^) )))
        {
            if (NOT (IS_CAR_DEAD( (uParam1^) )))
            {
                TASK_HELI_MISSION( (uParam0^), (uParam1^), 0, 0, l_U1218[3]._fU0, l_U1218[3]._fU4, l_U1218[3]._fU8, 4, 20.00000000, 10, -1, 50, 100 );
            }
        }
        GET_GAME_TIMER( ref l_U1232 );
        l_U1231 = 20000;
        l_U1217 = 2;
        break;
        case 0:
        GENERATE_RANDOM_INT_IN_RANGE( 0, 100, ref l_U1231 );
        if ((l_U1231 < 25) AND (l_U1231 > 0))
        {
            l_U1233 = 0;
        }
        if ((l_U1231 < 50) AND (l_U1231 > 25))
        {
            l_U1233 = 1;
        }
        if ((l_U1231 < 75) AND (l_U1231 > 50))
        {
            l_U1233 = 2;
        }
        if ((l_U1231 < 100) AND (l_U1231 > 75))
        {
            l_U1233 = 3;
        }
        if (NOT (IS_CHAR_INJURED( (uParam0^) )))
        {
            if (NOT (IS_CAR_DEAD( (uParam1^) )))
            {
                TASK_HELI_MISSION( (uParam0^), (uParam1^), 0, 0, l_U1218[l_U1233]._fU0, l_U1218[l_U1233]._fU4, l_U1218[l_U1233]._fU8, 4, 20.00000000, 10, -1, 50, 100 );
            }
        }
        l_U1217 = 2;
        GENERATE_RANDOM_INT_IN_RANGE( 7500, 12500, ref l_U1231 );
        GET_GAME_TIMER( ref l_U1232 );
        break;
        case 2:
        if (sub_33858( l_U1231, l_U1232 ))
        {
            l_U1217 = 0;
        }
        break;
    }
    return;
}

void sub_63925()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;

    GET_CHAR_COORDINATES( sub_5707(), ref uVar2._fU0, ref uVar2._fU4, ref uVar2._fU8 );
    if (LOCATE_CHAR_ANY_MEANS_3D( sub_5707(), 86.42320000, 378.50190000, 18.10230000, 16.00000000, 7.00000000, 12.00000000, 0 ))
    {
        if (DOES_CHAR_EXIST( l_U893[0] ))
        {
            DELETE_CHAR( ref l_U893[0] );
        }
        if (DOES_CHAR_EXIST( l_U893[1] ))
        {
            DELETE_CHAR( ref l_U893[1] );
        }
        if (DOES_CHAR_EXIST( l_U893[2] ))
        {
            DELETE_CHAR( ref l_U893[2] );
        }
        if (DOES_CHAR_EXIST( l_U893[3] ))
        {
            DELETE_CHAR( ref l_U893[3] );
        }
    }
    if (DOES_CHAR_EXIST( l_U893[0] ))
    {
        if (NOT (IS_CHAR_INJURED( l_U893[0] )))
        {
            if (NOT (IS_CHAR_ON_SCREEN( l_U893[0] )))
            {
                DELETE_CHAR( ref l_U893[0] );
            }
        }
    }
    if (DOES_CHAR_EXIST( l_U893[1] ))
    {
        if (NOT (IS_CHAR_INJURED( l_U893[0] )))
        {
            if (NOT (IS_CHAR_ON_SCREEN( l_U893[1] )))
            {
                DELETE_CHAR( ref l_U893[1] );
            }
        }
    }
    return;
}

void sub_64901()
{
    if (NOT l_U865)
    {
        GET_CHAR_COORDINATES( sub_5707(), ref l_U636._fU0, ref l_U636._fU4, ref l_U636._fU8 );
    }
    if (LOCATE_CHAR_ANY_MEANS_3D( sub_5707(), l_U636._fU0, l_U636._fU4, l_U636._fU8, l_U639._fU0, l_U639._fU4, l_U639._fU8, 0 ))
    {
        GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( sub_5707(), l_U866._fU0, l_U866._fU4, l_U866._fU8, ref l_U642._fU0, ref l_U642._fU4, ref l_U642._fU8 );
        GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( sub_5707(), l_U869._fU0, l_U869._fU4, l_U869._fU8, ref l_U645._fU0, ref l_U645._fU4, ref l_U645._fU8 );
        SET_CHAR_ANGLED_DEFENSIVE_AREA( sub_5707(), l_U642._fU0, l_U642._fU4, l_U642._fU8, l_U645._fU0, l_U645._fU4, l_U645._fU8, l_U648 );
        IS_CHAR_IN_ANGLED_AREA_3D( sub_5707(), l_U642._fU0, l_U642._fU4, l_U642._fU8, l_U645._fU0, l_U645._fU4, l_U645._fU8, l_U648, 0 );
    }
    if (l_U649)
    {
        sub_65243();
    }
    if (l_U655)
    {
        sub_65731();
    }
    return;
}

void sub_65243()
{
    SAVE_NEWLINE_TO_DEBUG_FILE();
    SAVE_STRING_TO_DEBUG_FILE( "ADJUST THE LOCATE POS  " );
    SAVE_FLOAT_TO_DEBUG_FILE( l_U636._fU0 );
    SAVE_STRING_TO_DEBUG_FILE( ", " );
    SAVE_FLOAT_TO_DEBUG_FILE( l_U636._fU4 );
    SAVE_STRING_TO_DEBUG_FILE( ", " );
    SAVE_FLOAT_TO_DEBUG_FILE( l_U636._fU8 );
    SAVE_STRING_TO_DEBUG_FILE( ", " );
    SAVE_FLOAT_TO_DEBUG_FILE( l_U639._fU0 );
    SAVE_STRING_TO_DEBUG_FILE( ", " );
    SAVE_FLOAT_TO_DEBUG_FILE( l_U639._fU4 );
    SAVE_STRING_TO_DEBUG_FILE( ", " );
    SAVE_FLOAT_TO_DEBUG_FILE( l_U639._fU8 );
    SAVE_STRING_TO_DEBUG_FILE( ")" );
    SAVE_NEWLINE_TO_DEBUG_FILE();
    SAVE_STRING_TO_DEBUG_FILE( "DEFENSIVE AREA  " );
    SAVE_STRING_TO_DEBUG_FILE( "<< " );
    SAVE_FLOAT_TO_DEBUG_FILE( l_U642._fU0 );
    SAVE_STRING_TO_DEBUG_FILE( ", " );
    SAVE_FLOAT_TO_DEBUG_FILE( l_U642._fU4 );
    SAVE_STRING_TO_DEBUG_FILE( ", " );
    SAVE_FLOAT_TO_DEBUG_FILE( l_U642._fU8 );
    SAVE_STRING_TO_DEBUG_FILE( ">> " );
    SAVE_STRING_TO_DEBUG_FILE( ", " );
    SAVE_STRING_TO_DEBUG_FILE( "<< " );
    SAVE_FLOAT_TO_DEBUG_FILE( l_U645._fU0 );
    SAVE_STRING_TO_DEBUG_FILE( ", " );
    SAVE_FLOAT_TO_DEBUG_FILE( l_U645._fU4 );
    SAVE_STRING_TO_DEBUG_FILE( ", " );
    SAVE_FLOAT_TO_DEBUG_FILE( l_U645._fU8 );
    SAVE_STRING_TO_DEBUG_FILE( ">> " );
    SAVE_STRING_TO_DEBUG_FILE( ", " );
    SAVE_FLOAT_TO_DEBUG_FILE( l_U648 );
    SAVE_NEWLINE_TO_DEBUG_FILE();
    l_U649 = 0;
    return;
}

void sub_65731()
{
    SAVE_NEWLINE_TO_DEBUG_FILE();
    SAVE_STRING_TO_DEBUG_FILE( "VEHICLE  " );
    SAVE_INT_TO_DEBUG_FILE( l_U650 );
    SAVE_STRING_TO_DEBUG_FILE( ", " );
    SAVE_FLOAT_TO_DEBUG_FILE( l_U651._fU0 );
    SAVE_STRING_TO_DEBUG_FILE( ", " );
    SAVE_FLOAT_TO_DEBUG_FILE( l_U651._fU4 );
    SAVE_STRING_TO_DEBUG_FILE( ", " );
    SAVE_FLOAT_TO_DEBUG_FILE( l_U651._fU8 );
    SAVE_STRING_TO_DEBUG_FILE( ", " );
    SAVE_FLOAT_TO_DEBUG_FILE( l_U654 );
    SAVE_NEWLINE_TO_DEBUG_FILE();
    l_U655 = 0;
    return;
}

void sub_65913(unknown uParam0)
{
    if (l_U824)
    {
        if (l_U825 != l_U826)
        {
            l_U825 = l_U826;
            l_U833 = 1;
            REMOVE_BLIP( l_U839 );
        }
        if (l_U833)
        {
            if (DOES_CHAR_EXIST( (uParam0^)[l_U826] ))
            {
                if (NOT (IS_CHAR_DEAD( (uParam0^)[l_U826] )))
                {
                    GET_CHAR_COORDINATES( (uParam0^)[l_U826], ref l_U827._fU0, ref l_U827._fU4, ref l_U827._fU8 );
                    ADD_BLIP_FOR_CHAR( (uParam0^)[l_U826], ref l_U839 );
                    CHANGE_BLIP_COLOUR( l_U839, 2 );
                }
            }
            l_U833 = 0;
        }
        if (DOES_CHAR_EXIST( (uParam0^)[l_U826] ))
        {
            if (NOT (IS_CHAR_DEAD( (uParam0^)[l_U826] )))
            {
                SET_CHAR_COORDINATES( (uParam0^)[l_U826], l_U827._fU0, l_U827._fU4, l_U827._fU8 - 1.00000000 );
                SET_CHAR_ROTATION( (uParam0^)[l_U826], l_U830._fU0, l_U830._fU4, l_U830._fU8 );
            }
        }
    }
    l_U838 = l_U836;
    if (DOES_CHAR_EXIST( (uParam0^)[l_U826] ))
    {
        if (l_U834)
        {
            if (NOT (IS_CHAR_DEAD( (uParam0^)[l_U826] )))
            {
                GET_CHAR_COORDINATES( (uParam0^)[l_U826], ref l_U827._fU0, ref l_U827._fU4, ref l_U827._fU8 );
                SWITCH_PED_TO_RAGDOLL( (uParam0^)[l_U826], 0, 5000, 2, 1, 1, 0 );
                APPLY_FORCE_TO_PED( (uParam0^)[l_U826], 1, l_U673, l_U676, l_U838, l_U679, l_U680, l_U681 );
                l_U834 = 0;
                l_U824 = 0;
            }
        }
    }
    if (l_U835)
    {
        if (NOT (IS_CHAR_DEAD( (uParam0^)[l_U826] )))
        {
            SET_CHAR_COORDINATES( (uParam0^)[l_U826], l_U827._fU0, l_U827._fU4, l_U827._fU8 - 1.00000000 );
            SET_CHAR_ROTATION( (uParam0^)[l_U826], l_U830._fU0, l_U830._fU4, l_U830._fU8 );
            l_U824 = 1;
            l_U835 = 0;
        }
    }
    return;
}

