void main()
{
    l_U0 = 0;
    l_U1 = 1;
    l_U2 = 3;
    l_U102 = 0;
    l_U103 = 0;
    l_U104 = 0;
    l_U105 = 0;
    l_U106 = 0;
    l_U107 = 0;
    l_U108 = 0;
    l_U109 = 0;
    l_U110 = 0;
    l_U111 = 0;
    l_U112 = 0;
    l_U113 = 0;
    ProtectedSet(l_U114, 0);
    ProtectedSet(l_U115, 0);
    l_U116 = 0;
    l_U117 = 0;
    ProtectedSet(l_U178, 0.00000000);
    ProtectedSet(l_U179, 0.00000000);
    l_U196 = 0;
    l_U197 = 0;
    l_U198 = 0;
    l_U199 = 0;
    l_U200 = 0;
    l_U201 = 1;
    l_U202 = 0;
    l_U203 = 0;
    l_U204 = 0;
    l_U205 = 1;
    l_U206 = 0;
    l_U207 = 0;
    l_U208 = 0;
    l_U209 = 0;
    l_U210 = 0;
    l_U211 = 0;
    l_U212 = 0;
    l_U213 = 0;
    l_U214 = 0;
    l_U215 = 1;
    l_U216 = 0;
    l_U217 = 0;
    l_U218 = 0;
    l_U219 = 0;
    l_U220 = 0;
    l_U221 = 0;
    l_U222 = 0;
    l_U223 = 1;
    l_U224 = 1;
    l_U225 = 0;
    l_U226 = 0;
    l_U227 = 0;
    l_U228 = 0;
    l_U229 = 0;
    l_U230 = 0;
    l_U231 = 0;
    l_U291 = 90.00000000;
    l_U292 = 5.00000000;
    l_U293 = 25.00000000;
    l_U294 = 15.00000000;
    l_U295 = 2.00000000;
    l_U296 = 4.00000000;
    l_U297 = 0.50000000;
    l_U298 = 120.00000000;
    l_U299 = 0.00000000;
    l_U300 = 0.00000000;
    l_U302 = 1.00000000;
    l_U303 = 0.00000000;
    l_U304 = 1.00000000;
    l_U305 = 10.00000000;
    l_U306 = 30.00000000;
    l_U308 = 1.00000000;
    l_U310 = 1.00000000;
    l_U311 = 5.00000000;
    l_U312 = 1.00000000;
    l_U313 = 1.00000000;
    l_U318 = 0.30000000;
    l_U319 = 0.50000000;
    l_U320 = 50.00000000;
    l_U331 = 0;
    l_U332 = 0;
    l_U333 = 0;
    l_U334 = 0;
    l_U335 = 1;
    l_U336 = 0;
    l_U337 = 0;
    l_U338 = 0;
    l_U339 = 0;
    l_U340 = -1;
    l_U341 = 0;
    l_U342 = 0;
    l_U343 = 0;
    l_U344 = 0;
    l_U345 = 0;
    l_U346 = 0;
    l_U347 = 0;
    l_U410 = 0;
    l_U411 = 0;
    l_U419 = 0;
    l_U436 = -1;
    l_U440 = 0;
    l_U441 = 1;
    l_U442 = 1;
    l_U450 = 150.00000000;
    l_U540 = 0;
    l_U541 = 150.00000000;
    l_U591 = 0;
    l_U810 = 0;
    l_U811 = 0;
    l_U812 = 0;
    l_U813 = 0;
    l_U814 = 0;
    l_U815 = 0;
    l_U816 = 0;
    l_U817 = 0;
    l_U818 = 0;
    l_U819 = 0;
    l_U820 = 0;
    l_U821 = 0;
    l_U822 = 0;
    l_U823 = 0;
    l_U824 = 0;
    l_U825 = 0;
    l_U826 = 0;
    l_U827 = 0;
    l_U828 = 0;
    l_U829 = 0;
    l_U834 = 0;
    l_U835 = 0;
    l_U836 = 0;
    l_U837 = 0;
    l_U838 = 0;
    l_U839 = 0;
    l_U840 = 0;
    l_U841 = 0;
    l_U842 = 0;
    l_U843 = 0;
    l_U844 = 0;
    l_U845 = 0;
    l_U846 = 0;
    l_U847 = 0;
    l_U848 = 0;
    l_U849 = 0;
    l_U850 = 0;
    l_U851 = 0;
    l_U852 = 0;
    l_U853 = 0;
    l_U854 = 0;
    l_U855 = 0;
    l_U856 = 0;
    l_U857 = 0;
    l_U858 = 0;
    l_U859 = 0;
    l_U860 = 0;
    l_U861 = 0;
    l_U862 = 0;
    l_U863 = 0;
    l_U864 = 0;
    l_U865 = 0;
    l_U866 = 0;
    l_U867 = 0;
    l_U868 = 0;
    l_U869 = 0;
    l_U870 = 0;
    l_U871 = 0;
    l_U872 = 0;
    l_U873 = 0;
    l_U874 = 0;
    l_U875 = 0;
    l_U876 = 0;
    l_U877 = 0;
    l_U878 = 0;
    l_U879 = 0;
    l_U880 = 0;
    l_U881 = 0;
    l_U882 = 0;
    l_U883 = 0;
    l_U884 = 0;
    l_U885 = 0;
    l_U886 = 0;
    l_U887 = 0;
    l_U888 = 0;
    l_U889 = 0;
    l_U890 = 0;
    l_U891 = 0;
    l_U892 = 0;
    l_U893 = 0;
    l_U894 = 0;
    l_U895 = 0;
    l_U896 = 0;
    l_U897 = 0;
    l_U898 = 0;
    l_U899 = 0;
    l_U900 = 0;
    l_U901 = 0;
    l_U902 = 0;
    l_U903 = 0;
    l_U904 = 0;
    l_U905 = 0;
    l_U906 = 0;
    l_U907 = 0;
    l_U908 = 0;
    l_U909 = 0;
    l_U910 = 0;
    l_U911 = 0;
    l_U912 = 0;
    l_U913 = 0;
    l_U914 = 0;
    l_U915 = 0;
    l_U916 = 0;
    l_U917 = 0;
    l_U992 = 0;
    l_U993 = 1;
    l_U994 = 0;
    l_U995 = 0;
    l_U1009 = -1;
    l_U1013 = 0;
    l_U1014 = 0;
    l_U1015 = 0;
    l_U1036 = 0;
    l_U1070 = 0;
    l_U1071 = 0;
    l_U1072 = 0;
    l_U1512 = 35;
    l_U1535 = 1064455782;
    l_U1572 = 18;
    if (HAS_DEATHARREST_EXECUTED())
    {
        sub_1492();
        sub_3602();
    }
    SET_MISSION_FLAG( 1 );
    while (true)
    {
        WAIT( 0 );
        sub_4333();
        switch (l_U810)
        {
            case 0:
            sub_9173();
            break;
            case 1:
            sub_15236();
            break;
            case 2:
            if (NOT l_U854)
            {
                sub_32732( ref l_U919[0] );
            }
            sub_33410();
            break;
            case 3:
            sub_45424();
            break;
            case 4:
            sub_46526();
            break;
            case 5:
            sub_63316();
            break;
            case 6:
            sub_65830();
            break;
        }
        if (IS_KEYBOARD_KEY_PRESSED( 31 ))
        {
            sub_51227();
        }
        if ((NOT l_U879) AND (IS_KEYBOARD_KEY_PRESSED( 37 )))
        {
            if (IS_VEH_DRIVEABLE( l_U942 ))
            {
                SET_CAR_HEALTH( l_U942, 1 );
                SET_PETROL_TANK_HEALTH( l_U942, 1 );
                SET_ENGINE_HEALTH( l_U942, 1 );
                l_U879 = 1;
            }
        }
        if ((NOT l_U886) AND (IS_KEYBOARD_KEY_PRESSED( 44 )))
        {
            if (IS_VEH_DRIVEABLE( l_U945 ))
            {
                SET_CAR_HEALTH( l_U945, 1 );
                SET_PETROL_TANK_HEALTH( l_U945, 1 );
                SET_ENGINE_HEALTH( l_U945, 1 );
                l_U886 = 1;
            }
        }
    }
    return;
}

void sub_1492()
{
    sub_1501();
    return;
}

void sub_1501()
{
    int iVar2;

    iVar2 = 18;
    sub_1515( iVar2 );
    sub_2691( iVar2 );
    return;
}

void sub_1515(unknown uParam0)
{
    int iVar3;
    boolean bVar4;
    unknown uVar5;

    iVar3 = g_U13391[uParam0]._fU0._fU56;
    bVar4 = iVar3 == 6;
    if (g_U813)
    {
        sub_1559();
        sub_1720();
    }
    else if (NOT g_U10981[uParam0]._fU12)
    {
        if (NOT bVar4)
        {
            sub_1828();
            sub_1867();
        }
    }
    sub_1943();
    sub_2044();
    uVar5 = sub_2157( uParam0 );
    sub_2598( uVar5, 0 );
    return;
}

void sub_1559()
{
    sub_1573( g_U9931 );
    if (NOT g_U9893._fU24)
    {
        sub_1673();
    }
    return;
}

void sub_1573(int iParam0)
{
    int iVar3;

    if (g_U0)
    {
        return;
    }
    if (iParam0 == -1)
    {
        return;
    }
    iVar3 = g_U26758[iParam0]._fU100;
    iVar3--;
    g_U26758[iParam0]._fU100 = iVar3;
    DECREMENT_INT_STAT( 255, 1 );
    return;
}

void sub_1673()
{
    if (g_U0)
    {
        return;
    }
    DECREMENT_INT_STAT( 256, 1 );
    return;
}

void sub_1720()
{
    sub_1729();
    return;
}

void sub_1729()
{
    if (COMPARE_STRING( ref g_U9926, "" ))
    {
        return;
    }
    PLAYSTATS_MISSION_CANCELLED( ref g_U9926 );
    StrCopy( ref g_U9926, "", 16 );
    return;
}

void sub_1828()
{
    if (g_U0)
    {
        return;
    }
    INCREMENT_INT_STAT_NO_MESSAGE( 254, 1 );
    return;
}

void sub_1867()
{
    sub_1876();
    return;
}

void sub_1876()
{
    if (COMPARE_STRING( ref g_U9926, "" ))
    {
        return;
    }
    PLAYSTATS_MISSION_FAILED( ref g_U9926 );
    StrCopy( ref g_U9926, "", 16 );
    return;
}

void sub_1943()
{
    int I;

    I = 0;
    for ( I = 0; I < 28; I++ )
    {
        if (g_U10981[I]._fU144._fU36)
        {
            g_U10981[I]._fU28 = 1;
        }
        g_U10981[I]._fU144._fU36 = 0;
    }
    return;
}

void sub_2044()
{
    int iVar2;
    int iVar3;

    iVar2 = 0;
    GET_GAME_TIMER( ref iVar2 );
    iVar3 = iVar2 + sub_2066();
    if (iVar3 > g_U63988._fU4)
    {
        g_U63988._fU4 = iVar3;
        g_U63988._fU8 = iVar2;
    }
    return;
}

int sub_2066()
{
    if (g_U15654[8])
    {
        return 27000;
    }
    return 15000;
}

int sub_2157(unknown uParam0)
{
    switch (uParam0)
    {
        case 0: return 0;
        case 1: return 1;
        case 2: return 2;
        case 3: return 3;
        case 4: return 4;
        case 5: return 5;
        case 6: return 6;
        case 7: return 7;
        case 8: return 8;
        case 9: return 9;
        case 10: return 10;
        case 11: return 11;
        case 12: return 12;
        case 13: return 13;
        case 14: return 14;
        case 15: return 15;
        case 16: return 16;
        case 17: return 17;
        case 18: return 18;
        case 19: return 19;
        case 20: return 22;
        case 21: return 20;
        case 22: return 21;
    }
    PRINTSTRING( "UNKNOWN STRAND ID: " );
    PRINTINT( uParam0 );
    PRINTNL();
    sub_2556( "Flow_public: Return_Contact_From_Strand(): Unknown strand" );
    return 57;
}

void sub_2556(unknown uParam0)
{
    SCRIPT_ASSERT( uParam0 );
    return;
}

void sub_2598(int iParam0, boolean bParam1)
{
    int iVar4;

    if (NOT (iParam0 < 57))
    {
        return;
    }
    iVar4 = 0;
    GET_GAME_TIMER( ref iVar4 );
    g_U26671[iParam0] = iVar4;
    if (bParam1)
    {
        g_U26671[iParam0] += 30000;
    }
    return;
}

void sub_2691(int iParam0)
{
    int iVar3;
    boolean bVar4;

    sub_2700();
    if (g_U0)
    {
        return;
    }
    if (g_U91._fU40 == 0)
    {
        return;
    }
    if (NOT g_U10978)
    {
        return;
    }
    iVar3 = g_U13391[iParam0]._fU0._fU56;
    bVar4 = iVar3 == 6;
    if (bVar4)
    {
        return;
    }
    if (g_U10981[iParam0]._fU12)
    {
        return;
    }
    if (g_U9893._fU40 == -1)
    {
        return;
    }
    if (NOT (g_U9893._fU40 == iParam0))
    {
        return;
    }
    if (NOT g_U813)
    {
        sub_3475();
        g_U9893._fU4 = 1;
    }
    return;
}

void sub_2700()
{
    int I;

    for ( I = 0; I <= (g_U569 - 1); I++ )
    {
        if ((g_U569[I]._fU20) AND ((sub_2738( 5, g_U569[I] )) == 1))
        {
            if ((sub_2738( 1, g_U569[I] )) != 0)
            {
                sub_3024( I );
            }
        }
    }
    if (NOT sub_3190())
    {
        SET_MESSAGES_WAITING( 0 );
        g_U91._fU404 = 1000;
    }
    if (g_U91._fU0 == 1014)
    {
        g_U91._fU92 = 1;
    }
    return;
}

int sub_2738(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
    switch (uParam0)
    {
        case 0:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 14, 23 );
        break;
        case 1:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 0, 13 );
        break;
        case 2:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 14, 27 );
        break;
        case 3:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 0, 13 );
        break;
        case 4:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 24, 27 );
        break;
        case 5:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 28, 31 );
        break;
        case 6:
        return uParam1._fU0[2];
        break;
    }
    return -1;
}

void sub_3024(int iParam0)
{
    int I;

    if (iParam0 < (g_U569 - 1))
    {
        for ( I = iParam0 + 1; I <= (g_U569 - 1); I++ )
        {
            g_U569[I - 1] = {g_U569[I]};
        }
    }
    sub_3109( g_U569 - 1 );
    return;
}

void sub_3109(unknown uParam0)
{
    g_U569[uParam0]._fU0[0] = -1;
    g_U569[uParam0]._fU0[1] = -1;
    g_U569[uParam0]._fU0[2] = -1;
    return;
}

int sub_3190()
{
    int I;

    for ( I = 0; I <= (g_U569 - 1); I++ )
    {
        if ((sub_2738( 4, g_U569[I] )) == 0)
        {
            return 1;
        }
    }
    return 0;
}

void sub_3475()
{
    g_U9893._fU4 = 0;
    g_U9893._fU8 = 0;
    g_U9893._fU12 = 0;
    g_U9893._fU16 = 0;
    g_U9893._fU20 = 0;
    g_U9893._fU28 = 0;
    g_U9893._fU32 = 0;
    g_U9893._fU36 = 0;
    g_U9893._fU48 = 0;
    return;
}

void sub_3602()
{
    FORCE_WIND( -1.00000000 );
    RELEASE_WEATHER();
    SWITCH_RANDOM_BOATS( 1 );
    if (IS_PLAYER_PLAYING( sub_3639() ))
    {
        SET_PLAYER_CONTROL( sub_3639(), 1 );
    }
    sub_3696( 0 );
    sub_3836();
    if (DOES_CHAR_EXIST( l_U919[1] ))
    {
        if (NOT (IS_CHAR_INJURED( l_U919[1] )))
        {
            if (IS_PED_ATTACHED_TO_ANY_CAR( l_U919[1] ))
            {
                DETACH_PED( l_U919[1], 1 );
            }
        }
    }
    if (DOES_CHAR_EXIST( l_U918 ))
    {
        if (NOT (IS_CHAR_INJURED( l_U918 )))
        {
            if (IS_PED_ATTACHED_TO_ANY_CAR( l_U918 ))
            {
                DETACH_PED( l_U918, 1 );
            }
        }
    }
    if (DOES_CHAR_EXIST( sub_4129() ))
    {
        if (NOT (IS_CHAR_INJURED( sub_4129() )))
        {
            if (IS_PED_ATTACHED_TO_ANY_CAR( sub_4129() ))
            {
                DETACH_PED( sub_4129(), 1 );
            }
        }
    }
    g_U10981[7]._fU144._fU32 = l_U905;
    g_U9890 = 0;
    sub_4259();
    TERMINATE_THIS_SCRIPT();
    return;
}

void sub_3639()
{
    return CONVERT_INT_TO_PLAYERINDEX( GET_PLAYER_ID() );
}

void sub_3696(unknown uParam0)
{
    PRINTSTRING( "\n KILL_ANY_MISSION_SPEECH CALLED***************************************" );
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if ((g_U8392 <= 8) AND (g_U8392 >= 4))
        {
            ABORT_SCRIPTED_CONVERSATION( uParam0 );
        }
    }
    return;
}

void sub_3836()
{
    if (l_U105)
    {
        PRINTNL();
        PRINTSTRING( "**** CALLED KILL_CHASE_HINT_CAM()" );
    }
    if (IS_HINT_RUNNING())
    {
        HINT_CAM( 0.00000000, 0.00000000, 0.00000000, 0, 0, 0, 0 );
        SET_HINT_TIMES_DEFAULT();
        SET_HINT_FOV( -1 );
    }
    l_U103 = 0;
    l_U102 = 0;
    SET_CINEMATIC_BUTTON_ENABLED( 1 );
    return;
}

void sub_4129()
{
    unknown Result;

    GET_PLAYER_CHAR( CONVERT_INT_TO_PLAYERINDEX( GET_PLAYER_ID() ), ref Result );
    return Result;
}

void sub_4259()
{
    g_U91._fU100 = 0;
    g_U91._fU104 = 0;
    return;
}

void sub_4333()
{
    if (NOT l_U901)
    {
        if (sub_4357( ref l_U918 ))
        {
            sub_3696( 0 );
            CLEAR_PRINTS();
            PRINT_NOW( "BER3_FAL1", 7500, 1 );
            sub_4444();
        }
        if (sub_4726( ref l_U942 ))
        {
            CLEAR_PRINTS();
            sub_3696( 0 );
            sub_4817( "BC3_OOPS", ref l_U1573[0], 4, 1 );
            PRINT_NOW( "BER3_FAL4", 7500, 1 );
            GET_GAME_TIMER( ref l_U1008 );
            l_U810 = 6;
            return;
        }
        switch (l_U821)
        {
            case 0:
            sub_5849();
            if ((sub_6898( ref l_U918 )) > 200)
            {
                if (DOES_CHAR_EXIST( l_U918 ))
                {
                    if (NOT (IS_CHAR_ON_SCREEN( l_U918 )))
                    {
                        sub_3696( 0 );
                        PRINT_NOW( "BER3_LOS2", 7500, 1 );
                        sub_4444();
                    }
                }
            }
            break;
            case 1:
            if (NOT l_U854)
            {
                if (sub_7571())
                {
                    break;
                }
                if (sub_8422())
                {
                    break;
                }
                if (sub_5849())
                {
                    break;
                }
            }
            if (l_U854)
            {
                if ((sub_8858( ref l_U919[1] )) || (sub_8858( ref l_U919[0] )))
                {
                    sub_3696( 0 );
                    CLEAR_PRINTS();
                    if ((NOT (IS_CHAR_INJURED( l_U919[1] ))) AND (NOT (IS_CHAR_INJURED( l_U919[0] ))))
                    {
                        PRINT( "BER3_FAL3", 7500, 1 );
                    }
                    else
                    {
                        PRINT( "BER3_FAL3b", 7500, 1 );
                    }
                    GET_GAME_TIMER( ref l_U1008 );
                    l_U810 = 5;
                    break;
                }
            }
            break;
        }
    }
    return;
}

int sub_4357(unknown uParam0)
{
    if (DOES_CHAR_EXIST( (uParam0^) ))
    {
        return IS_CHAR_INJURED( (uParam0^) );
    }
    return 0;
}

void sub_4444()
{
    if (DOES_VEHICLE_EXIST( l_U945 ))
    {
        if (IS_VEH_DRIVEABLE( l_U945 ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U945 ))
            {
                STOP_PLAYBACK_RECORDED_CAR( l_U945 );
            }
        }
    }
    if (g_U65005 < 2)
    {
        g_U65005++;
    }
    SET_PLAYER_MOOD_PISSED_OFF( sub_3639(), 150 );
    SAY_AMBIENT_SPEECH( sub_4129(), "MISSION_FAIL_RAGE", 0, 0, 0 );
    sub_4596();
    sub_3602();
    return;
}

void sub_4596()
{
    sub_4605();
    return;
}

void sub_4605()
{
    int iVar2;

    iVar2 = 18;
    sub_4619( iVar2 );
    sub_2691( iVar2 );
    return;
}

void sub_4619(unknown uParam0)
{
    if (g_U10981[uParam0]._fU12)
    {
        return;
    }
    SET_PLAYER_MOOD_PISSED_OFF( sub_3639(), 150 );
    CLEAR_HELP();
    sub_1515( uParam0 );
    return;
}

int sub_4726(unknown uParam0)
{
    if (DOES_VEHICLE_EXIST( (uParam0^) ))
    {
        if (NOT (IS_VEH_DRIVEABLE( (uParam0^) )))
        {
            return 1;
        }
    }
    return 0;
}

void sub_4817(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    return sub_4838( uParam0, ref l_U4._fU0, uParam1, uParam2, uParam3 );
}

void sub_4838(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    char[16] cVar7;
    char[12] cVar11;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    StrCopy( ref cVar7, uParam1, 16 );
    array(ref cVar11, 2);
    StrCopy( ref cVar11[0], uParam0, 16 );
    StrCopy( ref cVar11[1], "END", 16 );
    return sub_4892( ref cVar11, uParam2, uParam3, 0, 0, 0, 0, ref cVar7, uParam4 );
}

int sub_4892(unknown uParam0, int iParam1, unknown uParam2, boolean bParam3, boolean bParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    int I;
    int iVar12;

    iVar12 = 0;
    iParam1->_fU0 = uParam2;
    if (NOT (sub_4914( iParam1 )))
    {
        return 0;
    }
    l_U4._fU384 = 0;
    iParam1->_fU16 = 0;
    iParam1->_fU20 = uParam5;
    if (bParam3)
    {
        if (iParam1->_fU12)
        {
            iVar12 = iParam1->_fU8;
            iParam1->_fU12 = 0;
        }
    }
    else
    {
        iParam1->_fU12 = 0;
        if (bParam4)
        {
            iVar12 = uParam6;
            iParam1->_fU8 = uParam6;
            iParam1->_fU12 = 0;
        }
        else
        {
            iParam1->_fU8 = 0;
            iParam1->_fU12 = 0;
        }
    }
    iParam1->_fU16 = bParam4;
    for ( I = 0; I <= (g_U8499 - 1); I++ )
    {
        StrCopy( ref g_U8499[I], "END", 16 );
    }
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        g_U8499[I] = {(uParam0^)[I]};
    }
    g_U8493 = {(iParam1^)};
    sub_5602( ref g_U8395, ref l_U4 );
    StrCopy( ref g_U8395._fU0, uParam7, 16 );
    g_U8395._fU388 = uParam8;
    g_U8394 = 1;
    return 1;
}

int sub_4914(int iParam0)
{
    if (IS_MOBILE_PHONE_CALL_ONGOING())
    {
        sub_4991( "\n !!!!! CANT PLAY SPEECH MOBILE PHONE CALL IS PLAYING" );
        return 0;
    }
    if (IS_THREAD_ACTIVE( g_U556[1] ))
    {
        switch (g_U91._fU0)
        {
            case 1010:
            case 1001:
            case 1000: break;
            default:
            sub_4991( "\n !!!!! CANT PLAY SPEECH CALLING SCRIPT IS STILL ACTIVE" );
            return 0;
            break;
        }
    }
    switch (g_U8394)
    {
        case 4:
        case 1:
        case 2:
        return 0;
        break;
    }
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if (g_U8392 > iParam0->_fU0)
        {
            sub_4991( "\n !!!!! CANT PLAY SPEECH CURRENT SPEECH HAS HIGHER PRIORITY" );
            return 0;
        }
        ABORT_SCRIPTED_CONVERSATION( 0 );
    }
    g_U8392 = iParam0->_fU0;
    g_U8393++;
    if (g_U8393 > 100000)
    {
        g_U8393 = 1;
    }
    iParam0->_fU4 = g_U8393;
    return 1;
}

void sub_4991(unknown uParam0)
{
    return;
}

void sub_5602(int iParam0, int iParam1)
{
    int I;

    iParam0->_fU0 = {iParam1->_fU0};
    for ( I = 0; I <= 8; I++ )
    {
        iParam0->_fU16[I] = {iParam1->_fU16[I]};
        iParam0->_fU344[I] = iParam1->_fU344[I];
    }
    iParam0->_fU384 = iParam1->_fU384;
    iParam0->_fU388 = iParam1->_fU388;
    return;
}

int sub_5849()
{
    if (DOES_VEHICLE_EXIST( l_U942 ))
    {
        if (IS_VEH_DRIVEABLE( l_U942 ))
        {
            if (NOT (IS_CHAR_INJURED( l_U918 )))
            {
                if (CHECK_STUCK_TIMER( l_U942, 0, 5000 ))
                {
                    sub_3696( 0 );
                    CLEAR_PRINTS();
                    if (l_U821 == 1)
                    {
                        PRINT_NOW( "BER3_FAL7", 7500, 1 );
                    }
                    else
                    {
                        PRINT_NOW( "BER3_FAL6", 7500, 1 );
                    }
                    GET_GAME_TIMER( ref l_U1008 );
                    l_U810 = 6;
                    return 1;
                }
                if (NOT l_U854)
                {
                    if (sub_6051( ref l_U942, ref l_U903, ref l_U1065 ))
                    {
                        sub_3696( 0 );
                        CLEAR_PRINTS();
                        sub_4817( "BC3_OOPS", ref l_U1573[0], 4, 1 );
                        if (l_U907)
                        {
                            PRINT_NOW( "BER3_FAL5B", 7500, 1 );
                        }
                        else
                        {
                            PRINT_NOW( "BER3_FAL4", 7500, 1 );
                        }
                        GET_GAME_TIMER( ref l_U1008 );
                        l_U907 = 1;
                        l_U810 = 6;
                        return 1;
                    }
                    if (l_U896)
                    {
                        if ((CHECK_STUCK_TIMER( l_U942, 1, 40000 )) || ((CHECK_STUCK_TIMER( l_U942, 2, 30000 )) || (CHECK_STUCK_TIMER( l_U942, 3, 60000 ))))
                        {
                            sub_3696( 0 );
                            CLEAR_PRINTS();
                            PRINT_NOW( "BER3_FAL5", 7500, 1 );
                            GET_GAME_TIMER( ref l_U1008 );
                            l_U810 = 5;
                            return 1;
                        }
                    }
                    else if ((CHECK_STUCK_TIMER( l_U942, 1, 40000 )) || ((CHECK_STUCK_TIMER( l_U942, 2, 30000 )) || (CHECK_STUCK_TIMER( l_U942, 3, 60000 ))))
                    {
                        sub_3696( 0 );
                        CLEAR_PRINTS();
                        PRINT_NOW( "BER3_FAL5b", 7500, 1 );
                        GET_GAME_TIMER( ref l_U1008 );
                        l_U810 = 5;
                        return 1;
                    }
                    if (sub_6637( l_U942 ))
                    {
                        sub_3696( 0 );
                        CLEAR_PRINTS();
                        PRINT_NOW( "BER3_LOS2", 7500, 1 );
                        GET_GAME_TIMER( ref l_U1008 );
                        l_U810 = 5;
                        return 1;
                    }
                }
                else if (((sub_6898( ref l_U919[2] )) > 120) || (((sub_6898( ref l_U919[1] )) > 120) || ((sub_6898( ref l_U919[0] )) > 120)))
                {
                    if (sub_6051( ref l_U942, ref l_U903, ref l_U1065 ))
                    {
                        sub_3696( 0 );
                        CLEAR_PRINTS();
                        sub_4817( "BC3_OOPS", ref l_U1573[0], 4, 1 );
                        l_U907 = 1;
                        if (l_U907)
                        {
                            PRINT_NOW( "BER3_FAL5B", 7500, 1 );
                        }
                        GET_GAME_TIMER( ref l_U1008 );
                        l_U810 = 6;
                        return 1;
                    }
                    if ((CHECK_STUCK_TIMER( l_U942, 1, 40000 )) || ((CHECK_STUCK_TIMER( l_U942, 2, 30000 )) || (CHECK_STUCK_TIMER( l_U942, 3, 60000 ))))
                    {
                        sub_3696( 0 );
                        CLEAR_PRINTS();
                        PRINT_NOW( "BER3_FAL5", 7500, 1 );
                        GET_GAME_TIMER( ref l_U1008 );
                        l_U810 = 5;
                        return 1;
                    }
                }
            }
        }
        else
        {
            sub_3696( 0 );
            CLEAR_PRINTS();
            sub_4817( "BC3_OOPS", ref l_U1573[0], 4, 1 );
            if (l_U907)
            {
                PRINT_NOW( "BER3_FAL5B", 7500, 1 );
            }
            else
            {
                PRINT_NOW( "BER3_FAL4", 7500, 1 );
            }
            l_U810 = 6;
            return 1;
        }
    }
    return 0;
}

int sub_6051(unknown uParam0, unknown uParam1, unknown uParam2)
{
    if (DOES_VEHICLE_EXIST( (uParam0^) ))
    {
        if (IS_VEH_DRIVEABLE( (uParam0^) ))
        {
            if (NOT (IS_CAR_IN_WATER( (uParam0^) )))
            {
                if (NOT (uParam1^))
                {
                    GET_GAME_TIMER( uParam2 );
                    (uParam1^) = 1;
                }
                else
                {
                    PRINTSTRING( "water timer" );
                    PRINTNL();
                    if (sub_6166( uParam2, 10000 ))
                    {
                        return 1;
                    }
                }
            }
            else if ((uParam1^))
            {
                (uParam1^) = 0;
            }
        }
    }
    return 0;
}

int sub_6166(unknown uParam0, int iParam1)
{
    GET_GAME_TIMER( ref l_U113 );
    if ((l_U113 - (uParam0^)) > iParam1)
    {
        return 1;
    }
    return 0;
}

int sub_6637(unknown uParam0)
{
    int iVar3;

    if (g_U9079 == 0)
    {
        if (IS_VEH_DRIVEABLE( uParam0 ))
        {
            if (NOT (IS_CHAR_IN_CAR( sub_4129(), uParam0 )))
            {
                if (NOT (LOCATE_CHAR_ANY_MEANS_CAR_2D( sub_4129(), uParam0, 100.00000000, 100.00000000, 0 )))
                {
                    return 1;
                }
                if (NOT (LOCATE_CHAR_ANY_MEANS_CAR_2D( sub_4129(), uParam0, 50.00000000, 50.00000000, 0 )))
                {
                    GET_GAME_TIMER( ref iVar3 );
                    if ((iVar3 - l_U3) >= 180000)
                    {
                        return 1;
                    }
                }
                else
                {
                    GET_GAME_TIMER( ref l_U3 );
                }
            }
            else
            {
                GET_GAME_TIMER( ref l_U3 );
            }
        }
    }
    return 0;
}

void sub_6898(unknown uParam0)
{
    vector vVar3;
    vector vVar6;
    float Result;

    vVar3 = {0.00000000, 0.00000000, 0.00000000};
    vVar6 = {0.00000000, 0.00000000, 0.00000000};
    Result = 0.00000000;
    if (NOT (IS_CHAR_INJURED( (uParam0^) )))
    {
        GET_CHAR_COORDINATES( sub_4129(), ref vVar3.x, ref vVar3.y, ref vVar3.z );
        GET_CHAR_COORDINATES( (uParam0^), ref vVar6.x, ref vVar6.y, ref vVar6.z );
        GET_DISTANCE_BETWEEN_COORDS_3D( vVar3.x, vVar3.y, vVar3.z, vVar6.x, vVar6.y, vVar6.z, ref Result );
        return Result;
    }
    return Result;
}

int sub_7571()
{
    if (NOT (IS_VEH_DRIVEABLE( l_U945 )))
    {
        for ( l_U992 = 0; l_U992 <= (l_U919 - 1); l_U992++ )
        {
            if (NOT (IS_CHAR_INJURED( l_U919[l_U992] )))
            {
                SET_CHAR_HEALTH( l_U919[l_U992], 13 );
                MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U919[l_U992] );
            }
        }
        EXPLODE_CAR( l_U945, 1, 0 );
        MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U982 );
        MARK_MODEL_AS_NO_LONGER_NEEDED( l_U1551 );
        if (DOES_BLIP_EXIST( l_U990 ))
        {
            REMOVE_BLIP( l_U990 );
        }
        GET_GAME_TIMER( ref l_U1008 );
        sub_3696( 0 );
        sub_4817( "BC3_GOT", ref l_U1573[0], 7, 1 );
        l_U817 = 1;
        l_U810 = 4;
        return 1;
    }
    if (sub_7830( ref l_U919 ))
    {
        if (IS_VEH_DRIVEABLE( l_U945 ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U945 ))
            {
                STOP_PLAYBACK_RECORDED_CAR( l_U945 );
            }
        }
        if (DOES_BLIP_EXIST( l_U990 ))
        {
            REMOVE_BLIP( l_U990 );
        }
        sub_3696( 0 );
        sub_4817( "BC3_GOT", ref l_U1573[0], 7, 1 );
        l_U817 = 1;
        l_U810 = 4;
        return 1;
    }
    if (NOT l_U893)
    {
        if (IS_CHAR_INJURED( l_U919[0] ))
        {
            if (IS_VEH_DRIVEABLE( l_U945 ))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U945 ))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U945 );
                }
                for ( l_U992 = 0; l_U992 <= (l_U919 - 1); l_U992++ )
                {
                    if (NOT (IS_CHAR_INJURED( l_U919[l_U992] )))
                    {
                        sub_8235( ref l_U919[l_U992], ref l_U1553 );
                        SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U919[l_U992], 0 );
                    }
                }
                l_U893 = 1;
            }
        }
    }
    return 0;
}

int sub_7830(unknown uParam0)
{
    int I;
    int iVar4;

    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        if (DOES_CHAR_EXIST( (uParam0^)[I] ))
        {
            if (IS_CHAR_INJURED( (uParam0^)[I] ))
            {
                MARK_CHAR_AS_NO_LONGER_NEEDED( ref (uParam0^)[I] );
                (uParam0^)[I] = nil;
                iVar4++;
            }
        }
        else
        {
            iVar4++;
        }
    }
    if (iVar4 == (uParam0^))
    {
        return 1;
    }
    return 0;
}

void sub_8235(unknown uParam0, unknown uParam1)
{
    SET_RELATIONSHIP( 5, 0, 23 );
    SET_RELATIONSHIP( 5, 23, 0 );
    if (DOES_CHAR_EXIST( (uParam0^) ))
    {
        if (NOT (IS_CHAR_INJURED( (uParam0^) )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( (uParam0^), 0 );
            SET_COMBAT_DECISION_MAKER( (uParam0^), (uParam1^) );
            SET_CHAR_RELATIONSHIP_GROUP( (uParam0^), 23 );
            SET_CHAR_WILL_USE_COVER( (uParam0^), 1 );
            SET_CHAR_IS_TARGET_PRIORITY( (uParam0^), 1 );
        }
    }
    return;
}

int sub_8422()
{
    if (NOT (IS_CAR_DEAD( l_U945 )))
    {
        if (NOT (IS_CHAR_INJURED( l_U919[0] )))
        {
            if ((NOT (IS_CAR_ON_SCREEN( l_U945 ))) AND ((sub_6898( ref l_U919[0] )) > 200))
            {
                sub_3696( 0 );
                CLEAR_PRINTS();
                PRINT_NOW( "BER3_FAL3", 7500, 1 );
                if (DOES_BLIP_EXIST( l_U990 ))
                {
                    REMOVE_BLIP( l_U990 );
                }
                GET_GAME_TIMER( ref l_U1008 );
                l_U810 = 5;
                return 1;
            }
        }
        else if (NOT (IS_CHAR_INJURED( l_U919[1] )))
        {
            if ((NOT (IS_CAR_ON_SCREEN( l_U945 ))) AND ((sub_6898( ref l_U919[1] )) > 200))
            {
                sub_3696( 0 );
                CLEAR_PRINTS();
                PRINT_NOW( "BER3_FAL3", 7500, 1 );
                if (DOES_BLIP_EXIST( l_U990 ))
                {
                    REMOVE_BLIP( l_U990 );
                }
                GET_GAME_TIMER( ref l_U1008 );
                l_U810 = 5;
                return 1;
            }
        }
        if ((NOT (IS_CHAR_ON_SCREEN( l_U918 ))) AND ((sub_6898( ref l_U918 )) > 180))
        {
            sub_3696( 0 );
            PRINT_NOW( "BER3_LOS2", 7500, 1 );
            sub_4444();
        }
    }
    return 0;
}

int sub_8858(unknown uParam0)
{
    if (sub_6166( ref l_U1013, 120000 ))
    {
        if ((sub_6898( uParam0 )) > 100.00000000)
        {
            if (NOT (IS_CHAR_INJURED( (uParam0^) )))
            {
                if (NOT (IS_CHAR_ON_SCREEN( (uParam0^) )))
                {
                    return 1;
                }
            }
        }
    }
    return 0;
}

void sub_9173()
{
    GET_PLAYERS_LAST_CAR_NO_SAVE( ref l_U943 );
    if (NOT (l_U943 == nil))
    {
        if (IS_VEH_DRIVEABLE( l_U943 ))
        {
            GET_CAR_MODEL( l_U943, ref l_U1552 );
            if (NOT (IS_THIS_MODEL_A_BOAT( l_U1552 )))
            {
                SET_CAR_AS_MISSION_CAR( l_U943 );
                CLEAR_AREA( 480.73220000, -518.65940000, 4.43200000, 4.00000000, 1 );
                SET_CAR_HEADING( l_U943, 0.20700000 );
                SET_CAR_COORDINATES( l_U943, 480.73220000, -518.65940000, 4.43200000 );
            }
        }
    }
    SWITCH_RANDOM_BOATS( 0 );
    CLEAR_AREA( 487.50430000, -499.13110000, 3.69230000, 250, 1 );
    if (DOES_VEHICLE_EXIST( l_U943 ))
    {
        if (IS_VEH_DRIVEABLE( l_U943 ))
        {
            MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U943 );
        }
    }
    LOAD_ADDITIONAL_TEXT( "BC3AUD", 6 );
    FORCE_WEATHER_NOW( 1 );
    FORCE_WIND( 0.00000000 );
    sub_9462();
    l_U905 = g_U10981[7]._fU144._fU32;
    g_U10981[7]._fU144._fU32 = 1;
    g_U9890 = 1;
    if (g_U9893._fU24)
    {
        while (NOT IS_SCREEN_FADED_OUT())
        {
            WAIT( 0 );
        }
        START_CUTSCENE_NOW( "BC_3" );
        while (NOT HAS_CUTSCENE_LOADED())
        {
            WAIT( 0 );
        }
        while (NOT HAS_CUTSCENE_FINISHED())
        {
            WAIT( 0 );
        }
        while (NOT IS_SCREEN_FADED_OUT())
        {
            WAIT( 0 );
        }
        CLEAR_NAMED_CUTSCENE( "BC_3" );
    }
    sub_9736();
    sub_15047( 1 );
    l_U810 = 1;
    return;
}

void sub_9462()
{
    if (sub_9471())
    {
        g_U64921 = 1;
    }
    return;
}

int sub_9471()
{
    if ((GET_NUMBER_OF_INSTANCES_OF_STREAMED_SCRIPT( "dwayne_backup" )) >= 1)
    {
        return 1;
    }
    return 0;
}

void sub_9736()
{
    CLEAR_WANTED_LEVEL( sub_3639() );
    SET_WANTED_MULTIPLIER( 0.10000000 );
    sub_9778( "BC3AUD" );
    l_U1043 = 4;
    l_U1079 = {1129.24400000, -883.38630000, 3.50000000};
    l_U1504 = 94.69000000;
    l_U1284 = {667.68760000, -729.59080000, 0.20480000};
    l_U1482 = 30.29480000;
    l_U1076 = {1152.95500000, -887.64730000, 0.00000000};
    l_U1437 = 71.19250000;
    l_U1073 = {507.73560000, -506.04470000, 0.00000000};
    l_U1436 = 183.04800000;
    l_U1101 = {0.43500000, -1.13000000, 0.75400000};
    l_U1444 = -3.54720000;
    l_U1125 = {665.84290000, -685.52530000, -0.10000000};
    l_U1445 = 358.87250000;
    l_U1128[0] = {892.07530000, 914.01660000, 16.38720000};
    l_U1128[1] = {948.75240000, 949.85730000, 20.13840000};
    l_U1128[2] = {911.14950000, 986.45250000, 6.90119900};
    l_U1416[0] = {891.06090000, 914.68980000, 16.20630000};
    l_U1426[0] = {859.00000000, 917.00000000, 13.00000000};
    l_U1416[1] = {949.39090000, 948.94700000, 20.26170000};
    l_U1426[1] = {941.00000000, 944.00000000, 22.00000000};
    l_U1416[1] = {949.39090000, 948.94700000, 20.26170000};
    l_U1426[1] = {941.00000000, 944.00000000, 22.00000000};
    l_U1416[2] = {911.14950000, 986.45250000, 6.90119900};
    l_U1426[2] = {906.00000000, 972.00000000, 9.00000000};
    l_U1182[0] = {313.96950000, 238.34470000, -3.50000000};
    l_U1447[0] = 183.78680000;
    l_U1244[0] = {318.21480000, 77.40140000, 0.62699990};
    l_U1287[2] = {262.11970000, 438.04500000, 0.14440000};
    l_U1483[2] = 192.58280000;
    l_U1244[1] = {300.94150000, 187.64020000, 0.23670000};
    l_U1182[1] = {778.80910000, -891.28860000, 0.00000000};
    l_U1447[1] = 77.48110000;
    l_U1244[2] = {279.33940000, 286.18660000, 0.63000000};
    l_U1244[3] = {223.38170000, 497.20280000, 0.35870000};
    l_U1151[0] = {655.17330000, -748.14120000, -1.47230000};
    l_U1458[0] = 194.52130000;
    l_U1244[11] = {956.19620000, -892.32200000, 0.00000000};
    l_U1151[1] = {209.88300000, 717.80300000, -0.10000000};
    l_U1458[1] = 352.80660000;
    l_U1244[4] = {195.18990000, 655.63380000, 0.67500000};
    l_U1287[1] = {233.66190000, 919.18680000, 0.14550000};
    l_U1483[1] = 204.58560000;
    l_U1244[5] = {225.49320000, 781.85770000, 0.35390000};
    l_U1151[2] = {206.28740000, 642.65940000, 0.00000000};
    l_U1458[2] = 78.15950000;
    l_U1244[6] = {255.00350000, 862.16610000, 0.35960000};
    l_U1182[2] = {297.73920000, 1067.16800000, 0.89480000};
    l_U1447[2] = 344.17630000;
    l_U1244[7] = {351.32840000, 1066.64700000, 0.64130010};
    l_U1151[2] = {619.91430000, 1150.23000000, -0.10000000};
    l_U1458[2] = 94.83970000;
    l_U1244[8] = {457.54360000, 1140.91400000, 0.15770000};
    l_U1287[0] = {411.89730000, -362.03160000, 0.16460000};
    l_U1483[0] = 276.40630000;
    l_U1244[9] = {584.22200000, -495.05100000, 0.17240000};
    l_U1368[0] = {379.16560000, -114.33640000, 0.00000000};
    l_U1496[0] = 284.87700000;
    l_U1297[0] = {413.45850000, -187.68700000, 2.50000000};
    l_U1297[1] = {376.03740000, -123.45090000, 1.97230000};
    l_U1297[2] = {260.71420000, 551.81940000, 1.22000000};
    l_U1011 = 5000;
    l_U1307[0] = {304.92310000, 134.17810000, 0.33930000};
    l_U1307[1] = {307.68690000, 175.48230000, 0.37560000};
    for ( l_U992 = 0; l_U992 <= 1; l_U992++ )
    {
        l_U996[l_U992] = 0;
        l_U1000[l_U992] = 0;
        l_U830[l_U992] = 0;
    }
    l_U830[2] = 0;
    for ( l_U992 = 0; l_U992 <= 12; l_U992++ )
    {
        l_U1022[l_U992] = 0;
    }
    for ( l_U992 = 0; l_U992 <= 2; l_U992++ )
    {
        l_U1058[l_U992] = 0;
    }
    l_U1355[0] = {853.35240000, 920.12720000, 8.90630000};
    l_U1491[0] = 72.81400000;
    l_U1355[1] = {876.33150000, 918.16940000, 13.84680000};
    l_U1491[1] = 39.25870000;
    l_U1355[2] = {879.80370000, 915.67170000, 14.48190000};
    l_U1491[2] = 145.72200000;
    l_U1355[3] = {877.99840000, 915.31560000, 14.15840000};
    l_U1491[3] = 246.43030000;
    l_U1382 = {0.50000000, 1.00000000, 0.00000000};
    l_U1502 = 0.50000000;
    l_U1398 = {524.78960000, 1207.35900000, 0.10370000};
    l_U1503 = 180.00000000;
    l_U794._fU20 = {0.13000000, 0.00000000, 0.00000000};
    l_U794._fU44 = {2.00000000, 0.00000000, 0.55000000};
    l_U794._fU56 = 0.00000000;
    l_U1508 = 0.00000000;
    l_U1505 = 0.00000000;
    l_U1507 = 0.00000000;
    l_U1509 = 0.00000000;
    l_U794._fU4 = -596812191;
    l_U1530 = 1500493064;
    l_U1531 = 1724587620;
    l_U1533 = 290013743;
    l_U1534 = 400514754;
    l_U1535 = 1064455782;
    l_U1536 = 1759673526;
    l_U1538 = -1043459709;
    l_U1550 = -1660661558;
    l_U1551 = -488123221;
    l_U1540[0] = 980990533;
    l_U1540[1] = 1865082075;
    l_U1540[2] = 100706569;
    l_U1540[3] = 100706569;
    l_U1545[0] = 8772846;
    l_U1548 = 1033245328;
    REGISTER_SCRIPT_WITH_AUDIO( 0 );
    REQUEST_MODEL( l_U1530 );
    REQUEST_MODEL( l_U1533 );
    REQUEST_MODEL( l_U1534 );
    REQUEST_MODEL( l_U1535 );
    REQUEST_MODEL( l_U1536 );
    REQUEST_MODEL( l_U1538 );
    REQUEST_MODEL( l_U1550 );
    REQUEST_MODEL( l_U1551 );
    REQUEST_MODEL( l_U1531 );
    REQUEST_ANIMS( "missbernie3" );
    GET_WEAPONTYPE_MODEL( 10, ref l_U1532 );
    REQUEST_MODEL( l_U1532 );
    GET_WEAPONTYPE_MODEL( 13, ref l_U1549 );
    REQUEST_MODEL( l_U1549 );
    REQUEST_MODEL( l_U794._fU4 );
    REQUEST_CAR_RECORDING( 981 );
    REQUEST_CAR_RECORDING( 982 );
    REQUEST_CAR_RECORDING( 983 );
    REQUEST_CAR_RECORDING( 984 );
    REQUEST_CAR_RECORDING( 985 );
    REQUEST_CAR_RECORDING( 986 );
    REQUEST_CAR_RECORDING( 987 );
    REQUEST_CAR_RECORDING( 988 );
    REQUEST_CAR_RECORDING( 989 );
    REQUEST_CAR_RECORDING( 990 );
    REQUEST_CAR_RECORDING( 991 );
    REQUEST_CAR_RECORDING( 992 );
    REQUEST_CAR_RECORDING( 993 );
    REQUEST_CAR_RECORDING( 994 );
    REQUEST_CAR_RECORDING( 995 );
    REQUEST_CAR_RECORDING( 996 );
    REQUEST_CAR_RECORDING( 998 );
    REQUEST_CAR_RECORDING( 999 );
    LOAD_ADDITIONAL_TEXT( "BERNIE3", 0 );
    # -sub_C1FFC0-0xc214c8( 0, ref l_U1555 );
    # -sub_C1FFC0-0xc214c8( 1, ref l_U1556 );
    LOAD_COMBAT_DECISION_MAKER( 2, ref l_U1557 );
    LOAD_COMBAT_DECISION_MAKER( 10, ref l_U1553 );
    sub_12285( 0, sub_4129(), "NIKO", 0 );
    LOAD_ALL_OBJECTS_NOW();
    LOAD_SCENE( 507.73560000, -506.04470000, 0.00000000 );
    SET_DECISION_MAKER_ATTRIBUTE_TARGET_LOSS_RESPONSE( l_U1557, 2 );
    CREATE_CAR( l_U1533, l_U1073._fU0, l_U1073._fU4, l_U1073._fU8, ref l_U942, 1 );
    SET_CAR_HEADING( l_U942, l_U1436 );
    TURN_OFF_VEHICLE_EXTRA( l_U942, 1, 1 );
    TURN_OFF_VEHICLE_EXTRA( l_U942, 2, 1 );
    TURN_OFF_VEHICLE_EXTRA( l_U942, 3, 1 );
    TURN_OFF_VEHICLE_EXTRA( l_U942, 4, 1 );
    TURN_OFF_VEHICLE_EXTRA( l_U942, 5, 0 );
    CHANGE_CAR_COLOUR( l_U942, 48, 74 );
    WARP_CHAR_INTO_CAR( sub_4129(), l_U942 );
    CREATE_CHAR_AS_PASSENGER( l_U942, 26, l_U1530, 1, ref l_U918 );
    SET_CHAR_HEALTH( l_U918, 200 );
    SET_CHAR_NEVER_TARGETTED( l_U918, 1 );
    SET_CHAR_CANT_BE_DRAGGED_OUT( l_U918, 1 );
    SET_CHAR_ONLY_DAMAGED_BY_PLAYER( l_U918, 1 );
    SET_CHAR_COMPONENT_VARIATION( l_U918, 1, 0, 0 );
    SET_CHAR_COMPONENT_VARIATION( l_U918, 0, 0, 0 );
    SET_CHAR_COMPONENT_VARIATION( l_U918, 2, 0, 0 );
    SET_CHAR_COMPONENT_VARIATION( l_U918, 7, 0, 0 );
    SET_CHAR_COMPONENT_VARIATION( l_U918, 3, 0, 0 );
    SET_CHAR_PROP_INDEX( l_U918, 0, 0 );
    SET_CHAR_PROP_INDEX( l_U918, 1, 0 );
    SET_CHAR_SUFFERS_CRITICAL_HITS( l_U918, 0 );
    sub_12285( 1, l_U918, "BERNIE", 0 );
    STOP_PED_SPEAKING( l_U918, 1 );
    SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U918, 0 );
    SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U918, 0 );
    ADD_BLIP_FOR_COORD( l_U1079._fU0, l_U1079._fU4, l_U1079._fU8, ref l_U984 );
    SET_DECISION_MAKER_ATTRIBUTE_TARGET_LOSS_RESPONSE( l_U1553, 0 );
    SET_DECISION_MAKER_ATTRIBUTE_CAN_CHANGE_TARGET( l_U1553, 1 );
    SET_DECISION_MAKER_ATTRIBUTE_FIRE_RATE( l_U1553, 2 );
    SET_DECISION_MAKER_ATTRIBUTE_WEAPON_ACCURACY( l_U1553, 20 );
    CREATE_WIDGET_GROUP( "camera position" );
    ADD_WIDGET_FLOAT_SLIDER( "Float x", ref l_U1104._fU0, -1000.00000000, 1000.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Float y", ref l_U1104._fU4, -1000.00000000, 1000.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Float z", ref l_U1104._fU8, -1000.00000000, 1000.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "rot Float x", ref l_U1107._fU0, -1000.00000000, 1000.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "rot Float y", ref l_U1107._fU4, -1000.00000000, 1000.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "rot Float z", ref l_U1107._fU8, -1000.00000000, 1000.00000000, 0.10000000 );
    END_WIDGET_GROUP();
    CREATE_WIDGET_GROUP( "Tug locate render dimmensions" );
    ADD_WIDGET_FLOAT_SLIDER( "area_bl[0].x", ref l_U1346._fU0, -20.00000000, 20.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "area_bl[0].y", ref l_U1346._fU4, -20.00000000, 20.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "area_bl[0].z", ref l_U1346._fU8, -20.00000000, 20.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "area_br[0].x", ref l_U1349._fU0, -20.00000000, 20.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "area_br[0].y", ref l_U1349._fU4, -20.00000000, 20.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "area_br[0].z", ref l_U1349._fU8, -20.00000000, 20.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "locate length", ref l_U1489, -20.00000000, 20.00000000, 0.10000000 );
    END_WIDGET_GROUP();
    CREATE_WIDGET_GROUP( "PED camera position" );
    ADD_WIDGET_FLOAT_SLIDER( "camera offset pos x", ref l_U1392._fU0, -1000.00000000, 1000.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "camera offset pos y", ref l_U1392._fU4, -1000.00000000, 1000.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "camera offset pos z", ref l_U1392._fU8, -1000.00000000, 1000.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "point offset x", ref l_U1395._fU0, -1000.00000000, 1000.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "point offset y", ref l_U1395._fU4, -1000.00000000, 1000.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "point offset z", ref l_U1395._fU8, -1000.00000000, 1000.00000000, 0.10000000 );
    END_WIDGET_GROUP();
    CREATE_WIDGET_GROUP( "PED attach attach on boat" );
    ADD_WIDGET_FLOAT_SLIDER( "attach offset pos x", ref l_U1410._fU0, -1000.00000000, 1000.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "attach offset pos y", ref l_U1410._fU4, -1000.00000000, 1000.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "attach offset pos z", ref l_U1410._fU8, -1000.00000000, 1000.00000000, 0.10000000 );
    END_WIDGET_GROUP();
    CREATE_WIDGET_GROUP( "camera attached to boat" );
    ADD_WIDGET_FLOAT_SLIDER( "attach offset pos x", ref l_U1410._fU0, -1000.00000000, 1000.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "attach offset pos y", ref l_U1410._fU4, -1000.00000000, 1000.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "attach offset pos z", ref l_U1410._fU8, -1000.00000000, 1000.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "point offset x", ref l_U1395._fU0, -1000.00000000, 1000.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "point offset y", ref l_U1395._fU4, -1000.00000000, 1000.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "point offset z", ref l_U1395._fU8, -1000.00000000, 1000.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "fov", ref l_U1512, 15.00000000, 70.00000000, 0.10000000 );
    END_WIDGET_GROUP();
    CREATE_WIDGET_GROUP( "Binocular position" );
    ADD_WIDGET_TOGGLE( "activate binocular placement", ref l_U898 );
    ADD_WIDGET_TOGGLE( "start animation", ref l_U900 );
    ADD_WIDGET_FLOAT_SLIDER( "binocular pos x", ref l_U794._fU8._fU0, -1000.00000000, 1000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "binocular pos y", ref l_U794._fU8._fU4, -1000.00000000, 1000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "binocular pos z", ref l_U794._fU8._fU8, -1000.00000000, 1000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "binoculars rot x", ref l_U794._fU32._fU0, -1000.00000000, 1000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "binoculars rot y", ref l_U794._fU32._fU4, -1000.00000000, 1000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "binoculars rot z", ref l_U794._fU32._fU8, -1000.00000000, 1000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "binoculars heading", ref l_U794._fU56, -1000.00000000, 1000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "binoculars scale ", ref l_U1514, -1, 1, 0.10000000 );
    END_WIDGET_GROUP();
    l_U810 = 0;
    return;
}

void sub_9778(unknown uParam0)
{
    StrCopy( ref l_U4._fU0, uParam0, 16 );
    sub_9795();
    return;
}

void sub_9795()
{
    int I;

    for ( I = 0; I <= 8; I++ )
    {
        l_U4._fU16[I]._fU0 = nil;
        StrCopy( ref l_U4._fU16[I]._fU4, "", 32 );
        l_U4._fU344[I] = 0;
    }
    return;
}

void sub_12285(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    l_U4._fU16[uParam0]._fU0 = uParam1;
    StrCopy( ref l_U4._fU16[uParam0]._fU4, uParam2, 32 );
    if (NOT (IS_CHAR_INJURED( uParam1 )))
    {
        BLOCK_CHAR_AMBIENT_ANIMS( uParam1, uParam3 );
    }
    sub_12365( "\n PED NUMBER ", uParam0 );
    sub_12405( " ADDED WITH VOICE ", uParam2 );
    return;
}

void sub_12365(unknown uParam0, unknown uParam1)
{
    return;
}

void sub_12405(unknown uParam0, unknown uParam1)
{
    return;
}

void sub_15047(boolean bParam0)
{
    CLEAR_PRINTS();
    CLEAR_HELP();
    sub_3696( 0 );
    DISPLAY_HUD( 1 );
    DISPLAY_RADAR( 1 );
    SET_WIDESCREEN_BORDERS( 0 );
    if (IS_PLAYER_PLAYING( sub_3639() ))
    {
        SET_INTERP_IN_OUT_VEHICLE_ENABLED_THIS_FRAME( 0 );
        SET_INTERP_FROM_SCRIPT_TO_GAME( 1, 0 );
        SET_CAM_BEHIND_PED( sub_4129() );
        if (bParam0)
        {
            CLEAR_CHAR_TASKS( sub_4129() );
        }
        SET_PLAYER_CONTROL( sub_3639(), 1 );
        HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_4129(), 0 );
    }
    ALLOW_EMERGENCY_SERVICES( 1 );
    DO_SCREEN_FADE_IN( 500 );
    return;
}

void sub_15236()
{
    if (NOT (l_U1038[0] == 1))
    {
        if (l_U1058[0] == 1)
        {
            if (sub_15283( ref l_U1036, 1000 ))
            {
                l_U1038[0] = 1;
                l_U811 = 21;
            }
        }
    }
    if (NOT l_U888)
    {
        switch (l_U811)
        {
            case 0:
            sub_15503();
            if (NOT l_U864)
            {
                sub_23387( ref l_U1079, ref l_U984, ref l_U942, ref l_U991 );
            }
            if (NOT l_U864)
            {
                if (DOES_BLIP_EXIST( l_U984 ))
                {
                    if (LOCATE_CHAR_IN_CAR_3D( sub_4129(), l_U1079._fU0, l_U1079._fU4, l_U1079._fU8, 4.00000000, 4.00000000, 4.00000000, 1 ))
                    {
                        if (sub_23720( 1, 1 ))
                        {
                            if (sub_24010())
                            {
                                SET_PLAYER_CONTROL( sub_3639(), 0 );
                                l_U864 = 1;
                                l_U819 = 6;
                                REMOVE_BLIP( l_U984 );
                            }
                        }
                    }
                }
            }
            else if (l_U857)
            {
                if (sub_24170( 1 ))
                {
                    GET_GAME_TIMER( ref l_U1015 );
                    l_U1566 = LOAD_TXD( "binoculars" );
                    LOAD_ALL_OBJECTS_NOW();
                    l_U1567 = GET_TEXTURE( l_U1566, "binoculars" );
                    LOAD_SCENE( 1033.85100000, -737.74080000, 4.40000000 );
                    HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_4129(), 1 );
                    if (NOT (IS_CAR_DEAD( l_U942 )))
                    {
                        if (NOT (IS_CHAR_INJURED( l_U918 )))
                        {
                            CREATE_CAR( l_U1534, l_U1076._fU0, l_U1076._fU4, l_U1076._fU8, ref l_U945, 1 );
                            SET_CAR_HEADING( l_U945, l_U1437 );
                            CHANGE_CAR_COLOUR( l_U945, 24, 27 );
                            ANCHOR_BOAT( l_U945, 1 );
                            SET_CAR_HEALTH( l_U945, 1250 );
                            SET_ENGINE_HEALTH( l_U945, 1250.00000000 );
                            SET_PETROL_TANK_HEALTH( l_U945, 1250.00000000 );
                            TURN_OFF_VEHICLE_EXTRA( l_U945, 1, 1 );
                            CREATE_CHAR_INSIDE_CAR( l_U945, 26, l_U1531, ref l_U919[0] );
                            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U919[0], 0 );
                            GIVE_WEAPON_TO_CHAR( l_U919[0], 10, 30000, 1 );
                            SET_CHAR_SUFFERS_CRITICAL_HITS( l_U919[0], 0 );
                            SET_CHAR_HEALTH( l_U919[0], 400 );
                            SET_CHAR_MAX_HEALTH( l_U919[0], 400 );
                            SET_CHAR_COMPONENT_VARIATION( l_U919[0], 1, 0, 0 );
                            SET_CHAR_COMPONENT_VARIATION( l_U919[0], 0, 0, 0 );
                            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U919[0], 1 );
                            SET_CHAR_PROP_INDEX( l_U919[0], 1, 0 );
                            CREATE_CHAR( 26, l_U1531, l_U1073._fU0, l_U1073._fU4, l_U1073._fU8, ref l_U919[1], 1 );
                            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U919[1], 1 );
                            ATTACH_PED_TO_CAR( l_U919[1], l_U945, 0, 0.00000000, -1.50000000, 0.75400000, 0.00000000, 360, 1, 0 );
                            SET_CHAR_HEADING( l_U919[1], l_U1437 );
                            SET_CHAR_HEALTH( l_U919[1], 200 );
                            SET_CHAR_MAX_HEALTH( l_U919[0], 200 );
                            SET_CHAR_SUFFERS_CRITICAL_HITS( l_U919[1], 0 );
                            SET_CHAR_COMPONENT_VARIATION( l_U919[1], 1, 1, 0 );
                            SET_CHAR_COMPONENT_VARIATION( l_U919[1], 0, 1, 0 );
                            SET_CHAR_PROP_INDEX( l_U919[1], 0, 0 );
                            SET_CHAR_PROP_INDEX( l_U919[1], 1, 0 );
                            CREATE_CHAR_AS_PASSENGER( l_U945, 26, l_U1531, 0, ref l_U919[2] );
                            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U919[2], 0 );
                            GIVE_WEAPON_TO_CHAR( l_U919[2], 13, 30000, 1 );
                            SET_CHAR_SUFFERS_CRITICAL_HITS( l_U919[2], 0 );
                            SET_CHAR_HEALTH( l_U919[0], 400 );
                            SET_CHAR_MAX_HEALTH( l_U919[2], 400 );
                            SET_CHAR_COMPONENT_VARIATION( l_U919[2], 1, 1, 1 );
                            SET_CHAR_COMPONENT_VARIATION( l_U919[2], 0, 0, 1 );
                            SET_CHAR_GET_OUT_UPSIDE_DOWN_CAR( l_U919[2], 0 );
                            sub_12285( 2, l_U919[1], "RUSSIAN_HITMAN_BC3", 0 );
                            GET_GAME_TIMER( ref l_U1008 );
                            sub_25330( ref l_U918, ref l_U942 );
                            l_U811 = 1;
                        }
                    }
                }
            }
            if ((NOT l_U830[0]) AND (IS_KEYBOARD_KEY_PRESSED( 36 )))
            {
                SET_CHAR_COORDINATES( sub_4129(), l_U1079._fU0, l_U1079._fU4, l_U1079._fU8 );
                l_U830[0] = 1;
            }
            break;
            case 1:
            if (NOT (IS_CHAR_INJURED( l_U918 )))
            {
                if (NOT (IS_CAR_DEAD( l_U942 )))
                {
                    if (NOT (IS_CHAR_DEAD( l_U919[1] )))
                    {
                        SET_CAR_COORDINATES_NO_OFFSET( l_U942, 1125.20300000, -850.03410000, 0.00000000 );
                        SET_CAR_HEADING( l_U942, 67.68240000 );
                        SET_CHAR_VISIBLE( sub_4129(), 0 );
                        SET_CHAR_VISIBLE( l_U918, 0 );
                        SET_CAR_VISIBLE( l_U942, 0 );
                        BEGIN_CAM_COMMANDS( ref l_U994 );
                        CREATE_CAM( 14, ref l_U1525 );
                        CREATE_CAM( 14, ref l_U1515 );
                        CREATE_CAM( 14, ref l_U1516 );
                        CREATE_CAM( 14, ref l_U1517 );
                        CREATE_CAM( 14, ref l_U1518 );
                        CREATE_CAM( 14, ref l_U1519 );
                        CREATE_CAM( 14, ref l_U1520 );
                        CREATE_CAM( 14, ref l_U1521 );
                        CREATE_CAM( 14, ref l_U1522 );
                        CREATE_CAM( 14, ref l_U1523 );
                        CREATE_CAM( 3, ref l_U1524 );
                        SET_CAM_POS( l_U1525, 1134.58400000, -883.86070000, 1.34037100 );
                        SET_CAM_ROT( l_U1525, 8.01936700, -0.00000000, 30.09947000 );
                        SET_CAM_FOV( l_U1525, 25.00000000 );
                        SET_CAM_POS( l_U1515, 1134.58400000, -883.86070000, 1.34037100 );
                        SET_CAM_ROT( l_U1515, 8.01936700, -0.00000000, 30.09947000 );
                        SET_CAM_FOV( l_U1515, 22.00000000 );
                        SET_CAM_POS( l_U1516, 1134.58400000, -883.86070000, 1.34037100 );
                        SET_CAM_ROT( l_U1516, -0.30773100, -0.00000000, -102.12570000 );
                        SET_CAM_FOV( l_U1516, 25.00000000 );
                        SET_CAM_POS( l_U1517, 1134.58400000, -883.86070000, 1.34037100 );
                        SET_CAM_ROT( l_U1517, -0.30773100, -0.00000000, -102.12570000 );
                        SET_CAM_FOV( l_U1517, 13.90010000 );
                        SET_CAM_POS( l_U1518, 1146.19800000, -870.38780000, 1.40821100 );
                        SET_CAM_ROT( l_U1518, -0.55120400, -0.00000000, -125.48720000 );
                        SET_CAM_FOV( l_U1518, 13.90010000 );
                        SET_CAM_POS( l_U1519, 1146.19800000, -870.38780000, 1.40821100 );
                        SET_CAM_ROT( l_U1519, -0.55120400, -0.00000000, -125.48720000 );
                        SET_CAM_FOV( l_U1519, 4.00000000 );
                        SET_CAM_FOV( l_U1521, 30.10000000 );
                        SET_CAM_FOV( l_U1522, 30.10000000 );
                        SET_CAM_FOV( l_U1523, 30.10000000 );
                        SET_CAM_INTERP_STYLE_CORE( l_U1524, l_U1525, l_U1515, 2500, 0 );
                        ACTIVATE_SCRIPTED_CAMS( 1, 1 );
                        SET_CAM_ACTIVE( l_U1524, 1 );
                        SET_CAM_PROPAGATE( l_U1524, 1 );
                        SET_CAM_ACTIVE( l_U1515, 1 );
                        SET_CAM_PROPAGATE( l_U1515, 1 );
                        DO_SCREEN_FADE_IN( 500 );
                        l_U829 = 1;
                        l_U830[0] = 0;
                        GET_GAME_TIMER( ref l_U1008 );
                        l_U1058[0] = 1;
                        GET_GAME_TIMER( ref l_U1036 );
                        l_U811 = 2;
                    }
                }
            }
            break;
            case 2:
            if (NOT IS_CAM_INTERPOLATING())
            {
                SET_CAM_ACTIVE( l_U1524, 0 );
                SET_CAM_PROPAGATE( l_U1524, 0 );
                SET_CAM_COMPONENT_SHAKE( l_U1524, 1, 1, 3000, 0.10000000, 1.30000000, 0.00000000 );
                SET_CAM_COMPONENT_SHAKE( l_U1524, 2, 1, 3000, 0.10000000, 0.50000000, 0.00000000 );
                SET_CAM_INTERP_STYLE_CORE( l_U1524, l_U1515, l_U1516, 3000, 0 );
                SET_CAM_ACTIVE( l_U1524, 1 );
                SET_CAM_PROPAGATE( l_U1524, 1 );
                l_U811 = 3;
            }
            break;
            case 3:
            if (NOT IS_CAM_INTERPOLATING())
            {
                if (NOT (IS_CAR_DEAD( l_U942 )))
                {
                    if (NOT (IS_CHAR_INJURED( l_U918 )))
                    {
                        if (NOT (IS_CHAR_INJURED( l_U919[0] )))
                        {
                            if (NOT (IS_CHAR_INJURED( l_U919[1] )))
                            {
                                if (NOT (IS_CHAR_INJURED( l_U919[2] )))
                                {
                                    if (IS_VEH_DRIVEABLE( l_U945 ))
                                    {
                                        sub_3696( 0 );
                                        sub_4817( "BC3_BSPOT", ref l_U1573[3], 8, 1 );
                                        CLEAR_CHAR_TASKS( l_U919[1] );
                                        OPEN_SEQUENCE_TASK( ref l_U1561[1] );
                                        TASK_LOOK_AT_COORD( 0, 1134.58400000, -883.86070000, 1.34037100, 20000, 0 );
                                        TASK_PLAY_ANIM( 0, "point", "missbernie3", 8.00000000, 0, 0, 0, 0, -1 );
                                        CLOSE_SEQUENCE_TASK( l_U1561[1] );
                                        TASK_PERFORM_SEQUENCE( l_U919[1], l_U1561[1] );
                                        CLEAR_SEQUENCE_TASK( l_U1561[1] );
                                        TASK_LOOK_AT_COORD( l_U919[0], 1134.58400000, -883.86070000, 1.34037100, 20000, 0 );
                                        TASK_LOOK_AT_COORD( l_U919[2], 1134.58400000, -883.86070000, 1.34037100, 20000, 0 );
                                        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U918, 1 );
                                        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( sub_4129(), 1 );
                                        if (IS_CHAR_IN_CAR( sub_4129(), l_U942 ))
                                        {
                                            WARP_CHAR_FROM_CAR_TO_COORD( sub_4129(), 1125.20300000, -850.03410000, 2.89270000 );
                                        }
                                        ATTACH_PED_TO_CAR( sub_4129(), l_U942, 0, 0.39100000, -1.48200000, 0.90000000, 0.00000000, 360.00000000, 0, 0 );
                                        SET_CHAR_HEADING( sub_4129(), 220.24120000 );
                                        CREATE_OBJECT( l_U794._fU4, 502.02310000, -504.47500000, 0.48620000, ref l_U794._fU0, 1 );
                                        ATTACH_OBJECT_TO_PED( l_U794._fU0, sub_4129(), 1232, l_U794._fU20, l_U794._fU44, 0 );
                                        if (IS_CHAR_IN_CAR( l_U918, l_U942 ))
                                        {
                                            WARP_CHAR_FROM_CAR_TO_COORD( l_U918, 1125.20300000, -850.03410000, 2.89270000 );
                                        }
                                        ATTACH_PED_TO_CAR( l_U918, l_U942, 0, -0.31000000, -1.18200000, 0.90000000, 0.00000000, 360.00000000, 0, 0 );
                                        SET_CHAR_HEADING( l_U918, 220.24120000 );
                                        CLEAR_CHAR_TASKS( l_U918 );
                                        TASK_LOOK_AT_VEHICLE( l_U918, l_U945, 99999, 0 );
                                        SET_CAM_INTERP_STYLE_CORE( l_U1524, l_U1516, l_U1517, 2000, 5000 );
                                        SET_CAR_VISIBLE( l_U942, 1 );
                                        SET_CHAR_VISIBLE( sub_4129(), 1 );
                                        SET_CHAR_VISIBLE( l_U918, 1 );
                                        l_U811 = 4;
                                    }
                                }
                            }
                        }
                    }
                }
            }
            break;
            case 4:
            if (NOT (sub_16047( l_U1573[3] )))
            {
                if (NOT (IS_CHAR_INJURED( l_U919[1] )))
                {
                    GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( l_U919[1], 0.00000000, 0.00000000, 0.30000000, ref l_U1141[1]._fU0, ref l_U1141[1]._fU4, ref l_U1141[1]._fU8 );
                    POINT_CAM_AT_PED( l_U1518, l_U919[1] );
                    SET_CAM_POINT_OFFSET( l_U1518, 0.00000000, 0.00000000, 0.30000000 );
                    SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U1518, 1 );
                    SET_CAM_COMPONENT_SHAKE( l_U1524, 1, 1, 3000, 0.10000000, 1.30000000, 0.00000000 );
                    SET_CAM_COMPONENT_SHAKE( l_U1524, 2, 1, 3000, 0.10000000, 1.00000000, 0.00000000 );
                    SET_CAM_INTERP_STYLE_CORE( l_U1524, l_U1517, l_U1518, 3000, 0 );
                    SET_CAM_ACTIVE( l_U1524, 1 );
                    SET_CAM_PROPAGATE( l_U1524, 1 );
                    sub_4817( "BC3_BLOOK", ref l_U1573[3], 8, 1 );
                    l_U811 = 5;
                }
            }
            break;
            case 5:
            GET_CAM_POS( l_U1524, ref l_U1148._fU0, ref l_U1148._fU4, ref l_U1148._fU8 );
            for ( l_U992 = 0; l_U992 <= 2; l_U992++ )
            {
                if (NOT (IS_CHAR_INJURED( l_U919[l_U992] )))
                {
                    TASK_LOOK_AT_COORD( l_U919[l_U992], l_U1148._fU0, l_U1148._fU4, l_U1148._fU8, 50, 0 );
                }
            }
            if (NOT IS_CAM_INTERPOLATING())
            {
                if (NOT (IS_CHAR_INJURED( l_U919[1] )))
                {
                    if (NOT (IS_CAR_DEAD( l_U945 )))
                    {
                        GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( l_U919[1], 0.00000000, 0.00000000, 0.30000000, ref l_U1141[1]._fU0, ref l_U1141[1]._fU4, ref l_U1141[1]._fU8 );
                        GIVE_WEAPON_TO_CHAR( l_U919[1], 13, 30000, 1 );
                        SET_CURRENT_CHAR_WEAPON( l_U919[1], 13, 1 );
                        CLEAR_CHAR_TASKS( l_U919[1] );
                        OPEN_SEQUENCE_TASK( ref l_U1561[1] );
                        TASK_PLAY_ANIM( 0, "reload", "gun@mp5k", 8.00000000, 0, 0, 0, 0, -1 );
                        CLOSE_SEQUENCE_TASK( l_U1561[1] );
                        TASK_PERFORM_SEQUENCE( l_U919[1], l_U1561[1] );
                        CLEAR_SEQUENCE_TASK( l_U1561[1] );
                        POINT_CAM_AT_PED( l_U1519, l_U919[1] );
                        SET_CAM_POINT_OFFSET( l_U1519, 0.00000000, 0.00000000, 0.50000000 );
                        SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U1519, 1 );
                        GET_GAME_TIMER( ref l_U1008 );
                        SET_CAM_INTERP_STYLE_CORE( l_U1524, l_U1518, l_U1519, 2000, 0 );
                        l_U811 = 9;
                    }
                }
            }
            break;
            case 9:
            GET_CAM_POS( l_U1524, ref l_U1148._fU0, ref l_U1148._fU4, ref l_U1148._fU8 );
            for ( l_U992 = 0; l_U992 <= 2; l_U992++ )
            {
                if (NOT (IS_CHAR_INJURED( l_U919[l_U992] )))
                {
                    TASK_LOOK_AT_COORD( l_U919[l_U992], l_U1148._fU0, l_U1148._fU4, l_U1148._fU8, 50, 0 );
                }
            }
            if (NOT (IS_CHAR_INJURED( l_U919[0] )))
            {
                if (NOT (IS_CHAR_INJURED( l_U919[1] )))
                {
                    if (NOT (IS_CHAR_INJURED( l_U919[2] )))
                    {
                        GET_SCRIPT_TASK_STATUS( l_U919[1], 29, ref l_U1568[0] );
                        if (l_U1568[0] == 7)
                        {
                            if (NOT (IS_CAR_DEAD( l_U942 )))
                            {
                                if (NOT (IS_CAR_DEAD( l_U945 )))
                                {
                                    if (NOT (IS_CHAR_INJURED( l_U918 )))
                                    {
                                        OPEN_SEQUENCE_TASK( ref l_U1565 );
                                        TASK_PLAY_ANIM( 0, "Take_Cover_Niko", "missbernie3", 1000.00000000, 0, 0, 0, 1, -1 );
                                        CLOSE_SEQUENCE_TASK( l_U1565 );
                                        TASK_PERFORM_SEQUENCE( sub_4129(), l_U1565 );
                                        CLEAR_SEQUENCE_TASK( l_U1565 );
                                        OPEN_SEQUENCE_TASK( ref l_U1560 );
                                        TASK_PLAY_ANIM( 0, "Take_Cover_Bernie", "missbernie3", 1000.00000000, 0, 0, 0, 1, -1 );
                                        CLOSE_SEQUENCE_TASK( l_U1560 );
                                        TASK_PERFORM_SEQUENCE( l_U918, l_U1560 );
                                        CLEAR_SEQUENCE_TASK( l_U1560 );
                                        GET_GAME_TIMER( ref l_U1008 );
                                        l_U811 = 10;
                                    }
                                }
                            }
                        }
                    }
                }
            }
            break;
            case 10:
            GET_CAM_POS( l_U1524, ref l_U1148._fU0, ref l_U1148._fU4, ref l_U1148._fU8 );
            for ( l_U992 = 0; l_U992 <= 2; l_U992++ )
            {
                if (NOT (IS_CHAR_INJURED( l_U919[l_U992] )))
                {
                    TASK_LOOK_AT_COORD( l_U919[l_U992], l_U1148._fU0, l_U1148._fU4, l_U1148._fU8, 50, 0 );
                }
            }
            if (sub_6166( ref l_U1008, 150 ))
            {
                if (NOT (IS_CHAR_INJURED( l_U919[0] )))
                {
                    if (NOT (IS_CHAR_INJURED( l_U919[1] )))
                    {
                        if (NOT (IS_CHAR_INJURED( l_U919[2] )))
                        {
                            if (NOT (IS_CAR_DEAD( l_U942 )))
                            {
                                if (NOT (IS_CAR_DEAD( l_U945 )))
                                {
                                    if (NOT (IS_CHAR_INJURED( l_U918 )))
                                    {
                                        SET_CAM_ACTIVE( l_U1524, 0 );
                                        SET_CAM_PROPAGATE( l_U1524, 0 );
                                        SET_CAM_ACTIVE( l_U1518, 0 );
                                        SET_CAM_PROPAGATE( l_U1518, 0 );
                                        SET_CAM_ACTIVE( l_U1519, 0 );
                                        SET_CAM_PROPAGATE( l_U1519, 0 );
                                        RELEASE_TEXTURE( l_U1567 );
                                        REMOVE_TXD( l_U1566 );
                                        l_U836 = 1;
                                        TASK_LOOK_AT_CHAR( l_U919[1], sub_4129(), 1000, 0 );
                                        TASK_LOOK_AT_CHAR( l_U919[1], sub_4129(), 10000, 0 );
                                        TASK_LOOK_AT_CHAR( l_U919[2], sub_4129(), 10000, 0 );
                                        ATTACH_CAM_TO_VEHICLE( l_U1522, l_U942 );
                                        POINT_CAM_AT_VEHICLE( l_U1522, l_U942 );
                                        SET_CAM_ATTACH_OFFSET( l_U1522, -3.10000000, -4.10000000, 1.90000000 );
                                        SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U1522, 1 );
                                        SET_CAM_POINT_OFFSET( l_U1522, 1.20000000, 0.00000000, 0.70000000 );
                                        SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U1522, 1 );
                                        SET_CAM_ACTIVE( l_U1522, 1 );
                                        SET_CAM_PROPAGATE( l_U1522, 1 );
                                        GET_GAME_TIMER( ref l_U1008 );
                                        l_U811 = 8;
                                    }
                                }
                            }
                        }
                    }
                }
            }
            break;
            case 8:
            if (NOT (IS_CHAR_INJURED( l_U918 )))
            {
                PRINTSTRING( "fail 0" );
                PRINTNL();
                GET_SCRIPT_TASK_STATUS( sub_4129(), 29, ref l_U1568[0] );
                GET_SCRIPT_TASK_STATUS( l_U918, 29, ref l_U1568[1] );
                if (sub_6166( ref l_U1008, 1500 ))
                {
                    if (IS_VEH_DRIVEABLE( l_U945 ))
                    {
                        if (IS_VEH_DRIVEABLE( l_U942 ))
                        {
                            if (NOT (IS_CHAR_INJURED( l_U919[1] )))
                            {
                                SET_CAM_ACTIVE( l_U1522, 0 );
                                SET_CAM_PROPAGATE( l_U1522, 0 );
                                START_PLAYBACK_RECORDED_CAR( l_U945, 981 );
                                SET_PLAYBACK_SPEED( l_U945, 1.00000000 );
                                SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( l_U945, 4000 );
                                GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( l_U918, 0.70000000, 0.00000000, -0.70000000, ref l_U1148._fU0, ref l_U1148._fU4, ref l_U1148._fU8 );
                                CLEAR_CHAR_TASKS( l_U919[1] );
                                OPEN_SEQUENCE_TASK( ref l_U1561[1] );
                                TASK_SHOOT_AT_COORD( 0, l_U1148._fU0, l_U1148._fU4, l_U1148._fU8, 99999, 5 );
                                CLOSE_SEQUENCE_TASK( l_U1561[1] );
                                TASK_PERFORM_SEQUENCE( l_U919[1], l_U1561[1] );
                                CLEAR_SEQUENCE_TASK( l_U1561[1] );
                                ATTACH_CAM_TO_VEHICLE( l_U1521, l_U942 );
                                SET_CAM_ATTACH_OFFSET( l_U1521, 2.50000000, 0.90000000, 1.40000000 );
                                SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U1521, 1 );
                                POINT_CAM_AT_VEHICLE( l_U1521, l_U945 );
                                SET_CAM_ACTIVE( l_U1521, 1 );
                                SET_CAM_PROPAGATE( l_U1521, 1 );
                                GET_GAME_TIMER( ref l_U1008 );
                                sub_4817( "BC3_BHAILS", ref l_U1573[0], 8, 1 );
                                l_U811 = 20;
                            }
                        }
                    }
                }
            }
            break;
            case 20:
            if ((l_U1038[0] == 1) || (sub_6166( ref l_U1008, 4000 )))
            {
                if (NOT IS_SCREEN_FADED_OUT())
                {
                    if (NOT IS_SCREEN_FADING_OUT())
                    {
                        DO_SCREEN_FADE_OUT( 500 );
                    }
                }
                else if (NOT (IS_CHAR_INJURED( l_U918 )))
                {
                    if ((NOT (IS_CHAR_INJURED( l_U919[2] ))) AND ((NOT (IS_CHAR_INJURED( l_U919[1] ))) AND (NOT (IS_CHAR_INJURED( l_U919[0] )))))
                    {
                        if (NOT (IS_CAR_DEAD( l_U945 )))
                        {
                            if (NOT (IS_CAR_DEAD( l_U942 )))
                            {
                                SET_CAM_PROPAGATE( l_U1524, 0 );
                                SET_CAM_ACTIVE( l_U1524, 0 );
                                SET_CAM_PROPAGATE( l_U1523, 0 );
                                SET_CAM_ACTIVE( l_U1523, 0 );
                                SET_CAM_PROPAGATE( l_U1522, 0 );
                                SET_CAM_ACTIVE( l_U1522, 0 );
                                SET_CAM_PROPAGATE( l_U1521, 0 );
                                SET_CAM_ACTIVE( l_U1521, 0 );
                                SET_CAM_PROPAGATE( l_U1520, 0 );
                                SET_CAM_ACTIVE( l_U1520, 0 );
                                SET_CAM_PROPAGATE( l_U1519, 0 );
                                SET_CAM_ACTIVE( l_U1519, 0 );
                                SET_CAM_PROPAGATE( l_U1518, 0 );
                                SET_CAM_ACTIVE( l_U1518, 0 );
                                SET_CAM_PROPAGATE( l_U1517, 0 );
                                SET_CAM_ACTIVE( l_U1517, 0 );
                                SET_CAM_PROPAGATE( l_U1516, 0 );
                                SET_CAM_ACTIVE( l_U1516, 0 );
                                SET_CAM_PROPAGATE( l_U1515, 0 );
                                SET_CAM_ACTIVE( l_U1515, 0 );
                                SET_CAM_PROPAGATE( l_U1525, 0 );
                                SET_CAM_ACTIVE( l_U1525, 0 );
                                DESTROY_ALL_CAMS();
                                ACTIVATE_SCRIPTED_CAMS( 0, 0 );
                                END_CAM_COMMANDS( ref l_U994 );
                                sub_30775( ref l_U918, ref l_U942 );
                                ADD_BLIP_FOR_CAR( l_U945, ref l_U990 );
                                CREATE_CAR( l_U1535, l_U1182[0]._fU0, l_U1182[0]._fU4, l_U1182[0]._fU8, ref l_U950[0], 1 );
                                SET_CAR_HEADING( l_U950[0], l_U1447[0] );
                                CREATE_CAR( l_U1535, l_U1182[1]._fU0, l_U1182[1]._fU4, l_U1182[1]._fU8, ref l_U950[1], 1 );
                                SET_CAR_HEADING( l_U950[1], l_U1447[1] );
                                CREATE_CAR( l_U1536, l_U1151[0]._fU0, l_U1151[0]._fU4, l_U1151[0]._fU8, ref l_U946[0], 1 );
                                SET_CAR_HEADING( l_U946[0], l_U1458[0] );
                                CREATE_CAR( l_U1538, l_U1287[0]._fU0, l_U1287[0]._fU4, l_U1287[0]._fU8, ref l_U971[0], 1 );
                                SET_CAR_HEADING( l_U971[0], 128.44010000 );
                                l_U847 = 1;
                                l_U853 = 1;
                                sub_4817( "BC3_CHASE", ref l_U1573[4], 8, 1 );
                                l_U819 = 9;
                                l_U821 = 1;
                                CLEAR_CHAR_TASKS( l_U918 );
                                if (IS_PED_ATTACHED_TO_ANY_CAR( l_U918 ))
                                {
                                    DETACH_PED( l_U918, 1 );
                                }
                                WARP_CHAR_INTO_CAR_AS_PASSENGER( l_U918, l_U942, 0 );
                                DELETE_OBJECT( ref l_U794._fU0 );
                                MARK_MODEL_AS_NO_LONGER_NEEDED( l_U794._fU4 );
                                CLEAR_CHAR_TASKS_IMMEDIATELY( sub_4129() );
                                if (IS_PED_ATTACHED_TO_ANY_CAR( sub_4129() ))
                                {
                                    DETACH_PED( sub_4129(), 1 );
                                }
                                WARP_CHAR_INTO_CAR( sub_4129(), l_U942 );
                                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U918, 0 );
                                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( sub_4129(), 0 );
                                ANCHOR_BOAT( l_U942, 0 );
                                l_U896 = 1;
                                if (l_U1038[0] == 1)
                                {
                                    SET_CAR_VISIBLE( l_U942, 1 );
                                    SET_CHAR_VISIBLE( sub_4129(), 1 );
                                    SET_CHAR_VISIBLE( l_U918, 1 );
                                }
                                REMOVE_ANIMS( "missbernie3" );
                                sub_15047( 1 );
                                GET_GAME_TIMER( ref l_U1008 );
                                l_U810 = 2;
                            }
                        }
                    }
                }
            }
            break;
            case 21:
            sub_31815();
            break;
            case 12: break;
        }
    }
    if (l_U829)
    {
        if (NOT l_U836)
        {
            SET_SPRITES_DRAW_BEFORE_FADE( 1 );
            DRAW_SPRITE( l_U1567, 0.50000000, 0.50000000, 1.00000000, 1.00000000, 0.00000000, 255, 255, 255, 255 );
            SET_SPRITES_DRAW_BEFORE_FADE( 0 );
        }
    }
    return;
}

int sub_15283(unknown uParam0, unknown uParam1)
{
    if (sub_6166( uParam0, uParam1 ))
    {
        if (IS_SCREEN_FADED_IN())
        {
            if (sub_15318())
            {
                return 1;
            }
        }
    }
    return 0;
}

void sub_15318()
{
    return IS_CONTROL_JUST_PRESSED( 2, 77 );
}

void sub_15503()
{
    switch (l_U819)
    {
        case 0:
        if ((NOT (CHECK_STUCK_TIMER( l_U942, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4129(), l_U942 )))
        {
            if (IS_SCREEN_FADED_IN())
            {
                if (sub_4817( "BC3_GO", ref l_U1573[0], 8, 1 ))
                {
                    TASK_LOOK_AT_CHAR( l_U918, sub_4129(), -2, 0 );
                    sub_15799();
                    l_U819 = 1;
                }
            }
        }
        sub_15887( ref l_U942, "BC3_GETIN", "BER3_GOD4", ref l_U1573[1], ref l_U913, ref l_U914, ref l_U1072 );
        break;
        case 1:
        if ((NOT (CHECK_STUCK_TIMER( l_U942, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4129(), l_U942 )))
        {
            l_U914 = 0;
            l_U913 = 0;
            if (l_U858)
            {
                if (sub_6166( ref l_U1072, 3000 ))
                {
                    CLEAR_PRINTS();
                    sub_16356( "BC3_GO", ref l_U1573[0], 8, 1 );
                    l_U858 = 0;
                }
            }
            else if (NOT (sub_16047( l_U1573[0] )))
            {
                l_U915 = 1;
                CLEAR_CHAR_TASKS( l_U918 );
                PRINT_NOW( "BER3_GOD1", 7500, 1 );
                GET_GAME_TIMER( ref l_U1008 );
                l_U819 = 4;
            }
        }
        else
        {
            GET_GAME_TIMER( ref l_U1072 );
            if (NOT l_U858)
            {
                if (sub_16047( l_U1573[0] ))
                {
                    l_U858 = sub_16609( ref l_U1573[0] );
                }
            }
            if (NOT l_U914)
            {
                if ((NOT (CHECK_STUCK_TIMER( l_U942, 0, 0 ))) AND (NOT (IS_CHAR_SITTING_IN_CAR( sub_4129(), l_U942 ))))
                {
                    sub_4817( "BC3_GETIN", ref l_U1573[1], 8, 1 );
                    l_U914 = 1;
                }
            }
            else if (NOT l_U913)
            {
                if (NOT (sub_16047( l_U1573[1] )))
                {
                    CLEAR_PRINTS();
                    PRINT( "BER3_GOD4", 7500, 1 );
                    l_U913 = 1;
                }
            }
        }
        break;
        case 4:
        switch (g_U65005)
        {
            case 0:
            if (sub_6166( ref l_U1008, 7500 ))
            {
                if ((NOT (CHECK_STUCK_TIMER( l_U942, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4129(), l_U942 )))
                {
                    if (sub_4817( "BC3_BANT1V1", ref l_U1573[0], 8, 1 ))
                    {
                        sub_15799();
                        TASK_LOOK_AT_CHAR( l_U918, sub_4129(), -2, 0 );
                        l_U819 = 5;
                        break;
                    }
                }
            }
            if ((NOT (CHECK_STUCK_TIMER( l_U942, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4129(), l_U942 )))
            {
                l_U914 = 0;
                l_U913 = 0;
                if ((l_U916) AND (sub_6166( ref l_U1008, 3000 )))
                {
                    if (sub_4817( "BC3_BANT1V1", ref l_U1573[0], 8, 1 ))
                    {
                        sub_15799();
                        TASK_LOOK_AT_CHAR( l_U918, sub_4129(), -2, 0 );
                        l_U819 = 5;
                    }
                }
            }
            else
            {
                GET_GAME_TIMER( ref l_U1008 );
                if (NOT l_U914)
                {
                    if ((NOT (CHECK_STUCK_TIMER( l_U942, 0, 0 ))) AND (NOT (IS_CHAR_SITTING_IN_CAR( sub_4129(), l_U942 ))))
                    {
                        sub_4817( "BC3_GETIN", ref l_U1573[1], 8, 1 );
                        l_U914 = 1;
                        l_U916 = 1;
                    }
                }
                else if (NOT l_U913)
                {
                    if (NOT (sub_16047( l_U1573[1] )))
                    {
                        CLEAR_PRINTS();
                        PRINT( "BER3_GOD4", 7500, 1 );
                        l_U913 = 1;
                    }
                }
            }
            break;
            case 1:
            if (sub_6166( ref l_U1008, 7500 ))
            {
                if ((NOT (CHECK_STUCK_TIMER( l_U942, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4129(), l_U942 )))
                {
                    if (sub_4817( "BC3_BANT1V1", ref l_U1573[0], 8, 1 ))
                    {
                        sub_15799();
                        TASK_LOOK_AT_CHAR( l_U918, sub_4129(), -2, 0 );
                        l_U819 = 5;
                        break;
                    }
                }
            }
            if ((NOT (CHECK_STUCK_TIMER( l_U942, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4129(), l_U942 )))
            {
                l_U914 = 0;
                l_U913 = 0;
                if (sub_6166( ref l_U1008, 3000 ))
                {
                    if (sub_4817( "BC3_BANT1V2", ref l_U1573[0], 8, 1 ))
                    {
                        sub_15799();
                        TASK_LOOK_AT_CHAR( l_U918, sub_4129(), -2, 0 );
                        l_U819 = 5;
                    }
                }
            }
            else
            {
                GET_GAME_TIMER( ref l_U1008 );
                if (NOT l_U914)
                {
                    if ((NOT (CHECK_STUCK_TIMER( l_U942, 0, 0 ))) AND (NOT (IS_CHAR_SITTING_IN_CAR( sub_4129(), l_U942 ))))
                    {
                        sub_4817( "BC3_GETIN", ref l_U1573[1], 8, 1 );
                        l_U914 = 1;
                    }
                }
                else if (NOT l_U913)
                {
                    if (NOT (sub_16047( l_U1573[1] )))
                    {
                        CLEAR_PRINTS();
                        PRINT( "BER3_GOD4", 7500, 1 );
                        l_U913 = 1;
                    }
                }
            }
            break;
            case 2:
            sub_15887( ref l_U942, "BC3_GETIN", "BER3_GOD4", ref l_U1573[1], ref l_U913, ref l_U914, ref l_U1072 );
            break;
        }
        break;
        case 5:
        switch (g_U65005)
        {
            case 0:
            if ((NOT (CHECK_STUCK_TIMER( l_U942, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4129(), l_U942 )))
            {
                l_U914 = 0;
                l_U913 = 0;
                if (l_U858)
                {
                    if (sub_6166( ref l_U1072, 3000 ))
                    {
                        CLEAR_PRINTS();
                        sub_16356( "BC3_BANT1V1", ref l_U1573[0], 8, 1 );
                        l_U858 = 0;
                    }
                }
                else if (NOT (sub_16047( l_U1573[0] )))
                {
                    CLEAR_CHAR_TASKS( l_U918 );
                    l_U819 = 24;
                }
            }
            else
            {
                GET_GAME_TIMER( ref l_U1072 );
                if (NOT l_U858)
                {
                    if (sub_16047( l_U1573[0] ))
                    {
                        l_U858 = sub_16609( ref l_U1573[0] );
                    }
                }
                if (NOT l_U914)
                {
                    if ((NOT (CHECK_STUCK_TIMER( l_U942, 0, 0 ))) AND (NOT (IS_CHAR_SITTING_IN_CAR( sub_4129(), l_U942 ))))
                    {
                        sub_4817( "BC3_GETIN", ref l_U1573[1], 8, 1 );
                        l_U914 = 1;
                    }
                }
                else if (NOT l_U913)
                {
                    if (NOT (sub_16047( l_U1573[1] )))
                    {
                        CLEAR_PRINTS();
                        PRINT( "BER3_GOD4", 7500, 1 );
                        l_U913 = 1;
                    }
                }
            }
            break;
            case 1:
            if ((NOT (CHECK_STUCK_TIMER( l_U942, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4129(), l_U942 )))
            {
                l_U914 = 0;
                l_U913 = 0;
                if (l_U858)
                {
                    if (sub_6166( ref l_U1072, 3000 ))
                    {
                        CLEAR_PRINTS();
                        sub_16356( "BC3_BANT1V2", ref l_U1573[0], 8, 1 );
                        l_U858 = 0;
                    }
                }
                else if (NOT (sub_16047( l_U1573[0] )))
                {
                    CLEAR_CHAR_TASKS( l_U918 );
                    l_U819 = 24;
                }
            }
            else
            {
                GET_GAME_TIMER( ref l_U1072 );
                if (NOT l_U858)
                {
                    if (sub_16047( l_U1573[0] ))
                    {
                        l_U858 = sub_16609( ref l_U1573[0] );
                    }
                }
                if (NOT l_U914)
                {
                    if ((NOT (CHECK_STUCK_TIMER( l_U942, 0, 0 ))) AND (NOT (IS_CHAR_SITTING_IN_CAR( sub_4129(), l_U942 ))))
                    {
                        sub_4817( "BC3_GETIN", ref l_U1573[1], 8, 1 );
                        l_U914 = 1;
                    }
                }
                else if (NOT l_U913)
                {
                    if (NOT (sub_16047( l_U1573[1] )))
                    {
                        CLEAR_PRINTS();
                        PRINT( "BER3_GOD4", 7500, 1 );
                        l_U913 = 1;
                    }
                }
            }
            break;
            case 2:
            sub_15887( ref l_U942, "BC3_GETIN", "BER3_GOD4", ref l_U1573[1], ref l_U913, ref l_U914, ref l_U1072 );
            break;
        }
        break;
        case 24:
        if ((NOT (CHECK_STUCK_TIMER( l_U942, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4129(), l_U942 )))
        {
            if (l_U914)
            {
                CLEAR_PRINTS();
                l_U913 = 0;
                l_U914 = 0;
            }
        }
        else if (NOT l_U914)
        {
            if ((NOT (CHECK_STUCK_TIMER( l_U942, 0, 0 ))) AND (NOT (IS_CHAR_SITTING_IN_CAR( sub_4129(), l_U942 ))))
            {
                sub_4817( "BC3_GETIN", ref l_U1573[1], 8, 1 );
                l_U914 = 1;
            }
        }
        else if (NOT l_U913)
        {
            if (NOT (sub_16047( l_U1573[1] )))
            {
                CLEAR_PRINTS();
                PRINT( "BER3_GOD4", 7500, 1 );
                l_U913 = 1;
            }
        };;;
        break;
        case 6:
        if ((NOT (CHECK_STUCK_TIMER( l_U942, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4129(), l_U942 )))
        {
            sub_19337( ref l_U1573[1], 0 );
            if (sub_4817( "BC3_ARRIVE", ref l_U1573[2], 8, 1 ))
            {
                l_U819 = 7;
            }
        }
        break;
        case 7:
        if ((IS_CHAR_IN_CAR( sub_4129(), l_U942 )) AND ((sub_6898( ref l_U918 )) < 4.00000000))
        {
            if (l_U858)
            {
                sub_16356( "BC3_ARRIVE", ref l_U1573[2], 8, 1 );
                l_U858 = 0;
            }
            if (NOT (sub_16047( l_U1573[2] )))
            {
                l_U857 = 1;
            }
        }
        else if (NOT l_U858)
        {
            if (sub_16047( l_U1573[2] ))
            {
                sub_16609( ref l_U1573[2] );
                l_U858 = 1;
            }
        }
        break;
        case 9:
        if ((NOT (CHECK_STUCK_TIMER( l_U942, 0, 250 ))) AND (IS_CHAR_IN_CAR( sub_4129(), l_U942 )))
        {
            if (l_U858)
            {
                sub_16356( "BC3_CHASE", ref l_U1573[4], 8, 1 );
                l_U858 = 0;
            }
            if (NOT (sub_16047( l_U1573[4] )))
            {
                CLEAR_PRINTS();
                PRINT_NOW( "BER3_GOD2", 7500, 1 );
                GET_GAME_TIMER( ref l_U1008 );
                l_U819 = 10;
            }
        }
        else if (NOT l_U858)
        {
            if (sub_16047( l_U1573[4] ))
            {
                sub_16609( ref l_U1573[4] );
                l_U858 = 1;
            }
        }
        break;
        case 10:
        switch (g_U65005)
        {
            case 0:
            if (sub_6166( ref l_U1008, 7500 ))
            {
                if ((NOT (CHECK_STUCK_TIMER( l_U942, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4129(), l_U942 )))
                {
                    CLEAR_PRINTS();
                    if (sub_4817( "BC3_BANT2V1", ref l_U1573[5], 8, 1 ))
                    {
                        l_U858 = 0;
                        l_U819 = 11;
                    }
                }
            }
            break;
            case 1:
            if (sub_6166( ref l_U1008, 7500 ))
            {
                if ((NOT (CHECK_STUCK_TIMER( l_U942, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4129(), l_U942 )))
                {
                    CLEAR_PRINTS();
                    if (sub_4817( "BC3_BANT2V2", ref l_U1573[5], 8, 1 ))
                    {
                        l_U858 = 0;
                        l_U819 = 11;
                    }
                }
            }
            break;
            case 2: break;
        }
        break;
        case 11:
        switch (g_U65005)
        {
            case 0:
            if ((NOT (CHECK_STUCK_TIMER( l_U942, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4129(), l_U942 )))
            {
                if (l_U858)
                {
                    sub_16356( "BC3_BANT2V1", ref l_U1573[5], 8, 1 );
                    l_U858 = 0;
                }
                if (NOT (sub_16047( l_U1573[5] )))
                {
                    l_U819 = 25;
                }
            }
            else if (NOT l_U858)
            {
                if (sub_16047( l_U1573[5] ))
                {
                    sub_16609( ref l_U1573[5] );
                    l_U858 = 1;
                }
            }
            break;
            case 1:
            if ((NOT (CHECK_STUCK_TIMER( l_U942, 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4129(), l_U942 )))
            {
                if (l_U858)
                {
                    sub_16356( "BC3_BANT2V2", ref l_U1573[5], 8, 1 );
                    l_U858 = 0;
                }
                if (NOT (sub_16047( l_U1573[5] )))
                {
                    l_U819 = 25;
                }
            }
            else if (NOT l_U858)
            {
                if (sub_16047( l_U1573[5] ))
                {
                    sub_16609( ref l_U1573[5] );
                    l_U858 = 1;
                }
            }
            break;
            case 2: break;
        }
        break;
        case 13:
        if ((NOT (CHECK_STUCK_TIMER( l_U942, 0, 250 ))) AND (IS_CHAR_IN_CAR( sub_4129(), l_U942 )))
        {
            if (l_U858)
            {
                sub_16356( "BC3_JUMP", ref l_U1573[0], 8, 1 );
                l_U858 = 0;
            }
            if (NOT (sub_16047( l_U1573[0] )))
            {
                l_U819 = 24;
            }
        }
        else if (NOT l_U858)
        {
            if (sub_16047( l_U1573[0] ))
            {
                sub_16609( ref l_U1573[0] );
                l_U858 = 1;
            }
        }
        break;
        case 14:
        if ((NOT (CHECK_STUCK_TIMER( l_U942, 0, 250 ))) AND (IS_CHAR_IN_CAR( sub_4129(), l_U942 )))
        {
            if (sub_4817( "BC3_CLOSE", ref l_U1573[7], 8, 1 ))
            {
                l_U819 = 15;
            }
        }
        break;
        case 15:
        if ((IS_CHAR_IN_CAR( sub_4129(), l_U942 )) AND ((sub_6898( ref l_U918 )) < 4.00000000))
        {
            if (l_U858)
            {
                sub_16356( "BC3_CLOSE", ref l_U1573[7], 8, 1 );
                l_U858 = 0;
            }
            if (l_U866)
            {
                if (NOT (sub_16047( l_U1573[7] )))
                {
                    if (NOT (IS_CAR_DEAD( l_U942 )))
                    {
                        GET_CAR_HEALTH( l_U942, ref l_U1021 );
                        l_U867 = 1;
                    }
                }
            }
        }
        else if (NOT l_U858)
        {
            if (sub_16047( l_U1573[7] ))
            {
                sub_16609( ref l_U1573[7] );
                l_U858 = 1;
            }
        }
        break;
        case 16:
        if ((NOT (CHECK_STUCK_TIMER( l_U942, 0, 250 ))) AND (IS_CHAR_IN_CAR( sub_4129(), l_U942 )))
        {
            if (sub_4817( "BC3_OOPS", ref l_U1573[8], 8, 1 ))
            {
                l_U819 = 17;
            }
        }
        break;
        case 17:
        if ((NOT (CHECK_STUCK_TIMER( l_U942, 0, 250 ))) AND (IS_CHAR_IN_CAR( sub_4129(), l_U942 )))
        {
            if (l_U858)
            {
                sub_16356( "BC3_OOPS", ref l_U1573[8], 8, 1 );
                l_U858 = 0;
            }
            if (NOT (sub_16047( l_U1573[8] )))
            {
                ;
            }
        }
        else if (NOT l_U858)
        {
            if (sub_16047( l_U1573[8] ))
            {
                sub_16609( ref l_U1573[8] );
                l_U858 = 1;
            }
        }
        break;
        case 18:
        if (l_U854)
        {
            if (sub_6166( ref l_U1037, 7500 ))
            {
                if ((sub_21276( ref l_U945 )) < 100.00000000)
                {
                    if (NOT (CHECK_STUCK_TIMER( l_U942, 0, 250 )))
                    {
                        CLEAR_PRINTS();
                        sub_4817( "BC3_DOCK", ref l_U1573[9], 8, 1 );
                        l_U819 = 19;
                    }
                }
            }
        }
        break;
        case 19:
        if (NOT (IS_CAR_DEAD( l_U942 )))
        {
            if (NOT (CHECK_STUCK_TIMER( l_U942, 0, 250 )))
            {
                if (l_U858)
                {
                    sub_16356( "BC3_DOCK", ref l_U1573[9], 8, 1 );
                    l_U858 = 0;
                }
                if (NOT (sub_16047( l_U1573[9] )))
                {
                    if ((NOT (IS_CHAR_INJURED( l_U919[1] ))) AND (NOT (IS_CHAR_INJURED( l_U919[0] ))))
                    {
                        PRINT_NOW( "BER3_GOD3", 7500, 1 );
                    }
                    else
                    {
                        PRINT_NOW( "BER3_GOD3b", 7500, 1 );
                    }
                    GET_GAME_TIMER( ref l_U1063 );
                    l_U819 = 20;
                }
            }
            else if (NOT l_U858)
            {
                if (sub_16047( l_U1573[9] ))
                {
                    sub_16609( ref l_U1573[9] );
                    l_U858 = 1;
                }
            }
        }
        break;
        case 20:
        if (sub_6166( ref l_U1063, 7500 ))
        {
            if (sub_21799())
            {
                if (sub_4817( "BC3_WAIT", ref l_U1573[10], 8, 1 ))
                {
                    l_U819 = 21;
                }
            }
        }
        break;
        case 21:
        if (NOT (CHECK_STUCK_TIMER( l_U942, 0, 250 )))
        {
            if (NOT (sub_16047( l_U1573[10] )))
            {
                l_U819 = 22;
            }
        }
        break;
        case 22:
        if (NOT (CHECK_STUCK_TIMER( l_U942, 0, 250 )))
        {
            if (sub_4817( "BC3_AFTER", ref l_U1573[11], 8, 1 ))
            {
                l_U819 = 23;
            }
        }
        break;
        case 23:
        if (NOT (sub_16047( l_U1573[11] )))
        {
            l_U868 = 1;
            l_U819 = 25;
        }
        break;
        case 25: break;
    }
    if (NOT l_U859)
    {
        for ( l_U992 = 0; l_U992 <= 2; l_U992++ )
        {
            if (LOCATE_CHAR_IN_CAR_3D( sub_4129(), l_U1297[l_U992]._fU0, l_U1297[l_U992]._fU4, l_U1297[l_U992]._fU8, 1.70000000, 1.70000000, 1.70000000, 0 ))
            {
                if (NOT (IS_CHAR_INJURED( l_U918 )))
                {
                    if ((IS_CHAR_IN_CAR( sub_4129(), l_U942 )) AND (IS_CHAR_IN_CAR( l_U918, l_U942 )))
                    {
                        sub_4817( "BC3_JUMP", ref l_U1573[0], 8, 1 );
                        l_U859 = 1;
                        l_U819 = 13;
                    }
                }
            }
        }
    }
    if (NOT l_U861)
    {
        if ((IS_CHAR_IN_CAR( sub_4129(), l_U942 )) AND (sub_22432()))
        {
            l_U819 = 14;
            l_U861 = 1;
        }
    }
    return;
}

void sub_15799()
{
    l_U858 = 0;
    l_U913 = 0;
    l_U914 = 0;
    return;
}

void sub_15887(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
    if ((NOT (CHECK_STUCK_TIMER( (uParam0^), 0, 250 ))) AND (IS_CHAR_SITTING_IN_CAR( sub_4129(), (uParam0^) )))
    {
        (uParam5^) = 0;
        if ((uParam4^))
        {
            CLEAR_PRINTS();
            (uParam4^) = 0;
        }
    }
    else
    {
        GET_GAME_TIMER( uParam6 );
        if (NOT (uParam5^))
        {
            if ((NOT (CHECK_STUCK_TIMER( (uParam0^), 0, 0 ))) AND (NOT (IS_CHAR_SITTING_IN_CAR( sub_4129(), (uParam0^) ))))
            {
                sub_4817( uParam1, uParam3, 8, 1 );
                (uParam5^) = 1;
            }
        }
        else if (NOT (uParam4^))
        {
            if (NOT (sub_16047( (uParam3^) )))
            {
                CLEAR_PRINTS();
                PRINT_NOW( uParam2, 7500, 1 );
                (uParam4^) = 1;
            }
        }
    }
    return;
}

int sub_16047(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    if ((g_U8394 == 2) || ((g_U8394 == 1) || (IS_SCRIPTED_CONVERSATION_ONGOING())))
    {
        if (uParam0._fU4 == g_U8393)
        {
            return 1;
        }
        else
        {
            sub_4991( "\n speech is playing, but not from this structure" );
        }
    }
    else
    {
        sub_4991( "\n speech is not playing" );
    }
    return 0;
}

void sub_16356(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    return sub_16377( uParam0, ref l_U4._fU0, uParam1, uParam2, uParam3 );
}

int sub_16377(unknown uParam0, unknown uParam1, int iParam2, unknown uParam3, unknown uParam4)
{
    char[16] cVar7;
    char[12] cVar11;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    StrCopy( ref cVar7, uParam1, 16 );
    array(ref cVar11, 2);
    if (iParam2->_fU12)
    {
        StrCopy( ref cVar11[0], uParam0, 16 );
        StrCopy( ref cVar11[1], "END", 16 );
        return sub_4892( ref cVar11, iParam2, uParam3, 1, 0, 0, 0, ref cVar7, uParam4 );
    }
    return 0;
}

int sub_16609(int iParam0)
{
    if (iParam0->_fU12)
    {
        sub_4991( "\n already paused" );
    }
    else if ((g_U8394 == 2) || ((g_U8394 == 1) || (IS_SCRIPTED_CONVERSATION_ONGOING())))
    {
        if (iParam0->_fU4 == g_U8393)
        {
            iParam0->_fU8 += (ABORT_SCRIPTED_CONVERSATION( 0 )) + 1;
            sub_4991( "\n CONVERSATION PAUSED AT LINE " );
            sub_16765( iParam0->_fU8 );
            iParam0->_fU12 = 1;
            iParam0->_fU16 = 0;
            return 1;
        }
        else
        {
            sub_4991( "\n NOT pausing the line as scripted and global speech id dont match or the speech is already paused" );
        }
    }
    else
    {
        sub_4991( "\n NOT pausing the line as conversation is not playing" );
    }
    if (NOT iParam0->_fU12)
    {
        iParam0->_fU8 = -1;
        sub_4991( "\n reseting paused struct line" );
    }
    return 0;
}

void sub_16765(unknown uParam0)
{
    return;
}

void sub_19337(int iParam0, unknown uParam1)
{
    PRINTSTRING( "\n KILL SPEECH CALLED***************************************" );
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if (iParam0->_fU4 == g_U8393)
        {
            ABORT_SCRIPTED_CONVERSATION( uParam1 );
        }
    }
    return;
}

float sub_21276(unknown uParam0)
{
    vector vVar3;
    vector vVar6;
    float Result;

    vVar3 = {0.00000000, 0.00000000, 0.00000000};
    vVar6 = {0.00000000, 0.00000000, 0.00000000};
    Result = 0.00000000;
    if (NOT (IS_CAR_DEAD( (uParam0^) )))
    {
        GET_CHAR_COORDINATES( sub_4129(), ref vVar3.x, ref vVar3.y, ref vVar3.z );
        GET_CAR_COORDINATES( (uParam0^), ref vVar6.x, ref vVar6.y, ref vVar6.z );
        GET_DISTANCE_BETWEEN_COORDS_3D( vVar3.x, vVar3.y, vVar3.z, vVar6.x, vVar6.y, vVar6.z, ref Result );
        return Result;
    }
    return 22.22000000;
}

int sub_21799()
{
    if ((sub_21812( ref l_U945 )) < 30.00000000)
    {
        l_U863 = 1;
        return 1;
    }
    return 0;
}

float sub_21812(unknown uParam0)
{
    if (NOT (IS_CAR_DEAD( (uParam0^) )))
    {
        GET_CAR_COORDINATES( (uParam0^), ref l_U1317._fU0, ref l_U1317._fU4, ref l_U1317._fU8 );
        GET_CHAR_COORDINATES( sub_4129(), ref l_U1085._fU0, ref l_U1085._fU4, ref l_U1085._fU8 );
        GET_DISTANCE_BETWEEN_COORDS_3D( l_U1317._fU0, l_U1317._fU4, l_U1317._fU8, l_U1085._fU0, l_U1085._fU4, l_U1085._fU8, ref l_U1488 );
        return l_U1488;
    }
    return 222.22000000;
}

int sub_22432()
{
    if (NOT (IS_CAR_DEAD( l_U950[0] )))
    {
        GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( l_U950[0], 0.00000000, -13.00000000, 10.00000000, ref l_U1320[3]._fU0, ref l_U1320[3]._fU4, ref l_U1320[3]._fU8 );
        GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( l_U950[0], -15.00000000, -13.00000000, -10.00000000, ref l_U1333[3]._fU0, ref l_U1333[3]._fU4, ref l_U1333[3]._fU8 );
        switch (l_U820)
        {
            case 0:
            GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( l_U950[0], 0.00000000, -3.00000000, 10.00000000, ref l_U1320[0]._fU0, ref l_U1320[0]._fU4, ref l_U1320[0]._fU8 );
            GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( l_U950[0], 20.00000000, -3.00000000, -10.00000000, ref l_U1333[0]._fU0, ref l_U1333[0]._fU4, ref l_U1333[0]._fU8 );
            if (IS_CHAR_IN_ANGLED_AREA_3D( sub_4129(), l_U1320[0]._fU0, l_U1320[0]._fU4, l_U1320[0]._fU8, l_U1333[0]._fU0, l_U1333[0]._fU4, l_U1333[0]._fU8, 10.00000000, 0 ))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U950[0] ))
                {
                    l_U820 = 1;
                }
            }
            break;
            case 1:
            GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( l_U950[0], 0.00000000, -13.00000000, 10.00000000, ref l_U1320[1]._fU0, ref l_U1320[1]._fU4, ref l_U1320[1]._fU8 );
            GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( l_U950[0], 20.00000000, -13.00000000, -10.00000000, ref l_U1333[1]._fU0, ref l_U1333[1]._fU4, ref l_U1333[1]._fU8 );
            if (IS_CHAR_IN_ANGLED_AREA_3D( sub_4129(), l_U1320[1]._fU0, l_U1320[1]._fU4, l_U1320[1]._fU8, l_U1333[1]._fU0, l_U1333[1]._fU4, l_U1333[1]._fU8, 9.90000000, 0 ))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U950[0] ))
                {
                    l_U820 = 2;
                }
            }
            break;
            case 2:
            GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( l_U950[0], 0.00000000, -18.20000000, 10.00000000, ref l_U1320[2]._fU0, ref l_U1320[2]._fU4, ref l_U1320[2]._fU8 );
            GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( l_U950[0], 20.00000000, -18.20000000, -10.00000000, ref l_U1333[2]._fU0, ref l_U1333[2]._fU4, ref l_U1333[2]._fU8 );
            if (NOT (IS_CHAR_IN_ANGLED_AREA_3D( sub_4129(), l_U1320[2]._fU0, l_U1320[2]._fU4, l_U1320[2]._fU8, l_U1333[2]._fU0, l_U1333[2]._fU4, l_U1333[1]._fU8, 2.00000000, 0 )))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U950[0] ))
                {
                    return 1;
                }
            }
            break;
        }
    }
    return 0;
}

void sub_23387(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    if (DOES_BLIP_EXIST( (uParam1^) ))
    {
        if (NOT (IS_CAR_DEAD( (uParam2^) )))
        {
            if (NOT (IS_CHAR_SITTING_IN_CAR( sub_4129(), (uParam2^) )))
            {
                REMOVE_BLIP( (uParam1^) );
                if (NOT (DOES_BLIP_EXIST( (uParam3^) )))
                {
                    ADD_BLIP_FOR_CAR( (uParam2^), uParam3 );
                    SET_BLIP_AS_FRIENDLY( (uParam3^), 1 );
                }
            }
        }
    }
    else if (NOT (IS_CAR_DEAD( (uParam2^) )))
    {
        if (IS_CHAR_SITTING_IN_CAR( sub_4129(), (uParam2^) ))
        {
            REMOVE_BLIP( (uParam3^) );
            if (NOT (DOES_BLIP_EXIST( (uParam1^) )))
            {
                ADD_BLIP_FOR_COORD( iParam0->_fU0, iParam0->_fU4, iParam0->_fU8, uParam1 );
                if (l_U915)
                {
                    CLEAR_PRINTS();
                    PRINT( "BER3_GOD1", 7500, 1 );
                }
            }
        }
    }
    return;
}

int sub_23720(boolean bParam0, boolean bParam1)
{
    unknown uVar4;
    int iVar5;
    float fVar6;

    if (IS_MINIGAME_IN_PROGRESS())
    {
        return 0;
    }
    if (bParam1)
    {
        if (IS_CHAR_IN_ANY_CAR( sub_4129() ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_4129(), ref uVar4 );
            if (NOT (IS_CAR_DEAD( uVar4 )))
            {
                GET_CAR_UPRIGHT_VALUE( uVar4, ref fVar6 );
                if ((fVar6 > 1.01100000) || (fVar6 < 0.95000000))
                {
                    return 0;
                }
            }
        }
    }
    if (bParam0)
    {
        if (IS_CHAR_IN_ANY_CAR( sub_4129() ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_4129(), ref uVar4 );
            if (NOT (IS_CAR_DEAD( uVar4 )))
            {
                GET_DRIVER_OF_CAR( uVar4, ref iVar5 );
                if (NOT (iVar5 == sub_4129()))
                {
                    return 0;
                }
            }
        }
    }
    if (IS_CHAR_IN_ANY_CAR( sub_4129() ))
    {
        if (NOT (IS_CHAR_SITTING_IN_ANY_CAR( sub_4129() )))
        {
            return 0;
        }
    }
    if (NOT (IS_PLAYER_READY_FOR_CUTSCENE( sub_3639() )))
    {
        return 0;
    }
    if (NOT (CAN_PLAYER_START_MISSION( sub_3639() )))
    {
        return 0;
    }
    return 1;
}

int sub_24010()
{
    if (NOT (IS_CHAR_INJURED( l_U918 )))
    {
        if (NOT (IS_CAR_DEAD( l_U942 )))
        {
            if (IS_CHAR_SITTING_IN_CAR( sub_4129(), l_U942 ))
            {
                if (IS_CHAR_SITTING_IN_CAR( l_U918, l_U942 ))
                {
                    return 1;
                }
            }
        }
    }
    return 0;
}

int sub_24170(boolean bParam0)
{
    int iVar3;

    if (NOT IS_SCREEN_FADED_OUT())
    {
        if (NOT IS_SCREEN_FADING())
        {
            if (IS_CHAR_IN_ANY_BOAT( sub_4129() ))
            {
                iVar3 = 0;
            }
            else
            {
                iVar3 = 1;
            }
            if (sub_23720( 1, iVar3 ))
            {
                if (bParam0)
                {
                    SET_PLAYER_CONTROL( sub_3639(), 0 );
                }
                DO_SCREEN_FADE_OUT( 500 );
            }
        }
    }
    else
    {
        sub_3696( 0 );
        CLEAR_PRINTS();
        CLEAR_HELP();
        SET_PLAYER_CONTROL( sub_3639(), 0 );
        CLEAR_CHAR_TASKS( sub_4129() );
        DISPLAY_HUD( 0 );
        DISPLAY_RADAR( 0 );
        SET_WIDESCREEN_BORDERS( 1 );
        HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_4129(), 1 );
        ALLOW_EMERGENCY_SERVICES( 0 );
        return 1;
    }
    return 0;
}

void sub_25330(unknown uParam0, unknown uParam1)
{
    sub_25348( 1, 1 );
    sub_25417( uParam0 );
    sub_25516( 1, ref l_U179, 1, 1 );
    sub_25624( uParam1 );
    return;
    break;
    2;
    1;
    ref l_U115;
    2;
    1;
    ref l_U178;
    2;
    1;
    ref l_U179;
    1;
    ref l_U178;
    1;
    1;
    ref l_U115;
    uParam1;
    2;
    1;
    ref l_U114;
    ref l_U114;
    uParam0;
    break;
}

void sub_25348(unknown uParam0, unknown uParam1)
{
    if (DOES_CHAR_EXIST( (uParam0^) ))
    {
        if (NOT (IS_CHAR_INJURED( (uParam0^) )))
        {
            GET_CHAR_HEALTH( (uParam0^), uParam1 );
        }
    }
    return;
}

void sub_25417(unknown uParam0)
{
    if (DOES_CHAR_EXIST( (uParam0^) ))
    {
        if (NOT (IS_CHAR_INJURED( (uParam0^) )))
        {
            SET_CHAR_HEALTH( (uParam0^), 200 );
            SET_CHAR_PROOFS( (uParam0^), 1, 1, 1, 1, 1 );
        }
    }
    return;
}

void sub_25516(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    if (DOES_VEHICLE_EXIST( (uParam0^) ))
    {
        if (IS_VEH_DRIVEABLE( (uParam0^) ))
        {
            GET_CAR_HEALTH( (uParam0^), uParam1 );
            (uParam2^) = GET_ENGINE_HEALTH( (uParam0^) );
            (uParam3^) = GET_PETROL_TANK_HEALTH( (uParam0^) );
        }
    }
    return;
}

void sub_25624(unknown uParam0)
{
    if (DOES_VEHICLE_EXIST( (uParam0^) ))
    {
        if (IS_VEH_DRIVEABLE( (uParam0^) ))
        {
            if (ProtectedGet(l_U115) < 500)
            {
                SET_CAR_HEALTH( (uParam0^), 500 );
            }
            if (ProtectedGet(l_U178) < 500)
            {
                SET_ENGINE_HEALTH( (uParam0^), 500.00000000 );
            }
            if (ProtectedGet(l_U179) < 500.00000000)
            {
                SET_PETROL_TANK_HEALTH( (uParam0^), 500.00000000 );
            }
            SET_CAR_PROOFS( (uParam0^), 1, 1, 1, 1, 1 );
        }
    }
    return;
}

void sub_30775(unknown uParam0, unknown uParam1)
{
    sub_30786( uParam1 );
    sub_31047( uParam0 );
    return;
}

void sub_30786(unknown uParam0)
{
    if (DOES_VEHICLE_EXIST( (uParam0^) ))
    {
        if (IS_VEH_DRIVEABLE( (uParam0^) ))
        {
            SET_CAR_PROOFS( (uParam0^), 0, 0, 0, 0, 0 );
            sub_30842( uParam0 );
        }
    }
    return;
}

void sub_30842(unknown uParam0)
{
    if (DOES_VEHICLE_EXIST( (uParam0^) ))
    {
        if (IS_VEH_DRIVEABLE( (uParam0^) ))
        {
            if (ProtectedGet(l_U115) < 500)
            {
                SET_CAR_HEALTH( (uParam0^), 500 );
            }
            else
            {
                SET_CAR_HEALTH( (uParam0^), ProtectedGet(l_U115) );
            }
            if (ProtectedGet(l_U178) < 500)
            {
                SET_ENGINE_HEALTH( (uParam0^), 500.00000000 );
            }
            else
            {
                SET_ENGINE_HEALTH( (uParam0^), ProtectedGet(l_U178) );
            }
            if (ProtectedGet(l_U179) < 500.00000000)
            {
                SET_PETROL_TANK_HEALTH( (uParam0^), 500.00000000 );
            }
            else
            {
                SET_PETROL_TANK_HEALTH( (uParam0^), ProtectedGet(l_U179) );
            }
        }
    }
    return;
}

void sub_31047(unknown uParam0)
{
    unknown uVar3;

    if (DOES_CHAR_EXIST( (uParam0^) ))
    {
        if (NOT (IS_CHAR_INJURED( (uParam0^) )))
        {
            SET_CHAR_PROOFS( (uParam0^), 0, 0, 0, 0, 0 );
            if (ProtectedGet(l_U114) < 110)
            {
                SET_CHAR_HEALTH( (uParam0^), 120 );
            }
            else
            {
                SET_CHAR_HEALTH( (uParam0^), ProtectedGet(l_U114) );
            }
        }
    }
    return;
}

void sub_31815()
{
    CLEAR_PRINTS();
    sub_3696( 0 );
    if (NOT IS_SCREEN_FADED_OUT())
    {
        if (NOT IS_SCREEN_FADING_OUT())
        {
            DO_SCREEN_FADE_OUT( 500 );
        }
    }
    else if (NOT (IS_CHAR_INJURED( l_U918 )))
    {
        if (NOT (IS_CAR_DEAD( l_U942 )))
        {
            if (NOT (IS_CAR_DEAD( l_U945 )))
            {
                if ((NOT (IS_CHAR_INJURED( l_U919[2] ))) AND ((NOT (IS_CHAR_INJURED( l_U919[1] ))) AND (NOT (IS_CHAR_INJURED( l_U919[0] )))))
                {
                    if (NOT (HAS_CHAR_GOT_WEAPON( l_U919[1], 13 )))
                    {
                        GIVE_WEAPON_TO_CHAR( l_U919[1], 13, 30000, 1 );
                        SET_CURRENT_CHAR_WEAPON( l_U919[1], 13, 1 );
                    }
                    SET_CAR_COORDINATES_NO_OFFSET( l_U942, 1125.20300000, -850.03410000, 0.00000000 );
                    SET_CAR_HEADING( l_U942, 67.68240000 );
                    GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( l_U918, 0.00000000, 0.00000000, 1.80000000, ref l_U1148._fU0, ref l_U1148._fU4, ref l_U1148._fU8 );
                    CLEAR_CHAR_TASKS( l_U919[1] );
                    OPEN_SEQUENCE_TASK( ref l_U1561[1] );
                    TASK_SHOOT_AT_COORD( 0, l_U1148._fU0, l_U1148._fU4, l_U1148._fU8, 99999, 5 );
                    CLOSE_SEQUENCE_TASK( l_U1561[1] );
                    TASK_PERFORM_SEQUENCE( l_U919[1], l_U1561[1] );
                    CLEAR_SEQUENCE_TASK( l_U1561[1] );
                    if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U945 ))
                    {
                        SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( l_U945, -999999 );
                        SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( l_U945, 7000 );
                    }
                    else
                    {
                        START_PLAYBACK_RECORDED_CAR( l_U945, 981 );
                        SET_PLAYBACK_SPEED( l_U945, 1.00000000 );
                        SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( l_U945, -999999 );
                        SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( l_U945, 7000 );
                    }
                    if (NOT l_U836)
                    {
                        RELEASE_TEXTURE( l_U1567 );
                        REMOVE_TXD( l_U1566 );
                        l_U836 = 1;
                    }
                    CLEAR_CHAR_TASKS_IMMEDIATELY( l_U918 );
                    if (IS_PED_ATTACHED_TO_ANY_CAR( l_U918 ))
                    {
                        DETACH_PED( l_U918, 1 );
                        WARP_CHAR_INTO_CAR_AS_PASSENGER( l_U918, l_U942, 0 );
                    }
                    else
                    {
                        WARP_CHAR_INTO_CAR_AS_PASSENGER( l_U918, l_U942, 0 );
                    }
                    CLEAR_CHAR_TASKS_IMMEDIATELY( sub_4129() );
                    if (IS_PED_ATTACHED_TO_ANY_CAR( sub_4129() ))
                    {
                        DETACH_PED( sub_4129(), 1 );
                        WARP_CHAR_INTO_CAR( sub_4129(), l_U942 );
                    }
                    else
                    {
                        WARP_CHAR_INTO_CAR( sub_4129(), l_U942 );
                    }
                    GET_GAME_TIMER( ref l_U1008 );
                    l_U811 = 20;
                }
            }
        }
    }
    return;
}

void sub_32732(unknown uParam0)
{
    int iVar3;
    int iVar4;

    if (l_U105)
    {
        PRINTNL();
        PRINTSTRING( "**** CALLED CONTROL_CHASE_HINT_CAM()" );
    }
    GET_FOLLOW_VEHICLE_CAM_SUBMODE( ref iVar3 );
    if ((IS_HINT_RUNNING()) AND (l_U103))
    {
        iVar4 = 0;
        GET_GAME_TIMER( ref iVar4 );
        if (iVar4 > (l_U104 + 500))
        {
            l_U103 = 0;
        }
    }
    if ((iVar3 != 4) AND ((NOT sub_32900()) AND ((NOT (IS_CHAR_DEAD( (uParam0^) ))) AND ((IS_CHAR_IN_ANY_CAR( sub_4129() )) AND (IS_CONTROL_PRESSED( 0, 51 ))))))
    {
        if ((IS_CHAR_IN_ANY_CAR( (uParam0^) )) AND (NOT IS_HINT_RUNNING()))
        {
            if (l_U105)
            {
                PRINTNL();
                PRINTSTRING( "**** LAUNCHING THE HINT_CAM" );
            }
            SET_CINEMATIC_BUTTON_ENABLED( 0 );
            HINT_CAM( 0.00000000, 0.00000000, 0.00000000, (uParam0^), 0, 0, 999999 );
            SET_HINT_TIMES( 500, 0, 0 );
            SET_HINT_FOV( 45.00000000 );
            GET_GAME_TIMER( ref l_U104 );
            l_U103 = 1;
            l_U102 = 0;
        }
    }
    else if (IS_HINT_RUNNING())
    {
        if ((NOT l_U103) AND (NOT l_U102))
        {
            if (l_U105)
            {
                PRINTNL();
                PRINTSTRING( "**** INTERP HINT_CAM BACK" );
            }
            HINT_CAM( 0.00000000, 0.00000000, 0.00000000, 0, 0, 0, 0 );
            HINT_CAM( 0.00000000, 0.00000000, 0.00000000, (uParam0^), 0, 0, 500 );
            SET_HINT_TIMES( 0, 0, 500 );
            SET_HINT_FOV( 45.00000000 );
            l_U102 = 1;
        }
    }
    else if (l_U102)
    {
        if (l_U105)
        {
            PRINTNL();
            PRINTSTRING( "**** DONE INTERP, RESETTING HINT_CAM VARIABLES" );
        }
        SET_CINEMATIC_BUTTON_ENABLED( 1 );
        SET_HINT_TIMES_DEFAULT();
        SET_HINT_FOV( -1 );
        l_U102 = 0;
    };;;
    return;
}

int sub_32900()
{
    if (g_U555 == 9)
    {
        return 0;
    }
    return 1;
}

void sub_33410()
{
    if (NOT l_U911)
    {
        sub_33430();
    }
    sub_15503();
    switch (l_U815)
    {
        case 0:
        sub_34098();
        if (NOT l_U846)
        {
            if (NOT (IS_CAR_DEAD( l_U945 )))
            {
                if (NOT (IS_CHAR_INJURED( l_U919[0] )))
                {
                    switch (l_U814)
                    {
                        case 0:
                        if (LOCATE_CAR_3D( l_U945, l_U1244[11]._fU0, l_U1244[11]._fU4, l_U1244[11]._fU8, 5.00000000, 5.00000000, 5.00000000, 0 ))
                        {
                            if (DOES_VEHICLE_EXIST( l_U946[0] ))
                            {
                                if (NOT (IS_CAR_DEAD( l_U946[0] )))
                                {
                                    START_PLAYBACK_RECORDED_CAR( l_U946[0], 987 );
                                    SET_PLAYBACK_SPEED( l_U946[0], 1.00000000 );
                                    CREATE_CAR( l_U1550, 390.97910000, -744.35350000, 4.72590000, ref l_U975, 1 );
                                    SET_CAR_HEADING( l_U975, 233.52010000 );
                                    CREATE_CHAR_INSIDE_CAR( l_U975, 26, l_U1531, ref l_U941 );
                                    START_PLAYBACK_RECORDED_CAR( l_U975, 983 );
                                    SET_PLAYBACK_SPEED( l_U975, 1.00000000 );
                                    CHANGE_CAR_COLOUR( l_U975, 24, 27 );
                                    l_U814 = 1;
                                }
                            }
                        }
                        break;
                        case 1:
                        if (LOCATE_CAR_3D( l_U945, l_U1244[9]._fU0, l_U1244[9]._fU4, l_U1244[9]._fU8, 5.00000000, 5.00000000, 5.00000000, 0 ))
                        {
                            if (NOT (IS_CAR_DEAD( l_U971[0] )))
                            {
                                START_PLAYBACK_RECORDED_CAR( l_U971[0], 996 );
                                SET_PLAYBACK_SPEED( l_U971[0], 0.72000000 );
                                l_U965[0] = l_U971[0];
                                l_U1010 = 1;
                                l_U847 = 0;
                                l_U814 = 2;
                            }
                        }
                        break;
                        case 2:
                        if (NOT l_U902)
                        {
                            if (IS_VEH_DRIVEABLE( l_U975 ))
                            {
                                if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U975 )))
                                {
                                    MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U975 );
                                    MARK_MODEL_AS_NO_LONGER_NEEDED( l_U1550 );
                                    DELETE_CAR( ref l_U975 );
                                    l_U902 = 1;
                                    if (NOT (IS_CHAR_INJURED( l_U941 )))
                                    {
                                        MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U941 );
                                        DELETE_CHAR( ref l_U941 );
                                    }
                                }
                            }
                        }
                        if (LOCATE_CAR_3D( l_U945, l_U1244[0]._fU0, l_U1244[0]._fU4, l_U1244[0]._fU8, 5.00000000, 5.00000000, 5.00000000, 0 ))
                        {
                            if (NOT (IS_CAR_DEAD( l_U950[0] )))
                            {
                                START_PLAYBACK_RECORDED_CAR( l_U950[0], 984 );
                                SET_PLAYBACK_SPEED( l_U950[0], 1.00000000 );
                                l_U847 = 1;
                                l_U965[0] = l_U950[0];
                                l_U1010 = 1;
                                l_U860 = 1;
                                CREATE_CAR( l_U1538, l_U1287[2]._fU0, l_U1287[2]._fU4, l_U1287[2]._fU8, ref l_U971[2], 1 );
                                SET_CAR_HEADING( l_U971[2], l_U1483[2] );
                                l_U844 = 1;
                                l_U814 = 3;
                            }
                        }
                        break;
                        case 3:
                        if (LOCATE_CAR_3D( l_U945, l_U1244[1]._fU0, l_U1244[1]._fU4, l_U1244[1]._fU8, 5.00000000, 5.00000000, 5.00000000, 0 ))
                        {
                            if (NOT (IS_CAR_DEAD( l_U971[2] )))
                            {
                                START_PLAYBACK_RECORDED_CAR( l_U971[2], 982 );
                                SET_PLAYBACK_SPEED( l_U971[2], 1.00000000 );
                                l_U965[0] = l_U971[2];
                                l_U1010 = 1;
                                l_U847 = 0;
                                l_U814 = 4;
                            }
                        }
                        break;
                        case 4:
                        if (LOCATE_CAR_3D( l_U945, l_U1244[2]._fU0, l_U1244[2]._fU4, l_U1244[2]._fU8, 5.00000000, 5.00000000, 5.00000000, 0 ))
                        {
                            if (NOT l_U861)
                            {
                                if (NOT (IS_CAR_DEAD( l_U942 )))
                                {
                                    GET_CAR_HEALTH( l_U942, ref l_U1021 );
                                    l_U867 = 1;
                                    l_U861 = 1;
                                }
                            }
                            l_U814 = 5;
                        }
                        break;
                        case 5:
                        if (LOCATE_CAR_3D( l_U945, l_U1244[3]._fU0, l_U1244[3]._fU4, l_U1244[3]._fU8, 5.00000000, 5.00000000, 5.00000000, 0 ))
                        {
                            l_U965[0] = l_U946[0];
                            l_U1010 = 1;
                            l_U847 = 1;
                            CREATE_CAR( l_U1536, l_U1151[1]._fU0, l_U1151[1]._fU4, l_U1151[1]._fU8, ref l_U946[1], 1 );
                            SET_CAR_HEADING( l_U946[1], l_U1458[1] );
                            CREATE_CAR( l_U1538, l_U1287[1]._fU0, l_U1287[1]._fU4, l_U1287[1]._fU8, ref l_U971[1], 1 );
                            SET_CAR_HEADING( l_U971[1], l_U1483[1] );
                            l_U814 = 6;
                        }
                        break;
                        case 6:
                        if (LOCATE_CAR_3D( l_U945, l_U1244[4]._fU0, l_U1244[4]._fU4, l_U1244[4]._fU8, 5.00000000, 5.00000000, 5.00000000, 0 ))
                        {
                            if (NOT (IS_CAR_DEAD( l_U946[1] )))
                            {
                                START_PLAYBACK_RECORDED_CAR( l_U946[1], 988 );
                                SET_PLAYBACK_SPEED( l_U946[1], 1.00000000 );
                                l_U965[0] = l_U946[1];
                                l_U1010 = 1;
                                l_U847 = 1;
                                l_U814 = 7;
                            }
                        }
                        break;
                        case 7:
                        if (LOCATE_CAR_3D( l_U945, l_U1244[5]._fU0, l_U1244[5]._fU4, l_U1244[5]._fU8, 5.00000000, 5.00000000, 5.00000000, 0 ))
                        {
                            if (NOT (IS_CAR_DEAD( l_U971[1] )))
                            {
                                START_PLAYBACK_RECORDED_CAR( l_U971[1], 991 );
                                SET_PLAYBACK_SPEED( l_U971[1], 1.10000000 );
                                l_U965[0] = l_U971[1];
                                l_U1010 = 1;
                                l_U908 = 1;
                                l_U847 = 0;
                                l_U814 = 8;
                            }
                        }
                        break;
                        case 8:
                        CLEAR_AREA_OF_CARS( l_U1182[2]._fU0, l_U1182[2]._fU4, l_U1182[2]._fU8, 10.00000000 );
                        CREATE_CAR( l_U1535, l_U1182[2]._fU0, l_U1182[2]._fU4, l_U1182[2]._fU8, ref l_U950[2], 1 );
                        SET_CAR_HEADING( l_U950[2], l_U1447[2] );
                        l_U814 = 9;
                        break;
                        case 9:
                        if (NOT (IS_CAR_DEAD( l_U950[2] )))
                        {
                            START_PLAYBACK_RECORDED_CAR( l_U950[2], 986 );
                            SET_PLAYBACK_SPEED( l_U950[2], 0.70000000 );
                            l_U965[0] = l_U946[2];
                            l_U1010 = 1;
                            l_U847 = 0;
                            l_U910 = 1;
                            l_U884 = 1;
                            CREATE_CAR( l_U1536, l_U1151[2]._fU0, l_U1151[2]._fU4, l_U1182[2]._fU8, ref l_U946[2], 1 );
                            SET_CAR_HEADING( l_U946[2], l_U1458[2] );
                            l_U814 = 10;
                        }
                        break;
                        case 10:
                        if (LOCATE_CAR_3D( l_U945, l_U1244[8]._fU0, l_U1244[8]._fU4, l_U1244[8]._fU8, 5.00000000, 5.00000000, 5.00000000, 0 ))
                        {
                            if (NOT (IS_CAR_DEAD( l_U946[2] )))
                            {
                                START_PLAYBACK_RECORDED_CAR( l_U946[2], 990 );
                                SET_PLAYBACK_SPEED( l_U946[2], 1.00000000 );
                                l_U965[0] = l_U946[2];
                                l_U1010 = 1;
                                l_U846 = 1;
                                l_U909 = 1;
                            }
                        }
                        break;
                    }
                }
            }
        }
        if (NOT l_U892)
        {
            if (sub_6166( ref l_U1008, 3000 ))
            {
                l_U892 = 1;
            }
        }
        if (NOT l_U850)
        {
            if (l_U892)
            {
                if (NOT (IS_CAR_DEAD( l_U945 )))
                {
                    if (NOT (LOCATE_CAR_3D( l_U945, 669.92060000, 1118.29400000, 0.43810000, 10.00000000, 10.00000000, 5.00000000, 0 )))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U945 ))
                        {
                            sub_37807( l_U945, sub_4129(), ref l_U1446, 60.00000000, 40.00000000, 100.00000000, 0.80000000, 2.50000000, 1065353216 );
                            SET_PLAYBACK_SPEED( l_U945, l_U1446 );
                            if (l_U880)
                            {
                                if (IS_VEH_DRIVEABLE( l_U982 ))
                                {
                                    if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U982 ))
                                    {
                                        SET_PLAYBACK_SPEED( l_U982, l_U1446 * 1.10000000 );
                                    }
                                }
                            }
                            if (l_U847)
                            {
                                sub_41120( ref l_U965, l_U1010 );
                            }
                        }
                    }
                    else
                    {
                        l_U1481 = l_U1446;
                        l_U850 = 1;
                    }
                }
            }
        }
        if (l_U850)
        {
            if (NOT (IS_CAR_DEAD( l_U945 )))
            {
                if ((IS_PLAYBACK_GOING_ON_FOR_CAR( l_U945 )) AND (l_U1481 < 2.00000000))
                {
                    l_U1481 += 0.00625000;
                    SET_PLAYBACK_SPEED( l_U945, l_U1481 );
                }
                else if (NOT (IS_CHAR_INJURED( l_U919[1] )))
                {
                    if (NOT (IS_CAR_DEAD( l_U945 )))
                    {
                        DETACH_PED( l_U919[1], 1 );
                        WARP_CHAR_INTO_CAR_AS_PASSENGER( l_U919[1], l_U945, 1 );
                    }
                }
                l_U853 = 0;
                l_U815 = 1;;
            }
        }
        if (l_U853)
        {
            if (sub_6166( ref l_U1012, l_U1011 ))
            {
                if (NOT (IS_CHAR_INJURED( l_U919[1] )))
                {
                    if (NOT (IS_CHAR_INJURED( l_U918 )))
                    {
                        GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( l_U918, 0.00000000, 0.00000000, 1.80000000, ref l_U1148._fU0, ref l_U1148._fU4, ref l_U1148._fU8 );
                        OPEN_SEQUENCE_TASK( ref l_U1561[1] );
                        TASK_SHOOT_AT_COORD( 0, l_U1148._fU0, l_U1148._fU4, l_U1148._fU8, 500, 5 );
                        CLOSE_SEQUENCE_TASK( l_U1561[1] );
                        TASK_PERFORM_SEQUENCE( l_U919[1], l_U1561[1] );
                        CLEAR_SEQUENCE_TASK( l_U1561[1] );
                        GET_GAME_TIMER( ref l_U1012 );
                    }
                }
            }
        }
        if ((NOT l_U830[1]) AND (IS_KEYBOARD_KEY_PRESSED( 36 )))
        {
            l_U830[1] = 1;
            sub_41704();
        }
        break;
        case 1:
        if (IS_VEH_DRIVEABLE( l_U945 ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U945 ))
            {
                if ((FIND_TIME_POSITION_IN_RECORDING( l_U945 )) > 207200.00000000)
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U945 );
                    STOP_PED_SPEAKING( sub_4129(), 0 );
                    if (NOT (IS_CHAR_INJURED( l_U919[0] )))
                    {
                        if (IS_CHAR_IN_CAR( l_U919[0], l_U945 ))
                        {
                            WARP_CHAR_FROM_CAR_TO_COORD( l_U919[0], 835.14980000, 948.06050000, 0.41280000 );
                        }
                        else
                        {
                            SET_CHAR_COORDINATES( l_U919[0], 835.14980000, 948.06050000, 0.41280000 );
                        }
                        SET_CHAR_HEADING( l_U919[0], 249.07780000 );
                        SET_CHAR_MAX_HEALTH( l_U919[0], 200 );
                        SET_CHAR_HEALTH( l_U919[0], 200 );
                        CLEAR_CHAR_LAST_DAMAGE_ENTITY( l_U919[0] );
                        GET_CHAR_HEALTH( l_U919[0], ref l_U1066[0] );
                    }
                    if (NOT (IS_CHAR_INJURED( l_U919[1] )))
                    {
                        if (IS_CHAR_IN_CAR( l_U919[1], l_U945 ))
                        {
                            WARP_CHAR_FROM_CAR_TO_COORD( l_U919[1], 834.03630000, 948.08390000, 0.41280000 );
                        }
                        else
                        {
                            SET_CHAR_COORDINATES( l_U919[1], 834.03630000, 948.08390000, 0.41280000 );
                        }
                        SET_CHAR_HEADING( l_U919[1], 305.87190000 );
                        SET_CHAR_MAX_HEALTH( l_U919[1], 200 );
                        SET_CHAR_HEALTH( l_U919[1], 200 );
                        CLEAR_CHAR_LAST_DAMAGE_ENTITY( l_U919[1] );
                        GET_CHAR_HEALTH( l_U919[1], ref l_U1066[1] );
                    }
                    if (NOT (IS_CHAR_INJURED( l_U919[2] )))
                    {
                        if (IS_CHAR_IN_CAR( l_U919[2], l_U945 ))
                        {
                            WARP_CHAR_FROM_CAR_TO_COORD( l_U919[2], 834.48900000, 949.89240000, 0.41280000 );
                        }
                        else
                        {
                            SET_CHAR_COORDINATES( l_U919[2], 834.48900000, 949.89240000, 0.41280000 );
                        }
                        SET_CHAR_HEADING( l_U919[2], 265.51760000 );
                        SET_CHAR_MAX_HEALTH( l_U919[2], 200 );
                        SET_CHAR_HEALTH( l_U919[2], 200 );
                        CLEAR_CHAR_LAST_DAMAGE_ENTITY( l_U919[2] );
                        GET_CHAR_HEALTH( l_U919[2], ref l_U1066[2] );
                    }
                    if (IS_VEH_DRIVEABLE( l_U945 ))
                    {
                        ANCHOR_BOAT( l_U945, 1 );
                    }
                    if (DOES_BLIP_EXIST( l_U991 ))
                    {
                        REMOVE_BLIP( l_U991 );
                    }
                    if (DOES_BLIP_EXIST( l_U990 ))
                    {
                        REMOVE_BLIP( l_U990 );
                    }
                    for ( l_U992 = 0; l_U992 <= 2; l_U992++ )
                    {
                        if (NOT (IS_CHAR_INJURED( l_U919[l_U992] )))
                        {
                            SET_CHAR_IS_TARGET_PRIORITY( l_U919[l_U992], 1 );
                            ADD_BLIP_FOR_CHAR( l_U919[l_U992], ref l_U985[l_U992] );
                            CHANGE_BLIP_DISPLAY( l_U985[l_U992], 2 );
                            if (l_U992 == 1)
                            {
                                sub_43155( ref l_U919[l_U992], ref l_U1561[l_U992] );
                            }
                            else
                            {
                                sub_43372( ref l_U919[l_U992], ref l_U1561[l_U992] );
                            }
                        }
                    }
                    for ( l_U992 = 0; l_U992 <= (l_U919 - 1); l_U992++ )
                    {
                        if (NOT (IS_CHAR_INJURED( l_U919[l_U992] )))
                        {
                            l_U1070++;
                        }
                    }
                    CLEAR_PRINTS();
                    if (l_U1070 > 1)
                    {
                        PRINT_NOW( "BER3_GOD5", 7500, 1 );
                    }
                    else
                    {
                        PRINT( "BER3_GOD5b", 7500, 1 );
                    }
                    GET_GAME_TIMER( ref l_U1037 );
                    l_U854 = 1;
                    sub_3836();
                    l_U819 = 18;
                    if (NOT (IS_CHAR_INJURED( l_U918 )))
                    {
                        SET_CHAR_ONLY_DAMAGED_BY_PLAYER( l_U918, 0 );
                        SET_CHAR_CANT_BE_DRAGGED_OUT( l_U918, 0 );
                    }
                    GET_GAME_TIMER( ref l_U1013 );
                    GET_GAME_TIMER( ref l_U1008 );
                    l_U815 = 3;
                }
            }
        }
        break;
        case 3:
        if (NOT l_U917)
        {
            if (sub_6166( ref l_U1008, 500 ))
            {
                if (IS_VEH_DRIVEABLE( l_U945 ))
                {
                    ANCHOR_BOAT( l_U945, 0 );
                    l_U917 = 1;
                }
            }
        }
        if (sub_6166( ref l_U1008, 1500 ))
        {
            for ( l_U992 = 0; l_U992 <= 2; l_U992++ )
            {
                if (DOES_BLIP_EXIST( l_U985[l_U992] ))
                {
                    CHANGE_BLIP_DISPLAY( l_U985[l_U992], 4 );
                }
            }
            SET_PED_IS_BLIND_RAGING( sub_4129(), 1 );
            l_U815 = 4;
        }
        break;
        case 4:
        for ( l_U992 = 0; l_U992 <= 2; l_U992++ )
        {
            if (NOT (IS_CHAR_INJURED( l_U919[l_U992] )))
            {
                if (l_U1000[l_U992] == 0)
                {
                    GET_SCRIPT_TASK_STATUS( l_U919[l_U992], 29, ref l_U1568[l_U992] );
                    if (l_U1568[l_U992] == 7)
                    {
                        sub_44141( ref l_U919[l_U992], ref l_U1561[l_U992], ref l_U1416[l_U992], ref l_U1426[l_U992], 1 );
                        l_U1000[l_U992] = 1;
                        l_U1004[l_U992] = 1;
                    }
                }
                if ((l_U1000[2] == 1) AND ((l_U1000[1] == 1) AND (l_U1000[0] == 1)))
                {
                    l_U810 = 3;
                    break;
                }
                if (l_U1004[l_U992] == 0)
                {
                    if ((sub_44550( ref l_U919[l_U992], 15.00000000 )) || (sub_44430( ref l_U919[l_U992], ref l_U1066[l_U992] )))
                    {
                        sub_44141( ref l_U919[l_U992], ref l_U1561[l_U992], ref l_U1416[l_U992], ref l_U1426[l_U992], 0 );
                        l_U1000[l_U992] = 1;
                        l_U1004[l_U992] = 1;
                    }
                }
                if ((l_U1004[2] == 1) AND ((l_U1004[1] == 1) AND (l_U1004[0] == 1)))
                {
                    l_U810 = 3;
                    break;
                }
            }
            else if (NOT (l_U1049[l_U992] == 1))
            {
                if (DOES_BLIP_EXIST( l_U985[l_U992] ))
                {
                    REMOVE_BLIP( l_U985[l_U992] );
                }
                l_U1000[l_U992] = 1;
                l_U1004[l_U992] = 1;
                l_U1049[l_U992] = 1;
            }
            if ((l_U1049[2] == 1) AND ((l_U1049[1] == 1) AND (l_U1049[0] == 1)))
            {
                l_U810 = 4;
                break;
            }
        }
        break;
    }
    if (NOT l_U854)
    {
        sub_45055( ref l_U942, ref l_U991, ref l_U945, ref l_U990 );
    }
    if ((NOT l_U851) AND (IS_KEYBOARD_KEY_PRESSED( 21 )))
    {
        CREATE_CAR( l_U1534, l_U1125._fU0, l_U1125._fU4, l_U1125._fU8, ref l_U969, 1 );
        SET_CAR_HEADING( l_U969, l_U1445 );
        WARP_CHAR_FROM_CAR_TO_CAR( sub_4129(), l_U969, -1 );
        l_U851 = 1;
    }
    return;
}

void sub_33430()
{
    switch (l_U1071)
    {
        case 0:
        if (l_U908)
        {
            if (DOES_VEHICLE_EXIST( l_U971[1] ))
            {
                if (IS_VEH_DRIVEABLE( l_U971[1] ))
                {
                    if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U971[1] )))
                    {
                        for ( l_U992 = 0; l_U992 <= (l_U971 - 1); l_U992++ )
                        {
                            if (IS_VEH_DRIVEABLE( l_U971[l_U992] ))
                            {
                                MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U971[l_U992] );
                            }
                        }
                        MARK_MODEL_AS_NO_LONGER_NEEDED( l_U1538 );
                        l_U1071++;
                    }
                }
            }
        }
        break;
        case 1:
        if (l_U910)
        {
            if (DOES_VEHICLE_EXIST( l_U950[2] ))
            {
                if (IS_VEH_DRIVEABLE( l_U950[2] ))
                {
                    if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U950[2] )))
                    {
                        for ( l_U992 = 0; l_U992 <= (l_U950 - 1); l_U992++ )
                        {
                            if (IS_VEH_DRIVEABLE( l_U950[l_U992] ))
                            {
                                MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U950[l_U992] );
                            }
                        }
                        MARK_MODEL_AS_NO_LONGER_NEEDED( l_U1535 );
                        l_U1071++;
                    }
                }
            }
        }
        break;
        case 2:
        if (l_U909)
        {
            if (DOES_VEHICLE_EXIST( l_U946[2] ))
            {
                if (IS_VEH_DRIVEABLE( l_U946[2] ))
                {
                    if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U946[2] )))
                    {
                        for ( l_U992 = 0; l_U992 <= (l_U946 - 1); l_U992++ )
                        {
                            if (IS_VEH_DRIVEABLE( l_U946[l_U992] ))
                            {
                                MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U946[l_U992] );
                            }
                        }
                        MARK_MODEL_AS_NO_LONGER_NEEDED( l_U1536 );
                        l_U911 = 1;
                        REQUEST_ANIMS( "gestures@niko" );
                    }
                }
            }
        }
        break;
    }
    return;
}

void sub_34098()
{
    if (NOT l_U889)
    {
        switch (l_U823)
        {
            case 0:
            if (NOT (IS_CAR_DEAD( l_U945 )))
            {
                if (LOCATE_CAR_3D( l_U945, 366.20140000, 1072.23700000, 0.00000000, 15.00000000, 40.00000000, 5.00000000, 0 ))
                {
                    CREATE_CAR( l_U1551, l_U1398._fU0, l_U1398._fU4, l_U1398._fU8, ref l_U982, 1 );
                    SET_CAR_HEADING( l_U982, l_U1503 );
                    CREATE_CHAR_INSIDE_CAR( l_U982, 26, l_U1531, ref l_U940 );
                    SET_CHAR_PROOFS( l_U940, 1, 1, 1, 1, 1 );
                    START_PLAYBACK_RECORDED_CAR( l_U982, 998 );
                    SET_PLAYBACK_SPEED( l_U982, 1.00000000 );
                    PLAY_SOUND_FROM_VEHICLE( -1, "BC3_BUOYS_AHOY_HARBOUR_PATROL_SIREN", l_U982 );
                    sub_12285( 3, l_U940, "HARBOUR_POLICE", 0 );
                    STOP_PED_SPEAKING( l_U940, 1 );
                    GET_GAME_TIMER( ref l_U1008 );
                    GET_GAME_TIMER( ref l_U1064 );
                    l_U880 = 1;
                    l_U823 = 1;
                }
            }
            break;
            case 1:
            sub_34494();
            if (NOT (IS_CAR_DEAD( l_U982 )))
            {
                if (NOT l_U885)
                {
                    if (NOT (IS_CHAR_INJURED( l_U940 )))
                    {
                        if ((FIND_POSITION_IN_RECORDING( l_U982 )) > 73.00000000)
                        {
                            if (NOT (IS_CHAR_INJURED( l_U919[1] )))
                            {
                                CLEAR_CHAR_TASKS( l_U919[1] );
                                OPEN_SEQUENCE_TASK( ref l_U1561[1] );
                                TASK_SHOOT_AT_CHAR( 0, l_U940, 99999, 5 );
                                CLOSE_SEQUENCE_TASK( l_U1561[1] );
                                TASK_PERFORM_SEQUENCE( l_U919[1], l_U1561[1] );
                                CLEAR_SEQUENCE_TASK( l_U1561[1] );
                            }
                            if (NOT (IS_CHAR_INJURED( l_U919[2] )))
                            {
                                CLEAR_CHAR_TASKS( l_U919[2] );
                                OPEN_SEQUENCE_TASK( ref l_U1561[2] );
                                TASK_SHOOT_AT_CHAR( 0, l_U940, 99999, 5 );
                                CLOSE_SEQUENCE_TASK( l_U1561[2] );
                                TASK_PERFORM_SEQUENCE( l_U919[2], l_U1561[2] );
                                CLEAR_SEQUENCE_TASK( l_U1561[2] );
                            }
                            l_U853 = 0;
                            l_U885 = 1;
                            l_U823 = 2;
                        }
                    }
                }
            }
            else
            {
                l_U823 = 4;
            }
            break;
            case 2:
            sub_34494();
            if (IS_VEH_DRIVEABLE( l_U982 ))
            {
                if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U982 )))
                {
                    if (NOT (IS_CAR_DEAD( l_U982 )))
                    {
                        sub_4817( "BC3_HP3", ref l_U1573[1], 8, 1 );
                        l_U823 = 3;
                    }
                }
            }
            else
            {
                l_U823 = 3;
            }
            break;
            case 3:
            if (NOT (sub_16047( l_U1573[1] )))
            {
                if (NOT (IS_CHAR_INJURED( l_U940 )))
                {
                    SET_CHAR_PROOFS( l_U940, 0, 0, 0, 0, 0 );
                    SET_CHAR_HEALTH( l_U940, 13 );
                }
                EXPLODE_CAR( l_U982, 1, 0 );
                MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U982 );
                if (NOT (IS_CHAR_INJURED( l_U919[1] )))
                {
                    CLEAR_CHAR_TASKS( l_U919[1] );
                    l_U853 = 1;
                }
                l_U889 = 1;
            }
            break;
            case 4:
            if (NOT (IS_CAR_DEAD( l_U982 )))
            {
                if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U982 )))
                {
                    l_U823 = 3;
                }
            }
            break;
        }
    }
    return;
}

void sub_34494()
{
    switch (l_U824)
    {
        case 0:
        if (sub_6166( ref l_U1064, 4000 ))
        {
            sub_4817( "BC3_HP1", ref l_U1573[1], 8, 1 );
            l_U824 = 1;
        }
        break;
        case 1:
        if (sub_6166( ref l_U1064, 9000 ))
        {
            if (NOT (sub_16047( l_U1573[1] )))
            {
                sub_4817( "BC3_HP2", ref l_U1573[1], 8, 1 );
                l_U824 = 2;
            }
        }
        break;
        case 2: break;
    }
    return;
}

void sub_37807(unknown uParam0, unknown uParam1, unknown uParam2, float fParam3, float fParam4, unknown uParam5, float fParam6, unknown uParam7, float fParam8)
{
    float fVar11;
    float fVar12;
    float fVar13;

    if (NOT (fParam4 < fParam3))
    {
        fParam4 = fParam3 - 0.10000000;
    }
    if (fParam6 > fParam8)
    {
        fParam8 = fParam6;
    }
    fVar11 = uParam7 / fParam8;
    fVar12 = fParam6 / fParam8;
    fVar13 = ((uParam5 - fParam3) * (1.00000000 / 0.40000000)) + fParam3;
    sub_37922( uParam0, uParam1, uParam2, fParam8, fParam4, fParam3, fVar13, fVar11, 1.00000000, fVar12, 1 );
    return;
}

void sub_37922(unknown uParam0, unknown uParam1, unknown uParam2, float fParam3, float fParam4, float fParam5, float fParam6, unknown uParam7, float fParam8, unknown uParam9, boolean bParam10)
{
    float fVar13;
    float fVar14;
    float fVar15;
    float fVar16;
    float fVar17;
    float fVar18;
    float fVar19;
    float fVar20;
    float fVar21;
    unknown uVar22;
    unknown uVar23;

    if (l_U228 == 0)
    {
        if ((uParam2^) < fParam3)
        {
            (uParam2^) = fParam3;
            l_U228 = 1;
        }
    }
    if (fParam4 < 0.00000000)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist = " );
        PRINTFLOAT( fParam4 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist cannot be less than zero." );
    }
    if (fParam4 >= fParam5)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist = " );
        PRINTFLOAT( fParam4 );
        PRINTSTRING( ", fIdealDist = " );
        PRINTFLOAT( fParam5 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist must be less than fIdealDist" );
    }
    if (fParam4 >= fParam6)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist = " );
        PRINTFLOAT( fParam4 );
        PRINTSTRING( ", fSlowDownDist = " );
        PRINTFLOAT( fParam6 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist must be less than fSlowDownDist" );
    }
    if (fParam5 < 0.00000000)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fIdealDist = " );
        PRINTFLOAT( fParam5 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fIdealDist cannot be less than zero." );
    }
    if (fParam5 >= fParam6)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fIdealDist = " );
        PRINTFLOAT( fParam5 );
        PRINTSTRING( ", fSlowDownDist = " );
        PRINTFLOAT( fParam6 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fIdealDist must be less than fSlowDownDist" );
    }
    if (fParam6 < 0.00000000)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fSlowDownDist = " );
        PRINTFLOAT( fParam6 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fSlowDownDist cannot be less than zero." );
    }
    if (fParam8 < 0.00000000)
    {
        fParam8 = l_U313;
    }
    fVar13 = fParam3 * uParam7;
    if (NOT (fVar13 > fParam3))
    {
        fVar13 = fParam3 + 0.10000000;
    }
    fVar18 = fParam3 * uParam9;
    fVar19 = ((fParam6 - fParam5) * 0.40000000) + fParam5;
    fVar15 = sub_39260( uParam0, uParam1 );
    if (fVar15 < 0.00000000)
    {
        fVar15 *= -1.00000000;
    }
    fVar16 = fVar15;
    if (fVar16 < fParam4)
    {
        fVar16 = fParam4;
    }
    if (fVar16 > fVar19)
    {
        fVar16 = fVar19;
    }
    fVar17 = fParam3;
    if (DOES_CHAR_EXIST( uParam1 ))
    {
        if (NOT (IS_CHAR_DEAD( uParam1 )))
        {
            if (sub_39587( uParam1, uParam0 ))
            {
                if (IS_CHAR_IN_ANY_CAR( uParam1 ))
                {
                    fVar17 = fVar13;
                }
                else if (fVar15 < 50.00000000)
                {
                    fVar17 = fParam3;
                }
                else
                {
                    fVar17 = fVar13;
                }
            }
            else if (fVar15 < fParam5)
            {
                if ((sub_39970( uParam0, uParam1 )) < fParam5)
                {
                    fVar14 = sub_40103( uParam0, uParam1 );
                    fVar14 += -15.00000000;
                    if (fVar14 < 0.00000000)
                    {
                        fVar14 = 0.00000000;
                    }
                    if (fVar14 > 75.00000000)
                    {
                        fVar14 = 75.00000000;
                    }
                    fVar20 = (75.00000000 - fVar14) / 75.00000000;
                }
                else
                {
                    fVar20 = 1.00000000;
                }
                fVar17 = (((((fParam5 - fParam4) - (fVar16 - fParam4)) / (fParam5 - fParam4)) * (fVar13 - fParam3)) * fVar20) + fParam3;
            }
            else if (fVar15 > fParam6)
            {
                fVar17 = fVar18;
                l_U229 = 1;
            }
            else if (l_U229)
            {
                if (fVar15 < fVar19)
                {
                    fVar17 = fParam3;
                    l_U229 = 0;
                }
                else
                {
                    fVar17 = fVar18;
                }
            }
            else
            {
                fVar17 = fParam3;
            };;;;
        }
    }
    fVar14 = fVar17 - (uParam2^);
    if (fVar14 > 0.00000000)
    {
        GET_FRAME_TIME( ref fVar14 );
        fVar21 = (l_U318 * fParam3) * fVar14;
        fVar14 = fVar17 - (uParam2^);
        if (fVar14 > fVar21)
        {
            fVar14 = fVar21;
        }
        (uParam2^) += fVar14;
    }
    else
    {
        GET_FRAME_TIME( ref fVar14 );
        fVar21 = (l_U319 * fParam3) * fVar14;
        fVar14 = fVar17 - (uParam2^);
        if (fVar14 < (fVar21 * -1.00000000))
        {
            fVar14 = fVar21 * -1.00000000;
        }
        (uParam2^) += fVar14;
    }
    if (bParam10)
    {
        if (NOT (IS_CHAR_INJURED( uParam1 )))
        {
            if (IS_CHAR_IN_ANY_CAR( uParam1 ))
            {
                STORE_CAR_CHAR_IS_IN_NO_SAVE( uParam1, ref uVar22 );
                if (DOES_VEHICLE_EXIST( uVar22 ))
                {
                    if (NOT (IS_CAR_DEAD( uVar22 )))
                    {
                        GET_CAR_MODEL( uVar22, ref uVar23 );
                        if ((IS_THIS_MODEL_A_BIKE( uVar23 )) || (IS_THIS_MODEL_A_CAR( uVar23 )))
                        {
                            if (IS_VEH_DRIVEABLE( uVar22 ))
                            {
                                fVar14 = fVar17;
                                if (fVar14 < fParam3)
                                {
                                    fVar14 = fParam3;
                                }
                                fVar14 -= fParam3;
                                fVar14 /= fVar13 - fParam3;
                                fVar14 *= fParam8;
                                fVar14 *= l_U311 - l_U312;
                                fVar14 += l_U312;
                                l_U310 = fVar14;
                                if (l_U310 < l_U312)
                                {
                                    l_U310 = l_U312;
                                }
                                if (l_U310 > l_U311)
                                {
                                    l_U310 = l_U311;
                                }
                                FORCE_AIR_DRAG_MULT_FOR_PLAYERS_CAR( sub_3639(), l_U310 );
                            }
                        }
                    }
                }
            }
        }
    }
    return;
}

float sub_39260(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    vector vVar10;
    vector vVar13;
    float fVar16;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_FORWARD_X( uParam0, ref uVar4._fU0 );
        GET_CAR_FORWARD_Y( uParam0, ref uVar4._fU4 );
        GET_CAR_COORDINATES( uParam0, ref vVar10.x, ref vVar10.y, ref vVar10.z );
    }
    if (NOT (IS_CHAR_DEAD( uParam1 )))
    {
        GET_CHAR_COORDINATES( uParam1, ref vVar13.x, ref vVar13.y, ref vVar13.z );
    }
    uVar7 = {vVar13 - vVar10};
    GET_ANGLE_BETWEEN_2D_VECTORS( uVar7._fU0, uVar7._fU4, uVar4._fU0, uVar4._fU4, ref fVar16 );
    fVar16 += -90.00000000;
    if (fVar16 < 0.00000000)
    {
        fVar16 *= -1.00000000;
    }
    uVar7._fU8 = 0.00000000;
    return (VMAG( uVar7 )) * (SIN( fVar16 ));
}

int sub_39587(unknown uParam0, unknown uParam1)
{
    vector vVar4;
    vector vVar7;
    vector vVar10;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    float fVar19;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (NOT (IS_CAR_DEAD( uParam1 )))
        {
            if (IS_CHAR_IN_CAR( uParam0, uParam1 ))
            {
                return 0;
            }
        }
    }
    if (NOT (IS_CHAR_DEAD( uParam0 )))
    {
        GET_CHAR_COORDINATES( uParam0, ref vVar4.x, ref vVar4.y, ref vVar4.z );
    }
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_CAR_COORDINATES( uParam1, ref vVar7.x, ref vVar7.y, ref vVar7.z );
    }
    uVar13 = {vVar7 - vVar4};
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( uParam1, 0.00000000, 5.00000000, 0.00000000, ref vVar10.x, ref vVar10.y, ref vVar10.z );
        uVar16 = {vVar10 - vVar7};
    }
    uVar13._fU8 = 0.00000000;
    uVar16._fU8 = 0.00000000;
    fVar19 = sub_39808( ref uVar13, ref uVar16 );
    if (fVar19 < 0.00000000)
    {
        return 1;
    }
    return 0;
}

float sub_39808(int iParam0, int iParam1)
{
    return ((iParam0->_fU0 * iParam1->_fU0) + (iParam0->_fU4 * iParam1->_fU4)) + (iParam0->_fU8 * iParam1->_fU8);
}

void sub_39970(unknown uParam0, unknown uParam1)
{
    vector vVar4;
    vector vVar7;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown Result;

    if (NOT (IS_CAR_DEAD( uParam0 )))
    {
        GET_CAR_COORDINATES( uParam0, ref vVar4.x, ref vVar4.y, ref vVar4.z );
    }
    if (NOT (IS_CHAR_DEAD( uParam1 )))
    {
        GET_CHAR_COORDINATES( uParam1, ref vVar7.x, ref vVar7.y, ref vVar7.z );
    }
    uVar10 = {vVar7 - vVar4};
    uVar10._fU8 = 0.00000000;
    Result = VMAG( uVar10 );
    return Result;
}

void sub_40103(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    vector vVar7;
    vector vVar10;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown Result;
    unknown uVar17;

    if (NOT (IS_CAR_DEAD( uParam0 )))
    {
        GET_CAR_FORWARD_X( uParam0, ref uVar4._fU0 );
        GET_CAR_FORWARD_Y( uParam0, ref uVar4._fU4 );
    }
    if (NOT (IS_CHAR_DEAD( uParam1 )))
    {
        GET_CHAR_COORDINATES( uParam1, ref vVar7.x, ref vVar7.y, ref vVar7.z );
        if (IS_CHAR_IN_ANY_CAR( uParam1 ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( uParam1, ref uVar17 );
            GET_CAR_FORWARD_X( uVar17, ref uVar13._fU0 );
            GET_CAR_FORWARD_Y( uVar17, ref uVar13._fU4 );
        }
        else
        {
            GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( uParam1, 0.00000000, 5.00000000, 0.00000000, ref vVar10.x, ref vVar10.y, ref vVar10.z );
            uVar13 = {vVar10 - vVar7};
        }
    }
    GET_ANGLE_BETWEEN_2D_VECTORS( uVar4._fU0, uVar4._fU4, uVar13._fU0, uVar13._fU4, ref Result );
    return Result;
}

void sub_41120(unknown uParam0, int iParam1)
{
    for ( l_U992 = 0; l_U992 <= (iParam1 - 1); l_U992++ )
    {
        if (NOT (IS_CAR_DEAD( (uParam0^)[l_U992] )))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( (uParam0^)[l_U992] ))
            {
                SET_PLAYBACK_SPEED( (uParam0^)[l_U992], l_U1446 );
            }
        }
    }
    return;
}

void sub_41704()
{
    DO_SCREEN_FADE_OUT( 500 );
    if (NOT (IS_CHAR_INJURED( l_U918 )))
    {
        if (NOT (IS_CAR_DEAD( l_U945 )))
        {
            if (NOT (IS_CAR_DEAD( l_U942 )))
            {
                if ((NOT (IS_CHAR_INJURED( l_U919[1] ))) AND (NOT (IS_CHAR_INJURED( l_U919[0] ))))
                {
                    SET_CAR_COORDINATES( l_U942, 825.17690000, 940.13610000, 0.34220000 );
                    SET_CAR_HEADING( l_U942, 64.30639000 );
                    if (IS_PED_ATTACHED_TO_ANY_CAR( l_U919[1] ))
                    {
                        DETACH_PED( l_U919[1], 1 );
                        SET_CHAR_COORDINATES( l_U919[1], 854.06150000, 933.30080000, 6.50240000 );
                        SET_CHAR_HEADING( l_U919[0], 200.09760000 );
                    }
                    else if (IS_CHAR_IN_CAR( l_U919[0], l_U945 ))
                    {
                        WARP_CHAR_FROM_CAR_TO_COORD( l_U919[0], 854.06150000, 933.30080000, 6.50240000 );
                    }
                    else
                    {
                        SET_CHAR_COORDINATES( l_U919[0], 854.06150000, 933.30080000, 6.50240000 );
                    }
                    if (IS_CHAR_IN_CAR( l_U919[1], l_U945 ))
                    {
                        WARP_CHAR_FROM_CAR_TO_COORD( l_U919[1], 854.25110000, 931.40770000, 6.95150000 );
                    }
                    else
                    {
                        SET_CHAR_COORDINATES( l_U919[1], 854.25110000, 931.40770000, 6.95150000 );
                    }
                    SET_CHAR_HEADING( l_U919[1], 199.52760000 );
                    if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U945 ))
                    {
                        SKIP_TO_END_AND_STOP_PLAYBACK_RECORDED_CAR( l_U945 );
                    }
                    SET_CAM_BEHIND_PED( sub_4129() );
                    DO_SCREEN_FADE_IN( 500 );
                    l_U883 = 1;
                    l_U815 = 1;
                }
            }
        }
    }
    return;
}

void sub_43155(unknown uParam0, unknown uParam1)
{
    if (DOES_CHAR_EXIST( (uParam0^) ))
    {
        if (NOT (IS_CHAR_INJURED( (uParam0^) )))
        {
            CLEAR_CHAR_TASKS( (uParam0^) );
            OPEN_SEQUENCE_TASK( uParam1 );
            TASK_FOLLOW_NAV_MESH_TO_COORD( 0, l_U1128[0]._fU0, l_U1128[0]._fU4, l_U1128[0]._fU8, 4, -1, 2.00000000 );
            TASK_FOLLOW_NAV_MESH_TO_COORD( 0, l_U1128[1]._fU0, l_U1128[1]._fU4, l_U1128[1]._fU8, 4, -1, 0.50000000 );
            CLOSE_SEQUENCE_TASK( (uParam1^) );
            TASK_PERFORM_SEQUENCE( (uParam0^), (uParam1^) );
            CLEAR_SEQUENCE_TASK( (uParam1^) );
        }
    }
    return;
}

void sub_43372(unknown uParam0, unknown uParam1)
{
    if (DOES_CHAR_EXIST( (uParam0^) ))
    {
        if (NOT (IS_CHAR_INJURED( (uParam0^) )))
        {
            CLEAR_CHAR_TASKS( (uParam0^) );
            OPEN_SEQUENCE_TASK( uParam1 );
            TASK_FOLLOW_NAV_MESH_TO_COORD( 0, l_U1128[l_U992]._fU0, l_U1128[l_U992]._fU4, l_U1128[l_U992]._fU8, 4, -1, 0.50000000 );
            CLOSE_SEQUENCE_TASK( (uParam1^) );
            TASK_PERFORM_SEQUENCE( (uParam0^), (uParam1^) );
            CLEAR_SEQUENCE_TASK( (uParam1^) );
        }
    }
    return;
}

void sub_44141(unknown uParam0, unknown uParam1, int iParam2, int iParam3, boolean bParam4)
{
    if (NOT (IS_CHAR_INJURED( (uParam0^) )))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( (uParam0^), 0 );
        OPEN_SEQUENCE_TASK( uParam1 );
        if (bParam4)
        {
            TASK_SEEK_COVER_TO_COORDS( 0, iParam2->_fU0, iParam2->_fU4, iParam2->_fU8, iParam3->_fU0, iParam3->_fU4, iParam3->_fU8, 0 );
        }
        else
        {
            TASK_TURN_CHAR_TO_FACE_CHAR( 0, sub_4129() );
        }
        CLOSE_SEQUENCE_TASK( (uParam1^) );
        TASK_PERFORM_SEQUENCE( (uParam0^), (uParam1^) );
        CLEAR_SEQUENCE_TASK( (uParam1^) );
        sub_8235( uParam0, ref l_U1557 );
        SET_ALL_RANDOM_PEDS_FLEE( sub_3639(), 1 );
    }
    return;
}

int sub_44430(unknown uParam0, unknown uParam1)
{
    int iVar4;

    if (DOES_CHAR_EXIST( (uParam0^) ))
    {
        if (NOT (IS_CHAR_INJURED( (uParam0^) )))
        {
            GET_CHAR_HEALTH( (uParam0^), ref iVar4 );
            if ((IS_CHAR_RESPONDING_TO_EVENT( (uParam0^), 9 )) || ((iVar4 < (uParam1^)) || (HAS_CHAR_BEEN_DAMAGED_BY_CHAR( (uParam0^), sub_4129(), 0 ))))
            {
                return 1;
            }
        }
    }
    return 0;
}

int sub_44550(unknown uParam0, float fParam1)
{
    if (DOES_CHAR_EXIST( (uParam0^) ))
    {
        if (NOT (IS_CHAR_INJURED( (uParam0^) )))
        {
            if ((sub_6898( uParam0 )) < fParam1)
            {
                if (HAS_CHAR_SPOTTED_CHAR( (uParam0^), sub_4129() ))
                {
                    if (IS_CHAR_ARMED( sub_4129(), 7 ))
                    {
                        if (IS_PLAYER_TARGETTING_CHAR( sub_3639(), (uParam0^) ))
                        {
                            return 1;
                        }
                        if (IS_PLAYER_FREE_AIMING_AT_CHAR( sub_3639(), (uParam0^) ))
                        {
                            return 1;
                        }
                    }
                }
                if (IS_CHAR_SHOOTING( sub_4129() ))
                {
                    return 1;
                }
            }
        }
    }
    return 0;
}

void sub_45055(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    if (DOES_BLIP_EXIST( (uParam3^) ))
    {
        if (NOT (IS_CAR_DEAD( (uParam0^) )))
        {
            if (NOT (IS_CHAR_IN_CAR( sub_4129(), (uParam0^) )))
            {
                REMOVE_BLIP( (uParam3^) );
                if (NOT (DOES_BLIP_EXIST( (uParam1^) )))
                {
                    ADD_BLIP_FOR_CAR( (uParam0^), uParam1 );
                    SET_BLIP_AS_FRIENDLY( (uParam1^), 1 );
                    CLEAR_PRINTS();
                    PRINT( "BER3_GOD4", 7500, 1 );
                }
            }
        }
    }
    else if (NOT (IS_CAR_DEAD( (uParam0^) )))
    {
        if (IS_CHAR_IN_CAR( sub_4129(), (uParam0^) ))
        {
            REMOVE_BLIP( (uParam1^) );
            if (NOT (DOES_BLIP_EXIST( (uParam3^) )))
            {
                ADD_BLIP_FOR_CAR( (uParam2^), uParam3 );
                CLEAR_PRINTS();
                PRINT( "BER3_GOD2", 7500, 1 );
            }
        }
    }
    return;
}

void sub_45424()
{
    if (NOT l_U911)
    {
        sub_33430();
    }
    if (sub_45457( ref l_U919, ref l_U985 ))
    {
        GET_GAME_VIEWPORT_ID( ref l_U1559 );
        GET_CAR_COORDINATES( l_U942, ref l_U1073._fU0, ref l_U1073._fU4, ref l_U1073._fU8 );
        if (IS_VEH_DRIVEABLE( l_U945 ))
        {
            GET_CAR_COORDINATES( l_U945, ref l_U1076._fU0, ref l_U1076._fU4, ref l_U1076._fU8 );
            if ((NOT (CAM_IS_SPHERE_VISIBLE( l_U1559, l_U1076._fU0, l_U1076._fU4, l_U1076._fU8, 5.00000000 ))) AND (NOT (CAM_IS_SPHERE_VISIBLE( l_U1559, l_U1073._fU0, l_U1073._fU4, l_U1073._fU8, 5.00000000 ))))
            {
                l_U912 = 1;
                sub_45791();
            }
        }
        else
        {
            GET_DEAD_CAR_COORDINATES( l_U945, ref l_U1076._fU0, ref l_U1076._fU4, ref l_U1076._fU8 );
            if ((NOT (CAM_IS_SPHERE_VISIBLE( l_U1559, l_U1076._fU0, l_U1076._fU4, l_U1076._fU8, 5.00000000 ))) AND (NOT (CAM_IS_SPHERE_VISIBLE( l_U1559, l_U1073._fU0, l_U1073._fU4, l_U1073._fU8, 5.00000000 ))))
            {
                l_U912 = 1;
                sub_45791();
            }
        }
        if (NOT l_U912)
        {
            PRINT_NOW( "BER3_GOD6", 7500, 1 );
            ADD_BLIP_FOR_CHAR( l_U918, ref l_U983 );
            SET_BLIP_AS_FRIENDLY( l_U983, 1 );
        }
        SET_PED_IS_BLIND_RAGING( sub_4129(), 0 );
        GET_GAME_TIMER( ref l_U1008 );
        l_U810 = 4;
    }
    return;
}

int sub_45457(unknown uParam0, unknown uParam1)
{
    int I;
    int iVar5;

    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        if (DOES_CHAR_EXIST( (uParam0^)[I] ))
        {
            if (IS_CHAR_INJURED( (uParam0^)[I] ))
            {
                MARK_CHAR_AS_NO_LONGER_NEEDED( ref (uParam0^)[I] );
                (uParam0^)[I] = nil;
                REMOVE_BLIP( (uParam1^)[I] );
                iVar5++;
            }
        }
        else
        {
            iVar5++;
        }
    }
    if (iVar5 == (uParam0^))
    {
        return 1;
    }
    return 0;
}

void sub_45791()
{
    if (NOT (IS_CAR_DEAD( l_U942 )))
    {
        if (NOT (IS_CHAR_INJURED( l_U918 )))
        {
            CLEAR_AREA( 845.48590000, 938.52730000, 1.73020000, 30.00000000, 1 );
            FORCE_WIND( 0.50000000 );
            SET_CAR_HEADING( l_U942, 62.91340000 );
            SET_CAR_COORDINATES( l_U942, 825.78380000, 945.37060000, 0.00000000 );
            ANCHOR_BOAT( l_U942, 1 );
            ANCHOR_BOAT( l_U942, 0 );
            if (NOT (IS_CHAR_SITTING_IN_CAR( l_U918, l_U942 )))
            {
                WARP_CHAR_INTO_CAR( l_U918, l_U942 );
            }
            if (DOES_VEHICLE_EXIST( l_U945 ))
            {
                if (NOT (IS_CAR_DEAD( l_U945 )))
                {
                    SET_CAR_HEADING( l_U945, 220.36080000 );
                    SET_CAR_COORDINATES( l_U945, 828.64560000, 960.15230000, 0.00000000 );
                    ANCHOR_BOAT( l_U945, 1 );
                    ANCHOR_BOAT( l_U945, 0 );
                }
                else
                {
                    DELETE_CAR( ref l_U945 );
                }
            }
            else
            {
                DELETE_CAR( ref l_U945 );
            }
            for ( l_U992 = 0; l_U992 <= (l_U1043 - 1); l_U992++ )
            {
                if (DOES_CHAR_EXIST( l_U932[l_U992] ))
                {
                    MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U932[l_U992] );
                    l_U932[l_U992] = nil;
                }
            }
            if (l_U912)
            {
                PRINT_NOW( "BER3_GOD6", 7500, 1 );
                ADD_BLIP_FOR_CHAR( l_U918, ref l_U983 );
                SET_BLIP_AS_FRIENDLY( l_U983, 1 );
            }
        }
    }
    return;
}

void sub_46526()
{
    if (NOT (l_U1038[1] == 1))
    {
        if ((l_U817 != 1) AND (l_U817 != 0))
        {
            if (sub_15283( ref l_U1036, 1000 ))
            {
                l_U1038[1] = 1;
                l_U817 = 14;
            }
        }
    }
    if (NOT (IS_CHAR_INJURED( l_U918 )))
    {
        if (IS_VEH_DRIVEABLE( l_U942 ))
        {
            switch (l_U817)
            {
                case 0:
                if (((sub_6898( ref l_U918 )) < 10.00000000) || (LOCATE_CHAR_ON_FOOT_3D( sub_4129(), 845.27470000, 937.25520000, 2.08880000, 10.00000000, 10.00000000, 10.00000000, 0 )))
                {
                    l_U901 = 1;
                    if (l_U912)
                    {
                        if (HAVE_ANIMS_LOADED( "gestures@niko" ))
                        {
                            if (sub_46870())
                            {
                                sub_46999();
                            }
                        }
                        else if (sub_24170( 1 ))
                        {
                            REQUEST_ANIMS( "gestures@niko" );
                            while (NOT (HAVE_ANIMS_LOADED( "gestures@niko" )))
                            {
                                WAIT( 0 );
                            }
                            sub_46999();
                            DO_SCREEN_FADE_IN( 500 );
                        }
                    }
                    else if (sub_24170( 1 ))
                    {
                        if (NOT (HAVE_ANIMS_LOADED( "gestures@niko" )))
                        {
                            REQUEST_ANIMS( "gestures@niko" );
                            while (NOT (HAVE_ANIMS_LOADED( "gestures@niko" )))
                            {
                                WAIT( 0 );
                            }
                        }
                        sub_45791();
                        sub_46999();
                        DO_SCREEN_FADE_IN( 500 );
                    }
                }
                break;
                case 1:
                l_U901 = 1;
                if (NOT (sub_16047( l_U1573[0] )))
                {
                    if (NOT l_U906)
                    {
                        sub_25330( ref l_U918, ref l_U942 );
                        l_U906 = 1;
                    }
                    if (sub_24170( 1 ))
                    {
                        if (NOT (HAVE_ANIMS_LOADED( "gestures@niko" )))
                        {
                            REQUEST_ANIMS( "gestures@niko" );
                            while (NOT (HAVE_ANIMS_LOADED( "gestures@niko" )))
                            {
                                WAIT( 0 );
                            }
                        }
                        LOAD_SCENE( 835.64240000, 931.51950000, 4.55115100 );
                        if (NOT (IS_CHAR_INJURED( l_U918 )))
                        {
                            if (IS_VEH_DRIVEABLE( l_U942 ))
                            {
                                if (DOES_BLIP_EXIST( l_U991 ))
                                {
                                    REMOVE_BLIP( l_U991 );
                                }
                                sub_47188();
                                if (NOT (IS_CHAR_IN_CAR( sub_4129(), l_U942 )))
                                {
                                    WARP_CHAR_INTO_CAR( sub_4129(), l_U942 );
                                }
                                if (NOT (IS_CHAR_IN_CAR( l_U918, l_U942 )))
                                {
                                    WARP_CHAR_INTO_CAR_AS_PASSENGER( l_U918, l_U942, -1 );
                                }
                                SET_CAR_COORDINATES( l_U942, 774.98880000, 918.95780000, 0.22710000 );
                                SET_CAR_HEADING( l_U942, 299.41660000 );
                                START_PLAYBACK_RECORDED_CAR( l_U942, 999 );
                                SET_PLAYBACK_SPEED( l_U942, 1.00000000 );
                                SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( l_U942, 2000 );
                                GET_GAME_TIMER( ref l_U1008 );
                                SET_CAM_INTERP_STYLE_CORE( l_U1524, l_U1526, l_U1527, 3500, 0 );
                                ACTIVATE_SCRIPTED_CAMS( 1, 1 );
                                SET_CAM_ACTIVE( l_U1524, 1 );
                                SET_CAM_PROPAGATE( l_U1524, 1 );
                                DO_SCREEN_FADE_IN( 500 );
                                GET_GAME_TIMER( ref l_U1036 );
                                l_U817 = 2;
                            }
                        }
                    }
                }
                break;
                case 2:
                if (NOT IS_CAM_INTERPOLATING())
                {
                    if (IS_VEH_DRIVEABLE( l_U942 ))
                    {
                        SET_CAM_ACTIVE( l_U1524, 0 );
                        SET_CAM_PROPAGATE( l_U1524, 0 );
                        SET_CAM_ACTIVE( l_U1526, 0 );
                        SET_CAM_PROPAGATE( l_U1526, 0 );
                        SET_CAM_ACTIVE( l_U1527, 0 );
                        SET_CAM_PROPAGATE( l_U1527, 0 );
                        POINT_CAM_AT_VEHICLE( l_U1528, l_U942 );
                        SET_CAM_ACTIVE( l_U1528, 1 );
                        SET_CAM_PROPAGATE( l_U1528, 1 );
                        GET_GAME_TIMER( ref l_U1008 );
                        l_U817 = 3;
                    }
                }
                break;
                case 3:
                if (NOT (IS_CHAR_INJURED( l_U918 )))
                {
                    if (IS_VEH_DRIVEABLE( l_U942 ))
                    {
                        if ((sub_6166( ref l_U1008, 4250 )) || (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U942 ))))
                        {
                            DO_SCREEN_FADE_OUT( 500 );
                            l_U817 = 4;
                        }
                    }
                }
                break;
                case 5:
                if (NOT l_U891)
                {
                    if (NOT (sub_16047( l_U1573[0] )))
                    {
                        sub_48151( "BC3_PASS", 1, 1, ref l_U1573[0], 8, 1 );
                        l_U891 = 1;
                    }
                }
                if (sub_6166( ref l_U1008, 3000 ))
                {
                    if ((NOT (sub_16047( l_U1573[0] ))) AND (l_U891))
                    {
                        if (NOT (IS_CAR_DEAD( l_U942 )))
                        {
                            if (NOT (IS_CHAR_INJURED( l_U918 )))
                            {
                                SET_CAM_ACTIVE( l_U1515, 0 );
                                SET_CAM_PROPAGATE( l_U1515, 0 );
                                sub_48151( "BC3_PASS", 2, 1, ref l_U1573[0], 8, 1 );
                                GET_GAME_TIMER( ref l_U1008 );
                                ATTACH_CAM_TO_VEHICLE( l_U1516, l_U942 );
                                SET_CAM_ATTACH_OFFSET( l_U1516, 1.80000000, -8.30000000, 0.00000000 );
                                SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U1516, 1 );
                                SET_CAM_POINT_OFFSET( l_U1516, -2.00000000, 0.00000000, 2.00000000 );
                                SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U1516, 1 );
                                POINT_CAM_AT_VEHICLE( l_U1516, l_U942 );
                                SET_CAM_FOV( l_U1516, 30.70000000 );
                                SET_CAM_ACTIVE( l_U1516, 1 );
                                SET_CAM_PROPAGATE( l_U1516, 1 );
                                l_U817 = 7;
                            }
                        }
                    }
                }
                break;
                case 4:
                if (IS_SCREEN_FADED_OUT())
                {
                    if (NOT (IS_CHAR_INJURED( l_U918 )))
                    {
                        if (IS_VEH_DRIVEABLE( l_U942 ))
                        {
                            SET_CAM_ACTIVE( l_U1526, 0 );
                            SET_CAM_PROPAGATE( l_U1526, 0 );
                            CLEAR_CHAR_TASKS_IMMEDIATELY( sub_4129() );
                            SET_CHAR_COORDINATES( sub_4129(), 842.25800000, 936.27690000, 0.82690000 );
                            SET_CHAR_HEADING( sub_4129(), 116.67340000 );
                            STOP_PLAYBACK_RECORDED_CAR( l_U942 );
                            SET_CAR_COORDINATES( l_U942, 827.29280000, 942.69050000, -0.20000000 );
                            SET_CAR_HEADING( l_U942, 60.77060000 );
                            ANCHOR_BOAT( l_U942, 1 );
                            CLEAR_CHAR_TASKS_IMMEDIATELY( l_U918 );
                            ATTACH_PED_TO_CAR( l_U918, l_U942, 0, 0.20000000, -3.70000000, 0.95000000, 0.00000000, 360.00000000, 1, 1 );
                            SET_CHAR_HEADING( l_U918, 264.66840000 );
                            GET_GAME_TIMER( ref l_U1008 );
                            ATTACH_CAM_TO_VEHICLE( l_U1516, l_U942 );
                            SET_CAM_ATTACH_OFFSET( l_U1516, 1.80000000, -8.30000000, 0.00000000 );
                            SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U1516, 1 );
                            POINT_CAM_AT_VEHICLE( l_U1516, l_U942 );
                            SET_CAM_POINT_OFFSET( l_U1516, -2.00000000, 0.00000000, 2.00000000 );
                            SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U1516, 1 );
                            SET_CAM_FOV( l_U1516, 30.70000000 );
                            SET_CAM_ACTIVE( l_U1516, 1 );
                            SET_CAM_PROPAGATE( l_U1516, 1 );
                            DO_SCREEN_FADE_IN( 500 );
                            l_U817 = 6;
                        }
                    }
                }
                break;
                case 6:
                if (IS_SCREEN_FADED_IN())
                {
                    sub_48151( "BC3_PASS", 2, 1, ref l_U1573[0], 8, 1 );
                    l_U817 = 7;
                }
                break;
                case 7:
                if (NOT (sub_16047( l_U1573[0] )))
                {
                    sub_48151( "BC3_PASS", 3, 1, ref l_U1573[0], 8, 1 );
                    l_U817 = 8;
                }
                break;
                case 8:
                if (NOT (sub_16047( l_U1573[0] )))
                {
                    DO_SCREEN_FADE_OUT( 250 );
                    l_U817 = 9;
                }
                break;
                case 9:
                if (IS_SCREEN_FADED_OUT())
                {
                    if (NOT (IS_CHAR_INJURED( l_U918 )))
                    {
                        if (IS_VEH_DRIVEABLE( l_U942 ))
                        {
                            SET_CAM_ACTIVE( l_U1516, 0 );
                            SET_CAM_PROPAGATE( l_U1516, 0 );
                            ANCHOR_BOAT( l_U942, 0 );
                            DETACH_PED( l_U918, 1 );
                            WARP_CHAR_INTO_CAR( l_U918, l_U942 );
                            CLEAR_CHAR_TASKS( l_U918 );
                            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U918, 1 );
                            TASK_FLUSH_ROUTE();
                            TASK_EXTEND_ROUTE( 731.38920000, 794.61100000, 0.00000000 );
                            TASK_DRIVE_POINT_ROUTE( l_U918, l_U942, 60.00000000 );
                            SET_CAM_INTERP_STYLE_CORE( l_U1524, l_U1517, l_U1518, 7000, 0 );
                            SET_CAM_ACTIVE( l_U1524, 1 );
                            SET_CAM_PROPAGATE( l_U1524, 1 );
                            GET_GAME_TIMER( ref l_U1008 );
                            DO_SCREEN_FADE_IN( 250 );
                            l_U817 = 10;
                        }
                    }
                }
                break;
                case 10:
                if (IS_SCREEN_FADED_IN())
                {
                    sub_48151( "BC3_PASS", 4, 1, ref l_U1573[0], 8, 1 );
                    l_U817 = 13;
                }
                break;
                case 12:
                if (NOT (IS_CAR_DEAD( l_U942 )))
                {
                    if (NOT (IS_CHAR_INJURED( l_U918 )))
                    {
                        if (NOT (IS_CAR_ON_SCREEN( l_U942 )))
                        {
                            DELETE_CAR( ref l_U942 );
                            DELETE_CHAR( ref l_U918 );
                            SET_CAM_BEHIND_PED( sub_4129() );
                            SET_INTERP_FROM_SCRIPT_TO_GAME( 1, 2000 );
                            l_U817 = 13;
                        }
                    }
                }
                break;
                case 13:
                if (IS_VEH_DRIVEABLE( l_U942 ))
                {
                    if (NOT (IS_CAR_ON_SCREEN( l_U942 )))
                    {
                        SET_CAM_ACTIVE( l_U1524, 0 );
                        SET_CAM_PROPAGATE( l_U1524, 0 );
                        SET_CAM_ACTIVE( l_U1526, 0 );
                        SET_CAM_PROPAGATE( l_U1526, 0 );
                        SET_CAM_ACTIVE( l_U1527, 0 );
                        SET_CAM_PROPAGATE( l_U1527, 0 );
                        SET_CAM_ACTIVE( l_U1528, 0 );
                        SET_CAM_PROPAGATE( l_U1528, 0 );
                        SET_CAM_ACTIVE( l_U1515, 0 );
                        SET_CAM_PROPAGATE( l_U1515, 0 );
                        SET_CAM_ACTIVE( l_U1516, 0 );
                        SET_CAM_PROPAGATE( l_U1516, 0 );
                        SET_CAM_ACTIVE( l_U1517, 0 );
                        SET_CAM_PROPAGATE( l_U1517, 0 );
                        SET_CAM_ACTIVE( l_U1518, 0 );
                        SET_CAM_PROPAGATE( l_U1518, 0 );
                        ACTIVATE_SCRIPTED_CAMS( 0, 0 );
                        END_CAM_COMMANDS( ref l_U994 );
                        DELETE_CAR( ref l_U942 );
                        DELETE_CHAR( ref l_U918 );
                        if (DOES_VEHICLE_EXIST( l_U945 ))
                        {
                            if (NOT (IS_CAR_DEAD( l_U945 )))
                            {
                                ANCHOR_BOAT( l_U945, 0 );
                            }
                        }
                        sub_51067( 1 );
                        sub_51227();
                    }
                }
                break;
                case 14:
                DO_SCREEN_FADE_OUT( 500 );
                while (NOT IS_SCREEN_FADED_OUT())
                {
                    WAIT( 0 );
                }
                if (NOT (IS_CHAR_INJURED( l_U918 )))
                {
                    if (NOT (IS_CAR_DEAD( l_U942 )))
                    {
                        CLEAR_CHAR_TASKS_IMMEDIATELY( sub_4129() );
                        SET_CHAR_COORDINATES( sub_4129(), 843.31030000, 937.52050000, 1.10350000 );
                        SET_CHAR_HEADING( sub_4129(), 131.19770000 );
                        DELETE_CAR( ref l_U942 );
                        DELETE_CHAR( ref l_U918 );
                        SET_CAM_ACTIVE( l_U1524, 0 );
                        SET_CAM_PROPAGATE( l_U1524, 0 );
                        SET_CAM_ACTIVE( l_U1526, 0 );
                        SET_CAM_PROPAGATE( l_U1526, 0 );
                        SET_CAM_ACTIVE( l_U1527, 0 );
                        SET_CAM_PROPAGATE( l_U1527, 0 );
                        SET_CAM_ACTIVE( l_U1528, 0 );
                        SET_CAM_PROPAGATE( l_U1528, 0 );
                        SET_CAM_ACTIVE( l_U1515, 0 );
                        SET_CAM_PROPAGATE( l_U1515, 0 );
                        SET_CAM_ACTIVE( l_U1516, 0 );
                        SET_CAM_PROPAGATE( l_U1516, 0 );
                        SET_CAM_ACTIVE( l_U1517, 0 );
                        SET_CAM_PROPAGATE( l_U1517, 0 );
                        ACTIVATE_SCRIPTED_CAMS( 0, 0 );
                        DESTROY_ALL_CAMS();
                        END_CAM_COMMANDS( ref l_U994 );
                        sub_15047( 1 );
                        sub_51227();
                    }
                }
                break;
            }
        }
        else
        {
            sub_3696( 0 );
            CLEAR_PRINTS();
            PRINT_NOW( "BER3_FAL4", 7500, 1 );
            l_U810 = 6;
        }
    }
    else
    {
        sub_3696( 0 );
        sub_4444();
    }
    return;
}

int sub_46870()
{
    if (sub_23720( 1, 1 ))
    {
        CLEAR_PRINTS();
        CLEAR_HELP();
        sub_3696( 0 );
        DISPLAY_HUD( 0 );
        DISPLAY_RADAR( 0 );
        SET_WIDESCREEN_BORDERS( 1 );
        SET_PLAYER_CONTROL( sub_3639(), 0 );
        CLEAR_CHAR_TASKS( sub_4129() );
        HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_4129(), 1 );
        ALLOW_EMERGENCY_SERVICES( 0 );
        return 1;
    }
    return 0;
}

void sub_46999()
{
    if (NOT (IS_CHAR_INJURED( l_U918 )))
    {
        if (IS_CHAR_IN_ANY_CAR( l_U918 ))
        {
            WARP_CHAR_FROM_CAR_TO_COORD( l_U918, 827.29280000, 942.69050000, 3.00000000 );
        }
        ATTACH_PED_TO_CAR( l_U918, l_U942, 0, 0.20000000, -3.70000000, 0.95000000, 0.00000000, 360.00000000, 1, 1 );
        SET_CHAR_HEADING( l_U918, 264.66840000 );
        TASK_LOOK_AT_CHAR( l_U918, sub_4129(), -2, 0 );
        CLEAR_PRINTS();
        if (DOES_BLIP_EXIST( l_U983 ))
        {
            REMOVE_BLIP( l_U983 );
        }
        sub_47188();
        l_U901 = 1;
        CLEAR_PRINTS();
        CLEAR_AREA( 845.48590000, 938.52730000, 1.73020000, 100.00000000, 1 );
        GET_GAME_TIMER( ref l_U1014 );
        CLEAR_CHAR_TASKS_IMMEDIATELY( sub_4129() );
        SET_CHAR_COORDINATES( sub_4129(), 844.25530000, 935.20040000, 1.94740000 );
        SET_CHAR_HEADING( sub_4129(), 86.82900000 );
        TASK_FLUSH_ROUTE();
        TASK_EXTEND_ROUTE( 842.25800000, 936.27690000, 0.82690000 );
        OPEN_SEQUENCE_TASK( ref l_U1565 );
        TASK_LOOK_AT_CHAR( 0, l_U918, -2, 0 );
        TASK_FOLLOW_NAV_MESH_TO_COORD( 0, 842.25800000, 936.27690000, 0.82690000, 2, -1, 0.40000000 );
        TASK_CHAR_SLIDE_TO_COORD( 0, 842.25800000, 936.27690000, 0.82690000, 116.67340000, 1061158912 );
        CLOSE_SEQUENCE_TASK( l_U1565 );
        TASK_PERFORM_SEQUENCE( sub_4129(), l_U1565 );
        CLEAR_SEQUENCE_TASK( l_U1565 );
        ACTIVATE_SCRIPTED_CAMS( 1, 1 );
        SET_CAM_ACTIVE( l_U1515, 1 );
        SET_CAM_PROPAGATE( l_U1515, 1 );
        GET_GAME_TIMER( ref l_U1008 );
        sub_48151( "BC3_PASS", 0, 1, ref l_U1573[0], 8, 1 );
        GET_GAME_TIMER( ref l_U1036 );
        l_U817 = 5;
    }
    return;
}

void sub_47188()
{
    BEGIN_CAM_COMMANDS( ref l_U994 );
    CREATE_CAM( 14, ref l_U1526 );
    CREATE_CAM( 14, ref l_U1527 );
    CREATE_CAM( 14, ref l_U1528 );
    CREATE_CAM( 14, ref l_U1515 );
    CREATE_CAM( 14, ref l_U1516 );
    CREATE_CAM( 14, ref l_U1517 );
    CREATE_CAM( 14, ref l_U1518 );
    CREATE_CAM( 3, ref l_U1524 );
    SET_CAM_POS( l_U1526, 788.12030000, 929.97420000, 2.90022300 );
    SET_CAM_ROT( l_U1526, -4.44485100, 3.77018100, 133.08600000 );
    SET_CAM_FOV( l_U1526, 30.00004000 );
    SET_CAM_POS( l_U1527, 799.58740000, 932.60320000, 1.47163600 );
    SET_CAM_ROT( l_U1527, 2.37367500, 0.00000000, 121.00540000 );
    SET_CAM_FOV( l_U1527, 30.00004000 );
    SET_CAM_POS( l_U1528, 841.23050000, 939.40770000, 1.52682500 );
    SET_CAM_ROT( l_U1528, 2.31487900, -0.00000000, 113.89150000 );
    SET_CAM_FOV( l_U1528, 30.00004000 );
    SET_CAM_POS( l_U1515, 843.69670000, 934.48300000, 2.59099200 );
    SET_CAM_ROT( l_U1515, -8.37974700, -0.00000000, 48.90639000 );
    SET_CAM_FOV( l_U1515, 31.20003000 );
    SET_CAM_POS( l_U1516, 834.54680000, 944.55490000, 1.31835700 );
    SET_CAM_ROT( l_U1516, 2.50154900, -0.00000000, 127.21020000 );
    SET_CAM_FOV( l_U1516, 30.40007000 );
    SET_CAM_POS( l_U1517, 843.62980000, 935.13560000, 2.60566900 );
    SET_CAM_ROT( l_U1517, -9.75485100, 0.00000000, 66.20978000 );
    SET_CAM_FOV( l_U1517, 30.00004000 );
    SET_CAM_POS( l_U1518, 843.62980000, 935.13560000, 2.60566900 );
    SET_CAM_ROT( l_U1518, -9.75485100, 0.00000000, 66.20978000 );
    SET_CAM_FOV( l_U1518, 33.00004000 );
    return;
}

void sub_48151(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    return sub_48176( uParam0, ref l_U4._fU0, uParam1, uParam2, uParam3, uParam4, uParam5 );
}

void sub_48176(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
    char[16] cVar9;
    char[12] cVar13;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;

    StrCopy( ref cVar9, uParam1, 16 );
    array(ref cVar13, 2);
    StrCopy( ref cVar13[0], uParam0, 16 );
    StrCopy( ref cVar13[1], "END", 16 );
    return sub_4892( ref cVar13, uParam4, uParam5, 0, 1, uParam3, uParam2, ref cVar9, uParam6 );
}

void sub_51067(boolean bParam0)
{
    CLEAR_PRINTS();
    CLEAR_HELP();
    sub_3696( 0 );
    DISPLAY_HUD( 1 );
    DISPLAY_RADAR( 1 );
    SET_WIDESCREEN_BORDERS( 0 );
    if (IS_PLAYER_PLAYING( sub_3639() ))
    {
        SET_INTERP_IN_OUT_VEHICLE_ENABLED_THIS_FRAME( 0 );
        SET_INTERP_FROM_SCRIPT_TO_GAME( 1, 0 );
        SET_CAM_BEHIND_PED( sub_4129() );
        if (bParam0)
        {
            CLEAR_CHAR_TASKS( sub_4129() );
        }
        SET_PLAYER_CONTROL( sub_3639(), 1 );
        HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_4129(), 0 );
    }
    ALLOW_EMERGENCY_SERVICES( 1 );
    return;
}

void sub_51227()
{
    CLEAR_WANTED_LEVEL( sub_3639() );
    TRIGGER_MISSION_COMPLETE_AUDIO( 61 );
    sub_51258();
    sub_3602();
    return;
}

void sub_51258()
{
    sub_51267();
    return;
}

void sub_51267()
{
    int iVar2;
    int iVar3;
    int iVar4;

    iVar2 = 1;
    iVar3 = 0;
    iVar4 = 0;
    sub_51285();
    sub_51344( iVar2, iVar3, iVar4 );
    return;
}

void sub_51285()
{
    int I;

    I = 0;
    for ( I = 0; I < 5; I++ )
    {
        l_U788[I] = 4;
    }
    return;
}

void sub_51344(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int iVar5;

    iVar5 = 18;
    sub_51377( iVar5, uParam0, uParam1, uParam2, "Contact_21" );
    return;
}

void sub_51377(int iParam0, boolean bParam1, boolean bParam2, boolean bParam3, unknown uParam4)
{
    int iVar7;
    int iVar8;
    char[64] cVar9;
    int iVar25;
    int iVar26;
    boolean bVar27;
    unknown uVar28;
    unknown uVar29;
    int iVar30;
    boolean bVar31;

    iVar7 = -1;
    iVar8 = -1;
    StrCopy( ref cVar9, "", 64 );
    if (bParam3)
    {
        if (g_U13391[iParam0]._fU80._fU0 == 0)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: friend mission", 64);
            sub_51473( ref cVar9 );
            return;
        }
        if (g_U13391[iParam0]._fU80._fU4 == -1)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: friend missionID", 64);
            sub_51473( ref cVar9 );
            return;
        }
        iVar7 = g_U13391[iParam0]._fU80._fU4;
    }
    else if (bParam2)
    {
        if (NOT g_U13391[iParam0]._fU160._fU80)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: proc mission", 64);
            sub_51473( ref cVar9 );
            return;
        }
        if (g_U13391[iParam0]._fU160._fU76 == -1)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: proc missionID", 64);
            sub_51473( ref cVar9 );
            return;
        }
        iVar7 = g_U13391[iParam0]._fU160._fU76;
    }
    else if (g_U13391[iParam0]._fU0._fU0 == 0)
    {
        StrCopy( ref cVar9, uParam4, 64 );
        ConcatString(ref cVar9, " Pass_Stats: mission", 64);
        sub_51473( ref cVar9 );
        return;
    }
    if (g_U13391[iParam0]._fU0._fU4 == -1)
    {
        StrCopy( ref cVar9, uParam4, 64 );
        ConcatString(ref cVar9, " Pass_Stats: missionID", 64);
        sub_51473( ref cVar9 );
        return;
    }
    iVar7 = g_U13391[iParam0]._fU0._fU4;
    iVar8 = sub_52050( iParam0, iVar7 );;;
    iVar25 = 0;
    if (bParam1)
    {
        g_U10981[iParam0]._fU24 = iVar7;
    }
    if (bParam2)
    {
        iVar25 = g_U13391[iParam0]._fU160._fU84;
    }
    if (bParam3)
    {
        g_U10981[iParam0]._fU144._fU8++;
        if ((g_U10981[iParam0]._fU144._fU8 >= g_U10981[iParam0]._fU144._fU4) AND (NOT g_U10981[iParam0]._fU144._fU12))
        {
            iVar26 = 0;
            GET_GAME_TIMER( ref iVar26 );
            g_U10981[iParam0]._fU144._fU16 = iVar26 + 60000;
        }
        if (g_U10981[iParam0]._fU144._fU8 == 1)
        {
            if (iParam0 == 3)
            {
                sub_52447( 0, 3 );
            }
            if (iParam0 == 8)
            {
                sub_52447( 0, 4 );
            }
        }
    }
    if (NOT (sub_52536( iParam0, iVar7, iVar25, bParam1, bParam2, bParam3 )))
    {
        return;
    }
    if (bParam2)
    {
        g_U13391[iParam0]._fU160._fU84++;
    }
    if ((iVar7 == 12) AND (iParam0 == 0))
    {
        SET_PLAYER_MOOD_PISSED_OFF( sub_3639(), 150 );
    }
    else
    {
        SET_PLAYER_MOOD_NORMAL( sub_3639() );
    }
    sub_2700();
    bVar27 = true;
    uVar28 = sub_52050( iParam0, iVar7 );
    uVar29 = sub_2157( iParam0 );
    if (bParam1)
    {
        iVar30 = g_U13391[iParam0]._fU0._fU56;
        if ((iVar30 == 6) || (iVar30 == 5))
        {
            bVar27 = false;
        }
        if (NOT g_U0)
        {
            bVar31 = true;
            if (IS_BIT_SET( g_U26758[uVar28]._fU108, 2 ))
            {
                REGISTER_MISSION_PASSED( ref g_U9921 );
                sub_61912( 9, ref g_U13391[iParam0]._fU0._fU24 );
                if ((g_U10978) AND (NOT bVar27))
                {
                    bVar31 = false;
                }
                if (bVar31)
                {
                    sub_62342();
                    g_U9914._fU8 = 1;
                    g_U9914._fU20 = sub_62427( iParam0, iVar7 );
                }
            }
            if (bVar27)
            {
                sub_62484( iParam0 );
                sub_62523( 0 );
                sub_2598( uVar29, 0 );
            }
            g_U10981[iParam0]._fU12 = 1;
        }
        if (bVar27)
        {
            sub_62631();
        }
    }
    if (bParam2)
    {
        sub_62342();
        sub_62719();
        sub_62523( 0 );
    }
    if (bParam3)
    {
        sub_62342();
        sub_62759();
        sub_62523( 0 );
        sub_2598( uVar29, 0 );
    }
    sub_2044();
    return;
}

void sub_51473(unknown uParam0)
{
    PRINTSTRING( "FLOW WARNING: " );
    PRINTSTRING( uParam0 );
    PRINTNL();
    SCRIPT_ASSERT( "FLOW WARNING: Press IGNORE button and look at console window for details" );
    return;
}

int sub_52050(int iParam0, int iParam1)
{
    unknown uVar4;
    int iVar5;
    int Result;

    if ((iParam0 >= 28) || (iParam0 < 0))
    {
        sub_2556( "Main_Missions: Find_Trigger(): Illegal Strand ID" );
    }
    uVar4 = g_U32640[iParam0]._fU0;
    iVar5 = g_U32640[iParam0]._fU4;
    for ( Result = uVar4; Result <= iVar5; Result++ )
    {
        if (g_U26758[Result]._fU4 == iParam1)
        {
            return Result;
        }
    }
    return -1;
}

void sub_52447(unknown uParam0, unknown uParam1)
{
    int iVar4;

    iVar4 = 0;
    GET_GAME_TIMER( ref iVar4 );
    g_U15874[uParam0]._fU0 = uParam1;
    g_U15874[uParam0]._fU4 = iVar4 + 7200000;
    return;
}

int sub_52536(unknown uParam0, unknown uParam1, unknown uParam2, boolean bParam3, unknown uParam4, unknown uParam5)
{
    boolean bVar8;
    unknown uVar9;
    int iVar10;

    bVar8 = false;
    switch (uParam0)
    {
        case 0:
        bVar8 = sub_52744( uParam1 );
        break;
        case 1:
        bVar8 = sub_54822( uParam1 );
        break;
        case 2:
        bVar8 = sub_55048( uParam1 );
        break;
        case 3:
        bVar8 = sub_55198( uParam1 );
        break;
        case 4:
        bVar8 = sub_55476( uParam1 );
        break;
        case 5:
        bVar8 = sub_55779( uParam1 );
        break;
        case 6:
        bVar8 = sub_55978( uParam1 );
        break;
        case 7:
        bVar8 = sub_56204( uParam1 );
        break;
        case 8:
        bVar8 = sub_56439( uParam1 );
        break;
        case 9:
        bVar8 = sub_56814( uParam1 );
        break;
        case 10:
        bVar8 = sub_57061( uParam1 );
        break;
        case 11:
        bVar8 = sub_57200( uParam1 );
        break;
        case 12:
        bVar8 = sub_57499( uParam1 );
        break;
        case 13:
        bVar8 = sub_57727( uParam1 );
        break;
        case 14:
        bVar8 = sub_58014( uParam1 );
        break;
        case 15:
        bVar8 = sub_58296( uParam1 );
        break;
        case 16:
        bVar8 = sub_58578( uParam1 );
        break;
        case 17:
        bVar8 = sub_58779( uParam1 );
        break;
        case 18:
        bVar8 = sub_58852( uParam1 );
        break;
        case 19:
        bVar8 = sub_59066( uParam1 );
        break;
        case 20:
        bVar8 = sub_59319( uParam1 );
        break;
        case 21:
        bVar8 = sub_59566( uParam1 );
        break;
        case 22:
        bVar8 = sub_59767( uParam1 );
        break;
        default:
        PRINTSTRING( "Strand ID: " );
        PRINTINT( uParam0 );
        PRINTNL();
        sub_54427( "Flow_Pass_Stats: Flow_Pass_Strand_Mission(): Unknown strand ID." );
    }
    if (NOT bVar8)
    {
        return 0;
    }
    uVar9 = sub_52050( uParam0, uParam1 );
    if (bParam3)
    {
        iVar10 = g_U13391[uParam0]._fU0._fU56;
        if ((NOT (iVar10 == 6)) AND (NOT (iVar10 == 5)))
        {
            sub_60090( uVar9, uParam0 );
        }
    }
    return 1;
}

int sub_52744(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 0;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_53023( iVar3, 25, 5, 2, 0, 0 );
        break;
        case 1:
        sub_53023( iVar3, 30, 5, 2, 0, 0 );
        break;
        case 2:
        sub_53023( iVar3, 0, 5, 0, 0, 0 );
        break;
        case 4:
        sub_53023( iVar3, 50, 5, 2, 0, 0 );
        break;
        case 5:
        sub_53023( iVar3, 100, 5, 2, 0, 0 );
        break;
        case 6:
        sub_53023( iVar3, 150, 5, 2, 0, 0 );
        break;
        case 8:
        sub_53023( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 9:
        sub_53023( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 10:
        sub_53023( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 11:
        sub_53023( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 12:
        sub_53023( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 13:
        sub_53023( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 15:
        sub_53023( iVar3, 250000, 5, 2, 0, 0 );
        break;
        case 16:
        sub_53023( iVar3, 0, 0, 0, 0, 0 );
        break;
        case 20:
        if (g_U15654[12])
        {
            sub_53023( iVar3, 0, 5, 2, 0, 0 );
        }
        else
        {
            sub_53023( iVar3, 250000, 0, 0, 0, 0 );
        }
        break;
        case 7:
        sub_53023( iVar3, 0, 3, 1, 0, 0 );
        break;
        case 3:
        case 30:
        case 14:
        case 37:
        case 18:
        case 19:
        case 17:
        case 21: break;
        case 22:
        case 23:
        case 24:
        case 25:
        case 26:
        case 27:
        case 28:
        sub_53023( iVar3, 0, sub_54305(), sub_54571(), 0, 0 );
        break;
        default:
        sub_54730( "Friend 1", 1 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_54730( "Friend 1", 0 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

void sub_53023(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, int iParam5)
{
    sub_53034( uParam1 );
    sub_53208( uParam0, 0, uParam2 );
    sub_53208( uParam0, 1, uParam3 );
    sub_53208( uParam0, 2, uParam4 );
    ProtectedSet(g_U26747[4], ProtectedGet(g_U26747[4]) + iParam5);
    sub_51285();
    return;
}

void sub_53034(unknown uParam0)
{
    ADD_SCORE( sub_3639(), uParam0 );
    sub_53059( uParam0 );
    return;
}

void sub_53059(int iParam0)
{
    if (g_U0)
    {
        return;
    }
    if (iParam0 < 0)
    {
        sub_2556( "Flow_Achievements_Increase_Cash_From_Missions: negative cash given. Tell Keith." );
    }
    INCREMENT_INT_STAT_NO_MESSAGE( 93, iParam0 );
    return;
}

void sub_53208(unknown uParam0, int iParam1, int iParam2)
{
    g_U10981[uParam0]._fU40[iParam1] += iParam2;
    if (g_U10981[uParam0]._fU40[iParam1] < 0)
    {
        g_U10981[uParam0]._fU40[iParam1] = 0;
    }
    if (g_U10981[uParam0]._fU40[iParam1] > 100)
    {
        g_U10981[uParam0]._fU40[iParam1] = 100;
    }
    if (iParam1 == 1)
    {
        sub_53365( uParam0 );
    }
    return;
}

void sub_53365(unknown uParam0)
{
    if (g_U0)
    {
        return;
    }
    if (IS_BIT_SET( ProtectedGet(g_U64791), 11 ))
    {
        return;
    }
    if (g_U10981[uParam0]._fU40[1] < 90)
    {
        return;
    }
    switch (uParam0)
    {
        case 0:
        SET_BIT( 1, 6 );
        break;
        break;
        2;
        1;
        ref g_U64791;
        1;
        ref g_U64791;
        break;
        case 3:
        SET_BIT( 1, 7 );
        break;
        break;
        2;
        1;
        ref g_U64791;
        1;
        ref g_U64791;
        break;
        case 7:
        SET_BIT( 1, 8 );
        break;
        break;
        2;
        1;
        ref g_U64791;
        1;
        ref g_U64791;
        break;
        case 8:
        SET_BIT( 1, 9 );
        break;
        break;
        2;
        1;
        ref g_U64791;
        1;
        ref g_U64791;
        break;
        case 13:
        SET_BIT( 1, 10 );
        break;
        break;
        2;
        1;
        ref g_U64791;
        1;
        ref g_U64791;
        break;
    }
    if ((NOT (IS_BIT_SET( ProtectedGet(g_U64791), 5 ))) || ((NOT (IS_BIT_SET( ProtectedGet(g_U64791), 4 ))) || ((NOT (IS_BIT_SET( ProtectedGet(g_U64791), 3 ))) || ((NOT (IS_BIT_SET( ProtectedGet(g_U64791), 2 ))) || (NOT (IS_BIT_SET( ProtectedGet(g_U64791), 1 )))))))
    {
        return;
    }
    if (NOT (IS_BIT_SET( ProtectedGet(g_U64791), 7 )))
    {
        return;
    }
    if (NOT (IS_BIT_SET( ProtectedGet(g_U64791), 9 )))
    {
        return;
    }
    if (NOT (IS_BIT_SET( ProtectedGet(g_U64791), 10 )))
    {
        return;
    }
    if (g_U10981[0]._fU8)
    {
        if (NOT (IS_BIT_SET( ProtectedGet(g_U64791), 6 )))
        {
            return;
        }
    }
    if (g_U10981[7]._fU8)
    {
        if (NOT (IS_BIT_SET( ProtectedGet(g_U64791), 8 )))
        {
            return;
        }
    }
    SET_BIT( 1, 11 );
    AWARD_ACHIEVEMENT( 35 );
    return;
    break;
    2;
    1;
    ref g_U64791;
    1;
    ref g_U64791;
    break;
}

int sub_54305()
{
    switch (l_U788[0])
    {
        case 0: return 14;
        case 1: return 8;
        case 2: return 6;
        case 3: return 1;
        case 4: return 0;
    }
    sub_54427( "Get_TRUST(): Unknown Friend Pass ID" );
    return 0;
}

void sub_54427(unknown uParam0)
{
    PRINTSTRING( "FLOW ERROR: " );
    PRINTSTRING( uParam0 );
    PRINTNL();
    SCRIPT_ASSERT( "FLOW ERROR: Press IGNORE button and look at console window for details" );
    return;
}

int sub_54571()
{
    switch (l_U788[1])
    {
        case 0: return 10;
        case 1: return 6;
        case 2: return 3;
        case 3: return 1;
        case 4: return 0;
    }
    sub_54427( "Get_LIKE(): Unknown Friend Pass ID" );
    return 0;
}

void sub_54730(unknown uParam0, unknown uParam1)
{
    return;
}

int sub_54822(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 1;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_53023( iVar3, 50, 5, 5, 0, 0 );
        break;
        case 1:
        sub_53023( iVar3, 100, 5, 5, 0, 0 );
        break;
        case 2:
        sub_53023( iVar3, 150, 5, 5, 0, 0 );
        break;
        case 3:
        sub_53023( iVar3, 200, 5, 5, 0, 0 );
        break;
        default:
        sub_54730( "Contact 2", 1 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_54730( "Contact 2", 0 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_55048(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 2;
    bVar4 = false;
    switch (uParam0)
    {
        case 1:
        sub_53023( iVar3, 0, 5, 5, 0, 0 );
        break;
        case 0: break;
        default:
        sub_54730( "Girl 3", 1 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_54730( "Girl 3", 0 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_55198(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 3;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_53023( iVar3, 200, 5, 2, 0, 0 );
        break;
        case 1:
        sub_53023( iVar3, 250, 5, 2, 0, 0 );
        break;
        case 2:
        sub_53023( iVar3, 250, 3, 1, 0, 0 );
        break;
        case 3:
        case 4:
        case 5:
        case 6:
        case 7:
        case 8:
        case 9:
        sub_53023( iVar3, 0, sub_54305(), sub_54571(), 0, 0 );
        break;
        default:
        sub_54730( "Friend 4", 1 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_54730( "Friend 4", 0 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_55476(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 4;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_53023( iVar3, 200, 5, 5, 0, 0 );
        break;
        case 1:
        sub_53023( iVar3, 400, 5, 5, 0, 0 );
        break;
        case 2:
        sub_53023( iVar3, 500, 5, 5, 0, 0 );
        break;
        case 3:
        sub_53023( iVar3, 600, 5, 5, 0, 0 );
        break;
        case 4:
        sub_53023( iVar3, 700, 5, 5, 0, 0 );
        break;
        case 5:
        sub_53023( iVar3, 0, 5, 5, 0, 0 );
        break;
        case 6:
        sub_53023( iVar3, 0, 5, 5, 0, 0 );
        break;
        default:
        sub_54730( "Contact 5", 1 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_54730( "Contact 5", 0 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_55779(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 5;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_53023( iVar3, 1000, 5, 5, 0, 0 );
        break;
        case 1:
        sub_53023( iVar3, 1100, 5, 5, 0, 0 );
        break;
        case 2:
        sub_53023( iVar3, 1500, 5, 5, 0, 0 );
        break;
        default:
        sub_54730( "Contact 7", 1 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_54730( "Contact 7", 0 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_55978(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 6;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_53023( iVar3, 1500, 5, 5, 0, 0 );
        break;
        case 1:
        sub_53023( iVar3, 2000, 5, 5, 0, 0 );
        break;
        case 2:
        sub_53023( iVar3, 2500, 5, 5, 0, 0 );
        break;
        case 3:
        sub_53023( iVar3, 0, 5, 5, 0, 0 );
        break;
        default:
        sub_54730( "Contact 7b", 1 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_54730( "Contact 7b", 0 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_56204(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 7;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_53023( iVar3, 6000, 5, 2, 0, 0 );
        break;
        case 1:
        sub_53023( iVar3, 6250, 5, 2, 0, 0 );
        break;
        case 2:
        case 3:
        case 4:
        case 5:
        case 6:
        sub_53023( iVar3, 0, sub_54305(), sub_54571(), 0, 0 );
        break;
        default:
        sub_54730( "Friend 8", 1 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_54730( "Friend 8", 0 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_56439(unknown uParam0)
{
    int iVar3;
    boolean bVar4;
    int iVar5;

    iVar3 = 8;
    bVar4 = false;
    iVar5 = 500;
    switch (uParam0)
    {
        case 0:
        sub_53023( iVar3, 3500, 5, 2, 0, 0 );
        break;
        case 1:
        sub_53023( iVar3, 3500, 5, 2, 0, 0 );
        break;
        case 4:
        sub_53023( iVar3, 6750, 5, 2, 0, 0 );
        break;
        case 5:
        sub_53023( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 2:
        case 3: break;
        case 6:
        sub_53023( iVar3, iVar5, 3, 1, 0, 0 );
        INCREMENT_INT_STAT_NO_MESSAGE( 109, iVar5 );
        break;
        case 7:
        case 8:
        case 9:
        case 10:
        case 11:
        case 12:
        case 13:
        case 14:
        sub_53023( iVar3, 0, sub_54305(), sub_54571(), 0, 0 );
        break;
        default:
        sub_54730( "Friend 9", 1 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_54730( "Friend 9", 0 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_56814(unknown uParam0)
{
    int iVar3;
    int iVar4;
    boolean bVar5;

    iVar3 = 9;
    iVar4 = 7;
    bVar5 = false;
    switch (uParam0)
    {
        case 0:
        sub_53023( iVar3, 6500, 5, 5, 0, 0 );
        break;
        case 1:
        sub_53023( iVar3, 6750, 5, 5, 0, 0 );
        break;
        case 3:
        if (g_U15654[39])
        {
            sub_53023( iVar4, 0, 5, 10, 0, 0 );
        }
        else
        {
            sub_53023( iVar3, 0, 5, 5, 0, 0 );
        }
        break;
        case 2: break;
        default:
        sub_54730( "Contact 10", 1 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar5)
    {
        sub_54730( "Contact 10", 0 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_57061(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 10;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_53023( iVar3, 0, 1, 1, 0, 0 );
        break;
        default:
        sub_54730( "Girl 11", 1 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_54730( "Girl 11", 0 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_57200(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 11;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_53023( iVar3, 1000, 5, 5, 0, 0 );
        break;
        case 3:
        sub_53023( iVar3, 1000, 5, 5, 0, 0 );
        break;
        case 4:
        sub_53023( iVar3, 5000, 5, 5, 0, 0 );
        break;
        case 5:
        sub_53023( iVar3, 5000, 5, 5, 0, 0 );
        break;
        case 6:
        sub_53023( iVar3, 0, 5, 5, 0, 0 );
        break;
        case 7:
        sub_53023( iVar3, 0, 5, 5, 0, 0 );
        break;
        case 1:
        case 2: break;
        default:
        sub_54730( "Contact 12", 1 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_54730( "Contact 12", 0 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_57499(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 12;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_53023( iVar3, 6500, 5, 5, 0, 0 );
        break;
        case 1:
        sub_53023( iVar3, 6750, 5, 5, 0, 0 );
        break;
        case 2:
        sub_53023( iVar3, 7000, 5, 5, 0, 0 );
        break;
        case 3:
        sub_53023( iVar3, 7500, 5, 5, 0, 0 );
        break;
        default:
        sub_54730( "Contact 13", 1 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_54730( "Contact 13", 0 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_57727(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 13;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_53023( iVar3, 7500, 5, 2, 0, 5 );
        break;
        case 1:
        sub_53023( iVar3, 8000, 5, 2, 0, 5 );
        break;
        case 3:
        sub_53023( iVar3, 250000, 5, 2, 0, 5 );
        break;
        case 4:
        case 5:
        case 6:
        case 7:
        case 8:
        case 9:
        sub_53023( iVar3, 0, sub_54305(), sub_54571(), 0, 0 );
        break;
        case 2: break;
        default:
        sub_54730( "Friend 15", 1 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_54730( "Friend 15", 0 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_58014(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 14;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_53023( iVar3, 8500, 5, 5, 0, 0 );
        break;
        case 1:
        sub_53023( iVar3, 9000, 5, 5, 0, 0 );
        break;
        case 2:
        sub_53023( iVar3, 9500, 5, 5, 0, 0 );
        break;
        case 3:
        sub_53023( iVar3, 9500, 5, 5, 0, 0 );
        break;
        case 4:
        sub_53023( iVar3, 9500, 5, 5, 0, 0 );
        break;
        case 5:
        sub_53023( iVar3, 11000, 5, 5, 0, 0 );
        break;
        default:
        sub_54730( "Contact 16", 1 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_54730( "Contact 16", 0 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_58296(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 15;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_53023( iVar3, 9000, 5, 5, 0, 0 );
        break;
        case 1:
        sub_53023( iVar3, 9250, 5, 5, 0, 0 );
        break;
        case 4:
        sub_53023( iVar3, 9500, 5, 5, 0, 0 );
        break;
        case 6:
        sub_53023( iVar3, 9750, 5, 5, 0, 0 );
        break;
        case 7:
        sub_53023( iVar3, 0, 5, 5, 0, 0 );
        break;
        case 2:
        case 3:
        case 5: break;
        default:
        sub_54730( "Contact 18", 1 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_54730( "Contact 18", 0 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_58578(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 16;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_53023( iVar3, 6500, 5, 5, 0, 0 );
        break;
        case 1:
        sub_53023( iVar3, 7000, 5, 5, 0, 0 );
        break;
        case 2:
        sub_53023( iVar3, 7500, 5, 5, 0, 0 );
        break;
        default:
        sub_54730( "Contact 19", 1 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_54730( "Contact 19", 0 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_58779(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 17;
    bVar4 = false;
    if (bVar4)
    {
        sub_54730( "Girl 20", 0 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_58852(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 18;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_53023( iVar3, 6000, 5, 5, 0, 0 );
        break;
        case 1:
        sub_53023( iVar3, 6250, 5, 5, 0, 0 );
        break;
        case 2:
        sub_53023( iVar3, 6500, 5, 5, 0, 0 );
        break;
        case 3: break;
        default:
        sub_54730( "Contact 21", 1 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_54730( "Contact 21", 0 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_59066(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 19;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_53023( iVar3, 7500, 5, 5, 0, 0 );
        break;
        case 2:
        sub_53023( iVar3, 10500, 5, 5, 0, 0 );
        break;
        case 3:
        sub_53023( iVar3, 11000, 5, 5, 0, 0 );
        break;
        case 4:
        sub_53023( iVar3, 12000, 5, 5, 0, 0 );
        break;
        case 1:
        sub_53023( iVar3, 0, 3, 3, 0, 0 );
        break;
        default:
        sub_54730( "Contact 22", 1 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_54730( "Contact 22", 0 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_59319(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 20;
    bVar4 = false;
    switch (uParam0)
    {
        case 1:
        sub_53023( iVar3, 10500, 5, 5, 0, 0 );
        break;
        case 2:
        sub_53023( iVar3, 0, 5, 5, 0, 0 );
        break;
        case 3:
        sub_53023( iVar3, 13000, 5, 5, 0, 0 );
        break;
        case 5:
        sub_53023( iVar3, 14500, 5, 5, 0, 0 );
        break;
        case 4:
        case 0: break;
        default:
        sub_54730( "Contact 24", 1 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_54730( "Contact 24", 0 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_59566(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 21;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_53023( iVar3, 12000, 5, 5, 0, 0 );
        break;
        case 1:
        sub_53023( iVar3, 13250, 5, 5, 0, 0 );
        break;
        case 2:
        sub_53023( iVar3, 14500, 5, 5, 0, 0 );
        break;
        default:
        sub_54730( "Contact 25", 1 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_54730( "Contact 25", 0 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_59767(unknown uParam0)
{
    int iVar3;
    int iVar4;
    boolean bVar5;

    iVar3 = 22;
    iVar4 = 8;
    bVar5 = false;
    switch (uParam0)
    {
        case 0:
        sub_53023( iVar4, 0, 3, 1, 0, 0 );
        break;
        default:
        sub_54730( "Girl 26", 1 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar5)
    {
        sub_54730( "Girl 26", 0 );
        sub_53023( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

void sub_60090(int iParam0, int iParam1)
{
    if (g_U0)
    {
        return;
    }
    if (iParam0 == -1)
    {
        return;
    }
    if (iParam1 == -1)
    {
        return;
    }
    if (sub_60138( iParam0, iParam1 ))
    {
        INCREMENT_INT_STAT_NO_MESSAGE( 253, 1 );
        sub_60869( iParam1 );
    }
    return;
}

int sub_60138(int iParam0, int iParam1)
{
    int iVar4;
    boolean bVar5;
    int iVar6;

    if (g_U0)
    {
        return 0;
    }
    if (iParam0 == -1)
    {
        return 0;
    }
    if (iParam1 == -1)
    {
        return 0;
    }
    iVar4 = g_U13391[iParam1]._fU0._fU56;
    bVar5 = iVar4 == 6;
    if (bVar5)
    {
        return 0;
    }
    iVar6 = 0;
    if (NOT (IS_BIT_SET( g_U26758[iParam0]._fU108, 3 )))
    {
        iVar6 = g_U26758[iParam0]._fU104;
        if (iVar6 > 0)
        {
            sub_60278( 0, iVar6 );
            g_U13334[iParam1]._fU4 += iVar6;
        }
        SET_BIT( ref g_U26758[iParam0]._fU108, 3 );
        return 1;
    }
    return 0;
}

void sub_60278(unknown uParam0, int iParam1)
{
    g_U32871[uParam0]._fU4 += iParam1;
    if (g_U32871[uParam0]._fU4 > g_U32871[uParam0]._fU0)
    {
        SCRIPT_ASSERT( "Flow_Achievements_Game_Progress_Made: Current Category is over target value" );
        g_U32871[uParam0]._fU4 = g_U32871[uParam0]._fU0;
    }
    sub_60460( 0 );
    return;
}

void sub_60460(boolean bParam0)
{
    float fVar3;
    float fVar4;
    float fVar5;
    float fVar6;
    boolean bVar7;
    int I;

    fVar3 = 0.00000000;
    fVar4 = 0.00000000;
    fVar5 = 0.00000000;
    fVar6 = 0.00000000;
    bVar7 = true;
    I = 0;
    for ( I = 0; I < 8; I++ )
    {
        if (g_U32871[I]._fU4 == g_U32871[I]._fU0)
        {
            fVar4 = g_U32871[I]._fU8;
        }
        else
        {
            bVar7 = false;
            fVar5 = TO_FLOAT( g_U32871[I]._fU0 );
            fVar6 = TO_FLOAT( g_U32871[I]._fU4 );
            fVar4 = (fVar6 / fVar5) * g_U32871[I]._fU8;
        }
        fVar3 += fVar4;
    }
    if (fVar3 > 100.00000000)
    {
        fVar3 = 99.99000000;
    }
    if (bVar7)
    {
        fVar3 = 100.00000000;
    }
    SET_FLOAT_STAT( 0, fVar3 );
    if (bVar7)
    {
        sub_60715();
    }
    if ((NOT (# -NULL-0xc27c84())) AND ((NOT bParam0) AND (bVar7)))
    {
        PRINT_HELP( "GAME100" );
    }
    return;
}

void sub_60715()
{
    ENABLE_MAX_AMMO_CAP( 0 );
    return;
}

void sub_60869(int iParam0)
{
    float fVar3;
    float fVar4;
    float fVar5;

    if (g_U0)
    {
        return;
    }
    if (iParam0 == -1)
    {
        return;
    }
    if (g_U13334[iParam0]._fU0 == 0)
    {
        return;
    }
    fVar3 = 0.00000000;
    fVar4 = 0.00000000;
    fVar5 = 0.00000000;
    if (g_U13334[iParam0]._fU4 == g_U13334[iParam0]._fU0)
    {
        fVar3 = 100.00000000;
    }
    else
    {
        fVar4 = TO_FLOAT( g_U13334[iParam0]._fU0 );
        fVar5 = TO_FLOAT( g_U13334[iParam0]._fU4 );
        fVar3 = fVar5 / fVar4;
        fVar3 *= 100.00000000;
    }
    switch (iParam0)
    {
        case 0:
        sub_61202( 3 );
        SET_FLOAT_STAT( 3, fVar3 );
        break;
        case 1:
        sub_61202( 4 );
        SET_FLOAT_STAT( 4, fVar3 );
        break;
        case 3:
        sub_61202( 7 );
        SET_FLOAT_STAT( 7, fVar3 );
        break;
        case 4:
        sub_61202( 8 );
        SET_FLOAT_STAT( 8, fVar3 );
        break;
        case 5:
        sub_61202( 9 );
        SET_FLOAT_STAT( 9, fVar3 );
        break;
        case 6:
        sub_61202( 10 );
        SET_FLOAT_STAT( 10, fVar3 );
        break;
        case 7:
        sub_61202( 13 );
        SET_FLOAT_STAT( 13, fVar3 );
        break;
        case 8:
        sub_61202( 16 );
        SET_FLOAT_STAT( 16, fVar3 );
        break;
        case 9:
        sub_61202( 17 );
        SET_FLOAT_STAT( 17, fVar3 );
        break;
        case 11:
        sub_61202( 18 );
        SET_FLOAT_STAT( 18, fVar3 );
        break;
        case 12:
        sub_61202( 19 );
        SET_FLOAT_STAT( 19, fVar3 );
        break;
        case 13:
        sub_61202( 22 );
        SET_FLOAT_STAT( 22, fVar3 );
        break;
        case 14:
        sub_61202( 23 );
        SET_FLOAT_STAT( 23, fVar3 );
        break;
        case 15:
        sub_61202( 24 );
        SET_FLOAT_STAT( 24, fVar3 );
        break;
        case 16:
        sub_61202( 25 );
        SET_FLOAT_STAT( 25, fVar3 );
        break;
        case 18:
        sub_61202( 26 );
        SET_FLOAT_STAT( 26, fVar3 );
        break;
        case 19:
        sub_61202( 27 );
        SET_FLOAT_STAT( 27, fVar3 );
        break;
        case 20:
        sub_61202( 29 );
        SET_FLOAT_STAT( 29, fVar3 );
        break;
        case 21:
        sub_61202( 28 );
        SET_FLOAT_STAT( 28, fVar3 );
        break;
        default: return;
    }
    return;
}

void sub_61202(unknown uParam0)
{
    if ((GET_STAT_FRONTEND_VISIBILITY( uParam0 )) == 0)
    {
        SET_STAT_FRONTEND_VISIBILITY( uParam0, 1 );
    }
    return;
}

void sub_61912(unknown uParam0, unknown uParam1)
{
    sub_61931( uParam0, 0, 0.00000000, uParam1 );
    return;
}

void sub_61931(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;

    switch (uParam0)
    {
        case 0:
        PLAYSTATS_INT( "SPRUNK_BOUGHT", uParam1 );
        break;
        case 1:
        PLAYSTATS_INT( "HOTDOG_BOUGHT", uParam1 );
        break;
        case 2:
        PLAYSTATS_INT( "NUTS_BOUGHT", uParam1 );
        break;
        case 3:
        PLAYSTATS_INT( "BURGERS_BOUGHT", uParam1 );
        break;
        case 7:
        PLAYSTATS_INT( "DONATE_BEGGAR", uParam1 );
        break;
        case 8:
        PLAYSTATS_INT( "DONATE_BUSKER", uParam1 );
        break;
        case 4:
        PLAYSTATS_INT( "BSHOT_BOUGHT", uParam1 );
        break;
        case 5:
        PLAYSTATS_INT( "CBELL_BOUGHT", uParam1 );
        break;
        case 6:
        PLAYSTATS_INT( "CAFE_BOUGHT", uParam1 );
        break;
        case 9: break;
    }
    return;
}

void sub_62342()
{
    g_U9914._fU0 = 1;
    g_U9914._fU4 = 0;
    g_U9914._fU8 = 0;
    g_U9914._fU12 = 0;
    g_U9914._fU16 = 0;
    g_U9914._fU20 = 0;
    g_U9914._fU24 = 7;
    return;
}

int sub_62427(int iParam0, int iParam1)
{
    if (iParam0 == 0)
    {
        if (iParam1 == 20)
        {
            return 1;
        }
    }
    return 0;
}

void sub_62484(unknown uParam0)
{
    sub_1943();
    g_U10981[uParam0]._fU116 = 0;
    return;
}

void sub_62523(unknown uParam0)
{
    if (g_U9385)
    {
        g_U9385 = 0;
        return;
    }
    g_U9380._fU0 = 1;
    g_U9380._fU4 = uParam0;
    g_U9380._fU8 = 0;
    g_U9380._fU12 = 0;
    g_U9380._fU16 = 0;
    return;
}

void sub_62631()
{
    sub_62640();
    return;
}

void sub_62640()
{
    if (COMPARE_STRING( ref g_U9926, "" ))
    {
        return;
    }
    PLAYSTATS_MISSION_PASSED( ref g_U9926 );
    StrCopy( ref g_U9926, "", 16 );
    return;
}

void sub_62719()
{
    sub_62640();
    return;
}

void sub_62759()
{
    sub_62640();
    StrCopy( ref g_U9926, "FPASS", 16 );
    return;
}

void sub_63316()
{
    if (NOT (l_U1038[2] == 1))
    {
        if (l_U818 != 0)
        {
            if (sub_15283( ref l_U1036, 1000 ))
            {
                l_U1038[2] = 1;
                l_U818 = 4;
            }
        }
    }
    l_U901 = 1;
    if (NOT (IS_CHAR_INJURED( l_U918 )))
    {
        if (IS_VEH_DRIVEABLE( l_U942 ))
        {
            switch (l_U818)
            {
                case 0:
                if (NOT l_U897)
                {
                    if (DOES_BLIP_EXIST( l_U991 ))
                    {
                        REMOVE_BLIP( l_U991 );
                        l_U897 = 1;
                    }
                }
                if (sub_6166( ref l_U1008, 7500 ))
                {
                    if (NOT l_U906)
                    {
                        sub_25330( ref l_U918, ref l_U942 );
                        l_U906 = 1;
                    }
                    l_U901 = 1;
                    if (sub_24170( 1 ))
                    {
                        if (NOT (HAVE_ANIMS_LOADED( "gestures@niko" )))
                        {
                            REQUEST_ANIMS( "gestures@niko" );
                            while (NOT (HAVE_ANIMS_LOADED( "gestures@niko" )))
                            {
                                WAIT( 0 );
                            }
                        }
                        LOAD_SCENE( 501.24150000, -506.65770000, 0.48650000 );
                        CLEAR_AREA( l_U1073._fU0, l_U1073._fU4, l_U1073._fU8, 100.00000000, 1 );
                        if (NOT (IS_CHAR_INJURED( l_U918 )))
                        {
                            if (NOT (IS_CAR_DEAD( l_U942 )))
                            {
                                CLEAR_CHAR_TASKS_IMMEDIATELY( sub_4129() );
                                if (IS_CHAR_IN_ANY_CAR( sub_4129() ))
                                {
                                    WARP_CHAR_FROM_CAR_TO_COORD( sub_4129(), 501.24150000, -506.65770000, 0.48650000 );
                                }
                                else
                                {
                                    SET_CHAR_COORDINATES( sub_4129(), 501.24150000, -506.65770000, 0.48650000 );
                                }
                                SET_CHAR_HEADING( sub_4129(), 291.96790000 );
                                TASK_LOOK_AT_CHAR( sub_4129(), l_U918, -2, 0 );
                                if (NOT (IS_CAR_DEAD( l_U945 )))
                                {
                                    DELETE_CAR( ref l_U945 );
                                }
                                for ( l_U992 = 0; l_U992 <= 1; l_U992++ )
                                {
                                    if (NOT (IS_CHAR_INJURED( l_U919[l_U992] )))
                                    {
                                        DELETE_CHAR( ref l_U919[l_U992] );
                                    }
                                }
                                SET_CAR_COORDINATES_NO_OFFSET( l_U942, l_U1073._fU0, l_U1073._fU4, -0.05000000 );
                                SET_CAR_HEADING( l_U942, l_U1436 );
                                ANCHOR_BOAT( l_U942, 1 );
                                CLEAR_CHAR_TASKS( l_U918 );
                                if (IS_CHAR_IN_ANY_CAR( l_U918 ))
                                {
                                    WARP_CHAR_FROM_CAR_TO_CAR( l_U918, l_U942, -1 );
                                }
                                else
                                {
                                    WARP_CHAR_INTO_CAR( l_U918, l_U942 );
                                }
                                TASK_LOOK_AT_CHAR( l_U918, sub_4129(), -2, 0 );
                                BEGIN_CAM_COMMANDS( ref l_U994 );
                                CREATE_CAM( 14, ref l_U1515 );
                                CREATE_CAM( 14, ref l_U1516 );
                                CREATE_CAM( 14, ref l_U1517 );
                                CREATE_CAM( 14, ref l_U1518 );
                                CREATE_CAM( 14, ref l_U1519 );
                                CREATE_CAM( 3, ref l_U1524 );
                                SET_CAM_FOV( l_U1515, 32.70000000 );
                                SET_CAM_POS( l_U1516, 510.64320000, -518.38720000, 1.95626400 );
                                SET_CAM_ROT( l_U1516, -7.90666900, -0.00000000, 24.43114000 );
                                SET_CAM_FOV( l_U1516, 28.20004000 );
                                SET_CAM_POS( l_U1517, 516.15000000, -529.26300000, 1.73415000 );
                                SET_CAM_ROT( l_U1517, -7.35422800, 0.00000000, 26.80431000 );
                                SET_CAM_FOV( l_U1517, 32.40003000 );
                                SET_CAM_POS( l_U1518, 500.63660000, -505.64500000, 2.13919600 );
                                SET_CAM_ROT( l_U1518, -4.01192300, 1.48604200, -135.41380000 );
                                SET_CAM_FOV( l_U1518, 28.20004000 );
                                SET_CAM_POS( l_U1519, 499.96250000, -505.16550000, 2.50950500 );
                                SET_CAM_ROT( l_U1519, -10.54578000, 1.46453900, -127.33160000 );
                                SET_CAM_FOV( l_U1519, 28.20004000 );
                                ATTACH_CAM_TO_VEHICLE( l_U1515, l_U942 );
                                SET_CAM_ATTACH_OFFSET( l_U1515, -3.10000000, 1.30000000, 1.70000000 );
                                SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U1515, 1 );
                                SET_CAM_POINT_OFFSET( l_U1515, 0.70000000, -0.50000000, 1.00000000 );
                                SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U1515, 1 );
                                POINT_CAM_AT_VEHICLE( l_U1515, l_U942 );
                                if (l_U821 != 0)
                                {
                                    sub_4817( "BC3_LOSE", ref l_U1573[0], 8, 1 );
                                }
                                else
                                {
                                    sub_4817( "BC3_CAPSZ", ref l_U1573[0], 8, 1 );
                                }
                                ACTIVATE_SCRIPTED_CAMS( 1, 1 );
                                SET_CAM_ACTIVE( l_U1515, 1 );
                                SET_CAM_PROPAGATE( l_U1515, 1 );
                                GET_GAME_TIMER( ref l_U1008 );
                                GET_GAME_TIMER( ref l_U1014 );
                                DO_SCREEN_FADE_IN( 750 );
                                GET_GAME_TIMER( ref l_U1036 );
                                l_U818 = 1;
                            }
                        }
                    }
                }
                break;
                case 1:
                if (NOT (IS_CHAR_INJURED( l_U918 )))
                {
                    BLOCK_CHAR_AMBIENT_ANIMS( l_U918, 1 );
                }
                if (NOT (sub_16047( l_U1573[0] )))
                {
                    if (NOT (IS_CHAR_INJURED( l_U918 )))
                    {
                        if (NOT (IS_CAR_DEAD( l_U942 )))
                        {
                            SET_CAM_ACTIVE( l_U1515, 0 );
                            SET_CAM_PROPAGATE( l_U1515, 0 );
                            CLEAR_CHAR_TASKS( l_U918 );
                            ANCHOR_BOAT( l_U942, 0 );
                            TASK_FLUSH_ROUTE();
                            TASK_EXTEND_ROUTE( 539.97290000, -661.56780000, 0.00000000 );
                            TASK_DRIVE_POINT_ROUTE( l_U918, l_U942, 45.00000000 );
                            SET_CAM_INTERP_STYLE_CORE( l_U1524, l_U1516, l_U1517, 5000, 0 );
                            SET_CAM_ACTIVE( l_U1524, 1 );
                            SET_CAM_PROPAGATE( l_U1524, 1 );
                            GET_GAME_TIMER( ref l_U1008 );
                            l_U818 = 2;
                        }
                    }
                }
                break;
                case 2:
                if (NOT IS_CAM_INTERPOLATING())
                {
                    SET_CAM_ACTIVE( l_U1524, 0 );
                    SET_CAM_PROPAGATE( l_U1524, 0 );
                    SET_CAM_ACTIVE( l_U1516, 0 );
                    SET_CAM_PROPAGATE( l_U1516, 0 );
                    SET_CAM_ACTIVE( l_U1517, 0 );
                    SET_CAM_PROPAGATE( l_U1517, 0 );
                    SET_CAM_INTERP_STYLE_CORE( l_U1524, l_U1518, l_U1519, 4000, 0 );
                    SET_CAM_ACTIVE( l_U1524, 1 );
                    SET_CAM_PROPAGATE( l_U1524, 1 );
                    l_U818 = 3;
                }
                break;
                case 3:
                if (NOT (IS_CHAR_INJURED( l_U918 )))
                {
                    if (NOT (IS_CAR_DEAD( l_U942 )))
                    {
                        if ((NOT (IS_CAR_ON_SCREEN( l_U942 ))) AND (NOT (IS_CHAR_ON_SCREEN( l_U918 ))))
                        {
                            if (NOT (IS_CAR_DEAD( l_U942 )))
                            {
                                SET_CAM_ACTIVE( l_U1524, 0 );
                                SET_CAM_PROPAGATE( l_U1524, 0 );
                                SET_CAM_ACTIVE( l_U1515, 0 );
                                SET_CAM_PROPAGATE( l_U1515, 0 );
                                SET_CAM_ACTIVE( l_U1516, 0 );
                                SET_CAM_PROPAGATE( l_U1516, 0 );
                                SET_CAM_ACTIVE( l_U1517, 0 );
                                SET_CAM_PROPAGATE( l_U1517, 0 );
                                ACTIVATE_SCRIPTED_CAMS( 0, 0 );
                                END_CAM_COMMANDS( ref l_U994 );
                                DELETE_CAR( ref l_U942 );
                                DELETE_CHAR( ref l_U918 );
                                sub_51067( 1 );
                                sub_4444();
                            }
                        }
                    }
                }
                break;
                case 4:
                DO_SCREEN_FADE_OUT( 500 );
                while (NOT IS_SCREEN_FADED_OUT())
                {
                    WAIT( 0 );
                }
                if (NOT (IS_CHAR_INJURED( l_U918 )))
                {
                    if (NOT (IS_CAR_DEAD( l_U942 )))
                    {
                        CLEAR_CHAR_TASKS( l_U918 );
                        DELETE_CHAR( ref l_U918 );
                        DELETE_CAR( ref l_U942 );
                        SET_CAM_ACTIVE( l_U1524, 0 );
                        SET_CAM_PROPAGATE( l_U1524, 0 );
                        SET_CAM_ACTIVE( l_U1515, 0 );
                        SET_CAM_PROPAGATE( l_U1515, 0 );
                        SET_CAM_ACTIVE( l_U1516, 0 );
                        SET_CAM_PROPAGATE( l_U1516, 0 );
                        SET_CAM_ACTIVE( l_U1517, 0 );
                        SET_CAM_PROPAGATE( l_U1517, 0 );
                        ACTIVATE_SCRIPTED_CAMS( 0, 0 );
                        END_CAM_COMMANDS( ref l_U994 );
                        SET_CAM_BEHIND_PED( sub_4129() );
                        SET_WIDESCREEN_BORDERS( 0 );
                        SET_PLAYER_CONTROL( sub_3639(), 1 );
                        DO_SCREEN_FADE_IN( 500 );
                        sub_4444();
                    }
                }
                break;
            }
        }
        else
        {
            sub_3696( 0 );
            CLEAR_PRINTS();
            l_U810 = 6;
        }
    }
    else
    {
        sub_3696( 0 );
        sub_4444();
    }
    return;
}

void sub_65830()
{
    if (NOT (l_U1038[3] == 1))
    {
        if (l_U822 != 0)
        {
            if (l_U1058[1] == 1)
            {
                if (sub_15283( ref l_U1036, 1000 ))
                {
                    l_U1038[3] = 1;
                    l_U822 = 7;
                }
            }
        }
    }
    l_U901 = 1;
    if (NOT (IS_CHAR_INJURED( l_U918 )))
    {
        switch (l_U822)
        {
            case 0:
            if (sub_6166( ref l_U1008, 7500 ))
            {
                if (NOT l_U906)
                {
                    sub_25330( ref l_U918, ref l_U942 );
                    l_U906 = 1;
                }
                if (sub_24170( 1 ))
                {
                    if (NOT (HAVE_ANIMS_LOADED( "gestures@niko" )))
                    {
                        REQUEST_ANIMS( "gestures@niko" );
                        while (NOT (HAVE_ANIMS_LOADED( "gestures@niko" )))
                        {
                            WAIT( 0 );
                        }
                    }
                    LOAD_SCENE( 499.60720000, -473.50000000, 0.48640000 );
                    for ( l_U992 = 0; l_U992 <= 1; l_U992++ )
                    {
                        if (DOES_CHAR_EXIST( l_U919[l_U992] ))
                        {
                            if (NOT (IS_CHAR_INJURED( l_U919[l_U992] )))
                            {
                                DELETE_CHAR( ref l_U919[l_U992] );
                            }
                        }
                    }
                    if (DOES_VEHICLE_EXIST( l_U945 ))
                    {
                        if (NOT (IS_CAR_DEAD( l_U945 )))
                        {
                            DELETE_CAR( ref l_U945 );
                        }
                    }
                    CLEAR_AREA( 500.17680000, -504.89720000, 0.96050000, 200.00000000, 1 );
                    if (NOT (IS_CHAR_INJURED( l_U918 )))
                    {
                        SET_ANIM_GROUP_FOR_CHAR( l_U918, "move_player" );
                        CLEAR_CHAR_TASKS_IMMEDIATELY( l_U918 );
                        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U918, 1 );
                        if (IS_CHAR_IN_ANY_CAR( l_U918 ))
                        {
                            WARP_CHAR_FROM_CAR_TO_COORD( l_U918, 499.60720000, -473.50000000, 0.48640000 );
                        }
                        else
                        {
                            SET_CHAR_COORDINATES( l_U918, 499.60720000, -473.50000000, 0.48640000 );
                        }
                        SET_CHAR_HEADING( l_U918, 205.16030000 );
                        CLEAR_CHAR_TASKS_IMMEDIATELY( sub_4129() );
                        if (IS_CHAR_IN_ANY_CAR( sub_4129() ))
                        {
                            WARP_CHAR_FROM_CAR_TO_COORD( sub_4129(), 501.53560000, -474.34870000, 0.48630000 );
                        }
                        else
                        {
                            SET_CHAR_COORDINATES( sub_4129(), 501.53560000, -474.34870000, 0.48630000 );
                        }
                        SET_CHAR_HEADING( sub_4129(), 205.16030000 );
                        TASK_FLUSH_ROUTE();
                        TASK_EXTEND_ROUTE( 499.46670000, -489.81920000, 0.48640000 );
                        OPEN_SEQUENCE_TASK( ref l_U1560 );
                        TASK_FOLLOW_POINT_ROUTE( 0, 2, 0 );
                        CLOSE_SEQUENCE_TASK( l_U1560 );
                        TASK_PERFORM_SEQUENCE( l_U918, l_U1560 );
                        CLEAR_SEQUENCE_TASK( l_U1560 );
                        GET_GAME_TIMER( ref l_U1008 );
                        TASK_FLUSH_ROUTE();
                        TASK_EXTEND_ROUTE( 501.56970000, -489.76670000, 0.48640000 );
                        OPEN_SEQUENCE_TASK( ref l_U1565 );
                        TASK_LOOK_AT_CHAR( 0, l_U918, -1, 0 );
                        TASK_FOLLOW_POINT_ROUTE( 0, 2, 0 );
                        CLOSE_SEQUENCE_TASK( l_U1565 );
                        TASK_PERFORM_SEQUENCE( sub_4129(), l_U1565 );
                        CLEAR_SEQUENCE_TASK( l_U1565 );
                        GET_GAME_TIMER( ref l_U1008 );
                    }
                    if (DOES_VEHICLE_EXIST( l_U942 ))
                    {
                        DELETE_CAR( ref l_U942 );
                    }
                    BEGIN_CAM_COMMANDS( ref l_U994 );
                    CREATE_CAM( 14, ref l_U1515 );
                    CREATE_CAM( 14, ref l_U1516 );
                    CREATE_CAM( 14, ref l_U1517 );
                    CREATE_CAM( 3, ref l_U1524 );
                    SET_CAM_POS( l_U1515, 498.35810000, -476.56930000, 1.49127300 );
                    SET_CAM_ROT( l_U1515, -0.00000000, 0.00000000, -41.27280000 );
                    SET_CAM_FOV( l_U1515, 38.50000000 );
                    SET_CAM_POS( l_U1516, 500.56560000, -506.15860000, 1.95275600 );
                    SET_CAM_ROT( l_U1516, 17.84996000, -0.00000000, 53.09497000 );
                    SET_CAM_FOV( l_U1516, 30.40006000 );
                    ATTACH_CAM_TO_PED( l_U1515, sub_4129() );
                    SET_CAM_ATTACH_OFFSET( l_U1515, 3.80000000, 1.70000000, 0.00000000 );
                    SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U1515, 1 );
                    SET_CAM_POINT_OFFSET( l_U1515, -0.90000000, -1.80000000, 0.00000000 );
                    SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U1515, 1 );
                    POINT_CAM_AT_PED( l_U1515, sub_4129() );
                    ACTIVATE_SCRIPTED_CAMS( 1, 1 );
                    SET_CAM_ACTIVE( l_U1515, 1 );
                    SET_CAM_PROPAGATE( l_U1515, 1 );
                    GET_GAME_TIMER( ref l_U1008 );
                    GET_GAME_TIMER( ref l_U1036 );
                    l_U1058[1] = 1;
                    DO_SCREEN_FADE_IN( 500 );
                    l_U822 = 1;
                }
            }
            break;
            case 1:
            if (sub_6166( ref l_U1008, 500 ))
            {
                sub_4817( "BC3_CAPSZ", ref l_U1573[0], 8, 1 );
                GET_GAME_TIMER( ref l_U1008 );
                l_U822 = 2;
            }
            break;
            case 2:
            if (NOT (sub_16047( l_U1573[0] )))
            {
                GET_GAME_TIMER( ref l_U1008 );
                l_U822 = 3;
            }
            break;
            case 3:
            if (sub_6166( ref l_U1008, 1250 ))
            {
                DO_SCREEN_FADE_OUT( 250 );
                l_U822 = 4;
            }
            break;
            case 4:
            if (IS_SCREEN_FADED_OUT())
            {
                SET_CAM_ACTIVE( l_U1515, 0 );
                SET_CAM_PROPAGATE( l_U1515, 0 );
                CLEAR_CHAR_TASKS_IMMEDIATELY( sub_4129() );
                CLEAR_CHAR_TASKS_IMMEDIATELY( l_U918 );
                SET_CHAR_HEADING( l_U918, 296.96530000 );
                SET_CHAR_COORDINATES( l_U918, 498.20330000, -504.75160000, 1.60360000 );
                SET_CAM_ACTIVE( l_U1516, 1 );
                SET_CAM_PROPAGATE( l_U1516, 1 );
                GET_GAME_TIMER( ref l_U1008 );
                DO_SCREEN_FADE_IN( 250 );
                l_U822 = 5;
            }
            break;
            case 5:
            if (IS_SCREEN_FADED_IN())
            {
                sub_4817( "BC3_BYE", ref l_U1573[0], 8, 1 );
                l_U822 = 6;
            }
            break;
            case 6:
            if (NOT (sub_16047( l_U1573[0] )))
            {
                OPEN_SEQUENCE_TASK( ref l_U1560 );
                TASK_FOLLOW_NAV_MESH_TO_COORD( 0, 496.86200000, -506.08330000, 1.60370000, 2, -1, 0.10000000 );
                CLOSE_SEQUENCE_TASK( l_U1560 );
                TASK_PERFORM_SEQUENCE( l_U918, l_U1560 );
                CLEAR_SEQUENCE_TASK( l_U1560 );
                GET_GAME_TIMER( ref l_U1008 );
                l_U822 = 7;
            }
            break;
            case 7:
            if ((l_U1038[3] == 1) || ((NOT (IS_CHAR_ON_SCREEN( l_U918 ))) || (sub_6166( ref l_U1008, 3000 ))))
            {
                DO_SCREEN_FADE_OUT( 500 );
                while (NOT IS_SCREEN_FADED_OUT())
                {
                    WAIT( 0 );
                }
                SET_CHAR_COORDINATES( sub_4129(), 502.36170000, -504.42870000, 0.48640000 );
                SET_CHAR_HEADING( sub_4129(), 114.00000000 );
                SET_CAM_ACTIVE( l_U1524, 0 );
                SET_CAM_PROPAGATE( l_U1524, 0 );
                SET_CAM_ACTIVE( l_U1515, 0 );
                SET_CAM_PROPAGATE( l_U1515, 0 );
                SET_CAM_ACTIVE( l_U1516, 0 );
                SET_CAM_PROPAGATE( l_U1516, 0 );
                SET_CAM_ACTIVE( l_U1517, 0 );
                SET_CAM_PROPAGATE( l_U1517, 0 );
                ACTIVATE_SCRIPTED_CAMS( 0, 0 );
                END_CAM_COMMANDS( ref l_U994 );
                DESTROY_ALL_CAMS();
                if (NOT (IS_CHAR_INJURED( l_U918 )))
                {
                    DELETE_CHAR( ref l_U918 );
                }
                sub_15047( 1 );
                sub_4444();
            }
            break;
        }
    }
    else
    {
        sub_3696( 0 );
        sub_4444();
    }
    return;
}

