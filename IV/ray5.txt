void main()
{
    l_U0 = 0;
    l_U1 = 0;
    l_U2 = 0;
    l_U3 = 0;
    l_U4 = 0;
    l_U5 = 1;
    l_U6 = 0;
    l_U7 = 0;
    l_U8 = 0;
    l_U9 = 1;
    l_U10 = 0;
    l_U11 = 0;
    l_U12 = 0;
    l_U13 = 0;
    l_U14 = 0;
    l_U15 = 0;
    l_U16 = 0;
    l_U17 = 0;
    l_U18 = 0;
    l_U19 = 1;
    l_U20 = 0;
    l_U21 = 0;
    l_U22 = 0;
    l_U23 = 0;
    l_U24 = 0;
    l_U25 = 0;
    l_U26 = 0;
    l_U27 = 1;
    l_U28 = 1;
    l_U29 = 0;
    l_U30 = 0;
    l_U31 = 0;
    l_U32 = 0;
    l_U33 = 0;
    l_U34 = 0;
    l_U35 = 0;
    l_U165 = 90.00000000;
    l_U166 = 5.00000000;
    l_U167 = 25.00000000;
    l_U168 = 15.00000000;
    l_U169 = 2.00000000;
    l_U170 = 4.00000000;
    l_U171 = 0.50000000;
    l_U172 = 120.00000000;
    l_U173 = 0.00000000;
    l_U174 = 0.00000000;
    l_U176 = 1.00000000;
    l_U177 = 0.00000000;
    l_U178 = 1.00000000;
    l_U179 = 10.00000000;
    l_U180 = 30.00000000;
    l_U182 = 1.00000000;
    l_U184 = 1.00000000;
    l_U185 = 5.00000000;
    l_U186 = 1.00000000;
    l_U187 = 1.00000000;
    l_U192 = 0.30000000;
    l_U193 = 0.50000000;
    l_U194 = 50.00000000;
    l_U233 = 0;
    l_U234 = 0;
    l_U235 = 0;
    l_U236 = 0;
    l_U237 = 1;
    l_U238 = 0;
    l_U239 = 0;
    l_U240 = 0;
    l_U241 = 0;
    l_U242 = -1;
    l_U243 = 0;
    l_U244 = 0;
    l_U245 = 0;
    l_U246 = 0;
    l_U247 = 0;
    l_U248 = 0;
    l_U249 = 0;
    l_U382 = 0;
    l_U383 = 0;
    l_U391 = 0;
    l_U392 = 1;
    l_U393 = 3;
    l_U395 = 0;
    l_U412 = -1;
    l_U416 = 0;
    l_U417 = 1;
    l_U418 = 1;
    l_U426 = 150.00000000;
    l_U516 = 0;
    l_U517 = 150.00000000;
    l_U567 = 0;
    l_U868 = 0;
    l_U869 = 0;
    l_U870 = 0;
    l_U871 = 0;
    l_U900 = 1977784957;
    l_U901 = 1574850459;
    l_U923 = 0;
    l_U924 = 0;
    l_U925 = 0;
    l_U926 = 0;
    l_U927 = 0;
    l_U928 = 0;
    l_U929 = 0;
    l_U930 = 0;
    l_U931 = 0;
    l_U932 = 0;
    l_U933 = 0;
    l_U934 = 0;
    l_U935 = 0;
    l_U936 = 0;
    l_U937 = 0;
    l_U938 = 0;
    l_U939 = 0;
    l_U940 = 0;
    l_U941 = 0;
    l_U942 = 0;
    l_U943 = 0;
    l_U944 = 0;
    l_U945 = 0;
    l_U946 = 0;
    l_U959 = 0;
    l_U960 = 0;
    l_U961 = 0;
    l_U962 = 0;
    l_U963 = 0;
    l_U964 = 0;
    l_U965 = 0;
    l_U966 = 0;
    l_U967 = 0;
    l_U968 = 0;
    l_U969 = 0;
    l_U970 = 0;
    l_U971 = 0;
    l_U972 = 0;
    l_U973 = 0;
    l_U974 = 0;
    l_U975 = 0;
    l_U976 = {-195.67990000, 1378.95100000, 19.74633000};
    l_U979 = {-195.81580000, 1382.26400000, 19.74925000};
    l_U982 = {-212.08100000, 1378.83800000, 19.20290000};
    l_U985 = {-194.00810000, 1379.40800000, 19.30090000};
    l_U988 = {-194.29300000, 1381.21700000, 19.30090000};
    l_U991 = {-186.33900000, 1357.36100000, 21.71900000};
    l_U994 = {65263, 1038, -5};
    l_U997 = {65275, 1060, 1};
    l_U1000 = {65439, 1132, -4};
    l_U1003 = {65455, 1138, 1};
    l_U1006 = {65484, 941, -4};
    l_U1009 = {65496, 950, 1};
    l_U1012 = {65472, 564, -4};
    l_U1015 = {65478, 577, 1};
    l_U1018 = {65517, 288, -4};
    l_U1021 = {9, 325, 1};
    l_U1024 = {-195.30000000, 1379.95000000, 19.30090000};
    l_U1027 = 0.00000000;
    l_U1028 = 50.31792000;
    l_U1029 = 127.79870000;
    l_U1030 = 9.00000000;
    l_U1031 = -169.86720000;
    l_U1032 = 0.00000000;
    l_U1033 = 0;
    l_U1034 = 0;
    l_U1035 = 0;
    l_U1049 = 0.00000000;
    l_U1050 = 0.00000000;
    l_U1051 = 8.00000000;
    l_U1052 = 0.00000000;
    l_U1053 = 0.00000000;
    l_U1059 = 0;
    l_U1061 = 0;
    l_U1062 = 0;
    l_U1063 = 0;
    l_U1064 = 0;
    l_U1065 = 0;
    if (HAS_DEATHARREST_EXECUTED())
    {
        sub_1367();
        sub_3477();
    }
    sub_4117();
    while (true)
    {
        WAIT( 0 );
        if (NOT l_U923)
        {
            switch (l_U1064)
            {
                case 0:
                sub_5562();
                break;
                case 1:
                sub_6174();
                break;
                case 4:
                sub_16854();
                break;
            }
        }
        else if (l_U924)
        {
            sub_18552();
        }
    }
    return;
}

void sub_1367()
{
    sub_1376();
    return;
}

void sub_1376()
{
    int iVar2;

    iVar2 = 14;
    sub_1390( iVar2 );
    sub_2566( iVar2 );
    return;
}

void sub_1390(unknown uParam0)
{
    int iVar3;
    boolean bVar4;
    unknown uVar5;

    iVar3 = g_U13391[uParam0]._fU0._fU56;
    bVar4 = iVar3 == 6;
    if (g_U813)
    {
        sub_1434();
        sub_1595();
    }
    else if (NOT g_U10981[uParam0]._fU12)
    {
        if (NOT bVar4)
        {
            sub_1703();
            sub_1742();
        }
    }
    sub_1818();
    sub_1919();
    uVar5 = sub_2032( uParam0 );
    sub_2473( uVar5, 0 );
    return;
}

void sub_1434()
{
    sub_1448( g_U9931 );
    if (NOT g_U9893._fU24)
    {
        sub_1548();
    }
    return;
}

void sub_1448(int iParam0)
{
    int iVar3;

    if (g_U0)
    {
        return;
    }
    if (iParam0 == -1)
    {
        return;
    }
    iVar3 = g_U26758[iParam0]._fU100;
    iVar3--;
    g_U26758[iParam0]._fU100 = iVar3;
    DECREMENT_INT_STAT( 255, 1 );
    return;
}

void sub_1548()
{
    if (g_U0)
    {
        return;
    }
    DECREMENT_INT_STAT( 256, 1 );
    return;
}

void sub_1595()
{
    sub_1604();
    return;
}

void sub_1604()
{
    if (COMPARE_STRING( ref g_U9926, "" ))
    {
        return;
    }
    PLAYSTATS_MISSION_CANCELLED( ref g_U9926 );
    StrCopy( ref g_U9926, "", 16 );
    return;
}

void sub_1703()
{
    if (g_U0)
    {
        return;
    }
    INCREMENT_INT_STAT_NO_MESSAGE( 254, 1 );
    return;
}

void sub_1742()
{
    sub_1751();
    return;
}

void sub_1751()
{
    if (COMPARE_STRING( ref g_U9926, "" ))
    {
        return;
    }
    PLAYSTATS_MISSION_FAILED( ref g_U9926 );
    StrCopy( ref g_U9926, "", 16 );
    return;
}

void sub_1818()
{
    int I;

    I = 0;
    for ( I = 0; I < 28; I++ )
    {
        if (g_U10981[I]._fU144._fU36)
        {
            g_U10981[I]._fU28 = 1;
        }
        g_U10981[I]._fU144._fU36 = 0;
    }
    return;
}

void sub_1919()
{
    int iVar2;
    int iVar3;

    iVar2 = 0;
    GET_GAME_TIMER( ref iVar2 );
    iVar3 = iVar2 + sub_1941();
    if (iVar3 > g_U63988._fU4)
    {
        g_U63988._fU4 = iVar3;
        g_U63988._fU8 = iVar2;
    }
    return;
}

int sub_1941()
{
    if (g_U15654[8])
    {
        return 27000;
    }
    return 15000;
}

int sub_2032(unknown uParam0)
{
    switch (uParam0)
    {
        case 0: return 0;
        case 1: return 1;
        case 2: return 2;
        case 3: return 3;
        case 4: return 4;
        case 5: return 5;
        case 6: return 6;
        case 7: return 7;
        case 8: return 8;
        case 9: return 9;
        case 10: return 10;
        case 11: return 11;
        case 12: return 12;
        case 13: return 13;
        case 14: return 14;
        case 15: return 15;
        case 16: return 16;
        case 17: return 17;
        case 18: return 18;
        case 19: return 19;
        case 20: return 22;
        case 21: return 20;
        case 22: return 21;
    }
    PRINTSTRING( "UNKNOWN STRAND ID: " );
    PRINTINT( uParam0 );
    PRINTNL();
    sub_2431( "Flow_public: Return_Contact_From_Strand(): Unknown strand" );
    return 57;
}

void sub_2431(unknown uParam0)
{
    SCRIPT_ASSERT( uParam0 );
    return;
}

void sub_2473(int iParam0, boolean bParam1)
{
    int iVar4;

    if (NOT (iParam0 < 57))
    {
        return;
    }
    iVar4 = 0;
    GET_GAME_TIMER( ref iVar4 );
    g_U26671[iParam0] = iVar4;
    if (bParam1)
    {
        g_U26671[iParam0] += 30000;
    }
    return;
}

void sub_2566(int iParam0)
{
    int iVar3;
    boolean bVar4;

    sub_2575();
    if (g_U0)
    {
        return;
    }
    if (g_U91._fU40 == 0)
    {
        return;
    }
    if (NOT g_U10978)
    {
        return;
    }
    iVar3 = g_U13391[iParam0]._fU0._fU56;
    bVar4 = iVar3 == 6;
    if (bVar4)
    {
        return;
    }
    if (g_U10981[iParam0]._fU12)
    {
        return;
    }
    if (g_U9893._fU40 == -1)
    {
        return;
    }
    if (NOT (g_U9893._fU40 == iParam0))
    {
        return;
    }
    if (NOT g_U813)
    {
        sub_3350();
        g_U9893._fU4 = 1;
    }
    return;
}

void sub_2575()
{
    int I;

    for ( I = 0; I <= (g_U569 - 1); I++ )
    {
        if ((g_U569[I]._fU20) AND ((sub_2613( 5, g_U569[I] )) == 1))
        {
            if ((sub_2613( 1, g_U569[I] )) != 0)
            {
                sub_2899( I );
            }
        }
    }
    if (NOT sub_3065())
    {
        SET_MESSAGES_WAITING( 0 );
        g_U91._fU404 = 1000;
    }
    if (g_U91._fU0 == 1014)
    {
        g_U91._fU92 = 1;
    }
    return;
}

int sub_2613(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
    switch (uParam0)
    {
        case 0:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 14, 23 );
        break;
        case 1:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 0, 13 );
        break;
        case 2:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 14, 27 );
        break;
        case 3:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 0, 13 );
        break;
        case 4:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 24, 27 );
        break;
        case 5:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 28, 31 );
        break;
        case 6:
        return uParam1._fU0[2];
        break;
    }
    return -1;
}

void sub_2899(int iParam0)
{
    int I;

    if (iParam0 < (g_U569 - 1))
    {
        for ( I = iParam0 + 1; I <= (g_U569 - 1); I++ )
        {
            g_U569[I - 1] = {g_U569[I]};
        }
    }
    sub_2984( g_U569 - 1 );
    return;
}

void sub_2984(unknown uParam0)
{
    g_U569[uParam0]._fU0[0] = -1;
    g_U569[uParam0]._fU0[1] = -1;
    g_U569[uParam0]._fU0[2] = -1;
    return;
}

int sub_3065()
{
    int I;

    for ( I = 0; I <= (g_U569 - 1); I++ )
    {
        if ((sub_2613( 4, g_U569[I] )) == 0)
        {
            return 1;
        }
    }
    return 0;
}

void sub_3350()
{
    g_U9893._fU4 = 0;
    g_U9893._fU8 = 0;
    g_U9893._fU12 = 0;
    g_U9893._fU16 = 0;
    g_U9893._fU20 = 0;
    g_U9893._fU28 = 0;
    g_U9893._fU32 = 0;
    g_U9893._fU36 = 0;
    g_U9893._fU48 = 0;
    return;
}

void sub_3477()
{
    DONT_SUPPRESS_CAR_MODEL( -570033273 );
    DONT_SUPPRESS_CAR_MODEL( -1830458836 );
    RELEASE_WEATHER();
    if (HAS_SCRIPT_LOADED( "cleanupRay5Trains" ))
    {
        START_NEW_SCRIPT( "cleanupRay5Trains", 128 );
    }
    else
    {
        SWITCH_RANDOM_TRAINS( 1 );
    }
    if (IS_VEH_DRIVEABLE( l_U875 ))
    {
        FORCE_CAR_LIGHTS( l_U875, 0 );
        SET_CAR_PROOFS( l_U875, 0, 0, 0, 0, 0 );
    }
    if (NOT (IS_CHAR_DEAD( sub_3640() )))
    {
        SET_CHAR_PROOFS( sub_3640(), 0, 0, 0, 0, 0 );
    }
    if (IS_VEH_DRIVEABLE( l_U876 ))
    {
        FORCE_CAR_LIGHTS( l_U876, 0 );
        SET_CAR_PROOFS( l_U876, 0, 0, 0, 0, 0 );
        SET_CAN_BURST_CAR_TYRES( l_U876, 1 );
    }
    if (IS_VEH_DRIVEABLE( l_U877 ))
    {
        FORCE_CAR_LIGHTS( l_U877, 0 );
        SET_CAN_BURST_CAR_TYRES( l_U877, 1 );
    }
    SWITCH_RANDOM_TRAINS( 0 );
    SWITCH_ROADS_BACK_TO_ORIGINAL( 65138, 1138, -10, 65401, 1435, 100 );
    SWITCH_ROADS_BACK_TO_ORIGINAL( 35, 237, 65486, 966, 289, 100 );
    SWITCH_ROADS_BACK_TO_ORIGINAL( 914, 148, 65486, 979, 370, 100 );
    SET_PED_DENSITY_MULTIPLIER( 1.00000000 );
    SET_WANTED_MULTIPLIER( 1.00000000 );
    MISSION_AUDIO_BANK_NO_LONGER_NEEDED();
    UNREGISTER_SCRIPT_WITH_AUDIO();
    sub_3951();
    TERMINATE_THIS_SCRIPT();
    return;
}

void sub_3640()
{
    unknown Result;

    GET_PLAYER_CHAR( CONVERT_INT_TO_PLAYERINDEX( GET_PLAYER_ID() ), ref Result );
    return Result;
}

void sub_3951()
{
    if (l_U871)
    {
        PRINTNL();
        PRINTSTRING( "**** CALLED KILL_CHASE_HINT_CAM()" );
    }
    if (IS_HINT_RUNNING())
    {
        HINT_CAM( 0.00000000, 0.00000000, 0.00000000, 0, 0, 0, 0 );
        SET_HINT_TIMES_DEFAULT();
        SET_HINT_FOV( -1 );
    }
    l_U869 = 0;
    l_U868 = 0;
    SET_CINEMATIC_BUTTON_ENABLED( 1 );
    return;
}

void sub_4117()
{
    unknown uVar2;

    SET_MISSION_FLAG( 1 );
    CLEAR_PRINTS();
    LOAD_ADDITIONAL_TEXT( "RB5AUD", 6 );
    FORCE_WEATHER_NOW( 1 );
    if ((NOT l_U923) AND (g_U9893._fU24))
    {
        SET_CUTSCENE_EXTRA_ROOM_POS( -108.10000000, -265.90000000, 13.40000000 );
        START_CUTSCENE_NOW( "RB_5" );
        while (NOT HAS_CUTSCENE_LOADED())
        {
            WAIT( 0 );
        }
        while (NOT HAS_CUTSCENE_FINISHED())
        {
            WAIT( 0 );
        }
        CLEAR_NAMED_CUTSCENE( "RB_5" );
    }
    LOAD_ADDITIONAL_TEXT( "RAY5", 0 );
    sub_4313( "RB5AUD" );
    sub_4440( 0, sub_3640(), "NIKO", 0 );
    REGISTER_SCRIPT_WITH_AUDIO( 0 );
    while (NOT (REQUEST_MISSION_AUDIO_BANK( "SCRIPT_MISSION\RB5_NO_WAY_ON_THE_SUBWAY" )))
    {
        WAIT( 0 );
    }
    REQUEST_SCRIPT( "cleanupRay5Trains" );
    while (NOT (HAS_SCRIPT_LOADED( "cleanupRay5Trains" )))
    {
        WAIT( 0 );
    }
    STOP_PED_SPEAKING( sub_3640(), 0 );
    SET_RELATIONSHIP( 5, 23, 0 );
    # -sub_C1FFC0-0xc214c8( 2, ref l_U907 );
    LOAD_COMBAT_DECISION_MAKER( 8, ref l_U908 );
    SET_DECISION_MAKER_ATTRIBUTE_TARGET_LOSS_RESPONSE( l_U908, 0 );
    PRINT_NOW( "RAY5_01", 7500, 1 );
    ADD_BLIP_FOR_COORD( l_U991._fU0, l_U991._fU4, l_U991._fU8, ref l_U898 );
    sub_4876( ref l_U898, -186.65000000, 1344.67000000, 22.80000000, 270.00000000 );
    SET_ROUTE( l_U898, 1 );
    sub_4945();
    GET_PLAYERS_LAST_CAR_NO_SAVE( ref uVar2 );
    if (IS_VEH_DRIVEABLE( uVar2 ))
    {
        SET_CAR_AS_MISSION_CAR( uVar2 );
        if (LOCATE_CAR_2D( uVar2, -123.63790000, -256.57810000, 3.00000000, 3.00000000, 0 ))
        {
            CLEAR_AREA( -126.98480000, -261.27890000, 12.11580000, 7.00000000, 1 );
            SET_CAR_COORDINATES( uVar2, -126.98480000, -261.27890000, 12.11580000 );
            SET_CAR_HEADING( uVar2, 0.00000000 );
            SET_CAR_ON_GROUND_PROPERLY( uVar2 );
            WAIT( 1000 );
        }
    }
    if (NOT (IS_CHAR_DEAD( sub_3640() )))
    {
        LOAD_SCENE( -123.63790000, -256.57810000, 11.68540000 );
        CLEAR_AREA( -123.63790000, -256.57810000, 11.68540000, 3.00000000, 1 );
        SET_CHAR_COORDINATES( sub_3640(), -123.63790000, -256.57810000, 11.68540000 );
        SET_CHAR_HEADING( sub_3640(), 90 );
        SET_GAME_CAM_HEADING( 0.00000000 );
        WAIT( 1000 );
    }
    if (IS_VEH_DRIVEABLE( uVar2 ))
    {
        MARK_CAR_AS_NO_LONGER_NEEDED( ref uVar2 );
    }
    DO_SCREEN_FADE_IN( 500 );
    if (NOT (IS_CHAR_DEAD( sub_3640() )))
    {
        SET_PLAYER_CONTROL( sub_5454(), 1 );
    }
    return;
}

void sub_4313(unknown uParam0)
{
    StrCopy( ref l_U568._fU0, uParam0, 16 );
    sub_4332();
    return;
}

void sub_4332()
{
    int I;

    for ( I = 0; I <= 8; I++ )
    {
        l_U568._fU16[I]._fU0 = nil;
        StrCopy( ref l_U568._fU16[I]._fU4, "", 32 );
        l_U568._fU344[I] = 0;
    }
    return;
}

void sub_4440(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    l_U568._fU16[uParam0]._fU0 = uParam1;
    StrCopy( ref l_U568._fU16[uParam0]._fU4, uParam2, 32 );
    if (NOT (IS_CHAR_INJURED( uParam1 )))
    {
        BLOCK_CHAR_AMBIENT_ANIMS( uParam1, uParam3 );
    }
    sub_4524( "\n PED NUMBER ", uParam0 );
    sub_4564( " ADDED WITH VOICE ", uParam2 );
    return;
}

void sub_4524(unknown uParam0, unknown uParam1)
{
    return;
}

void sub_4564(unknown uParam0, unknown uParam1)
{
    return;
}

void sub_4876(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (DOES_BLIP_EXIST( (uParam0^) ))
    {
        g_U2220 = (uParam0^);
        g_U2235 = {uParam1};
        g_U2233 = uParam4;
    }
    return;
}

void sub_4945()
{
    l_U1037[0] = 6.00000000;
    l_U1037[1] = 6.00000000;
    l_U1037[2] = 7.00000000;
    l_U1037[3] = 5.00000000;
    l_U1037[4] = 0.00000000;
    l_U1037[5] = 7.00000000;
    l_U1037[6] = 6.00000000;
    l_U1037[7] = -6.00000000;
    l_U1037[8] = -9.00000000;
    l_U1037[9] = 0.00000000;
    l_U1037[10] = 0.00000000;
    return;
}

void sub_5454()
{
    return CONVERT_INT_TO_PLAYERINDEX( GET_PLAYER_ID() );
}

void sub_5562()
{
    if ((sub_5622( 1, 1 )) AND (LOCATE_CHAR_ANY_MEANS_3D( sub_3640(), l_U991._fU0, l_U991._fU4, l_U991._fU8, 2.50000000, 2.50000000, 2.50000000, 1 )))
    {
        REMOVE_BLIP( l_U898 );
        DO_SCREEN_FADE_OUT( 500 );
        while (NOT IS_SCREEN_FADED_OUT())
        {
            WAIT( 0 );
        }
        SET_INSTANT_WIDESCREEN_BORDERS( 1 );
        if (NOT (IS_CHAR_DEAD( sub_3640() )))
        {
            SET_PLAYER_CONTROL( sub_5454(), 0 );
            if (IS_CHAR_IN_ANY_CAR( sub_3640() ))
            {
                GET_CAR_CHAR_IS_USING( sub_3640(), ref l_U890 );
                if (NOT (IS_CAR_DEAD( l_U890 )))
                {
                    SET_CAR_COORDINATES( l_U890, l_U991._fU0, l_U991._fU4, l_U991._fU8 );
                    SET_CAR_HEADING( l_U890, 0.00000000 );
                    SET_CAR_ON_GROUND_PROPERLY( l_U890 );
                    WARP_CHAR_FROM_CAR_TO_COORD( sub_3640(), -187.38000000, 1366.96000000, 20.30000000 );
                }
            }
        }
        REMOVE_PLAYER_HELMET( sub_5454(), 1 );
        l_U1064 = 1;
    }
    return;
}

int sub_5622(boolean bParam0, boolean bParam1)
{
    unknown uVar4;
    int iVar5;
    float fVar6;

    if (IS_MINIGAME_IN_PROGRESS())
    {
        return 0;
    }
    if (bParam1)
    {
        if (IS_CHAR_IN_ANY_CAR( sub_3640() ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_3640(), ref uVar4 );
            if (NOT (IS_CAR_DEAD( uVar4 )))
            {
                GET_CAR_UPRIGHT_VALUE( uVar4, ref fVar6 );
                if ((fVar6 > 1.01100000) || (fVar6 < 0.95000000))
                {
                    return 0;
                }
            }
        }
    }
    if (bParam0)
    {
        if (IS_CHAR_IN_ANY_CAR( sub_3640() ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_3640(), ref uVar4 );
            if (NOT (IS_CAR_DEAD( uVar4 )))
            {
                GET_DRIVER_OF_CAR( uVar4, ref iVar5 );
                if (NOT (iVar5 == sub_3640()))
                {
                    return 0;
                }
            }
        }
    }
    if (IS_CHAR_IN_ANY_CAR( sub_3640() ))
    {
        if (NOT (IS_CHAR_SITTING_IN_ANY_CAR( sub_3640() )))
        {
            return 0;
        }
    }
    if (NOT (IS_PLAYER_READY_FOR_CUTSCENE( sub_5454() )))
    {
        return 0;
    }
    if (NOT (CAN_PLAYER_START_MISSION( sub_5454() )))
    {
        return 0;
    }
    return 1;
}

void sub_6174()
{
    if ((IS_SCREEN_FADED_IN()) AND ((TIMERA() >= 1000) AND ((NOT (l_U1065 == 8)) AND ((NOT (l_U1065 == 0)) AND (sub_6183())))))
    {
        if ((NOT IS_SCREEN_FADED_OUT()) || (NOT IS_SCREEN_FADING_OUT()))
        {
            DO_SCREEN_FADE_OUT( 500 );
        }
        while (NOT IS_SCREEN_FADED_OUT())
        {
            WAIT( 0 );
        }
        sub_6386( ref l_U911, 0 );
        if (NOT (IS_CHAR_DEAD( sub_3640() )))
        {
            CLEAR_CHAR_TASKS_IMMEDIATELY( sub_3640() );
            SET_CHAR_COORDINATES_NO_OFFSET( sub_3640(), -210.80450000, 1378.94500000, 19.32000000 );
            SET_CHAR_HEADING( sub_3640(), 90 );
            SET_GAME_CAM_HEADING( 0.00000000 );
            WAIT( 600 );
        }
        l_U925 = 1;
        l_U1065 = 8;
    }
    switch (l_U1065)
    {
        case 0:
        CLEAR_AREA( l_U985._fU0, l_U985._fU4, l_U985._fU8, 10.00000000, 1 );
        CLEAR_AREA( -187.59830000, 1376.91300000, 19.27050000, 5.00000000, 1 );
        CLEAR_AREA( l_U982._fU0, l_U982._fU4, l_U982._fU8, 10.00000000, 1 );
        EXTINGUISH_FIRE_AT_POINT( l_U985._fU0, l_U985._fU4, l_U985._fU8, 30.00000000 );
        DELETE_ALL_TRAINS();
        SWITCH_RANDOM_TRAINS( 0 );
        CLEAR_WANTED_LEVEL( sub_5454() );
        SET_PED_DENSITY_MULTIPLIER( 0.00000000 );
        REQUEST_ANIMS( "MISSRAY5" );
        while (NOT (HAVE_ANIMS_LOADED( "MISSRAY5" )))
        {
            WAIT( 0 );
        }
        REQUEST_ANIMS( "gestures@niko" );
        while (NOT (HAVE_ANIMS_LOADED( "gestures@niko" )))
        {
            WAIT( 0 );
        }
        sub_6983();
        sub_7152();
        sub_7245();
        sub_7312();
        sub_8477();
        LOAD_SCENE( l_U985._fU0, l_U985._fU4, l_U985._fU8 );
        if ((NOT (IS_CHAR_DEAD( l_U872 ))) AND (NOT (IS_CHAR_DEAD( sub_3640() ))))
        {
            CLEAR_CHAR_TASKS_IMMEDIATELY( sub_3640() );
            SET_CHAR_COORDINATES_NO_OFFSET( sub_3640(), -187.38000000, 1366.96000000, 20.30000000 );
            SET_CHAR_HEADING( sub_3640(), 0 );
            OPEN_SEQUENCE_TASK( ref l_U909 );
            TASK_SWAP_WEAPON( 0, 0 );
            TASK_PAUSE( 0, 800 );
            TASK_LOOK_AT_CHAR( 0, l_U872, -1, 0 );
            TASK_FOLLOW_NAV_MESH_TO_COORD( 0, -187.59830000, 1376.91300000, 19.27050000, 2, -2, 1.00000000 );
            TASK_TURN_CHAR_TO_FACE_CHAR( 0, l_U872 );
            CLOSE_SEQUENCE_TASK( l_U909 );
            TASK_PERFORM_SEQUENCE( sub_3640(), l_U909 );
            CLEAR_SEQUENCE_TASK( l_U909 );
        }
        BEGIN_CAM_COMMANDS( ref l_U1058 );
        SET_USE_HIGHDOF( 1 );
        CREATE_CAM( 14, ref l_U902 );
        CREATE_CAM( 14, ref l_U903 );
        CREATE_CAM( 14, ref l_U904 );
        CREATE_CAM( 14, ref l_U906 );
        CREATE_CAM( 3, ref l_U905 );
        SET_CAM_POS( l_U903, -197.34510000, 1382.02300000, 19.76608000 );
        SET_CAM_ROT( l_U903, 13.41120000, -0.00000000, -113.35940000 );
        SET_CAM_FOV( l_U903, 42 );
        SET_CAM_POS( l_U904, -197.34510000, 1382.02300000, 19.86608000 );
        SET_CAM_ROT( l_U904, 13.41120000, -0.00000000, -113.35940000 );
        SET_CAM_FOV( l_U904, 42 );
        SET_CAM_NEAR_DOF( l_U903, 1.50000000 );
        SET_CAM_FAR_DOF( l_U903, 16 );
        SET_CAM_NEAR_DOF( l_U904, 1.50000000 );
        SET_CAM_FAR_DOF( l_U904, 16 );
        SET_CAM_ACTIVE( l_U903, 1 );
        SET_CAM_PROPAGATE( l_U903, 1 );
        ACTIVATE_SCRIPTED_CAMS( 1, 1 );
        END_CAM_COMMANDS( ref l_U1058 );
        WAIT( 1800 );
        BEGIN_CAM_COMMANDS( ref l_U1058 );
        SET_CAM_INTERP_STYLE_CORE( l_U905, l_U903, l_U904, 7000, 0 );
        SET_CAM_ACTIVE( l_U904, 1 );
        SET_CAM_PROPAGATE( l_U904, 1 );
        SET_CAM_ACTIVE( l_U905, 1 );
        SET_CAM_PROPAGATE( l_U905, 1 );
        END_CAM_COMMANDS( ref l_U1058 );
        DO_SCREEN_FADE_IN( 500 );
        SETTIMERA( 0 );
        SETTIMERB( 0 );
        l_U1065 = 1;
        break;
        case 1:
        if ((NOT (sub_9385( l_U911 ))) AND (TIMERB() >= 3200))
        {
            sub_9584( "RB5_CALL1", ref l_U911, 7, 1 );
            SETTIMERA( 0 );
        }
        if ((NOT l_U926) AND ((TIMERA() >= 800) AND (sub_9385( l_U911 ))))
        {
            if (NOT (IS_CHAR_DEAD( l_U872 )))
            {
                TASK_LOOK_AT_CHAR( l_U872, sub_3640(), 20000, 0 );
                OPEN_SEQUENCE_TASK( ref l_U909 );
                TASK_PLAY_ANIM_WITH_FLAGS( 0, "bikers_jim_turnr", "MISSRAY5", 4.00000000, -1, 4107 );
                TASK_PLAY_ANIM( 0, "bikers_idle", "MISSRAY5", 4.00000000, 1, 0, 0, 0, -1 );
                CLOSE_SEQUENCE_TASK( l_U909 );
                TASK_PERFORM_SEQUENCE( l_U872, l_U909 );
                CLEAR_SEQUENCE_TASK( l_U909 );
                l_U926 = 1;
            }
        }
        if ((NOT l_U927) AND ((TIMERA() >= 1600) AND (sub_9385( l_U911 ))))
        {
            if (NOT (IS_CHAR_DEAD( l_U873 )))
            {
                TASK_LOOK_AT_CHAR( l_U873, sub_3640(), 20000, 0 );
                OPEN_SEQUENCE_TASK( ref l_U909 );
                TASK_PLAY_ANIM_WITH_FLAGS( 0, "bikers_gbik_turnl", "MISSRAY5", 4.00000000, -1, 4107 );
                TASK_PLAY_ANIM( 0, "bikers_idle", "MISSRAY5", 4.00000000, 1, 0, 0, 0, -1 );
                CLOSE_SEQUENCE_TASK( l_U909 );
                TASK_PERFORM_SEQUENCE( l_U873, l_U909 );
                CLEAR_SEQUENCE_TASK( l_U909 );
                l_U927 = 1;
            }
        }
        if (TIMERB() >= 7100)
        {
            BEGIN_CAM_COMMANDS( ref l_U1058 );
            SET_CAM_POS( l_U903, -193.35740000, 1378.93300000, 20.73334000 );
            SET_CAM_ROT( l_U903, 11.92151000, -0.00000000, 34.30245000 );
            SET_CAM_FOV( l_U903, 34 );
            SET_CAM_NEAR_DOF( l_U903, 0.10000000 );
            SET_CAM_FAR_DOF( l_U903, 3.20000000 );
            SET_CAM_ACTIVE( l_U905, 0 );
            SET_CAM_ACTIVE( l_U904, 0 );
            SET_CAM_PROPAGATE( l_U905, 0 );
            SET_CAM_PROPAGATE( l_U904, 0 );
            l_U1065 = 2;
            END_CAM_COMMANDS( ref l_U1058 );
            SETTIMERB( 0 );
        }
        break;
        case 2:
        if ((sub_11213( l_U911 )) == 2)
        {
            BEGIN_CAM_COMMANDS( ref l_U1058 );
            SET_CAM_POS( l_U903, -197.22280000, 1382.01000000, 20.62887000 );
            SET_CAM_ROT( l_U903, -1.60829900, -0.00000000, -117.30090000 );
            SET_CAM_FOV( l_U903, 20.70006000 );
            SET_CAM_NEAR_DOF( l_U903, 5.00000000 );
            SET_CAM_FAR_DOF( l_U903, 12.00000000 );
            SET_CAM_POS( l_U904, -195.62390000, 1381.18500000, 20.57835000 );
            SET_CAM_ROT( l_U904, -1.60829900, -0.00000000, -117.30090000 );
            SET_CAM_FOV( l_U904, 16.40007000 );
            SET_CAM_NEAR_DOF( l_U904, 5.00000000 );
            SET_CAM_FAR_DOF( l_U904, 12.00000000 );
            SET_CAM_ACTIVE( l_U904, 1 );
            SET_CAM_PROPAGATE( l_U904, 1 );
            SET_CAM_ACTIVE( l_U905, 1 );
            SET_CAM_PROPAGATE( l_U905, 1 );
            SET_CAM_INTERP_STYLE_CORE( l_U905, l_U903, l_U904, 6500, 0 );
            l_U1065 = 3;
            END_CAM_COMMANDS( ref l_U1058 );
            SETTIMERB( 0 );
        }
        break;
        case 3:
        if (((sub_11213( l_U911 )) == 3) AND (NOT l_U928))
        {
            if ((NOT (IS_CHAR_INJURED( l_U873 ))) AND (NOT (IS_CHAR_INJURED( l_U872 ))))
            {
                TASK_GO_STRAIGHT_TO_COORD( l_U872, -195.24000000, 1379.22000000, 19.30090000, 3, 4000 );
                TASK_GO_STRAIGHT_TO_COORD( l_U873, -195.14000000, 1382.22000000, 19.30090000, 3, 4000 );
                TASK_CLEAR_LOOK_AT( sub_3640() );
                l_U928 = 1;
            }
            SETTIMERB( 0 );
        }
        if ((TIMERB() >= 900) AND (l_U928))
        {
            l_U1065 = 4;
            if ((IS_VEH_DRIVEABLE( l_U877 )) AND ((NOT (IS_CHAR_INJURED( l_U873 ))) AND ((IS_VEH_DRIVEABLE( l_U876 )) AND (NOT (IS_CHAR_INJURED( l_U872 ))))))
            {
                SET_CHAR_COORDINATES( l_U872, -195.50000000, 1379.89000000, 19.30100000 );
                SET_CHAR_COORDINATES( l_U873, -195.79000000, 1381.25000000, 19.30090000 );
                SET_CHAR_HEADING( l_U872, 152.00000000 );
                SET_CHAR_HEADING( l_U873, 14.00000000 );
                TASK_CLEAR_LOOK_AT( l_U872 );
                TASK_CLEAR_LOOK_AT( l_U873 );
                TASK_ENTER_CAR_AS_DRIVER( l_U872, l_U876, 4000 );
                TASK_ENTER_CAR_AS_DRIVER( l_U873, l_U877, 4000 );
            }
            BEGIN_CAM_COMMANDS( ref l_U1058 );
            SET_CAM_POS( l_U903, -188.35000000, 1381.53400000, 20.09238000 );
            SET_CAM_ROT( l_U903, 12.49058000, -0.00000000, 97.39098000 );
            SET_CAM_FOV( l_U903, 43.80000000 );
            SET_CAM_NEAR_DOF( l_U903, 0.10000000 );
            SET_CAM_FAR_DOF( l_U903, 15.00000000 );
            SET_CAM_PROPAGATE( l_U904, 0 );
            SET_CAM_ACTIVE( l_U904, 0 );
            SET_CAM_ACTIVE( l_U905, 0 );
            SET_CAM_PROPAGATE( l_U905, 0 );
            END_CAM_COMMANDS( ref l_U1058 );
            if (NOT (IS_CHAR_DEAD( sub_3640() )))
            {
                SET_CHAR_HEADING( sub_3640(), 80 );
                OPEN_SEQUENCE_TASK( ref l_U909 );
                if (NOT (IS_CAR_DEAD( l_U875 )))
                {
                    TASK_PAUSE( 0, 2100 );
                    TASK_FOLLOW_NAV_MESH_TO_COORD( 0, -211.74700000, 1378.82600000, 19.20930000, 3, -1, 2.00000000 );
                }
                CLOSE_SEQUENCE_TASK( l_U909 );
                TASK_PERFORM_SEQUENCE( sub_3640(), l_U909 );
                CLEAR_SEQUENCE_TASK( l_U909 );
                if (NOT (IS_CHAR_DEAD( l_U872 )))
                {
                    TASK_LOOK_AT_CHAR( sub_3640(), l_U872, 4000, 0 );
                }
            }
        }
        break;
        case 4:
        if (NOT l_U935)
        {
            if ((IS_VEH_DRIVEABLE( l_U876 )) AND (NOT (IS_CHAR_INJURED( l_U872 ))))
            {
                if (IS_CHAR_IN_ANY_CAR( l_U872 ))
                {
                    START_PLAYBACK_RECORDED_CAR( l_U876, 348 );
                    SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( l_U876, 870 );
                    l_U935 = 1;
                    SETTIMERA( 0 );
                }
            }
        }
        if (NOT l_U936)
        {
            if ((IS_VEH_DRIVEABLE( l_U877 )) AND (NOT (IS_CHAR_INJURED( l_U873 ))))
            {
                if (IS_CHAR_IN_ANY_CAR( l_U873 ))
                {
                    START_PLAYBACK_RECORDED_CAR( l_U877, 347 );
                    SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( l_U877, 570 );
                    l_U936 = 1;
                }
            }
        }
        if ((l_U936) AND (l_U935))
        {
            l_U1065 = 5;
            SETTIMERB( 0 );
        }
        break;
        case 5:
        BLOCK_CHAR_GESTURE_ANIMS( sub_3640(), 1 );
        if (TIMERB() >= 2300)
        {
            BEGIN_CAM_COMMANDS( ref l_U1058 );
            SET_CAM_POS( l_U903, -207.71140000, 1380.82400000, 20.07320000 );
            SET_CAM_ROT( l_U903, 1.65816700, 0.00000000, -101.24600000 );
            SET_CAM_FOV( l_U903, 30.30004000 );
            SET_CAM_POS( l_U904, -206.73350000, 1376.57700000, 20.20110000 );
            SET_CAM_ROT( l_U904, 1.65816700, -0.00000000, -75.69217000 );
            SET_CAM_FOV( l_U904, 30.30004000 );
            SET_CAM_INTERP_STYLE_CORE( l_U905, l_U903, l_U904, 2800, 0 );
            SET_CAM_NEAR_DOF( l_U903, 0.10000000 );
            SET_CAM_FAR_DOF( l_U903, 20.00000000 );
            SET_CAM_NEAR_DOF( l_U904, 0.10000000 );
            SET_CAM_FAR_DOF( l_U904, 20.00000000 );
            SET_CAM_ACTIVE( l_U904, 1 );
            SET_CAM_PROPAGATE( l_U904, 1 );
            SET_CAM_ACTIVE( l_U905, 1 );
            SET_CAM_PROPAGATE( l_U905, 1 );
            END_CAM_COMMANDS( ref l_U1058 );
            l_U1065 = 6;
            SETTIMERB( 0 );
        }
        break;
        case 6:
        BLOCK_CHAR_GESTURE_ANIMS( sub_3640(), 1 );
        BLOCK_CHAR_AMBIENT_ANIMS( sub_3640(), 1 );
        if (NOT l_U929)
        {
            if (TIMERB() >= 900)
            {
                sub_9584( "RB5_PISSED", ref l_U911, 6, 1 );
                l_U929 = 1;
            }
        }
        if ((NOT l_U965) AND (TIMERB() >= 2700))
        {
            BEGIN_CAM_COMMANDS( ref l_U1058 );
            SET_CAM_POS( l_U903, -206.37360000, 1378.80800000, 23.15229000 );
            SET_CAM_ROT( l_U903, -34.48677000, 0.00000000, 89.06384000 );
            SET_CAM_FOV( l_U903, 40.50001000 );
            SET_CAM_ACTIVE( l_U904, 0 );
            SET_CAM_PROPAGATE( l_U904, 0 );
            SET_CAM_ACTIVE( l_U905, 0 );
            SET_CAM_PROPAGATE( l_U905, 0 );
            SET_CAM_NEAR_DOF( l_U903, 0.10000000 );
            SET_CAM_FAR_DOF( l_U903, 30.00000000 );
            SET_CAM_NEAR_DOF( l_U904, 0.10000000 );
            SET_CAM_FAR_DOF( l_U904, 30.00000000 );
            END_CAM_COMMANDS( ref l_U1058 );
            l_U965 = 1;
        }
        if (NOT (IS_CAR_DEAD( l_U875 )))
        {
            if (LOCATE_CHAR_ON_FOOT_CAR_3D( sub_3640(), l_U875, 2.00000000, 2.00000000, 2.00000000, 0 ))
            {
                l_U1065 = 8;
                SETTIMERB( 0 );
            }
        }
        break;
        case 8:
        if ((NOT (IS_CHAR_DEAD( l_U873 ))) AND ((NOT (IS_CHAR_DEAD( l_U872 ))) AND ((IS_VEH_DRIVEABLE( l_U877 )) AND (IS_VEH_DRIVEABLE( l_U876 )))))
        {
            if (NOT (IS_CHAR_IN_CAR( l_U872, l_U876 )))
            {
                WARP_CHAR_INTO_CAR( l_U872, l_U876 );
            }
            if (NOT (IS_CHAR_IN_CAR( l_U873, l_U877 )))
            {
                WARP_CHAR_INTO_CAR( l_U873, l_U877 );
            }
            sub_13523( 1 );
            SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( l_U876, 9400 );
            SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( l_U877, 9400 );
        }
        BEGIN_CAM_COMMANDS( ref l_U1058 );
        SET_USE_HIGHDOF( 0 );
        SET_CAM_ACTIVE( l_U903, 0 );
        SET_CAM_PROPAGATE( l_U903, 0 );
        SET_CAM_ACTIVE( l_U904, 0 );
        SET_CAM_PROPAGATE( l_U904, 0 );
        SET_CAM_ACTIVE( l_U905, 0 );
        SET_CAM_PROPAGATE( l_U905, 0 );
        SET_CAM_ACTIVE( l_U906, 0 );
        SET_CAM_PROPAGATE( l_U906, 0 );
        if (NOT l_U925)
        {
            SET_INTERP_FROM_SCRIPT_TO_GAME( 1, 2300 );
        }
        ACTIVATE_SCRIPTED_CAMS( 0, 0 );
        END_CAM_COMMANDS( ref l_U1058 );
        if (l_U925)
        {
            DO_SCREEN_FADE_IN( 500 );
        }
        PRINT_NOW( "RAY5_06", 7500, 1 );
        if (NOT (DOES_BLIP_EXIST( l_U899 )))
        {
            if (NOT (IS_CAR_DEAD( l_U875 )))
            {
                ADD_BLIP_FOR_CAR( l_U875, ref l_U899 );
                SET_BLIP_AS_FRIENDLY( l_U899, 1 );
            }
        }
        REMOVE_ANIMS( "MISSRAY5" );
        REMOVE_ANIMS( "gestures@niko" );
        l_U932 = 1;
        SET_PED_DENSITY_MULTIPLIER( 1.00000000 );
        SWITCH_ROADS_OFF( 65138, 1138, -10, 65401, 1435, 100 );
        SWITCH_ROADS_OFF( 35, 237, 65486, 966, 289, 100 );
        SWITCH_ROADS_OFF( 914, 148, 65486, 979, 370, 100 );
        SET_WIDESCREEN_BORDERS( 0 );
        SET_GAME_CAM_HEADING( 0.00000000 );
        SET_PLAYER_CONTROL( sub_5454(), 1 );
        TASK_CLEAR_LOOK_AT( sub_3640() );
        if (NOT l_U925)
        {
            INCREMENT_INT_STAT_NO_MESSAGE( 373, 1 );
        }
        l_U925 = 0;
        l_U1064 = 4;
        break;
    }
    return;
}

int sub_6183()
{
    if (((IS_CONTROL_JUST_PRESSED( 2, 98 )) AND (NOT IS_USING_CONTROLLER())) || (((IS_CONTROL_JUST_PRESSED( 2, 137 )) AND (NOT IS_USING_CONTROLLER())) || ((IS_CONTROL_JUST_PRESSED( 2, 77 )) || (IS_CONTROL_JUST_PRESSED( 0, 77 )))))
    {
        return 1;
        break;
    }
    return 0;
}

void sub_6386(int iParam0, unknown uParam1)
{
    PRINTSTRING( "\n KILL SPEECH CALLED***************************************" );
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if (iParam0->_fU4 == g_U8393)
        {
            ABORT_SCRIPTED_CONVERSATION( uParam1 );
        }
    }
    return;
}

void sub_6983()
{
    REQUEST_MODEL( l_U900 );
    REQUEST_MODEL( l_U901 );
    REQUEST_MODEL( -570033273 );
    REQUEST_MODEL( -1830458836 );
    LOAD_ALL_OBJECTS_NOW();
    while ((NOT (HAS_MODEL_LOADED( -1830458836 ))) || ((NOT (HAS_MODEL_LOADED( -570033273 ))) || ((NOT (HAS_MODEL_LOADED( l_U901 ))) || (NOT (HAS_MODEL_LOADED( l_U900 ))))))
    {
        WAIT( 0 );
    }
    SUPPRESS_CAR_MODEL( -570033273 );
    SUPPRESS_CAR_MODEL( -1830458836 );
    return;
}

void sub_7152()
{
    REQUEST_MODEL( 1159759556 );
    REQUEST_MODEL( 800869680 );
    LOAD_ALL_OBJECTS_NOW();
    while ((NOT (HAS_MODEL_LOADED( 800869680 ))) || (NOT (HAS_MODEL_LOADED( 1159759556 ))))
    {
        WAIT( 0 );
    }
    return;
}

void sub_7245()
{
    REQUEST_MODEL( -1518596733 );
    LOAD_ALL_OBJECTS_NOW();
    while (NOT (HAS_MODEL_LOADED( -1518596733 )))
    {
        WAIT( 0 );
    }
    return;
}

void sub_7312()
{
    CLEAR_AREA( l_U976._fU0, l_U976._fU4, l_U976._fU8, 300, 1 );
    CREATE_CAR( -570033273, l_U976._fU0, l_U976._fU4, l_U976._fU8, ref l_U876, 1 );
    SET_CAR_HEADING( l_U876, l_U1028 );
    SET_CAR_PROOFS( l_U876, 1, 1, 1, 1, 1 );
    SET_CAR_ENGINE_ON( l_U876, 1, 1 );
    CHANGE_CAR_COLOUR( l_U876, 0, 0 );
    SET_EXTRA_CAR_COLOURS( l_U876, 4, 35 );
    SET_VEHICLE_DIRT_LEVEL( l_U876, 2.00000000 );
    SET_CAN_BURST_CAR_TYRES( l_U876, 0 );
    CREATE_CAR( -570033273, l_U979._fU0, l_U979._fU4, l_U979._fU8, ref l_U877, 1 );
    SET_CAR_HEADING( l_U877, l_U1029 );
    SET_CAR_ENGINE_ON( l_U877, 1, 1 );
    CHANGE_CAR_COLOUR( l_U877, 0, 0 );
    SET_EXTRA_CAR_COLOURS( l_U877, 4, 35 );
    SET_VEHICLE_DIRT_LEVEL( l_U877, 3.00000000 );
    SET_CAN_BURST_CAR_TYRES( l_U877, 0 );
    CREATE_CHAR( 26, l_U900, l_U985._fU0, l_U985._fU4, l_U985._fU8, ref l_U872, 1 );
    SET_CHAR_HEADING( l_U872, l_U1030 );
    sub_4440( 1, l_U872, "JIM_FITZGERALD", 0 );
    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U872, 1 );
    GIVE_WEAPON_TO_CHAR( l_U872, 7, 30000, 0 );
    SET_CHAR_DECISION_MAKER( l_U872, l_U907 );
    SET_COMBAT_DECISION_MAKER( l_U872, l_U908 );
    SET_CHAR_PROOFS( l_U872, 1, 1, 1, 1, 1 );
    SET_CHAR_RELATIONSHIP_GROUP( l_U872, 23 );
    SET_LOAD_COLLISION_FOR_CHAR_FLAG( l_U872, 1 );
    SET_CHAR_CAN_BE_KNOCKED_OFF_BIKE( l_U872, 1 );
    SET_PED_DIES_WHEN_INJURED( l_U872, 1 );
    SET_CHAR_SUFFERS_CRITICAL_HITS( l_U872, 0 );
    BLOCK_CHAR_AMBIENT_ANIMS( l_U872, 1 );
    SET_CHAR_STAY_IN_CAR_WHEN_JACKED( l_U872, 1 );
    SET_CHAR_CANT_BE_DRAGGED_OUT( l_U872, 1 );
    CREATE_CHAR( 26, l_U901, l_U988._fU0, l_U988._fU4, l_U988._fU8, ref l_U873, 1 );
    SET_CHAR_HEADING( l_U873, l_U1031 );
    SET_CHAR_COMPONENT_VARIATION( l_U873, 2, 0, 0 );
    SET_CHAR_COMPONENT_VARIATION( l_U873, 1, 1, 0 );
    SET_CHAR_COMPONENT_VARIATION( l_U873, 0, 0, 2 );
    SET_CHAR_COMPONENT_VARIATION( l_U873, 7, 0, 0 );
    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U873, 1 );
    GIVE_WEAPON_TO_CHAR( l_U873, 7, 30000, 0 );
    SET_CHAR_DECISION_MAKER( l_U873, l_U907 );
    SET_CHAR_CAN_BE_KNOCKED_OFF_BIKE( l_U873, 1 );
    SET_CHAR_RELATIONSHIP_GROUP( l_U873, 23 );
    SET_LOAD_COLLISION_FOR_CHAR_FLAG( l_U873, 1 );
    SET_PED_DIES_WHEN_INJURED( l_U873, 1 );
    SET_CHAR_SUFFERS_CRITICAL_HITS( l_U873, 0 );
    SET_CHAR_STAY_IN_CAR_WHEN_JACKED( l_U873, 1 );
    SET_CHAR_CANT_BE_DRAGGED_OUT( l_U873, 1 );
    SET_CHAR_FIRE_DAMAGE_MULTIPLIER( l_U873, 1.60000000 );
    TASK_PLAY_ANIM( l_U872, "bikers_idle", "MISSRAY5", 4.00000000, 1, 0, 0, 0, -1 );
    TASK_PLAY_ANIM( l_U873, "bikers_idle", "MISSRAY5", 4.00000000, 1, 0, 0, 0, -1 );
    if (NOT l_U923)
    {
        CREATE_CAR( -1830458836, l_U982._fU0, l_U982._fU4, l_U982._fU8, ref l_U875, 1 );
        SET_CAR_HEADING( l_U875, l_U1032 );
        SET_NEEDS_TO_BE_HOTWIRED( l_U875, 0 );
        SET_CAR_ENGINE_ON( l_U875, 1, 1 );
        SET_CAR_COLOUR_COMBINATION( l_U875, 5 );
        SET_VEHICLE_DIRT_LEVEL( l_U875, 14.00000000 );
    }
    if ((IS_VEH_DRIVEABLE( l_U875 )) AND ((IS_VEH_DRIVEABLE( l_U877 )) AND (IS_VEH_DRIVEABLE( l_U876 ))))
    {
        SET_CAR_ON_GROUND_PROPERLY( l_U876 );
        SET_CAR_ON_GROUND_PROPERLY( l_U875 );
        SET_CAR_ON_GROUND_PROPERLY( l_U877 );
    }
    return;
}

void sub_8477()
{
    REQUEST_CAR_RECORDING( 335 );
    REQUEST_CAR_RECORDING( 336 );
    REQUEST_CAR_RECORDING( 338 );
    REQUEST_CAR_RECORDING( 339 );
    REQUEST_CAR_RECORDING( 347 );
    REQUEST_CAR_RECORDING( 348 );
    while ((NOT (HAS_CAR_RECORDING_BEEN_LOADED( 348 ))) || ((NOT (HAS_CAR_RECORDING_BEEN_LOADED( 347 ))) || ((NOT (HAS_CAR_RECORDING_BEEN_LOADED( 339 ))) || ((NOT (HAS_CAR_RECORDING_BEEN_LOADED( 338 ))) || ((NOT (HAS_CAR_RECORDING_BEEN_LOADED( 336 ))) || (NOT (HAS_CAR_RECORDING_BEEN_LOADED( 335 ))))))))
    {
        WAIT( 0 );
    }
    return;
}

int sub_9385(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    if ((g_U8394 == 2) || ((g_U8394 == 1) || (IS_SCRIPTED_CONVERSATION_ONGOING())))
    {
        if (uParam0._fU4 == g_U8393)
        {
            return 1;
        }
        else
        {
            sub_9497( "\n speech is playing, but not from this structure" );
        }
    }
    else
    {
        sub_9497( "\n speech is not playing" );
    }
    return 0;
}

void sub_9497(unknown uParam0)
{
    return;
}

void sub_9584(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    return sub_9607( uParam0, ref l_U568._fU0, uParam1, uParam2, uParam3 );
}

void sub_9607(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    char[16] cVar7;
    char[12] cVar11;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    StrCopy( ref cVar7, uParam1, 16 );
    array(ref cVar11, 2);
    StrCopy( ref cVar11[0], uParam0, 16 );
    StrCopy( ref cVar11[1], "END", 16 );
    return sub_9661( ref cVar11, uParam2, uParam3, 0, 0, 0, 0, ref cVar7, uParam4 );
}

int sub_9661(unknown uParam0, int iParam1, unknown uParam2, boolean bParam3, boolean bParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    int I;
    int iVar12;

    iVar12 = 0;
    iParam1->_fU0 = uParam2;
    if (NOT (sub_9683( iParam1 )))
    {
        return 0;
    }
    l_U568._fU384 = 0;
    iParam1->_fU16 = 0;
    iParam1->_fU20 = uParam5;
    if (bParam3)
    {
        if (iParam1->_fU12)
        {
            iVar12 = iParam1->_fU8;
            iParam1->_fU12 = 0;
        }
    }
    else
    {
        iParam1->_fU12 = 0;
        if (bParam4)
        {
            iVar12 = uParam6;
            iParam1->_fU8 = uParam6;
            iParam1->_fU12 = 0;
        }
        else
        {
            iParam1->_fU8 = 0;
            iParam1->_fU12 = 0;
        }
    }
    iParam1->_fU16 = bParam4;
    for ( I = 0; I <= (g_U8499 - 1); I++ )
    {
        StrCopy( ref g_U8499[I], "END", 16 );
    }
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        g_U8499[I] = {(uParam0^)[I]};
    }
    g_U8493 = {(iParam1^)};
    sub_10363( ref g_U8395, ref l_U568 );
    StrCopy( ref g_U8395._fU0, uParam7, 16 );
    g_U8395._fU388 = uParam8;
    g_U8394 = 1;
    return 1;
}

int sub_9683(int iParam0)
{
    if (IS_MOBILE_PHONE_CALL_ONGOING())
    {
        sub_9497( "\n !!!!! CANT PLAY SPEECH MOBILE PHONE CALL IS PLAYING" );
        return 0;
    }
    if (IS_THREAD_ACTIVE( g_U556[1] ))
    {
        switch (g_U91._fU0)
        {
            case 1010:
            case 1001:
            case 1000: break;
            default:
            sub_9497( "\n !!!!! CANT PLAY SPEECH CALLING SCRIPT IS STILL ACTIVE" );
            return 0;
            break;
        }
    }
    switch (g_U8394)
    {
        case 4:
        case 1:
        case 2:
        return 0;
        break;
    }
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if (g_U8392 > iParam0->_fU0)
        {
            sub_9497( "\n !!!!! CANT PLAY SPEECH CURRENT SPEECH HAS HIGHER PRIORITY" );
            return 0;
        }
        ABORT_SCRIPTED_CONVERSATION( 0 );
    }
    g_U8392 = iParam0->_fU0;
    g_U8393++;
    if (g_U8393 > 100000)
    {
        g_U8393 = 1;
    }
    iParam0->_fU4 = g_U8393;
    return 1;
}

void sub_10363(int iParam0, int iParam1)
{
    int I;

    iParam0->_fU0 = {iParam1->_fU0};
    for ( I = 0; I <= 8; I++ )
    {
        iParam0->_fU16[I] = {iParam1->_fU16[I]};
        iParam0->_fU344[I] = iParam1->_fU344[I];
    }
    iParam0->_fU384 = iParam1->_fU384;
    iParam0->_fU388 = iParam1->_fU388;
    return;
}

void sub_11213(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    int Result;

    Result = -1;
    if (sub_9385( uParam0 ))
    {
        Result = GET_CURRENT_SCRIPTED_CONVERSATION_LINE();
        if (Result != -1)
        {
            Result += uParam0._fU8;
        }
    }
    return Result;
}

void sub_13523(boolean bParam0)
{
    if (bParam0)
    {
        sub_13541( 1, 1 );
        sub_14660();
    }
    WAIT( 0 );
    if ((NOT (IS_CHAR_DEAD( l_U872 ))) AND (IS_VEH_DRIVEABLE( l_U876 )))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U876 ))
        {
            STOP_PLAYBACK_RECORDED_CAR( l_U876 );
        }
        START_PLAYBACK_RECORDED_CAR( l_U876, 335 );
        TASK_CAR_MISSION( l_U872, l_U876, 0, 15, 20.00000000, 2, -1, -1 );
    }
    if ((NOT l_U923) AND ((NOT (IS_CHAR_DEAD( l_U873 ))) AND (IS_VEH_DRIVEABLE( l_U877 ))))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U877 ))
        {
            STOP_PLAYBACK_RECORDED_CAR( l_U877 );
        }
        START_PLAYBACK_RECORDED_CAR( l_U877, 338 );
        TASK_CAR_MISSION( l_U873, l_U877, 0, 15, 20.00000000, 2, -1, -1 );
    }
    SET_WANTED_MULTIPLIER( 0.00000000 );
    l_U1059 = 1;
    return;
}

void sub_13541(boolean bParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;

    l_U19 = 1;
    l_U29 = 0;
    l_U233 = 0;
    l_U234 = 0;
    l_U235 = 0;
    l_U236 = 0;
    l_U237 = 1;
    l_U238 = 0;
    l_U239 = 0;
    l_U240 = 0;
    l_U241 = 0;
    l_U242 = -1;
    l_U243 = 0;
    l_U244 = 0;
    l_U245 = 0;
    l_U246 = 0;
    l_U175 = 0.00000000;
    l_U32 = 0;
    if (IS_PLAYER_PLAYING( sub_5454() ))
    {
        GET_CHAR_COORDINATES( sub_3640(), ref uVar4._fU0, ref uVar4._fU4, ref uVar4._fU8 );
        l_U330._fU0 = uVar4._fU0 - 100.00000000;
        l_U330._fU4 = uVar4._fU4 - 100.00000000;
        l_U330._fU8 = uVar4._fU8 - 100.00000000;
        l_U333._fU0 = uVar4._fU0 + 100.00000000;
        l_U333._fU4 = uVar4._fU4 + 100.00000000;
        l_U333._fU8 = uVar4._fU8 + 100.00000000;
        SWITCH_ROADS_OFF( l_U330._fU0, l_U330._fU4, l_U330._fU8, l_U333._fU0, l_U333._fU4, l_U333._fU8 );
        if (bParam0)
        {
            CLEAR_AREA_OF_CARS( uVar4._fU0, uVar4._fU4, uVar4._fU8, 500.00000000 );
        }
    }
    sub_13878();
    l_U31 = 0;
    if (IS_PLAYER_PLAYING( sub_5454() ))
    {
        DONT_DISPATCH_COPS_FOR_PLAYER( sub_5454(), 1 );
        SET_CREATE_RANDOM_COPS( 0 );
    }
    sub_14054();
    return;
}

void sub_13878()
{
    ADD_SCENARIO_BLOCKING_AREA( -9999.90000000, -9999.90000000, -9999.90000000, 9999.90000000, 9999.90000000, 9999.90000000 );
    SET_CAR_GENERATORS_ACTIVE_IN_AREA( -9999.90000000, -9999.90000000, -9999.90000000, 9999.90000000, 9999.90000000, 9999.90000000, 0 );
    OVERRIDE_NUMBER_OF_PARKED_CARS( 0 );
    SWITCH_GARBAGE_TRUCKS( 0 );
    ALLOW_EMERGENCY_SERVICES( 0 );
    SET_CAR_DENSITY_MULTIPLIER( 0.00000000 );
    return;
}

void sub_14054()
{
    int I;

    for ( I = 0; I < 15; I++ )
    {
        l_U342[I] = nil;
        l_U270[I] = {0.00000000, 0.00000000, 0.00000000};
        l_U61[I] = 0.00000000;
        l_U77[I] = 0.00000000;
        l_U93[I] = 0.00000000;
        l_U109[I] = 0.00000000;
        l_U195[I] = 0;
        l_U125[I] = 0.00000000;
        l_U211[I] = 0;
        l_U250[I] = 0;
    }
    for ( I = 0; I < 8; I++ )
    {
        l_U358[I] = nil;
    }
    l_U241 = 0;
    l_U233 = 0;
    l_U234 = 0;
    for ( I = 0; I < 1; I++ )
    {
        l_U367[I] = nil;
        l_U316[I] = {0.00000000, 0.00000000, 0.00000000};
        l_U157[I] = 0.00000000;
        l_U159[I] = 0.00000000;
        l_U161[I] = 0.00000000;
        l_U163[I] = 0.00000000;
        l_U231[I] = 0;
        l_U266[I] = 0;
    }
    for ( I = 0; I < 6; I++ )
    {
        l_U371[I] = nil;
    }
    l_U240 = 0;
    l_U236 = 0;
    for ( I = 0; I < 1; I++ )
    {
        l_U369[I] = nil;
        l_U320[I] = {0.00000000, 0.00000000, 0.00000000};
        l_U145[I] = 0.00000000;
        l_U147[I] = 0.00000000;
        l_U149[I] = 0.00000000;
        l_U151[I] = 0.00000000;
        l_U227[I] = 0;
        l_U153[I] = 0.00000000;
        l_U229[I] = 0;
        l_U268[I] = 0;
    }
    l_U235 = 0;
    l_U243 = 0;
    l_U247 = 0;
    l_U248 = 0;
    l_U249 = 0;
    return;
}

void sub_14660()
{
    l_U270[0] = {-138.97680000, 1421.90500000, 19.94140000};
    l_U61[0] = -0.01340000;
    l_U77[0] = 0.01310000;
    l_U93[0] = 0.68370000;
    l_U109[0] = 0.72950000;
    l_U195[0] = 8500;
    l_U125[0] = 10000.00000000;
    l_U250[0] = -1150599089;
    l_U270[1] = {-148.23110000, 1402.39600000, 19.68330000};
    l_U61[1] = -0.00440000;
    l_U77[1] = 0.02440000;
    l_U93[1] = 0.00490000;
    l_U109[1] = 0.99970000;
    l_U195[1] = 1678;
    l_U125[1] = 10000.00000000;
    l_U250[1] = -498054846;
    l_U270[3] = {-149.54260000, 1290.53600000, 19.97830000};
    l_U61[3] = -0.00070000;
    l_U77[3] = 0.01130000;
    l_U93[3] = -0.01700000;
    l_U109[3] = 0.99980000;
    l_U195[3] = 1691;
    l_U125[3] = 12000;
    l_U250[3] = -1150599089;
    l_U270[4] = {-246.53020000, 1338.06900000, 25.16890000};
    l_U61[4] = -0.00710000;
    l_U77[4] = 0.04240000;
    l_U93[4] = -0.70110000;
    l_U109[4] = 0.71170000;
    l_U195[4] = 1679;
    l_U125[4] = 17000.00000000;
    l_U250[4] = -119658072;
    l_U270[5] = {-283.21350000, 1344.38900000, 25.09530000};
    l_U61[5] = -0.00210000;
    l_U77[5] = 0.03410000;
    l_U93[5] = 0.71320000;
    l_U109[5] = -0.70020000;
    l_U195[5] = 1685;
    l_U125[5] = 23000.00000000;
    l_U250[5] = 1208856469;
    l_U270[6] = {-235.27270000, 1260.57400000, 23.24630000};
    l_U61[6] = 0.04100000;
    l_U77[6] = 0.01290000;
    l_U93[6] = 0.69110000;
    l_U109[6] = 0.72150000;
    l_U195[6] = 1686;
    l_U125[6] = 25000;
    l_U250[6] = -498054846;
    l_U270[7] = {-237.49630000, 1266.07100000, 23.67850000};
    l_U61[7] = 0.01620000;
    l_U77[7] = 0.04240000;
    l_U93[7] = 0.71730000;
    l_U109[7] = 0.69520000;
    l_U195[7] = 1690;
    l_U125[7] = 26400;
    l_U250[7] = -1150599089;
    l_U270[8] = {-284.69040000, 1164.43900000, 14.81620000};
    l_U61[8] = -0.00000000;
    l_U77[8] = -0.00020000;
    l_U93[8] = -0.70490000;
    l_U109[8] = 0.70930000;
    l_U195[8] = 346;
    l_U125[8] = 30000;
    l_U250[8] = -713569950;
    l_U270[10] = {-275.91640000, 1177.26900000, 14.00000000};
    l_U61[10] = -0.02430000;
    l_U77[10] = 0.01990000;
    l_U93[10] = 0.70730000;
    l_U109[10] = 0.70620000;
    l_U195[10] = 1688;
    l_U125[10] = 31300;
    l_U250[10] = -498054846;
    l_U270[11] = {-350.08530000, 1158.50100000, 14.38180000};
    l_U61[11] = -0.01850000;
    l_U77[11] = -0.01550000;
    l_U93[11] = 0.70770000;
    l_U109[11] = -0.70610000;
    l_U195[11] = 344;
    l_U125[11] = 35000;
    l_U250[11] = 1208856469;
    l_U270[12] = {-355.10980000, 1141.06500000, 14.41150000};
    l_U61[12] = 0.00210000;
    l_U77[12] = 0.01790000;
    l_U93[12] = 0.00170000;
    l_U109[12] = 0.99980000;
    l_U195[12] = 1689;
    l_U125[12] = 37000;
    l_U250[12] = 1208856469;
    l_U270[13] = {-373.56690000, 1278.38600000, 22.22180000};
    l_U61[13] = 0.01440000;
    l_U77[13] = 0.02020000;
    l_U93[13] = 0.99910000;
    l_U109[13] = -0.03570000;
    l_U195[13] = 345;
    l_U125[13] = 37000;
    l_U250[13] = -498054846;
    return;
}

void sub_16854()
{
    if (NOT (IS_CHAR_DEAD( l_U872 )))
    {
        if (sub_16891( sub_3640(), l_U872 ))
        {
            if (sub_5622( 1, 1 ))
            {
                sub_17103();
            }
        }
        else if (NOT (IS_CAR_DEAD( l_U876 )))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U876 ))
            {
                l_U1057 = FIND_TIME_POSITION_IN_RECORDING( l_U876 );
                if ((l_U1059 == 2) AND ((l_U1057 <= 80000) AND (l_U1057 >= 26000)))
                {
                    GET_CHAR_COORDINATES( sub_3640(), ref l_U1054, ref l_U1055, ref l_U1056 );
                    if (l_U1056 >= 6.00000000)
                    {
                        if (sub_5622( 1, 1 ))
                        {
                            sub_17103();
                        }
                    }
                }
            }
        }
        if (sub_18124( sub_3640() ))
        {
            if (IS_SCREEN_FADED_OUT())
            {
                l_U975 = 1;
            }
            if (l_U975)
            {
                if (IS_SCREEN_FADING_IN())
                {
                    if (DOES_CHAR_EXIST( l_U872 ))
                    {
                        DELETE_CHAR( ref l_U872 );
                    }
                    if (DOES_CHAR_EXIST( l_U873 ))
                    {
                        DELETE_CHAR( ref l_U873 );
                    }
                    if (DOES_VEHICLE_EXIST( l_U876 ))
                    {
                        DELETE_CAR( ref l_U876 );
                    }
                    if (DOES_VEHICLE_EXIST( l_U877 ))
                    {
                        DELETE_CAR( ref l_U877 );
                    }
                }
                CLEAR_PRINTS();
                sub_17103();
            }
        }
    }
    sub_18552();
    sub_58066();
    sub_60400();
    sub_60946();
    return;
}

int sub_16891(unknown uParam0, unknown uParam1)
{
    float fVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;

    if (NOT (IS_CHAR_DEAD( uParam0 )))
    {
        GET_CHAR_COORDINATES( uParam0, ref uVar5._fU0, ref uVar5._fU4, ref uVar5._fU8 );
    }
    if (NOT (IS_CHAR_DEAD( uParam1 )))
    {
        GET_CHAR_COORDINATES( uParam1, ref uVar8._fU0, ref uVar8._fU4, ref uVar8._fU8 );
    }
    fVar4 = VDIST( uVar5, uVar8 );
    if ((NOT l_U964) AND (l_U933))
    {
        if (fVar4 > 300.00000000)
        {
            return 1;
        }
    }
    else if (IS_CHAR_ON_SCREEN( uParam1 ))
    {
        if (fVar4 > 350.00000000)
        {
            return 1;
        }
    }
    else if (fVar4 > 205.00000000)
    {
        return 1;
    };;;
    return 0;
}

void sub_17103()
{
    sub_17112();
    if (NOT (IS_CHAR_INJURED( l_U873 )))
    {
        PRINT_NOW( "RAY5_FAIL1", 7000, 1 );
    }
    else
    {
        PRINT_NOW( "RAY5_FAIL1b", 7000, 1 );
    }
    SET_PLAYER_MOOD_PISSED_OFF( sub_5454(), 150 );
    SAY_AMBIENT_SPEECH( sub_3640(), "MISSION_FAIL_RAGE", 0, 0, 0 );
    sub_17370( 14, "RB5_CALL2", "RB5AUD", 0 );
    sub_3477();
    return;
}

void sub_17112()
{
    sub_17121();
    return;
}

void sub_17121()
{
    int iVar2;

    iVar2 = 14;
    sub_17135( iVar2 );
    sub_2566( iVar2 );
    return;
}

void sub_17135(unknown uParam0)
{
    if (g_U10981[uParam0]._fU12)
    {
        return;
    }
    SET_PLAYER_MOOD_PISSED_OFF( sub_5454(), 150 );
    CLEAR_HELP();
    sub_1390( uParam0 );
    return;
}

void sub_17370(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    char[12] cVar6;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;

    array(ref cVar6, 2);
    StrCopy( ref cVar6[0], uParam1, 16 );
    StrCopy( ref cVar6[1], "END", 16 );
    sub_17414( uParam0, ref cVar6, uParam2, 10000, uParam3, 0 );
    return;
}

void sub_17414(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    unknown uVar36;
    int I;
    int iVar38;

    array(ref uVar8._fU32, 5);
    ref uVar8;
    iVar38 = uVar8._fU32;
    if (NOT (IS_THREAD_ACTIVE( g_U812 )))
    {
        uVar8._fU12 = uParam0;
        if ((uParam1^) > iVar38)
        {
            SCRIPT_ASSERT( "TELL SIMON END CALL ARRAY SIZE NEEDS INCREASING" );
            return;
        }
        for ( I = 0; I <= ((uParam1^) - 1); I++ )
        {
            uVar8._fU32[I] = {(uParam1^)[I]};
        }
        if ((uParam1^) < iVar38)
        {
            StrCopy( ref uVar8._fU32[(uParam1^)], "END", 16 );
        }
        StrCopy( ref uVar8._fU16, uParam2, 16 );
        uVar8._fU0 = uParam3;
        uVar8._fU4 = uParam4;
        uVar8._fU8 = uParam5;
        REQUEST_SCRIPT( "SPcellphoneEndCall" );
        while (NOT (HAS_SCRIPT_LOADED( "SPcellphoneEndCall" )))
        {
            REQUEST_SCRIPT( "SPcellphoneEndCall" );
            WAIT( 0 );
        }
        g_U811 = 1;
        g_U812 = START_NEW_SCRIPT_WITH_ARGS( "SPcellphoneEndCall", ref uVar8, 29, 1024 );
        MARK_SCRIPT_AS_NO_LONGER_NEEDED( "SPcellphoneEndCall" );
    }
    else
    {
        SCRIPT_ASSERT( "MAKE_END_OF_MISSION_CALL() has been called more than once, might be in a loop" );
    }
    return;
}

int sub_18124(int iParam0)
{
    unknown uVar3;
    int iVar4;
    int iVar5;

    if (NOT (IS_CHAR_INJURED( iParam0 )))
    {
        if (IS_CHAR_IN_ANY_CAR( iParam0 ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( iParam0, ref uVar3 );
            if (IS_VEH_DRIVEABLE( uVar3 ))
            {
                if (sub_18188( uVar3 ))
                {
                    GET_MAXIMUM_NUMBER_OF_PASSENGERS( uVar3, ref iVar5 );
                    if (iVar5 == 3)
                    {
                        if (NOT (IS_CAR_PASSENGER_SEAT_FREE( uVar3, 1 )))
                        {
                            GET_CHAR_IN_CAR_PASSENGER_SEAT( uVar3, 1, ref iVar4 );
                            if (iVar4 == iParam0)
                            {
                                return 1;
                            }
                        }
                        if (NOT (IS_CAR_PASSENGER_SEAT_FREE( uVar3, 2 )))
                        {
                            GET_CHAR_IN_CAR_PASSENGER_SEAT( uVar3, 2, ref iVar4 );
                            if (iVar4 == iParam0)
                            {
                                return 1;
                            }
                        }
                    }
                }
            }
        }
    }
    return 0;
}

int sub_18188(int iParam0)
{
    if ((iParam0 == g_U2239) || ((IS_CAR_MODEL( iParam0, 1208856469 )) || ((IS_CAR_MODEL( iParam0, 1884962369 )) || (IS_CAR_MODEL( iParam0, -956048545 )))))
    {
        return 1;
    }
    return 0;
}

void sub_18552()
{
    if (NOT l_U923)
    {
        if (IS_VEH_DRIVEABLE( l_U876 ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U876 ))
            {
                sub_18606();
                SET_PLAYBACK_SPEED( l_U876, l_U1036 );
                if ((NOT (IS_CHAR_DEAD( l_U873 ))) AND (IS_VEH_DRIVEABLE( l_U877 )))
                {
                    if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U877 ))
                    {
                        SET_PLAYBACK_SPEED( l_U877, l_U1036 );
                    }
                }
            }
            else if ((NOT (IS_CHAR_DEAD( l_U873 ))) AND (IS_VEH_DRIVEABLE( l_U877 )))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U877 ))
                {
                    sub_18811( l_U877, sub_3640(), ref l_U1036, 1.10000000, 18, 34, 1123680256, 1073741824, 1065353216, 1060320051, 1 );
                    SET_PLAYBACK_SPEED( l_U877, l_U1036 );
                }
            }
            if (NOT (l_U1059 == 2))
            {
                sub_23111( l_U876, l_U1036 );
            }
        }
        if (l_U1059 == 1)
        {
            if (NOT (IS_CAR_DEAD( l_U876 )))
            {
                if ((NOT (IS_CHAR_DEAD( l_U873 ))) AND (NOT (IS_CAR_DEAD( l_U877 ))))
                {
                    if ((NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U877 ))) AND (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U876 ))))
                    {
                        sub_38292( 0 );
                        sub_38479();
                    }
                }
                else if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U876 )))
                {
                    sub_38292( 0 );
                    sub_38479();
                }
            }
        }
        if ((NOT l_U934) AND (l_U1059 == 2))
        {
            if (TIMERA() >= 20)
            {
                sub_38823();
                l_U934 = 1;
            }
        }
    }
    else if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U876 ))
    {
        sub_23111( l_U876, 1.00000000 );
    }
    if (IS_CHAR_DEAD( l_U873 ))
    {
        if (NOT l_U961)
        {
            if (IS_VEH_DRIVEABLE( l_U877 ))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U877 ))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U877 );
                }
                MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U877 );
                if (DOES_CHAR_EXIST( l_U873 ))
                {
                    MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U873 );
                }
            }
            else if (NOT (IS_CAR_DEAD( l_U877 )))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U877 ))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U877 );
                }
                MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U877 );
            }
            if ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND ((NOT (sub_9385( l_U917 ))) AND ((NOT (sub_9385( l_U911 ))) AND (NOT l_U930))))
            {
                sub_9584( "RB5_KILL", ref l_U917, 7, 1 );
                l_U930 = 1;
            }
        }
    }
    else if ((NOT l_U961) AND (NOT (IS_CHAR_IN_ANY_CAR( l_U873 ))))
    {
        DAMAGE_CHAR( l_U873, 1000, 0 );
        MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U873 );
    }
    if (l_U1059 == 2)
    {
        if ((NOT (IS_CHAR_DEAD( l_U873 ))) AND (NOT (IS_CAR_DEAD( l_U877 ))))
        {
            if ((NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U877 ))) AND (NOT l_U961))
            {
                if (NOT l_U962)
                {
                    TASK_CAR_TEMP_ACTION( l_U873, l_U877, 8, 2000 );
                    SAY_AMBIENT_SPEECH_WITH_VOICE( l_U873, "PANIC", "PAIN_VOICE", 1, 0, 0 );
                    SETTIMERA( 0 );
                    l_U962 = 1;
                }
                else if ((TIMERA() >= 180) AND (NOT (IS_CHAR_DEAD( l_U873 ))))
                {
                    SET_CHAR_PROOFS( l_U873, 0, 0, 0, 0, 0 );
                    SET_CHAR_CAN_BE_KNOCKED_OFF_BIKE( l_U873, 2 );
                    KNOCK_PED_OFF_BIKE( l_U873 );
                    SET_PETROL_TANK_HEALTH( l_U877, 65436 );
                    APPLY_FORCE_TO_CAR( l_U877, 1, 4.00000000, 2.10000000, 2.80000000, 0, 1.20000000, 0.64000000, 0, 1, 1, 1 );
                    PLAY_SOUND_FROM_VEHICLE( -1, "RB5_SUBWAY_BIKE_CHASE_TRAIN_HIT_BIKER", l_U877 );
                    l_U961 = 1;
                    SETTIMERA( 0 );
                }
            }
        }
        if ((NOT l_U960) AND (l_U961))
        {
            if (TIMERA() >= 1500)
            {
                if (NOT (IS_CHAR_DEAD( l_U872 )))
                {
                    if ((IS_CHAR_ON_SCREEN( l_U872 )) AND (LOCATE_CHAR_ANY_MEANS_CHAR_3D( sub_3640(), l_U872, 75, 75, 75, 0 )))
                    {
                        sub_9584( "RB5_TRAIN", ref l_U917, 7, 1 );
                    }
                }
                l_U930 = 1;
                SET_CHAR_PROOFS( sub_3640(), 0, 1, 1, 0, 0 );
                if (NOT (IS_CAR_DEAD( l_U875 )))
                {
                    SET_CAR_PROOFS( l_U875, 0, 1, 1, 0, 0 );
                }
                if (NOT (IS_CHAR_DEAD( l_U873 )))
                {
                    DAMAGE_CHAR( l_U873, 1000, 0 );
                }
                if (NOT (IS_CAR_DEAD( l_U877 )))
                {
                    EXPLODE_CAR( l_U877, 1, 0 );
                    MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U877 );
                }
                if (NOT (IS_CHAR_DEAD( l_U873 )))
                {
                    DAMAGE_CHAR( l_U873, 1000, 0 );
                    MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U873 );
                }
                l_U960 = 1;
                if (NOT (IS_CAR_DEAD( l_U878[8] )))
                {
                    SET_TRAIN_CRUISE_SPEED( l_U878[8], 0.00000000 );
                    l_U946 = 1;
                }
                SETTIMERA( 0 );
            }
        }
        if ((NOT l_U963) AND (l_U960))
        {
            if (TIMERA() >= 4000)
            {
                SET_CHAR_PROOFS( sub_3640(), 0, 0, 0, 0, 0 );
                if (NOT (IS_CAR_DEAD( l_U875 )))
                {
                    SET_CAR_PROOFS( l_U875, 0, 0, 0, 0, 0 );
                }
                l_U963 = 1;
            }
        }
    }
    if (NOT l_U931)
    {
        if (IS_VEH_DRIVEABLE( l_U876 ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U876 ))
            {
                if ((FIND_TIME_POSITION_IN_RECORDING( l_U876 )) >= 49500)
                {
                    if (NOT (IS_CHAR_DEAD( l_U873 )))
                    {
                        PRINT_NOW( "RAY5_05", 7500, 1 );
                    }
                    else
                    {
                        PRINT_NOW( "RAY5_05b", 7500, 1 );
                    }
                    if ((NOT (DOES_BLIP_EXIST( l_U896 ))) AND (NOT (IS_CHAR_DEAD( l_U872 ))))
                    {
                        ADD_BLIP_FOR_CHAR( l_U872, ref l_U896 );
                    }
                    if ((NOT (DOES_BLIP_EXIST( l_U897 ))) AND (NOT (IS_CHAR_DEAD( l_U873 ))))
                    {
                        ADD_BLIP_FOR_CHAR( l_U873, ref l_U897 );
                    }
                    if (DOES_BLIP_EXIST( l_U899 ))
                    {
                        REMOVE_BLIP( l_U899 );
                        if (DOES_VEHICLE_EXIST( l_U890 ))
                        {
                            MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U890 );
                        }
                        l_U932 = 0;
                    }
                    SETTIMERB( 0 );
                    l_U931 = 1;
                }
            }
        }
    }
    if (NOT l_U973)
    {
        if (IS_CHAR_IN_AREA_2D( sub_3640(), -368.61000000, 1270.70000000, -358.54000000, 1305.65000000, 0 ))
        {
            l_U973 = 1;
        }
    }
    if (NOT l_U972)
    {
        if (LOCATE_CHAR_ANY_MEANS_3D( sub_3640(), 688, 276, 36, 200, 200, 200, 0 ))
        {
            sub_40477();
        }
    }
    if (NOT l_U966)
    {
        if (IS_VEH_DRIVEABLE( l_U876 ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U876 ))
            {
                if ((FIND_TIME_POSITION_IN_RECORDING( l_U876 )) >= 110000)
                {
                    SET_CHAR_SUFFERS_CRITICAL_HITS( l_U872, 1 );
                    SET_CHAR_PROOFS( l_U872, 0, 0, 0, 0, 0 );
                    l_U966 = 1;
                    if (NOT (IS_CAR_DEAD( l_U878[7] )))
                    {
                        SET_TRAIN_CRUISE_SPEED( l_U878[7], 0.00000000 );
                        l_U945 = 1;
                    }
                    if (NOT (IS_CAR_DEAD( l_U878[8] )))
                    {
                        SET_TRAIN_CRUISE_SPEED( l_U878[8], 0.00000000 );
                        l_U946 = 1;
                    }
                }
            }
        }
    }
    if (IS_CHAR_DEAD( l_U872 ))
    {
        if (IS_VEH_DRIVEABLE( l_U876 ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U876 ))
            {
                SET_CAR_PROOFS( l_U876, 0, 0, 0, 0, 0 );
                SET_CAN_BURST_CAR_TYRES( l_U876, 1 );
                STOP_PLAYBACK_RECORDED_CAR( l_U876 );
            }
        }
    }
    if ((NOT l_U933) AND (l_U931))
    {
        if ((NOT (LOCATE_CHAR_ANY_MEANS_3D( sub_3640(), -360.92000000, 1270.39000000, 22.32000000, 35.00000000, 35.00000000, 35.00000000, 0 ))) AND (TIMERB() >= 1000))
        {
            sub_41033();
        }
        if (LOCATE_CHAR_ANY_MEANS_3D( sub_3640(), 65175, 1269, 24.40000000, 2.50000000, 2.50000000, 2.50000000, 1 ))
        {
            l_U933 = 1;
        }
    }
    if (l_U932)
    {
        if (NOT (IS_CAR_DEAD( l_U875 )))
        {
            if (IS_CHAR_IN_CAR( sub_3640(), l_U875 ))
            {
                if (DOES_BLIP_EXIST( l_U899 ))
                {
                    REMOVE_BLIP( l_U899 );
                }
                if (DOES_VEHICLE_EXIST( l_U890 ))
                {
                    MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U890 );
                }
                sub_41421();
                l_U932 = 0;
            }
        }
        else if (DOES_BLIP_EXIST( l_U899 ))
        {
            REMOVE_BLIP( l_U899 );
        }
        if (DOES_VEHICLE_EXIST( l_U890 ))
        {
            MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U890 );
        }
        sub_41421();
        l_U932 = 0;;
    }
    if (l_U1059 == 2)
    {
        if ((NOT l_U964) AND (IS_VEH_DRIVEABLE( l_U876 )))
        {
            if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U876 )))
            {
                if (NOT (IS_CHAR_INJURED( l_U872 )))
                {
                    MARK_MISSION_TRAINS_AS_NO_LONGER_NEEDED();
                    STOP_PLAYBACK_RECORDED_CAR( l_U876 );
                    TASK_CAR_DRIVE_WANDER( l_U872, l_U876, 25, 2 );
                    SET_CHAR_CAN_BE_KNOCKED_OFF_BIKE( l_U872, 2 );
                    SET_CHAR_PROOFS( l_U872, 0, 0, 0, 0, 0 );
                    SET_CAR_PROOFS( l_U876, 0, 0, 0, 0, 0 );
                    SET_CAN_BURST_CAR_TYRES( l_U876, 1 );
                    SWITCH_ROADS_BACK_TO_ORIGINAL( 65138, 1138, -10, 65401, 1435, 100 );
                    SWITCH_ROADS_BACK_TO_ORIGINAL( 35, 237, 65486, 966, 289, 100 );
                    SWITCH_ROADS_BACK_TO_ORIGINAL( 914, 148, 65486, 979, 370, 100 );
                    l_U964 = 1;
                    l_U966 = 1;
                }
            }
        }
        if (l_U964)
        {
            sub_41918();
        }
    }
    if (NOT (IS_CHAR_DEAD( l_U872 )))
    {
        if ((IS_CHAR_IN_ANY_CAR( l_U872 )) AND (LOCATE_CHAR_ANY_MEANS_CHAR_3D( sub_3640(), l_U872, 25, 25, 8.00000000, 0 )))
        {
            if (NOT l_U959)
            {
                sub_42092();
            }
        }
    }
    sub_42254();
    sub_42363();
    if (sub_43065())
    {
        sub_43127();
    }
    return;
}

void sub_18606()
{
    l_U1049 = FIND_TIME_POSITION_IN_RECORDING( l_U876 );
    if ((l_U1059 == 1) AND (NOT l_U974))
    {
        if (l_U1049 < 47499)
        {
            if (IS_CHAR_IN_AREA_2D( sub_3640(), -369.13000000, 1270.71000000, -358.30000000, 1320.62000000, 0 ))
            {
                l_U974 = 1;
            }
        }
    }
    switch (l_U1059)
    {
        case 1:
        if (NOT l_U974)
        {
            if (l_U1049 >= 48700)
            {
                sub_18811( l_U876, sub_3640(), ref l_U1036, 1.20000000, 45, 50, 90, 2, 1, 1.20000000, 1 );
            }
            else if (l_U1049 >= 40473)
            {
                sub_18811( l_U876, sub_3640(), ref l_U1036, 1.30000000, 35, 43, 125, 2, 1, 1.00000000, 1 );
            }
            else if (l_U1049 >= 31000)
            {
                sub_18811( l_U876, sub_3640(), ref l_U1036, 1.00000000, 20, 30, 125, 2, -1, 0.60000000, 1 );
            }
            else if (l_U1049 >= 10950)
            {
                sub_18811( l_U876, sub_3640(), ref l_U1036, 0.90000000, 11, 21, 110, 1073741824, 1065353216, 1060320051, 1 );
            }
            else if (l_U1049 >= 4000)
            {
                sub_18811( l_U876, sub_3640(), ref l_U1036, 0.30000000, 12, 20, 50, 1073741824, 1065353216, 1060320051, 1 );
            }
            else
            {
                sub_18811( l_U876, sub_3640(), ref l_U1036, 0.80000000, 12, 20, 50, 1073741824, 1065353216, 1060320051, 1 );
            };;;;;
        }
        else
        {
            sub_18811( l_U876, sub_3640(), ref l_U1036, 1.12000000, 5, 14, 15, 1.00000000, -1, 1.12000000, 0 );
        }
        break;
        case 2:
        if (l_U1049 >= 132001)
        {
            sub_18811( l_U876, sub_3640(), ref l_U1036, 1.00000000, 10, 25, 125, 1073741824, 1065353216, 1060320051, 1 );
        }
        else if (l_U1049 >= 117031)
        {
            sub_18811( l_U876, sub_3640(), ref l_U1036, 1.00000000, 19, 31, 115, 1073741824, 1065353216, 1060320051, 1 );
        }
        else if (l_U1049 >= 108700)
        {
            sub_18811( l_U876, sub_3640(), ref l_U1036, 1.20000000, 30, 40, 115, 1073741824, 1065353216, 1060320051, 1 );
        }
        else if (l_U1049 >= 86000)
        {
            sub_18811( l_U876, sub_3640(), ref l_U1036, 1.00000000, 16, 35, 100, 1073741824, 1065353216, 1060320051, 1 );
        }
        else if (l_U1049 >= 69721)
        {
            sub_18811( l_U876, sub_3640(), ref l_U1036, 1.00000000, 20, 40, 100, 1073741824, 1065353216, 1060320051, 1 );
        }
        else if (l_U1049 >= 9000)
        {
            sub_18811( l_U876, sub_3640(), ref l_U1036, 1.00000000, 19, 31, 90, 1073741824, 1065353216, 1060320051, 1 );
        }
        else if ((l_U1049 <= 4000) AND (l_U974))
        {
            sub_18811( l_U876, sub_3640(), ref l_U1036, 1.15000000, 45, 50, 200, 5, 1, 1.15000000, 1 );
        }
        else if (l_U973)
        {
            sub_18811( l_U876, sub_3640(), ref l_U1036, 1.00000000, 13, 20, 90, 1073741824, 1065353216, 1060320051, 1 );
        }
        else
        {
            sub_18811( l_U876, sub_3640(), ref l_U1036, 1.00000000, 5, 14, 15, 1.00000000, -1, 0.30000000, 1 );
        };;;;;;;;
        break;
    }
    return;
}

void sub_18811(unknown uParam0, unknown uParam1, unknown uParam2, float fParam3, float fParam4, float fParam5, float fParam6, unknown uParam7, float fParam8, unknown uParam9, boolean bParam10)
{
    float fVar13;
    float fVar14;
    float fVar15;
    float fVar16;
    float fVar17;
    float fVar18;
    float fVar19;
    float fVar20;
    float fVar21;
    unknown uVar22;
    unknown uVar23;

    if (l_U32 == 0)
    {
        if ((uParam2^) < fParam3)
        {
            (uParam2^) = fParam3;
            l_U32 = 1;
        }
    }
    if (fParam4 < 0.00000000)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist = " );
        PRINTFLOAT( fParam4 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist cannot be less than zero." );
    }
    if (fParam4 >= fParam5)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist = " );
        PRINTFLOAT( fParam4 );
        PRINTSTRING( ", fIdealDist = " );
        PRINTFLOAT( fParam5 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist must be less than fIdealDist" );
    }
    if (fParam4 >= fParam6)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist = " );
        PRINTFLOAT( fParam4 );
        PRINTSTRING( ", fSlowDownDist = " );
        PRINTFLOAT( fParam6 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist must be less than fSlowDownDist" );
    }
    if (fParam5 < 0.00000000)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fIdealDist = " );
        PRINTFLOAT( fParam5 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fIdealDist cannot be less than zero." );
    }
    if (fParam5 >= fParam6)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fIdealDist = " );
        PRINTFLOAT( fParam5 );
        PRINTSTRING( ", fSlowDownDist = " );
        PRINTFLOAT( fParam6 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fIdealDist must be less than fSlowDownDist" );
    }
    if (fParam6 < 0.00000000)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fSlowDownDist = " );
        PRINTFLOAT( fParam6 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fSlowDownDist cannot be less than zero." );
    }
    if (fParam8 < 0.00000000)
    {
        fParam8 = l_U187;
    }
    fVar13 = fParam3 * uParam7;
    if (NOT (fVar13 > fParam3))
    {
        fVar13 = fParam3 + 0.10000000;
    }
    fVar18 = fParam3 * uParam9;
    fVar19 = ((fParam6 - fParam5) * 0.40000000) + fParam5;
    fVar15 = sub_20149( uParam0, uParam1 );
    if (fVar15 < 0.00000000)
    {
        fVar15 *= -1.00000000;
    }
    fVar16 = fVar15;
    if (fVar16 < fParam4)
    {
        fVar16 = fParam4;
    }
    if (fVar16 > fVar19)
    {
        fVar16 = fVar19;
    }
    fVar17 = fParam3;
    if (DOES_CHAR_EXIST( uParam1 ))
    {
        if (NOT (IS_CHAR_DEAD( uParam1 )))
        {
            if (sub_20476( uParam1, uParam0 ))
            {
                if (IS_CHAR_IN_ANY_CAR( uParam1 ))
                {
                    fVar17 = fVar13;
                }
                else if (fVar15 < 50.00000000)
                {
                    fVar17 = fParam3;
                }
                else
                {
                    fVar17 = fVar13;
                }
            }
            else if (fVar15 < fParam5)
            {
                if ((sub_20859( uParam0, uParam1 )) < fParam5)
                {
                    fVar14 = sub_20992( uParam0, uParam1 );
                    fVar14 += -15.00000000;
                    if (fVar14 < 0.00000000)
                    {
                        fVar14 = 0.00000000;
                    }
                    if (fVar14 > 75.00000000)
                    {
                        fVar14 = 75.00000000;
                    }
                    fVar20 = (75.00000000 - fVar14) / 75.00000000;
                }
                else
                {
                    fVar20 = 1.00000000;
                }
                fVar17 = (((((fParam5 - fParam4) - (fVar16 - fParam4)) / (fParam5 - fParam4)) * (fVar13 - fParam3)) * fVar20) + fParam3;
            }
            else if (fVar15 > fParam6)
            {
                fVar17 = fVar18;
                l_U33 = 1;
            }
            else if (l_U33)
            {
                if (fVar15 < fVar19)
                {
                    fVar17 = fParam3;
                    l_U33 = 0;
                }
                else
                {
                    fVar17 = fVar18;
                }
            }
            else
            {
                fVar17 = fParam3;
            };;;;
        }
    }
    fVar14 = fVar17 - (uParam2^);
    if (fVar14 > 0.00000000)
    {
        GET_FRAME_TIME( ref fVar14 );
        fVar21 = (l_U192 * fParam3) * fVar14;
        fVar14 = fVar17 - (uParam2^);
        if (fVar14 > fVar21)
        {
            fVar14 = fVar21;
        }
        (uParam2^) += fVar14;
    }
    else
    {
        GET_FRAME_TIME( ref fVar14 );
        fVar21 = (l_U193 * fParam3) * fVar14;
        fVar14 = fVar17 - (uParam2^);
        if (fVar14 < (fVar21 * -1.00000000))
        {
            fVar14 = fVar21 * -1.00000000;
        }
        (uParam2^) += fVar14;
    }
    if (bParam10)
    {
        if (NOT (IS_CHAR_INJURED( uParam1 )))
        {
            if (IS_CHAR_IN_ANY_CAR( uParam1 ))
            {
                STORE_CAR_CHAR_IS_IN_NO_SAVE( uParam1, ref uVar22 );
                if (DOES_VEHICLE_EXIST( uVar22 ))
                {
                    if (NOT (IS_CAR_DEAD( uVar22 )))
                    {
                        GET_CAR_MODEL( uVar22, ref uVar23 );
                        if ((IS_THIS_MODEL_A_BIKE( uVar23 )) || (IS_THIS_MODEL_A_CAR( uVar23 )))
                        {
                            if (IS_VEH_DRIVEABLE( uVar22 ))
                            {
                                fVar14 = fVar17;
                                if (fVar14 < fParam3)
                                {
                                    fVar14 = fParam3;
                                }
                                fVar14 -= fParam3;
                                fVar14 /= fVar13 - fParam3;
                                fVar14 *= fParam8;
                                fVar14 *= l_U185 - l_U186;
                                fVar14 += l_U186;
                                l_U184 = fVar14;
                                if (l_U184 < l_U186)
                                {
                                    l_U184 = l_U186;
                                }
                                if (l_U184 > l_U185)
                                {
                                    l_U184 = l_U185;
                                }
                                FORCE_AIR_DRAG_MULT_FOR_PLAYERS_CAR( sub_5454(), l_U184 );
                            }
                        }
                    }
                }
            }
        }
    }
    return;
}

float sub_20149(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    vector vVar10;
    vector vVar13;
    float fVar16;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_FORWARD_X( uParam0, ref uVar4._fU0 );
        GET_CAR_FORWARD_Y( uParam0, ref uVar4._fU4 );
        GET_CAR_COORDINATES( uParam0, ref vVar10.x, ref vVar10.y, ref vVar10.z );
    }
    if (NOT (IS_CHAR_DEAD( uParam1 )))
    {
        GET_CHAR_COORDINATES( uParam1, ref vVar13.x, ref vVar13.y, ref vVar13.z );
    }
    uVar7 = {vVar13 - vVar10};
    GET_ANGLE_BETWEEN_2D_VECTORS( uVar7._fU0, uVar7._fU4, uVar4._fU0, uVar4._fU4, ref fVar16 );
    fVar16 += -90.00000000;
    if (fVar16 < 0.00000000)
    {
        fVar16 *= -1.00000000;
    }
    uVar7._fU8 = 0.00000000;
    return (VMAG( uVar7 )) * (SIN( fVar16 ));
}

int sub_20476(unknown uParam0, unknown uParam1)
{
    vector vVar4;
    vector vVar7;
    vector vVar10;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    float fVar19;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (NOT (IS_CAR_DEAD( uParam1 )))
        {
            if (IS_CHAR_IN_CAR( uParam0, uParam1 ))
            {
                return 0;
            }
        }
    }
    if (NOT (IS_CHAR_DEAD( uParam0 )))
    {
        GET_CHAR_COORDINATES( uParam0, ref vVar4.x, ref vVar4.y, ref vVar4.z );
    }
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_CAR_COORDINATES( uParam1, ref vVar7.x, ref vVar7.y, ref vVar7.z );
    }
    uVar13 = {vVar7 - vVar4};
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( uParam1, 0.00000000, 5.00000000, 0.00000000, ref vVar10.x, ref vVar10.y, ref vVar10.z );
        uVar16 = {vVar10 - vVar7};
    }
    uVar13._fU8 = 0.00000000;
    uVar16._fU8 = 0.00000000;
    fVar19 = sub_20697( ref uVar13, ref uVar16 );
    if (fVar19 < 0.00000000)
    {
        return 1;
    }
    return 0;
}

float sub_20697(int iParam0, int iParam1)
{
    return ((iParam0->_fU0 * iParam1->_fU0) + (iParam0->_fU4 * iParam1->_fU4)) + (iParam0->_fU8 * iParam1->_fU8);
}

void sub_20859(unknown uParam0, unknown uParam1)
{
    vector vVar4;
    vector vVar7;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown Result;

    if (NOT (IS_CAR_DEAD( uParam0 )))
    {
        GET_CAR_COORDINATES( uParam0, ref vVar4.x, ref vVar4.y, ref vVar4.z );
    }
    if (NOT (IS_CHAR_DEAD( uParam1 )))
    {
        GET_CHAR_COORDINATES( uParam1, ref vVar7.x, ref vVar7.y, ref vVar7.z );
    }
    uVar10 = {vVar7 - vVar4};
    uVar10._fU8 = 0.00000000;
    Result = VMAG( uVar10 );
    return Result;
}

void sub_20992(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    vector vVar7;
    vector vVar10;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown Result;
    unknown uVar17;

    if (NOT (IS_CAR_DEAD( uParam0 )))
    {
        GET_CAR_FORWARD_X( uParam0, ref uVar4._fU0 );
        GET_CAR_FORWARD_Y( uParam0, ref uVar4._fU4 );
    }
    if (NOT (IS_CHAR_DEAD( uParam1 )))
    {
        GET_CHAR_COORDINATES( uParam1, ref vVar7.x, ref vVar7.y, ref vVar7.z );
        if (IS_CHAR_IN_ANY_CAR( uParam1 ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( uParam1, ref uVar17 );
            GET_CAR_FORWARD_X( uVar17, ref uVar13._fU0 );
            GET_CAR_FORWARD_Y( uVar17, ref uVar13._fU4 );
        }
        else
        {
            GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( uParam1, 0.00000000, 5.00000000, 0.00000000, ref vVar10.x, ref vVar10.y, ref vVar10.z );
            uVar13 = {vVar10 - vVar7};
        }
    }
    GET_ANGLE_BETWEEN_2D_VECTORS( uVar4._fU0, uVar4._fU4, uVar13._fU0, uVar13._fU4, ref Result );
    return Result;
}

void sub_23111(unknown uParam0, float fParam1)
{
    unknown uVar4;
    float fVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    int I;
    int iVar10;

    GET_FRAME_TIME( ref fVar5 );
    fVar5 *= 1000.00000000;
    l_U384 += fVar5;
    l_U385 += fVar5;
    l_U386 += fVar5;
    l_U183 = fParam1;
    if (NOT l_U22)
    {
        if (l_U21)
        {
            sub_13878();
            l_U31 = 0;
            if (IS_PLAYER_PLAYING( sub_5454() ))
            {
                GET_CHAR_COORDINATES( sub_3640(), ref uVar6._fU0, ref uVar6._fU4, ref uVar6._fU8 );
                CLEAR_AREA( uVar6._fU0, uVar6._fU4, uVar6._fU8, 1000.00000000, 1 );
                PRINTSTRING( "UPDATE_UBER_PLAYBACK - called massive clear area! \n" );
            }
            l_U22 = 1;
        }
    }
    else if (NOT l_U21)
    {
        sub_23352();
        l_U31 = 1;
        l_U22 = 0;
    }
    if (l_U21)
    {
        fParam1 = 1.00000000;
    }
    if (NOT l_U12)
    {
        if (l_U3)
        {
            l_U178 = 0.00000000;
        }
        else
        {
            l_U178 = 1.00000000;
        }
        if (IS_VEH_DRIVEABLE( uParam0 ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( uParam0 ))
            {
                if (IS_PLAYER_PLAYING( sub_5454() ))
                {
                    if (sub_20476( sub_3640(), uParam0 ))
                    {
                        l_U20 = 1;
                    }
                    else
                    {
                        l_U20 = 0;
                    }
                }
                l_U175 = FIND_TIME_POSITION_IN_RECORDING( uParam0 );
                l_U242 = GET_CURRENT_PLAYBACK_NUMBER_FOR_CAR( uParam0 );
                SET_PLAYBACK_SPEED( uParam0, (fParam1 * l_U176) * l_U178 );
                if (l_U7)
                {
                    # -NULL-0xbfc99f( uParam0, 1 );
                }
                else
                {
                    # -NULL-0xbfc99f( uParam0, 0 );
                }
                if (l_U19)
                {
                    if (l_U181 > 1000.00000000)
                    {
                        sub_23773( uParam0, l_U175 );
                        sub_24378( uParam0, 100.00000000 );
                        for ( I = 0; I < 3; I++ )
                        {
                            fVar5 = TO_FLOAT( I );
                            fVar5 *= 2000.00000000;
                            fVar5 += l_U175;
                            fVar5 += 4000.00000000;
                            sub_24602( uParam0, fVar5, l_U180 );
                        }
                        l_U181 = 0.00000000;
                    }
                    else
                    {
                        GET_FRAME_TIME( ref fVar5 );
                        fVar5 *= 1000.00000000;
                        l_U181 += fVar5;
                    }
                }
            }
        }
        iVar10 = 0;
        if (IS_VEH_DRIVEABLE( uParam0 ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( uParam0 ))
            {
                iVar10 = 1;
            }
        }
        if ((IS_SCREEN_FADED_OUT()) || (l_U175 == 0))
        {
            iVar10 = 1;
        }
        if ((NOT l_U34) AND (iVar10))
        {
            if (NOT l_U0)
            {
                sub_25226( uParam0, (fParam1 * l_U176) * l_U178 );
                sub_31110( ref uParam0 );
                sub_31670( ref uParam0 );
            }
            if (l_U5)
            {
                sub_32175( uParam0 );
            }
            if (NOT l_U0)
            {
                sub_33305( uParam0, (fParam1 * l_U176) * l_U178 );
            }
        }
        if (l_U14)
        {
            if (IS_PLAYER_PLAYING( sub_5454() ))
            {
                if (IS_CHAR_IN_ANY_CAR( sub_3640() ))
                {
                    STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_3640(), ref l_U378 );
                    GET_CAR_COORDINATES( l_U378, ref l_U324._fU0, ref l_U324._fU4, ref l_U324._fU8 );
                    GET_VEHICLE_QUATERNION( l_U378, ref l_U141, ref l_U142, ref l_U143, ref l_U144 );
                }
            }
            l_U14 = 0;
        }
        if (l_U13)
        {
            if (DOES_VEHICLE_EXIST( l_U378 ))
            {
                sub_26063( l_U379 );
                l_U379 = l_U378;
            }
            if (IS_VEH_DRIVEABLE( l_U379 ))
            {
                SET_CAR_COORDINATES( l_U379, l_U324._fU0, l_U324._fU4, l_U324._fU8 );
                SET_VEHICLE_QUATERNION( l_U379, l_U141, l_U142, l_U143, l_U144 );
            }
            l_U174 = l_U177;
            l_U0 = 1;
            l_U13 = 0;
        }
        if (l_U0)
        {
            while (NOT (sub_37207( ref uParam0, l_U174 )))
            {
                WAIT( 0 );
            }
            l_U3 = 1;
        }
    }
    return;
}

void sub_23352()
{
    FLUSH_SCENARIO_BLOCKING_AREAS();
    SET_ALL_CAR_GENERATORS_BACK_TO_ACTIVE();
    sub_23375();
    OVERRIDE_NUMBER_OF_PARKED_CARS( -1 );
    SWITCH_GARBAGE_TRUCKS( 1 );
    ALLOW_EMERGENCY_SERVICES( 1 );
    SET_CAR_DENSITY_MULTIPLIER( 1.00000000 );
    return;
}

void sub_23375()
{
    int I;

    for ( I = 0; I < 20; I++ )
    {
        if (g_U8708[I]._fU60)
        {
            SWITCH_CAR_GENERATOR( g_U9029[I], 0 );
        }
        else
        {
            SWITCH_CAR_GENERATOR( g_U9029[I], 101 );
        }
    }
    return;
}

void sub_23773(unknown uParam0, unknown uParam1)
{
    int I;
    unknown uVar5;
    vector vVar6;
    vector vVar9;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;

    vVar6 = {99999.90000000, 99999.90000000, 99999.90000000};
    vVar9 = {-99999.90000000, -99999.90000000, -99999.90000000};
    sub_23822();
    for ( I = 0; I < 15; I++ )
    {
        if (IS_VEH_DRIVEABLE( uParam0 ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( uParam0 ))
            {
                uVar5 = GET_CURRENT_PLAYBACK_NUMBER_FOR_CAR( uParam0 );
                GET_POSITION_OF_CAR_RECORDING_AT_TIME( uVar5, uParam1 + ((TO_FLOAT( I - 1 )) * 2000), ref uVar12 );
                if (uVar12._fU0 < vVar6.x)
                {
                    vVar6.x = uVar12._fU0;
                }
                if (uVar12._fU4 < vVar6.y)
                {
                    vVar6.y = uVar12._fU4;
                }
                if (uVar12._fU8 < vVar6.z)
                {
                    vVar6.z = uVar12._fU8;
                }
                if (uVar12._fU0 > vVar9.x)
                {
                    vVar9.x = uVar12._fU0;
                }
                if (uVar12._fU4 > vVar9.y)
                {
                    vVar9.y = uVar12._fU4;
                }
                if (uVar12._fU8 > vVar9.z)
                {
                    vVar9.z = uVar12._fU8;
                }
            }
        }
    }
    vVar6 = {vVar6 + (vector( l_U194 * -1.00000000, l_U194 * -1.00000000, l_U194 * -1.00000000))};
    vVar9 = {vVar9 + (vector( l_U194, l_U194, l_U194))};
    l_U336 = {vVar6};
    l_U339 = {vVar9};
    SWITCH_ROADS_OFF( l_U330._fU0, l_U330._fU4, l_U330._fU8, l_U333._fU0, l_U333._fU4, l_U333._fU8 );
    SWITCH_ROADS_OFF( l_U336._fU0, l_U336._fU4, l_U336._fU8, l_U339._fU0, l_U339._fU4, l_U339._fU8 );
    return;
}

void sub_23822()
{
    SWITCH_ROADS_BACK_TO_ORIGINAL( l_U336._fU0, l_U336._fU4, l_U336._fU8, l_U339._fU0, l_U339._fU4, l_U339._fU8 );
    SWITCH_ROADS_BACK_TO_ORIGINAL( l_U330._fU0, l_U330._fU4, l_U330._fU8, l_U333._fU0, l_U333._fU4, l_U333._fU8 );
    return;
}

void sub_24378(unknown uParam0, unknown uParam1)
{
    vector vVar4;
    vector vVar7;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;

    if (NOT l_U22)
    {
        if (NOT (IS_CAR_DEAD( uParam0 )))
        {
            if (IS_PLAYER_PLAYING( sub_5454() ))
            {
                GET_CAR_COORDINATES( uParam0, ref vVar4.x, ref vVar4.y, ref vVar4.z );
                GET_CHAR_COORDINATES( sub_3640(), ref vVar7.x, ref vVar7.y, ref vVar7.z );
                uVar10 = {vVar4 - vVar7};
                if ((VMAG2( uVar10 )) > (uParam1 * uParam1))
                {
                    SET_CAR_DENSITY_MULTIPLIER( 1.00000000 );
                }
                else
                {
                    SET_CAR_DENSITY_MULTIPLIER( 0.00000000 );
                }
            }
        }
    }
    return;
}

void sub_24602(unknown uParam0, unknown uParam1, float fParam2)
{
    unknown uVar5;
    vector vVar6;
    vector vVar9;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    float fVar15;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( uParam0 ))
        {
            uVar5 = GET_CURRENT_PLAYBACK_NUMBER_FOR_CAR( uParam0 );
            GET_POSITION_OF_CAR_RECORDING_AT_TIME( uVar5, uParam1, ref vVar6 );
            GET_CAR_COORDINATES( uParam0, ref vVar9.x, ref vVar9.y, ref vVar9.z );
            uVar12 = {vVar9 - vVar6};
            fVar15 = VMAG( uVar12 );
            if (fVar15 > fParam2)
            {
                fVar15 = fParam2;
            }
            sub_24731( vVar6, fVar15 );
        }
    }
    return;
}

void sub_24731(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    boolean bVar6;
    unknown uVar7;

    if (NOT l_U22)
    {
        if (NOT (sub_24759( uParam0, uParam3, 150.00000000 )))
        {
            bVar6 = true;
            if (IS_PLAYER_PLAYING( sub_5454() ))
            {
                GET_PLAYERS_LAST_CAR_NO_SAVE( ref uVar7 );
                if (DOES_VEHICLE_EXIST( uVar7 ))
                {
                    if (NOT (IS_CAR_DEAD( uVar7 )))
                    {
                        if (LOCATE_CAR_3D( uVar7, uParam0._fU0, uParam0._fU4, uParam0._fU8, uParam3, uParam3, uParam3, 0 ))
                        {
                            bVar6 = false;
                        }
                    }
                }
            }
            if (bVar6)
            {
                CLEAR_AREA_OF_CARS( uParam0._fU0, uParam0._fU4, uParam0._fU8, uParam3 );
            }
        }
    }
    return;
}

int sub_24759(vector vParam0, unknown uParam3, float fParam4)
{
    unknown uVar7;
    vector vVar8;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;

    if (NOT IS_SCREEN_FADED_OUT())
    {
        if (NOT l_U22)
        {
            if (NOT l_U0)
            {
                GET_GAME_VIEWPORT_ID( ref uVar7 );
                if (CAM_IS_SPHERE_VISIBLE( uVar7, vParam0.x, vParam0.y, vParam0.z, uParam3 ))
                {
                    if (IS_PLAYER_PLAYING( sub_5454() ))
                    {
                        GET_CHAR_COORDINATES( sub_3640(), ref vVar8.x, ref vVar8.y, ref vVar8.z );
                        uVar11 = {vVar8 - vParam0};
                        if (((VMAG( uVar11 )) - uParam3) < fParam4)
                        {
                            return 1;
                        }
                    }
                }
            }
        }
    }
    return 0;
}

void sub_25226(unknown uParam0, unknown uParam1)
{
    int I;
    int iVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    float fVar14;
    unknown uVar15;
    boolean bVar16;
    boolean bVar17;
    int iVar18;

    l_U244 = 0;
    iVar5 = 0;
    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        for ( I = 0; I < 15; I++ )
        {
            if (I < l_U243)
            {
                I = l_U243;
            }
            if (l_U211[I] == 0)
            {
                if ((NOT (l_U250[I] == 0)) AND ((l_U195[I] < 3000) AND (l_U195[I] > 0)))
                {
                    if (NOT l_U0)
                    {
                        if (l_U175 > (l_U125[I] - (7000.00000000 * uParam1)))
                        {
                            l_U249++;
                            l_U211[I]++;
                        }
                        else if (iVar5 > 3)
                        {
                            return;
                        }
                        else
                        {
                            iVar5++;
                        }
                    }
                    else
                    {
                        fVar14 = l_U175 - l_U125[I];
                        if (fVar14 >= 0.00000000)
                        {
                            if (fVar14 < (sub_25496( l_U195[I] )))
                            {
                                l_U249++;
                                l_U211[I]++;
                            }
                            else
                            {
                                sub_25622( I, 1090519040 );
                            }
                        }
                    }
                }
                else
                {
                    sub_25622( I, 1090519040 );
                }
            }
            if (l_U211[I] == 1)
            {
                if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( l_U195[I] )))
                {
                    REQUEST_CAR_RECORDING( l_U195[I] );
                }
                else if (l_U250[I] == sub_26342())
                {
                    if (HAS_MODEL_LOADED( sub_26370() ))
                    {
                        l_U211[I]++;
                    }
                    else
                    {
                        REQUEST_MODEL( sub_26370() );
                    }
                }
                else if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
                {
                    l_U211[I]++;
                }
                else if (HAS_MODEL_LOADED( sub_26485() ))
                {
                    l_U211[I]++;
                }
                else
                {
                    REQUEST_MODEL( sub_26485() );
                };;;;
            }
            if (l_U211[I] == 2)
            {
                if (HAS_MODEL_LOADED( l_U250[I] ))
                {
                    if (NOT (DOES_VEHICLE_EXIST( l_U342[I] )))
                    {
                        bVar16 = false;
                        if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
                        {
                            bVar16 = true;
                        }
                        else if (HAS_MODEL_LOADED( sub_26485() ))
                        {
                            bVar16 = true;
                        }
                        else
                        {
                            REQUEST_MODEL( sub_26485() );
                        }
                        if (bVar16)
                        {
                            bVar17 = false;
                            if ((NOT (sub_26728( l_U270[I] ))) AND (NOT (sub_24759( l_U270[I], 5.00000000, 1120403456 ))))
                            {
                                bVar17 = true;
                            }
                            if (l_U26)
                            {
                                bVar17 = true;
                            }
                            if (bVar17)
                            {
                                if (l_U19)
                                {
                                    sub_24731( l_U270[I], l_U180 );
                                }
                                CREATE_CAR( l_U250[I], l_U270[I]._fU0, l_U270[I]._fU4, l_U270[I]._fU8, ref l_U342[I], 1 );
                                if (l_U250[I] == sub_26342())
                                {
                                    CREATE_CHAR_INSIDE_CAR( l_U342[I], 6, sub_26370(), ref uVar6 );
                                    SET_CHAR_RELATIONSHIP_GROUP( uVar6, 23 );
                                    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_26370() );
                                }
                                else if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
                                {
                                    CREATE_RANDOM_CHAR_AS_DRIVER( l_U342[I], ref uVar6 );
                                }
                                else
                                {
                                    CREATE_CHAR_INSIDE_CAR( l_U342[I], 4, sub_26485(), ref uVar6 );
                                    SET_CHAR_RANDOM_COMPONENT_VARIATION( uVar6 );
                                    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_26485() );
                                }
                                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( uVar6, 1 );
                                SET_VEHICLE_QUATERNION( l_U342[I], l_U61[I], l_U77[I], l_U93[I], l_U109[I] );
                                FREEZE_CAR_POSITION( l_U342[I], 1 );
                                SET_CAR_ONLY_DAMAGED_BY_PLAYER( l_U342[I], 1 );
                                SET_CAR_COLLISION( l_U342[I], 0 );
                                MARK_MODEL_AS_NO_LONGER_NEEDED( l_U250[I] );
                                sub_27248( l_U342[I] );
                                GET_INTERIOR_FROM_CAR( l_U342[I], ref iVar18 );
                                if (NOT (iVar18 == nil))
                                {
                                    # -NULL-0xbfc5b5( l_U342[I] );
                                }
                                l_U249--;
                                l_U211[I]++;
                            }
                            else if (l_U175 > l_U125[I])
                            {
                                l_U249--;
                                sub_25622( I, 1090519040 );
                            }
                        }
                    }
                }
                else
                {
                    REQUEST_MODEL( l_U250[I] );
                }
            }
            if (l_U211[I] == 3)
            {
                if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( l_U195[I] )))
                {
                    REQUEST_CAR_RECORDING( l_U195[I] );
                }
                if (IS_VEH_DRIVEABLE( l_U342[I] ))
                {
                    if (l_U175 > l_U125[I])
                    {
                        if (8 > l_U233)
                        {
                            if (IS_VEH_DRIVEABLE( uParam0 ))
                            {
                                if (IS_PLAYBACK_GOING_ON_FOR_CAR( uParam0 ))
                                {
                                    l_U175 = FIND_TIME_POSITION_IN_RECORDING( uParam0 );
                                }
                            }
                            fVar14 = l_U175 - l_U125[I];
                            if (HAS_CAR_RECORDING_BEEN_LOADED( l_U195[I] ))
                            {
                                if (fVar14 < (GET_TOTAL_DURATION_OF_CAR_RECORDING( l_U195[I] )))
                                {
                                    GET_CAR_COORDINATES( l_U342[I], ref uVar8._fU0, ref uVar8._fU4, ref uVar8._fU8 );
                                    GET_POSITION_OF_CAR_RECORDING_AT_TIME( l_U195[I], fVar14, ref uVar11 );
                                    if ((sub_24759( uVar11, 5.00000000, 1120403456 )) AND (NOT (sub_24759( uVar8, 5.00000000, 1120403456 ))))
                                    {
                                        sub_25622( I, 1090519040 );
                                    }
                                    else if (sub_27837( ref l_U342[I], l_U195[I], fVar14, 1, 0, 0 ))
                                    {
                                        SET_CAR_COLLISION( l_U342[I], 1 );
                                        SET_PLAYBACK_SPEED( l_U342[I], uParam1 );
                                        sub_28203( ref l_U342[I] );
                                        l_U233++;
                                        l_U211[I]++;
                                    }
                                }
                                else
                                {
                                    PRINTSTRING( "Traffic car removed from processing (check A) car = " );
                                    PRINTINT( I );
                                    PRINTSTRING( "/n" );
                                    sub_25622( I, 1090519040 );
                                }
                            }
                        }
                        else
                        {
                            PRINTSTRING( "Traffic car removed from processing (check B) car = " );
                            PRINTINT( I );
                            PRINTSTRING( "/n" );
                            sub_25622( I, 1090519040 );
                        }
                    }
                    else if ((NOT l_U35) AND (l_U20))
                    {
                        PRINTSTRING( "Traffic car removed from processing (check C) car = " );
                        PRINTINT( I );
                        PRINTSTRING( "/n" );
                        sub_25622( I, 1090519040 );
                    }
                }
                else
                {
                    PRINTSTRING( "Traffic car removed from processing (check D) car = " );
                    PRINTINT( I );
                    PRINTSTRING( "/n" );
                    sub_25622( I, 1090519040 );
                }
            }
            if (l_U211[I] == 4)
            {
                if (IS_VEH_DRIVEABLE( l_U342[I] ))
                {
                    SET_CAR_COLLISION( l_U342[I], 1 );
                    if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U342[I] ))
                    {
                        GET_DRIVER_OF_CAR( l_U342[I], ref uVar6 );
                        if (DOES_CHAR_EXIST( uVar6 ))
                        {
                            if (NOT (IS_CHAR_INJURED( uVar6 )))
                            {
                                if (IS_PLAYER_PLAYING( sub_5454() ))
                                {
                                    if ((NOT l_U15) AND ((NOT l_U3) AND ((NOT l_U6) AND (IS_CHAR_TOUCHING_VEHICLE( sub_3640(), l_U342[I] )))))
                                    {
                                        if (IS_CHAR_IN_ANY_CAR( sub_3640() ))
                                        {
                                            bVar16 = false;
                                            STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_3640(), ref uVar7 );
                                            if (NOT (sub_29051( l_U342[I], uVar7 )))
                                            {
                                                bVar16 = true;
                                            }
                                            if (NOT bVar16)
                                            {
                                                if (sub_29213( uVar7, l_U342[I] ))
                                                {
                                                    bVar16 = true;
                                                }
                                            }
                                            if (bVar16)
                                            {
                                                sub_29444( l_U342[I] );
                                                l_U211[I]++;
                                            }
                                        }
                                    }
                                    else if (sub_29213( l_U342[I], uParam0 ))
                                    {
                                        SET_PLAYBACK_SPEED( l_U342[I], uParam1 );
                                    }
                                    else if ((NOT l_U15) AND (sub_29571( uParam0, l_U342[I] )))
                                    {
                                        sub_29444( l_U342[I] );
                                        l_U211[I]++;
                                    }
                                    else
                                    {
                                        SET_PLAYBACK_SPEED( l_U342[I], uParam1 );
                                    }
                                    if (l_U8)
                                    {
                                        # -NULL-0xbfc99f( l_U342[I], 1 );
                                    }
                                    else
                                    {
                                        # -NULL-0xbfc99f( l_U342[I], 0 );
                                    }
                                }
                            }
                            else
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U342[I] );
                            }
                        }
                        else
                        {
                            STOP_PLAYBACK_RECORDED_CAR( l_U342[I] );
                        }
                    }
                    else
                    {
                        l_U211[I]++;
                    }
                }
                else
                {
                    l_U211[I]++;
                }
            }
            if (l_U211[I] == 5)
            {
                if (IS_VEH_DRIVEABLE( l_U342[I] ))
                {
                    if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U342[I] )))
                    {
                        l_U211[I]++;
                    }
                    else
                    {
                        GET_DRIVER_OF_CAR( l_U342[I], ref uVar6 );
                        if (DOES_CHAR_EXIST( uVar6 ))
                        {
                            if (NOT (IS_CHAR_INJURED( uVar6 )))
                            {
                                SET_PLAYBACK_SPEED( l_U342[I], uParam1 );
                                if (l_U8)
                                {
                                    # -NULL-0xbfc99f( l_U342[I], 1 );
                                }
                                else
                                {
                                    # -NULL-0xbfc99f( l_U342[I], 0 );
                                }
                            }
                            else
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U342[I] );
                            }
                        }
                        else
                        {
                            STOP_PLAYBACK_RECORDED_CAR( l_U342[I] );
                        }
                        if (HAS_CAR_RECORDING_BEEN_LOADED( l_U195[I] ))
                        {
                            if (l_U175 > (l_U125[I] + (GET_TOTAL_DURATION_OF_CAR_RECORDING( l_U195[I] ))))
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U342[I] );
                            }
                        }
                        else
                        {
                            STOP_PLAYBACK_RECORDED_CAR( l_U342[I] );
                        }
                    }
                }
                else
                {
                    l_U211[I]++;
                }
            }
            if (l_U211[I] == 6)
            {
                if (NOT (IS_CAR_DEAD( l_U342[I] )))
                {
                    GET_CAR_SPEED( l_U342[I], ref uVar15 );
                }
                sub_30678( ref l_U342[I] );
                l_U233--;
                sub_25622( I, uVar15 );
            }
            l_U244++;
        }
    }
    else
    {
        sub_30837();
    }
    return;
}

void sub_25496(unknown uParam0)
{
    unknown Result;

    REQUEST_CAR_RECORDING( uParam0 );
    while (NOT (HAS_CAR_RECORDING_BEEN_LOADED( uParam0 )))
    {
        WAIT( 0 );
    }
    Result = GET_TOTAL_DURATION_OF_CAR_RECORDING( uParam0 );
    REMOVE_CAR_RECORDING( uParam0 );
    return Result;
}

void sub_25622(int iParam0, float fParam1)
{
    int I;
    unknown uVar5;

    if (NOT (l_U250[iParam0] == 0))
    {
        MARK_MODEL_AS_NO_LONGER_NEEDED( l_U250[iParam0] );
    }
    if (DOES_VEHICLE_EXIST( l_U342[iParam0] ))
    {
        if (IS_VEH_DRIVEABLE( l_U342[iParam0] ))
        {
            GET_DRIVER_OF_CAR( l_U342[iParam0], ref uVar5 );
            if (DOES_CHAR_EXIST( uVar5 ))
            {
                if (NOT (IS_CHAR_INJURED( uVar5 )))
                {
                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( uVar5, 0 );
                }
            }
        }
    }
    if (IS_VEH_DRIVEABLE( l_U342[iParam0] ))
    {
        sub_25792( l_U342[iParam0] );
        SET_CAR_COLLISION( l_U342[iParam0], 1 );
        FREEZE_CAR_POSITION( l_U342[iParam0], 0 );
    }
    if (NOT l_U4)
    {
        if (DOES_CHAR_EXIST( uVar5 ))
        {
            if (NOT (IS_CHAR_INJURED( uVar5 )))
            {
                if (fParam1 < 8.00000000)
                {
                    fParam1 = 8.00000000;
                }
                SET_DRIVE_TASK_CRUISE_SPEED( uVar5, fParam1 );
            }
            sub_26029( uVar5 );
        }
        sub_26063( l_U342[iParam0] );
    }
    else if (DOES_CHAR_EXIST( uVar5 ))
    {
        DELETE_CHAR( ref uVar5 );
    }
    if (DOES_VEHICLE_EXIST( l_U342[iParam0] ))
    {
        DELETE_CAR( ref l_U342[iParam0] );
    }
    if (iParam0 >= l_U243)
    {
        for ( I = 0; I < 15; I++ )
        {
            if (NOT (l_U211[I] == 99))
            {
                if (iParam0 == I)
                {
                    if (iParam0 < 14)
                    {
                        l_U243 = iParam0 + 1;
                    }
                }
                I = 15;
            }
        }
    }
    l_U211[iParam0] = 99;
    return;
}

void sub_25792(unknown uParam0)
{
    float fVar3;
    int iVar4;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_DRIVER_OF_CAR( uParam0, ref iVar4 );
        if (DOES_CHAR_EXIST( iVar4 ))
        {
            if (NOT (IS_CHAR_INJURED( iVar4 )))
            {
                if (NOT (iVar4 == sub_3640()))
                {
                    GET_CAR_SPEED( uParam0, ref fVar3 );
                    if (fVar3 < 8.00000000)
                    {
                        fVar3 = 8.00000000;
                    }
                    TASK_CAR_MISSION( iVar4, uParam0, 0, 1, fVar3, 0, 5, 5 );
                }
            }
        }
    }
    return;
}

void sub_26029(unknown uParam0)
{
    MARK_CHAR_AS_NO_LONGER_NEEDED( ref uParam0 );
    return;
}

void sub_26063(unknown uParam0)
{
    MARK_CAR_AS_NO_LONGER_NEEDED( ref uParam0 );
    return;
}

int sub_26342()
{
    return 2046537925;
}

int sub_26370()
{
    return -183203150;
}

int sub_26485()
{
    return -2139064254;
}

int sub_26728(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 8; I++ )
    {
        if (IS_VEH_DRIVEABLE( l_U36[I] ))
        {
            if (LOCATE_CAR_3D( l_U36[I], uParam0._fU0, uParam0._fU4, uParam0._fU8, 4.00000000, 4.00000000, 4.00000000, 0 ))
            {
                return 1;
            }
        }
    }
    return 0;
}

int sub_27248(unknown uParam0)
{
    unknown uVar3;

    if (DOES_VEHICLE_EXIST( uParam0 ))
    {
        if (NOT (IS_CAR_DEAD( uParam0 )))
        {
            GET_CAR_MODEL( uParam0, ref uVar3 );
            if ((IS_THIS_MODEL_A_BIKE( uVar3 )) || (IS_THIS_MODEL_A_CAR( uVar3 )))
            {
                return SET_CAR_ON_GROUND_PROPERLY( uParam0 );
            }
        }
    }
    return 0;
}

int sub_27837(unknown uParam0, int iParam1, unknown uParam2, boolean bParam3, boolean bParam4, unknown uParam5)
{
    unknown uVar8;

    if ((iParam1 < 3000) AND (iParam1 > 0))
    {
        if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( iParam1 )))
        {
            REQUEST_CAR_RECORDING( iParam1 );
        }
        else if (IS_VEH_DRIVEABLE( (uParam0^) ))
        {
            if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( (uParam0^) )))
            {
                FREEZE_CAR_POSITION( (uParam0^), 0 );
                if (bParam4)
                {
                    START_PLAYBACK_RECORDED_CAR_USING_AI( (uParam0^), iParam1 );
                }
                else
                {
                    START_PLAYBACK_RECORDED_CAR( (uParam0^), iParam1 );
                    SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( (uParam0^), uParam2 );
                    return 1;
                }
            }
            else if ((GET_CURRENT_PLAYBACK_NUMBER_FOR_CAR( (uParam0^) )) == iParam1)
            {
                uVar8 = FIND_TIME_POSITION_IN_RECORDING( (uParam0^) );
                SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( (uParam0^), uParam2 - uVar8 );
                if (NOT bParam3)
                {
                    STOP_PLAYBACK_RECORDED_CAR( (uParam0^) );
                    REQUEST_CAR_RECORDING( iParam1 );
                }
                return 1;
            }
            else
            {
                STOP_PLAYBACK_RECORDED_CAR( (uParam0^) );
                FREEZE_CAR_POSITION( (uParam0^), 0 );
                if (bParam4)
                {
                    START_PLAYBACK_RECORDED_CAR_USING_AI( (uParam0^), iParam1 );
                }
                else
                {
                    START_PLAYBACK_RECORDED_CAR( (uParam0^), iParam1 );
                }
                SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( (uParam0^), uParam2 );
                return 1;
            }
        }
    }
    return 0;
}

void sub_28203(unknown uParam0)
{
    int iVar3;

    if (l_U16)
    {
        if (IS_VEH_DRIVEABLE( (uParam0^) ))
        {
            iVar3 = sub_28235();
            if (NOT (iVar3 == -1))
            {
                l_U36[iVar3] = (uParam0^);
                if (IS_VEH_DRIVEABLE( l_U36[iVar3] ))
                {
                    ADD_BLIP_FOR_CAR( l_U36[iVar3], ref l_U45[iVar3] );
                }
            }
        }
    }
    return;
}

int sub_28235()
{
    int Result;

    for ( Result = 0; Result < 8; Result++ )
    {
        if (NOT (DOES_VEHICLE_EXIST( l_U36[Result] )))
        {
            return Result;
        }
    }
    return -1;
}

int sub_29051(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    float fVar10;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_SPEED_VECTOR( uParam0, ref uVar4, 0 );
    }
    else
    {
        return 0;
    }
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_CAR_SPEED_VECTOR( uParam1, ref uVar7, 0 );
    }
    else
    {
        return 0;
    }
    uVar4._fU8 = 0.00000000;
    uVar7._fU8 = 0.00000000;
    fVar10 = sub_20697( ref uVar4, ref uVar7 );
    if (fVar10 < 0.00000000)
    {
        return 0;
    }
    return 1;
}

int sub_29213(unknown uParam0, unknown uParam1)
{
    vector vVar4;
    vector vVar7;
    vector vVar10;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    float fVar19;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_COORDINATES( uParam0, ref vVar4.x, ref vVar4.y, ref vVar4.z );
    }
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_CAR_COORDINATES( uParam1, ref vVar7.x, ref vVar7.y, ref vVar7.z );
    }
    uVar13 = {vVar7 - vVar4};
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( uParam1, 0.00000000, 5.00000000, 0.00000000, ref vVar10.x, ref vVar10.y, ref vVar10.z );
        uVar16 = {vVar10 - vVar7};
    }
    uVar13._fU8 = 0.00000000;
    uVar16._fU8 = 0.00000000;
    fVar19 = sub_20697( ref uVar13, ref uVar16 );
    if (fVar19 < 0.00000000)
    {
        return 1;
    }
    return 0;
}

void sub_29444(unknown uParam0)
{
    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        sub_25792( uParam0 );
        CHANGE_PLAYBACK_TO_USE_AI( uParam0 );
    }
    return;
}

int sub_29571(unknown uParam0, unknown uParam1)
{
    float fVar4;
    float fVar5;

    fVar4 = sub_29584( uParam0, uParam1 );
    fVar5 = sub_29808( uParam0, uParam1 );
    if (fVar4 > fVar5)
    {
        return 1;
    }
    return 0;
}

float sub_29584(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    vector vVar10;
    vector vVar13;
    float fVar16;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_FORWARD_X( uParam0, ref uVar4._fU0 );
        GET_CAR_FORWARD_Y( uParam0, ref uVar4._fU4 );
        GET_CAR_COORDINATES( uParam0, ref vVar10.x, ref vVar10.y, ref vVar10.z );
    }
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_CAR_COORDINATES( uParam1, ref vVar13.x, ref vVar13.y, ref vVar13.z );
    }
    uVar7 = {vVar13 - vVar10};
    GET_ANGLE_BETWEEN_2D_VECTORS( uVar7._fU0, uVar7._fU4, uVar4._fU0, uVar4._fU4, ref fVar16 );
    fVar16 += -90.00000000;
    if (fVar16 < 0.00000000)
    {
        fVar16 *= -1.00000000;
    }
    uVar7._fU8 = 0.00000000;
    return (VMAG( uVar7 )) * (SIN( fVar16 ));
}

float sub_29808(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    vector vVar10;
    vector vVar13;
    float fVar16;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_FORWARD_X( uParam0, ref uVar4._fU0 );
        GET_CAR_FORWARD_Y( uParam0, ref uVar4._fU4 );
        GET_CAR_COORDINATES( uParam0, ref vVar10.x, ref vVar10.y, ref vVar10.z );
    }
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_CAR_COORDINATES( uParam1, ref vVar13.x, ref vVar13.y, ref vVar13.z );
    }
    uVar7 = {vVar13 - vVar10};
    GET_ANGLE_BETWEEN_2D_VECTORS( uVar7._fU0, uVar7._fU4, uVar4._fU0, uVar4._fU4, ref fVar16 );
    fVar16 += -90.00000000;
    if (fVar16 < 0.00000000)
    {
        fVar16 *= -1.00000000;
    }
    uVar7._fU8 = 0.00000000;
    return (VMAG( uVar7 )) * (COS( fVar16 ));
}

void sub_30678(unknown uParam0)
{
    int I;

    for ( I = 0; I < 8; I++ )
    {
        if (l_U36[I] == (uParam0^))
        {
            l_U36[I] = nil;
            if (DOES_BLIP_EXIST( l_U45[I] ))
            {
                REMOVE_BLIP( l_U45[I] );
            }
            return;
        }
    }
    return;
}

void sub_30837()
{
    int I;

    for ( I = 0; I < 15; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U342[I] ))
        {
            if (NOT (IS_CAR_DEAD( l_U342[I] )))
            {
                SET_CAR_COLLISION( l_U342[I], 1 );
            }
            if (IS_VEH_DRIVEABLE( l_U342[I] ))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U342[I] ))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U342[I] );
                }
            }
            sub_25792( l_U342[I] );
            sub_26063( l_U342[I] );
        }
        l_U211[I] = 0;
    }
    for ( I = 0; I < 15; I++ )
    {
        if (NOT (l_U250[I] == 0))
        {
            MARK_MODEL_AS_NO_LONGER_NEEDED( l_U250[I] );
        }
    }
    l_U243 = 0;
    l_U233 = 0;
    return;
}

void sub_31110(unknown uParam0)
{
    int I;
    int iVar4;
    int iVar5;
    unknown uVar6;

    iVar4 = l_U243 - 5;
    iVar5 = iVar4 + 15;
    if (l_U384 > 4000.00000000)
    {
        if (IS_PLAYER_PLAYING( sub_5454() ))
        {
            if (IS_CHAR_IN_ANY_CAR( sub_3640() ))
            {
                STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_3640(), ref uVar6 );
            }
            for ( I = 0; I < 15; I++ )
            {
                if (I < iVar4)
                {
                    I = iVar4;
                }
                if (DOES_VEHICLE_EXIST( l_U342[I] ))
                {
                    if (IS_VEH_DRIVEABLE( l_U342[I] ))
                    {
                        if ((sub_31277( l_U342[I], uVar6 )) || (sub_31277( l_U342[I], (uParam0^) )))
                        {
                            SOUND_CAR_HORN( l_U342[I], 3000 );
                            l_U384 = 0.00000000;
                        }
                    }
                }
                if (I >= iVar5)
                {
                    I = 15;
                }
            }
        }
    }
    return;
}

int sub_31277(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;

    if ((DOES_VEHICLE_EXIST( uParam1 )) AND (DOES_VEHICLE_EXIST( uParam0 )))
    {
        if (IS_VEH_DRIVEABLE( uParam0 ))
        {
            if (IS_VEH_DRIVEABLE( uParam1 ))
            {
                if (NOT (sub_29051( uParam0, uParam1 )))
                {
                    GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( uParam0, 0.00000000, 25.00000000, 0.00000000, ref uVar4._fU0, ref uVar4._fU4, ref uVar4._fU8 );
                    GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( uParam0, 0.00000000, 20.00000000, 0.00000000, ref uVar7._fU0, ref uVar7._fU4, ref uVar7._fU8 );
                    GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( uParam0, 0.00000000, 15.00000000, 0.00000000, ref uVar10._fU0, ref uVar10._fU4, ref uVar10._fU8 );
                    if ((LOCATE_CAR_3D( uParam1, uVar4._fU0, uVar4._fU4, uVar4._fU8, 5.00000000, 5.00000000, 5.00000000, 0 )) || ((LOCATE_CAR_3D( uParam1, uVar4._fU0, uVar4._fU4, uVar4._fU8, 5.00000000, 5.00000000, 5.00000000, 0 )) || (LOCATE_CAR_3D( uParam1, uVar4._fU0, uVar4._fU4, uVar4._fU8, 5.00000000, 5.00000000, 5.00000000, 0 ))))
                    {
                        return 1;
                    }
                }
            }
        }
    }
    return 0;
}

void sub_31670(unknown uParam0)
{
    int I;
    int iVar4;
    int iVar5;
    unknown uVar6;

    iVar4 = l_U243 - 5;
    iVar5 = iVar4 + 15;
    if (IS_PLAYER_PLAYING( sub_5454() ))
    {
        switch (l_U382)
        {
            case 0:
            if (l_U385 > 3000.00000000)
            {
                if (IS_CHAR_IN_ANY_CAR( sub_3640() ))
                {
                    STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_3640(), ref uVar6 );
                }
                for ( I = 0; I < 15; I++ )
                {
                    if (I < iVar4)
                    {
                        I = iVar4;
                    }
                    if (DOES_VEHICLE_EXIST( l_U342[I] ))
                    {
                        if (IS_VEH_DRIVEABLE( l_U342[I] ))
                        {
                            if ((sub_31277( l_U342[I], uVar6 )) || (sub_31277( l_U342[I], (uParam0^) )))
                            {
                                l_U381 = l_U342[I];
                                l_U385 = 0.00000000;
                                I = 15;
                                l_U382++;
                            }
                        }
                    }
                    if (I >= iVar5)
                    {
                        I = 15;
                    }
                }
            }
            break;
            case 1:
            if (IS_VEH_DRIVEABLE( l_U381 ))
            {
                if (l_U385 < 1000.00000000)
                {
                    if (l_U386 > 100.00000000)
                    {
                        if (NOT l_U383)
                        {
                            SET_CAR_LIGHT_MULTIPLIER( l_U381, 2.00000000 );
                            l_U383 = 1;
                        }
                        else
                        {
                            SET_CAR_LIGHT_MULTIPLIER( l_U381, 1.00000000 );
                            l_U383 = 0;
                        }
                        l_U386 = 0.00000000;
                    }
                }
                else
                {
                    SET_CAR_LIGHT_MULTIPLIER( l_U381, 1.00000000 );
                    l_U382 = 0;
                    l_U385 = 0.00000000;
                    l_U383 = 0;
                }
            }
            else
            {
                l_U382 = 0;
                l_U385 = 0.00000000;
                l_U383 = 0;
            }
            break;
        }
    }
    return;
}

void sub_32175(unknown uParam0)
{
    int I;
    int iVar4;

    l_U246 = 0;
    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        for ( I = 0; I < 1; I++ )
        {
            if (I < l_U245)
            {
                I = l_U245;
            }
            if (l_U231[I] == 0)
            {
                if (NOT (l_U266[I] == 0))
                {
                    if (LOCATE_CAR_2D( uParam0, l_U316[I]._fU0, l_U316[I]._fU4, l_U172, l_U172, 0 ))
                    {
                        l_U247++;
                        l_U231[I]++;
                    }
                }
                else
                {
                    sub_32355( I );
                }
            }
            if (l_U231[I] == 1)
            {
                if (6 > l_U236)
                {
                    if (HAS_MODEL_LOADED( l_U266[I] ))
                    {
                        if (NOT (DOES_VEHICLE_EXIST( l_U367[I] )))
                        {
                            if ((l_U26) || ((l_U0) || (NOT (sub_24759( l_U316[I], 5.00000000, 1120403456 )))))
                            {
                                if (l_U19)
                                {
                                    sub_24731( l_U316[I], l_U180 );
                                }
                                CREATE_CAR( l_U266[I], l_U316[I]._fU0, l_U316[I]._fU4, l_U316[I]._fU8, ref l_U367[I], 1 );
                                SET_VEHICLE_QUATERNION( l_U367[I], l_U157[I], l_U159[I], l_U161[I], l_U163[I] );
                                MARK_MODEL_AS_NO_LONGER_NEEDED( l_U266[I] );
                                if (IS_CAR_MODEL( l_U367[I], sub_26342() ))
                                {
                                    SWITCH_CAR_SIREN( l_U367[I], 1 );
                                }
                                if (IS_CAR_MODEL( l_U367[I], sub_32786() ))
                                {
                                    CHANGE_CAR_COLOUR( l_U367[I], 0, 0 );
                                }
                                GET_INTERIOR_FROM_CAR( l_U367[I], ref iVar4 );
                                if (NOT (iVar4 == nil))
                                {
                                    # -NULL-0xbfc5b5( l_U367[I] );
                                }
                                l_U247--;
                                l_U236++;
                                l_U231[I]++;
                            }
                        }
                    }
                    else
                    {
                        REQUEST_MODEL( l_U266[I] );
                    }
                }
            }
            if (l_U231[I] == 2)
            {
                if (NOT (sub_29213( l_U367[I], uParam0 )))
                {
                    if (NOT l_U4)
                    {
                        sub_26063( l_U367[I] );
                    }
                    else
                    {
                        DELETE_CAR( ref l_U367[I] );
                    }
                    l_U236--;
                    sub_32355( I );
                }
            }
            l_U246++;
            if (l_U246 >= 15)
            {
                return;
            }
        }
    }
    else
    {
        sub_33090();
    }
    return;
}

void sub_32355(int iParam0)
{
    int I;

    if (iParam0 >= l_U245)
    {
        for ( I = 0; I < 1; I++ )
        {
            if (NOT (l_U231[I] == 99))
            {
                if (iParam0 == I)
                {
                    if (iParam0 < 0)
                    {
                        l_U245 = iParam0 + 1;
                    }
                }
                I = 1;
            }
        }
    }
    l_U231[iParam0] = 99;
    return;
}

int sub_32786()
{
    return 1264341792;
}

void sub_33090()
{
    int I;

    for ( I = 0; I < 1; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U367[I] ))
        {
            if (NOT (IS_CAR_DEAD( l_U367[I] )))
            {
                SET_CAR_COLLISION( l_U367[I], 1 );
            }
            sub_26063( l_U367[I] );
        }
    }
    for ( I = 0; I < 1; I++ )
    {
        if (NOT (l_U266[I] == 0))
        {
            MARK_MODEL_AS_NO_LONGER_NEEDED( l_U266[I] );
        }
    }
    l_U245 = 0;
    l_U236 = 0;
    return;
}

void sub_33305(unknown uParam0, unknown uParam1)
{
    int I;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    float fVar13;
    float fVar14;
    boolean bVar15;
    int iVar16;
    int iVar17;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        for ( I = 0; I < 1; I++ )
        {
            if ((NOT (l_U268[I] == 0)) AND ((l_U227[I] < 3000) AND (l_U227[I] > 0)))
            {
                if (l_U229[I] == 0)
                {
                    if (NOT l_U0)
                    {
                        if (l_U175 > (l_U153[I] - (7000.00000000 * uParam1)))
                        {
                            l_U229[I]++;
                            l_U248++;
                        }
                    }
                    else
                    {
                        fVar13 = l_U175 - l_U153[I];
                        fVar13 *= l_U155[I];
                        if (fVar13 >= 0.00000000)
                        {
                            if (fVar13 < (sub_25496( l_U227[I] )))
                            {
                                l_U229[I]++;
                                l_U248++;
                            }
                            else
                            {
                                l_U229[I] = 99;
                            }
                        }
                    }
                }
                if (l_U229[I] == 1)
                {
                    if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( l_U227[I] )))
                    {
                        REQUEST_CAR_RECORDING( l_U227[I] );
                    }
                    else if (l_U268[I] == sub_26342())
                    {
                        if (HAS_MODEL_LOADED( sub_26370() ))
                        {
                            l_U229[I]++;
                        }
                        else
                        {
                            REQUEST_MODEL( sub_26370() );
                        }
                    }
                    else if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
                    {
                        l_U229[I]++;
                    }
                    else if (HAS_MODEL_LOADED( sub_26485() ))
                    {
                        l_U229[I]++;
                    }
                    else
                    {
                        REQUEST_MODEL( sub_26485() );
                    };;;;
                }
                if (l_U229[I] == 2)
                {
                    if (HAS_MODEL_LOADED( l_U268[I] ))
                    {
                        if (NOT (DOES_VEHICLE_EXIST( l_U369[I] )))
                        {
                            bVar15 = false;
                            if (l_U268[I] == sub_26342())
                            {
                                if (HAS_MODEL_LOADED( sub_26370() ))
                                {
                                    bVar15 = true;
                                }
                                else
                                {
                                    REQUEST_MODEL( sub_26370() );
                                }
                            }
                            else if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
                            {
                                bVar15 = true;
                            }
                            else if (HAS_MODEL_LOADED( sub_26485() ))
                            {
                                bVar15 = true;
                            }
                            else
                            {
                                REQUEST_MODEL( sub_26485() );
                            };;;
                            if (bVar15)
                            {
                                if ((l_U26) || (NOT (sub_24759( l_U320[I], 5.00000000, 1120403456 ))))
                                {
                                    CREATE_CAR( l_U268[I], l_U320[I]._fU0, l_U320[I]._fU4, l_U320[I]._fU8, ref l_U369[I], 1 );
                                    if (l_U268[I] == sub_26342())
                                    {
                                        CREATE_CHAR_INSIDE_CAR( l_U369[I], 6, sub_26370(), ref uVar5 );
                                        SET_CHAR_RELATIONSHIP_GROUP( uVar5, 23 );
                                        MARK_MODEL_AS_NO_LONGER_NEEDED( sub_26370() );
                                    }
                                    else if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
                                    {
                                        CREATE_RANDOM_CHAR_AS_DRIVER( l_U369[I], ref uVar5 );
                                        SET_CHAR_RANDOM_COMPONENT_VARIATION( uVar5 );
                                    }
                                    else
                                    {
                                        CREATE_CHAR_INSIDE_CAR( l_U369[I], 26, sub_26485(), ref uVar5 );
                                        SET_CHAR_RANDOM_COMPONENT_VARIATION( uVar5 );
                                        MARK_MODEL_AS_NO_LONGER_NEEDED( sub_26485() );
                                    }
                                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( uVar5, 1 );
                                    SET_CHAR_ONLY_DAMAGED_BY_PLAYER( uVar5, 1 );
                                    SET_CHAR_SUFFERS_CRITICAL_HITS( uVar5, 0 );
                                    SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( uVar5, 0 );
                                    sub_26029( uVar5 );
                                    SET_VEHICLE_QUATERNION( l_U369[I], l_U145[I], l_U147[I], l_U149[I], l_U151[I] );
                                    FREEZE_CAR_POSITION( l_U369[I], 1 );
                                    MARK_MODEL_AS_NO_LONGER_NEEDED( l_U268[I] );
                                    sub_27248( l_U369[I] );
                                    GET_INTERIOR_FROM_CAR( l_U369[I], ref iVar16 );
                                    if (NOT (iVar16 == nil))
                                    {
                                        # -NULL-0xbfc5b5( l_U369[I] );
                                    }
                                    l_U229[I]++;
                                    l_U248--;
                                }
                            }
                        }
                    }
                    else
                    {
                        REQUEST_MODEL( l_U268[I] );
                    }
                }
                if (l_U229[I] == 3)
                {
                    if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( l_U227[I] )))
                    {
                        REQUEST_CAR_RECORDING( l_U227[I] );
                    }
                    if (IS_VEH_DRIVEABLE( l_U369[I] ))
                    {
                        if (l_U175 > l_U153[I])
                        {
                            if (4 > l_U235)
                            {
                                if (IS_VEH_DRIVEABLE( uParam0 ))
                                {
                                    if (IS_PLAYBACK_GOING_ON_FOR_CAR( uParam0 ))
                                    {
                                        l_U175 = FIND_TIME_POSITION_IN_RECORDING( uParam0 );
                                    }
                                }
                                fVar13 = l_U175 - l_U153[I];
                                fVar13 *= l_U155[I];
                                if (HAS_CAR_RECORDING_BEEN_LOADED( l_U227[I] ))
                                {
                                    if (fVar13 < (GET_TOTAL_DURATION_OF_CAR_RECORDING( l_U227[I] )))
                                    {
                                        GET_CAR_COORDINATES( l_U369[I], ref uVar7._fU0, ref uVar7._fU4, ref uVar7._fU8 );
                                        GET_POSITION_OF_CAR_RECORDING_AT_TIME( l_U227[I], fVar13, ref uVar10 );
                                        if ((NOT l_U26) AND ((sub_24759( uVar10, 5.00000000, 1120403456 )) AND (NOT (sub_24759( uVar7, 5.00000000, 1120403456 )))))
                                        {
                                            l_U235++;
                                            l_U229[I]++;
                                        }
                                        else if (sub_27837( ref l_U369[I], l_U227[I], fVar13, 1, 0, 0 ))
                                        {
                                            SET_PLAYBACK_SPEED( l_U369[I], uParam1 * l_U155[I] );
                                            if (IS_VEH_DRIVEABLE( l_U369[I] ))
                                            {
                                                if (l_U268[I] == sub_26342())
                                                {
                                                    SWITCH_CAR_SIREN( l_U369[I], 1 );
                                                }
                                            }
                                            if (l_U17)
                                            {
                                                # -NULL-0xbfc99f( l_U369[I], 1 );
                                            }
                                            else
                                            {
                                                # -NULL-0xbfc99f( l_U369[I], 0 );
                                            }
                                            l_U235++;
                                            l_U229[I]++;
                                        }
                                    }
                                    else
                                    {
                                        l_U235++;
                                        l_U229[I]++;
                                    }
                                }
                            }
                            else
                            {
                                SCRIPT_ASSERT( "Too many set peice cars playing back at once" );
                                l_U235++;
                                l_U229[I]++;
                            }
                        }
                    }
                    else
                    {
                        l_U235++;
                        l_U229[I]++;
                    }
                }
                if (l_U229[I] == 4)
                {
                    if (IS_VEH_DRIVEABLE( l_U369[I] ))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U369[I] ))
                        {
                            GET_DRIVER_OF_CAR( l_U369[I], ref uVar5 );
                            if (DOES_CHAR_EXIST( uVar5 ))
                            {
                                if (NOT (IS_CHAR_INJURED( uVar5 )))
                                {
                                    if (IS_PLAYER_PLAYING( sub_5454() ))
                                    {
                                        if ((NOT l_U3) AND ((NOT l_U6) AND (IS_CHAR_TOUCHING_VEHICLE( sub_3640(), l_U369[I] ))))
                                        {
                                            if (IS_CHAR_IN_ANY_CAR( sub_3640() ))
                                            {
                                                bVar15 = false;
                                                STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_3640(), ref uVar6 );
                                                if (NOT (sub_35449( l_U369[I], uVar6, 45.00000000 )))
                                                {
                                                    bVar15 = true;
                                                }
                                                if (NOT bVar15)
                                                {
                                                    if (sub_29213( uVar6, l_U369[I] ))
                                                    {
                                                        bVar15 = true;
                                                    }
                                                }
                                                if (NOT bVar15)
                                                {
                                                    GET_CAR_SPEED( uVar6, ref fVar14 );
                                                    if (fVar14 < 1.00000000)
                                                    {
                                                        bVar15 = true;
                                                    }
                                                }
                                                if (NOT bVar15)
                                                {
                                                    if (sub_35734( uVar6, l_U369[I], 15.00000000 ))
                                                    {
                                                        bVar15 = true;
                                                    }
                                                }
                                                if (bVar15)
                                                {
                                                    sub_29444( l_U369[I] );
                                                    l_U229[I]++;
                                                }
                                            }
                                        }
                                        else
                                        {
                                            SET_PLAYBACK_SPEED( l_U369[I], uParam1 * l_U155[I] );
                                            if (l_U17)
                                            {
                                                # -NULL-0xbfc99f( l_U369[I], 1 );
                                            }
                                            else
                                            {
                                                # -NULL-0xbfc99f( l_U369[I], 0 );
                                            }
                                        }
                                    }
                                }
                                else
                                {
                                    STOP_PLAYBACK_RECORDED_CAR( l_U369[I] );
                                }
                            }
                            else
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U369[I] );
                            }
                        }
                        else
                        {
                            l_U229[I]++;
                        }
                    }
                    else
                    {
                        l_U229[I]++;
                    }
                }
                if (l_U229[I] == 5)
                {
                    if (IS_VEH_DRIVEABLE( l_U369[I] ))
                    {
                        if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U369[I] )))
                        {
                            l_U229[I]++;
                        }
                        else
                        {
                            GET_DRIVER_OF_CAR( l_U369[I], ref uVar5 );
                            if (DOES_CHAR_EXIST( uVar5 ))
                            {
                                if (NOT (IS_CHAR_INJURED( uVar5 )))
                                {
                                    SET_PLAYBACK_SPEED( l_U369[I], uParam1 * l_U155[I] );
                                    if (l_U17)
                                    {
                                        # -NULL-0xbfc99f( l_U369[I], 1 );
                                    }
                                    else
                                    {
                                        # -NULL-0xbfc99f( l_U369[I], 0 );
                                    }
                                }
                                else
                                {
                                    STOP_PLAYBACK_RECORDED_CAR( l_U369[I] );
                                }
                            }
                            else
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U369[I] );
                            }
                            if (HAS_CAR_RECORDING_BEEN_LOADED( l_U227[I] ))
                            {
                                if (l_U175 > (l_U153[I] + (GET_TOTAL_DURATION_OF_CAR_RECORDING( l_U227[I] ))))
                                {
                                    STOP_PLAYBACK_RECORDED_CAR( l_U369[I] );
                                }
                            }
                            else
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U369[I] );
                            }
                        }
                    }
                    else
                    {
                        l_U229[I]++;
                    }
                }
                if (l_U229[I] == 6)
                {
                    if (NOT (l_U369[I] == l_U380))
                    {
                        if (IS_VEH_DRIVEABLE( l_U369[I] ))
                        {
                            GET_DRIVER_OF_CAR( l_U369[I], ref uVar5 );
                            if (DOES_CHAR_EXIST( uVar5 ))
                            {
                                if (NOT (IS_CHAR_INJURED( uVar5 )))
                                {
                                    GET_SCRIPT_TASK_STATUS( uVar5, 29, ref iVar17 );
                                    if (iVar17 == 7)
                                    {
                                        GET_CAR_SPEED( l_U369[I], ref fVar14 );
                                        if (fVar14 < 8.00000000)
                                        {
                                            fVar14 = 8.00000000;
                                        }
                                        SET_DRIVE_TASK_CRUISE_SPEED( uVar5, fVar14 );
                                    }
                                }
                            }
                        }
                        if (NOT l_U4)
                        {
                            sub_26063( l_U369[I] );
                        }
                        else if (DOES_VEHICLE_EXIST( l_U369[I] ))
                        {
                            DELETE_CAR( ref l_U369[I] );
                        }
                    }
                    l_U235--;
                    l_U229[I] = 99;
                }
            }
        }
    }
    else
    {
        sub_36707();
    }
    return;
}

int sub_35449(unknown uParam0, unknown uParam1, float fParam2)
{
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    float fVar11;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_SPEED_VECTOR( uParam0, ref uVar5, 0 );
    }
    else
    {
        return 0;
    }
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_CAR_SPEED_VECTOR( uParam1, ref uVar8, 0 );
    }
    else
    {
        return 0;
    }
    uVar5._fU8 = 0.00000000;
    uVar8._fU8 = 0.00000000;
    fVar11 = sub_20697( ref uVar5, ref uVar8 );
    if (fVar11 < 0.00000000)
    {
        return 0;
    }
    GET_ANGLE_BETWEEN_2D_VECTORS( uVar5._fU0, uVar5._fU4, uVar8._fU0, uVar8._fU4, ref fVar11 );
    if (NOT (fVar11 < fParam2))
    {
        return 0;
    }
    return 1;
}

int sub_35734(unknown uParam0, unknown uParam1, float fParam2)
{
    unknown uVar5;
    unknown uVar6;

    if (NOT (IS_CAR_DEAD( uParam0 )))
    {
        GET_CAR_SPEED( uParam0, ref uVar5 );
    }
    if (NOT (IS_CAR_DEAD( uParam1 )))
    {
        GET_CAR_SPEED( uParam1, ref uVar6 );
    }
    if (((uVar5 - uVar6) < (fParam2 * -1.00000000)) || ((uVar5 - uVar6) > fParam2))
    {
        return 1;
    }
    return 0;
}

void sub_36707()
{
    int I;

    for ( I = 0; I < 1; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U369[I] ))
        {
            if (IS_VEH_DRIVEABLE( l_U369[I] ))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U369[I] ))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U369[I] );
                }
            }
            sub_25792( l_U369[I] );
            sub_26063( l_U369[I] );
        }
        l_U229[I] = 0;
    }
    for ( I = 0; I < 1; I++ )
    {
        if (NOT (l_U268[I] == 0))
        {
            MARK_MODEL_AS_NO_LONGER_NEEDED( l_U268[I] );
        }
    }
    return;
}

int sub_37207(unknown uParam0, unknown uParam1)
{
    if (NOT l_U29)
    {
        l_U0 = 1;
        sub_37229();
        if (IS_VEH_DRIVEABLE( (uParam0^) ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( (uParam0^) ))
            {
                STOP_PLAYBACK_RECORDED_CAR( (uParam0^) );
                FIX_CAR( (uParam0^) );
            }
            if (NOT (l_U242 == -1))
            {
                while (NOT (sub_27837( uParam0, l_U242, uParam1, 1, 0, 0 )))
                {
                    WAIT( 0 );
                }
                if (NOT l_U11)
                {
                    l_U3 = 1;
                    l_U178 = 0.00000000;
                    l_U243 = 0;
                    l_U245 = 0;
                    l_U233 = 0;
                    l_U235 = 0;
                    l_U236 = 0;
                    l_U247 = 0;
                    l_U248 = 0;
                    l_U249 = 0;
                }
            }
        }
        l_U29 = 1;
    }
    else if (IS_VEH_DRIVEABLE( (uParam0^) ))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( (uParam0^) ))
        {
            SET_PLAYBACK_SPEED( (uParam0^), (1.00000000 * l_U176) * l_U178 );
            sub_27837( uParam0, l_U242, uParam1, 1, 0, 0 );
        }
    }
    l_U175 = uParam1;
    sub_33305( (uParam0^), (1.00000000 * l_U176) * l_U178 );
    sub_25226( (uParam0^), (1.00000000 * l_U176) * l_U178 );
    if ((l_U249 == 0) AND ((l_U248 == 0) AND (l_U247 == 0)))
    {
        l_U3 = 0;
        l_U0 = 0;
        l_U29 = 0;
        return 1;
    }
    return 0;
}

void sub_37229()
{
    sub_37238();
    sub_37450();
    sub_37594();
    return;
}

void sub_37238()
{
    int I;

    for ( I = 0; I < 15; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U342[I] ))
        {
            if (IS_VEH_DRIVEABLE( l_U342[I] ))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U342[I] ))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U342[I] );
                }
            }
            DELETE_CAR( ref l_U342[I] );
        }
        l_U211[I] = 0;
    }
    for ( I = 0; I < 15; I++ )
    {
        if (NOT (l_U250[I] == 0))
        {
            MARK_MODEL_AS_NO_LONGER_NEEDED( l_U250[I] );
        }
    }
    l_U243 = 0;
    l_U233 = 0;
    return;
}

void sub_37450()
{
    int I;

    for ( I = 0; I < 1; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U367[I] ))
        {
            DELETE_CAR( ref l_U367[I] );
        }
    }
    for ( I = 0; I < 1; I++ )
    {
        if (NOT (l_U266[I] == 0))
        {
            MARK_MODEL_AS_NO_LONGER_NEEDED( l_U266[I] );
        }
    }
    l_U245 = 0;
    l_U236 = 0;
    return;
}

void sub_37594()
{
    int I;

    for ( I = 0; I < 1; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U369[I] ))
        {
            if (IS_VEH_DRIVEABLE( l_U369[I] ))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U369[I] ))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U369[I] );
                }
            }
            DELETE_CAR( ref l_U369[I] );
        }
        l_U229[I] = 0;
    }
    for ( I = 0; I < 1; I++ )
    {
        if (NOT (l_U268[I] == 0))
        {
            MARK_MODEL_AS_NO_LONGER_NEEDED( l_U268[I] );
        }
    }
    return;
}

void sub_38292(boolean bParam0)
{
    l_U32 = 0;
    sub_23352();
    l_U31 = 1;
    sub_23822();
    if (IS_PLAYER_PLAYING( sub_5454() ))
    {
        FORCE_AIR_DRAG_MULT_FOR_PLAYERS_CAR( sub_5454(), 1.00000000 );
        DONT_DISPATCH_COPS_FOR_PLAYER( sub_5454(), 0 );
        SET_CREATE_RANDOM_COPS( 1 );
    }
    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_26485() );
    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_32786() );
    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_26342() );
    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_26370() );
    if ((NOT bParam0) AND (NOT IS_SCREEN_FADED_OUT()))
    {
        sub_30837();
        sub_33090();
        sub_36707();
    }
    else
    {
        sub_37229();
        sub_14054();
    }
    return;
}

void sub_38479()
{
    if ((NOT (IS_CHAR_DEAD( l_U872 ))) AND (IS_VEH_DRIVEABLE( l_U876 )))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U876 ))
        {
            STOP_PLAYBACK_RECORDED_CAR( l_U876 );
        }
        START_PLAYBACK_RECORDED_CAR( l_U876, 336 );
        SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( l_U876, 300 );
        TASK_CAR_MISSION( l_U872, l_U876, 0, 15, 20.00000000, 2, -1, -1 );
    }
    if ((NOT (IS_CHAR_DEAD( l_U873 ))) AND (IS_VEH_DRIVEABLE( l_U877 )))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U877 ))
        {
            STOP_PLAYBACK_RECORDED_CAR( l_U877 );
        }
        START_PLAYBACK_RECORDED_CAR( l_U877, 339 );
        SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( l_U877, 300 );
        TASK_CAR_MISSION( l_U873, l_U877, 0, 15, 20.00000000, 2, -1, -1 );
    }
    l_U1036 = 0.00000000;
    l_U1059 = 2;
    SETTIMERA( 0 );
    return;
}

void sub_38823()
{
    if (IS_VEH_DRIVEABLE( l_U876 ))
    {
        UNPAUSE_PLAYBACK_RECORDED_CAR( l_U876 );
    }
    if (IS_VEH_DRIVEABLE( l_U877 ))
    {
        UNPAUSE_PLAYBACK_RECORDED_CAR( l_U877 );
    }
    return;
}

void sub_40477()
{
    CREATE_OBJECT( -1518596733, 688.04190000, 271.24000000, 34.95140000, ref l_U892[0], 1 );
    CREATE_OBJECT( -1518596733, 692.01900000, 276.14650000, 34.95140000, ref l_U892[1], 1 );
    CREATE_OBJECT( -1518596733, 690.01900000, 274.84650000, 34.95140000, ref l_U892[2], 1 );
    SET_OBJECT_HEADING( l_U892[0], 73 );
    SET_OBJECT_HEADING( l_U892[1], 75 );
    SET_OBJECT_HEADING( l_U892[2], 254 );
    l_U972 = 1;
    return;
}

void sub_41033()
{
    if (DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS( -360.90000000, 1270.50000000, 22.50000000, 0.05000000, -256079381 ))
    {
        SET_VISIBILITY_OF_CLOSEST_OBJECT_OF_TYPE( -360.90000000, 1270.50000000, 22.50000000, 0.05000000, -256079381, 0 );
        SET_USES_COLLISION_OF_CLOSEST_OBJECT_OF_TYPE( -360.90000000, 1270.50000000, 22.50000000, 0.05000000, -256079381, 0 );
    }
    if (DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS( -362.70000000, 1270.20000000, 22.40000000, 0.05000000, -256079381 ))
    {
        SET_VISIBILITY_OF_CLOSEST_OBJECT_OF_TYPE( -362.70000000, 1270.20000000, 22.40000000, 0.05000000, -256079381, 0 );
        SET_USES_COLLISION_OF_CLOSEST_OBJECT_OF_TYPE( -362.70000000, 1270.20000000, 22.40000000, 0.05000000, -256079381, 0 );
    }
    return;
}

void sub_41421()
{
    if ((NOT (DOES_BLIP_EXIST( l_U896 ))) AND (NOT (IS_CHAR_DEAD( l_U872 ))))
    {
        ADD_BLIP_FOR_CHAR( l_U872, ref l_U896 );
    }
    if ((NOT (DOES_BLIP_EXIST( l_U897 ))) AND (NOT (IS_CHAR_DEAD( l_U873 ))))
    {
        ADD_BLIP_FOR_CHAR( l_U873, ref l_U897 );
    }
    PRINT_NOW( "RAY5_03", 7500, 1 );
    return;
}

void sub_41918()
{
    if (NOT l_U959)
    {
        if (NOT (IS_CHAR_INJURED( l_U872 )))
        {
            if (NOT (IS_CHAR_IN_ANY_CAR( l_U872 )))
            {
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U872, 0 );
                TASK_COMBAT( l_U872, sub_3640() );
                l_U959 = 1;
            }
        }
    }
    return;
}

void sub_42092()
{
    if ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (NOT (sub_9385( l_U911 ))))
    {
        if (NOT (IS_CHAR_INJURED( l_U872 )))
        {
            if (l_U1050 >= l_U1051)
            {
                sub_9584( "RB5_JTAUNT", ref l_U911, 6, 1 );
                l_U1050 = 0.00000000;
                GENERATE_RANDOM_FLOAT_IN_RANGE( 7.00000000, 10.00000000, ref l_U1051 );
            }
            else
            {
                l_U1050 += 1.00000000 * TIMESTEP();
            }
        }
    }
    return;
}

void sub_42254()
{
    if (IS_CHAR_INJURED( l_U872 ))
    {
        if (DOES_BLIP_EXIST( l_U896 ))
        {
            REMOVE_BLIP( l_U896 );
        }
    }
    if (IS_CHAR_INJURED( l_U873 ))
    {
        if (DOES_BLIP_EXIST( l_U897 ))
        {
            REMOVE_BLIP( l_U897 );
        }
    }
    return;
}

void sub_42363()
{
    if (NOT (IS_CAR_DEAD( l_U875 )))
    {
        GET_CAR_COORDINATES( l_U875, ref l_U1054, ref l_U1055, ref l_U1056 );
        GET_INTERIOR_AT_COORDS( l_U1054, l_U1055, l_U1056 + 1.20000000, ref l_U910 );
        if (NOT l_U970)
        {
            if ((l_U1059 == 2) AND (NOT (l_U910 == nil)))
            {
                l_U1033 += 1.00000000 * TIMESTEP();
                if (l_U1033 >= 2.00000000)
                {
                    FORCE_CAR_LIGHTS( l_U875, 2 );
                    SET_CAR_PROOFS( l_U875, 0, 0, 0, 1, 1 );
                    if (NOT l_U971)
                    {
                        PRINT_HELP( "RAY5_HELP1" );
                        l_U971 = 1;
                    }
                    l_U933 = 1;
                    l_U970 = 1;
                }
            }
        }
        else if (l_U910 == nil)
        {
            FORCE_CAR_LIGHTS( l_U875, 0 );
            SET_CAR_PROOFS( l_U875, 0, 0, 0, 0, 0 );
            l_U970 = 0;
            l_U1033 = 0;
        }
    }
    if (NOT (IS_CAR_DEAD( l_U876 )))
    {
        GET_CAR_COORDINATES( l_U876, ref l_U1054, ref l_U1055, ref l_U1056 );
        GET_INTERIOR_AT_COORDS( l_U1054, l_U1055, l_U1056, ref l_U910 );
        if (NOT l_U968)
        {
            if (NOT (l_U910 == nil))
            {
                l_U1034 += 1.00000000 * TIMESTEP();
                if (l_U1034 >= 2.00000000)
                {
                    FORCE_CAR_LIGHTS( l_U876, 2 );
                    l_U968 = 1;
                    l_U1034 = 0.00000000;
                }
            }
        }
        else if (l_U910 == nil)
        {
            FORCE_CAR_LIGHTS( l_U876, 0 );
            l_U968 = 0;
        }
    }
    if (NOT (IS_CAR_DEAD( l_U877 )))
    {
        GET_CAR_COORDINATES( l_U877, ref l_U1054, ref l_U1055, ref l_U1056 );
        GET_INTERIOR_AT_COORDS( l_U1054, l_U1055, l_U1056, ref l_U910 );
        if (NOT l_U969)
        {
            if (NOT (l_U910 == nil))
            {
                l_U1035 += 1.00000000 * TIMESTEP();
                if (l_U1035 >= 2.00000000)
                {
                    FORCE_CAR_LIGHTS( l_U877, 2 );
                    l_U969 = 1;
                }
            }
        }
        else if (l_U910 == nil)
        {
            FORCE_CAR_LIGHTS( l_U877, 0 );
            l_U969 = 0;
            l_U1035 = 0.00000000;
        }
    }
    return;
}

int sub_43065()
{
    if ((IS_CHAR_DEAD( l_U873 )) AND (IS_CHAR_DEAD( l_U872 )))
    {
        return 1;
        break;
    }
    return 0;
}

void sub_43127()
{
    sub_43136();
    TRIGGER_MISSION_COMPLETE_AUDIO( 57 );
    CLEAR_WANTED_LEVEL( sub_5454() );
    sub_54748( 31 );
    sub_57942( 1014, 3 );
    sub_57942( 3043, 3 );
    UNLOCK_MISSION_NEWS_STORY( 31 );
    sub_17370( 14, "RB5_CALL3", "RB5AUD", 0 );
    sub_3477();
    return;
}

void sub_43136()
{
    sub_43145();
    return;
}

void sub_43145()
{
    int iVar2;
    int iVar3;
    int iVar4;

    iVar2 = 1;
    iVar3 = 0;
    iVar4 = 0;
    sub_43163();
    sub_43222( iVar2, iVar3, iVar4 );
    return;
}

void sub_43163()
{
    int I;

    I = 0;
    for ( I = 0; I < 5; I++ )
    {
        l_U862[I] = 4;
    }
    return;
}

void sub_43222(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int iVar5;

    iVar5 = 14;
    sub_43255( iVar5, uParam0, uParam1, uParam2, "Contact_16" );
    return;
}

void sub_43255(int iParam0, boolean bParam1, boolean bParam2, boolean bParam3, unknown uParam4)
{
    int iVar7;
    int iVar8;
    char[64] cVar9;
    int iVar25;
    int iVar26;
    boolean bVar27;
    unknown uVar28;
    unknown uVar29;
    int iVar30;
    boolean bVar31;

    iVar7 = -1;
    iVar8 = -1;
    StrCopy( ref cVar9, "", 64 );
    if (bParam3)
    {
        if (g_U13391[iParam0]._fU80._fU0 == 0)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: friend mission", 64);
            sub_43351( ref cVar9 );
            return;
        }
        if (g_U13391[iParam0]._fU80._fU4 == -1)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: friend missionID", 64);
            sub_43351( ref cVar9 );
            return;
        }
        iVar7 = g_U13391[iParam0]._fU80._fU4;
    }
    else if (bParam2)
    {
        if (NOT g_U13391[iParam0]._fU160._fU80)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: proc mission", 64);
            sub_43351( ref cVar9 );
            return;
        }
        if (g_U13391[iParam0]._fU160._fU76 == -1)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: proc missionID", 64);
            sub_43351( ref cVar9 );
            return;
        }
        iVar7 = g_U13391[iParam0]._fU160._fU76;
    }
    else if (g_U13391[iParam0]._fU0._fU0 == 0)
    {
        StrCopy( ref cVar9, uParam4, 64 );
        ConcatString(ref cVar9, " Pass_Stats: mission", 64);
        sub_43351( ref cVar9 );
        return;
    }
    if (g_U13391[iParam0]._fU0._fU4 == -1)
    {
        StrCopy( ref cVar9, uParam4, 64 );
        ConcatString(ref cVar9, " Pass_Stats: missionID", 64);
        sub_43351( ref cVar9 );
        return;
    }
    iVar7 = g_U13391[iParam0]._fU0._fU4;
    iVar8 = sub_43928( iParam0, iVar7 );;;
    iVar25 = 0;
    if (bParam1)
    {
        g_U10981[iParam0]._fU24 = iVar7;
    }
    if (bParam2)
    {
        iVar25 = g_U13391[iParam0]._fU160._fU84;
    }
    if (bParam3)
    {
        g_U10981[iParam0]._fU144._fU8++;
        if ((g_U10981[iParam0]._fU144._fU8 >= g_U10981[iParam0]._fU144._fU4) AND (NOT g_U10981[iParam0]._fU144._fU12))
        {
            iVar26 = 0;
            GET_GAME_TIMER( ref iVar26 );
            g_U10981[iParam0]._fU144._fU16 = iVar26 + 60000;
        }
        if (g_U10981[iParam0]._fU144._fU8 == 1)
        {
            if (iParam0 == 3)
            {
                sub_44325( 0, 3 );
            }
            if (iParam0 == 8)
            {
                sub_44325( 0, 4 );
            }
        }
    }
    if (NOT (sub_44414( iParam0, iVar7, iVar25, bParam1, bParam2, bParam3 )))
    {
        return;
    }
    if (bParam2)
    {
        g_U13391[iParam0]._fU160._fU84++;
    }
    if ((iVar7 == 12) AND (iParam0 == 0))
    {
        SET_PLAYER_MOOD_PISSED_OFF( sub_5454(), 150 );
    }
    else
    {
        SET_PLAYER_MOOD_NORMAL( sub_5454() );
    }
    sub_2575();
    bVar27 = true;
    uVar28 = sub_43928( iParam0, iVar7 );
    uVar29 = sub_2032( iParam0 );
    if (bParam1)
    {
        iVar30 = g_U13391[iParam0]._fU0._fU56;
        if ((iVar30 == 6) || (iVar30 == 5))
        {
            bVar27 = false;
        }
        if (NOT g_U0)
        {
            bVar31 = true;
            if (IS_BIT_SET( g_U26758[uVar28]._fU108, 2 ))
            {
                REGISTER_MISSION_PASSED( ref g_U9921 );
                sub_53790( 9, ref g_U13391[iParam0]._fU0._fU24 );
                if ((g_U10978) AND (NOT bVar27))
                {
                    bVar31 = false;
                }
                if (bVar31)
                {
                    sub_54220();
                    g_U9914._fU8 = 1;
                    g_U9914._fU20 = sub_54305( iParam0, iVar7 );
                }
            }
            if (bVar27)
            {
                sub_54362( iParam0 );
                sub_54401( 0 );
                sub_2473( uVar29, 0 );
            }
            g_U10981[iParam0]._fU12 = 1;
        }
        if (bVar27)
        {
            sub_54509();
        }
    }
    if (bParam2)
    {
        sub_54220();
        sub_54597();
        sub_54401( 0 );
    }
    if (bParam3)
    {
        sub_54220();
        sub_54637();
        sub_54401( 0 );
        sub_2473( uVar29, 0 );
    }
    sub_1919();
    return;
}

void sub_43351(unknown uParam0)
{
    PRINTSTRING( "FLOW WARNING: " );
    PRINTSTRING( uParam0 );
    PRINTNL();
    SCRIPT_ASSERT( "FLOW WARNING: Press IGNORE button and look at console window for details" );
    return;
}

int sub_43928(int iParam0, int iParam1)
{
    unknown uVar4;
    int iVar5;
    int Result;

    if ((iParam0 >= 28) || (iParam0 < 0))
    {
        sub_2431( "Main_Missions: Find_Trigger(): Illegal Strand ID" );
    }
    uVar4 = g_U32640[iParam0]._fU0;
    iVar5 = g_U32640[iParam0]._fU4;
    for ( Result = uVar4; Result <= iVar5; Result++ )
    {
        if (g_U26758[Result]._fU4 == iParam1)
        {
            return Result;
        }
    }
    return -1;
}

void sub_44325(unknown uParam0, unknown uParam1)
{
    int iVar4;

    iVar4 = 0;
    GET_GAME_TIMER( ref iVar4 );
    g_U15874[uParam0]._fU0 = uParam1;
    g_U15874[uParam0]._fU4 = iVar4 + 7200000;
    return;
}

int sub_44414(unknown uParam0, unknown uParam1, unknown uParam2, boolean bParam3, unknown uParam4, unknown uParam5)
{
    boolean bVar8;
    unknown uVar9;
    int iVar10;

    bVar8 = false;
    switch (uParam0)
    {
        case 0:
        bVar8 = sub_44622( uParam1 );
        break;
        case 1:
        bVar8 = sub_46700( uParam1 );
        break;
        case 2:
        bVar8 = sub_46926( uParam1 );
        break;
        case 3:
        bVar8 = sub_47076( uParam1 );
        break;
        case 4:
        bVar8 = sub_47354( uParam1 );
        break;
        case 5:
        bVar8 = sub_47657( uParam1 );
        break;
        case 6:
        bVar8 = sub_47856( uParam1 );
        break;
        case 7:
        bVar8 = sub_48082( uParam1 );
        break;
        case 8:
        bVar8 = sub_48317( uParam1 );
        break;
        case 9:
        bVar8 = sub_48692( uParam1 );
        break;
        case 10:
        bVar8 = sub_48939( uParam1 );
        break;
        case 11:
        bVar8 = sub_49078( uParam1 );
        break;
        case 12:
        bVar8 = sub_49377( uParam1 );
        break;
        case 13:
        bVar8 = sub_49605( uParam1 );
        break;
        case 14:
        bVar8 = sub_49892( uParam1 );
        break;
        case 15:
        bVar8 = sub_50174( uParam1 );
        break;
        case 16:
        bVar8 = sub_50456( uParam1 );
        break;
        case 17:
        bVar8 = sub_50657( uParam1 );
        break;
        case 18:
        bVar8 = sub_50730( uParam1 );
        break;
        case 19:
        bVar8 = sub_50944( uParam1 );
        break;
        case 20:
        bVar8 = sub_51197( uParam1 );
        break;
        case 21:
        bVar8 = sub_51444( uParam1 );
        break;
        case 22:
        bVar8 = sub_51645( uParam1 );
        break;
        default:
        PRINTSTRING( "Strand ID: " );
        PRINTINT( uParam0 );
        PRINTNL();
        sub_46305( "Flow_Pass_Stats: Flow_Pass_Strand_Mission(): Unknown strand ID." );
    }
    if (NOT bVar8)
    {
        return 0;
    }
    uVar9 = sub_43928( uParam0, uParam1 );
    if (bParam3)
    {
        iVar10 = g_U13391[uParam0]._fU0._fU56;
        if ((NOT (iVar10 == 6)) AND (NOT (iVar10 == 5)))
        {
            sub_51968( uVar9, uParam0 );
        }
    }
    return 1;
}

int sub_44622(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 0;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_44901( iVar3, 25, 5, 2, 0, 0 );
        break;
        case 1:
        sub_44901( iVar3, 30, 5, 2, 0, 0 );
        break;
        case 2:
        sub_44901( iVar3, 0, 5, 0, 0, 0 );
        break;
        case 4:
        sub_44901( iVar3, 50, 5, 2, 0, 0 );
        break;
        case 5:
        sub_44901( iVar3, 100, 5, 2, 0, 0 );
        break;
        case 6:
        sub_44901( iVar3, 150, 5, 2, 0, 0 );
        break;
        case 8:
        sub_44901( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 9:
        sub_44901( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 10:
        sub_44901( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 11:
        sub_44901( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 12:
        sub_44901( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 13:
        sub_44901( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 15:
        sub_44901( iVar3, 250000, 5, 2, 0, 0 );
        break;
        case 16:
        sub_44901( iVar3, 0, 0, 0, 0, 0 );
        break;
        case 20:
        if (g_U15654[12])
        {
            sub_44901( iVar3, 0, 5, 2, 0, 0 );
        }
        else
        {
            sub_44901( iVar3, 250000, 0, 0, 0, 0 );
        }
        break;
        case 7:
        sub_44901( iVar3, 0, 3, 1, 0, 0 );
        break;
        case 3:
        case 30:
        case 14:
        case 37:
        case 18:
        case 19:
        case 17:
        case 21: break;
        case 22:
        case 23:
        case 24:
        case 25:
        case 26:
        case 27:
        case 28:
        sub_44901( iVar3, 0, sub_46183(), sub_46449(), 0, 0 );
        break;
        default:
        sub_46608( "Friend 1", 1 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_46608( "Friend 1", 0 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

void sub_44901(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, int iParam5)
{
    sub_44912( uParam1 );
    sub_45086( uParam0, 0, uParam2 );
    sub_45086( uParam0, 1, uParam3 );
    sub_45086( uParam0, 2, uParam4 );
    ProtectedSet(g_U26747[4], ProtectedGet(g_U26747[4]) + iParam5);
    sub_43163();
    return;
}

void sub_44912(unknown uParam0)
{
    ADD_SCORE( sub_5454(), uParam0 );
    sub_44937( uParam0 );
    return;
}

void sub_44937(int iParam0)
{
    if (g_U0)
    {
        return;
    }
    if (iParam0 < 0)
    {
        sub_2431( "Flow_Achievements_Increase_Cash_From_Missions: negative cash given. Tell Keith." );
    }
    INCREMENT_INT_STAT_NO_MESSAGE( 93, iParam0 );
    return;
}

void sub_45086(unknown uParam0, int iParam1, int iParam2)
{
    g_U10981[uParam0]._fU40[iParam1] += iParam2;
    if (g_U10981[uParam0]._fU40[iParam1] < 0)
    {
        g_U10981[uParam0]._fU40[iParam1] = 0;
    }
    if (g_U10981[uParam0]._fU40[iParam1] > 100)
    {
        g_U10981[uParam0]._fU40[iParam1] = 100;
    }
    if (iParam1 == 1)
    {
        sub_45243( uParam0 );
    }
    return;
}

void sub_45243(unknown uParam0)
{
    if (g_U0)
    {
        return;
    }
    if (IS_BIT_SET( ProtectedGet(g_U64791), 11 ))
    {
        return;
    }
    if (g_U10981[uParam0]._fU40[1] < 90)
    {
        return;
    }
    switch (uParam0)
    {
        case 0:
        SET_BIT( 1, 6 );
        break;
        break;
        2;
        1;
        ref g_U64791;
        1;
        ref g_U64791;
        break;
        case 3:
        SET_BIT( 1, 7 );
        break;
        break;
        2;
        1;
        ref g_U64791;
        1;
        ref g_U64791;
        break;
        case 7:
        SET_BIT( 1, 8 );
        break;
        break;
        2;
        1;
        ref g_U64791;
        1;
        ref g_U64791;
        break;
        case 8:
        SET_BIT( 1, 9 );
        break;
        break;
        2;
        1;
        ref g_U64791;
        1;
        ref g_U64791;
        break;
        case 13:
        SET_BIT( 1, 10 );
        break;
        break;
        2;
        1;
        ref g_U64791;
        1;
        ref g_U64791;
        break;
    }
    if ((NOT (IS_BIT_SET( ProtectedGet(g_U64791), 5 ))) || ((NOT (IS_BIT_SET( ProtectedGet(g_U64791), 4 ))) || ((NOT (IS_BIT_SET( ProtectedGet(g_U64791), 3 ))) || ((NOT (IS_BIT_SET( ProtectedGet(g_U64791), 2 ))) || (NOT (IS_BIT_SET( ProtectedGet(g_U64791), 1 )))))))
    {
        return;
    }
    if (NOT (IS_BIT_SET( ProtectedGet(g_U64791), 7 )))
    {
        return;
    }
    if (NOT (IS_BIT_SET( ProtectedGet(g_U64791), 9 )))
    {
        return;
    }
    if (NOT (IS_BIT_SET( ProtectedGet(g_U64791), 10 )))
    {
        return;
    }
    if (g_U10981[0]._fU8)
    {
        if (NOT (IS_BIT_SET( ProtectedGet(g_U64791), 6 )))
        {
            return;
        }
    }
    if (g_U10981[7]._fU8)
    {
        if (NOT (IS_BIT_SET( ProtectedGet(g_U64791), 8 )))
        {
            return;
        }
    }
    SET_BIT( 1, 11 );
    AWARD_ACHIEVEMENT( 35 );
    return;
    break;
    2;
    1;
    ref g_U64791;
    1;
    ref g_U64791;
    break;
}

int sub_46183()
{
    switch (l_U862[0])
    {
        case 0: return 14;
        case 1: return 8;
        case 2: return 6;
        case 3: return 1;
        case 4: return 0;
    }
    sub_46305( "Get_TRUST(): Unknown Friend Pass ID" );
    return 0;
}

void sub_46305(unknown uParam0)
{
    PRINTSTRING( "FLOW ERROR: " );
    PRINTSTRING( uParam0 );
    PRINTNL();
    SCRIPT_ASSERT( "FLOW ERROR: Press IGNORE button and look at console window for details" );
    return;
}

int sub_46449()
{
    switch (l_U862[1])
    {
        case 0: return 10;
        case 1: return 6;
        case 2: return 3;
        case 3: return 1;
        case 4: return 0;
    }
    sub_46305( "Get_LIKE(): Unknown Friend Pass ID" );
    return 0;
}

void sub_46608(unknown uParam0, unknown uParam1)
{
    return;
}

int sub_46700(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 1;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_44901( iVar3, 50, 5, 5, 0, 0 );
        break;
        case 1:
        sub_44901( iVar3, 100, 5, 5, 0, 0 );
        break;
        case 2:
        sub_44901( iVar3, 150, 5, 5, 0, 0 );
        break;
        case 3:
        sub_44901( iVar3, 200, 5, 5, 0, 0 );
        break;
        default:
        sub_46608( "Contact 2", 1 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_46608( "Contact 2", 0 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_46926(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 2;
    bVar4 = false;
    switch (uParam0)
    {
        case 1:
        sub_44901( iVar3, 0, 5, 5, 0, 0 );
        break;
        case 0: break;
        default:
        sub_46608( "Girl 3", 1 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_46608( "Girl 3", 0 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_47076(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 3;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_44901( iVar3, 200, 5, 2, 0, 0 );
        break;
        case 1:
        sub_44901( iVar3, 250, 5, 2, 0, 0 );
        break;
        case 2:
        sub_44901( iVar3, 250, 3, 1, 0, 0 );
        break;
        case 3:
        case 4:
        case 5:
        case 6:
        case 7:
        case 8:
        case 9:
        sub_44901( iVar3, 0, sub_46183(), sub_46449(), 0, 0 );
        break;
        default:
        sub_46608( "Friend 4", 1 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_46608( "Friend 4", 0 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_47354(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 4;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_44901( iVar3, 200, 5, 5, 0, 0 );
        break;
        case 1:
        sub_44901( iVar3, 400, 5, 5, 0, 0 );
        break;
        case 2:
        sub_44901( iVar3, 500, 5, 5, 0, 0 );
        break;
        case 3:
        sub_44901( iVar3, 600, 5, 5, 0, 0 );
        break;
        case 4:
        sub_44901( iVar3, 700, 5, 5, 0, 0 );
        break;
        case 5:
        sub_44901( iVar3, 0, 5, 5, 0, 0 );
        break;
        case 6:
        sub_44901( iVar3, 0, 5, 5, 0, 0 );
        break;
        default:
        sub_46608( "Contact 5", 1 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_46608( "Contact 5", 0 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_47657(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 5;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_44901( iVar3, 1000, 5, 5, 0, 0 );
        break;
        case 1:
        sub_44901( iVar3, 1100, 5, 5, 0, 0 );
        break;
        case 2:
        sub_44901( iVar3, 1500, 5, 5, 0, 0 );
        break;
        default:
        sub_46608( "Contact 7", 1 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_46608( "Contact 7", 0 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_47856(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 6;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_44901( iVar3, 1500, 5, 5, 0, 0 );
        break;
        case 1:
        sub_44901( iVar3, 2000, 5, 5, 0, 0 );
        break;
        case 2:
        sub_44901( iVar3, 2500, 5, 5, 0, 0 );
        break;
        case 3:
        sub_44901( iVar3, 0, 5, 5, 0, 0 );
        break;
        default:
        sub_46608( "Contact 7b", 1 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_46608( "Contact 7b", 0 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_48082(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 7;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_44901( iVar3, 6000, 5, 2, 0, 0 );
        break;
        case 1:
        sub_44901( iVar3, 6250, 5, 2, 0, 0 );
        break;
        case 2:
        case 3:
        case 4:
        case 5:
        case 6:
        sub_44901( iVar3, 0, sub_46183(), sub_46449(), 0, 0 );
        break;
        default:
        sub_46608( "Friend 8", 1 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_46608( "Friend 8", 0 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_48317(unknown uParam0)
{
    int iVar3;
    boolean bVar4;
    int iVar5;

    iVar3 = 8;
    bVar4 = false;
    iVar5 = 500;
    switch (uParam0)
    {
        case 0:
        sub_44901( iVar3, 3500, 5, 2, 0, 0 );
        break;
        case 1:
        sub_44901( iVar3, 3500, 5, 2, 0, 0 );
        break;
        case 4:
        sub_44901( iVar3, 6750, 5, 2, 0, 0 );
        break;
        case 5:
        sub_44901( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 2:
        case 3: break;
        case 6:
        sub_44901( iVar3, iVar5, 3, 1, 0, 0 );
        INCREMENT_INT_STAT_NO_MESSAGE( 109, iVar5 );
        break;
        case 7:
        case 8:
        case 9:
        case 10:
        case 11:
        case 12:
        case 13:
        case 14:
        sub_44901( iVar3, 0, sub_46183(), sub_46449(), 0, 0 );
        break;
        default:
        sub_46608( "Friend 9", 1 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_46608( "Friend 9", 0 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_48692(unknown uParam0)
{
    int iVar3;
    int iVar4;
    boolean bVar5;

    iVar3 = 9;
    iVar4 = 7;
    bVar5 = false;
    switch (uParam0)
    {
        case 0:
        sub_44901( iVar3, 6500, 5, 5, 0, 0 );
        break;
        case 1:
        sub_44901( iVar3, 6750, 5, 5, 0, 0 );
        break;
        case 3:
        if (g_U15654[39])
        {
            sub_44901( iVar4, 0, 5, 10, 0, 0 );
        }
        else
        {
            sub_44901( iVar3, 0, 5, 5, 0, 0 );
        }
        break;
        case 2: break;
        default:
        sub_46608( "Contact 10", 1 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar5)
    {
        sub_46608( "Contact 10", 0 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_48939(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 10;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_44901( iVar3, 0, 1, 1, 0, 0 );
        break;
        default:
        sub_46608( "Girl 11", 1 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_46608( "Girl 11", 0 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_49078(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 11;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_44901( iVar3, 1000, 5, 5, 0, 0 );
        break;
        case 3:
        sub_44901( iVar3, 1000, 5, 5, 0, 0 );
        break;
        case 4:
        sub_44901( iVar3, 5000, 5, 5, 0, 0 );
        break;
        case 5:
        sub_44901( iVar3, 5000, 5, 5, 0, 0 );
        break;
        case 6:
        sub_44901( iVar3, 0, 5, 5, 0, 0 );
        break;
        case 7:
        sub_44901( iVar3, 0, 5, 5, 0, 0 );
        break;
        case 1:
        case 2: break;
        default:
        sub_46608( "Contact 12", 1 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_46608( "Contact 12", 0 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_49377(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 12;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_44901( iVar3, 6500, 5, 5, 0, 0 );
        break;
        case 1:
        sub_44901( iVar3, 6750, 5, 5, 0, 0 );
        break;
        case 2:
        sub_44901( iVar3, 7000, 5, 5, 0, 0 );
        break;
        case 3:
        sub_44901( iVar3, 7500, 5, 5, 0, 0 );
        break;
        default:
        sub_46608( "Contact 13", 1 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_46608( "Contact 13", 0 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_49605(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 13;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_44901( iVar3, 7500, 5, 2, 0, 5 );
        break;
        case 1:
        sub_44901( iVar3, 8000, 5, 2, 0, 5 );
        break;
        case 3:
        sub_44901( iVar3, 250000, 5, 2, 0, 5 );
        break;
        case 4:
        case 5:
        case 6:
        case 7:
        case 8:
        case 9:
        sub_44901( iVar3, 0, sub_46183(), sub_46449(), 0, 0 );
        break;
        case 2: break;
        default:
        sub_46608( "Friend 15", 1 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_46608( "Friend 15", 0 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_49892(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 14;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_44901( iVar3, 8500, 5, 5, 0, 0 );
        break;
        case 1:
        sub_44901( iVar3, 9000, 5, 5, 0, 0 );
        break;
        case 2:
        sub_44901( iVar3, 9500, 5, 5, 0, 0 );
        break;
        case 3:
        sub_44901( iVar3, 9500, 5, 5, 0, 0 );
        break;
        case 4:
        sub_44901( iVar3, 9500, 5, 5, 0, 0 );
        break;
        case 5:
        sub_44901( iVar3, 11000, 5, 5, 0, 0 );
        break;
        default:
        sub_46608( "Contact 16", 1 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_46608( "Contact 16", 0 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_50174(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 15;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_44901( iVar3, 9000, 5, 5, 0, 0 );
        break;
        case 1:
        sub_44901( iVar3, 9250, 5, 5, 0, 0 );
        break;
        case 4:
        sub_44901( iVar3, 9500, 5, 5, 0, 0 );
        break;
        case 6:
        sub_44901( iVar3, 9750, 5, 5, 0, 0 );
        break;
        case 7:
        sub_44901( iVar3, 0, 5, 5, 0, 0 );
        break;
        case 2:
        case 3:
        case 5: break;
        default:
        sub_46608( "Contact 18", 1 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_46608( "Contact 18", 0 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_50456(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 16;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_44901( iVar3, 6500, 5, 5, 0, 0 );
        break;
        case 1:
        sub_44901( iVar3, 7000, 5, 5, 0, 0 );
        break;
        case 2:
        sub_44901( iVar3, 7500, 5, 5, 0, 0 );
        break;
        default:
        sub_46608( "Contact 19", 1 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_46608( "Contact 19", 0 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_50657(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 17;
    bVar4 = false;
    if (bVar4)
    {
        sub_46608( "Girl 20", 0 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_50730(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 18;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_44901( iVar3, 6000, 5, 5, 0, 0 );
        break;
        case 1:
        sub_44901( iVar3, 6250, 5, 5, 0, 0 );
        break;
        case 2:
        sub_44901( iVar3, 6500, 5, 5, 0, 0 );
        break;
        case 3: break;
        default:
        sub_46608( "Contact 21", 1 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_46608( "Contact 21", 0 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_50944(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 19;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_44901( iVar3, 7500, 5, 5, 0, 0 );
        break;
        case 2:
        sub_44901( iVar3, 10500, 5, 5, 0, 0 );
        break;
        case 3:
        sub_44901( iVar3, 11000, 5, 5, 0, 0 );
        break;
        case 4:
        sub_44901( iVar3, 12000, 5, 5, 0, 0 );
        break;
        case 1:
        sub_44901( iVar3, 0, 3, 3, 0, 0 );
        break;
        default:
        sub_46608( "Contact 22", 1 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_46608( "Contact 22", 0 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_51197(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 20;
    bVar4 = false;
    switch (uParam0)
    {
        case 1:
        sub_44901( iVar3, 10500, 5, 5, 0, 0 );
        break;
        case 2:
        sub_44901( iVar3, 0, 5, 5, 0, 0 );
        break;
        case 3:
        sub_44901( iVar3, 13000, 5, 5, 0, 0 );
        break;
        case 5:
        sub_44901( iVar3, 14500, 5, 5, 0, 0 );
        break;
        case 4:
        case 0: break;
        default:
        sub_46608( "Contact 24", 1 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_46608( "Contact 24", 0 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_51444(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 21;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_44901( iVar3, 12000, 5, 5, 0, 0 );
        break;
        case 1:
        sub_44901( iVar3, 13250, 5, 5, 0, 0 );
        break;
        case 2:
        sub_44901( iVar3, 14500, 5, 5, 0, 0 );
        break;
        default:
        sub_46608( "Contact 25", 1 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_46608( "Contact 25", 0 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_51645(unknown uParam0)
{
    int iVar3;
    int iVar4;
    boolean bVar5;

    iVar3 = 22;
    iVar4 = 8;
    bVar5 = false;
    switch (uParam0)
    {
        case 0:
        sub_44901( iVar4, 0, 3, 1, 0, 0 );
        break;
        default:
        sub_46608( "Girl 26", 1 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar5)
    {
        sub_46608( "Girl 26", 0 );
        sub_44901( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

void sub_51968(int iParam0, int iParam1)
{
    if (g_U0)
    {
        return;
    }
    if (iParam0 == -1)
    {
        return;
    }
    if (iParam1 == -1)
    {
        return;
    }
    if (sub_52016( iParam0, iParam1 ))
    {
        INCREMENT_INT_STAT_NO_MESSAGE( 253, 1 );
        sub_52747( iParam1 );
    }
    return;
}

int sub_52016(int iParam0, int iParam1)
{
    int iVar4;
    boolean bVar5;
    int iVar6;

    if (g_U0)
    {
        return 0;
    }
    if (iParam0 == -1)
    {
        return 0;
    }
    if (iParam1 == -1)
    {
        return 0;
    }
    iVar4 = g_U13391[iParam1]._fU0._fU56;
    bVar5 = iVar4 == 6;
    if (bVar5)
    {
        return 0;
    }
    iVar6 = 0;
    if (NOT (IS_BIT_SET( g_U26758[iParam0]._fU108, 3 )))
    {
        iVar6 = g_U26758[iParam0]._fU104;
        if (iVar6 > 0)
        {
            sub_52156( 0, iVar6 );
            g_U13334[iParam1]._fU4 += iVar6;
        }
        SET_BIT( ref g_U26758[iParam0]._fU108, 3 );
        return 1;
    }
    return 0;
}

void sub_52156(unknown uParam0, int iParam1)
{
    g_U32871[uParam0]._fU4 += iParam1;
    if (g_U32871[uParam0]._fU4 > g_U32871[uParam0]._fU0)
    {
        SCRIPT_ASSERT( "Flow_Achievements_Game_Progress_Made: Current Category is over target value" );
        g_U32871[uParam0]._fU4 = g_U32871[uParam0]._fU0;
    }
    sub_52338( 0 );
    return;
}

void sub_52338(boolean bParam0)
{
    float fVar3;
    float fVar4;
    float fVar5;
    float fVar6;
    boolean bVar7;
    int I;

    fVar3 = 0.00000000;
    fVar4 = 0.00000000;
    fVar5 = 0.00000000;
    fVar6 = 0.00000000;
    bVar7 = true;
    I = 0;
    for ( I = 0; I < 8; I++ )
    {
        if (g_U32871[I]._fU4 == g_U32871[I]._fU0)
        {
            fVar4 = g_U32871[I]._fU8;
        }
        else
        {
            bVar7 = false;
            fVar5 = TO_FLOAT( g_U32871[I]._fU0 );
            fVar6 = TO_FLOAT( g_U32871[I]._fU4 );
            fVar4 = (fVar6 / fVar5) * g_U32871[I]._fU8;
        }
        fVar3 += fVar4;
    }
    if (fVar3 > 100.00000000)
    {
        fVar3 = 99.99000000;
    }
    if (bVar7)
    {
        fVar3 = 100.00000000;
    }
    SET_FLOAT_STAT( 0, fVar3 );
    if (bVar7)
    {
        sub_52593();
    }
    if ((NOT (# -NULL-0xc27c84())) AND ((NOT bParam0) AND (bVar7)))
    {
        PRINT_HELP( "GAME100" );
    }
    return;
}

void sub_52593()
{
    ENABLE_MAX_AMMO_CAP( 0 );
    return;
}

void sub_52747(int iParam0)
{
    float fVar3;
    float fVar4;
    float fVar5;

    if (g_U0)
    {
        return;
    }
    if (iParam0 == -1)
    {
        return;
    }
    if (g_U13334[iParam0]._fU0 == 0)
    {
        return;
    }
    fVar3 = 0.00000000;
    fVar4 = 0.00000000;
    fVar5 = 0.00000000;
    if (g_U13334[iParam0]._fU4 == g_U13334[iParam0]._fU0)
    {
        fVar3 = 100.00000000;
    }
    else
    {
        fVar4 = TO_FLOAT( g_U13334[iParam0]._fU0 );
        fVar5 = TO_FLOAT( g_U13334[iParam0]._fU4 );
        fVar3 = fVar5 / fVar4;
        fVar3 *= 100.00000000;
    }
    switch (iParam0)
    {
        case 0:
        sub_53080( 3 );
        SET_FLOAT_STAT( 3, fVar3 );
        break;
        case 1:
        sub_53080( 4 );
        SET_FLOAT_STAT( 4, fVar3 );
        break;
        case 3:
        sub_53080( 7 );
        SET_FLOAT_STAT( 7, fVar3 );
        break;
        case 4:
        sub_53080( 8 );
        SET_FLOAT_STAT( 8, fVar3 );
        break;
        case 5:
        sub_53080( 9 );
        SET_FLOAT_STAT( 9, fVar3 );
        break;
        case 6:
        sub_53080( 10 );
        SET_FLOAT_STAT( 10, fVar3 );
        break;
        case 7:
        sub_53080( 13 );
        SET_FLOAT_STAT( 13, fVar3 );
        break;
        case 8:
        sub_53080( 16 );
        SET_FLOAT_STAT( 16, fVar3 );
        break;
        case 9:
        sub_53080( 17 );
        SET_FLOAT_STAT( 17, fVar3 );
        break;
        case 11:
        sub_53080( 18 );
        SET_FLOAT_STAT( 18, fVar3 );
        break;
        case 12:
        sub_53080( 19 );
        SET_FLOAT_STAT( 19, fVar3 );
        break;
        case 13:
        sub_53080( 22 );
        SET_FLOAT_STAT( 22, fVar3 );
        break;
        case 14:
        sub_53080( 23 );
        SET_FLOAT_STAT( 23, fVar3 );
        break;
        case 15:
        sub_53080( 24 );
        SET_FLOAT_STAT( 24, fVar3 );
        break;
        case 16:
        sub_53080( 25 );
        SET_FLOAT_STAT( 25, fVar3 );
        break;
        case 18:
        sub_53080( 26 );
        SET_FLOAT_STAT( 26, fVar3 );
        break;
        case 19:
        sub_53080( 27 );
        SET_FLOAT_STAT( 27, fVar3 );
        break;
        case 20:
        sub_53080( 29 );
        SET_FLOAT_STAT( 29, fVar3 );
        break;
        case 21:
        sub_53080( 28 );
        SET_FLOAT_STAT( 28, fVar3 );
        break;
        default: return;
    }
    return;
}

void sub_53080(unknown uParam0)
{
    if ((GET_STAT_FRONTEND_VISIBILITY( uParam0 )) == 0)
    {
        SET_STAT_FRONTEND_VISIBILITY( uParam0, 1 );
    }
    return;
}

void sub_53790(unknown uParam0, unknown uParam1)
{
    sub_53809( uParam0, 0, 0.00000000, uParam1 );
    return;
}

void sub_53809(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;

    switch (uParam0)
    {
        case 0:
        PLAYSTATS_INT( "SPRUNK_BOUGHT", uParam1 );
        break;
        case 1:
        PLAYSTATS_INT( "HOTDOG_BOUGHT", uParam1 );
        break;
        case 2:
        PLAYSTATS_INT( "NUTS_BOUGHT", uParam1 );
        break;
        case 3:
        PLAYSTATS_INT( "BURGERS_BOUGHT", uParam1 );
        break;
        case 7:
        PLAYSTATS_INT( "DONATE_BEGGAR", uParam1 );
        break;
        case 8:
        PLAYSTATS_INT( "DONATE_BUSKER", uParam1 );
        break;
        case 4:
        PLAYSTATS_INT( "BSHOT_BOUGHT", uParam1 );
        break;
        case 5:
        PLAYSTATS_INT( "CBELL_BOUGHT", uParam1 );
        break;
        case 6:
        PLAYSTATS_INT( "CAFE_BOUGHT", uParam1 );
        break;
        case 9: break;
    }
    return;
}

void sub_54220()
{
    g_U9914._fU0 = 1;
    g_U9914._fU4 = 0;
    g_U9914._fU8 = 0;
    g_U9914._fU12 = 0;
    g_U9914._fU16 = 0;
    g_U9914._fU20 = 0;
    g_U9914._fU24 = 7;
    return;
}

int sub_54305(int iParam0, int iParam1)
{
    if (iParam0 == 0)
    {
        if (iParam1 == 20)
        {
            return 1;
        }
    }
    return 0;
}

void sub_54362(unknown uParam0)
{
    sub_1818();
    g_U10981[uParam0]._fU116 = 0;
    return;
}

void sub_54401(unknown uParam0)
{
    if (g_U9385)
    {
        g_U9385 = 0;
        return;
    }
    g_U9380._fU0 = 1;
    g_U9380._fU4 = uParam0;
    g_U9380._fU8 = 0;
    g_U9380._fU12 = 0;
    g_U9380._fU16 = 0;
    return;
}

void sub_54509()
{
    sub_54518();
    return;
}

void sub_54518()
{
    if (COMPARE_STRING( ref g_U9926, "" ))
    {
        return;
    }
    PLAYSTATS_MISSION_PASSED( ref g_U9926 );
    StrCopy( ref g_U9926, "", 16 );
    return;
}

void sub_54597()
{
    sub_54518();
    return;
}

void sub_54637()
{
    sub_54518();
    StrCopy( ref g_U9926, "FPASS", 16 );
    return;
}

void sub_54748(int iParam0)
{
    if (iParam0 >= g_U1452)
    {
        SCRIPT_ASSERT( "NEWS STORY ARRAY SIZE NEEDS INCREASING - see simon" );
        return;
    }
    if (sub_54835( iParam0 ))
    {
        sub_55885( iParam0 );
    }
    return;
}

int sub_54835(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;

    if ((IS_BIT_SET( g_U1452[uParam0], 21 )) || (IS_BIT_SET( g_U1452[uParam0], 20 )))
    {
        return 0;
    }
    sub_54892( ref uVar3, 1, 0, 0 );
    sub_55504( uVar3, ref g_U1452[uParam0] );
    SET_BITS_IN_RANGE( ref g_U1452[uParam0], 22, 31, g_U1452[0] );
    g_U1452[0]++;
    SET_BIT( ref g_U1452[uParam0], 20 );
    sub_9497( "\n ----------------------------------------------------------------" );
    sub_4524( "\n  Following block of New Stories has been unlocked NEWS_BLOCK_", uParam0 );
    sub_9497( "\n ----------------------------------------------------------------" );
    return 1;
}

void sub_54892(int iParam0, unknown uParam1, unknown uParam2, boolean bParam3)
{
    GET_CURRENT_DATE( (iParam0 + 0) + 0, (iParam0 + 0) + 4 );
    GET_TIME_OF_DAY( (iParam0 + 8) + 0, (iParam0 + 8) + 4 );
    sub_54945( iParam0, uParam1, uParam2 );
    if (NOT bParam3)
    {
        return;
    }
    if (NOT ((ref iParam0->_fU8->_fU4) == 0))
    {
        if ((ref iParam0->_fU8->_fU4) <= 15)
        {
            ref iParam0->_fU8->_fU4 = 15;
        }
        else if ((ref iParam0->_fU8->_fU4) <= 30)
        {
            ref iParam0->_fU8->_fU4 = 30;
        }
        else if ((ref iParam0->_fU8->_fU4) <= 45)
        {
            ref iParam0->_fU8->_fU4 = 45;
        }
        else
        {
            ref iParam0->_fU8->_fU4 = 0;
            ref iParam0->_fU8->_fU0++;
        };;;
    }
    while ((ref iParam0->_fU8->_fU0) >= 24)
    {
        ref iParam0->_fU8->_fU0 -= 24;
        sub_55077( iParam0 + 0 );
    }
    return;
}

void sub_54945(int iParam0, int iParam1, int iParam2)
{
    ref iParam0->_fU8->_fU4 += iParam2;
    ref iParam0->_fU8->_fU0 += iParam1;
    while ((ref iParam0->_fU8->_fU4) >= 60)
    {
        ref iParam0->_fU8->_fU4 -= 60;
        ref iParam0->_fU8->_fU0++;
    }
    while ((ref iParam0->_fU8->_fU0) >= 24)
    {
        ref iParam0->_fU8->_fU0 -= 24;
        sub_55077( iParam0 + 0 );
    }
    return;
}

void sub_55077(int iParam0)
{
    iParam0->_fU0++;
    if (iParam0->_fU0 > (sub_55108( iParam0->_fU4 )))
    {
        iParam0->_fU0 = 1;
        iParam0->_fU4++;
        if (iParam0->_fU4 > 12)
        {
            iParam0->_fU4 = 1;
        }
    }
    return;
}

int sub_55108(unknown uParam0)
{
    switch (uParam0)
    {
        case 1:
        case 3:
        case 5:
        case 7:
        case 8:
        case 10:
        case 12: return 31;
        case 4:
        case 6:
        case 9:
        case 11: return 30;
        case 2: return 28;
    }
    return 30;
}

void sub_55504(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    SET_BITS_IN_RANGE( uParam4, 0, 4, uParam0._fU0._fU0 );
    SET_BITS_IN_RANGE( uParam4, 5, 8, uParam0._fU0._fU4 );
    SET_BITS_IN_RANGE( uParam4, 9, 13, uParam0._fU8._fU0 );
    SET_BITS_IN_RANGE( uParam4, 14, 19, uParam0._fU8._fU4 );
    return;
}

void sub_55885(unknown uParam0)
{
    int iVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;

    iVar3 = GET_BITS_IN_RANGE( g_U953, 12, 14 );
    array(ref uVar4._fU0._fU0, 3);
    ref uVar4._fU0;
    ref uVar4;
    switch (uParam0)
    {
        case 14:
        SET_BITS_IN_RANGE( ref g_U953, 0, 2, iVar3 );
        iVar3++;
        break;
        case 20:
        SET_BITS_IN_RANGE( ref g_U953, 3, 5, iVar3 );
        iVar3++;
        break;
        case 24:
        SET_BITS_IN_RANGE( ref g_U953, 6, 8, iVar3 );
        iVar3++;
        break;
        case 29:
        g_U963 = 1;
        sub_56096( 20, 6, 16383, 16383, ref uVar4 );
        sub_56772( ref uVar4, 7 );
        sub_56803( ref uVar4, 0 );
        break;
        case 36:
        g_U963 = 2;
        break;
        case 39:
        SET_BITS_IN_RANGE( ref g_U953, 9, 11, iVar3 );
        iVar3++;
        break;
        case 40:
        g_U963 = 3;
        sub_56096( 20, 7, 9, 16383, ref uVar4 );
        sub_56772( ref uVar4, 7 );
        sub_56803( ref uVar4, 0 );
        break;
        case 45:
        case 46:
        g_U963 = 4;
        break;
    }
    SET_BITS_IN_RANGE( ref g_U953, 12, 14, iVar3 );
    return;
}

void sub_56096(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown uVar7;

    iParam4->_fU40 = -1;
    sub_56120( uParam0, 0, iParam4 + 0 );
    sub_56120( uParam1, 1, iParam4 + 0 );
    sub_56120( uParam2, 2, iParam4 + 0 );
    sub_56120( uParam3, 3, iParam4 + 0 );
    sub_56120( 0, 4, iParam4 + 0 );
    sub_56120( 1, 5, iParam4 + 0 );
    sub_56120( 65535, 6, iParam4 + 0 );
    sub_56120( 0, 12, iParam4 + 0 );
    sub_56120( 0, 11, iParam4 + 0 );
    sub_56120( 0, 14, iParam4 + 0 );
    sub_56120( 0, 13, iParam4 + 0 );
    GENERATE_RANDOM_INT_IN_RANGE( 0, 8, ref uVar7 );
    sub_56120( uVar7, 8, iParam4 + 0 );
    GENERATE_RANDOM_INT_IN_RANGE( 0, 8, ref uVar7 );
    sub_56120( uVar7, 9, iParam4 + 0 );
    ref iParam4->_fU0->_fU20 = 0;
    ref iParam4->_fU0->_fU24 = 0;
    ref iParam4->_fU0->_fU28 = 0;
    ref iParam4->_fU0->_fU32 = 0;
    ref iParam4->_fU0->_fU16 = 1;
    ref iParam4->_fU0->_fU36 = 1;
    return;
}

void sub_56120(unknown uParam0, unknown uParam1, int iParam2)
{
    switch (uParam1)
    {
        case 0:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[1], 14, 23, uParam0 );
        break;
        case 1:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[0], 0, 13, uParam0 );
        break;
        case 2:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[0], 14, 27, uParam0 );
        break;
        case 3:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[1], 0, 13, uParam0 );
        break;
        case 4:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[2], 22, 25, uParam0 );
        break;
        case 5:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[0], 28, 31, uParam0 );
        break;
        case 6:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[2], 0, 15, uParam0 );
        break;
        case 8:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[2], 16, 18, uParam0 );
        break;
        case 9:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[2], 19, 21, uParam0 );
        break;
        case 11:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[1], 27, 31, uParam0 );
        break;
        case 12:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[2], 29, 31, uParam0 );
        break;
        case 13:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[1], 24, 26, uParam0 );
        break;
        case 14:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[2], 26, 28, uParam0 );
        break;
    }
    return;
}

void sub_56772(int iParam0, unknown uParam1)
{
    sub_56120( uParam1, 5, iParam0 + 0 );
    return;
}

int sub_56803(int iParam0, int iParam1)
{
    int I;
    int iVar5;

    if (iParam1 == 0)
    {
        ;
    }
    if (g_U968[39]._fU0[0] != -1)
    {
        if (NOT sub_56843())
        {
            return 0;
        }
    }
    if (iParam0->_fU40 != -1)
    {
        return 0;
    }
    iVar5 = sub_57530( iParam0->_fU0 );
    if (iVar5 != -1)
    {
        sub_57329( iVar5 );
    }
    for ( I = 0; I <= 39; I++ )
    {
        if (g_U968[I]._fU0[0] == -1)
        {
            g_U968[I] = {iParam0->_fU0};
            iParam0->_fU40 = I;
            I = 40;
            INCREMENT_INT_STAT_NO_MESSAGE( 368, 1 );
        }
    }
    g_U967 = 1;
    return 1;
}

int sub_56843()
{
    int I;

    for ( I = 0; I <= 39; I++ )
    {
        if ((sub_56877( 5, g_U968[I] )) == 7)
        {
            sub_57329( I );
            return 1;
        }
    }
    return 0;
}

int sub_56877(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    switch (uParam0)
    {
        case 0:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 14, 23 );
        break;
        case 1:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 0, 13 );
        break;
        case 2:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 14, 27 );
        break;
        case 3:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 0, 13 );
        break;
        case 4:
        return GET_BITS_IN_RANGE( uParam1._fU0[2], 22, 25 );
        break;
        case 5:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 28, 31 );
        break;
        case 6:
        return GET_BITS_IN_RANGE( uParam1._fU0[2], 0, 15 );
        break;
        case 8:
        return GET_BITS_IN_RANGE( uParam1._fU0[2], 16, 18 );
        break;
        case 9:
        return GET_BITS_IN_RANGE( uParam1._fU0[2], 19, 21 );
        break;
        case 11:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 27, 31 );
        break;
        case 12:
        return GET_BITS_IN_RANGE( uParam1._fU0[2], 29, 31 );
        break;
        case 13:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 24, 26 );
        break;
        case 14:
        return GET_BITS_IN_RANGE( uParam1._fU0[2], 26, 28 );
        break;
    }
    return -1;
}

void sub_57329(int iParam0)
{
    int I;

    if (iParam0 < 39)
    {
        for ( I = iParam0 + 1; I <= 39; I++ )
        {
            g_U968[I - 1] = {g_U968[I]};
        }
    }
    sub_57402( 39 );
    return;
}

void sub_57402(unknown uParam0)
{
    g_U968[uParam0]._fU0[0] = -1;
    g_U968[uParam0]._fU0[1] = -1;
    g_U968[uParam0]._fU0[2] = -1;
    return;
}

int sub_57530(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9)
{
    int Result;

    for ( Result = 0; Result <= 39; Result++ )
    {
        if (g_U968[Result]._fU0[0] != -1)
        {
            if (sub_57591( uParam0, g_U968[Result] ))
            {
                return Result;
            }
        }
        else
        {
            Result = 40;
        }
    }
    return -1;
}

int sub_57591(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19)
{
    if ((uParam0._fU0[1] == uParam10._fU0[1]) AND (uParam0._fU0[0] == uParam10._fU0[0]))
    {
        return 1;
    }
    return 0;
}

void sub_57942(int iParam0, unknown uParam1)
{
    int iVar4;

    iVar4 = iParam0 mod 1000;
    SET_BITS_IN_RANGE( ref g_U1502[iVar4 / 16], (iVar4 mod 16) * 2, ((iVar4 mod 16) * 2) + 1, uParam1 );
    return;
}

void sub_58066()
{
    if (NOT (IS_CHAR_DEAD( l_U872 )))
    {
        if (NOT l_U937)
        {
            if (IS_CHAR_IN_AREA_3D( l_U872, l_U994._fU0, l_U994._fU4, l_U994._fU8, l_U997._fU0, l_U997._fU4, l_U997._fU8, 0 ))
            {
                CREATE_MISSION_TRAIN( 0, -242.63000000, 1097.71000000, -3.12240000, 1, ref l_U878[1] );
                SET_TRAIN_CRUISE_SPEED( l_U878[1], 6.00000000 );
                SET_TRAIN_SPEED( l_U878[1], 6.00000000 );
                l_U937 = 1;
            }
        }
        if ((NOT l_U942) AND (l_U937))
        {
            if (NOT (IS_CAR_DEAD( l_U878[1] )))
            {
                if (LOCATE_CAR_3D( l_U878[1], -155.12780000, 1139.51000000, -2.67300000, 4, 4, 4, 0 ))
                {
                    SET_TRAIN_CRUISE_SPEED( l_U878[1], 0.00000000 );
                    l_U942 = 1;
                }
            }
        }
        if (NOT l_U938)
        {
            if (IS_CHAR_IN_AREA_3D( l_U872, l_U1000._fU0, l_U1000._fU4, l_U1000._fU8, l_U1003._fU0, l_U1003._fU4, l_U1003._fU8, 0 ))
            {
                CREATE_MISSION_TRAIN( 0, -43.08000000, 1044.26000000, -1.77000000, 1, ref l_U878[2] );
                SET_TRAIN_CRUISE_SPEED( l_U878[2], 8.00000000 );
                SET_TRAIN_SPEED( l_U878[2], 8.00000000 );
                l_U938 = 1;
            }
        }
        if ((NOT l_U943) AND (l_U938))
        {
            if (NOT (IS_CAR_DEAD( l_U878[2] )))
            {
                if (LOCATE_CAR_3D( l_U878[2], -69.12100000, 672.18540000, -4.01420000, 4, 4, 4, 0 ))
                {
                    SET_TRAIN_CRUISE_SPEED( l_U878[2], 0.00000000 );
                    l_U943 = 1;
                }
            }
        }
        if (NOT l_U939)
        {
            if (IS_CHAR_IN_AREA_3D( l_U872, l_U1006._fU0, l_U1006._fU4, l_U1006._fU8, l_U1009._fU0, l_U1009._fU4, l_U1009._fU8, 0 ))
            {
                MARK_MISSION_TRAINS_AS_NO_LONGER_NEEDED();
                CREATE_MISSION_TRAIN( 0, -64.76000000, 826.97000000, -2.97800000, 1, ref l_U878[3] );
                SET_TRAIN_SPEED( l_U878[3], 6.00000000 );
                SET_TRAIN_CRUISE_SPEED( l_U878[3], 6.00000000 );
                CREATE_MISSION_TRAIN( 0, -37.46540000, 474.07470000, -3.97800000, 1, ref l_U878[4] );
                SET_TRAIN_SPEED( l_U878[4], 2.00000000 );
                SET_TRAIN_CRUISE_SPEED( l_U878[4], 0.00000000 );
                l_U939 = 1;
            }
        }
        if ((NOT l_U944) AND (l_U938))
        {
            if (NOT (IS_CAR_DEAD( l_U878[2] )))
            {
                if (NOT (IS_CHAR_IN_ANY_CAR( sub_3640() )))
                {
                    SET_TRAIN_CRUISE_SPEED( l_U878[2], 0.00000000 );
                    l_U944 = 1;
                }
            }
        }
        if (NOT l_U940)
        {
            if (IS_CHAR_IN_AREA_3D( l_U872, l_U1012._fU0, l_U1012._fU4, l_U1012._fU8, l_U1015._fU0, l_U1015._fU4, l_U1015._fU8, 0 ))
            {
                MARK_MISSION_TRAINS_AS_NO_LONGER_NEEDED();
                CREATE_MISSION_TRAIN( 0, -26.60660000, 213.80000000, -3.86710000, 1, ref l_U878[5] );
                SET_TRAIN_SPEED( l_U878[5], 7.00000000 );
                SET_TRAIN_CRUISE_SPEED( l_U878[5], 7.00000000 );
                l_U940 = 1;
            }
        }
        if (NOT l_U941)
        {
            if (IS_CHAR_IN_AREA_3D( l_U872, l_U1018._fU0, l_U1018._fU4, l_U1018._fU8, l_U1021._fU0, l_U1021._fU4, l_U1021._fU8, 0 ))
            {
                MARK_MISSION_TRAINS_AS_NO_LONGER_NEEDED();
                CREATE_MISSION_TRAIN( 0, 151.96000000, 269.01000000, 20.46890000, 1, ref l_U878[7] );
                SET_TRAIN_SPEED( l_U878[7], -9.50000000 );
                g_U64958 = l_U878[7];
                CREATE_MISSION_TRAIN( 0, 615.51000000, 274.36040000, 37.61790000, 1, ref l_U878[8] );
                SET_TRAIN_SPEED( l_U878[8], -9.50000000 );
                g_U64959 = l_U878[8];
                CREATE_MISSION_TRAIN( 0, 736.84010000, 274.31740000, 34.67370000, 1, ref l_U878[9] );
                SET_TRAIN_SPEED( l_U878[9], 2.00000000 );
                SET_TRAIN_CRUISE_SPEED( l_U878[9], 0.00000000 );
                CREATE_MISSION_TRAIN( 0, 708.61000000, 269.32350000, 34.93950000, 0, ref l_U878[10] );
                SET_TRAIN_SPEED( l_U878[10], 2.00000000 );
                SET_TRAIN_CRUISE_SPEED( l_U878[10], 0.00000000 );
                SET_RENDER_TRAIN_AS_DERAILED( l_U878[9], 1 );
                GET_TRAIN_CARRIAGE( l_U878[9], 0, ref l_U891 );
                SET_CAR_RANDOM_ROUTE_SEED( l_U891, 30302 );
                GET_TRAIN_CARRIAGE( l_U878[9], 1, ref l_U891 );
                SET_CAR_RANDOM_ROUTE_SEED( l_U891, 24627 );
                GET_TRAIN_CARRIAGE( l_U878[9], 2, ref l_U891 );
                SET_CAR_RANDOM_ROUTE_SEED( l_U891, 5730 );
                SET_RENDER_TRAIN_AS_DERAILED( l_U878[10], 1 );
                GET_TRAIN_CARRIAGE( l_U878[10], 0, ref l_U891 );
                SET_CAR_RANDOM_ROUTE_SEED( l_U891, 16481 );
                GET_TRAIN_CARRIAGE( l_U878[10], 1, ref l_U891 );
                SET_CAR_RANDOM_ROUTE_SEED( l_U891, 53503 );
                GET_TRAIN_CARRIAGE( l_U878[10], 2, ref l_U891 );
                SET_CAR_RANDOM_ROUTE_SEED( l_U891, 47560 );
                l_U941 = 1;
            }
        }
        if ((NOT l_U945) AND (l_U941))
        {
            if (NOT (IS_CAR_DEAD( l_U878[7] )))
            {
                if (LOCATE_CAR_3D( l_U878[7], 81.10910000, 269.54080000, 38.20690000, 4, 4, 4, 0 ))
                {
                    SET_TRAIN_CRUISE_SPEED( l_U878[7], 0.00000000 );
                    l_U945 = 1;
                }
            }
        }
    }
    for ( l_U1060 = 0; l_U1060 < l_U878; l_U1060++ )
    {
        if (NOT (IS_CAR_DEAD( l_U878[l_U1060] )))
        {
            if ((NOT ((l_U946) AND (l_U1060 == 8))) AND ((NOT ((l_U945) AND (l_U1060 == 7))) AND ((NOT ((l_U944) AND (l_U1060 == 3))) AND ((NOT ((l_U943) AND (l_U1060 == 2))) AND (NOT ((l_U942) AND (l_U1060 == 1)))))))
            {
                SET_TRAIN_SPEED( l_U878[l_U1060], l_U1037[l_U1060] * l_U1036 );
            }
            if ((NOT (l_U1060 >= 7)) AND ((NOT (l_U1060 < 3)) AND (NOT (l_U1060 == 4))))
            {
                if (NOT l_U947[l_U1060])
                {
                    GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( l_U878[l_U1060], 0, 48, 0, ref l_U1054, ref l_U1055, ref l_U1056 );
                    if (LOCATE_CHAR_ANY_MEANS_3D( sub_3640(), l_U1054, l_U1055, l_U1056, 8, 8, 8, 0 ))
                    {
                        PLAY_SOUND_FROM_VEHICLE( -1, "RB5_SUBWAY_BIKE_CHASE_TRAIN_HORN", l_U878[l_U1060] );
                        l_U947[l_U1060] = 1;
                    }
                }
            }
            else if (l_U1060 == 8)
            {
                GET_TRAIN_CARRIAGE( l_U878[l_U1060], 2, ref l_U891 );
                if (NOT (IS_CAR_DEAD( l_U891 )))
                {
                    GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( l_U891, 0, 65496, 0, ref l_U1054, ref l_U1055, ref l_U1056 );
                    if (NOT (IS_CHAR_DEAD( l_U873 )))
                    {
                        if (NOT l_U947[l_U1060])
                        {
                            if (LOCATE_CHAR_ANY_MEANS_3D( l_U873, l_U1054, l_U1055, l_U1056, 8, 8, 8, 0 ))
                            {
                                PLAY_SOUND_FROM_VEHICLE( -1, "RB5_SUBWAY_BIKE_CHASE_TRAIN_HORN", l_U891 );
                                l_U947[l_U1060] = 1;
                            }
                        }
                    }
                }
            }
        }
    }
    return;
}

void sub_60400()
{
    if (LOCATE_CHAR_IN_CAR_3D( sub_3640(), -144.88730000, 1141.68000000, -1.77370000, 20, 20, 20, 0 ))
    {
        if (l_U1052 <= 6.00000000)
        {
            l_U1052 += 1.00000000 * TIMESTEP();
        }
        switch (l_U1062)
        {
            case 0:
            if (l_U1052 >= 0.20000000)
            {
                sub_60548( 65398, 1134, -0.49000000 );
                l_U1062++;
            }
            break;
            case 1:
            if (l_U1052 >= 1.60000000)
            {
                sub_60548( 65376, 1148, -0.49000000 );
                l_U1062++;
            }
            break;
        }
    }
    if (LOCATE_CHAR_IN_CAR_3D( sub_3640(), -66.99840000, 667.03830000, -3.07870000, 20, 20, 20, 0 ))
    {
        if (l_U1053 <= 6.00000000)
        {
            l_U1053 += 1.00000000 * TIMESTEP();
        }
        switch (l_U1063)
        {
            case 0:
            if (l_U1053 >= 0.10000000)
            {
                sub_60548( 65476, 682, -1.86000000 );
                l_U1063++;
            }
            break;
            case 1:
            if (l_U1053 >= 1.40000000)
            {
                sub_60548( 65462, 643, -2.47000000 );
                l_U1063++;
            }
            break;
        }
    }
    return;
}

void sub_60548(unknown uParam0, unknown uParam1, unknown uParam2)
{
    GET_CLOSEST_CHAR( uParam0._fU0, uParam0._fU4, uParam0._fU8, 30, 1, 0, ref l_U874 );
    if (NOT (IS_CHAR_INJURED( l_U874 )))
    {
        if (NOT (IS_ANY_SPEECH_PLAYING( l_U874 )))
        {
            SAY_AMBIENT_SPEECH( l_U874, "SURPRISED", 1, 0, 2 );
        }
    }
    return;
}

void sub_60946()
{
    if (IS_CHAR_IN_ANY_CAR( sub_3640() ))
    {
        if (NOT (IS_CHAR_DEAD( l_U873 )))
        {
            sub_60994( ref l_U873 );
            l_U967 = 1;
        }
        else if (NOT (IS_CHAR_DEAD( l_U872 )))
        {
            sub_60994( ref l_U872 );
            l_U967 = 1;
        }
    }
    else if (l_U967)
    {
        sub_3951();
        l_U967 = 0;
    }
    return;
}

void sub_60994(unknown uParam0)
{
    int iVar3;
    int iVar4;

    if (l_U871)
    {
        PRINTNL();
        PRINTSTRING( "**** CALLED CONTROL_CHASE_HINT_CAM()" );
    }
    GET_FOLLOW_VEHICLE_CAM_SUBMODE( ref iVar3 );
    if ((IS_HINT_RUNNING()) AND (l_U869))
    {
        iVar4 = 0;
        GET_GAME_TIMER( ref iVar4 );
        if (iVar4 > (l_U870 + 500))
        {
            l_U869 = 0;
        }
    }
    if ((iVar3 != 4) AND ((NOT sub_61162()) AND ((NOT (IS_CHAR_DEAD( (uParam0^) ))) AND ((IS_CHAR_IN_ANY_CAR( sub_3640() )) AND (IS_CONTROL_PRESSED( 0, 51 ))))))
    {
        if ((IS_CHAR_IN_ANY_CAR( (uParam0^) )) AND (NOT IS_HINT_RUNNING()))
        {
            if (l_U871)
            {
                PRINTNL();
                PRINTSTRING( "**** LAUNCHING THE HINT_CAM" );
            }
            SET_CINEMATIC_BUTTON_ENABLED( 0 );
            HINT_CAM( 0.00000000, 0.00000000, 0.00000000, (uParam0^), 0, 0, 999999 );
            SET_HINT_TIMES( 500, 0, 0 );
            SET_HINT_FOV( 45.00000000 );
            GET_GAME_TIMER( ref l_U870 );
            l_U869 = 1;
            l_U868 = 0;
        }
    }
    else if (IS_HINT_RUNNING())
    {
        if ((NOT l_U869) AND (NOT l_U868))
        {
            if (l_U871)
            {
                PRINTNL();
                PRINTSTRING( "**** INTERP HINT_CAM BACK" );
            }
            HINT_CAM( 0.00000000, 0.00000000, 0.00000000, 0, 0, 0, 0 );
            HINT_CAM( 0.00000000, 0.00000000, 0.00000000, (uParam0^), 0, 0, 500 );
            SET_HINT_TIMES( 0, 0, 500 );
            SET_HINT_FOV( 45.00000000 );
            l_U868 = 1;
        }
    }
    else if (l_U868)
    {
        if (l_U871)
        {
            PRINTNL();
            PRINTSTRING( "**** DONE INTERP, RESETTING HINT_CAM VARIABLES" );
        }
        SET_CINEMATIC_BUTTON_ENABLED( 1 );
        SET_HINT_TIMES_DEFAULT();
        SET_HINT_FOV( -1 );
        l_U868 = 0;
    };;;
    return;
}

int sub_61162()
{
    if (g_U555 == 9)
    {
        return 0;
    }
    return 1;
}

