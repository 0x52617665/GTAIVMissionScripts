void main()
{
    int I;
    vector vVar3;
    vector vVar6;
    float fVar9;
    float fVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    boolean bVar15;
    float fVar16;
    float fVar17;
    float fVar18;

    l_U55 = 0;
    l_U70 = 1;
    l_U71 = 0;
    l_U73 = 0;
    l_U74 = 0;
    l_U75 = 0;
    l_U76 = 0;
    l_U77 = 0;
    l_U78 = 0;
    l_U79 = 0;
    l_U80 = 0;
    l_U84 = 0;
    l_U85 = 0;
    l_U86 = 0;
    l_U87 = 0;
    l_U89 = 0;
    l_U90 = 0;
    l_U92 = 0;
    l_U93 = 0;
    l_U94 = 0;
    l_U95 = 0;
    l_U96 = 0;
    l_U97 = 0;
    l_U150 = 6.00000000;
    l_U151 = 0.30000000;
    l_U152 = 0.20000000;
    l_U153 = 0.99000000;
    l_U154 = 0.99000000;
    l_U155 = 0.00000000;
    l_U156 = 1.00000000;
    l_U158 = 2.61500000;
    l_U159 = 0.50000000;
    l_U160 = 0.05000000;
    l_U161 = 0.30000000;
    l_U162 = 0.01000000;
    l_U163 = 0.50000000;
    l_U164 = 0.18300000;
    l_U181 = 0.89200000;
    l_U185 = 0.05000000;
    l_U186 = 0.01000000;
    l_U187 = 0.50000000;
    l_U188 = 5.00000000;
    l_U189 = 0.20000000;
    l_U190 = 0.05000000;
    l_U191 = 0.25000000;
    l_U193 = 0.80500000;
    l_U194 = 70.00000000;
    l_U195 = 45.00000000;
    l_U196 = 40.00000000;
    l_U197 = 60.00000000;
    l_U198 = 40.00000000;
    l_U199 = 0.99990000;
    l_U200 = 0.00100000;
    l_U201 = 0.00035000;
    l_U202 = 0.03950000 * 0.70000000;
    l_U204 = 0.00250000;
    l_U213 = 0.05000000;
    l_U214 = 0.18000000;
    l_U216 = 0.70000000;
    l_U217 = 1.00000000;
    l_U219 = 0.10000000;
    l_U220 = 0.02000000;
    l_U222 = -0.02900000;
    l_U223 = 0.16000000;
    l_U224 = 0.11900000;
    l_U226 = 0.03950000;
    l_U229 = 0.00000000;
    l_U230 = 0.00000000;
    l_U231 = 5.00000000;
    l_U264 = -1;
    l_U265 = -1;
    l_U266 = 0;
    l_U271 = 20;
    l_U272 = 0;
    l_U275 = 0;
    l_U344 = {0.00000000, -0.70500000, 0.93300000};
    l_U391 = {0.00000000, 0.00000000, 0.00000000};
    l_U394 = {0.00000000, 0.00000000, 0.00000000};
    l_U397 = {0.00000000, 0.00000000, 0.00000000};
    l_U400 = {0.00000000, 0.00000000, 0.00000000};
    l_U403 = {0.19000000, 0.00000000, 4.00000000};
    l_U406 = {0.20000000, 0.00000000, 0.00000000};
    l_U409 = {-96.14499000, 0.00000000, 0.00000000};
    l_U412 = {0.00000000, -0.80000000, 0.09300000};
    l_U421 = {0.00000000, -0.80000000, 0.00000000};
    l_U455 = {0.00000000, 0.00000000, -0.03900000};
    l_U526 = 3.70000000;
    l_U527 = 1.50000000;
    l_U529 = 0.30000000;
    l_U530 = 1.00000000;
    l_U531 = -1.00000000;
    l_U532 = -1.00000000;
    l_U533 = {0.07500000, 0.02000000, 0.02000000};
    l_U536 = {0.90000000, 0.05000000, 0.05000000};
    l_U539 = -1.00000000;
    l_U540 = 20.00000000 * 3.14159300;
    if (HAS_DEATHARREST_EXECUTED())
    {
        sub_1032( 1000 );
    }
    sub_4311();
    fVar16 = 28.00000000;
    fVar17 = 1.00000000;
    l_U318 = {l_U750};
    l_U332 = {1.40000000, 2.00000000, 1.00000000};
    l_U341 = {l_U332._fU0 + 0.10000000, l_U332._fU4 + 0.10000000, 1.00000000};
    l_U335 = {0.77999990, 1.36000000, 1.00000000};
    l_U109[0] = 0.74000000;
    l_U109[1] = 1.40000000;
    l_U109[2] = 1.95000000;
    l_U109[3] = 2.20000000;
    l_U114[0] = 0.83000000;
    l_U114[1] = 1.32500000;
    l_U114[2] = 1.49000000;
    l_U114[3] = 1.83600000;
    l_U119[0] = 0.09500000;
    l_U119[1] = 0.17400000;
    l_U119[2] = 0.26300000;
    l_U119[3] = 0.40900000;
    l_U124[0] = -0.00900000;
    l_U124[1] = -0.00800000;
    l_U124[2] = -0.00300000;
    l_U124[3] = 0.01200000;
    l_U129[0] = 0.88500000;
    l_U129[1] = 1.35500000;
    l_U129[2] = 1.51400000;
    l_U129[3] = 1.81400000;
    l_U134[0] = 0.03300000;
    l_U134[1] = 0.19100000;
    l_U134[2] = 0.27000000;
    l_U134[3] = 0.36900000;
    l_U139[0] = 0.01600000;
    l_U139[1] = 0.00900000;
    l_U139[2] = 0.01500000;
    l_U139[3] = 0.00000000;
    l_U359[0]._fU0 = 0.31300000;
    l_U359[0]._fU4 = -1.42500000;
    l_U359[0]._fU8 = 1.36400000;
    l_U372[0]._fU0 = 0.13700000;
    l_U372[0]._fU4 = 0.99000000;
    l_U372[0]._fU8 = 0.05800000;
    l_U359[1]._fU0 = 0.54300000;
    l_U359[1]._fU4 = -1.05000000;
    l_U359[1]._fU8 = 0.94400000;
    l_U372[1]._fU0 = 0.08200000;
    l_U372[1]._fU4 = 1.24000000;
    l_U372[1]._fU8 = -0.12000000;
    l_U359[2]._fU0 = 0.50000000;
    l_U359[2]._fU4 = -0.91100000;
    l_U359[2]._fU8 = 0.90800000;
    l_U372[2]._fU0 = 0.15200000;
    l_U372[2]._fU4 = 1.00700000;
    l_U372[2]._fU8 = -0.00700000;
    l_U359[3]._fU0 = 0.65000000;
    l_U359[3]._fU4 = -0.78200000;
    l_U359[3]._fU8 = 0.85100000;
    l_U372[3]._fU0 = 0.53900000;
    l_U372[3]._fU4 = 1.32000000;
    l_U372[3]._fU8 = 0.02800000;
    l_U385 = {0.00000000, -0.30500000, 0.11500000};
    l_U388 = {0.00000000, 0.81500000, 0.00000000};
    l_U165[0] = -0.76000000;
    l_U170[0] = 1.34500000;
    l_U165[1] = 0.76000000;
    l_U170[1] = 1.34500000;
    l_U165[2] = 0.76000000;
    l_U170[2] = -1.34500000;
    l_U165[3] = -0.76000000;
    l_U170[3] = -1.34500000;
    l_U175[0] = 0.76000000;
    l_U178[0] = 0.72300000;
    l_U175[1] = -0.76000000;
    l_U178[1] = 0.72300000;
    l_U66 = 0;
    l_U206[0] = 0.99000000;
    l_U206[1] = 0.99000000;
    l_U206[2] = 0.99000000;
    l_U206[3] = 0.99000000;
    l_U211 = 2.00000000;
    l_U230 = 1.00000000;
    for ( I = 0; I < 4; I++ )
    {
        l_U459[I]._fU0 = {0.00000000, 0.00000000, 0.00000000};
        l_U459[I]._fU12 = {0.00000000, 0.00000000, 0.00000000};
        l_U459[I]._fU24 = {0.00000000, 0.00000000, 0.00000000};
    }
    l_U599._fU0[0]._fU0[0] = {0.00000000, 0.00000000, 0.00000000};
    l_U599._fU0[0]._fU0[1] = {0.00000000, 0.00000000, 0.00000000};
    l_U599._fU0[1]._fU0[0] = {0.00000000, 0.00000000, 0.00000000};
    l_U599._fU0[1]._fU0[1] = {0.00000000, 0.00000000, 0.00000000};
    l_U599._fU0[2]._fU0[0] = {0.00000000, 0.00000000, 0.00000000};
    l_U599._fU0[2]._fU0[1] = {0.00000000, 0.00000000, 0.00000000};
    l_U599._fU0[3]._fU0[0] = {0.00000000, 0.00000000, 0.00000000};
    l_U599._fU0[3]._fU0[1] = {0.00000000, 0.00000000, 0.00000000};
    fVar18 = 0.00000000;
    if (sub_1912( l_U318._fU0[0] ))
    {
        if (IS_CHAR_MODEL( l_U318._fU0[0], sub_1939( 0 ) ))
        {
            l_U230 = 0.80000000;
        }
        if (IS_CHAR_MODEL( l_U318._fU0[0], sub_1939( 3 ) ))
        {
            l_U230 = 0.60000000;
        }
        if (IS_CHAR_MODEL( l_U318._fU0[0], sub_1939( 13 ) ))
        {
            l_U230 = 1.00000000;
        }
        if (IS_CHAR_MODEL( l_U318._fU0[0], sub_1939( 8 ) ))
        {
            l_U230 = 0.80000000;
        }
        if (IS_CHAR_MODEL( l_U318._fU0[0], sub_1939( 7 ) ))
        {
            l_U230 = 0.80000000;
        }
        if (IS_CHAR_MODEL( l_U318._fU0[0], sub_1939( 2 ) ))
        {
            l_U230 = 0.60000000;
        }
        if (IS_CHAR_MODEL( l_U318._fU0[0], sub_1939( 10 ) ))
        {
            l_U230 = 0.60000000;
        }
        if (IS_CHAR_MODEL( l_U318._fU0[0], sub_1939( 28 ) ))
        {
            l_U230 = 0.60000000;
        }
        if (IS_CHAR_MODEL( l_U318._fU0[0], sub_1939( 29 ) ))
        {
            l_U230 = 0.60000000;
        }
        if (IS_CHAR_MODEL( l_U318._fU0[0], sub_1939( 30 ) ))
        {
            l_U230 = 0.80000000;
        }
    }
    else if (IS_CHAR_MODEL( l_U318._fU0[0], -1500397869 ))
    {
        l_U230 = 0.70000000;
    }
    if (IS_CHAR_MODEL( l_U318._fU0[0], -881358690 ))
    {
        l_U230 = 0.80000000;
    }
    if (IS_CHAR_MODEL( l_U318._fU0[0], 1609755055 ))
    {
        l_U230 = 0.90000000;
    }
    if (IS_CHAR_MODEL( l_U318._fU0[0], -330497431 ))
    {
        l_U230 = 1.00000000;
    }
    sub_6557();
    sub_9522();
    sub_9759( 0 );
    while (true)
    {
        sub_9820();
        sub_6557();
        for ( I = 0; I < 2; I++ )
        {
            if (NOT (IS_CHAR_INJURED( l_U318._fU0[I] )))
            {
                BLOCK_CHAR_GESTURE_ANIMS( l_U318._fU0[I], 1 );
            }
        }
        switch (l_U240)
        {
            case 0:
            switch (l_U241)
            {
                case 0:
                for ( I = 0; I < 2; I++ )
                {
                    if (NOT (IS_CHAR_INJURED( l_U318._fU0[I] )))
                    {
                        if (IS_AMBIENT_SPEECH_DISABLED( l_U318._fU0[I] ))
                        {
                            l_U98[I] = 1;
                            STOP_PED_SPEAKING( l_U318._fU0[I], 0 );
                        }
                    }
                }
                PRINTSTRING( "POOL_GAME_STATE_INITIALISE - started \n" );
                CLEAR_PRINTS();
                sub_10278();
                if (DOES_OBJECT_EXIST( l_U318._fU24 ))
                {
                    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, 0.00000000, 0.00000000, 0.00000000, ref vVar3.x, ref vVar3.y, ref l_U144 );
                }
                sub_10422( ref l_U246 );
                l_U56[0] = 0;
                l_U56[1] = 1;
                if (IS_PLAYER_PLAYING( sub_1634() ))
                {
                    SET_PLAYER_CONTROL( sub_1634(), 0 );
                    SET_EVERYONE_IGNORE_PLAYER( sub_1634(), 1 );
                    SET_CURRENT_CHAR_WEAPON( sub_3014(), 0, 1 );
                }
                if (NOT (IS_CHAR_INJURED( l_U318._fU0[0] )))
                {
                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U318._fU0[0], 1 );
                    CLEAR_CHAR_TASKS( l_U318._fU0[0] );
                    if (NOT (IS_CHAR_INJURED( l_U318._fU0[1] )))
                    {
                        TASK_TURN_CHAR_TO_FACE_CHAR( l_U318._fU0[0], l_U318._fU0[1] );
                    }
                    if (NOT (IS_CHAR_INJURED( l_U318._fU0[0] )))
                    {
                        TASK_TURN_CHAR_TO_FACE_CHAR( l_U318._fU0[1], l_U318._fU0[0] );
                    }
                }
                for ( I = 0; I < 2; I++ )
                {
                    if (NOT (IS_CHAR_INJURED( l_U318._fU0[I] )))
                    {
                        if (NOT (l_U318._fU0[I] == sub_3014()))
                        {
                            if (IS_GROUP_MEMBER( l_U318._fU0[I], sub_2830() ))
                            {
                                REMOVE_CHAR_FROM_GROUP( l_U318._fU0[I] );
                            }
                        }
                    }
                }
                REQUEST_ANIMS( "MINI_POOL" );
                REQUEST_MODEL( -167968024 );
                REQUEST_MODEL( -927369996 );
                LOAD_ADDITIONAL_TEXT( "POOL", 3 );
                DO_SCREEN_FADE_OUT( 1000 );
                l_U241++;
                break;
                case 1:
                if ((REQUEST_AMBIENT_AUDIO_BANK( "SCRIPT_AMBIENT\POOL_TABLE" )) AND ((IS_SCREEN_FADED_OUT()) AND ((HAS_MODEL_LOADED( -167968024 )) AND (HAVE_ANIMS_LOADED( "MINI_POOL" )))))
                {
                    l_U241++;
                }
                break;
                case 2:
                SET_CAR_DENSITY_MULTIPLIER( 0.00000000 );
                l_U268 = GET_SOUND_ID();
                DISPLAY_RADAR( 0 );
                if (DOES_OBJECT_EXIST( l_U318._fU24 ))
                {
                    GET_OBJECT_COORDINATES( l_U318._fU24, ref vVar3.x, ref vVar3.y, ref vVar3.z );
                    CLEAR_AREA( vVar3.x, vVar3.y, vVar3.z, 5.00000000, 1 );
                    CLEAR_AREA_OF_CHARS( vVar3.x, vVar3.y, vVar3.z, 10.00000000 );
                }
                if (DOES_OBJECT_EXIST( l_U318._fU24 ))
                {
                    GET_ROOM_KEY_FROM_OBJECT( l_U318._fU24, ref l_U239 );
                    GET_OBJECT_COORDINATES( l_U318._fU24, ref vVar3.x, ref vVar3.y, ref vVar3.z );
                }
                GET_INTERIOR_AT_COORDS( vVar3.x, vVar3.y, vVar3.z, ref l_U238 );
                OVERRIDE_FREEZE_FLAGS( 1 );
                SET_USE_POOL_GAME_PHYSICS_SETTINGS( 1 );
                if (NOT (l_U239 == 0))
                {
                    sub_11223();
                    l_U243 = 1;
                    l_U267 = 1;
                    l_U244 = 0;
                    GET_GAME_TIMER( ref l_U265 );
                    sub_9759( 2 );
                }
                break;
            }
            break;
            case 1:
            sub_1042( 1 );
            if (l_U56[l_U243])
            {
                if (l_U56[l_U243])
                {
                    if (IS_CONTROL_JUST_PRESSED( 2, 23 ))
                    {
                        CLEAR_PRINTS();
                        if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                        {
                            CLEAR_CHAR_TASKS_IMMEDIATELY( l_U318._fU0[l_U243] );
                        }
                        l_U0 = 1;
                        sub_9759( 8 );
                        break;
                    }
                }
                sub_13816();
                switch (l_U241)
                {
                    case 0:
                    if (IS_PLAYER_PLAYING( l_U318._fU12[l_U243] ))
                    {
                        SET_PLAYER_CONTROL( l_U318._fU12[l_U243], 0 );
                    }
                    sub_14835( l_U318._fU0[l_U243] );
                    sub_14835( l_U318._fU0[l_U244] );
                    sub_13004();
                    l_U81 = 0;
                    l_U241++;
                    break;
                    case 1:
                    if (NOT l_U81)
                    {
                        CLEAR_HELP();
                        switch (l_U260[l_U243])
                        {
                            case 0:
                            PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_08", "ANY" );
                            break;
                            case 1:
                            PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_08", "SOLID" );
                            break;
                            case 2:
                            PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_08", "STRIPE" );
                            break;
                            case 3:
                            PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_08", "BLACK" );
                            break;
                        }
                        l_U81 = 1;
                    }
                    if (DOES_CAM_EXIST( l_U106 ))
                    {
                        vVar6 = {sub_16595( l_U106 )};
                        fVar9 = VMAG( vVar6 );
                        if (fVar9 > 28.00000000)
                        {
                            fVar9 += -28.00000000;
                            fVar9 *= fVar9;
                            fVar9 /= 10000.00000000;
                        }
                        else
                        {
                            vVar6 = {0.00000000, 0.00000000, 0.00000000};
                        }
                        vVar6 = {vVar6 * (fVar9 * l_U201)};
                        vVar6.z = 0.00000000;
                    }
                    if (DOES_OBJECT_EXIST( l_U279[15] ))
                    {
                        GET_OBJECT_COORDINATES( l_U279[15], ref vVar3.x, ref vVar3.y, ref vVar3.z );
                        vVar3.x += vVar6.x;
                        vVar3.y += vVar6.y;
                        if (sub_17420( ref vVar3 ))
                        {
                            SET_OBJECT_COORDINATES( l_U279[15], vVar3.x, vVar3.y, vVar3.z );
                        }
                    }
                    if (l_U56[l_U243])
                    {
                        if (NOT l_U0)
                        {
                            if (((IS_CONTROL_JUST_PRESSED( 2, 4 )) AND (NOT IS_USING_CONTROLLER())) || (IS_CONTROL_JUST_PRESSED( 2, 77 )))
                            {
                                GET_OBJECT_COORDINATES( l_U279[15], ref vVar3.x, ref vVar3.y, ref vVar3.z );
                                PLAY_SOUND_FROM_POSITION( l_U268, "POOL_TABLE_PLACE_BALL", vVar3 );
                                CLEAR_HELP();
                                l_U0 = 1;
                                l_U78 = 0;
                                sub_9759( 2 );
                            }
                        }
                    }
                    break;
                }
            }
            else if (sub_1268( 15 ))
            {
                sub_13004();
            }
            if (NOT l_U59)
            {
                if (DOES_OBJECT_EXIST( l_U279[15] ))
                {
                    SET_OBJECT_VISIBLE( l_U279[15], 0 );
                }
                if (DOES_OBJECT_EXIST( l_U296[15] ))
                {
                    DELETE_OBJECT( ref l_U296[15] );
                }
            }
            if (NOT l_U89)
            {
                if (DOES_OBJECT_EXIST( l_U279[15] ))
                {
                    GET_OBJECT_COORDINATES( l_U279[15], ref l_U433[0]._fU0, ref l_U433[0]._fU4, ref l_U433[0]._fU8 );
                }
                fVar9 = l_U165[1] - l_U165[0];
                fVar9 *= 0.33333300;
                fVar10 = l_U170[0] - l_U170[2];
                fVar10 *= 0.25000000;
                GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[0] + fVar9, l_U170[2] + (fVar10 * 1.00000000), l_U344._fU8, ref l_U433[1]._fU0, ref l_U433[1]._fU4, ref l_U433[1]._fU8 );
                GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[0] + fVar9, l_U170[2] + (fVar10 * 2.00000000), l_U344._fU8, ref l_U433[2]._fU0, ref l_U433[2]._fU4, ref l_U433[2]._fU8 );
                GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[0] + fVar9, l_U170[2] + (fVar10 * 3.00000000), l_U344._fU8, ref l_U433[3]._fU0, ref l_U433[3]._fU4, ref l_U433[3]._fU8 );
                GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[0] + (fVar9 * 2.00000000), l_U170[2] + (fVar10 * 1.00000000), l_U344._fU8, ref l_U433[4]._fU0, ref l_U433[4]._fU4, ref l_U433[4]._fU8 );
                GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[0] + (fVar9 * 2.00000000), l_U170[2] + (fVar10 * 2.00000000), l_U344._fU8, ref l_U433[5]._fU0, ref l_U433[5]._fU4, ref l_U433[5]._fU8 );
                GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[0] + (fVar9 * 2.00000000), l_U170[2] + (fVar10 * 3.00000000), l_U344._fU8, ref l_U433[6]._fU0, ref l_U433[6]._fU4, ref l_U433[6]._fU8 );
                l_U276 = -1;
                l_U225 = -1.00000000;
                for ( I = 0; I < 7; I++ )
                {
                    fVar9 = -1.00000000;
                    if (DOES_OBJECT_EXIST( l_U279[15] ))
                    {
                        if (sub_17769( l_U433[I] ))
                        {
                            SET_OBJECT_COORDINATES( l_U279[15], l_U433[I]._fU0, l_U433[I]._fU4, l_U433[I]._fU8 );
                            sub_20137( ref l_U415, ref l_U182, l_U260[l_U243], ref fVar9, ref l_U184, ref l_U183 );
                        }
                    }
                    PRINTSTRING( "Scratch position " );
                    PRINTINT( I );
                    PRINTSTRING( " score = " );
                    PRINTFLOAT( fVar9 );
                    PRINTSTRING( "\n" );
                    if (fVar9 > l_U225)
                    {
                        l_U276 = I;
                        l_U225 = fVar9;
                    }
                    WAIT( 0 );
                }
                if (NOT (l_U276 == -1))
                {
                    if (DOES_OBJECT_EXIST( l_U279[15] ))
                    {
                        SET_OBJECT_COORDINATES( l_U279[15], l_U433[l_U276]._fU0, l_U433[l_U276]._fU4, l_U433[l_U276]._fU8 );
                    }
                }
                else
                {
                    sub_13004();
                }
            }
            else
            {
                sub_13004();
                l_U89 = 0;
            }
            if (NOT l_U59)
            {
                if (DOES_OBJECT_EXIST( l_U279[15] ))
                {
                    SET_OBJECT_VISIBLE( l_U279[15], 0 );
                }
            }
            GET_OBJECT_COORDINATES( l_U279[15], ref vVar3.x, ref vVar3.y, ref vVar3.z );
            PLAY_SOUND_FROM_POSITION( l_U268, "POOL_TABLE_PLACE_BALL", vVar3 );
            l_U78 = 0;
            sub_9759( 2 );;
            break;
            case 2:
            sub_1042( 1 );
            if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
            {
                switch (l_U241)
                {
                    case 0:
                    if (DOES_OBJECT_EXIST( l_U279[15] ))
                    {
                        if (HAS_MODEL_LOADED( sub_11361( 15 ) ))
                        {
                            l_U241++;
                        }
                        else
                        {
                            REQUEST_MODEL( sub_11361( 15 ) );
                        }
                    }
                    break;
                    case 1:
                    PRINTSTRING( "POOL_GAME_STATE_APPROACH - started \n" );
                    if (NOT l_U74)
                    {
                        sub_20137( ref l_U353, ref l_U182, l_U260[l_U243], ref fVar9, ref l_U184, ref l_U183 );
                        if (NOT l_U56[l_U243])
                        {
                            if (l_U184 < 10.00000000)
                            {
                                l_U424._fU4 = l_U202 * -0.70000000;
                                if ((VMAG( l_U424 )) > l_U202)
                                {
                                    fVar18 = VMAG( l_U424 );
                                    if (fVar18 == 0.00000000)
                                    {
                                        l_U424 = {l_U424 / 0.00000001};
                                    }
                                    else
                                    {
                                        l_U424 = {l_U424 / fVar18};
                                    }
                                    l_U424 = {l_U424 * l_U202};
                                }
                                PRINTSTRING( "BACKSPIN APPLIED FOR AI \n" );
                            }
                        }
                    }
                    if (NOT l_U56[l_U243])
                    {
                        fVar9 = l_U182;
                        if (fVar9 > 2.50000000)
                        {
                            fVar9 = 2.50000000;
                        }
                        fVar9 /= 2.50000000;
                        fVar9 *= -1.00000000;
                        fVar9 += 1.00000000;
                        PRINTSTRING( "Pool AI fTemp =" );
                        PRINTFLOAT( fVar9 );
                        PRINTSTRING( "\n" );
                        GENERATE_RANDOM_FLOAT_IN_RANGE( l_U231 * -1.00000000, l_U231, ref fVar10 );
                        PRINTSTRING( "Pool AI fTemp2 =" );
                        PRINTFLOAT( fVar10 );
                        PRINTSTRING( "\n" );
                        fVar10 *= fVar9;
                        fVar10 *= 1.00000000 - l_U230;
                        PRINTSTRING( "Pool AI Accuracy is " );
                        PRINTFLOAT( l_U230 );
                        PRINTSTRING( ", rotating aim by " );
                        PRINTFLOAT( fVar10 );
                        PRINTSTRING( "\n" );
                        vVar6 = {0.00000000, 0.00000000, fVar10};
                        l_U353 = {sub_16653( l_U353, vVar6 )};
                    }
                    if (DOES_OBJECT_EXIST( l_U279[15] ))
                    {
                        if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U244] )))
                        {
                            TASK_LOOK_AT_OBJECT( l_U318._fU0[l_U244], l_U279[15], -2, 0 );
                        }
                    }
                    if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                    {
                        if (l_U56[l_U243])
                        {
                            if (l_U71)
                            {
                                if (IS_PLAYER_PLAYING( l_U318._fU12[l_U243] ))
                                {
                                    SET_PLAYER_CONTROL( l_U318._fU12[l_U243], 0 );
                                }
                            }
                            if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                            {
                                CLEAR_CHAR_TASKS_IMMEDIATELY( l_U318._fU0[l_U243] );
                            }
                        }
                        l_U74 = 0;
                        sub_30721( l_U318._fU0[l_U243], l_U353, 1 );
                        if (NOT l_U78)
                        {
                            OPEN_SEQUENCE_TASK( ref l_U329 );
                            switch (l_U245)
                            {
                                case 0:
                                TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, sub_32983( l_U318._fU0[l_U243] ), "MINI_POOL", 8.00000000, 0, 1, 0, 1, -1 );
                                break;
                                case 1:
                                TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, sub_33111( l_U318._fU0[l_U243] ), "MINI_POOL", 8.00000000, 0, 1, 0, 1, -1 );
                                break;
                                case 2:
                                TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, sub_33235( l_U318._fU0[l_U243] ), "MINI_POOL", 8.00000000, 0, 1, 0, 1, -1 );
                                break;
                                case 3:
                                TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, sub_33361( l_U318._fU0[l_U243] ), "MINI_POOL", 8.00000000, 0, 1, 0, 1, -1 );
                                break;
                            }
                            CLOSE_SEQUENCE_TASK( l_U329 );
                            TASK_PERFORM_SEQUENCE( l_U318._fU0[l_U243], l_U329 );
                            CLEAR_SEQUENCE_TASK( l_U329 );
                            SETTIMERA( 0 );
                        }
                        else
                        {
                            OPEN_SEQUENCE_TASK( ref l_U329 );
                            TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, "IDLE", "MINI_POOL", 8.00000000, 1, 0, 0, 0, -1 );
                            CLOSE_SEQUENCE_TASK( l_U329 );
                            TASK_PERFORM_SEQUENCE( l_U318._fU0[l_U243], l_U329 );
                            CLEAR_SEQUENCE_TASK( l_U329 );
                            SETTIMERA( 0 );
                        }
                        if (l_U78)
                        {
                            bVar15 = false;
                            SETTIMERA( 0 );
                            while (NOT bVar15)
                            {
                                WAIT( 0 );
                                bVar15 = false;
                                if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                                {
                                    if (IS_CHAR_PLAYING_ANIM( l_U318._fU0[l_U243], "MINI_POOL", "IDLE" ))
                                    {
                                        SET_CHAR_ANIM_CURRENT_TIME( l_U318._fU0[l_U243], "MINI_POOL", "IDLE", 0.42000000 );
                                        bVar15 = true;
                                    }
                                }
                                if (TIMERA() > 5000)
                                {
                                    bVar15 = true;
                                }
                            }
                        }
                        if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U244] )))
                        {
                            if (l_U56[l_U244])
                            {
                                if (IS_PLAYER_PLAYING( l_U318._fU12[l_U244] ))
                                {
                                    SET_PLAYER_CONTROL_ADVANCED( l_U318._fU12[l_U244], 0, 0, 1 );
                                }
                            }
                            sub_33926();
                        }
                        if (NOT IS_SCREEN_FADED_OUT())
                        {
                            sub_3064( 0 );
                        }
                        sub_34482();
                        if (IS_SCREEN_FADED_OUT())
                        {
                            DO_SCREEN_FADE_IN( 1000 );
                        }
                        l_U241++;
                    }
                    break;
                    case 2:
                    if (IS_SCREEN_FADED_IN())
                    {
                        SETTIMERA( 0 );
                        l_U241++;
                    }
                    break;
                    case 3:
                    if ((NOT l_U92) AND (l_U59))
                    {
                        if (l_U318._fU0[l_U243] == sub_3014())
                        {
                            if ((sub_35057()) AND (sub_1912( l_U318._fU0[l_U244] )))
                            {
                                if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U244] )))
                                {
                                    SAY_AMBIENT_SPEECH( l_U318._fU0[l_U244], "POOL_PLAYER_BREAK", 1, 1, 2 );
                                    PRINTSTRING( "\nPOOL AMBIENT SPEECH - iWaitingPlayer - POOL_PLAYER_BREAK \n" );
                                }
                            }
                            else if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                            {
                                SAY_AMBIENT_SPEECH( l_U318._fU0[l_U243], "POOL_PLAYER_BREAK", 1, 1, 2 );
                                PRINTSTRING( "\nPOOL AMBIENT SPEECH - iCurrentPlayer - POOL_PLAYER_BREAK \n" );
                            }
                        }
                        else if ((sub_35057()) AND (sub_1912( l_U318._fU0[l_U243] )))
                        {
                            if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                            {
                                SAY_AMBIENT_SPEECH( l_U318._fU0[l_U243], "POOL_FRIEND_BREAK", 1, 1, 2 );
                                PRINTSTRING( "\nPOOL AMBIENT SPEECH - iCurrentPlayer - POOL_FRIEND_BREAK \n" );
                            }
                        }
                        else if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U244] )))
                        {
                            SAY_AMBIENT_SPEECH( l_U318._fU0[l_U244], "POOL_FRIEND_BREAK", 1, 1, 2 );
                            PRINTSTRING( "\nPOOL AMBIENT SPEECH - iWaitingPlayer - POOL_FRIEND_BREAK \n" );
                        };;;
                        l_U92 = 1;
                    }
                    sub_34482();
                    if (DOES_OBJECT_EXIST( l_U279[15] ))
                    {
                        SET_OBJECT_VISIBLE( l_U279[15], 1 );
                    }
                    if (NOT l_U78)
                    {
                        switch (l_U245)
                        {
                            case 0:
                            if (IS_CHAR_PLAYING_ANIM( l_U318._fU0[l_U243], "MINI_POOL", sub_32983( l_U318._fU0[l_U243] ) ))
                            {
                                GET_CHAR_ANIM_CURRENT_TIME( l_U318._fU0[l_U243], "MINI_POOL", sub_32983( l_U318._fU0[l_U243] ), ref fVar9 );
                            }
                            break;
                            case 1:
                            if (IS_CHAR_PLAYING_ANIM( l_U318._fU0[l_U243], "MINI_POOL", sub_33111( l_U318._fU0[l_U243] ) ))
                            {
                                GET_CHAR_ANIM_CURRENT_TIME( l_U318._fU0[l_U243], "MINI_POOL", sub_33111( l_U318._fU0[l_U243] ), ref fVar9 );
                            }
                            break;
                            case 2:
                            if (IS_CHAR_PLAYING_ANIM( l_U318._fU0[l_U243], "MINI_POOL", sub_33235( l_U318._fU0[l_U243] ) ))
                            {
                                GET_CHAR_ANIM_CURRENT_TIME( l_U318._fU0[l_U243], "MINI_POOL", sub_33235( l_U318._fU0[l_U243] ), ref fVar9 );
                            }
                            break;
                            case 3:
                            if (IS_CHAR_PLAYING_ANIM( l_U318._fU0[l_U243], "MINI_POOL", sub_33361( l_U318._fU0[l_U243] ) ))
                            {
                                GET_CHAR_ANIM_CURRENT_TIME( l_U318._fU0[l_U243], "MINI_POOL", sub_33361( l_U318._fU0[l_U243] ), ref fVar9 );
                            }
                            break;
                        }
                    }
                    else if (IS_CHAR_PLAYING_ANIM( l_U318._fU0[l_U243], "MINI_POOL", "IDLE" ))
                    {
                        GET_CHAR_ANIM_CURRENT_TIME( l_U318._fU0[l_U243], "MINI_POOL", "IDLE", ref fVar9 );
                    }
                    else
                    {
                        fVar9 = -1.00000000;
                    }
                    bVar15 = false;
                    GET_SCRIPT_TASK_STATUS( l_U318._fU0[l_U243], 29, ref l_U331 );
                    if ((TIMERA() > 1000) AND (l_U331 == 7))
                    {
                        bVar15 = true;
                    }
                    if (TIMERA() > 5000)
                    {
                        bVar15 = true;
                    }
                    if (NOT l_U0)
                    {
                        if (((IS_CONTROL_JUST_PRESSED( 2, 4 )) AND (NOT IS_USING_CONTROLLER())) || (IS_CONTROL_JUST_PRESSED( 2, 77 )))
                        {
                            bVar15 = true;
                            l_U0 = 1;
                        }
                    }
                    if (NOT l_U78)
                    {
                        switch (l_U245)
                        {
                            case 0:
                            if (fVar9 > l_U206[0])
                            {
                                bVar15 = true;
                            }
                            break;
                            case 1:
                            if (fVar9 > l_U206[1])
                            {
                                bVar15 = true;
                            }
                            break;
                            case 2:
                            if (fVar9 > l_U206[2])
                            {
                                bVar15 = true;
                            }
                            break;
                            case 3:
                            if (fVar9 > l_U206[3])
                            {
                                bVar15 = true;
                            }
                            break;
                        }
                    }
                    else if (fVar9 > 0.64000000)
                    {
                        bVar15 = true;
                    }
                    if (bVar15)
                    {
                        SETTIMERA( 0 );
                        l_U241++;
                    }
                    break;
                    case 4:
                    if (l_U56[l_U243])
                    {
                        if (l_U78)
                        {
                            sub_9759( 1 );
                        }
                        else
                        {
                            sub_9759( 3 );
                        }
                    }
                    else if (l_U78)
                    {
                        sub_9759( 1 );
                    }
                    else
                    {
                        sub_9759( 4 );
                    }
                    break;
                }
            }
            break;
            case 3:
            SET_ENABLE_NEAR_CLIP_SCAN( 0 );
            sub_1042( 1 );
            if (l_U67)
            {
                sub_20137( ref l_U415, ref l_U182, l_U260[l_U243], ref fVar9, ref l_U184, ref l_U183 );
                l_U67 = 0;
            }
            if (l_U56[l_U243])
            {
                if (IS_CONTROL_JUST_PRESSED( 2, 23 ))
                {
                    CLEAR_PRINTS();
                    if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                    {
                        CLEAR_CHAR_TASKS_IMMEDIATELY( l_U318._fU0[l_U243] );
                    }
                    sub_36963();
                    sub_9759( 8 );
                    l_U0 = 1;
                    break;
                }
            }
            if (NOT l_U0)
            {
                if ((IS_CONTROL_JUST_PRESSED( 2, 0 )) || (IS_BUTTON_PRESSED( l_U318._fU32[l_U243], 13 )))
                {
                    if (l_U66)
                    {
                        l_U66 = 0;
                    }
                    else
                    {
                        l_U66 = 1;
                    }
                    l_U0 = 1;
                }
            }
            if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
            {
                switch (l_U241)
                {
                    case 0:
                    FREEZE_OBJECT_POSITION( l_U279[15], 1 );
                    SET_OBJECT_QUATERNION( l_U279[15], 0.00000000, 0.00000000, 0.00000000, 1.00000000 );
                    sub_37327( ref l_U318._fU0[l_U243], l_U353, 0 );
                    if (DOES_OBJECT_EXIST( l_U313[l_U243] ))
                    {
                        SET_OBJECT_VISIBLE( l_U313[l_U243], 0 );
                    }
                    l_U148 = l_U154;
                    l_U147 = l_U154;
                    sub_37770();
                    SETTIMERA( 0 );
                    l_U205 = 0.00000000;
                    l_U81 = 0;
                    l_U82 = 0;
                    l_U241++;
                    break;
                    case 1:
                    if (l_U205 > 30000.00000000)
                    {
                        if ((NOT (l_U318._fU0[l_U244] == sub_3014())) AND (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U244] ))))
                        {
                            SAY_AMBIENT_SPEECH( l_U318._fU0[l_U244], "POOL_PLAYER_SLOW", 1, 1, 2 );
                            PRINTSTRING( "\nPOOL AMBIENT SPEECH - iWaitingPlayer - POOL_PLAYER_SLOW \n" );
                        }
                        l_U205 = 0.00000000;
                    }
                    if (NOT l_U66)
                    {
                        if (NOT l_U81)
                        {
                            CLEAR_HELP();
                            switch (l_U260[l_U243])
                            {
                                case 0:
                                PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_03", "ANY" );
                                break;
                                case 1:
                                PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_03", "SOLID" );
                                break;
                                case 2:
                                PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_03", "STRIPE" );
                                break;
                                case 3:
                                PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_03", "BLACK" );
                                break;
                            }
                            l_U81 = 1;
                        }
                        l_U82 = 0;
                    }
                    else if (NOT l_U82)
                    {
                        CLEAR_HELP();
                        switch (l_U260[l_U243])
                        {
                            case 0:
                            l_U330 = "ANY";
                            break;
                            case 1:
                            l_U330 = "SOLID";
                            break;
                            case 2:
                            l_U330 = "STRIPE";
                            break;
                            case 3:
                            l_U330 = "BLACK";
                            break;
                        }
                        PRINT_HELP_WITH_STRING_NO_SOUND( "PLH_03B", l_U330 );
                        l_U229 = 0.00000000;
                        l_U82 = 1;
                    }
                    else if (NOT (IS_THIS_HELP_MESSAGE_WITH_STRING_BEING_DISPLAYED( "PLH_11", l_U330 )))
                    {
                        if (NOT IS_HELP_MESSAGE_BEING_DISPLAYED())
                        {
                            PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_11", l_U330 );
                        }
                        else if (NOT l_U0)
                        {
                            if (IS_CONTROL_JUST_PRESSED( 2, 78 ))
                            {
                                CLEAR_HELP();
                                l_U0 = 1;
                            }
                        }
                        if (l_U229 > 7000.00000000)
                        {
                            CLEAR_HELP();
                        }
                    }
                    else if (NOT l_U0)
                    {
                        if (IS_CONTROL_JUST_PRESSED( 2, 78 ))
                        {
                            l_U82 = 0;
                            l_U0 = 1;
                        }
                    };;;
                    l_U81 = 0;;
                    if (NOT l_U0)
                    {
                        GET_POSITION_OF_ANALOGUE_STICKS( l_U318._fU32[l_U243], ref l_U247, ref l_U248, ref l_U249, ref l_U250 );
                        if ((l_U248 == 0) AND (l_U247 == 0))
                        {
                            GET_KEYBOARD_MOVE_INPUT( ref l_U247, ref l_U248 );
                        }
                        if ((l_U247 < 65508) || (l_U247 > 28))
                        {
                            if (l_U247 < 0)
                            {
                                bVar15 = false;
                                fVar9 = (TO_FLOAT( l_U247 )) * -1.00000000;
                            }
                            else
                            {
                                bVar15 = true;
                                fVar9 = TO_FLOAT( l_U247 );
                            }
                            fVar9 += -28.00000000;
                            fVar9 *= fVar9;
                            fVar9 /= 10000.00000000;
                            if ((IS_CONTROL_PRESSED( 2, 2 )) || (IS_BUTTON_PRESSED( 0, 14 )))
                            {
                                fVar9 *= 0.20000000;
                            }
                            else
                            {
                                fVar9 *= 5.00000000;
                            }
                            if (bVar15)
                            {
                                fVar9 *= -1.00000000;
                            }
                            l_U108 += fVar9;
                            if (l_U108 >= 360.00000000)
                            {
                                l_U108 += -360.00000000;
                            }
                            if (l_U108 < 0.00000000)
                            {
                                l_U108 += 360.00000000;
                            }
                            l_U353 = {sub_16653( 0.00000000, 5.00000000, 0.00000000, 0.00000000, 0.00000000, l_U108 )};
                        }
                    }
                    if (NOT l_U0)
                    {
                        vVar6 = {sub_42171()};
                        l_U203 = VMAG( vVar6 );
                        if ((NOT IS_USING_CONTROLLER()) AND (# -NULL-0xc27bfa()))
                        {
                            fVar16 = 0.00000000;
                            fVar17 = 5.00000000;
                        }
                        else
                        {
                            fVar16 = 28.00000000;
                            fVar17 = 1.00000000;
                        }
                        if (l_U203 > fVar16)
                        {
                            l_U203 += -1.00000000 * fVar16;
                            l_U203 *= l_U203;
                            l_U203 /= 10000.00000000;
                            fVar18 = VMAG( vVar6 );
                            if (fVar18 == 0.00000000)
                            {
                                vVar6 = {vVar6 / 0.00000001};
                            }
                            else
                            {
                                vVar6 = {vVar6 / fVar18};
                            }
                            vVar6 = {vVar6 * ((l_U203 * l_U204) * fVar17)};
                            l_U424 = {l_U424 + vVar6};
                            fVar18 = VMAG( l_U424 );
                            if (fVar18 > l_U202)
                            {
                                if (fVar18 == 0.00000000)
                                {
                                    l_U424 = {l_U424 / 0.00000010};
                                }
                                else
                                {
                                    l_U424 = {l_U424 / fVar18};
                                }
                                l_U424 = {l_U424 * l_U202};
                            }
                        }
                    }
                    if (DOES_OBJECT_EXIST( l_U279[15] ))
                    {
                        GET_OBJECT_COORDINATES( l_U279[15], ref vVar3.x, ref vVar3.y, ref vVar3.z );
                        vVar6 = {l_U353};
                        vVar6.z = 0.00000000;
                        fVar18 = VMAG( l_U353 );
                        if (fVar18 == 0.00000000)
                        {
                            vVar6 = {vVar6 / 0.00000010};
                        }
                        else
                        {
                            vVar6 = {vVar6 / fVar18};
                        }
                        vVar6 = {vVar6 * (3.00000000 * 0.03950000)};
                        vVar3 = {vVar3 - vVar6};
                        if (NOT (sub_18008( vVar3, l_U599 )))
                        {
                            if (l_U424._fU4 < 0.00000000)
                            {
                                l_U424._fU4 = 0.00000000;
                            }
                        }
                    }
                    if ((IS_MOUSE_BUTTON_PRESSED( 2 )) || (IS_BUTTON_PRESSED( 0, 19 )))
                    {
                        l_U424 = {0.00000000, 0.00000000, 0.00000000};
                    }
                    if (l_U56[l_U243])
                    {
                        if (DOES_OBJECT_EXIST( l_U279[15] ))
                        {
                            GET_OBJECT_COORDINATES( l_U279[15], ref vVar3.x, ref vVar3.y, ref vVar3.z );
                        }
                        if (sub_18008( vVar3, l_U599 ))
                        {
                            sub_42948( l_U279[15], l_U353 );
                        }
                        else
                        {
                            sub_3771();
                        }
                    }
                    if (NOT l_U66)
                    {
                        sub_44733( l_U353 );
                        sub_45245( l_U353 );
                    }
                    if (NOT l_U0)
                    {
                        if (((IS_CONTROL_JUST_PRESSED( 2, 4 )) AND (NOT IS_USING_CONTROLLER())) || (IS_CONTROL_JUST_PRESSED( 2, 77 )))
                        {
                            l_U0 = 1;
                            CLEAR_PRINTS();
                            sub_9759( 4 );
                        }
                    }
                    sub_37327( ref l_U318._fU0[l_U243], l_U353, 0 );
                    sub_37770();
                    break;
                }
            }
            if (NOT l_U66)
            {
                sub_46175();
            }
            else if (DOES_OBJECT_EXIST( l_U316 ))
            {
                SET_OBJECT_VISIBLE( l_U316, 0 );
            }
            sub_36963();
            sub_13816();;
            break;
            case 4:
            sub_1042( 1 );
            sub_45245( l_U353 );
            if (l_U56[l_U243])
            {
                if (IS_CONTROL_JUST_PRESSED( 2, 23 ))
                {
                    CLEAR_PRINTS();
                    if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                    {
                        CLEAR_CHAR_TASKS_IMMEDIATELY( l_U318._fU0[l_U243] );
                    }
                    sub_36963();
                    sub_9759( 8 );
                    l_U0 = 1;
                    break;
                }
            }
            if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
            {
                switch (l_U241)
                {
                    case 0:
                    HINT_CAM( 0.00000000, 0.00000000, 0.00000000, 0, 0, 0, 0 );
                    sub_37327( ref l_U318._fU0[l_U243], l_U353, 1 );
                    sub_33926();
                    l_U148 = l_U154;
                    l_U147 = l_U154;
                    sub_37770();
                    if (DOES_OBJECT_EXIST( l_U313[l_U243] ))
                    {
                        SET_OBJECT_VISIBLE( l_U313[l_U243], 1 );
                    }
                    sub_47497();
                    SETTIMERA( 0 );
                    l_U212 = 15000.00000000 * 0.80000000;
                    l_U61 = 0;
                    l_U272 = 0;
                    l_U221 = 0.00000000;
                    GET_GAME_TIMER( ref l_U273 );
                    l_U96 = 0;
                    l_U278 = 0;
                    l_U241++;
                    break;
                    case 1:
                    if (l_U205 > 30000.00000000)
                    {
                        if ((NOT (l_U318._fU0[l_U244] == sub_3014())) AND (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U244] ))))
                        {
                            SAY_AMBIENT_SPEECH( l_U318._fU0[l_U244], "POOL_PLAYER_SLOW", 1, 1, 2 );
                            PRINTSTRING( "\nPOOL AMBIENT SPEECH - iWaitingPlayer - POOL_PLAYER_SLOW \n" );
                        }
                        l_U205 = 0.00000000;
                    }
                    if (l_U56[l_U243])
                    {
                        if (NOT (IS_THIS_HELP_MESSAGE_BEING_DISPLAYED( "PLH_04" )))
                        {
                            CLEAR_HELP();
                            PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_04", "" );
                        }
                        if (NOT l_U0)
                        {
                            GET_POSITION_OF_ANALOGUE_STICKS( l_U318._fU32[l_U243], ref l_U247, ref l_U248, ref l_U249, ref l_U250 );
                            if ((l_U250 == 0) AND (l_U249 == 0))
                            {
                                GET_MOUSE_INPUT( ref l_U249, ref l_U250 );
                            }
                            if (NOT l_U96)
                            {
                                if (l_U250 < 0)
                                {
                                    l_U250 = 0;
                                }
                                if (l_U250 > 32)
                                {
                                    l_U96 = 1;
                                }
                            }
                            if (l_U250 < l_U272)
                            {
                                if (l_U272 > l_U278)
                                {
                                    l_U278 = l_U272;
                                }
                            }
                            if (l_U250 == l_U272)
                            {
                                if (l_U228 > 300.00000000)
                                {
                                    l_U278 = l_U272;
                                }
                            }
                            else
                            {
                                l_U228 = 0.00000000;
                            }
                            GET_FRAME_TIME( ref fVar9 );
                            fVar9 *= 1000.00000000;
                            fVar9 = (TO_FLOAT( l_U250 - l_U272 )) / fVar9;
                            fVar9 *= -1.00000000;
                            l_U227 = 0.00000000;
                            l_U227 = sub_48749( fVar9 );
                            l_U227 *= 2.00000000;
                            if (l_U227 > l_U150)
                            {
                                l_U227 = l_U150;
                            }
                            if (l_U227 < l_U151)
                            {
                                l_U227 = l_U151;
                            }
                            l_U272 = l_U250;
                            fVar9 = (TO_FLOAT( l_U250 )) / -128.00000000;
                            if (fVar9 <= 0.00000000)
                            {
                                l_U147 = (l_U154 - l_U155) - ((fVar9 * -1.00000000) * (l_U154 - l_U155));
                            }
                            else
                            {
                                l_U147 = l_U156;
                            }
                            l_U269 = l_U249;
                        }
                    }
                    else if (TIMERA() > 2000)
                    {
                        if (NOT l_U61)
                        {
                            l_U147 = 0.00000000;
                        }
                        else
                        {
                            l_U147 = l_U156;
                        }
                    }
                    l_U269 = 0;;
                    sub_37327( ref l_U318._fU0[l_U243], l_U353, 1 );
                    l_U157 = l_U147 - l_U148;
                    if (l_U157 > l_U152)
                    {
                        l_U157 = l_U152;
                    }
                    if (l_U157 < (l_U152 * -1.00000000))
                    {
                        l_U157 = l_U152 * -1.00000000;
                    }
                    l_U148 += l_U157;
                    if (l_U148 > 1.00000000)
                    {
                        l_U148 = 1.00000000;
                    }
                    if (NOT l_U56[l_U243])
                    {
                        if (l_U148 < 0.05000000)
                        {
                            l_U61 = 1;
                        }
                    }
                    sub_37770();
                    if (l_U147 > l_U153)
                    {
                        if (l_U56[l_U243])
                        {
                            GET_GAME_TIMER( ref I );
                            l_U274 = I - l_U273;
                            if (l_U274 < 1)
                            {
                                l_U274 = 1;
                            }
                            if (l_U274 > 1000)
                            {
                                l_U274 = 1000;
                            }
                            PRINTSTRING( "fCueSpeed = " );
                            PRINTFLOAT( l_U227 );
                            PRINTSTRING( "\n" );
                            l_U149 = l_U227 * ((TO_FLOAT( l_U278 )) / 128.00000000);
                            if (l_U149 > l_U150)
                            {
                                l_U149 = l_U150;
                            }
                            if (l_U149 < l_U151)
                            {
                                l_U149 = l_U151;
                            }
                            PRINTSTRING( "fShotPower = " );
                            PRINTFLOAT( l_U149 );
                            PRINTSTRING( "\n" );
                        }
                        else if (NOT l_U59)
                        {
                            fVar9 = l_U182;
                            if (fVar9 > 2.00000000)
                            {
                                fVar9 = 2.00000000;
                            }
                            if (fVar9 < 0.00000000)
                            {
                                fVar9 = 0.00000000;
                            }
                            fVar9 /= 2.00000000;
                            fVar10 = l_U150 - l_U151;
                            fVar9 *= fVar10;
                            fVar9 += l_U151;
                            l_U149 = fVar9;
                        }
                        else
                        {
                            l_U149 = l_U150;
                        }
                        PRINTSTRING( "AI fShotPower = " );
                        PRINTFLOAT( l_U149 );
                        PRINTSTRING( "\n" );;
                        l_U241++;
                    }
                    if (l_U56[l_U243])
                    {
                        if (NOT l_U0)
                        {
                            if (IS_CONTROL_JUST_PRESSED( 2, 78 ))
                            {
                                l_U0 = 1;
                                sub_9759( 3 );
                            }
                        }
                    }
                    sub_47497();
                    break;
                    case 2:
                    CLEAR_HELP();
                    fVar9 = l_U147 - l_U148;
                    if (fVar9 > l_U152)
                    {
                        fVar9 = l_U152;
                    }
                    if (fVar9 < (l_U152 * -1.00000000))
                    {
                        fVar9 = l_U152 * -1.00000000;
                    }
                    l_U148 += fVar9;
                    if (l_U148 > 1.00000000)
                    {
                        l_U148 = 1.00000000;
                    }
                    sub_37770();
                    if (l_U148 > l_U153)
                    {
                        fVar18 = VMAG( l_U353 );
                        if (fVar18 == 0.00000000)
                        {
                            vVar6 = {l_U353 / 0.00000010};
                        }
                        else
                        {
                            vVar6 = {l_U353 / fVar18};
                        }
                        if ((l_U269 < 65472) || (l_U269 > 64))
                        {
                            fVar9 = TO_FLOAT( l_U269 );
                            if (fVar9 < 0.00000000)
                            {
                                fVar9 *= -1.00000000;
                            }
                            fVar9 /= 128.00000000;
                            if (l_U269 < 0)
                            {
                                fVar9 *= -1.00000000;
                            }
                            fVar9 *= 0.10000000;
                            sub_50249( ref vVar6, fVar9, 0.00000000, 0.00000000 );
                        }
                        vVar6 = {vVar6 * l_U149};
                        vVar6.z = 0.00000000;
                        FREEZE_OBJECT_POSITION( l_U279[15], 0 );
                        sub_1042( 0 );
                        sub_36963();
                        APPLY_FORCE_TO_OBJECT( l_U279[15], 1, vVar6, l_U400, 0, 0, 1, 1 );
                        l_U418 = {sub_30921( l_U318._fU0[l_U243], l_U353, 1 )};
                        l_U418._fU8 += l_U530;
                        GET_OBJECT_COORDINATES( l_U279[15], ref vVar3.x, ref vVar3.y, ref vVar3.z );
                        if ((l_U269 < 65472) || (l_U269 > 64))
                        {
                            PLAY_SOUND_FROM_POSITION( l_U268, "POOL_TABLE_MIS_CUE", vVar3 );
                        }
                        else
                        {
                            PLAY_SOUND_FROM_POSITION( l_U268, "POOL_TABLE_CUE_HIT_BALL", vVar3 );
                        }
                        SETTIMERA( 0 );
                        sub_9759( 5 );
                    }
                    sub_47497();
                    break;
                }
            }
            break;
            case 5:
            sub_1042( 0 );
            if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
            {
                switch (l_U241)
                {
                    case 0:
                    sub_47497();
                    fVar9 = l_U160 - l_U157;
                    fVar9 *= l_U161;
                    l_U157 += fVar9;
                    l_U148 += l_U157;
                    if (l_U148 > 1.00000000)
                    {
                        l_U148 = 1.00000000;
                    }
                    l_U148 = 1.00000000;
                    sub_37770();
                    if (l_U148 == 1.00000000)
                    {
                        OPEN_SEQUENCE_TASK( ref l_U329 );
                        switch (l_U245)
                        {
                            case 0:
                            TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, sub_50942( l_U318._fU0[l_U243] ), "MINI_POOL", 9999.90000000, 0, 1, 0, 0, -1 );
                            break;
                            case 1:
                            TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, sub_51066( l_U318._fU0[l_U243] ), "MINI_POOL", 9999.90000000, 0, 1, 0, 0, -1 );
                            break;
                            case 2:
                            TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, sub_51186( l_U318._fU0[l_U243] ), "MINI_POOL", 9999.90000000, 0, 1, 0, 0, -1 );
                            break;
                            case 3:
                            TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, sub_51308( l_U318._fU0[l_U243] ), "MINI_POOL", 9999.90000000, 0, 1, 0, 0, -1 );
                            break;
                        }
                        if (DOES_OBJECT_EXIST( l_U279[15] ))
                        {
                            TASK_LOOK_AT_OBJECT( 0, l_U279[15], -2, 0 );
                        }
                        TASK_PLAY_ANIM( 0, "IDLE", "MINI_POOL", 4.00000000, 1, 0, 0, 0, -1 );
                        CLOSE_SEQUENCE_TASK( l_U329 );
                        TASK_PERFORM_SEQUENCE( l_U318._fU0[l_U243], l_U329 );
                        CLEAR_SEQUENCE_TASK( l_U329 );
                        l_U75 = 0;
                        SETTIMERA( 0 );
                        l_U241++;
                    }
                    break;
                    case 1:
                    if (NOT l_U75)
                    {
                        if (sub_51584())
                        {
                            l_U75 = 1;
                        }
                    }
                    if (IS_CHAR_PLAYING_ANIM( l_U318._fU0[l_U243], "MINI_POOL", "IDLE" ))
                    {
                        l_U241++;
                    }
                    else if (DOES_OBJECT_EXIST( l_U317 ))
                    {
                        GET_OBJECT_COORDINATES( l_U317, ref vVar3.x, ref vVar3.y, ref vVar3.z );
                        vVar6 = {l_U418 - vVar3};
                        vVar6 = {vVar6 * 0.10000000};
                        vVar3 = {vVar3 + vVar6};
                        SET_OBJECT_COORDINATES( l_U317, vVar3.x, vVar3.y, vVar3.z );
                    }
                    break;
                    case 2:
                    if (DOES_OBJECT_EXIST( l_U279[15] ))
                    {
                        if (sub_1268( 15 ))
                        {
                            for ( I = 0; I < 2; I++ )
                            {
                                if (NOT (IS_CHAR_INJURED( l_U318._fU0[I] )))
                                {
                                    TASK_CLEAR_LOOK_AT( l_U318._fU0[I] );
                                }
                            }
                        }
                    }
                    if (DOES_OBJECT_EXIST( l_U317 ))
                    {
                        GET_OBJECT_COORDINATES( l_U317, ref vVar3.x, ref vVar3.y, ref vVar3.z );
                        vVar6 = {l_U418 - vVar3};
                        vVar6 = {vVar6 * 0.30000000};
                        vVar3 = {vVar3 + vVar6};
                        SET_OBJECT_COORDINATES( l_U317, vVar3.x, vVar3.y, vVar3.z );
                    }
                    bVar15 = false;
                    if ((sub_52717()) AND (TIMERA() > 3000))
                    {
                        bVar15 = true;
                    }
                    if ((TIMERA() > 20000) || (IS_KEYBOARD_KEY_JUST_PRESSED( 36 )))
                    {
                        bVar15 = true;
                    }
                    if ((TIMERB() > 1000) AND (bVar15))
                    {
                        for ( I = 0; I < 2; I++ )
                        {
                            if (NOT (IS_CHAR_INJURED( l_U318._fU0[I] )))
                            {
                                TASK_CLEAR_LOOK_AT( l_U318._fU0[I] );
                            }
                        }
                        sub_53173();
                        sub_9759( 6 );
                    }
                    else if (NOT bVar15)
                    {
                        SETTIMERB( 0 );
                    }
                    break;
                }
            }
            break;
            case 6:
            sub_1042( 1 );
            switch (l_U241)
            {
                case 0:
                l_U95 = 0;
                if (l_U74)
                {
                    l_U241 = 2;
                    break;
                }
                l_U263 = sub_53450( l_U243 );
                sub_54311();
                l_U252 = 0;
                l_U257 = 0;
                l_U258 = 0;
                for ( I = 0; I < 16; I++ )
                {
                    if (NOT (I == 15))
                    {
                        if (l_U5[I])
                        {
                            if (I < 7)
                            {
                                l_U257++;
                            }
                            if (I > 7)
                            {
                                l_U258++;
                            }
                            l_U252++;
                        }
                    }
                }
                if (l_U263 == 0)
                {
                    if (l_U254 == 0)
                    {
                        if (sub_3014() == l_U318._fU0[l_U243])
                        {
                            if ((sub_35057()) AND (sub_1912( l_U318._fU0[l_U244] )))
                            {
                                if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U244] )))
                                {
                                    SAY_AMBIENT_SPEECH( l_U318._fU0[l_U244], "POOL_PLAYER_MISS", 1, 1, 2 );
                                    PRINTSTRING( "\nPOOL AMBIENT SPEECH - iWaitingPlayer - POOL_PLAYER_MISS \n" );
                                }
                            }
                            else if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                            {
                                SAY_AMBIENT_SPEECH( l_U318._fU0[l_U243], "POOL_PLAYER_MISS", 1, 1, 2 );
                                PRINTSTRING( "\nPOOL AMBIENT SPEECH - iCurrentPlayer - POOL_PLAYER_MISS \n" );
                            }
                        }
                        else if (l_U277 == 1)
                        {
                            if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                            {
                                SAY_AMBIENT_SPEECH( l_U318._fU0[l_U243], "POOL_MISS_EASY_SHOT", 1, 1, 2 );
                                PRINTSTRING( "\nPOOL AMBIENT SPEECH - iCurrentPlayer - POOL_MISS_EASY_SHOT \n" );
                            }
                        }
                        switch (l_U243)
                        {
                            case 0:
                            l_U243 = 1;
                            l_U244 = 0;
                            break;
                            case 1:
                            l_U243 = 0;
                            l_U244 = 1;
                            break;
                        }
                        l_U95 = 1;
                        l_U266 = 0;
                        l_U72 = 0;
                    }
                    else
                    {
                        l_U266++;
                        if (NOT l_U59)
                        {
                            if (l_U260[l_U243] == 0)
                            {
                                if (l_U255 == l_U254)
                                {
                                    if (l_U56[l_U243])
                                    {
                                        if (l_U255 == 1)
                                        {
                                            PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10", "OK_2A" );
                                        }
                                        else
                                        {
                                            PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10", "OK_2B" );
                                        }
                                    }
                                    else
                                    {
                                        l_U95 = 1;
                                    }
                                    switch (l_U243)
                                    {
                                        case 0:
                                        l_U260[0] = 1;
                                        l_U260[1] = 2;
                                        break;
                                        case 1:
                                        l_U260[0] = 2;
                                        l_U260[1] = 1;
                                        break;
                                    }
                                }
                                if (l_U256 == l_U254)
                                {
                                    if (l_U56[l_U243])
                                    {
                                        if (l_U256 == 1)
                                        {
                                            PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10", "OK_3A" );
                                        }
                                        else
                                        {
                                            PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10", "OK_3B" );
                                        }
                                    }
                                    else
                                    {
                                        l_U95 = 1;
                                    }
                                    switch (l_U243)
                                    {
                                        case 0:
                                        l_U260[0] = 2;
                                        l_U260[1] = 1;
                                        break;
                                        case 1:
                                        l_U260[0] = 1;
                                        l_U260[1] = 2;
                                        break;
                                    }
                                }
                                if ((l_U256 > 0) AND ((l_U255 > 0) AND ((l_U255 + l_U256) == l_U254)))
                                {
                                    if (l_U56[l_U243])
                                    {
                                        PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10", "OK_4" );
                                    }
                                    else
                                    {
                                        l_U95 = 1;
                                    }
                                }
                            }
                            else if (l_U260[l_U243] == 1)
                            {
                                if (l_U56[l_U243])
                                {
                                    if (l_U255 == 1)
                                    {
                                        PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10", "OK_2A" );
                                    }
                                    else
                                    {
                                        PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10", "OK_2B" );
                                    }
                                }
                                else
                                {
                                    l_U95 = 1;
                                }
                                if (l_U257 == 7)
                                {
                                    l_U260[l_U243] = 3;
                                }
                            }
                            else if (l_U260[l_U243] == 2)
                            {
                                if (l_U56[l_U243])
                                {
                                    if (l_U256 == 1)
                                    {
                                        PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10", "OK_3A" );
                                    }
                                    else
                                    {
                                        PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10", "OK_3B" );
                                    }
                                }
                                else
                                {
                                    l_U95 = 1;
                                }
                                if (l_U258 == 7)
                                {
                                    l_U260[l_U243] = 3;
                                }
                            }
                            else if (l_U260[l_U243] == 3)
                            {
                                if (l_U56[l_U243])
                                {
                                    PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10B", "OK_5" );
                                }
                                else
                                {
                                    l_U95 = 1;
                                }
                                l_U264 = l_U243;
                            };;;;
                            if (l_U264 == -1)
                            {
                                if (l_U318._fU0[l_U243] == sub_3014())
                                {
                                    if ((NOT (l_U260[l_U243] == 3)) AND (l_U266 >= 3))
                                    {
                                        if ((sub_35057()) AND (sub_1912( l_U318._fU0[l_U244] )))
                                        {
                                            if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U244] )))
                                            {
                                                SAY_AMBIENT_SPEECH( l_U318._fU0[l_U244], "POOL_PLAYER_POTS_MANY", 1, 1, 2 );
                                                PRINTSTRING( "\nPOOL AMBIENT SPEECH - iWaitingPlayer - POOL_PLAYER_POTS_MANY \n" );
                                            }
                                        }
                                        else if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                                        {
                                            SAY_AMBIENT_SPEECH( l_U318._fU0[l_U243], "POOL_PLAYER_POTS_MANY", 1, 1, 2 );
                                            PRINTSTRING( "\nPOOL AMBIENT SPEECH - iCurrentPlayer - POOL_PLAYER_POTS_MANY \n" );
                                        }
                                    }
                                    else if (l_U260[l_U243] == 3)
                                    {
                                        if ((sub_35057()) AND (sub_1912( l_U318._fU0[l_U244] )))
                                        {
                                            if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U244] )))
                                            {
                                                SAY_AMBIENT_SPEECH( l_U318._fU0[l_U244], "POOL_PLAYER_GOES_FOR_BLACK", 1, 1, 2 );
                                                PRINTSTRING( "\nPOOL AMBIENT SPEECH - iWaitingPlayer - POOL_PLAYER_GOES_FOR_BLACK \n" );
                                            }
                                        }
                                        else if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                                        {
                                            SAY_AMBIENT_SPEECH( l_U318._fU0[l_U243], "POOL_PLAYER_GOES_FOR_BLACK", 1, 1, 2 );
                                            PRINTSTRING( "\nPOOL AMBIENT SPEECH - iCurrentPlayer - POOL_PLAYER_GOES_FOR_BLACK \n" );
                                        }
                                    }
                                    else if (l_U277 == 3)
                                    {
                                        if (sub_1912( l_U318._fU0[l_U244] ))
                                        {
                                            if (sub_35057())
                                            {
                                                if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U244] )))
                                                {
                                                    SAY_AMBIENT_SPEECH( l_U318._fU0[l_U244], "POOL_PLAYER_POTS", 1, 1, 2 );
                                                    PRINTSTRING( "\nPOOL AMBIENT SPEECH - iWaitingPlayer - POOL_PLAYER_POTS \n" );
                                                }
                                            }
                                            else if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                                            {
                                                SAY_AMBIENT_SPEECH( l_U318._fU0[l_U243], "POOL_PLAYER_POTS", 1, 1, 2 );
                                                PRINTSTRING( "\nPOOL AMBIENT SPEECH - iCurrentPlayer - POOL_PLAYER_POTS \n" );
                                            }
                                        }
                                        else if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U244] )))
                                        {
                                            SAY_AMBIENT_SPEECH( l_U318._fU0[l_U244], "POOL_FLUKE_SHOT", 1, 1, 2 );
                                            PRINTSTRING( "\nPOOL AMBIENT SPEECH - iWaitingPlayer - POOL_FLUKE_SHOT \n" );
                                        }
                                    }
                                    else if ((sub_35057()) AND (sub_1912( l_U318._fU0[l_U244] )))
                                    {
                                        if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U244] )))
                                        {
                                            SAY_AMBIENT_SPEECH( l_U318._fU0[l_U244], "POOL_PLAYER_POTS", 1, 1, 2 );
                                            PRINTSTRING( "\nPOOL AMBIENT SPEECH - iWaitingPlayer - POOL_PLAYER_POTS \n" );
                                        }
                                    }
                                    else if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                                    {
                                        SAY_AMBIENT_SPEECH( l_U318._fU0[l_U243], "POOL_PLAYER_POTS", 1, 1, 2 );
                                        PRINTSTRING( "\nPOOL AMBIENT SPEECH - iCurrentPlayer - POOL_PLAYER_POTS \n" );
                                    };;;;;
                                }
                                else
                                {
                                    switch (l_U277)
                                    {
                                        case 2:
                                        case 3:
                                        if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                                        {
                                            SAY_AMBIENT_SPEECH( l_U318._fU0[l_U243], "POOL_POT_DIFFICULT_SHOT", 1, 1, 2 );
                                            PRINTSTRING( "\nPOOL AMBIENT SPEECH - iCurrentPlayer - POOL_POT_DIFFICULT_SHOT \n" );
                                        }
                                        break;
                                    }
                                }
                            }
                        }
                        else
                        {
                            l_U72 = 1;
                            bVar15 = false;
                            if (l_U255 == l_U254)
                            {
                                if (l_U56[l_U243])
                                {
                                    if (l_U255 == 1)
                                    {
                                        PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10", "OK_2A" );
                                    }
                                    else
                                    {
                                        PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10", "OK_2B" );
                                    }
                                }
                                else
                                {
                                    l_U95 = 1;
                                }
                                bVar15 = true;
                            }
                            if (l_U256 == l_U254)
                            {
                                if (l_U56[l_U243])
                                {
                                    if (l_U256 == 1)
                                    {
                                        PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10", "OK_3A" );
                                    }
                                    else
                                    {
                                        PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10", "OK_3B" );
                                    }
                                }
                                else
                                {
                                    l_U95 = 1;
                                }
                                bVar15 = true;
                            }
                            if ((l_U256 > 0) AND ((l_U255 > 0) AND ((l_U255 + l_U256) == l_U254)))
                            {
                                if (l_U56[l_U243])
                                {
                                    PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10", "OK_4" );
                                }
                                else
                                {
                                    l_U95 = 1;
                                }
                                bVar15 = true;
                            }
                            if (bVar15)
                            {
                                if (l_U318._fU0[l_U243] == sub_3014())
                                {
                                    if ((sub_35057()) AND (sub_1912( l_U318._fU0[l_U244] )))
                                    {
                                        if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U244] )))
                                        {
                                            SAY_AMBIENT_SPEECH( l_U318._fU0[l_U244], "POOL_PLAYER_POTS_ON_BREAK", 1, 1, 2 );
                                            PRINTSTRING( "\nPOOL AMBIENT SPEECH - iWaitingPlayer - POOL_PLAYER_POTS_ON_BREAK \n" );
                                        }
                                    }
                                    else if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                                    {
                                        SAY_AMBIENT_SPEECH( l_U318._fU0[l_U243], "POOL_PLAYER_POTS_ON_BREAK", 1, 1, 2 );
                                        PRINTSTRING( "\nPOOL AMBIENT SPEECH - iCurrentPlayer - POOL_PLAYER_POTS_ON_BREAK \n" );
                                    }
                                }
                                else
                                {
                                    switch (l_U277)
                                    {
                                        case 2:
                                        if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                                        {
                                            SAY_AMBIENT_SPEECH( l_U318._fU0[l_U243], "POOL_POT_DIFFICULT_SHOT", 1, 1, 2 );
                                            PRINTSTRING( "\nPOOL AMBIENT SPEECH - iCurrentPlayer - POOL_POT_DIFFICULT_SHOT \n" );
                                        }
                                        break;
                                        case 3:
                                        if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U244] )))
                                        {
                                            SAY_AMBIENT_SPEECH( l_U318._fU0[l_U244], "POOL_FLUKE_SHOT", 1, 1, 2 );
                                            PRINTSTRING( "\nPOOL AMBIENT SPEECH - iWaitingPlayer - POOL_FLUKE_SHOT \n" );
                                        }
                                        break;
                                    }
                                }
                            }
                            if (sub_1268( 7 ))
                            {
                                if (l_U56[l_U243])
                                {
                                    PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10B", "OK_6" );
                                }
                                else
                                {
                                    l_U95 = 1;
                                }
                                l_U264 = l_U243;
                            }
                        }
                    }
                }
                else
                {
                    l_U266 = 0;
                    l_U72 = 0;
                    if (sub_3014() == l_U318._fU0[l_U243])
                    {
                        if ((sub_35057()) AND (sub_1912( l_U318._fU0[l_U244] )))
                        {
                            if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U244] )))
                            {
                                SAY_AMBIENT_SPEECH( l_U318._fU0[l_U244], "POOL_PLAYER_FOUL", 1, 1, 2 );
                                PRINTSTRING( "\nPOOL AMBIENT SPEECH - iWaitingPlayer - POOL_PLAYER_FOUL \n" );
                            }
                        }
                        else if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                        {
                            SAY_AMBIENT_SPEECH( l_U318._fU0[l_U243], "POOL_PLAYER_FOUL", 1, 1, 2 );
                            PRINTSTRING( "\nPOOL AMBIENT SPEECH - iCurrentPlayer - POOL_PLAYER_FOUL \n" );
                        }
                    }
                    else if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                    {
                        SAY_AMBIENT_SPEECH( l_U318._fU0[l_U243], "POOL_FOUL", 1, 1, 2 );
                        PRINTSTRING( "\nPOOL AMBIENT SPEECH - iCurrentPlayer - POOL_FOUL \n" );
                    }
                    if (l_U59)
                    {
                        if (l_U251 == 0)
                        {
                            l_U89 = 1;
                        }
                    }
                    if (NOT (sub_1268( 7 )))
                    {
                        switch (l_U263)
                        {
                            case 1:
                            PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10", "FOUL1" );
                            break;
                            case 2:
                            PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10", "FOUL2" );
                            break;
                            case 3:
                            PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10", "FOUL3" );
                            break;
                            case 4:
                            PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10", "FOUL4" );
                            break;
                            case 5:
                            PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10", "FOUL5" );
                            break;
                            case 6:
                            PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10", "FOUL6" );
                            break;
                            case 7:
                            PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10", "FOUL7" );
                            break;
                        }
                    }
                    else
                    {
                        switch (l_U263)
                        {
                            case 1:
                            PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10B", "FOUL1B" );
                            break;
                            case 2:
                            PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10B", "FOUL2B" );
                            break;
                            case 3:
                            PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10B", "FOUL3B" );
                            break;
                            case 4:
                            PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10B", "FOUL4B" );
                            break;
                            case 5:
                            PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10B", "FOUL5" );
                            break;
                            case 6:
                            PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10B", "FOUL6B" );
                            break;
                            case 7:
                            PRINT_HELP_FOREVER_WITH_STRING_NO_SOUND( "PLH_10B", "FOUL7B" );
                            break;
                        }
                        l_U264 = l_U244;
                    }
                    switch (l_U243)
                    {
                        case 0:
                        l_U243 = 1;
                        l_U244 = 0;
                        break;
                        case 1:
                        l_U243 = 0;
                        l_U244 = 1;
                        break;
                    }
                    l_U78 = 1;
                }
                for ( I = 0; I < 2; I++ )
                {
                    if (l_U260[I] == 0)
                    {
                        if (l_U252 == 15)
                        {
                            l_U260[I] = 3;
                        }
                    }
                    if (l_U260[I] == 2)
                    {
                        if (l_U258 == 7)
                        {
                            l_U260[I] = 3;
                        }
                    }
                    if (l_U260[I] == 1)
                    {
                        if (l_U257 == 7)
                        {
                            l_U260[I] = 3;
                        }
                    }
                }
                if (NOT l_U74)
                {
                    l_U59 = 0;
                }
                SETTIMERA( 0 );
                l_U241++;
                break;
                case 1:
                if (l_U264 == -1)
                {
                    if (IS_CONTROL_JUST_PRESSED( 2, 23 ))
                    {
                        l_U87 = 1;
                        CLEAR_PRINTS();
                        if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                        {
                            CLEAR_CHAR_TASKS_IMMEDIATELY( l_U318._fU0[l_U243] );
                        }
                        l_U0 = 1;
                        sub_9759( 8 );
                        break;
                    }
                }
                bVar15 = false;
                if (TIMERA() > 5000)
                {
                    bVar15 = true;
                }
                if (l_U95)
                {
                    if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                    {
                        if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U244] )))
                        {
                            if ((NOT (IS_AMBIENT_SPEECH_PLAYING( l_U318._fU0[l_U244] ))) AND (NOT (IS_AMBIENT_SPEECH_PLAYING( l_U318._fU0[l_U243] ))))
                            {
                                bVar15 = true;
                            }
                        }
                    }
                }
                if (NOT l_U0)
                {
                    if (((IS_CONTROL_JUST_PRESSED( 2, 4 )) AND (NOT IS_USING_CONTROLLER())) || (IS_CONTROL_JUST_PRESSED( 2, 77 )))
                    {
                        l_U0 = 1;
                        bVar15 = true;
                    }
                }
                if (bVar15)
                {
                    CLEAR_HELP();
                    l_U241++;
                }
                break;
                case 2:
                if (NOT (l_U264 == -1))
                {
                    l_U74 = 0;
                    PRINTSTRING( "bComingBackFromAbandoning = FALSE 2 \n" );
                    sub_9759( 7 );
                }
                else
                {
                    sub_9642();
                    if (NOT l_U78)
                    {
                        sub_9759( 2 );
                    }
                    else
                    {
                        sub_9759( 1 );
                    }
                }
                break;
            }
            break;
            case 7:
            sub_1042( 1 );
            switch (l_U241)
            {
                case 0:
                if (NOT IS_MESSAGE_BEING_DISPLAYED())
                {
                    CLEAR_PRINTS();
                    CLEAR_HELP();
                    if (l_U56[l_U264])
                    {
                        if (l_U264 == 0)
                        {
                            if (sub_1912( l_U318._fU0[1] ))
                            {
                                PRINTSTRING( "POOL - ACHIEVMENT UNLOCKED! \n" );
                                AWARD_ACHIEVEMENT( 3 );
                            }
                        }
                        else if (sub_1912( l_U318._fU0[0] ))
                        {
                            PRINTSTRING( "POOL - ACHIEVMENT UNLOCKED! \n" );
                            AWARD_ACHIEVEMENT( 3 );
                        }
                        if (l_U243 == l_U264)
                        {
                            if ((sub_35057()) AND (sub_1912( l_U318._fU0[l_U244] )))
                            {
                                if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U244] )))
                                {
                                    l_U458 = l_U318._fU0[l_U244];
                                    SAY_AMBIENT_SPEECH( l_U318._fU0[l_U244], "POOL_PLAYER_WINS", 1, 1, 2 );
                                    PRINTSTRING( "\nPOOL AMBIENT SPEECH - iWaitingPlayer - POOL_PLAYER_WINS \n" );
                                }
                            }
                            else if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                            {
                                l_U458 = l_U318._fU0[l_U243];
                                SAY_AMBIENT_SPEECH( l_U318._fU0[l_U243], "POOL_PLAYER_WINS", 1, 1, 2 );
                                PRINTSTRING( "\nPOOL AMBIENT SPEECH - iCurrentPlayer - POOL_PLAYER_WINS \n" );
                            }
                        }
                        else if ((sub_35057()) AND (sub_1912( l_U318._fU0[l_U243] )))
                        {
                            if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                            {
                                l_U458 = l_U318._fU0[l_U243];
                                SAY_AMBIENT_SPEECH( l_U318._fU0[l_U243], "POOL_PLAYER_WINS", 1, 1, 2 );
                                PRINTSTRING( "\nPOOL AMBIENT SPEECH - iCurrentPlayer - POOL_PLAYER_WINS \n" );
                            }
                        }
                        else if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U244] )))
                        {
                            l_U458 = l_U318._fU0[l_U244];
                            SAY_AMBIENT_SPEECH( l_U318._fU0[l_U244], "POOL_PLAYER_WINS", 1, 1, 2 );
                            PRINTSTRING( "\nPOOL AMBIENT SPEECH - iWaitingPlayer - POOL_PLAYER_WINS \n" );
                        };;;
                    }
                    else if (l_U243 == l_U264)
                    {
                        if ((sub_35057()) AND (sub_1912( l_U318._fU0[l_U243] )))
                        {
                            if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                            {
                                l_U458 = l_U318._fU0[l_U243];
                                SAY_AMBIENT_SPEECH( l_U318._fU0[l_U243], "POOL_PLAYER_LOSES", 1, 1, 2 );
                                PRINTSTRING( "\nPOOL AMBIENT SPEECH - iCurrentPlayer - POOL_PLAYER_LOSES \n" );
                            }
                        }
                        else if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U244] )))
                        {
                            l_U458 = l_U318._fU0[l_U244];
                            SAY_AMBIENT_SPEECH( l_U318._fU0[l_U244], "POOL_PLAYER_LOSES", 1, 1, 2 );
                            PRINTSTRING( "\nPOOL AMBIENT SPEECH - iWaitingPlayer - POOL_PLAYER_LOSES \n" );
                        }
                    }
                    else if ((sub_35057()) AND (sub_1912( l_U318._fU0[l_U244] )))
                    {
                        if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U244] )))
                        {
                            l_U458 = l_U318._fU0[l_U244];
                            SAY_AMBIENT_SPEECH( l_U318._fU0[l_U244], "POOL_PLAYER_LOSES", 1, 1, 2 );
                            PRINTSTRING( "\nPOOL AMBIENT SPEECH - iWaitingPlayer - POOL_PLAYER_LOSES \n" );
                        }
                    }
                    else if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                    {
                        l_U458 = l_U318._fU0[l_U243];
                        SAY_AMBIENT_SPEECH( l_U318._fU0[l_U243], "POOL_PLAYER_LOSES", 1, 1, 2 );
                        PRINTSTRING( "\nPOOL AMBIENT SPEECH - iCurrentPlayer - POOL_PLAYER_LOSES \n" );
                    };;;;
                    if (NOT (DOES_CAM_EXIST( l_U107 )))
                    {
                        if (NOT (IS_CHAR_INJURED( l_U458 )))
                        {
                            CREATE_CAM( 14, ref l_U107 );
                            ACTIVATE_SCRIPTED_CAMS( 1, 1 );
                            ATTACH_CAM_TO_PED( l_U107, l_U458 );
                            SET_CAM_ATTACH_OFFSET( l_U107, -1.47500000, 2.22500000, 0.55000000 );
                            SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U107, 1 );
                            POINT_CAM_AT_PED( l_U107, l_U458 );
                            SET_CAM_POINT_OFFSET( l_U107, 0.20000000, 0.00000000, 0.42500000 );
                            SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U107, 1 );
                            SET_CAM_FOV( l_U107, 21.50000000 );
                            SET_CAM_ACTIVE( l_U107, 1 );
                            SET_CAM_PROPAGATE( l_U107, 1 );
                        }
                    }
                    if (l_U56[l_U264])
                    {
                        PRINT_NOW( "WON", 5000, 1 );
                        INCREMENT_INT_STAT_NO_MESSAGE( 316, 1 );
                        if (l_U72)
                        {
                            INCREMENT_INT_STAT_NO_MESSAGE( 318, 1 );
                            PRINTSTRING( "POOL STAT UPDATED - NUMBER OF CLEARANCES FROM BREAK \n" );
                        }
                        sub_63014( 0 );
                        sub_63624( 0 );
                    }
                    else
                    {
                        PRINT_NOW( "LOST", 5000, 1 );
                        INCREMENT_INT_STAT_NO_MESSAGE( 317, 1 );
                        sub_63624( 1 );
                    }
                    SETTIMERA( 0 );
                    l_U93 = 0;
                    l_U241++;
                }
                break;
                case 1:
                if (TIMERA() > 3000)
                {
                    PRINT_HELP_FOREVER( "PLH_09" );
                    if (NOT l_U93)
                    {
                        if (l_U318._fU0[l_U243] == sub_3014())
                        {
                            if ((sub_35057()) AND (sub_1912( l_U318._fU0[l_U244] )))
                            {
                                if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U244] )))
                                {
                                    SAY_AMBIENT_SPEECH( l_U318._fU0[l_U244], "POOL_PLAY_AGAIN", 1, 1, 2 );
                                    PRINTSTRING( "\nPOOL AMBIENT SPEECH - iWaitingPlayer - POOL_PLAY_AGAIN \n" );
                                }
                            }
                            else if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                            {
                                SAY_AMBIENT_SPEECH( l_U318._fU0[l_U243], "POOL_PLAYER_AGAIN", 1, 1, 2 );
                                PRINTSTRING( "\nPOOL AMBIENT SPEECH - iCurrentPlayer - POOL_PLAYER_AGAIN \n" );
                            }
                        }
                        else if ((sub_35057()) AND (sub_1912( l_U318._fU0[l_U243] )))
                        {
                            if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                            {
                                SAY_AMBIENT_SPEECH( l_U318._fU0[l_U243], "POOL_PLAY_AGAIN", 1, 1, 2 );
                                PRINTSTRING( "\nPOOL AMBIENT SPEECH - iCurrentPlayer - POOL_PLAY_AGAIN \n" );
                            }
                        }
                        else if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U244] )))
                        {
                            SAY_AMBIENT_SPEECH( l_U318._fU0[l_U244], "POOL_PLAYER_AGAIN", 1, 1, 2 );
                            PRINTSTRING( "\nPOOL AMBIENT SPEECH - iWaitingPlayer - POOL_PLAYER_AGAIN \n" );
                        };;;
                        l_U93 = 1;
                    }
                    if (NOT l_U0)
                    {
                        if (IS_CONTROL_JUST_PRESSED( 2, 77 ))
                        {
                            CLEAR_PRINTS();
                            CLEAR_HELP();
                            sub_9522();
                            sub_11223();
                            if (l_U267 == 0)
                            {
                                l_U243 = 1;
                                l_U244 = 0;
                                l_U267 = 1;
                            }
                            else
                            {
                                l_U243 = 0;
                                l_U244 = 1;
                                l_U267 = 0;
                            }
                            l_U0 = 1;
                            if (l_U56[l_U244])
                            {
                                sub_9759( 1 );
                            }
                            else
                            {
                                sub_9759( 2 );
                            }
                        }
                    }
                    if (NOT l_U0)
                    {
                        if (IS_CONTROL_JUST_PRESSED( 2, 23 ))
                        {
                            l_U0 = 1;
                            sub_64741( 0, 0 );
                        }
                    }
                }
                else if (NOT l_U0)
                {
                    if (IS_CONTROL_JUST_PRESSED( 2, 77 ))
                    {
                        l_U0 = 1;
                        SETTIMERA( 10000 );
                    }
                }
                break;
            }
            break;
            case 8:
            sub_1042( 1 );
            if (sub_64950( l_U243 ))
            {
                sub_64741( 1000, 1 );
            }
            switch (l_U241)
            {
                case 0:
                CLEAR_HELP();
                CLEAR_PRINTS();
                PRINT_NOW( "SURE", 5000, 1 );
                if (DOES_OBJECT_EXIST( l_U313[l_U243] ))
                {
                    SET_OBJECT_VISIBLE( l_U313[l_U243], 1 );
                }
                if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                {
                    sub_30721( l_U318._fU0[l_U243], l_U353, 0 );
                    TASK_PLAY_ANIM( l_U318._fU0[l_U243], "IDLE", "MINI_POOL", 8.00000000, 1, 0, 0, 0, -1 );
                }
                sub_33926();
                sub_3064( 0 );
                if (NOT (DOES_CAM_EXIST( l_U107 )))
                {
                    if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
                    {
                        l_U458 = l_U318._fU0[l_U243];
                        CREATE_CAM( 14, ref l_U107 );
                        ACTIVATE_SCRIPTED_CAMS( 1, 1 );
                        ATTACH_CAM_TO_PED( l_U107, l_U458 );
                        SET_CAM_ATTACH_OFFSET( l_U107, -1.47500000, 2.22500000, 0.55000000 );
                        SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U107, 1 );
                        POINT_CAM_AT_PED( l_U107, l_U458 );
                        SET_CAM_POINT_OFFSET( l_U107, 0.20000000, 0.00000000, 0.42500000 );
                        SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U107, 1 );
                        SET_CAM_FOV( l_U107, 21.50000000 );
                        SET_CAM_ACTIVE( l_U107, 1 );
                        SET_CAM_PROPAGATE( l_U107, 1 );
                    }
                }
                l_U241++;
                break;
                case 1:
                if (NOT (IS_THIS_HELP_MESSAGE_BEING_DISPLAYED( "PLH_07" )))
                {
                    PRINT_HELP_FOREVER( "PLH_07" );
                }
                if (NOT l_U0)
                {
                    if (IS_CONTROL_JUST_PRESSED( 2, 23 ))
                    {
                        l_U0 = 1;
                        if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U244] )))
                        {
                            if (NOT (sub_1912( l_U318._fU0[l_U244] )))
                            {
                                SAY_AMBIENT_SPEECH( l_U318._fU0[l_U244], "GAME_QUIT_EARLY", 1, 1, 2 );
                                PRINTSTRING( "\nPOOL AMBIENT SPEECH - iWaitingPlayer - GAME_QUIT_EARLY \n" );
                            }
                        }
                        sub_64741( 0, 1 );
                    }
                }
                if (NOT l_U0)
                {
                    if (IS_CONTROL_JUST_PRESSED( 2, 77 ))
                    {
                        CLEAR_PRINTS();
                        CLEAR_HELP();
                        l_U74 = 1;
                        l_U0 = 1;
                        if (NOT l_U87)
                        {
                            l_U87 = 0;
                            sub_9759( 6 );
                        }
                        else
                        {
                            sub_9759( 2 );
                        }
                    }
                }
                break;
            }
            break;
        }
        sub_66027();
        if (NOT (l_U240 == 3))
        {
            if (DOES_OBJECT_EXIST( l_U316 ))
            {
                DELETE_OBJECT( ref l_U316 );
            }
        }
        if (DOES_CAM_EXIST( l_U107 ))
        {
            if (DOES_CHAR_EXIST( l_U458 ))
            {
                if (NOT (l_U318._fU0[0] == l_U458))
                {
                    if (NOT (IS_CHAR_INJURED( l_U318._fU0[0] )))
                    {
                        SET_CHAR_VISIBLE( l_U318._fU0[0], 0 );
                    }
                }
                if (NOT (l_U318._fU0[1] == l_U458))
                {
                    if (NOT (IS_CHAR_INJURED( l_U318._fU0[1] )))
                    {
                        SET_CHAR_VISIBLE( l_U318._fU0[1], 0 );
                    }
                }
            }
        }
        if (l_U60)
        {
            sub_66414();
        }
        if (DOES_OBJECT_EXIST( l_U318._fU24 ))
        {
            for ( I = 0; I < 16; I++ )
            {
                if ((NOT l_U5[I]) AND (DOES_OBJECT_EXIST( l_U279[I] )))
                {
                    if (DOES_OBJECT_EXIST( l_U296[I] ))
                    {
                        GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, 0.00000000, 0.00000000, l_U344._fU8, ref fVar9, ref fVar9, ref vVar3.z );
                        GET_OBJECT_COORDINATES( l_U279[I], ref vVar3.x, ref vVar3.y, ref fVar9 );
                        if (fVar9 < vVar3.z)
                        {
                            DELETE_OBJECT( ref l_U296[I] );
                        }
                        else
                        {
                            vVar3 = {vVar3 + l_U455};
                            SET_OBJECT_COORDINATES( l_U296[I], vVar3.x, vVar3.y, vVar3.z );
                        }
                    }
                    else
                    {
                        GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, 0.00000000, 0.00000000, l_U344._fU8, ref fVar9, ref fVar9, ref vVar3.z );
                        GET_OBJECT_COORDINATES( l_U279[I], ref vVar3.x, ref vVar3.y, ref fVar9 );
                        if (fVar9 < vVar3.z)
                        {
                            DELETE_OBJECT( ref l_U296[I] );
                        }
                        else
                        {
                            vVar3 = {vVar3 + l_U455};
                            CREATE_OBJECT( 742638206, vVar3.x, vVar3.y, vVar3.z, ref l_U296[I], 1 );
                            FREEZE_OBJECT_POSITION( l_U296[I], 1 );
                            SET_OBJECT_COLLISION( l_U296[I], 0 );
                            ADD_OBJECT_TO_INTERIOR_ROOM_BY_KEY( l_U296[I], l_U239 );
                        }
                    }
                }
                else if (DOES_OBJECT_EXIST( l_U296[I] ))
                {
                    DELETE_OBJECT( ref l_U296[I] );
                }
            }
        }
        if (NOT (l_U240 == 0))
        {
            sub_68410( l_U318._fU0[0], ref l_U313[0] );
            sub_68410( l_U318._fU0[1], ref l_U313[1] );
        }
        if ((IS_CHAR_INJURED( l_U318._fU0[1] )) || (IS_CHAR_INJURED( l_U318._fU0[0] )))
        {
            sub_64741( 1000, 1 );
        }
        if (IS_KEYBOARD_KEY_JUST_PRESSED( 31 ))
        {
            l_U264 = 1;
            sub_9759( 7 );
        }
        if (IS_KEYBOARD_KEY_JUST_PRESSED( 33 ))
        {
            l_U264 = 0;
            sub_9759( 7 );
        }
        WAIT( 0 );
    }
    return;
}

void sub_1032(unknown uParam0)
{
    int I;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;

    sub_1042( 0 );
    DISPLAY_RADAR( 1 );
    if (DOES_OBJECT_EXIST( l_U316 ))
    {
        DELETE_OBJECT( ref l_U316 );
    }
    for ( I = 0; I < 16; I++ )
    {
        if (DOES_OBJECT_EXIST( l_U279[I] ))
        {
            if (sub_1268( I ))
            {
                DELETE_OBJECT( ref l_U279[I] );
            }
            else
            {
                MARK_OBJECT_AS_NO_LONGER_NEEDED( ref l_U279[I] );
            }
        }
    }
    for ( I = 0; I < 16; I++ )
    {
        if (DOES_OBJECT_EXIST( l_U296[I] ))
        {
            DELETE_OBJECT( ref l_U296[I] );
        }
    }
    for ( I = 0; I < 2; I++ )
    {
        if (NOT (IS_CHAR_INJURED( l_U318._fU0[I] )))
        {
            if (l_U98[I])
            {
                STOP_PED_SPEAKING( l_U318._fU0[I], 1 );
            }
        }
    }
    for ( I = 0; I < 2; I++ )
    {
        if (DOES_OBJECT_EXIST( l_U313[I] ))
        {
            DELETE_OBJECT( ref l_U313[I] );
        }
    }
    for ( I = 0; I < 2; I++ )
    {
        if (l_U56[I])
        {
            if (IS_PLAYER_PLAYING( l_U318._fU12[I] ))
            {
                SET_PLAYER_CONTROL( l_U318._fU12[I], 1 );
            }
        }
    }
    if (IS_PLAYER_PLAYING( sub_1634() ))
    {
        SET_PLAYER_CONTROL( sub_1634(), 1 );
    }
    for ( I = 0; I < 2; I++ )
    {
        if (NOT (IS_CHAR_INJURED( l_U318._fU0[I] )))
        {
            sub_1736( ref l_U318._fU0[I] );
            CLEAR_CHAR_TASKS_IMMEDIATELY( l_U318._fU0[I] );
            if (sub_1912( l_U318._fU0[I] ))
            {
                if (NOT (IS_GROUP_MEMBER( l_U318._fU0[I], sub_2830() )))
                {
                    SET_GROUP_MEMBER( sub_2830(), l_U318._fU0[I] );
                }
            }
        }
    }
    if (l_U265 > 0)
    {
        GET_GAME_TIMER( ref I );
        if ((I - l_U265) > 0)
        {
            INCREMENT_INT_STAT_NO_MESSAGE( 52, I - l_U265 );
        }
    }
    if (IS_PLAYER_PLAYING( sub_1634() ))
    {
        SET_EVERYONE_IGNORE_PLAYER( sub_1634(), 0 );
        SET_PLAYER_CONTROL( sub_1634(), 1 );
        CLEAR_CHAR_TASKS_IMMEDIATELY( sub_3014() );
    }
    sub_3064( uParam0 );
    sub_3723( ref l_U246 );
    CLEAR_PRINTS();
    CLEAR_HELP();
    sub_3771();
    OVERRIDE_FREEZE_FLAGS( 0 );
    SET_USE_POOL_GAME_PHYSICS_SETTINGS( 0 );
    SET_CAR_DENSITY_MULTIPLIER( 1.00000000 );
    if (IS_PLAYER_PLAYING( sub_1634() ))
    {
        GET_CHAR_COORDINATES( sub_3014(), ref uVar4._fU0, ref uVar4._fU4, ref uVar4._fU8 );
        sub_3921( uVar4, 200.00000000 );
    }
    sub_4094();
    TERMINATE_THIS_SCRIPT();
    return;
}

void sub_1042(boolean bParam0)
{
    int I;

    for ( I = 0; I < 16; I++ )
    {
        if (DOES_OBJECT_EXIST( l_U279[I] ))
        {
            FREEZE_OBJECT_POSITION( l_U279[I], bParam0 );
            if (bParam0)
            {
                SET_OBJECT_COLLISION( l_U279[I], 0 );
            }
            else
            {
                SET_OBJECT_COLLISION( l_U279[I], 1 );
            }
        }
    }
    if (bParam0)
    {
        l_U60 = 0;
        l_U85 = 0;
    }
    else
    {
        l_U60 = 1;
    }
    return;
}

int sub_1268(int iParam0)
{
    if (NOT (iParam0 == -1))
    {
        return l_U5[iParam0];
    }
    return 0;
}

void sub_1634()
{
    return CONVERT_INT_TO_PLAYERINDEX( GET_PLAYER_ID() );
}

void sub_1736(unknown uParam0)
{
    if (NOT (IS_CHAR_INJURED( (uParam0^) )))
    {
        sub_1764( (uParam0^) );
        SET_CHAR_COLLISION( (uParam0^), 1 );
        FREEZE_CHAR_POSITION( (uParam0^), 0 );
        SET_CHAR_VISIBLE( (uParam0^), 1 );
    }
    return;
}

void sub_1764(unknown uParam0)
{
    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (DOES_OBJECT_EXIST( l_U317 ))
        {
            if (IS_PED_ATTACHED_TO_OBJECT( uParam0, l_U317 ))
            {
                DETACH_PED( uParam0, 1 );
            }
        }
    }
    return;
}

int sub_1912(unknown uParam0)
{
    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if ((IS_CHAR_MODEL( uParam0, sub_1939( 7 ) )) || ((IS_CHAR_MODEL( uParam0, sub_1939( 8 ) )) || ((IS_CHAR_MODEL( uParam0, sub_1939( 13 ) )) || ((IS_CHAR_MODEL( uParam0, sub_1939( 3 ) )) || (IS_CHAR_MODEL( uParam0, sub_1939( 0 ) ))))))
        {
            return 1;
        }
        if ((IS_CHAR_MODEL( uParam0, sub_1939( 30 ) )) || ((IS_CHAR_MODEL( uParam0, sub_1939( 29 ) )) || ((IS_CHAR_MODEL( uParam0, sub_1939( 28 ) )) || ((IS_CHAR_MODEL( uParam0, sub_1939( 10 ) )) || (IS_CHAR_MODEL( uParam0, sub_1939( 2 ) ))))))
        {
            return 1;
        }
    }
    return 0;
}

int sub_1939(unknown uParam0)
{
    switch (uParam0)
    {
        case 0:
        if (g_U64464[uParam0] == 2)
        {
            return 558221221;
        }
        return -1992728631;
        case 1: return 896408642;
        case 3:
        if (g_U64464[uParam0] == 1)
        {
            return -1275031987;
        }
        return 1487004273;
        case 4: return 57218969;
        case 5: return 1445589009;
        case 6: return 155063868;
        case 7: return -617264103;
        case 8: return -1729980128;
        case 9: return 1794146792;
        case 11: return 1710545037;
        case 12: return -1775659292;
        case 13: return 1690783035;
        case 14: return 954215094;
        case 15: return 809067472;
        case 16: return 1169442297;
        case 17: return 1872110126;
        case 18: return 1500493064;
        case 19: return -1826458934;
        case 22: return -366421228;
        case 20: return -379234846;
        case 24: return 237511807;
        case 25: return 237497537;
        case 26: return -1040287406;
        case 27: return -357652594;
        case 52: return 2129490787;
        case 53: return 386513184;
        case 2: return -1080659212;
        case 10: return -773750838;
        case 28: return -1788328884;
        case 29: return 1056837725;
        case 30: return -292713088;
        case 31:
        case 32: return -292713088;
    }
    sub_2602( "Contacts.sch: Get_Model_For_Contact(): Unknown Contact ID. Tell Keith." );
    return 0;
}

void sub_2602(unknown uParam0)
{
    SCRIPT_ASSERT( uParam0 );
    return;
}

void sub_2830()
{
    unknown Result;

    GET_PLAYER_GROUP( CONVERT_INT_TO_PLAYERINDEX( GET_PLAYER_ID() ), ref Result );
    return Result;
}

void sub_3014()
{
    unknown Result;

    GET_PLAYER_CHAR( CONVERT_INT_TO_PLAYERINDEX( GET_PLAYER_ID() ), ref Result );
    return Result;
}

void sub_3064(int iParam0)
{
    if (DOES_CAM_EXIST( l_U101 ))
    {
        DESTROY_CAM( l_U101 );
    }
    if (DOES_CAM_EXIST( l_U102 ))
    {
        DESTROY_CAM( l_U102 );
    }
    if (DOES_CAM_EXIST( l_U103 ))
    {
        DESTROY_CAM( l_U103 );
    }
    if (DOES_CAM_EXIST( l_U104 ))
    {
        DESTROY_CAM( l_U104 );
    }
    if (DOES_CAM_EXIST( l_U105 ))
    {
        DESTROY_CAM( l_U105 );
    }
    if (DOES_CAM_EXIST( l_U106 ))
    {
        sub_3235();
    }
    if (DOES_CAM_EXIST( l_U107 ))
    {
        DESTROY_CAM( l_U107 );
        if (NOT (IS_CHAR_INJURED( l_U318._fU0[0] )))
        {
            SET_CHAR_VISIBLE( l_U318._fU0[0], 1 );
        }
        if (NOT (IS_CHAR_INJURED( l_U318._fU0[1] )))
        {
            SET_CHAR_VISIBLE( l_U318._fU0[1], 1 );
        }
    }
    if (DOES_CAM_EXIST( l_U744 ))
    {
        SET_CAM_ACTIVE( l_U744, 0 );
        SET_CAM_PROPAGATE( l_U744, 0 );
        DESTROY_CAM( l_U745[0] );
        DESTROY_CAM( l_U745[1] );
        DESTROY_CAM( l_U745[2] );
        DESTROY_CAM( l_U745[3] );
        DESTROY_CAM( l_U744 );
    }
    if (iParam0 > 0)
    {
        SET_INTERP_FROM_SCRIPT_TO_GAME( 1, iParam0 );
    }
    else
    {
        SET_INTERP_FROM_SCRIPT_TO_GAME( 0, 0 );
    }
    SET_WIDESCREEN_BORDERS( 0 );
    if (IS_SCREEN_FADED_OUT())
    {
        DO_SCREEN_FADE_IN( iParam0 );
    }
    if (iParam0 >= 0)
    {
        SET_GAME_CAM_HEADING( 0.00000000 );
    }
    ACTIVATE_SCRIPTED_CAMS( 0, 0 );
    return;
}

void sub_3235()
{
    if (DOES_CAM_EXIST( l_U106 ))
    {
        sub_3262( 1 );
        DESTROY_CAM( l_U106 );
    }
    return;
}

void sub_3262(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if (DOES_OBJECT_EXIST( l_U318._fU24 ))
    {
        GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U403._fU0, l_U403._fU4, l_U403._fU8, ref uVar3._fU0, ref uVar3._fU4, ref uVar3._fU8 );
        SET_VISIBILITY_OF_CLOSEST_OBJECT_OF_TYPE( uVar3._fU0, uVar3._fU4, uVar3._fU8, 5.00000000, 1897153089, uParam0 );
    }
    return;
}

void sub_3723(unknown uParam0)
{
    SET_USE_HIGHDOF( 0 );
    END_CAM_COMMANDS( uParam0 );
    return;
}

void sub_3771()
{
    int I;

    for ( I = 0; I < 25; I++ )
    {
        if (DOES_OBJECT_EXIST( l_U500[I] ))
        {
            DELETE_OBJECT( ref l_U500[I] );
        }
    }
    return;
}

void sub_3921(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;
    boolean bVar7;

    bVar7 = false;
    GET_PLAYERS_LAST_CAR_NO_SAVE( ref uVar6 );
    if (DOES_VEHICLE_EXIST( uVar6 ))
    {
        if (NOT (IS_CAR_DEAD( uVar6 )))
        {
            if (NOT (IS_CHAR_SITTING_IN_CAR( sub_3014(), uVar6 )))
            {
                if (NOT (IS_CAR_A_MISSION_CAR( uVar6 )))
                {
                    SET_CAR_AS_MISSION_CAR( uVar6 );
                    bVar7 = true;
                }
            }
        }
    }
    CLEAR_AREA_OF_CARS( uParam0._fU0, uParam0._fU4, uParam0._fU8, uParam3 );
    if (bVar7)
    {
        if (DOES_VEHICLE_EXIST( uVar6 ))
        {
            sub_4061( uVar6 );
        }
    }
    return;
}

void sub_4061(unknown uParam0)
{
    MARK_CAR_AS_NO_LONGER_NEEDED( ref uParam0 );
    return;
}

void sub_4094()
{
    DISPLAY_RADAR( 1 );
    SET_MINIGAME_IN_PROGRESS( 0 );
    g_U10979 = 0;
    if (g_U32898._fU0 == 54)
    {
        g_U10978 = 0;
        sub_4149();
        return;
    }
    if (NOT (g_U32898._fU8 == 9))
    {
        if (g_U32898._fU20 == 8)
        {
            g_U32898._fU20 = 3;
        }
    }
    else if (NOT (g_U32898._fU4 == 9))
    {
        if (g_U32898._fU16 == 8)
        {
            g_U32898._fU16 = 3;
        }
    }
    else
    {
        return;
    }
    g_U32898._fU28 = 1;
    return;
}

void sub_4149()
{
    g_U32896._fU4 = 1;
    return;
}

void sub_4311()
{
    sub_4320();
    DISPLAY_RADAR( 0 );
    return;
}

void sub_4320()
{
    SET_MINIGAME_IN_PROGRESS( 1 );
    g_U10979 = 1;
    if (NOT (g_U32898._fU0 == 54))
    {
        g_U32898._fU24 = 1;
        g_U32898._fU28 = 0;
        if (NOT (g_U32898._fU8 == 9))
        {
            sub_4399();
        }
        return;
    }
    g_U10978 = 1;
    sub_4471();
    return;
}

void sub_4399()
{
    if (NOT (g_U32898._fU32 > 0))
    {
        return;
    }
    g_U32898._fU32--;
    return;
}

void sub_4471()
{
    g_U32896._fU4 = 0;
    return;
}

void sub_6557()
{
    unknown[4] uVar2;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;

    array(ref uVar2, 4);
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[0] + 0.03950000, l_U170[0] - 0.03950000, l_U181, ref uVar2[0]._fU0, ref uVar2[0]._fU4, ref uVar2[0]._fU8 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[1] - 0.03950000, l_U170[1] - 0.03950000, l_U181, ref uVar2[1]._fU0, ref uVar2[1]._fU4, ref uVar2[1]._fU8 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[2] - 0.03950000, l_U170[2] + 0.03950000, l_U181, ref uVar2[2]._fU0, ref uVar2[2]._fU4, ref uVar2[2]._fU8 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[3] + 0.03950000, l_U170[3] + 0.03950000, l_U181, ref uVar2[3]._fU0, ref uVar2[3]._fU4, ref uVar2[3]._fU8 );
    l_U541._fU0[0]._fU0[0] = {uVar2[0]};
    l_U541._fU0[0]._fU0[1] = {uVar2[1]};
    l_U541._fU0[1]._fU0[0] = {uVar2[1]};
    l_U541._fU0[1]._fU0[1] = {uVar2[2]};
    l_U541._fU0[2]._fU0[0] = {uVar2[2]};
    l_U541._fU0[2]._fU0[1] = {uVar2[3]};
    l_U541._fU0[3]._fU0[0] = {uVar2[3]};
    l_U541._fU0[3]._fU0[1] = {uVar2[0]};
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[0] + 0.03950000, l_U170[0] - 0.03950000, l_U181, ref uVar2[0]._fU0, ref uVar2[0]._fU4, ref uVar2[0]._fU8 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[1] - 0.03950000, l_U170[1] - 0.03950000, l_U181, ref uVar2[1]._fU0, ref uVar2[1]._fU4, ref uVar2[1]._fU8 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U175[0] - 0.03950000, l_U178[0] + 0.03950000, l_U181, ref uVar2[2]._fU0, ref uVar2[2]._fU4, ref uVar2[2]._fU8 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U175[1] + 0.03950000, l_U178[1] + 0.03950000, l_U181, ref uVar2[3]._fU0, ref uVar2[3]._fU4, ref uVar2[3]._fU8 );
    l_U570._fU0[0]._fU0[0] = {uVar2[0]};
    l_U570._fU0[0]._fU0[1] = {uVar2[1]};
    l_U570._fU0[1]._fU0[0] = {uVar2[1]};
    l_U570._fU0[1]._fU0[1] = {uVar2[2]};
    l_U570._fU0[2]._fU0[0] = {uVar2[2]};
    l_U570._fU0[2]._fU0[1] = {uVar2[3]};
    l_U570._fU0[3]._fU0[0] = {uVar2[3]};
    l_U570._fU0[3]._fU0[1] = {uVar2[0]};
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[0], l_U170[0], l_U181, ref uVar2[0]._fU0, ref uVar2[0]._fU4, ref uVar2[0]._fU8 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[1], l_U170[1], l_U181, ref uVar2[1]._fU0, ref uVar2[1]._fU4, ref uVar2[1]._fU8 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[2], l_U170[2], l_U181, ref uVar2[2]._fU0, ref uVar2[2]._fU4, ref uVar2[2]._fU8 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[3], l_U170[3], l_U181, ref uVar2[3]._fU0, ref uVar2[3]._fU4, ref uVar2[3]._fU8 );
    l_U599._fU0[0]._fU0[0] = {uVar2[0]};
    l_U599._fU0[0]._fU0[1] = {uVar2[1]};
    l_U599._fU0[1]._fU0[0] = {uVar2[1]};
    l_U599._fU0[1]._fU0[1] = {uVar2[2]};
    l_U599._fU0[2]._fU0[0] = {uVar2[2]};
    l_U599._fU0[2]._fU0[1] = {uVar2[3]};
    l_U599._fU0[3]._fU0[0] = {uVar2[3]};
    l_U599._fU0[3]._fU0[1] = {uVar2[0]};
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U341._fU0 * -1.00000000, l_U341._fU4, l_U341._fU8, ref uVar2[0]._fU0, ref uVar2[0]._fU4, ref uVar2[0]._fU8 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U341._fU0, l_U341._fU4, l_U341._fU8, ref uVar2[1]._fU0, ref uVar2[1]._fU4, ref uVar2[1]._fU8 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U341._fU0, l_U341._fU4 * -1.00000000, l_U341._fU8, ref uVar2[2]._fU0, ref uVar2[2]._fU4, ref uVar2[2]._fU8 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U341._fU0 * -1.00000000, l_U341._fU4 * -1.00000000, l_U341._fU8, ref uVar2[3]._fU0, ref uVar2[3]._fU4, ref uVar2[3]._fU8 );
    l_U628._fU0[0]._fU0[0] = {uVar2[0]};
    l_U628._fU0[0]._fU0[1] = {uVar2[1]};
    l_U628._fU0[1]._fU0[0] = {uVar2[1]};
    l_U628._fU0[1]._fU0[1] = {uVar2[2]};
    l_U628._fU0[2]._fU0[0] = {uVar2[2]};
    l_U628._fU0[2]._fU0[1] = {uVar2[3]};
    l_U628._fU0[3]._fU0[0] = {uVar2[3]};
    l_U628._fU0[3]._fU0[1] = {uVar2[0]};
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U332._fU0 * -1.00000000, l_U332._fU4, l_U332._fU8, ref uVar2[0]._fU0, ref uVar2[0]._fU4, ref uVar2[0]._fU8 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U332._fU0, l_U332._fU4, l_U332._fU8, ref uVar2[1]._fU0, ref uVar2[1]._fU4, ref uVar2[1]._fU8 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U332._fU0, l_U332._fU4 * -1.00000000, l_U332._fU8, ref uVar2[2]._fU0, ref uVar2[2]._fU4, ref uVar2[2]._fU8 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U332._fU0 * -1.00000000, l_U332._fU4 * -1.00000000, l_U332._fU8, ref uVar2[3]._fU0, ref uVar2[3]._fU4, ref uVar2[3]._fU8 );
    l_U657._fU0[0]._fU0[0] = {uVar2[0]};
    l_U657._fU0[0]._fU0[1] = {uVar2[1]};
    l_U657._fU0[1]._fU0[0] = {uVar2[1]};
    l_U657._fU0[1]._fU0[1] = {uVar2[2]};
    l_U657._fU0[2]._fU0[0] = {uVar2[2]};
    l_U657._fU0[2]._fU0[1] = {uVar2[3]};
    l_U657._fU0[3]._fU0[0] = {uVar2[3]};
    l_U657._fU0[3]._fU0[1] = {uVar2[0]};
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U335._fU0 * -1.00000000, l_U335._fU4, l_U335._fU8, ref uVar2[0]._fU0, ref uVar2[0]._fU4, ref uVar2[0]._fU8 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U335._fU0, l_U335._fU4, l_U335._fU8, ref uVar2[1]._fU0, ref uVar2[1]._fU4, ref uVar2[1]._fU8 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U335._fU0, l_U335._fU4 * -1.00000000, l_U335._fU8, ref uVar2[2]._fU0, ref uVar2[2]._fU4, ref uVar2[2]._fU8 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U335._fU0 * -1.00000000, l_U335._fU4 * -1.00000000, l_U335._fU8, ref uVar2[3]._fU0, ref uVar2[3]._fU4, ref uVar2[3]._fU8 );
    l_U686._fU0[0]._fU0[0] = {uVar2[0]};
    l_U686._fU0[0]._fU0[1] = {uVar2[1]};
    l_U686._fU0[1]._fU0[0] = {uVar2[1]};
    l_U686._fU0[1]._fU0[1] = {uVar2[2]};
    l_U686._fU0[2]._fU0[0] = {uVar2[2]};
    l_U686._fU0[2]._fU0[1] = {uVar2[3]};
    l_U686._fU0[3]._fU0[0] = {uVar2[3]};
    l_U686._fU0[3]._fU0[1] = {uVar2[0]};
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[0] - l_U164, l_U170[0] + l_U164, l_U181, ref uVar2[0]._fU0, ref uVar2[0]._fU4, ref uVar2[0]._fU8 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[1] + l_U164, l_U170[1] + l_U164, l_U181, ref uVar2[1]._fU0, ref uVar2[1]._fU4, ref uVar2[1]._fU8 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[2] + l_U164, l_U170[2] - l_U164, l_U181, ref uVar2[2]._fU0, ref uVar2[2]._fU4, ref uVar2[2]._fU8 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[3] - l_U164, l_U170[3] - l_U164, l_U181, ref uVar2[3]._fU0, ref uVar2[3]._fU4, ref uVar2[3]._fU8 );
    l_U715._fU0[0]._fU0[0] = {uVar2[0]};
    l_U715._fU0[0]._fU0[1] = {uVar2[1]};
    l_U715._fU0[1]._fU0[0] = {uVar2[1]};
    l_U715._fU0[1]._fU0[1] = {uVar2[2]};
    l_U715._fU0[2]._fU0[0] = {uVar2[2]};
    l_U715._fU0[2]._fU0[1] = {uVar2[3]};
    l_U715._fU0[3]._fU0[0] = {uVar2[3]};
    l_U715._fU0[3]._fU0[1] = {uVar2[0]};
    return;
}

void sub_9522()
{
    int I;

    for ( I = 0; I < 16; I++ )
    {
        l_U5[I] = 0;
        l_U22[I] = 0;
    }
    l_U264 = -1;
    l_U252 = 0;
    l_U257 = 0;
    l_U258 = 0;
    l_U260[0] = 0;
    l_U260[1] = 0;
    l_U59 = 1;
    l_U72 = 0;
    l_U60 = 0;
    l_U78 = 1;
    l_U92 = 0;
    sub_9642();
    return;
}

void sub_9642()
{
    l_U251 = 0;
    l_U254 = 0;
    l_U255 = 0;
    l_U256 = 0;
    l_U253 = 0;
    l_U263 = 0;
    l_U424 = {0.00000000, 0.00000000, 0.00000000};
    l_U259 = 0;
    l_U84 = 0;
    l_U85 = 0;
    l_U215 = 0.00000000;
    l_U97 = 0;
    return;
}

void sub_9759(int iParam0)
{
    if (NOT (l_U240 == iParam0))
    {
        sub_3771();
        l_U241 = 0;
        l_U242 = 0;
        l_U240 = iParam0;
    }
    return;
}

void sub_9820()
{
    float fVar2;

    GET_FRAME_TIME( ref fVar2 );
    fVar2 *= 1000.00000000;
    l_U192 += fVar2;
    l_U205 += fVar2;
    l_U212 += fVar2;
    l_U218 += fVar2;
    l_U228 += fVar2;
    l_U229 += fVar2;
    return;
}

void sub_10278()
{
    if (sub_10287())
    {
        g_U64921 = 1;
    }
    return;
}

int sub_10287()
{
    if ((GET_NUMBER_OF_INSTANCES_OF_STREAMED_SCRIPT( "dwayne_backup" )) >= 1)
    {
        return 1;
    }
    return 0;
}

void sub_10422(unknown uParam0)
{
    BEGIN_CAM_COMMANDS( uParam0 );
    SET_USE_HIGHDOF( 1 );
    return;
}

void sub_11223()
{
    int I;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    for ( I = 0; I < 16; I++ )
    {
        if (DOES_OBJECT_EXIST( l_U279[I] ))
        {
            DELETE_OBJECT( ref l_U279[I] );
        }
        if (NOT (DOES_OBJECT_EXIST( l_U279[I] )))
        {
            if (DOES_OBJECT_EXIST( l_U318._fU24 ))
            {
                GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, 0.00000000, 0.00000000, 0.00000000, ref uVar3._fU0, ref uVar3._fU4, ref uVar3._fU8 );
                CREATE_OBJECT( sub_11361( I ), uVar3._fU0, uVar3._fU4, uVar3._fU8, ref l_U279[I], 1 );
                ADD_OBJECT_TO_INTERIOR_ROOM_BY_KEY( l_U279[I], l_U239 );
                SET_OBJECT_RECORDS_COLLISIONS( l_U279[I], 1 );
                SET_OBJECT_USED_IN_POOL_GAME( l_U279[I], 1 );
            }
        }
    }
    sub_11828( ref l_U318._fU24 );
    for ( I = 0; I < 16; I++ )
    {
        if (DOES_OBJECT_EXIST( l_U279[I] ))
        {
            SET_OBJECT_DYNAMIC( l_U279[I], 1 );
            FREEZE_OBJECT_POSITION( l_U279[I], 0 );
            SET_OBJECT_COLLISION( l_U279[I], 1 );
            SET_OBJECT_VISIBLE( l_U279[I], 1 );
        }
    }
    while (NOT sub_13466())
    {
        WAIT( 0 );
    }
    sub_9522();
    return;
}

int sub_11361(unknown uParam0)
{
    switch (uParam0)
    {
        case 0:
        return -195381842;
        break;
        case 1:
        return -1037708987;
        break;
        case 2:
        return -1603367465;
        break;
        case 3:
        return 495978524;
        break;
        case 4:
        return 737289440;
        break;
        case 5:
        return 152821552;
        break;
        case 6:
        return 391805869;
        break;
        case 7:
        return 1777574126;
        break;
        case 8:
        return 1000457291;
        break;
        case 9:
        return 2027899357;
        break;
        case 10:
        return -1975456608;
        break;
        case 11:
        return 1464927937;
        break;
        case 12:
        return 1772563309;
        break;
        case 13:
        return 1139040232;
        break;
        case 14:
        return -735018886;
        break;
        case 15:
        return 510366967;
        break;
    }
    return 510366967;
}

void sub_11828(unknown uParam0)
{
    float fVar3;
    float fVar4;
    float fVar5;
    float fVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    int I;

    fVar3 = 0.03950000 * 2.00000000;
    fVar4 = 0.03950000 * -1.00000000;
    fVar5 = (fVar3 * fVar3) - (0.03950000 * 0.03950000);
    fVar5 = SQRT( fVar5 );
    fVar6 = fVar5 * -1.00000000;
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( (uParam0^), l_U344._fU0, l_U344._fU4, l_U344._fU8, ref uVar7, ref uVar8, ref uVar9 );
    GET_OBJECT_HEADING( (uParam0^), ref uVar10 );
    SET_OBJECT_COORDINATES( l_U279[0], uVar7, uVar8, uVar9 );
    SET_OBJECT_HEADING( l_U279[0], uVar10 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U279[0], fVar4, fVar6, 0.00000000, ref uVar7, ref uVar8, ref uVar9 );
    SET_OBJECT_COORDINATES( l_U279[8], uVar7, uVar8, uVar9 );
    SET_OBJECT_HEADING( l_U279[8], uVar10 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U279[8], fVar3, 0.00000000, 0.00000000, ref uVar7, ref uVar8, ref uVar9 );
    SET_OBJECT_COORDINATES( l_U279[2], uVar7, uVar8, uVar9 );
    SET_OBJECT_HEADING( l_U279[2], uVar10 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U279[8], fVar4, fVar6, 0.00000000, ref uVar7, ref uVar8, ref uVar9 );
    SET_OBJECT_COORDINATES( l_U279[6], uVar7, uVar8, uVar9 );
    SET_OBJECT_HEADING( l_U279[6], uVar10 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U279[6], fVar3, 0.00000000, 0.00000000, ref uVar7, ref uVar8, ref uVar9 );
    SET_OBJECT_COORDINATES( l_U279[7], uVar7, uVar8, uVar9 );
    SET_OBJECT_HEADING( l_U279[7], uVar10 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U279[7], fVar3, 0.00000000, 0.00000000, ref uVar7, ref uVar8, ref uVar9 );
    SET_OBJECT_COORDINATES( l_U279[9], uVar7, uVar8, uVar9 );
    SET_OBJECT_HEADING( l_U279[9], uVar10 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U279[6], fVar4, fVar6, 0.00000000, ref uVar7, ref uVar8, ref uVar9 );
    SET_OBJECT_COORDINATES( l_U279[10], uVar7, uVar8, uVar9 );
    SET_OBJECT_HEADING( l_U279[10], uVar10 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U279[10], fVar3, 0.00000000, 0.00000000, ref uVar7, ref uVar8, ref uVar9 );
    SET_OBJECT_COORDINATES( l_U279[1], uVar7, uVar8, uVar9 );
    SET_OBJECT_HEADING( l_U279[1], uVar10 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U279[1], fVar3, 0.00000000, 0.00000000, ref uVar7, ref uVar8, ref uVar9 );
    SET_OBJECT_COORDINATES( l_U279[14], uVar7, uVar8, uVar9 );
    SET_OBJECT_HEADING( l_U279[14], uVar10 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U279[14], fVar3, 0.00000000, 0.00000000, ref uVar7, ref uVar8, ref uVar9 );
    SET_OBJECT_COORDINATES( l_U279[4], uVar7, uVar8, uVar9 );
    SET_OBJECT_HEADING( l_U279[4], uVar10 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U279[10], fVar4, fVar6, 0.00000000, ref uVar7, ref uVar8, ref uVar9 );
    SET_OBJECT_COORDINATES( l_U279[5], uVar7, uVar8, uVar9 );
    SET_OBJECT_HEADING( l_U279[5], uVar10 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U279[5], fVar3, 0.00000000, 0.00000000, ref uVar7, ref uVar8, ref uVar9 );
    SET_OBJECT_COORDINATES( l_U279[11], uVar7, uVar8, uVar9 );
    SET_OBJECT_HEADING( l_U279[11], uVar10 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U279[11], fVar3, 0.00000000, 0.00000000, ref uVar7, ref uVar8, ref uVar9 );
    SET_OBJECT_COORDINATES( l_U279[12], uVar7, uVar8, uVar9 );
    SET_OBJECT_HEADING( l_U279[12], uVar10 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U279[12], fVar3, 0.00000000, 0.00000000, ref uVar7, ref uVar8, ref uVar9 );
    SET_OBJECT_COORDINATES( l_U279[3], uVar7, uVar8, uVar9 );
    SET_OBJECT_HEADING( l_U279[3], uVar10 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U279[3], fVar3, 0.00000000, 0.00000000, ref uVar7, ref uVar8, ref uVar9 );
    SET_OBJECT_COORDINATES( l_U279[13], uVar7, uVar8, uVar9 );
    SET_OBJECT_HEADING( l_U279[13], uVar10 );
    sub_13004();
    for ( I = 0; I < 16; I++ )
    {
        if (DOES_OBJECT_EXIST( l_U279[I] ))
        {
            l_U5[I] = 0;
        }
    }
    return;
}

void sub_13004()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;

    FREEZE_OBJECT_POSITION( l_U279[15], 1 );
    SET_OBJECT_DYNAMIC( l_U279[15], 0 );
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, 0.04500000, 0.79800000, l_U344._fU8, ref uVar2._fU0, ref uVar2._fU4, ref uVar2._fU8 );
    SET_OBJECT_COORDINATES( l_U279[15], uVar2._fU0, uVar2._fU4, uVar2._fU8 );
    if (l_U55)
    {
        PRINTSTRING( "SET_OBJECT_COORDS called 4 pos.z = " );
        PRINTFLOAT( uVar2._fU8 );
        PRINTSTRING( "\n" );
    }
    SET_OBJECT_DYNAMIC( l_U279[15], 1 );
    FREEZE_OBJECT_POSITION( l_U279[15], 0 );
    SET_OBJECT_COLLISION( l_U279[15], 1 );
    SET_OBJECT_VISIBLE( l_U279[15], 1 );
    ADD_OBJECT_TO_INTERIOR_ROOM_BY_KEY( l_U279[15], l_U239 );
    l_U5[15] = 0;
    return;
}

int sub_13466()
{
    int I;

    for ( I = 0; I < 16; I++ )
    {
        if (DOES_OBJECT_EXIST( l_U279[I] ))
        {
            if (DOES_OBJECT_HAVE_PHYSICS( l_U279[I] ))
            {
                SET_OBJECT_PHYSICS_PARAMS( l_U279[I], l_U531, l_U532, l_U533, l_U536, l_U539, l_U540 );
            }
            else
            {
                return 0;
            }
        }
        else
        {
            return 0;
        }
    }
    return 1;
}

void sub_13816()
{
    if (DOES_CAM_EXIST( l_U107 ))
    {
        SET_CAM_ACTIVE( l_U107, 1 );
        SET_CAM_PROPAGATE( l_U107, 1 );
        DESTROY_CAM( l_U107 );
        if (NOT (IS_CHAR_INJURED( l_U318._fU0[0] )))
        {
            SET_CHAR_VISIBLE( l_U318._fU0[0], 1 );
        }
        if (NOT (IS_CHAR_INJURED( l_U318._fU0[1] )))
        {
            SET_CHAR_VISIBLE( l_U318._fU0[1], 1 );
        }
        ACTIVATE_SCRIPTED_CAMS( 0, 0 );
    }
    if (NOT (DOES_CAM_EXIST( l_U106 )))
    {
        CREATE_CAM( 14, ref l_U106 );
        ATTACH_CAM_TO_OBJECT( l_U106, l_U318._fU24 );
        SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U106, 1 );
        POINT_CAM_AT_OBJECT( l_U106, l_U318._fU24 );
        SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U106, 1 );
        sub_3262( 0 );
        ACTIVATE_SCRIPTED_CAMS( 1, 1 );
    }
    if ((DOES_CAM_EXIST( l_U102 )) || (DOES_CAM_EXIST( l_U103 )))
    {
        if (DOES_CAM_EXIST( l_U103 ))
        {
            if (l_U80)
            {
                if (sub_14150( l_U103, l_U106, 1000 ))
                {
                    DESTROY_CAM( l_U103 );
                }
            }
            else
            {
                DESTROY_CAM( l_U103 );
                SET_CAM_ACTIVE( l_U106, 1 );
                SET_CAM_PROPAGATE( l_U106, 1 );
            }
        }
        if (DOES_CAM_EXIST( l_U102 ))
        {
            if (l_U80)
            {
                if (sub_14150( l_U102, l_U106, 1000 ))
                {
                    DESTROY_CAM( l_U102 );
                }
            }
            else
            {
                DESTROY_CAM( l_U102 );
                SET_CAM_ACTIVE( l_U106, 1 );
                SET_CAM_PROPAGATE( l_U106, 1 );
            }
        }
    }
    else
    {
        SET_CAM_ACTIVE( l_U106, 1 );
        SET_CAM_PROPAGATE( l_U106, 1 );
    }
    if (DOES_CAM_EXIST( l_U101 ))
    {
        DESTROY_CAM( l_U101 );
    }
    if (DOES_CAM_EXIST( l_U106 ))
    {
        SET_CAM_ATTACH_OFFSET( l_U106, l_U403._fU0, l_U403._fU4, l_U403._fU8 );
        SET_CAM_POINT_OFFSET( l_U106, l_U406._fU0, l_U406._fU4, l_U406._fU8 );
        SET_CAM_FOV( l_U106, l_U195 );
        SET_CAM_NEAR_CLIP( l_U106, l_U213 );
    }
    return;
}

int sub_14150(unknown uParam0, unknown uParam1, unknown uParam2)
{
    if (NOT (DOES_CAM_EXIST( l_U105 )))
    {
        if (DOES_CAM_EXIST( uParam0 ))
        {
            SET_CAM_ACTIVE( uParam0, 1 );
            SET_CAM_PROPAGATE( uParam0, 0 );
        }
        if (DOES_CAM_EXIST( uParam1 ))
        {
            SET_CAM_ACTIVE( uParam1, 1 );
            SET_CAM_PROPAGATE( uParam1, 0 );
        }
        CREATE_CAM( 3, ref l_U105 );
        SET_CAM_INTERP_STYLE_DETAILED( l_U105, 1, 1, 1, 1 );
        SET_CAM_INTERP_STYLE_CORE( l_U105, uParam0, uParam1, uParam2, 0 );
        SET_CAM_ACTIVE( l_U105, 1 );
        SET_CAM_PROPAGATE( l_U105, 1 );
        ACTIVATE_SCRIPTED_CAMS( 1, 1 );
    }
    else if (NOT (IS_SPECIFIC_CAM_INTERPOLATING( l_U105 )))
    {
        DESTROY_CAM( l_U105 );
        SET_CAM_ACTIVE( uParam1, 1 );
        SET_CAM_PROPAGATE( uParam1, 1 );
        return 1;
    }
    return 0;
}

void sub_14835(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;

    uVar3 = {sub_14846( uParam0 )};
    GET_CHAR_COORDINATES( uParam0, ref uVar6._fU0, ref uVar6._fU4, ref uVar6._fU8 );
    if ((NOT (IS_CHAR_PLAYING_ANIM( uParam0, "MINI_POOL", "IDLE" ))) || (NOT (LOCATE_CHAR_ANY_MEANS_3D( uParam0, uVar3._fU0, uVar3._fU4, uVar3._fU8, 0.10000000, 0.10000000, 2.00000000, 0 ))))
    {
        sub_1736( ref uParam0 );
        SET_CHAR_COORDINATES( uParam0, uVar3._fU0, uVar3._fU4, uVar3._fU8 );
        uVar9 = sub_16102( uParam0 );
        SET_CHAR_HEADING( uParam0, uVar9 );
        OPEN_SEQUENCE_TASK( ref l_U329 );
        TASK_PLAY_ANIM( 0, "IDLE", "MINI_POOL", 4.00000000, 1, 0, 0, 0, -1 );
        CLOSE_SEQUENCE_TASK( l_U329 );
        TASK_PERFORM_SEQUENCE( uParam0, l_U329 );
        CLEAR_SEQUENCE_TASK( l_U329 );
    }
    return;
}

void sub_14846(unknown uParam0)
{
    vector vVar3;
    vector vVar6;
    unknown Result;
    unknown uVar10;
    unknown uVar11;
    vector vVar12;
    float fVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;

    fVar15 = 0.00000000;
    if (DOES_OBJECT_EXIST( l_U318._fU24 ))
    {
        GET_OBJECT_COORDINATES( l_U318._fU24, ref vVar3.x, ref vVar3.y, ref vVar3.z );
    }
    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        GET_CHAR_COORDINATES( uParam0, ref vVar6.x, ref vVar6.y, ref vVar6.z );
        vVar12 = {vVar6 - vVar3};
        fVar15 = VMAG( vVar12 );
        if (fVar15 == 0.00000000)
        {
            vVar12 = {vVar12 / 0.00000001};
        }
        else
        {
            vVar12 = {vVar12 / fVar15};
        }
        vVar12 = {vVar12 * 10.00000000};
        vVar6 = {vVar3 + vVar12};
    }
    array(ref uVar17._fU0, 2);
    ref uVar17;
    uVar17._fU0[0] = {vVar3};
    uVar17._fU0[1] = {vVar6};
    if (NOT (sub_15083( uVar17, l_U628, ref Result, ref uVar16 )))
    {
        if (NOT (IS_CHAR_INJURED( uParam0 )))
        {
            GET_CHAR_COORDINATES( uParam0, ref Result._fU0, ref Result._fU4, ref Result._fU8 );
        }
    }
    Result._fU8 = l_U144;
    return Result;
}

int sub_15083(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21, unknown uParam22, unknown uParam23, unknown uParam24, unknown uParam25, unknown uParam26, unknown uParam27, unknown uParam28, unknown uParam29, unknown uParam30, unknown uParam31, unknown uParam32, unknown uParam33, unknown uParam34, unknown uParam35, unknown uParam36, unknown uParam37)
{
    boolean bVar40;
    int I;

    bVar40 = false;
    bVar40 = true;
    if (bVar40)
    {
        for ( I = 0; I < 4; I++ )
        {
            if (sub_15152( uParam0, uParam7._fU0[I], uParam36 ))
            {
                (uParam37^) = I;
                return 1;
            }
        }
    }
    return 0;
}

int sub_15152(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, int iParam14)
{
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    if (sub_15241( uParam0._fU0[0]._fU0, uParam0._fU0[0]._fU4, uParam0._fU0[1]._fU0, uParam0._fU0[1]._fU4, uParam7._fU0[0]._fU0, uParam7._fU0[0]._fU4, uParam7._fU0[1]._fU0, uParam7._fU0[1]._fU4, ref uVar17._fU0, ref uVar17._fU4 ))
    {
        iParam14->_fU0 = uVar17._fU0;
        iParam14->_fU4 = uVar17._fU4;
        return 1;
    }
    return 0;
}

int sub_15241(float fParam0, float fParam1, float fParam2, float fParam3, float fParam4, float fParam5, float fParam6, float fParam7, unknown uParam8, unknown uParam9)
{
    float fVar12;
    float fVar13;
    float fVar14;
    float fVar15;
    float fVar16;
    float fVar17;
    float fVar18;
    float fVar19;
    float fVar20;
    float fVar21;
    float fVar22;
    float fVar23;
    float fVar24;
    float fVar25;
    float fVar26;
    float fVar27;
    float fVar28;
    float fVar29;
    float fVar30;

    if (NOT ((fParam2 - fParam0) == 0.00000000))
    {
        fVar19 = (fParam3 - fParam1) / (fParam2 - fParam0);
    }
    else
    {
        fVar19 = 999999999;
    }
    if (NOT ((fParam6 - fParam4) == 0.00000000))
    {
        fVar20 = (fParam7 - fParam5) / (fParam6 - fParam4);
    }
    else
    {
        fVar20 = 999999999;
    }
    fVar12 = fVar19;
    fVar15 = fVar20;
    fVar13 = -1.00000000;
    fVar16 = -1.00000000;
    fVar14 = fParam1 - (fVar19 * fParam0);
    fVar17 = fParam5 - (fVar20 * fParam4);
    fVar18 = 1.00000000 / ((fVar12 * fVar16) - (fVar15 * fVar13));
    fVar21 = ((fVar13 * fVar17) - (fVar16 * fVar14)) * fVar18;
    fVar22 = (fVar19 * ((fVar17 - fVar14) / (fVar19 - fVar20))) + fVar14;
    if (fParam0 > fParam2)
    {
        fVar23 = fParam0 + l_U200;
        fVar24 = fParam2 - l_U200;
    }
    else
    {
        fVar23 = fParam2 + l_U200;
        fVar24 = fParam0 - l_U200;
    }
    if (fParam1 > fParam3)
    {
        fVar25 = fParam1 + l_U200;
        fVar26 = fParam3 - l_U200;
    }
    else
    {
        fVar25 = fParam3 + l_U200;
        fVar26 = fParam1 - l_U200;
    }
    if (fParam4 > fParam6)
    {
        fVar27 = fParam4 + l_U200;
        fVar28 = fParam6 - l_U200;
    }
    else
    {
        fVar27 = fParam6 + l_U200;
        fVar28 = fParam4 - l_U200;
    }
    if (fParam5 > fParam7)
    {
        fVar29 = fParam5 + l_U200;
        fVar30 = fParam7 - l_U200;
    }
    else
    {
        fVar29 = fParam7 + l_U200;
        fVar30 = fParam5 - l_U200;
    }
    if ((NOT (fVar21 <= fVar23)) || (NOT (fVar21 >= fVar24)))
    {
        return 0;
    }
    if ((NOT (fVar21 <= fVar27)) || (NOT (fVar21 >= fVar28)))
    {
        return 0;
    }
    if ((NOT (fVar22 <= fVar25)) || (NOT (fVar22 >= fVar26)))
    {
        return 0;
    }
    if ((NOT (fVar22 <= fVar29)) || (NOT (fVar22 >= fVar30)))
    {
        return 0;
    }
    (uParam8^) = fVar21;
    (uParam9^) = fVar22;
    return 1;
}

void sub_16102(unknown uParam0)
{
    vector vVar3;
    vector vVar6;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown Result;

    if (DOES_OBJECT_EXIST( l_U318._fU24 ))
    {
        GET_OBJECT_COORDINATES( l_U318._fU24, ref vVar3.x, ref vVar3.y, ref vVar3.z );
    }
    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        GET_CHAR_COORDINATES( uParam0, ref vVar6.x, ref vVar6.y, ref vVar6.z );
    }
    uVar9 = {vVar3 - vVar6};
    GET_HEADING_FROM_VECTOR_2D( uVar9._fU0, uVar9._fU4, ref Result );
    return Result;
}

void sub_16595(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    vector vVar7;
    int iVar10;
    int iVar11;
    unknown uVar12;
    unknown uVar13;
    vector Result;
    unknown uVar17;

    GET_CAM_ROT( uParam0, ref uVar3._fU0, ref uVar3._fU4, ref uVar6 );
    vVar7 = {0.00000000, 1.00000000, 0.00000000};
    vVar7 = {sub_16653( vVar7, 0.00000000, 0.00000000, uVar6 )};
    GET_POSITION_OF_ANALOGUE_STICKS( 0, ref iVar10, ref iVar11, ref uVar12, ref uVar13 );
    if ((iVar11 == 0) AND (iVar10 == 0))
    {
        GET_KEYBOARD_MOVE_INPUT( ref iVar10, ref iVar11 );
    }
    uVar3._fU0 = TO_FLOAT( iVar10 );
    uVar3._fU4 = (TO_FLOAT( iVar11 )) * -1.00000000;
    uVar3._fU8 = 0.00000000;
    if ((VMAG2( uVar3 )) < (0.00001000 * 0.00001000))
    {
        return vector( 0.00000000, 0.00000000, 0.00000000);
    }
    GET_HEADING_FROM_VECTOR_2D( uVar3._fU0, uVar3._fU4, ref uVar17 );
    Result = {0.00000000, 1.00000000, 0.00000000};
    Result = {sub_16653( Result, 0.00000000, 0.00000000, uVar6 )};
    Result = {sub_16653( Result, 0.00000000, 0.00000000, uVar17 )};
    Result = {Result / (VMAG( Result ))};
    Result = {Result * (VMAG( uVar3 ))};
    return Result;
}

void sub_16653(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    unknown uVar8;
    unknown uVar9;
    unknown Result;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;

    Result = {uParam0};
    uVar8 = COS( uParam3._fU0 );
    uVar9 = SIN( uParam3._fU0 );
    uVar13._fU0 = uParam0._fU0;
    uVar13._fU4 = (uVar8 * Result._fU4) - (uVar9 * Result._fU8);
    uVar13._fU8 = (uVar9 * Result._fU4) + (uVar8 * Result._fU8);
    Result = {uVar13};
    uVar8 = COS( uParam3._fU4 );
    uVar9 = SIN( uParam3._fU4 );
    uVar13._fU0 = (uVar8 * Result._fU0) + (uVar9 * Result._fU8);
    uVar13._fU4 = uParam0._fU4;
    uVar13._fU8 = (uVar8 * Result._fU8) - (uVar9 * Result._fU0);
    Result = {uVar13};
    uVar8 = COS( uParam3._fU8 );
    uVar9 = SIN( uParam3._fU8 );
    uVar13._fU0 = (uVar8 * Result._fU0) - (uVar9 * Result._fU4);
    uVar13._fU4 = (uVar9 * Result._fU0) + (uVar8 * Result._fU4);
    uVar13._fU8 = uParam0._fU8;
    Result = {uVar13};
    return Result;
}

int sub_17420(int iParam0)
{
    int I;
    vector vVar4;
    vector vVar7;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    vector vVar13;
    vector vVar16;
    vector vVar19;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    unknown uVar36;
    unknown uVar37;
    unknown uVar38;
    unknown uVar39;
    unknown uVar40;
    unknown uVar41;
    unknown uVar42;
    unknown uVar43;
    unknown uVar44;
    unknown uVar45;
    unknown uVar46;
    unknown uVar47;
    unknown uVar48;
    unknown uVar49;
    unknown uVar50;
    unknown uVar51;
    unknown uVar52;
    unknown uVar53;
    unknown uVar54;
    unknown uVar55;
    unknown uVar56;
    unknown uVar57;

    if (DOES_OBJECT_EXIST( l_U279[15] ))
    {
        GET_OBJECT_COORDINATES( l_U279[15], ref vVar7.x, ref vVar7.y, ref vVar7.z );
    }
    GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, 0.04500000, 0.79800000, l_U344._fU8, ref vVar4.x, ref vVar4.y, ref vVar4.z );
    if (vVar4.z > vVar7.z)
    {
        SET_OBJECT_COORDINATES( l_U279[15], vVar7.x, vVar7.y, vVar4.z );
    }
    if (iParam0->_fU8 < vVar4.z)
    {
        iParam0->_fU8 = vVar4.z;
    }
    for ( I = 0; I < 15; I++ )
    {
        if ((NOT (sub_1268( I ))) AND (DOES_OBJECT_EXIST( l_U279[I] )))
        {
            GET_OBJECT_COORDINATES( l_U279[I], ref vVar4.x, ref vVar4.y, ref vVar4.z );
            vVar7 = {(iParam0^) - vVar4};
            vVar7.z = 0.00000000;
            if ((VMAG2( vVar7 )) < ((0.03950000 * 2.00000000) * (0.03950000 * 2.00000000)))
            {
                vVar7 = {vVar7 / (VMAG( vVar7 ))};
                vVar7 = {vVar7 * (0.03950000 * 2.00000000)};
                vVar7 = {vVar7 * 1.01000000};
                vVar16 = {vVar4 + vVar7};
                if (sub_17769( vVar16 ))
                {
                    (iParam0^) = {vVar16};
                }
                else
                {
                    return 0;
                }
            }
        }
    }
    array(ref uVar22._fU0, 2);
    ref uVar22;
    array(ref ref array(ref uVar29._fU0, 4)->_fU4->_fU0, 2);
    array(ref ref ref array(ref uVar29._fU0, 4)->_fU4->_fU28->_fU0, 2);
    array(ref ref ref ref array(ref uVar29._fU0, 4)->_fU4->_fU28->_fU28->_fU0, 2);
    array(ref ref ref ref ref array(ref uVar29._fU0, 4)->_fU4->_fU28->_fU28->_fU28->_fU0, 2);
    (((((array(ref uVar29._fU0, 4)) + 4) + 28) + 28) + 28) + 28;
    array(ref uVar29._fU0, 4);
    ref uVar29;
    if (l_U59)
    {
        uVar29 = {l_U570};
    }
    else
    {
        uVar29 = {l_U541};
    }
    if (DOES_OBJECT_EXIST( l_U279[15] ))
    {
        if (NOT (sub_18008( (iParam0^), uVar29 )))
        {
            GET_OBJECT_COORDINATES( l_U279[15], ref vVar4.x, ref vVar4.y, ref vVar4.z );
            vVar7 = {(iParam0^) - vVar4};
            vVar7 = {vVar7 / (VMAG( vVar7 ))};
            vVar7 = {vVar7 * 0.10000000};
            uVar22._fU0[0] = {vVar4};
            uVar22._fU0[1] = {vVar4 + vVar7};
            if (sub_15083( uVar22, uVar29, ref vVar19, ref I ))
            {
                vVar19.z = iParam0->_fU8;
                GET_OBJECT_COORDINATES( l_U279[15], ref vVar4.x, ref vVar4.y, ref vVar4.z );
                vVar7 = {vVar19 - vVar4};
                vVar7.z = 0.00000000;
                uVar10 = {uVar29._fU0[I]._fU0[1] - uVar29._fU0[I]._fU0[0]};
                uVar10._fU8 = 0.00000000;
                vVar13 = {sub_18873( vVar7, uVar10 )};
                GET_OBJECT_COORDINATES( l_U279[15], ref vVar4.x, ref vVar4.y, ref vVar4.z );
                vVar16 = {vVar4 + vVar13};
                vVar7 = {vVar19 - vVar16};
                vVar7.z = 0.00000000;
                vVar16 = {vVar16 + vVar7};
                vVar7 = {vVar7 / (VMAG( vVar7 ))};
                vVar16 = {vVar16 - (vVar7 * 0.01000000)};
                if (sub_17769( vVar16 ))
                {
                    (iParam0^) = {vVar16};
                }
                else
                {
                    return 0;
                }
            }
            else
            {
                return 0;
            }
        }
    }
    return 1;
}

int sub_17769(vector vParam0)
{
    int I;
    vector vVar6;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    unknown uVar36;
    unknown uVar37;
    unknown uVar38;
    unknown uVar39;
    unknown uVar40;

    for ( I = 0; I < 15; I++ )
    {
        if ((NOT (sub_1268( I ))) AND (DOES_OBJECT_EXIST( l_U279[I] )))
        {
            GET_OBJECT_COORDINATES( l_U279[I], ref vVar6.x, ref vVar6.y, ref vVar6.z );
            uVar9 = {vParam0 - vVar6};
            uVar9._fU8 = 0.00000000;
            if ((VMAG2( uVar9 )) < ((0.03950000 * 2.00000000) * (0.03950000 * 2.00000000)))
            {
                return 0;
            }
        }
    }
    array(ref ref array(ref uVar12._fU0, 4)->_fU4->_fU0, 2);
    array(ref ref ref array(ref uVar12._fU0, 4)->_fU4->_fU28->_fU0, 2);
    array(ref ref ref ref array(ref uVar12._fU0, 4)->_fU4->_fU28->_fU28->_fU0, 2);
    array(ref ref ref ref ref array(ref uVar12._fU0, 4)->_fU4->_fU28->_fU28->_fU28->_fU0, 2);
    (((((array(ref uVar12._fU0, 4)) + 4) + 28) + 28) + 28) + 28;
    array(ref uVar12._fU0, 4);
    ref uVar12;
    if (l_U59)
    {
        uVar12 = {l_U570};
    }
    else
    {
        uVar12 = {l_U541};
    }
    if (NOT (sub_18008( vParam0, uVar12 )))
    {
        return 0;
    }
    return 1;
}

int sub_18008(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21, unknown uParam22, unknown uParam23, unknown uParam24, unknown uParam25, unknown uParam26, unknown uParam27, unknown uParam28, unknown uParam29, unknown uParam30, unknown uParam31)
{
    int I;

    for ( I = 0; I < 4; I++ )
    {
        if (NOT (sub_18050( uParam0, uParam3._fU0[I] )))
        {
            return 0;
        }
    }
    return 1;
}

int sub_18050(vector vParam0, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9)
{
    vector vVar12;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;

    vVar12 = {sub_18062( uParam3 )};
    vVar12.z = 0.00000000;
    uVar15 = {sub_18136( uParam3 )};
    uVar15._fU8 = 0.00000000;
    uVar18 = {vVar12 - vParam0};
    if ((sub_18360( ref uVar18, ref uVar15 )) >= 0.00000000)
    {
        return 1;
    }
    return 0;
}

void sub_18062(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
    vector Result;

    Result = {uParam0._fU0[0] + uParam0._fU0[1]};
    Result = {Result * 0.50000000};
    return Result;
}

void sub_18136(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
    vector Result;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    vector vVar15;

    uVar12 = {uParam0._fU0[1] - uParam0._fU0[0]};
    vVar15 = {0.00000000, 0.00000000, 1.00000000};
    Result = {sub_18193( uVar12, vVar15 )};
    Result.z = 0.00000000;
    Result = {Result / (VMAG( Result ))};
    Result = {Result * -1.00000000};
    return Result;
}

vector sub_18193(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    return vector( (uParam0._fU4 * uParam3._fU8) - (uParam0._fU8 * uParam3._fU4), (uParam0._fU8 * uParam3._fU0) - (uParam0._fU0 * uParam3._fU8), (uParam0._fU0 * uParam3._fU4) - (uParam0._fU4 * uParam3._fU0));
}

float sub_18360(int iParam0, int iParam1)
{
    return ((iParam0->_fU0 * iParam1->_fU0) + (iParam0->_fU4 * iParam1->_fU4)) + (iParam0->_fU8 * iParam1->_fU8);
}

vector sub_18873(unknown uParam0, unknown uParam1, unknown uParam2, vector vParam3)
{
    return vParam3 * ((sub_18360( ref vParam3, ref uParam0 )) / (VMAG( vParam3 )));
}

void sub_20137(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    int J;
    int I;
    int iVar10;
    int iVar11;
    float fVar12;
    vector vVar13;
    unknown uVar16;
    vector vVar17;
    float fVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;

    fVar12 = 0.00000000;
    if (l_U88)
    {
        PRINTSTRING( "\n" );
    }
    l_U277 = 0;
    for ( J = 0; J < 16; J++ )
    {
        if (NOT (J == 15))
        {
            if (NOT (sub_1268( J )))
            {
                for ( I = 0; I < 6; I++ )
                {
                    if (l_U88)
                    {
                        PRINTSTRING( "Getting shot scrore for ball " );
                        PRINTINT( J );
                        PRINTSTRING( " in pocket " );
                        PRINTINT( I );
                        PRINTSTRING( ", " );
                    }
                    switch (uParam2)
                    {
                        case 0:
                        if (J == 7)
                        {
                            fVar20 = -1.00000000;
                        }
                        else
                        {
                            sub_20423( ref l_U279[J], I, ref fVar20, ref uVar21, ref uVar24, ref uVar25, ref uVar26 );
                        }
                        break;
                        case 1:
                        if (J >= 7)
                        {
                            fVar20 = -1.00000000;
                        }
                        else
                        {
                            sub_20423( ref l_U279[J], I, ref fVar20, ref uVar21, ref uVar24, ref uVar25, ref uVar26 );
                        }
                        break;
                        case 2:
                        if (J <= 7)
                        {
                            fVar20 = -1.00000000;
                        }
                        else
                        {
                            sub_20423( ref l_U279[J], I, ref fVar20, ref uVar21, ref uVar24, ref uVar25, ref uVar26 );
                        }
                        break;
                        case 3:
                        if (NOT (J == 7))
                        {
                            fVar20 = -1.00000000;
                        }
                        else
                        {
                            sub_20423( ref l_U279[J], I, ref fVar20, ref uVar21, ref uVar24, ref uVar25, ref uVar26 );
                        }
                        break;
                    }
                    if (l_U88)
                    {
                        PRINTSTRING( "Score = " );
                        PRINTFLOAT( fVar20 );
                        PRINTSTRING( "\n" );
                    }
                    if (fVar20 > fVar12)
                    {
                        if (l_U88)
                        {
                            PRINTSTRING( "\n *** Pocket Shot!*** " );
                            PRINTSTRING( "Ball No = " );
                            PRINTINT( J );
                            PRINTSTRING( ", " );
                            PRINTSTRING( "PocketNo = " );
                            PRINTINT( I );
                            PRINTSTRING( ", " );
                            PRINTSTRING( "fThisScore = " );
                            PRINTFLOAT( fVar20 );
                            PRINTSTRING( "\n" );
                        }
                        if (fVar20 >= 0.85000000)
                        {
                            l_U277 = 1;
                        }
                        else if (fVar20 > 0.20000000)
                        {
                            l_U277 = 2;
                        }
                        else
                        {
                            l_U277 = 3;
                        }
                        fVar12 = fVar20;
                        vVar13 = {uVar21};
                        uVar16 = uVar24;
                        (uParam4^) = uVar25;
                        (uParam5^) = uVar26;
                    }
                }
            }
        }
    }
    if (fVar12 <= 0.00000000)
    {
        WAIT( 0 );
        for ( J = 0; J < 16; J++ )
        {
            if (NOT (sub_1268( J )))
            {
                for ( iVar11 = 0; iVar11 < 3; iVar11++ )
                {
                    switch (uParam2)
                    {
                        case 0:
                        if (J == 7)
                        {
                            fVar20 = -1.00000000;
                        }
                        else
                        {
                            sub_25098( ref l_U279[J], iVar11, ref fVar20, ref uVar21, ref uVar24 );
                        }
                        break;
                        case 1:
                        if (J >= 7)
                        {
                            fVar20 = -1.00000000;
                        }
                        else
                        {
                            sub_25098( ref l_U279[J], iVar11, ref fVar20, ref uVar21, ref uVar24 );
                        }
                        break;
                        case 2:
                        if (J <= 7)
                        {
                            fVar20 = -1.00000000;
                        }
                        else
                        {
                            sub_25098( ref l_U279[J], iVar11, ref fVar20, ref uVar21, ref uVar24 );
                        }
                        break;
                        case 3:
                        if (NOT (J == 7))
                        {
                            fVar20 = -1.00000000;
                        }
                        else
                        {
                            sub_25098( ref l_U279[J], iVar11, ref fVar20, ref uVar21, ref uVar24 );
                        }
                        break;
                    }
                    if (l_U88)
                    {
                        PRINTSTRING( "Blank shot - Ball No " );
                        PRINTINT( J );
                        PRINTSTRING( ", BallSideNo = " );
                        PRINTINT( iVar11 );
                        PRINTSTRING( ", score = " );
                        PRINTFLOAT( fVar20 );
                        PRINTSTRING( "\n" );
                    }
                    if (fVar20 > fVar12)
                    {
                        if (l_U88)
                        {
                            PRINTSTRING( "\n *** Blank shot! *** " );
                            PRINTSTRING( "Ball No = " );
                            PRINTINT( J );
                            PRINTSTRING( ", " );
                            PRINTSTRING( "BallSideNo = " );
                            PRINTINT( iVar11 );
                            PRINTSTRING( ", " );
                            PRINTSTRING( "fThisScore = " );
                            PRINTFLOAT( fVar20 );
                            PRINTSTRING( "\n" );
                        }
                        l_U277 = 3;
                        fVar12 = fVar20;
                        vVar13 = {uVar21};
                        uVar16 = uVar24;
                        (uParam4^) = 180.00000000;
                    }
                }
            }
        }
    }
    if (fVar12 <= 0.00000000)
    {
        WAIT( 0 );
        for ( J = 0; J < 16; J++ )
        {
            if (NOT (sub_1268( J )))
            {
                if (NOT (J == 15))
                {
                    for ( iVar10 = 0; iVar10 < 4; iVar10++ )
                    {
                        fVar20 = -1.00000000;
                        switch (uParam2)
                        {
                            case 0:
                            if (NOT (J == 7))
                            {
                                if (sub_26916( l_U279[15], l_U279[J], iVar10, ref uVar21 ))
                                {
                                    fVar20 = sub_28037( l_U279[15], l_U279[J], uVar21, ref uVar24 );
                                }
                            }
                            break;
                            case 1:
                            if (NOT (J >= 7))
                            {
                                if (sub_26916( l_U279[15], l_U279[J], iVar10, ref uVar21 ))
                                {
                                    fVar20 = sub_28037( l_U279[15], l_U279[J], uVar21, ref uVar24 );
                                }
                            }
                            break;
                            case 2:
                            if (NOT (J <= 7))
                            {
                                if (sub_26916( l_U279[15], l_U279[J], iVar10, ref uVar21 ))
                                {
                                    fVar20 = sub_28037( l_U279[15], l_U279[J], uVar21, ref uVar24 );
                                }
                            }
                            break;
                            case 3:
                            if (J == 7)
                            {
                                if (sub_26916( l_U279[15], l_U279[J], iVar10, ref uVar21 ))
                                {
                                    fVar20 = sub_28037( l_U279[15], l_U279[J], uVar21, ref uVar24 );
                                }
                            }
                            break;
                        }
                        if (l_U88)
                        {
                            PRINTSTRING( "Snooker Recovery - Ball No " );
                            PRINTINT( J );
                            PRINTSTRING( ", CushionNo = " );
                            PRINTINT( iVar10 );
                            PRINTSTRING( ", score = " );
                            PRINTFLOAT( fVar20 );
                            PRINTSTRING( "\n" );
                        }
                        if (fVar20 > fVar12)
                        {
                            if (l_U88)
                            {
                                PRINTSTRING( "SNOOKER - Recovery shot! \n" );
                                PRINTSTRING( "Ball No = " );
                                PRINTINT( J );
                                PRINTSTRING( "\n" );
                                PRINTSTRING( "Cushion No = " );
                                PRINTINT( iVar10 );
                                PRINTSTRING( "\n" );
                                PRINTSTRING( "fThisScore = " );
                                PRINTFLOAT( fVar20 );
                                PRINTSTRING( "\n" );
                            }
                            l_U277 = 3;
                            fVar12 = fVar20;
                            vVar13 = {uVar21};
                            uVar16 = uVar24;
                        }
                    }
                }
            }
        }
    }
    if (DOES_OBJECT_EXIST( l_U279[15] ))
    {
        GET_OBJECT_COORDINATES( l_U279[15], ref vVar17.x, ref vVar17.y, ref vVar17.z );
        if (l_U88)
        {
            PRINTSTRING( "FIND_BEST_SHOT - cue ball pos = " );
            PRINTFLOAT( vVar17.x );
            PRINTSTRING( ", " );
            PRINTFLOAT( vVar17.y );
            PRINTSTRING( ", " );
            PRINTFLOAT( vVar17.z );
            PRINTSTRING( "\n" );
        }
        vVar13.z = vVar17.z;
    }
    (uParam3^) = fVar12;
    (uParam0^) = {vVar13 - vVar17};
    (uParam1^) = uVar16;
    return;
}

void sub_20423(unknown uParam0, unknown uParam1, unknown uParam2, int iParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
    vector vVar9;
    vector vVar12;
    vector vVar15;
    vector vVar18;
    vector vVar21;
    vector vVar24;
    float fVar27;
    float fVar28;
    float fVar29;
    float fVar30;
    float fVar31;
    unknown uVar32;

    vVar9 = {0.00000000, 0.00000000, 0.00000000};
    vVar12 = {0.00000000, 0.00000000, 0.00000000};
    vVar15 = {0.00000000, 0.00000000, 0.00000000};
    vVar18 = {0.00000000, 0.00000000, 0.00000000};
    vVar21 = {0.00000000, 0.00000000, 0.00000000};
    vVar24 = {0.00000000, 0.00000000, 0.00000000};
    fVar27 = 0.00000000;
    fVar28 = 0.00000000;
    fVar29 = 0.00000000;
    fVar30 = 0.00000000;
    fVar31 = 0.00000000;
    (uParam2^) = -1.00000000;
    (uParam4^) = 0.00000000;
    if (DOES_OBJECT_EXIST( l_U279[15] ))
    {
        if (DOES_OBJECT_EXIST( (uParam0^) ))
        {
            if (NOT ((uParam0^) == l_U279[15]))
            {
                (uParam2^) = 1.00000000;
                sub_20675( uParam1, ref vVar9.x, ref vVar9.y, 0 );
                GET_OBJECT_COORDINATES( (uParam0^), ref vVar12.x, ref vVar12.y, ref vVar12.z );
                vVar24 = {vVar9 - vVar12};
                vVar24.z = 0.00000000;
                if ((VMAG( vVar24 )) < (0.03950000 * 2.00000000))
                {
                    sub_20675( uParam1, ref vVar9.x, ref vVar9.y, 1 );
                }
                GET_OBJECT_COORDINATES( l_U279[15], ref l_U356._fU0, ref l_U356._fU4, ref l_U356._fU8 );
                vVar12.z = l_U356._fU8;
                vVar9.z = l_U356._fU8;
                if (NOT (sub_22000( uParam0, uParam1, ref uVar32 )))
                {
                    if (l_U88)
                    {
                        PRINTSTRING( "Ball path to pocket not clear, " );
                    }
                    if (sub_23005( uParam0, ref uVar32 ))
                    {
                        if (l_U88)
                        {
                            PRINTSTRING( ", but same colour. " );
                        }
                        (uParam2^) *= l_U185 * 2.00000000;
                    }
                    else
                    {
                        (uParam2^) *= l_U185;
                    }
                }
                vVar15 = {vVar9 - vVar12};
                fVar31 = VMAG( vVar15 );
                if (fVar31 == 0.00000000)
                {
                    vVar24 = {vVar15 / 0.00000010};
                }
                else
                {
                    vVar24 = {vVar15 / fVar31};
                }
                vVar24 = {vVar24 * (0.03950000 * -2.00000000)};
                (iParam3^) = {vVar12 + vVar24};
                if (NOT (sub_22045( ref l_U279[15], uParam0, iParam3->_fU0, iParam3->_fU4, ref uVar32, ref vVar21 )))
                {
                    if (l_U88)
                    {
                        PRINTSTRING( "Cue ball to aim coord not clear, " );
                    }
                    (uParam2^) = -1.00000000;
                }
                vVar18 = {(iParam3^) - l_U356};
                fVar27 = 2.68000000;
                fVar27 -= l_U187;
                fVar28 = VMAG( vVar15 );
                if (l_U88)
                {
                    PRINTSTRING( "dist target ball to pocket = " );
                    PRINTFLOAT( fVar28 );
                    PRINTSTRING( ", " );
                }
                (uParam4^) += fVar28;
                fVar28 -= l_U186;
                if (fVar28 < 0.00000000)
                {
                    fVar28 *= -1.00000000;
                }
                if (fVar28 > fVar27)
                {
                    fVar28 = fVar27;
                }
                fVar28 /= fVar27;
                fVar29 = fVar28;
                fVar29 *= l_U189;
                fVar29 = 1.00000000 - fVar29;
                if (l_U88)
                {
                    PRINTSTRING( "fMultiplier = " );
                    PRINTFLOAT( fVar29 );
                    PRINTSTRING( ", " );
                }
                (uParam2^) *= fVar29;
                fVar28 = VMAG( vVar18 );
                (uParam6^) = fVar28;
                if (l_U88)
                {
                    PRINTSTRING( "dist cue ball to target = " );
                    PRINTFLOAT( fVar28 );
                    PRINTSTRING( ", " );
                }
                (uParam4^) += fVar28;
                fVar28 -= l_U187;
                if (fVar28 < 0.00000000)
                {
                    fVar28 *= -1.00000000;
                }
                if (fVar28 > fVar27)
                {
                    fVar28 = fVar27;
                }
                fVar28 /= fVar27;
                fVar29 = fVar28;
                fVar29 *= l_U190;
                fVar29 = 1.00000000 - fVar29;
                if (l_U88)
                {
                    PRINTSTRING( "fMultiplier = " );
                    PRINTFLOAT( fVar29 );
                    PRINTSTRING( ", " );
                }
                (uParam2^) *= fVar29;
                if (NOT (sub_18008( (iParam3^), l_U541 )))
                {
                    if (l_U88)
                    {
                        PRINTSTRING( "aim coord not on table, " );
                    }
                    (uParam2^) = -1.00000000;
                }
                GET_ANGLE_BETWEEN_2D_VECTORS( vVar18.x, vVar18.y, vVar15.x, vVar15.y, ref fVar30 );
                (uParam5^) = fVar30;
                if (fVar30 < 90.00000000)
                {
                    if (l_U88)
                    {
                        PRINTSTRING( "shot angle = " );
                        PRINTFLOAT( fVar30 );
                        PRINTSTRING( ", " );
                    }
                    fVar30 -= l_U188;
                    if (fVar30 < 0.00000000)
                    {
                        fVar30 *= -1.00000000;
                    }
                    fVar30 /= 90.00000000 - l_U188;
                    fVar29 = fVar30;
                    fVar29 *= l_U191;
                    fVar29 = 1.00000000 - fVar29;
                    if (l_U88)
                    {
                        PRINTSTRING( "fMultiplier = " );
                        PRINTFLOAT( fVar29 );
                        PRINTSTRING( ". " );
                    }
                    (uParam2^) *= fVar29;
                }
                else if (l_U88)
                {
                    PRINTSTRING( "shot angle > 90.0. " );
                }
                (uParam2^) = -1.00000000;;
            }
        }
    }
    return;
}

void sub_20675(unknown uParam0, unknown uParam1, unknown uParam2, boolean bParam3)
{
    unknown uVar6;

    if (DOES_OBJECT_EXIST( l_U318._fU24 ))
    {
        if (NOT bParam3)
        {
            switch (uParam0)
            {
                case 0:
                GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[0] - (l_U164 * l_U222), l_U170[0] + (l_U164 * l_U222), 0.00000000, uParam1, uParam2, ref uVar6 );
                break;
                case 1:
                GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[1] + (l_U164 * l_U222), l_U170[1] + (l_U164 * l_U222), 0.00000000, uParam1, uParam2, ref uVar6 );
                break;
                case 2:
                GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[1] + (l_U164 * (l_U222 + l_U224)), ((l_U170[1] + (l_U164 * (l_U222 + l_U224))) + (l_U170[2] - (l_U164 * (l_U222 + l_U224)))) * 0.50000000, 0.00000000, uParam1, uParam2, ref uVar6 );
                break;
                case 3:
                GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[2] + (l_U164 * l_U222), l_U170[2] - (l_U164 * l_U222), 0.00000000, uParam1, uParam2, ref uVar6 );
                break;
                case 4:
                GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[3] - (l_U164 * l_U222), l_U170[3] - (l_U164 * l_U222), 0.00000000, uParam1, uParam2, ref uVar6 );
                break;
                case 5:
                GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[0] - (l_U164 * (l_U222 + l_U224)), ((l_U170[0] + (l_U164 * (l_U222 + l_U224))) + (l_U170[3] - (l_U164 * (l_U222 + l_U224)))) * 0.50000000, 0.00000000, uParam1, uParam2, ref uVar6 );
                break;
            }
        }
        else
        {
            switch (uParam0)
            {
                case 0:
                GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[0] - (l_U164 * l_U223), l_U170[0] + (l_U164 * l_U223), 0.00000000, uParam1, uParam2, ref uVar6 );
                break;
                case 1:
                GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[1] + (l_U164 * l_U223), l_U170[1] + (l_U164 * l_U223), 0.00000000, uParam1, uParam2, ref uVar6 );
                break;
                case 2:
                GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[1] + (l_U164 * (l_U223 + l_U224)), ((l_U170[1] + (l_U164 * (l_U223 + l_U224))) + (l_U170[2] - (l_U164 * (l_U223 + l_U224)))) * 0.50000000, 0.00000000, uParam1, uParam2, ref uVar6 );
                break;
                case 3:
                GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[2] + (l_U164 * l_U223), l_U170[2] - (l_U164 * l_U223), 0.00000000, uParam1, uParam2, ref uVar6 );
                break;
                case 4:
                GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[3] - (l_U164 * l_U223), l_U170[3] - (l_U164 * l_U223), 0.00000000, uParam1, uParam2, ref uVar6 );
                break;
                case 5:
                GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, l_U165[0] - (l_U164 * (l_U223 + l_U224)), ((l_U170[0] + (l_U164 * (l_U223 + l_U224))) + (l_U170[3] - (l_U164 * (l_U223 + l_U224)))) * 0.50000000, 0.00000000, uParam1, uParam2, ref uVar6 );
                break;
            }
        }
    }
    return;
}

int sub_22000(unknown uParam0, unknown uParam1, unknown uParam2)
{
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;

    sub_20675( uParam1, ref uVar5._fU0, ref uVar5._fU4, 0 );
    uVar5._fU8 = 0;
    if (NOT (sub_22045( uParam0, uParam0, uVar5._fU0, uVar5._fU4, uParam2, ref uVar8 )))
    {
        return 0;
    }
    return 1;
}

int sub_22045(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    int I;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if (DOES_OBJECT_EXIST( (uParam0^) ))
    {
        GET_OBJECT_COORDINATES( (uParam0^), ref uVar9._fU0, ref uVar9._fU4, ref uVar9._fU8 );
        for ( I = 0; I < 16; I++ )
        {
            if ((NOT (l_U279[I] == (uParam1^))) AND (NOT (l_U279[I] == (uParam0^))))
            {
                if (NOT (sub_1268( I )))
                {
                    if (sub_22180( ref l_U279[I], uVar9._fU0, uVar9._fU4, uParam2, uParam3, uParam5 ))
                    {
                        (uParam4^) = l_U279[I];
                        return 0;
                    }
                }
            }
        }
    }
    return 1;
}

int sub_22180(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    vector vVar8;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    float fVar14;
    float fVar15;
    vector vVar16;
    vector vVar19;
    vector vVar22;
    unknown uVar25;
    unknown uVar26;
    boolean bVar27;
    float fVar28;

    bVar27 = false;
    if (DOES_OBJECT_EXIST( (uParam0^) ))
    {
        GET_OBJECT_COORDINATES( (uParam0^), ref vVar16.x, ref vVar16.y, ref vVar16.z );
        vVar19.x = uParam3;
        vVar19.y = uParam4;
        vVar19.z = vVar16.z;
        vVar22 = {vVar19 - vVar16};
        if ((VMAG2( vVar22 )) < ((0.03950000 * 2.00000000) * (0.03950000 * 2.00000000)))
        {
            bVar27 = true;
        }
        vVar8.x = 0.00000000;
        vVar8.y = 0.00000000;
        vVar8.x = uParam3 - uParam1;
        vVar8.y = uParam4 - uParam2;
        vVar8.z = 0.00000000;
        uVar11._fU0 = 0.00000000;
        uVar11._fU4 = 0.00000000;
        uVar11._fU0 = vVar16.x - uParam1;
        uVar11._fU4 = vVar16.y - uParam2;
        uVar11._fU8 = 0.00000000;
        GET_ANGLE_BETWEEN_2D_VECTORS( vVar8.x, vVar8.y, uVar11._fU0, uVar11._fU4, ref fVar14 );
        if ((VMAG2( vVar8 )) > 0.00000000)
        {
            if ((bVar27) || ((VMAG2( vVar8 )) > (VMAG2( uVar11 ))))
            {
                if ((NOT bVar27) AND (fVar14 >= 90.00000000))
                {
                    return 0;
                }
                else
                {
                    fVar15 = (VMAG( uVar11 )) * (SIN( fVar14 ));
                    if ((bVar27) || (fVar15 < (0.03950000 * 2.00000000)))
                    {
                        uVar25 = SQRT( (VMAG2( uVar11 )) - (fVar15 * fVar15) );
                        fVar28 = VMAG( vVar8 );
                        if (fVar28 == 0.00000000)
                        {
                            vVar8 = {vVar8 / 0.00000010};
                        }
                        else
                        {
                            vVar8 = {vVar8 / fVar28};
                        }
                        vVar8 = {vVar8 * uVar25};
                        uVar26 = SQRT( ((0.03950000 * 2.00000000) * (0.03950000 * 2.00000000)) - (fVar15 * fVar15) );
                        vVar22 = {vVar8};
                        fVar28 = VMAG( vVar22 );
                        if (fVar28 == 0.00000000)
                        {
                            vVar22 = {vVar22 / 0.00000010};
                        }
                        else
                        {
                            vVar22 = {vVar22 / fVar28};
                        }
                        vVar22 = {vVar22 * uVar26};
                        vVar8 = {vVar8 - vVar22};
                        (uParam5^) = {(vector( uParam1, uParam2, vVar16.z)) + vVar8};
                        return 1;
                    }
                    else
                    {
                        return 0;
                    }
                }
            }
            else
            {
                return 0;
            }
        }
        else
        {
            return 0;
        }
        break;
    }
    return 0;
}

int sub_23005(unknown uParam0, unknown uParam1)
{
    int iVar4;
    int iVar5;

    iVar4 = sub_23016( uParam0 );
    iVar5 = sub_23016( uParam1 );
    if ((iVar5 < 7) AND (iVar4 < 7))
    {
        return 1;
    }
    if ((iVar5 == 7) AND (iVar4 == 7))
    {
        return 1;
    }
    if (((iVar5 < 15) AND (iVar5 > 7)) AND ((iVar4 < 15) AND (iVar4 > 7)))
    {
        return 1;
    }
    if (iVar4 == iVar5)
    {
        return 1;
    }
    return 0;
}

int sub_23016(unknown uParam0)
{
    int Result;

    for ( Result = 0; Result < 16; Result++ )
    {
        if (DOES_OBJECT_EXIST( l_U279[Result] ))
        {
            if (l_U279[Result] == (uParam0^))
            {
                return Result;
            }
        }
    }
    return -1;
}

void sub_25098(unknown uParam0, unknown uParam1, unknown uParam2, int iParam3, unknown uParam4)
{
    vector vVar7;
    vector vVar10;
    vector vVar13;
    vector vVar16;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    float fVar22;
    unknown uVar23;
    float fVar24;

    (uParam2^) = 0.00000000;
    fVar24 = 0.00000000;
    if (DOES_OBJECT_EXIST( l_U279[15] ))
    {
        if (DOES_OBJECT_EXIST( (uParam0^) ))
        {
            if (NOT ((uParam0^) == l_U279[15]))
            {
                (uParam2^) = 1.00000000;
                switch (uParam1)
                {
                    case 0:
                    GET_OBJECT_COORDINATES( (uParam0^), iParam3 + 0, iParam3 + 4, iParam3 + 8 );
                    break;
                    case 1:
                    GET_OBJECT_COORDINATES( l_U279[15], ref vVar10.x, ref vVar10.y, ref vVar10.z );
                    GET_OBJECT_COORDINATES( (uParam0^), ref vVar7.x, ref vVar7.y, ref vVar7.z );
                    vVar13 = {vVar7 - vVar10};
                    vVar13.z = 0.00000000;
                    fVar24 = VMAG( vVar13 );
                    if (fVar24 == 0.00000000)
                    {
                        vVar13 = {vVar13 / 0.00000001};
                    }
                    else
                    {
                        vVar13 = {vVar13 / fVar24};
                    }
                    vVar16 = {vVar13};
                    vVar16 = {vVar16 * (0.60000000 * 0.03950000)};
                    vVar13 = {sub_16653( vVar13, 0.00000000, 0.00000000, 90.00000000 )};
                    vVar13 = {vVar13 * (0.80000000 * 0.03950000)};
                    (iParam3^) = {vVar7 + vVar13};
                    (iParam3^) = {(iParam3^) - vVar16};
                    vVar13 = {(iParam3^) - vVar7};
                    fVar24 = VMAG( vVar13 );
                    if (fVar24 == 0.00000000)
                    {
                        vVar13 = {vVar13 / 0.00000001};
                    }
                    else
                    {
                        vVar13 = {vVar13 / fVar24};
                    }
                    vVar13 = {vVar13 * (0.03950000 * 2.00000000)};
                    (iParam3^) = {vVar7 + vVar13};
                    break;
                    case 2:
                    GET_OBJECT_COORDINATES( l_U279[15], ref vVar10.x, ref vVar10.y, ref vVar10.z );
                    GET_OBJECT_COORDINATES( (uParam0^), ref vVar7.x, ref vVar7.y, ref vVar7.z );
                    vVar13 = {vVar7 - vVar10};
                    vVar13.z = 0.00000000;
                    fVar24 = VMAG( vVar13 );
                    if (fVar24 == 0.00000000)
                    {
                        vVar13 = {vVar13 / 0.00000001};
                    }
                    else
                    {
                        vVar13 = {vVar13 / fVar24};
                    }
                    vVar16 = {vVar13};
                    vVar16 = {vVar16 * (0.60000000 * 0.03950000)};
                    vVar13 = {sub_16653( vVar13, 0.00000000, 0.00000000, 90.00000000 )};
                    vVar13 = {vVar13 * (0.80000000 * 0.03950000)};
                    (iParam3^) = {vVar7 - vVar13};
                    (iParam3^) = {(iParam3^) - vVar16};
                    vVar13 = {(iParam3^) - vVar7};
                    fVar24 = VMAG( vVar13 );
                    if (fVar24 == 0.00000000)
                    {
                        vVar13 = {vVar13 / 0.00000001};
                    }
                    else
                    {
                        vVar13 = {vVar13 / fVar24};
                    }
                    vVar13 = {vVar13 * (0.03950000 * 2.00000000)};
                    (iParam3^) = {vVar7 + vVar13};
                    break;
                }
                if (NOT (sub_22045( ref l_U279[15], uParam0, iParam3->_fU0, iParam3->_fU4, ref uVar23, ref uVar19 )))
                {
                    if (l_U88)
                    {
                        PRINTSTRING( "Ball path from cue ball to aim coords not clear, " );
                    }
                    (uParam2^) = -1.00000000;
                }
                GET_OBJECT_COORDINATES( l_U279[15], ref vVar10.x, ref vVar10.y, ref vVar10.z );
                vVar13 = {(iParam3^) - vVar10};
                vVar13.z = 0.00000000;
                (uParam4^) = VMAG( vVar13 );
                fVar22 = (uParam4^) - 0.50000000;
                if (fVar22 < 0.00000000)
                {
                    fVar22 *= -1.00000000;
                }
                if (fVar22 > 4.50000000)
                {
                    fVar22 = 4.50000000;
                }
                fVar22 /= 4.50000000;
                fVar22 += -1.00000000;
                fVar22 *= -1.00000000;
                (uParam2^) *= fVar22;
            }
        }
    }
    return;
}

int sub_26916(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    vector vVar6;
    vector vVar9;
    vector vVar12;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    vector vVar18;
    vector vVar21;
    vector vVar24;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    unknown uVar36;
    unknown uVar37;
    unknown uVar38;
    unknown uVar39;
    unknown uVar40;
    unknown uVar41;
    unknown uVar42;
    unknown uVar43;
    unknown uVar44;
    unknown uVar45;
    unknown uVar46;
    unknown uVar47;
    unknown uVar48;
    float fVar49;
    float fVar50;

    array(ref uVar35._fU0, 2);
    ref uVar35;
    array(ref uVar42._fU0, 2);
    ref uVar42;
    if (DOES_OBJECT_EXIST( uParam0 ))
    {
        if (DOES_OBJECT_EXIST( uParam1 ))
        {
            GET_OBJECT_COORDINATES( uParam0, ref vVar6.x, ref vVar6.y, ref vVar6.z );
            GET_OBJECT_COORDINATES( uParam1, ref vVar9.x, ref vVar9.y, ref vVar9.z );
            vVar12 = {sub_27048( l_U541._fU0[uParam2]._fU0[0], l_U541._fU0[uParam2]._fU0[1] )};
            fVar49 = VMAG( vVar12 );
            if (fVar49 == 0.00000000)
            {
                vVar12 = {vVar12 / 0.00000001};
            }
            else
            {
                vVar12 = {vVar12 / fVar49};
            }
            vVar12 = {vVar12 * 5.00000000};
            uVar42._fU0[0] = {l_U541._fU0[uParam2]._fU0[0]};
            uVar42._fU0[1] = {l_U541._fU0[uParam2]._fU0[1]};
            uVar35._fU0[0] = {vVar6};
            uVar35._fU0[1] = {vVar6 - vVar12};
            if (sub_15152( uVar42, uVar35, ref vVar21 ))
            {
                uVar35._fU0[0] = {vVar9};
                uVar35._fU0[1] = {vVar9 - vVar12};
                if (sub_15152( uVar42, uVar35, ref vVar24 ))
                {
                    uVar27 = {vVar21 - vVar6};
                    uVar27._fU8 = 0.00000000;
                    uVar33 = VMAG( uVar27 );
                    uVar30 = {vVar24 - vVar9};
                    uVar30._fU8 = 0.00000000;
                    uVar34 = VMAG( uVar30 );
                    vVar18 = {vVar24 - vVar21};
                    fVar50 = uVar33 + uVar34;
                    if (fVar50 == 0.00000000)
                    {
                        vVar18 = {vVar18 * (uVar33 / 0.00000100)};
                    }
                    else
                    {
                        vVar18 = {vVar18 * (uVar33 / fVar50)};
                    }
                    uVar15 = {vVar21 + vVar18};
                    uVar15._fU8 = vVar6.z;
                    (uParam3^) = {uVar15};
                    return 1;
                }
                else if (l_U88)
                {
                    PRINTSTRING( "\n GET_BOUNCE_POINT_ON_CUSHION - couldnt get intersect point 2\n" );
                }
            }
            else if (l_U88)
            {
                PRINTSTRING( "\n GET_BOUNCE_POINT_ON_CUSHION - couldnt get intersect point 1\n" );
            }
        }
        else if (l_U88)
        {
            PRINTSTRING( "\n GET_BOUNCE_POINT_ON_CUSHION - ball 2 doesn't exist\n" );
        }
    }
    else if (l_U88)
    {
        PRINTSTRING( "\n GET_BOUNCE_POINT_ON_CUSHION - ball 1 doesn't exist\n" );
    }
    return 0;
}

void sub_27048(vector vParam0, vector vParam3)
{
    vector Result;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    float fVar14;

    vParam0.z = 0.00000000;
    vParam3.z = 0.00000000;
    uVar11 = {vParam3 - vParam0};
    uVar11._fU8 = 0.00000000;
    Result = {sub_16653( uVar11, 0.00000000, 0.00000000, -90.00000000 )};
    fVar14 = VMAG( Result );
    if (fVar14 == 0.00000000)
    {
        Result = {Result / 0.00000010};
    }
    else
    {
        Result = {Result / fVar14};
    }
    Result.z = 0.00000000;
    return Result;
}

float sub_28037(unknown uParam0, unknown uParam1, vector vParam2, unknown uParam5)
{
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    vector vVar14;
    vector vVar17;
    vector vVar20;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    float fVar26;
    int I;
    unknown uVar28;

    if (sub_22045( ref uParam0, ref uParam1, vParam2.x, vParam2.y, ref uVar28, ref uVar23 ))
    {
        if (sub_22045( ref uParam1, ref uParam0, vParam2.x, vParam2.y, ref uVar28, ref uVar23 ))
        {
            for ( I = 0; I < 6; I++ )
            {
                sub_20675( I, ref vVar20.x, ref vVar20.y, 0 );
                vVar20.z = 0.00000000;
                vVar14 = {vParam2};
                vVar14.z = 0.00000000;
                uVar8 = {vVar20 - vVar14};
                if ((VMAG( uVar8 )) < (4.00000000 * 0.03950000))
                {
                    return -1.00000000;
                }
            }
            if ((DOES_OBJECT_EXIST( uParam1 )) AND (DOES_OBJECT_EXIST( uParam0 )))
            {
                GET_OBJECT_COORDINATES( uParam0, ref vVar14.x, ref vVar14.y, ref vVar14.z );
                GET_OBJECT_COORDINATES( uParam1, ref vVar17.x, ref vVar17.y, ref vVar17.z );
                vVar14.z = 0.00000000;
                vVar17.z = 0.00000000;
                vParam2.z = 0.00000000;
                uVar8 = {vParam2 - vVar14};
                uVar11 = {vParam2 - vVar17};
                fVar26 = (VMAG( uVar8 )) + (VMAG( uVar11 ));
                (uParam5^) = fVar26;
                fVar26 += -0.50000000;
                if (fVar26 < 0.00000000)
                {
                    fVar26 *= -1.00000000;
                }
                if (fVar26 > 4.50000000)
                {
                    fVar26 = 4.50000000;
                }
                return fVar26 / 4.50000000;
            }
        }
    }
    return -1.00000000;
}

void sub_30721(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, boolean bParam4)
{
    vector vVar7;
    vector vVar10;
    vector vVar13;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;

    if (bParam4)
    {
        CLEAR_CHAR_TASKS_IMMEDIATELY( uParam0 );
    }
    sub_1736( ref uParam0 );
    if (bParam4)
    {
        CLEAR_CHAR_TASKS_IMMEDIATELY( uParam0 );
    }
    if (l_U55)
    {
        PRINTSTRING( "SET_CHAR_TO_OUTER_STANCE_POSITION_FROM_AIM_VEC - vAimVec = " );
        PRINTFLOAT( uParam1._fU0 );
        PRINTSTRING( ", " );
        PRINTFLOAT( uParam1._fU4 );
        PRINTSTRING( ", " );
        PRINTFLOAT( uParam1._fU8 );
        PRINTSTRING( "\n" );
    }
    vVar7 = {sub_30921( uParam0, uParam1, 0 )};
    vVar10 = {sub_32287( uParam0, uParam1 )};
    if (DOES_OBJECT_EXIST( l_U279[15] ))
    {
        GET_OBJECT_COORDINATES( l_U279[15], ref vVar13.x, ref vVar13.y, ref vVar13.z );
    }
    uVar16 = {vVar13 - vVar7};
    uVar16._fU8 = 0.00000000;
    uVar19 = {vVar13 - vVar10};
    uVar19._fU8 = 0.00000000;
    if ((VMAG2( uVar19 )) > (VMAG2( uVar16 )))
    {
        vVar7 = {vVar10};
    }
    if (l_U55)
    {
        PRINTSTRING( "SET_CHAR_TO_OUTER_STANCE_POSITION_FROM_AIM_VEC - pos = " );
        PRINTFLOAT( vVar7.x );
        PRINTSTRING( ", " );
        PRINTFLOAT( vVar7.y );
        PRINTSTRING( ", " );
        PRINTFLOAT( vVar7.z );
        PRINTSTRING( "\n" );
    }
    SET_CHAR_COORDINATES( uParam0, vVar7.x, vVar7.y, vVar7.z );
    uVar22 = sub_32832( ref uParam1 );
    SET_CHAR_HEADING( uParam0, uVar22 );
    FREEZE_CHAR_POSITION( uParam0, 1 );
    return;
}

void sub_30921(unknown uParam0, vector vParam1, boolean bParam4)
{
    vector vVar7;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    vector vVar13;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    float fVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;

    if (DOES_OBJECT_EXIST( l_U279[15] ))
    {
        GET_OBJECT_COORDINATES( l_U279[15], ref vVar7.x, ref vVar7.y, ref vVar7.z );
    }
    l_U245 = sub_30979( uParam0, vParam1 );
    if (bParam4)
    {
        if (DOES_OBJECT_EXIST( l_U317 ))
        {
            GET_OBJECT_COORDINATES( l_U317, ref vVar13.x, ref vVar13.y, ref vVar13.z );
        }
        else if (NOT (IS_CHAR_INJURED( uParam0 )))
        {
            GET_CHAR_COORDINATES( uParam0, ref vVar13.x, ref vVar13.y, ref vVar13.z );
        }
        vParam1 = {vVar7 - vVar13};
        vParam1.z = 0.00000000;
    }
    fVar20 = VMAG( vParam1 );
    if (fVar20 == 0.00000000)
    {
        vParam1 = {vParam1 / 0.00000010};
    }
    else
    {
        vParam1 = {vParam1 / fVar20};
    }
    vParam1 = {vParam1 * 5.00000000};
    uVar10 = {vVar7 - vParam1};
    array(ref uVar21._fU0, 2);
    ref uVar21;
    uVar21._fU0[0] = {vVar7};
    uVar21._fU0[1] = {uVar10};
    if (NOT (sub_15083( uVar21, l_U657, ref uVar16, ref uVar19 )))
    {
        if (NOT (IS_CHAR_INJURED( uParam0 )))
        {
            GET_CHAR_COORDINATES( uParam0, ref uVar16._fU0, ref uVar16._fU4, ref uVar16._fU8 );
        }
    }
    return sub_31190( ref uVar16, uParam0, bParam4 );
}

int sub_30979(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    vector vVar6;
    vector vVar9;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    float fVar18;
    unknown uVar19;
    float fVar20;

    vVar6 = {sub_30995( uParam0, uParam1, ref uVar19 )};
    if (DOES_OBJECT_EXIST( l_U279[15] ))
    {
        GET_OBJECT_COORDINATES( l_U279[15], ref vVar9.x, ref vVar9.y, ref vVar9.z );
    }
    uVar12 = {vVar9 - vVar6};
    uVar12._fU8 = 0.00000000;
    fVar18 = VMAG( uVar12 );
    uVar15 = {l_U657._fU0[uVar19]._fU0[1] - l_U657._fU0[uVar19]._fU0[0]};
    GET_ANGLE_BETWEEN_2D_VECTORS( uVar12._fU0, uVar12._fU4, uVar15._fU0, uVar15._fU4, ref fVar20 );
    if (fVar20 > 90.00000000)
    {
        fVar20 += -180.00000000;
        fVar20 *= -1.00000000;
    }
    if (fVar20 < 35.00000000)
    {
        if ((sub_18360( ref uVar12, ref uVar15 )) > 0.00000000)
        {
            fVar18 *= 0.60000000;
        }
        else
        {
            fVar18 *= 1.40000000;
        }
    }
    l_U146 = fVar18;
    if (fVar18 < l_U109[0])
    {
        return 0;
    }
    else if (fVar18 < l_U109[1])
    {
        return 1;
    }
    else if (fVar18 < l_U109[2])
    {
        return 2;
    }
    else
    {
        return 3;
    };;;
    return 3;
}

void sub_30995(unknown uParam0, vector vParam1, unknown uParam4)
{
    vector vVar7;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;

    vParam1 = {vParam1 / (VMAG( vParam1 ))};
    vParam1 = {vParam1 * 5.00000000};
    if (DOES_OBJECT_EXIST( l_U279[15] ))
    {
        GET_OBJECT_COORDINATES( l_U279[15], ref vVar7.x, ref vVar7.y, ref vVar7.z );
        uVar10 = {vVar7 - vParam1};
    }
    array(ref uVar16._fU0, 2);
    ref uVar16;
    uVar16._fU0[0] = {vVar7};
    uVar16._fU0[1] = {uVar10};
    if (NOT (sub_15083( uVar16, l_U657, ref uVar13, uParam4 )))
    {
        if (NOT (IS_CHAR_INJURED( uParam0 )))
        {
            GET_CHAR_COORDINATES( uParam0, ref uVar13._fU0, ref uVar13._fU4, ref uVar13._fU8 );
        }
    }
    return sub_31190( ref uVar13, uParam0, 0 );
}

void sub_31190(int iParam0, unknown uParam1, boolean bParam2)
{
    vector vVar5;
    vector vVar8;

    if (DOES_OBJECT_EXIST( l_U279[15] ))
    {
        GET_OBJECT_COORDINATES( l_U279[15], ref vVar5.x, ref vVar5.y, ref vVar5.z );
    }
    vVar8 = {vVar5 - (iParam0^)};
    vVar8.z = 0.00000000;
    vVar8 = {vVar8 / (VMAG( vVar8 ))};
    vVar8 = {sub_16653( vVar8, 0.00000000, 0.00000000, 90.00000000 )};
    if (bParam2)
    {
        vVar8 = {vVar8 * 0.00000000};
    }
    else
    {
        vVar8 = {vVar8 * (sub_31347( uParam1 ))};
    }
    (iParam0^) = {(iParam0^) + vVar8};
    iParam0->_fU8 = l_U144;
    if (NOT bParam2)
    {
        iParam0->_fU8 += sub_31496( uParam1 );
    }
    return (iParam0^);
}

float sub_31347(unknown uParam0)
{
    if (IS_CHAR_MALE( uParam0 ))
    {
        return l_U119[l_U245] + (l_U424._fU0 * (l_U216 * -1.00000000));
        break;
    }
    return l_U134[l_U245] + (l_U424._fU0 * (l_U216 * -1.00000000));
}

float sub_31496(unknown uParam0)
{
    if (IS_CHAR_MALE( uParam0 ))
    {
        return l_U124[l_U245] + (l_U424._fU4 * l_U216);
        break;
    }
    return l_U139[l_U245] + (l_U424._fU4 * l_U216);
}

void sub_32287(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    vector vVar6;
    vector vVar9;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    float fVar15;

    l_U245 = sub_30979( uParam0, uParam1 );
    vVar6 = {uParam1};
    fVar15 = VMAG( vVar6 );
    if (fVar15 == 0.00000000)
    {
        vVar6 = {vVar6 / 0.00000010};
    }
    else
    {
        vVar6 = {vVar6 / fVar15};
    }
    vVar6 = {vVar6 * (sub_32378( uParam0 ))};
    if (DOES_OBJECT_EXIST( l_U279[15] ))
    {
        GET_OBJECT_COORDINATES( l_U279[15], ref vVar9.x, ref vVar9.y, ref vVar9.z );
        uVar12 = {vVar9 - vVar6};
        return sub_31190( ref uVar12, uParam0, 0 );
    }
    return sub_31190( ref uVar12, uParam0, 0 );
}

void sub_32378(unknown uParam0)
{
    if (IS_CHAR_MALE( uParam0 ))
    {
        return l_U114[l_U245];
        break;
    }
    return l_U129[l_U245];
}

void sub_32832(int iParam0)
{
    unknown Result;

    GET_HEADING_FROM_VECTOR_2D( iParam0->_fU0, iParam0->_fU4, ref Result );
    return Result;
}

string sub_32983(unknown uParam0)
{
    if (IS_CHAR_MALE( uParam0 ))
    {
        return "SHORT_SHOT_START";
        break;
    }
    return "F_SHORT_SHOT_START";
}

string sub_33111(unknown uParam0)
{
    if (IS_CHAR_MALE( uParam0 ))
    {
        return "MED_SHOT_START";
        break;
    }
    return "F_MED_SHOT_START";
}

string sub_33235(unknown uParam0)
{
    if (IS_CHAR_MALE( uParam0 ))
    {
        return "LONG_SHOT_START";
        break;
    }
    return "F_LONG_SHOT_START";
}

string sub_33361(unknown uParam0)
{
    if (IS_CHAR_MALE( uParam0 ))
    {
        return "XLONG_SHOT_START";
        break;
    }
    return "F_XLONG_SHOT_START";
}

void sub_33926()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;

    sub_1764( l_U318._fU0[l_U244] );
    if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U243] )))
    {
        GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( l_U318._fU0[l_U243], 0.00000000, 1.00000000, 0.00000000, ref uVar2._fU0, ref uVar2._fU4, ref uVar2._fU8 );
        GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( l_U318._fU0[l_U243], 0.00000000, -1.00000000, 0.00000000, ref uVar5._fU0, ref uVar5._fU4, ref uVar5._fU8 );
    }
    if (NOT (IS_CHAR_INJURED( l_U318._fU0[l_U244] )))
    {
        if ((NOT (LOCATE_CHAR_ANY_MEANS_3D( l_U318._fU0[l_U244], uVar5._fU0, uVar5._fU4, uVar5._fU8, 1.50000000, 1.50000000, 2.00000000, 0 ))) AND (NOT (LOCATE_CHAR_ANY_MEANS_3D( l_U318._fU0[l_U244], uVar2._fU0, uVar2._fU4, uVar2._fU8, 1.50000000, 1.50000000, 2.00000000, 0 ))))
        {
            sub_14835( l_U318._fU0[l_U244] );
        }
        else
        {
            sub_34243( l_U318._fU0[l_U244] );
        }
    }
    return;
}

void sub_34243(unknown uParam0)
{
    vector vVar3;
    vector vVar6;
    vector vVar9;
    float fVar12;

    sub_1764( uParam0 );
    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        GET_CHAR_COORDINATES( uParam0, ref vVar3.x, ref vVar3.y, ref vVar3.z );
        GET_CHAR_HEADING( uParam0, ref fVar12 );
    }
    if (DOES_OBJECT_EXIST( l_U318._fU24 ))
    {
        GET_OBJECT_COORDINATES( l_U318._fU24, ref vVar6.x, ref vVar6.y, ref vVar6.z );
    }
    vVar9 = {vVar6 - vVar3};
    vVar9.z = 0.00000000;
    vVar9 = {vVar9 * 3.50000000};
    vVar3 = {vVar3 + vVar9};
    fVar12 += 180.00000000;
    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        SET_CHAR_COORDINATES( uParam0, vVar3.x, vVar3.y, vVar3.z );
        sub_14835( uParam0 );
    }
    return;
}

void sub_34482()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;

    if (DOES_CAM_EXIST( l_U107 ))
    {
        SET_CAM_ACTIVE( l_U107, 1 );
        SET_CAM_PROPAGATE( l_U107, 1 );
        DESTROY_CAM( l_U107 );
        if (NOT (IS_CHAR_INJURED( l_U318._fU0[0] )))
        {
            SET_CHAR_VISIBLE( l_U318._fU0[0], 1 );
        }
        if (NOT (IS_CHAR_INJURED( l_U318._fU0[1] )))
        {
            SET_CHAR_VISIBLE( l_U318._fU0[1], 1 );
        }
        ACTIVATE_SCRIPTED_CAMS( 0, 0 );
    }
    sub_3235();
    if (NOT (DOES_CAM_EXIST( l_U101 )))
    {
        CREATE_CAM( 14, ref l_U101 );
        SET_CAM_ACTIVE( l_U101, 1 );
        SET_CAM_PROPAGATE( l_U101, 1 );
        ACTIVATE_SCRIPTED_CAMS( 1, 1 );
    }
    GET_OBJECT_COORDINATES( l_U318._fU24, ref uVar2._fU0, ref uVar2._fU4, ref uVar2._fU8 );
    GET_CHAR_COORDINATES( l_U318._fU0[l_U243], ref uVar5._fU0, ref uVar5._fU4, ref uVar5._fU8 );
    GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( l_U318._fU0[l_U243], 1.00000000, 4.00000000, 1.00000000, ref uVar2._fU0, ref uVar2._fU4, ref uVar2._fU8 );
    SET_CAM_POS( l_U101, uVar2._fU0, uVar2._fU4, uVar2._fU8 );
    POINT_CAM_AT_PED( l_U101, l_U318._fU0[l_U243] );
    SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U101, 1 );
    SET_CAM_POINT_OFFSET( l_U101, 0.00000000, 0.00000000, 0.50000000 );
    SET_CAM_FOV( l_U101, l_U198 );
    return;
}

int sub_35057()
{
    int iVar2;

    GENERATE_RANDOM_INT_IN_RANGE( 0, 2, ref iVar2 );
    if (iVar2 == 0)
    {
        return 1;
    }
    return 0;
}

void sub_36963()
{
    int I;

    for ( I = 0; I < 15; I++ )
    {
        if (DOES_OBJECT_EXIST( l_U279[I] ))
        {
            if (NOT (sub_1268( I )))
            {
                if (# -NULL-0xc27c84())
                {
                    SET_OBJECT_ALPHA( l_U279[I], 255 );
                }
                else
                {
                    SET_OBJECT_VISIBLE( l_U279[I], 1 );
                    SET_OBJECT_VISIBLE( l_U296[I], 1 );
                }
            }
        }
    }
    return;
}

void sub_37327(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, boolean bParam4)
{
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;

    uVar7 = {sub_32287( (uParam0^), uParam1 )};
    l_U108 = sub_32832( ref uParam1 );
    if (NOT (IS_CHAR_INJURED( (uParam0^) )))
    {
        if (bParam4)
        {
            SET_CHAR_VISIBLE( (uParam0^), 1 );
        }
        else
        {
            SET_CHAR_VISIBLE( (uParam0^), 0 );
            SET_CHAR_COLLISION( (uParam0^), 0 );
        }
    }
    sub_37425( (uParam0^) );
    if (DOES_OBJECT_EXIST( l_U317 ))
    {
        SET_OBJECT_HEADING( l_U317, l_U108 );
        SET_OBJECT_COORDINATES( l_U317, uVar7._fU0, uVar7._fU4, uVar7._fU8 + l_U530 );
    }
    return;
}

void sub_37425(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;

    if (NOT (DOES_OBJECT_EXIST( l_U317 )))
    {
        GET_CHAR_COORDINATES( uParam0, ref uVar3._fU0, ref uVar3._fU4, ref uVar3._fU8 );
        CREATE_OBJECT( -809347846, uVar3._fU0, uVar3._fU4, uVar3._fU8, ref l_U317, 1 );
        SET_OBJECT_COLLISION( l_U317, 0 );
        SET_OBJECT_VISIBLE( l_U317, 0 );
        FREEZE_OBJECT_POSITION( l_U317, 1 );
        SET_OBJECT_HEADING( l_U317, uVar6 );
    }
    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (NOT (IS_PED_ATTACHED_TO_OBJECT( uParam0, l_U317 )))
        {
            ATTACH_PED_TO_OBJECT( uParam0, l_U317, 0, 0.00000000, 0.00000000, 0.00000000, uVar6, 0.00000000, 0, 0 );
        }
    }
    return;
}

void sub_37770()
{
    float fVar2;

    if ((l_U212 > 15000.00000000) AND (sub_37779()))
    {
        if (NOT l_U83)
        {
            switch (l_U245)
            {
                case 0:
                if (NOT (IS_CHAR_PLAYING_ANIM( l_U318._fU0[l_U243], "MINI_POOL", sub_38056( l_U318._fU0[l_U243] ) )))
                {
                    OPEN_SEQUENCE_TASK( ref l_U329 );
                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, sub_38056( l_U318._fU0[l_U243] ), "MINI_POOL", 4.00000000, 0, 1, 0, 1, -1 );
                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, sub_38221( l_U318._fU0[l_U243] ), "MINI_POOL", 4.00000000, 0, 1, 0, 0, -1 );
                    CLOSE_SEQUENCE_TASK( l_U329 );
                    TASK_PERFORM_SEQUENCE( l_U318._fU0[l_U243], l_U329 );
                    CLEAR_SEQUENCE_TASK( l_U329 );
                }
                else
                {
                    l_U83 = 1;
                }
                break;
                case 1:
                if (NOT (IS_CHAR_PLAYING_ANIM( l_U318._fU0[l_U243], "MINI_POOL", sub_38433( l_U318._fU0[l_U243] ) )))
                {
                    OPEN_SEQUENCE_TASK( ref l_U329 );
                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, sub_38433( l_U318._fU0[l_U243] ), "MINI_POOL", 4.00000000, 0, 1, 0, 1, -1 );
                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, sub_38594( l_U318._fU0[l_U243] ), "MINI_POOL", 4.00000000, 0, 1, 0, 0, -1 );
                    CLOSE_SEQUENCE_TASK( l_U329 );
                    TASK_PERFORM_SEQUENCE( l_U318._fU0[l_U243], l_U329 );
                    CLEAR_SEQUENCE_TASK( l_U329 );
                }
                else
                {
                    l_U83 = 1;
                }
                break;
                case 2:
                if (NOT (IS_CHAR_PLAYING_ANIM( l_U318._fU0[l_U243], "MINI_POOL", sub_38802( l_U318._fU0[l_U243] ) )))
                {
                    OPEN_SEQUENCE_TASK( ref l_U329 );
                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, sub_38802( l_U318._fU0[l_U243] ), "MINI_POOL", 4.00000000, 0, 1, 0, 1, -1 );
                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, sub_38965( l_U318._fU0[l_U243] ), "MINI_POOL", 4.00000000, 0, 1, 0, 0, -1 );
                    CLOSE_SEQUENCE_TASK( l_U329 );
                    TASK_PERFORM_SEQUENCE( l_U318._fU0[l_U243], l_U329 );
                    CLEAR_SEQUENCE_TASK( l_U329 );
                }
                else
                {
                    l_U83 = 1;
                }
                break;
                case 3:
                if (NOT (IS_CHAR_PLAYING_ANIM( l_U318._fU0[l_U243], "MINI_POOL", sub_39175( l_U318._fU0[l_U243] ) )))
                {
                    OPEN_SEQUENCE_TASK( ref l_U329 );
                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, sub_39175( l_U318._fU0[l_U243] ), "MINI_POOL", 4.00000000, 0, 1, 0, 1, -1 );
                    TASK_PLAY_ANIM_NON_INTERRUPTABLE( 0, sub_39340( l_U318._fU0[l_U243] ), "MINI_POOL", 4.00000000, 0, 1, 0, 0, -1 );
                    CLOSE_SEQUENCE_TASK( l_U329 );
                    TASK_PERFORM_SEQUENCE( l_U318._fU0[l_U243], l_U329 );
                    CLEAR_SEQUENCE_TASK( l_U329 );
                }
                else
                {
                    l_U83 = 1;
                }
                break;
            }
        }
        else
        {
            switch (l_U245)
            {
                case 0:
                if (NOT (IS_CHAR_PLAYING_ANIM( l_U318._fU0[l_U243], "MINI_POOL", sub_38056( l_U318._fU0[l_U243] ) )))
                {
                    l_U212 = 0.00000000;
                    l_U83 = 0;
                }
                break;
                case 1:
                if (NOT (IS_CHAR_PLAYING_ANIM( l_U318._fU0[l_U243], "MINI_POOL", sub_38433( l_U318._fU0[l_U243] ) )))
                {
                    l_U212 = 0.00000000;
                    l_U83 = 0;
                }
                break;
                case 2:
                if (NOT (IS_CHAR_PLAYING_ANIM( l_U318._fU0[l_U243], "MINI_POOL", sub_38802( l_U318._fU0[l_U243] ) )))
                {
                    l_U212 = 0.00000000;
                    l_U83 = 0;
                }
                break;
                case 3:
                if (NOT (IS_CHAR_PLAYING_ANIM( l_U318._fU0[l_U243], "MINI_POOL", sub_39175( l_U318._fU0[l_U243] ) )))
                {
                    l_U212 = 0.00000000;
                    l_U83 = 0;
                }
                break;
            }
        }
        l_U148 = 0.20000000;
    }
    else if (NOT sub_37779())
    {
        l_U212 = 0.00000000;
    }
    l_U83 = 0;
    if (l_U56[l_U243])
    {
        fVar2 = 9999.90000000;
    }
    else
    {
        fVar2 = 8.00000000;
    }
    switch (l_U245)
    {
        case 0:
        if (IS_CHAR_PLAYING_ANIM( l_U318._fU0[l_U243], "MINI_POOL", sub_38221( l_U318._fU0[l_U243] ) ))
        {
            SET_CHAR_ANIM_SPEED( l_U318._fU0[l_U243], "MINI_POOL", sub_38221( l_U318._fU0[l_U243] ), 0.00000000 );
            SET_CHAR_ANIM_CURRENT_TIME( l_U318._fU0[l_U243], "MINI_POOL", sub_38221( l_U318._fU0[l_U243] ), l_U148 );
        }
        else
        {
            TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U318._fU0[l_U243], sub_38221( l_U318._fU0[l_U243] ), "MINI_POOL", fVar2, 0, 1, 0, 1, -1 );
        }
        break;
        case 1:
        if (IS_CHAR_PLAYING_ANIM( l_U318._fU0[l_U243], "MINI_POOL", sub_38594( l_U318._fU0[l_U243] ) ))
        {
            SET_CHAR_ANIM_SPEED( l_U318._fU0[l_U243], "MINI_POOL", sub_38594( l_U318._fU0[l_U243] ), 0.00000000 );
            SET_CHAR_ANIM_CURRENT_TIME( l_U318._fU0[l_U243], "MINI_POOL", sub_38594( l_U318._fU0[l_U243] ), l_U148 );
        }
        else
        {
            TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U318._fU0[l_U243], sub_38594( l_U318._fU0[l_U243] ), "MINI_POOL", fVar2, 0, 1, 0, 1, -1 );
        }
        break;
        case 2:
        if (IS_CHAR_PLAYING_ANIM( l_U318._fU0[l_U243], "MINI_POOL", sub_38965( l_U318._fU0[l_U243] ) ))
        {
            SET_CHAR_ANIM_SPEED( l_U318._fU0[l_U243], "MINI_POOL", sub_38965( l_U318._fU0[l_U243] ), 0.00000000 );
            SET_CHAR_ANIM_CURRENT_TIME( l_U318._fU0[l_U243], "MINI_POOL", sub_38965( l_U318._fU0[l_U243] ), l_U148 );
        }
        else
        {
            TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U318._fU0[l_U243], sub_38965( l_U318._fU0[l_U243] ), "MINI_POOL", fVar2, 0, 1, 0, 1, -1 );
        }
        break;
        case 3:
        if (IS_CHAR_PLAYING_ANIM( l_U318._fU0[l_U243], "MINI_POOL", sub_39340( l_U318._fU0[l_U243] ) ))
        {
            SET_CHAR_ANIM_SPEED( l_U318._fU0[l_U243], "MINI_POOL", sub_39340( l_U318._fU0[l_U243] ), 0.00000000 );
            SET_CHAR_ANIM_CURRENT_TIME( l_U318._fU0[l_U243], "MINI_POOL", sub_39340( l_U318._fU0[l_U243] ), l_U148 );
        }
        else
        {
            TASK_PLAY_ANIM_NON_INTERRUPTABLE( l_U318._fU0[l_U243], sub_39340( l_U318._fU0[l_U243] ), "MINI_POOL", fVar2, 0, 1, 0, 1, -1 );
        }
        break;
    }
    return;
}

int sub_37779()
{
    if (l_U56[l_U243])
    {
        if (l_U240 == 4)
        {
            GET_POSITION_OF_ANALOGUE_STICKS( l_U318._fU32[l_U243], ref l_U247, ref l_U248, ref l_U249, ref l_U250 );
            if ((l_U250 == 0) AND (l_U249 == 0))
            {
                GET_MOUSE_INPUT( ref l_U249, ref l_U250 );
            }
            if ((l_U249 > -5) AND (l_U249 < 5))
            {
                if ((l_U250 > -5) AND (l_U250 < 5))
                {
                    return 1;
                }
            }
        }
    }
    return 0;
}

string sub_38056(unknown uParam0)
{
    if (IS_CHAR_MALE( uParam0 ))
    {
        return "SHORT_SHOT_IDLE";
        break;
    }
    return "F_SHORT_SHOT_IDLE";
}

string sub_38221(unknown uParam0)
{
    if (IS_CHAR_MALE( uParam0 ))
    {
        return "SHORT_SHOT_FIRE";
        break;
    }
    return "F_SHORT_SHOT_FIRE";
}

string sub_38433(unknown uParam0)
{
    if (IS_CHAR_MALE( uParam0 ))
    {
        return "MED_SHOT_IDLE";
        break;
    }
    return "F_MED_SHOT_IDLE";
}

string sub_38594(unknown uParam0)
{
    if (IS_CHAR_MALE( uParam0 ))
    {
        return "MED_SHOT_FIRE";
        break;
    }
    return "F_MED_SHOT_FIRE";
}

string sub_38802(unknown uParam0)
{
    if (IS_CHAR_MALE( uParam0 ))
    {
        return "LONG_SHOT_IDLE";
        break;
    }
    return "F_LONG_SHOT_IDLE";
}

string sub_38965(unknown uParam0)
{
    if (IS_CHAR_MALE( uParam0 ))
    {
        return "LONG_SHOT_FIRE";
        break;
    }
    return "F_LONG_SHOT_FIRE";
}

string sub_39175(unknown uParam0)
{
    if (IS_CHAR_MALE( uParam0 ))
    {
        return "XLONG_SHOT_IDLE";
        break;
    }
    return "F_XLONG_SHOT_IDLE";
}

string sub_39340(unknown uParam0)
{
    if (IS_CHAR_MALE( uParam0 ))
    {
        return "XLONG_SHOT_FIRE";
        break;
    }
    return "F_XLONG_SHOT_FIRE";
}

void sub_42171()
{
    unknown uVar2;
    unknown uVar3;
    int iVar4;
    int iVar5;
    unknown Result;
    unknown uVar7;
    unknown uVar8;

    GET_POSITION_OF_ANALOGUE_STICKS( 0, ref uVar2, ref uVar3, ref iVar4, ref iVar5 );
    if ((iVar5 == 0) AND (iVar4 == 0))
    {
        GET_MOUSE_INPUT( ref iVar4, ref iVar5 );
    }
    Result._fU0 = TO_FLOAT( iVar4 );
    Result._fU4 = (TO_FLOAT( iVar5 )) * -1.00000000;
    Result._fU8 = 0.00000000;
    return Result;
}

void sub_42948(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    float fVar9;
    int I;
    vector vVar11;
    float fVar14;

    fVar9 = l_U526;
    for ( I = 0; I < 4; I++ )
    {
        l_U459[I]._fU36 = 0;
    }
    for ( I = 0; I < 4; I++ )
    {
        if (I == 0)
        {
            if (DOES_OBJECT_EXIST( uParam0 ))
            {
                GET_OBJECT_COORDINATES( uParam0, ref l_U459[I]._fU0._fU0, ref l_U459[I]._fU0._fU4, ref l_U459[I]._fU0._fU8 );
            }
            l_U459[I]._fU24 = {uParam1};
            l_U459[I]._fU36 = 1;
        }
        sub_43162( l_U459[I]._fU0, l_U459[I]._fU24, ref l_U459[I]._fU12, ref uVar6 );
        vVar11 = {l_U459[I]._fU12 - l_U459[I]._fU0};
        fVar14 = VMAG2( vVar11 );
        if (fVar14 < (fVar9 * fVar9))
        {
            if ((I + 1) < 4)
            {
                l_U459[I + 1]._fU0 = {l_U459[I]._fU12};
                l_U459[I + 1]._fU24 = {uVar6};
                l_U459[I + 1]._fU36 = 1;
            }
            fVar9 -= VMAG( vVar11 );
        }
        else
        {
            fVar14 = VMAG( vVar11 );
            if (fVar14 == 0.00000000)
            {
                vVar11 = {vVar11 / 0.00000010};
            }
            else
            {
                vVar11 = {vVar11 / fVar14};
            }
            vVar11 = {vVar11 * fVar9};
            l_U459[I]._fU12 = {l_U459[I]._fU0 + vVar11};
        }
    }
    sub_44059();
    return;
}

void sub_43162(vector vParam0, vector vParam3, int iParam6, unknown uParam7)
{
    unknown uVar10;
    float fVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;

    vParam3.z = 0.00000000;
    fVar11 = VMAG( vParam3 );
    if (fVar11 == 0.00000000)
    {
        vParam3 = {vParam3 / 0.00000100};
    }
    else
    {
        vParam3 = {vParam3 / fVar11};
    }
    vParam3 = {vParam3 * 5.00000000};
    array(ref uVar12._fU0, 2);
    ref uVar12;
    uVar12._fU0[0] = {0.00000000, 0.00000000, 0.00000000};
    uVar12._fU0[1] = {0.00000000, 0.00000000, 0.00000000};
    uVar12._fU0[0] = {vParam0};
    uVar12._fU0[1] = {vParam0 + vParam3};
    sub_15083( uVar12, l_U599, iParam6, ref uVar10 );
    iParam6->_fU8 = vParam0.z;
    sub_43368( iParam6, vParam3 );
    (uParam7^) = {sub_43508( vParam3, l_U599._fU0[uVar10]._fU0[0], l_U599._fU0[uVar10]._fU0[1] )};
    return;
}

void sub_43368(unknown uParam0, vector vParam1)
{
    float fVar6;

    fVar6 = VMAG( vParam1 );
    if (fVar6 == 0.00000000)
    {
        vParam1 = {vParam1 / 0.00000010};
    }
    else
    {
        vParam1 = {vParam1 / fVar6};
    }
    vParam1 = {vParam1 * (0.03950000 * l_U529)};
    (uParam0^) = {(uParam0^) - vParam1};
    return;
}

void sub_43508(unknown uParam0, unknown uParam1, unknown uParam2, vector vParam3, vector vParam6)
{
    float fVar11;
    vector vVar12;
    vector vVar15;
    vector Result;
    float fVar21;

    fVar11 = 0.00000000;
    vVar12 = {0.00000000, 0.00000000, 0.00000000};
    vVar15 = {0.00000000, 0.00000000, 0.00000000};
    Result = {0.00000000, 0.00000000, 0.00000000};
    vVar12 = {sub_27048( vParam3, vParam6 )};
    vVar15 = {vParam6 - vParam3};
    GET_ANGLE_BETWEEN_2D_VECTORS( uParam0._fU0, uParam0._fU4, vVar15.x, vVar15.y, ref fVar11 );
    fVar11 += -90.00000000;
    fVar11 *= -1.00000000;
    Result = {sub_16653( vVar12, 0.00000000, 0.00000000, fVar11 )};
    fVar21 = VMAG( Result );
    if (fVar21 == 0.00000000)
    {
        Result = {Result / 0.00000100};
    }
    else
    {
        Result = {Result / fVar21};
    }
    Result.z = 0.00000000;
    return Result;
}

void sub_44059()
{
    int I;
    float fVar3;
    unknown uVar4;
    float fVar5;
    int iVar6;
    int iVar7;
    float fVar8;
    float fVar9;
    float fVar10;
    vector vVar11;
    float fVar14;

    fVar3 = l_U526 / 21;
    GET_FRAME_TIME( ref uVar4 );
    fVar5 = fVar3 / (l_U527 / uVar4);
    l_U528 += fVar5;
    if (l_U528 > fVar3)
    {
        l_U528 -= fVar3;
    }
    fVar8 = 0.00000000;
    iVar6 = 0;
    iVar7 = 0;
    fVar14 = 0.00000000;
    for ( I = 0; I < 25; I++ )
    {
        if (NOT (DOES_OBJECT_EXIST( l_U500[I] )))
        {
            CREATE_OBJECT( -809347846, l_U459[0]._fU0._fU0, l_U459[0]._fU0._fU4, l_U459[0]._fU0._fU8, ref l_U500[I], 1 );
            ADD_OBJECT_TO_INTERIOR_ROOM_BY_KEY( l_U500[I], l_U239 );
            SET_OBJECT_COLLISION( l_U500[I], 0 );
            SET_OBJECT_VISIBLE( l_U500[I], 0 );
            SET_OBJECT_SCALE( l_U500[I], l_U529 );
        }
        if (DOES_OBJECT_EXIST( l_U500[I] ))
        {
            SET_OBJECT_VISIBLE( l_U500[I], 0 );
            if (iVar7 < 4)
            {
                if (l_U459[iVar7]._fU36)
                {
                    vVar11 = {l_U459[iVar7]._fU12 - l_U459[iVar7]._fU0};
                    fVar9 = VMAG( vVar11 );
                    if (iVar7 == 0)
                    {
                        fVar10 = (iVar6 * fVar3) + l_U528;
                    }
                    else
                    {
                        fVar10 = (iVar6 * fVar3) + fVar8;
                    }
                    if (fVar10 > fVar9)
                    {
                        SET_OBJECT_VISIBLE( l_U500[I], 0 );
                        fVar8 = fVar10 - fVar9;
                        iVar6 = 0;
                        iVar7++;
                    }
                    else
                    {
                        fVar14 = VMAG( vVar11 );
                        if (fVar14 == 0.00000000)
                        {
                            vVar11 = {vVar11 / 0.00000100};
                        }
                        else
                        {
                            vVar11 = {vVar11 / fVar14};
                        }
                        vVar11 = {vVar11 * fVar10};
                        vVar11 = {vVar11 + l_U459[iVar7]._fU0};
                        SET_OBJECT_COORDINATES( l_U500[I], vVar11.x, vVar11.y, vVar11.z );
                        SET_OBJECT_VISIBLE( l_U500[I], 1 );
                        iVar6++;
                    }
                }
            }
        }
    }
    return;
}

void sub_44733(unknown uParam0, unknown uParam1, unknown uParam2)
{
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    vector vVar8;
    vector vVar11;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    vector vVar20;
    float fVar23;

    fVar23 = 0.00000000;
    vVar8 = {uParam0};
    fVar23 = VMAG( vVar8 );
    if (fVar23 == 0.00000000)
    {
        vVar8 = {vVar8 / 0.00000001};
    }
    else
    {
        vVar8 = {vVar8 / fVar23};
    }
    vVar11 = {sub_16653( vVar8, 0.00000000, 0.00000000, 90.00000000 )};
    uVar14 = {l_U412};
    uVar14._fU0 -= l_U424._fU0;
    uVar14._fU8 += l_U424._fU4;
    vVar11 = {vVar11 * uVar14._fU0};
    vVar8 = {vVar8 * uVar14._fU4};
    vVar8.z = uVar14._fU8;
    uVar17 = {vVar8 + vVar11};
    GET_HEADING_FROM_VECTOR_2D( uParam0._fU0, uParam0._fU4, ref vVar20.z );
    vVar20 = {vVar20 + l_U409};
    if (DOES_OBJECT_EXIST( l_U279[15] ))
    {
        if (NOT (DOES_OBJECT_EXIST( l_U316 )))
        {
            GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U279[15], uVar17._fU0, uVar17._fU4, uVar17._fU8, ref uVar5._fU0, ref uVar5._fU4, ref uVar5._fU8 );
            CREATE_OBJECT( -927369996, uVar5._fU0, uVar5._fU4, uVar5._fU8, ref l_U316, 1 );
            ADD_OBJECT_TO_INTERIOR_ROOM_BY_KEY( l_U316, l_U239 );
            SET_OBJECT_COLLISION( l_U316, 0 );
            FREEZE_OBJECT_POSITION( l_U316, 1 );
        }
        GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U279[15], uVar17._fU0, uVar17._fU4, uVar17._fU8, ref uVar5._fU0, ref uVar5._fU4, ref uVar5._fU8 );
        SET_OBJECT_VISIBLE( l_U316, 1 );
        SET_OBJECT_COORDINATES( l_U316, uVar5._fU0, uVar5._fU4, uVar5._fU8 );
        SET_OBJECT_ROTATION( l_U316, vVar20.x, vVar20.y, vVar20.z );
    }
    return;
}

void sub_45245(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;
    unknown uVar6;
    float fVar7;

    for ( I = 0; I < 15; I++ )
    {
        if (DOES_OBJECT_EXIST( l_U279[I] ))
        {
            if (NOT (sub_1268( I )))
            {
                fVar7 = sub_45311( ref l_U279[I], uParam0 );
                if (fVar7 < l_U219)
                {
                    fVar7 = l_U219;
                }
                if (# -NULL-0xc27c84())
                {
                    if (fVar7 < 1.00000000)
                    {
                        uVar6 = ROUND( fVar7 * 255.00000000 );
                        SET_OBJECT_ALPHA( l_U279[I], uVar6 );
                    }
                    else
                    {
                        SET_OBJECT_ALPHA( l_U279[I], 255 );
                    }
                }
                else if (fVar7 < 0.50000000)
                {
                    SET_OBJECT_VISIBLE( l_U279[I], 0 );
                    SET_OBJECT_VISIBLE( l_U296[I], 0 );
                }
                else
                {
                    SET_OBJECT_VISIBLE( l_U279[I], 1 );
                    SET_OBJECT_VISIBLE( l_U296[I], 1 );
                }
            }
        }
    }
    return;
}

float sub_45311(unknown uParam0, vector vParam1)
{
    vector vVar6;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    vector vVar12;
    float Result;
    float fVar16;

    if (DOES_OBJECT_EXIST( l_U279[15] ))
    {
        fVar16 = VMAG( vParam1 );
        if (fVar16 == 0.00000000)
        {
            vParam1 = {vParam1 / 0.00000001};
        }
        else
        {
            vParam1 = {vParam1 / fVar16};
        }
        vVar12 = {vParam1};
        vParam1 = {vParam1 * 5.00000000};
        GET_OBJECT_COORDINATES( l_U279[15], ref vVar6.x, ref vVar6.y, ref vVar6.z );
        vVar12 = {vVar12 * 0.03950000};
        vVar6 = {vVar6 - vVar12};
        uVar9 = {vVar6 - vParam1};
        Result = sub_45497( uParam0, vVar6.x, vVar6.y, uVar9._fU0, uVar9._fU4 );
        if (Result > 0.00000000)
        {
            if (Result < l_U214)
            {
                Result /= l_U214;
                return Result;
            }
        }
    }
    return 1.00000000;
}

float sub_45497(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    float fVar13;
    float Result;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;

    if (DOES_OBJECT_EXIST( (uParam0^) ))
    {
        GET_OBJECT_COORDINATES( (uParam0^), ref uVar15._fU0, ref uVar15._fU4, ref uVar15._fU8 );
        uVar7._fU0 = 0.00000000;
        uVar7._fU4 = 0.00000000;
        uVar7._fU0 = uParam3 - uParam1;
        uVar7._fU4 = uParam4 - uParam2;
        uVar7._fU8 = 0.00000000;
        uVar10._fU0 = 0.00000000;
        uVar10._fU4 = 0.00000000;
        uVar10._fU0 = uVar15._fU0 - uParam1;
        uVar10._fU4 = uVar15._fU4 - uParam2;
        uVar10._fU8 = 0.00000000;
        GET_ANGLE_BETWEEN_2D_VECTORS( uVar7._fU0, uVar7._fU4, uVar10._fU0, uVar10._fU4, ref fVar13 );
        if ((VMAG2( uVar7 )) > (VMAG2( uVar10 )))
        {
            if (fVar13 >= 90.00000000)
            {
                return -1.00000000;
            }
            else
            {
                Result = (VMAG( uVar10 )) * (SIN( fVar13 ));
                return Result;
            }
        }
        else
        {
            return -1.00000000;
        }
        break;
    }
    return -1.00000000;
}

void sub_46175()
{
    vector vVar2;
    vector vVar5;
    float fVar8;

    if (DOES_CAM_EXIST( l_U107 ))
    {
        SET_CAM_ACTIVE( l_U107, 1 );
        SET_CAM_PROPAGATE( l_U107, 1 );
        DESTROY_CAM( l_U107 );
        if (NOT (IS_CHAR_INJURED( l_U318._fU0[0] )))
        {
            SET_CHAR_VISIBLE( l_U318._fU0[0], 1 );
        }
        if (NOT (IS_CHAR_INJURED( l_U318._fU0[1] )))
        {
            SET_CHAR_VISIBLE( l_U318._fU0[1], 1 );
        }
        ACTIVATE_SCRIPTED_CAMS( 0, 0 );
    }
    if (NOT (DOES_CAM_EXIST( l_U102 )))
    {
        CREATE_CAM( 14, ref l_U102 );
        ACTIVATE_SCRIPTED_CAMS( 1, 1 );
        ATTACH_CAM_TO_OBJECT( l_U102, l_U279[15] );
        SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U102, 0 );
        POINT_CAM_AT_OBJECT( l_U102, l_U279[15] );
        SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U102, 0 );
    }
    if ((DOES_CAM_EXIST( l_U106 )) || (DOES_CAM_EXIST( l_U103 )))
    {
        if (DOES_CAM_EXIST( l_U103 ))
        {
            if (l_U80)
            {
                if (sub_14150( l_U103, l_U102, 1000 ))
                {
                    DESTROY_CAM( l_U103 );
                }
            }
            else
            {
                DESTROY_CAM( l_U103 );
                SET_CAM_ACTIVE( l_U102, 1 );
                SET_CAM_PROPAGATE( l_U102, 1 );
            }
        }
        if (DOES_CAM_EXIST( l_U106 ))
        {
            if (l_U80)
            {
                if (sub_14150( l_U106, l_U102, 1000 ))
                {
                    sub_3235();
                }
            }
            else
            {
                sub_3235();
                SET_CAM_ACTIVE( l_U102, 1 );
                SET_CAM_PROPAGATE( l_U102, 1 );
            }
        }
    }
    else
    {
        SET_CAM_ACTIVE( l_U102, 1 );
        SET_CAM_PROPAGATE( l_U102, 1 );
    }
    if (DOES_CAM_EXIST( l_U101 ))
    {
        DESTROY_CAM( l_U101 );
    }
    if (DOES_CAM_EXIST( l_U102 ))
    {
        vVar2 = {l_U353};
        fVar8 = VMAG( vVar2 );
        if (fVar8 == 0.00000000)
        {
            vVar2 = {vVar2 / 0.00000001};
        }
        else
        {
            vVar2 = {vVar2 / fVar8};
        }
        vVar5 = {sub_16653( vVar2, 0.00000000, 0.00000000, 90.00000000 )};
        vVar5 = {vVar5 * l_U385._fU0};
        vVar2 = {vVar2 * l_U385._fU4};
        vVar2.z = l_U385._fU8;
        l_U347 = {vVar2 + vVar5};
        vVar2 = {l_U353};
        fVar8 = VMAG( vVar2 );
        if (fVar8 == 0.00000000)
        {
            vVar2 = {vVar2 / 0.00000001};
        }
        else
        {
            vVar2 = {vVar2 / fVar8};
        }
        vVar5 = {sub_16653( vVar2, 0.00000000, 0.00000000, 90.00000000 )};
        vVar5 = {vVar5 * l_U388._fU0};
        vVar2 = {vVar2 * l_U388._fU4};
        vVar2.z = l_U388._fU8;
        l_U350 = {vVar2 + vVar5};
        SET_CAM_ATTACH_OFFSET( l_U102, l_U347._fU0, l_U347._fU4, l_U347._fU8 );
        SET_CAM_POINT_OFFSET( l_U102, l_U350._fU0, l_U350._fU4, l_U350._fU8 );
        SET_CAM_FOV( l_U102, l_U194 );
        SET_CAM_NEAR_CLIP( l_U102, 0.01000000 );
    }
    return;
}

void sub_47497()
{
    if (DOES_CAM_EXIST( l_U107 ))
    {
        SET_CAM_ACTIVE( l_U107, 1 );
        SET_CAM_PROPAGATE( l_U107, 1 );
        DESTROY_CAM( l_U107 );
        if (NOT (IS_CHAR_INJURED( l_U318._fU0[0] )))
        {
            SET_CHAR_VISIBLE( l_U318._fU0[0], 1 );
        }
        if (NOT (IS_CHAR_INJURED( l_U318._fU0[1] )))
        {
            SET_CHAR_VISIBLE( l_U318._fU0[1], 1 );
        }
        ACTIVATE_SCRIPTED_CAMS( 0, 0 );
    }
    l_U347 = {l_U359[l_U245]};
    l_U350 = {l_U372[l_U245]};
    if (NOT (DOES_CAM_EXIST( l_U103 )))
    {
        CREATE_CAM( 14, ref l_U103 );
        ACTIVATE_SCRIPTED_CAMS( 1, 1 );
    }
    if (DOES_CAM_EXIST( l_U102 ))
    {
        if (l_U80)
        {
            if (sub_14150( l_U102, l_U103, 1000 ))
            {
                DESTROY_CAM( l_U102 );
            }
        }
        else
        {
            DESTROY_CAM( l_U102 );
            SET_CAM_ACTIVE( l_U103, 1 );
            SET_CAM_PROPAGATE( l_U103, 1 );
        }
    }
    else
    {
        SET_CAM_ACTIVE( l_U103, 1 );
        SET_CAM_PROPAGATE( l_U103, 1 );
    }
    if (DOES_CAM_EXIST( l_U101 ))
    {
        DESTROY_CAM( l_U101 );
    }
    sub_3235();
    if (DOES_CAM_EXIST( l_U103 ))
    {
        UNATTACH_CAM( l_U103 );
        UNPOINT_CAM( l_U103 );
        ATTACH_CAM_TO_PED( l_U103, l_U318._fU0[l_U243] );
        SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U103, 1 );
        POINT_CAM_AT_PED( l_U103, l_U318._fU0[l_U243] );
        SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U103, 1 );
        SET_CAM_ATTACH_OFFSET( l_U103, l_U347._fU0, l_U347._fU4, l_U347._fU8 );
        SET_CAM_POINT_OFFSET( l_U103, l_U350._fU0, l_U350._fU4, l_U350._fU8 );
        SET_CAM_FOV( l_U103, l_U196 );
    }
    return;
}

float sub_48749(unknown uParam0)
{
    float fVar3;
    int I;

    l_U232[4] = l_U232[3];
    l_U232[3] = l_U232[2];
    l_U232[2] = l_U232[1];
    l_U232[1] = l_U232[0];
    l_U232[0] = uParam0;
    fVar3 = 0.00000000;
    for ( I = 0; I < 5; I++ )
    {
        if (l_U232[I] > 0.00000000)
        {
            fVar3 += 1.00000000;
        }
    }
    return ((((l_U232[0] + l_U232[1]) + l_U232[2]) + l_U232[3]) + l_U232[4]) / fVar3;
}

void sub_50249(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    vector vVar9;

    uVar6 = {(uParam0^) / (VMAG( (uParam0^) ))};
    vVar9 = {uVar6};
    vVar9 = {sub_16653( vVar9, 0.00000000, 0.00000000, 90.00000000 )};
    vVar9 = {vVar9 * uParam1._fU0};
    (uParam0^) = {(uParam0^) + vVar9};
    vVar9 = {uVar6};
    vVar9 = {vVar9 * uParam1._fU4};
    (uParam0^) = {(uParam0^) + vVar9};
    (uParam0^) = {(uParam0^) + uParam1._fU4};
    return;
}

string sub_50942(unknown uParam0)
{
    if (IS_CHAR_MALE( uParam0 ))
    {
        return "SHORT_SHOT_END";
        break;
    }
    return "F_SHORT_SHOT_END";
}

string sub_51066(unknown uParam0)
{
    if (IS_CHAR_MALE( uParam0 ))
    {
        return "MED_SHOT_END";
        break;
    }
    return "F_MED_SHOT_END";
}

string sub_51186(unknown uParam0)
{
    if (IS_CHAR_MALE( uParam0 ))
    {
        return "LONG_SHOT_END";
        break;
    }
    return "F_LONG_SHOT_END";
}

string sub_51308(unknown uParam0)
{
    if (IS_CHAR_MALE( uParam0 ))
    {
        return "XLONG_SHOT_END";
        break;
    }
    return "F_XLONG_SHOT_END";
}

int sub_51584()
{
    vector vVar2;
    vector vVar5;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;

    if (DOES_CAM_EXIST( l_U107 ))
    {
        SET_CAM_ACTIVE( l_U107, 1 );
        SET_CAM_PROPAGATE( l_U107, 1 );
        DESTROY_CAM( l_U107 );
        if (NOT (IS_CHAR_INJURED( l_U318._fU0[0] )))
        {
            SET_CHAR_VISIBLE( l_U318._fU0[0], 1 );
        }
        if (NOT (IS_CHAR_INJURED( l_U318._fU0[1] )))
        {
            SET_CHAR_VISIBLE( l_U318._fU0[1], 1 );
        }
        ACTIVATE_SCRIPTED_CAMS( 0, 0 );
    }
    if (NOT (DOES_CAM_EXIST( l_U104 )))
    {
        CREATE_CAM( 14, ref l_U104 );
        GET_OBJECT_COORDINATES( l_U318._fU24, ref vVar2.x, ref vVar2.y, ref vVar2.z );
        GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( l_U318._fU0[l_U243], l_U421._fU0, l_U421._fU4, l_U421._fU8, ref vVar5.x, ref vVar5.y, ref vVar5.z );
        uVar8 = {vVar5 - vVar2};
        vVar2.x += uVar8._fU0;
        vVar2.y += uVar8._fU4;
        vVar2.z += l_U158;
        SET_CAM_POS( l_U104, vVar2.x, vVar2.y, vVar2.z );
        POINT_CAM_AT_OBJECT( l_U104, l_U318._fU24 );
        SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U104, 0 );
        SET_CAM_POINT_OFFSET( l_U104, 0.00000000, 0.00000000, l_U159 );
        SET_CAM_FOV( l_U104, l_U197 );
        ACTIVATE_SCRIPTED_CAMS( 1, 1 );
    }
    if (DOES_CAM_EXIST( l_U101 ))
    {
        DESTROY_CAM( l_U101 );
    }
    sub_3235();
    if (DOES_CAM_EXIST( l_U103 ))
    {
        if (sub_14150( l_U103, l_U104, 1000 ))
        {
            DESTROY_CAM( l_U103 );
        }
    }
    else if (NOT (DOES_CAM_EXIST( l_U103 )))
    {
        CREATE_CAM( 14, ref l_U103 );
        if (DOES_CAM_EXIST( l_U104 ))
        {
            GET_CAM_POS( l_U104, ref vVar2.x, ref vVar2.y, ref vVar2.z );
        }
        SET_CAM_POS( l_U103, vVar2.x, vVar2.y, vVar2.z );
        POINT_CAM_AT_OBJECT( l_U103, l_U318._fU24 );
        SET_CAM_POINT_OFFSET_IS_RELATIVE( l_U103, 0 );
        SET_CAM_POINT_OFFSET( l_U103, 0.00000000, 0.00000000, l_U159 );
        SET_CAM_FOV( l_U103, l_U197 );
        SET_CAM_ACTIVE( l_U103, 1 );
        SET_CAM_PROPAGATE( l_U103, 1 );
        if (DOES_CAM_EXIST( l_U104 ))
        {
            DESTROY_CAM( l_U104 );
        }
    }
    return 1;;
    return 0;
}

int sub_52717()
{
    int I;
    int iVar3;

    iVar3 = 0;
    for ( I = 0; I < 16; I++ )
    {
        if (NOT (sub_1268( I )))
        {
            if (sub_52762( ref l_U279[I] ))
            {
                iVar3++;
            }
        }
        else
        {
            iVar3++;
        }
    }
    if (iVar3 == 16)
    {
        return 1;
        break;
    }
    return 0;
}

int sub_52762(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;

    if (DOES_OBJECT_EXIST( (uParam0^) ))
    {
        GET_OBJECT_VELOCITY( (uParam0^), ref uVar3._fU0, ref uVar3._fU4, ref uVar3._fU4 );
        GET_OBJECT_ROTATION_VELOCITY( (uParam0^), ref uVar6._fU0, ref uVar6._fU4, ref uVar6._fU8 );
        if (((VMAG2( uVar6 )) < (0.01000000 * 0.01000000)) AND ((VMAG2( uVar3 )) < (0.01000000 * 0.01000000)))
        {
            return 1;
        }
        else if (sub_52886( (uParam0^) ))
        {
            return 1;
        }
    }
    else
    {
        return 1;
    }
    return 0;
}

int sub_52886(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if (DOES_OBJECT_EXIST( uParam0 ))
    {
        GET_OBJECT_COORDINATES( uParam0, ref uVar3._fU0, ref uVar3._fU4, ref uVar3._fU8 );
        if (NOT (sub_18008( uVar3, l_U715 )))
        {
            return 1;
        }
    }
    return 0;
}

void sub_53173()
{
    int I;

    for ( I = 0; I < 16; I++ )
    {
        sub_53202( ref l_U279[I] );
    }
    return;
}

void sub_53202(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if (DOES_OBJECT_EXIST( (uParam0^) ))
    {
        FREEZE_OBJECT_POSITION( (uParam0^), 1 );
        SET_OBJECT_DYNAMIC( (uParam0^), 0 );
        GET_OBJECT_COORDINATES( (uParam0^), ref uVar3._fU0, ref uVar3._fU4, ref uVar3._fU8 );
        SET_OBJECT_COORDINATES( (uParam0^), uVar3._fU0, uVar3._fU4, uVar3._fU8 );
        SET_OBJECT_DYNAMIC( (uParam0^), 1 );
        FREEZE_OBJECT_POSITION( (uParam0^), 0 );
    }
    return;
}

int sub_53450(unknown uParam0)
{
    if ((sub_1268( 7 )) AND (NOT (l_U260[uParam0] == 3)))
    {
        if (NOT l_U59)
        {
            return 5;
        }
    }
    if (NOT l_U97)
    {
        if (sub_1268( 15 ))
        {
            return 3;
        }
    }
    else
    {
        return 7;
    }
    if (l_U251 == 0)
    {
        return 1;
    }
    switch (l_U260[uParam0])
    {
        case 0:
        if (l_U251 == 3)
        {
            return 2;
        }
        break;
        case 1:
        if (NOT (l_U251 == 1))
        {
            return 2;
        }
        break;
        case 2:
        if (NOT (l_U251 == 2))
        {
            return 2;
        }
        break;
        case 3:
        if (NOT (l_U251 == 3))
        {
            return 2;
        }
        break;
    }
    if (l_U252 > 0)
    {
        switch (l_U260[uParam0])
        {
            case 0: break;
            case 1:
            if (l_U256 > 0)
            {
                return 4;
            }
            break;
            case 2:
            if (l_U255 > 0)
            {
                return 4;
            }
            break;
            case 3:
            if ((l_U256 > 0) || (l_U255 > 0))
            {
                return 4;
            }
            break;
        }
    }
    if ((l_U254 == 0) AND (l_U259 == 0))
    {
        return 6;
    }
    if (sub_53844())
    {
        return 7;
    }
    return 0;
}

int sub_53844()
{
    int I;

    l_U253 = 0;
    for ( I = 0; I < 16; I++ )
    {
        if (NOT (sub_1268( I )))
        {
            if (sub_52886( l_U279[I] ))
            {
                PRINTSTRING( "ARE_ANY_BALLS_OFF_TABLE - fail on ball " );
                PRINTINT( I );
                PRINTSTRING( "\n" );
                l_U253++;
            }
        }
    }
    for ( I = 0; I < 16; I++ )
    {
        if (NOT (sub_1268( I )))
        {
            if (sub_54022( I ))
            {
                PRINTSTRING( "ARE_ANY_BALLS_OFF_TABLE - fail2 on ball " );
                PRINTINT( I );
                PRINTSTRING( "\n" );
                l_U253++;
            }
        }
    }
    if (l_U253 > 0)
    {
        return 1;
    }
    return 0;
}

int sub_54022(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;

    if (DOES_OBJECT_EXIST( l_U279[uParam0] ))
    {
        if (NOT (sub_1268( uParam0 )))
        {
            GET_OBJECT_COORDINATES( l_U279[uParam0], ref uVar3._fU0, ref uVar3._fU4, ref uVar3._fU8 );
            GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, 0.04500000, 0.79800000, l_U344._fU8, ref uVar3._fU0, ref uVar3._fU4, ref uVar6 );
            if (uVar3._fU8 > (uVar6 + (0.50000000 * 0.03950000)))
            {
                return 1;
            }
        }
    }
    return 0;
}

void sub_54311()
{
    int I;

    for ( I = 0; I < 16; I++ )
    {
        if ((NOT (sub_1268( I ))) AND (sub_52886( l_U279[I] )))
        {
            if (I == 15)
            {
                l_U97 = 1;
            }
            sub_54377( I );
        }
        if (sub_54022( I ))
        {
            if (I == 15)
            {
                l_U97 = 1;
            }
            sub_54377( I );
        }
    }
    return;
}

void sub_54377(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    FREEZE_OBJECT_POSITION( l_U279[iParam0], 1 );
    GET_OBJECT_COORDINATES( l_U318._fU24, ref uVar3._fU0, ref uVar3._fU4, ref uVar3._fU8 );
    if (NOT (sub_52886( l_U279[iParam0] )))
    {
        PLAY_SOUND_FROM_POSITION( l_U268, "POOL_TABLE_POCKET_BALL", uVar3 );
    }
    SET_OBJECT_COORDINATES( l_U279[iParam0], uVar3._fU0, uVar3._fU4, uVar3._fU8 );
    SET_OBJECT_COLLISION( l_U279[iParam0], 0 );
    SET_OBJECT_VISIBLE( l_U279[iParam0], 0 );
    if (NOT (iParam0 == 15))
    {
        if (NOT (sub_52886( l_U279[iParam0] )))
        {
            l_U254++;
            if (iParam0 < 7)
            {
                l_U255++;
            }
            if ((iParam0 < 15) AND (iParam0 > 7))
            {
                l_U256++;
            }
        }
    }
    if (DOES_OBJECT_EXIST( l_U296[iParam0] ))
    {
        DELETE_OBJECT( ref l_U296[iParam0] );
    }
    l_U5[iParam0] = 1;
    return;
}

void sub_63014(unknown uParam0)
{
    int iVar3;

    if (g_U0)
    {
        return;
    }
    iVar3 = 0;
    if (NOT g_U64808[uParam0]._fU0)
    {
        iVar3 = ProtectedGet(g_U64808[uParam0]._fU8);
        if (iVar3 > 0)
        {
            sub_63083( 2, iVar3 );
            g_U64808[uParam0]._fU0 = 1;
            return;
        }
    }
    return;
}

void sub_63083(unknown uParam0, int iParam1)
{
    g_U32871[uParam0]._fU4 += iParam1;
    if (g_U32871[uParam0]._fU4 > g_U32871[uParam0]._fU0)
    {
        SCRIPT_ASSERT( "Flow_Achievements_Game_Progress_Made: Current Category is over target value" );
        g_U32871[uParam0]._fU4 = g_U32871[uParam0]._fU0;
    }
    sub_63265( 0 );
    return;
}

void sub_63265(boolean bParam0)
{
    float fVar3;
    float fVar4;
    float fVar5;
    float fVar6;
    boolean bVar7;
    int I;

    fVar3 = 0.00000000;
    fVar4 = 0.00000000;
    fVar5 = 0.00000000;
    fVar6 = 0.00000000;
    bVar7 = true;
    I = 0;
    for ( I = 0; I < 8; I++ )
    {
        if (g_U32871[I]._fU4 == g_U32871[I]._fU0)
        {
            fVar4 = g_U32871[I]._fU8;
        }
        else
        {
            bVar7 = false;
            fVar5 = TO_FLOAT( g_U32871[I]._fU0 );
            fVar6 = TO_FLOAT( g_U32871[I]._fU4 );
            fVar4 = (fVar6 / fVar5) * g_U32871[I]._fU8;
        }
        fVar3 += fVar4;
    }
    if (fVar3 > 100.00000000)
    {
        fVar3 = 99.99000000;
    }
    if (bVar7)
    {
        fVar3 = 100.00000000;
    }
    SET_FLOAT_STAT( 0, fVar3 );
    if (bVar7)
    {
        sub_63520();
    }
    if ((NOT (# -NULL-0xc27c84())) AND ((NOT bParam0) AND (bVar7)))
    {
        PRINT_HELP( "GAME100" );
    }
    return;
}

void sub_63520()
{
    ENABLE_MAX_AMMO_CAP( 0 );
    return;
}

void sub_63624(unknown uParam0)
{
    if (g_U32898._fU0 == 54)
    {
        return;
    }
    if (NOT (g_U32898._fU8 == 9))
    {
        g_U32898._fU20 = uParam0;
        if (sub_63691( g_U32898._fU0 ))
        {
            g_U32898._fU16 = uParam0;
        }
        return;
    }
    g_U32898._fU16 = uParam0;
    return;
}

int sub_63691(unknown uParam0)
{
    switch (uParam0)
    {
        case 2:
        case 10:
        case 28:
        case 29:
        case 30: return 1;
    }
    return 0;
}

void sub_64741(unknown uParam0, boolean bParam1)
{
    CLEAR_HELP();
    PRINT_NOW( "PLT_06", 5000, 1 );
    if (NOT (IS_CHAR_INJURED( l_U318._fU0[0] )))
    {
        CLEAR_CHAR_TASKS_IMMEDIATELY( l_U318._fU0[0] );
    }
    if (NOT (IS_CHAR_INJURED( l_U318._fU0[1] )))
    {
        CLEAR_CHAR_TASKS_IMMEDIATELY( l_U318._fU0[1] );
    }
    if (bParam1)
    {
        sub_63624( 3 );
    }
    sub_1032( uParam0 );
    return;
}

int sub_64950(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    float fVar6;
    int iVar7;

    if (DOES_OBJECT_EXIST( l_U318._fU24 ))
    {
        if ((l_U56[uParam0]) AND (IS_PLAYER_PLAYING( l_U318._fU12[uParam0] )))
        {
            GET_OBJECT_COORDINATES( l_U318._fU24, ref uVar3._fU0, ref uVar3._fU4, ref uVar3._fU8 );
            if (LOCATE_CHAR_ON_FOOT_3D( l_U318._fU0[uParam0], uVar3._fU0, uVar3._fU4, uVar3._fU8, 10.00000000, 10.00000000, 2.00000000, 0 ))
            {
                l_U192 = 0.00000000;
                if (IS_THIS_HELP_MESSAGE_BEING_DISPLAYED( "PLH_06" ))
                {
                    CLEAR_HELP();
                }
            }
            else
            {
                CLEAR_HELP();
                fVar6 = l_U192 * 0.00100000;
                fVar6 = 5.00000000 - fVar6;
                iVar7 = ROUND( fVar6 );
                PRINT_HELP_FOREVER_WITH_NUMBER( "PLH_06", iVar7 );
                if (iVar7 <= 0)
                {
                    return 1;
                }
            }
        }
    }
    return 0;
}

void sub_66027()
{
    if (l_U0)
    {
        if ((NOT (IS_BUTTON_PRESSED( 0, 13 ))) AND ((NOT (IS_BUTTON_PRESSED( 0, 10 ))) AND ((NOT (IS_BUTTON_PRESSED( 0, 11 ))) AND ((NOT (IS_BUTTON_PRESSED( 0, 9 ))) AND ((NOT (IS_BUTTON_PRESSED( 0, 8 ))) AND ((NOT (IS_BUTTON_PRESSED( 0, 7 ))) AND ((NOT (IS_BUTTON_PRESSED( 0, 6 ))) AND ((NOT (IS_BUTTON_PRESSED( 0, 5 ))) AND ((NOT (IS_BUTTON_PRESSED( 0, 4 ))) AND ((NOT (IS_BUTTON_PRESSED( 0, 15 ))) AND ((NOT (IS_BUTTON_PRESSED( 0, 14 ))) AND ((NOT (IS_BUTTON_PRESSED( 0, 17 ))) AND (NOT (IS_BUTTON_PRESSED( 0, 16 )))))))))))))))
        {
            l_U0 = 0;
        }
    }
    return;
}

void sub_66414()
{
    int I;
    vector vVar3;
    vector vVar6;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    float fVar20;
    boolean bVar21;

    if (NOT l_U85)
    {
        if (DOES_OBJECT_EXIST( l_U279[15] ))
        {
            GET_OBJECT_VELOCITY( l_U279[15], ref l_U427._fU0, ref l_U427._fU4, ref l_U427._fU8 );
            l_U215 = VMAG( l_U427 );
            if (l_U215 > 0.00000000)
            {
                l_U85 = 1;
                l_U270 = 0;
            }
        }
    }
    if ((l_U85) AND (NOT l_U84))
    {
        if (DOES_OBJECT_EXIST( l_U279[15] ))
        {
            bVar21 = false;
            for ( I = 0; I < 15; I++ )
            {
                if ((DOES_OBJECT_EXIST( l_U279[I] )) AND (DOES_OBJECT_EXIST( l_U279[15] )))
                {
                    if (HAS_POOL_OBJECT_COLLIDED_WITH_OBJECT( l_U279[15], l_U279[I] ))
                    {
                        bVar21 = true;
                    }
                }
            }
            if (HAS_POOL_OBJECT_COLLIDED_WITH_CUSHION( l_U279[15] ))
            {
                bVar21 = true;
            }
            if (bVar21)
            {
                if (l_U215 > 0.00000000)
                {
                    l_U427._fU8 = 0.00000000;
                    uVar18 = VMAG( l_U427 );
                    GET_HEADING_FROM_VECTOR_2D( l_U353._fU0, l_U353._fU4, ref uVar19 );
                    l_U430._fU0 = l_U424._fU0 / l_U202;
                    l_U430._fU4 = l_U424._fU4 / l_U202;
                    l_U430._fU8 = 0.00000000;
                    l_U430 = {l_U430 / (VMAG( l_U430 ))};
                    l_U430 = {sub_16653( l_U430, 0.00000000, 0.00000000, uVar19 )};
                    l_U430 = {l_U430 * ((l_U149 * (uVar18 / l_U215)) * l_U217)};
                    l_U270 = l_U271;
                    l_U218 = 0.00000000;
                    l_U84 = 1;
                }
            }
            else
            {
                GET_OBJECT_VELOCITY( l_U279[15], ref l_U427._fU0, ref l_U427._fU4, ref l_U427._fU8 );
            }
        }
    }
    else if (l_U218 < 1000.00000000)
    {
        if (DOES_OBJECT_EXIST( l_U279[15] ))
        {
            APPLY_FORCE_TO_OBJECT( l_U279[15], 0, l_U430, 0.00000000, 0.00000000, 0.00000000, 0, 0, 1, 1 );
        }
        l_U270 += -1;
    }
    for ( I = 0; I < 15; I++ )
    {
        if (l_U251 == 0)
        {
            if ((DOES_OBJECT_EXIST( l_U279[I] )) AND (DOES_OBJECT_EXIST( l_U279[15] )))
            {
                if (HAS_POOL_OBJECT_COLLIDED_WITH_OBJECT( l_U279[15], l_U279[I] ))
                {
                    if (I < 7)
                    {
                        l_U251 = 1;
                    }
                    else if (I == 7)
                    {
                        l_U251 = 3;
                    }
                    else if (I > 7)
                    {
                        l_U251 = 2;
                    };;;
                }
            }
        }
        else
        {
            I = 15;
        }
    }
    for ( I = 0; I < 16; I++ )
    {
        if (NOT (sub_1268( I )))
        {
            if (sub_67265( ref l_U279[I] ))
            {
                sub_54377( I );
            }
        }
    }
    for ( I = 0; I < 16; I++ )
    {
        if (DOES_OBJECT_EXIST( l_U279[I] ))
        {
            if (HAS_POOL_OBJECT_COLLIDED_WITH_CUSHION( l_U279[I] ))
            {
                l_U259++;
            }
        }
    }
    for ( I = 0; I < 16; I++ )
    {
        if (NOT (sub_52762( ref l_U279[I] )))
        {
            GET_OBJECT_VELOCITY( l_U279[I], ref uVar9._fU0, ref uVar9._fU4, ref uVar9._fU8 );
            GET_OBJECT_ROTATION_VELOCITY( l_U279[I], ref uVar15._fU0, ref uVar15._fU4, ref uVar15._fU8 );
            if (((VMAG2( uVar15 )) < (l_U163 * l_U163)) AND ((VMAG2( uVar9 )) < (l_U162 * l_U162)))
            {
                sub_53202( ref l_U279[I] );
            }
        }
    }
    if (NOT (sub_1268( 15 )))
    {
        if (sub_52762( ref l_U279[15] ))
        {
            if (DOES_OBJECT_EXIST( l_U279[15] ))
            {
                GET_OBJECT_COORDINATES( l_U279[15], ref vVar3.x, ref vVar3.y, ref vVar3.z );
            }
            if (NOT (sub_18008( vVar3, l_U599 )))
            {
                fVar20 = 999.90000000;
                for ( I = 0; I < 6; I++ )
                {
                    sub_20675( I, ref vVar6.x, ref vVar6.y, 0 );
                    vVar6.z = 0.00000000;
                    vVar3.z = 0.00000000;
                    uVar12 = {vVar6 - vVar3};
                    if ((VMAG( uVar12 )) < fVar20)
                    {
                        fVar20 = VMAG( uVar12 );
                    }
                }
                if (fVar20 < (0.03950000 * 3.00000000))
                {
                    sub_54377( 15 );
                }
            }
        }
    }
    return;
}

int sub_67265(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;

    if (DOES_OBJECT_EXIST( (uParam0^) ))
    {
        GET_OBJECT_COORDINATES( (uParam0^), ref uVar3._fU0, ref uVar3._fU4, ref uVar3._fU8 );
        if (sub_18008( uVar3, l_U715 ))
        {
            if (DOES_OBJECT_EXIST( l_U318._fU24 ))
            {
                GET_OFFSET_FROM_OBJECT_IN_WORLD_COORDS( l_U318._fU24, 0.00000000, 0.00000000, l_U181, ref uVar6._fU0, ref uVar6._fU4, ref uVar6._fU8 );
            }
            if (uVar3._fU8 < uVar6._fU8)
            {
                return 1;
            }
        }
    }
    return 0;
}

void sub_68410(int iParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    float fVar7;

    if (l_U70)
    {
        if (NOT (DOES_OBJECT_EXIST( (uParam1^) )))
        {
            if (NOT (IS_CHAR_INJURED( iParam0 )))
            {
                GET_CHAR_COORDINATES( iParam0, ref uVar4._fU0, ref uVar4._fU4, ref uVar4._fU8 );
                CREATE_OBJECT( -167968024, uVar4._fU0, uVar4._fU4, uVar4._fU8 - 3.00000000, uParam1, 1 );
                ADD_OBJECT_TO_INTERIOR_ROOM_BY_KEY( (uParam1^), l_U239 );
            }
        }
        else if (NOT (IS_CHAR_INJURED( iParam0 )))
        {
            if (NOT (IS_OBJECT_ATTACHED( (uParam1^) )))
            {
                ATTACH_OBJECT_TO_PED( (uParam1^), iParam0, 1232, l_U391, l_U394, 0 );
            }
            if (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_32983( iParam0 ) ))
            {
                fVar7 = sub_68644( iParam0, "MINI_POOL", sub_32983( iParam0 ) );
                if ((iParam0 == sub_3014()) AND (l_U73))
                {
                    PRINTSTRING( "PLAYER PLAYING ANIM - SHORT_SHOT_START - time = " );
                    PRINTFLOAT( fVar7 );
                    PRINTSTRING( "\n" );
                }
                if (IS_OBJECT_PLAYING_ANIM( (uParam1^), "OBJ_SHORT_IN", "MINI_POOL" ))
                {
                    if (fVar7 > l_U199)
                    {
                        fVar7 = l_U199;
                    }
                    SET_OBJECT_ANIM_CURRENT_TIME( (uParam1^), "OBJ_SHORT_IN", "MINI_POOL", fVar7 );
                }
                else if (PLAY_OBJECT_ANIM( (uParam1^), "OBJ_SHORT_IN", "MINI_POOL", 1000.00000000, 0, 1 ))
                {
                    SET_OBJECT_ANIM_SPEED( (uParam1^), "OBJ_SHORT_IN", "MINI_POOL", 0.00000000 );
                }
            }
            if (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_38221( iParam0 ) ))
            {
                if (IS_OBJECT_PLAYING_ANIM( (uParam1^), "OBJ_SHORT_IN", "MINI_POOL" ))
                {
                    SET_OBJECT_ANIM_CURRENT_TIME( (uParam1^), "OBJ_SHORT_IN", "MINI_POOL", l_U199 );
                }
                else if (PLAY_OBJECT_ANIM( (uParam1^), "OBJ_SHORT_IN", "MINI_POOL", 1000.00000000, 0, 1 ))
                {
                    SET_OBJECT_ANIM_SPEED( (uParam1^), "OBJ_SHORT_IN", "MINI_POOL", 0.00000000 );
                }
            }
            if ((NOT (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_38221( iParam0 ) ))) AND (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_38056( iParam0 ) )))
            {
                if (IS_OBJECT_PLAYING_ANIM( (uParam1^), "OBJ_SHORT_IN", "MINI_POOL" ))
                {
                    SET_OBJECT_ANIM_CURRENT_TIME( (uParam1^), "OBJ_SHORT_IN", "MINI_POOL", l_U199 );
                }
                else if (PLAY_OBJECT_ANIM( (uParam1^), "OBJ_SHORT_IN", "MINI_POOL", 1000.00000000, 0, 1 ))
                {
                    SET_OBJECT_ANIM_SPEED( (uParam1^), "OBJ_SHORT_IN", "MINI_POOL", 0.00000000 );
                }
            }
            if (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_50942( iParam0 ) ))
            {
                fVar7 = sub_68644( iParam0, "MINI_POOL", sub_50942( iParam0 ) );
                if ((iParam0 == sub_3014()) AND (l_U73))
                {
                    PRINTSTRING( "PLAYER PLAYING ANIM - SHORT_SHOT_END - time = " );
                    PRINTFLOAT( fVar7 );
                    PRINTSTRING( "\n" );
                }
                if (IS_OBJECT_PLAYING_ANIM( (uParam1^), "OBJ_SHORT_OUT", "MINI_POOL" ))
                {
                    fVar7 += 0.30000000;
                    if (fVar7 > l_U199)
                    {
                        fVar7 = l_U199;
                    }
                    SET_OBJECT_ANIM_CURRENT_TIME( (uParam1^), "OBJ_SHORT_OUT", "MINI_POOL", fVar7 );
                }
                else if (PLAY_OBJECT_ANIM( (uParam1^), "OBJ_SHORT_OUT", "MINI_POOL", 1000.00000000, 0, 1 ))
                {
                    SET_OBJECT_ANIM_SPEED( (uParam1^), "OBJ_SHORT_OUT", "MINI_POOL", 0.00000000 );
                }
            }
            if (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_33111( iParam0 ) ))
            {
                fVar7 = sub_68644( iParam0, "MINI_POOL", sub_33111( iParam0 ) );
                if ((iParam0 == sub_3014()) AND (l_U73))
                {
                    PRINTSTRING( "PLAYER PLAYING ANIM - MED_SHOT_START - time = " );
                    PRINTFLOAT( fVar7 );
                    PRINTSTRING( "\n" );
                }
                if (IS_OBJECT_PLAYING_ANIM( (uParam1^), "OBJ_MED_IN", "MINI_POOL" ))
                {
                    if (fVar7 > l_U199)
                    {
                        fVar7 = l_U199;
                    }
                    SET_OBJECT_ANIM_CURRENT_TIME( (uParam1^), "OBJ_MED_IN", "MINI_POOL", fVar7 );
                }
                else if (PLAY_OBJECT_ANIM( (uParam1^), "OBJ_MED_IN", "MINI_POOL", 1000.00000000, 0, 1 ))
                {
                    SET_OBJECT_ANIM_SPEED( (uParam1^), "OBJ_MED_IN", "MINI_POOL", 0.00000000 );
                }
            }
            if (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_38594( iParam0 ) ))
            {
                if (IS_OBJECT_PLAYING_ANIM( (uParam1^), "OBJ_MED_IN", "MINI_POOL" ))
                {
                    SET_OBJECT_ANIM_CURRENT_TIME( (uParam1^), "OBJ_MED_IN", "MINI_POOL", l_U199 );
                }
                else if (PLAY_OBJECT_ANIM( (uParam1^), "OBJ_MED_IN", "MINI_POOL", 1000.00000000, 0, 1 ))
                {
                    SET_OBJECT_ANIM_SPEED( (uParam1^), "OBJ_MED_IN", "MINI_POOL", 0.00000000 );
                }
            }
            if ((NOT (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_38594( iParam0 ) ))) AND (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_38433( iParam0 ) )))
            {
                if (IS_OBJECT_PLAYING_ANIM( (uParam1^), "OBJ_MED_IN", "MINI_POOL" ))
                {
                    SET_OBJECT_ANIM_CURRENT_TIME( (uParam1^), "OBJ_MED_IN", "MINI_POOL", l_U199 );
                }
                else if (PLAY_OBJECT_ANIM( (uParam1^), "OBJ_MED_IN", "MINI_POOL", 1000.00000000, 0, 1 ))
                {
                    SET_OBJECT_ANIM_SPEED( (uParam1^), "OBJ_MED_IN", "MINI_POOL", 0.00000000 );
                }
            }
            if (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_51066( iParam0 ) ))
            {
                fVar7 = sub_68644( iParam0, "MINI_POOL", sub_51066( iParam0 ) );
                if ((iParam0 == sub_3014()) AND (l_U73))
                {
                    PRINTSTRING( "PLAYER PLAYING ANIM - MED_SHOT_END - time = " );
                    PRINTFLOAT( fVar7 );
                    PRINTSTRING( "\n" );
                }
                if (IS_OBJECT_PLAYING_ANIM( (uParam1^), "OBJ_MED_OUT", "MINI_POOL" ))
                {
                    fVar7 += 0.30000000;
                    if (fVar7 > l_U199)
                    {
                        fVar7 = l_U199;
                    }
                    SET_OBJECT_ANIM_CURRENT_TIME( (uParam1^), "OBJ_MED_OUT", "MINI_POOL", fVar7 );
                }
                else if (PLAY_OBJECT_ANIM( (uParam1^), "OBJ_MED_OUT", "MINI_POOL", 1000.00000000, 0, 1 ))
                {
                    SET_OBJECT_ANIM_SPEED( (uParam1^), "OBJ_MED_OUT", "MINI_POOL", 0.00000000 );
                }
            }
            if (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_33235( iParam0 ) ))
            {
                fVar7 = sub_68644( iParam0, "MINI_POOL", sub_33235( iParam0 ) );
                if ((iParam0 == sub_3014()) AND (l_U73))
                {
                    PRINTSTRING( "PLAYER PLAYING ANIM - LONG_SHOT_START - time = " );
                    PRINTFLOAT( fVar7 );
                    PRINTSTRING( "\n" );
                }
                if (IS_OBJECT_PLAYING_ANIM( (uParam1^), "OBJ_LONG_IN", "MINI_POOL" ))
                {
                    if (fVar7 > l_U199)
                    {
                        fVar7 = l_U199;
                    }
                    SET_OBJECT_ANIM_CURRENT_TIME( (uParam1^), "OBJ_LONG_IN", "MINI_POOL", fVar7 );
                }
                else if (PLAY_OBJECT_ANIM( (uParam1^), "OBJ_LONG_IN", "MINI_POOL", 1000.00000000, 0, 1 ))
                {
                    SET_OBJECT_ANIM_SPEED( (uParam1^), "OBJ_LONG_IN", "MINI_POOL", 0.00000000 );
                }
            }
            if (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_38965( iParam0 ) ))
            {
                if (IS_OBJECT_PLAYING_ANIM( (uParam1^), "OBJ_LONG_IN", "MINI_POOL" ))
                {
                    SET_OBJECT_ANIM_CURRENT_TIME( (uParam1^), "OBJ_LONG_IN", "MINI_POOL", l_U199 );
                }
                else if (PLAY_OBJECT_ANIM( (uParam1^), "OBJ_LONG_IN", "MINI_POOL", 1000.00000000, 0, 1 ))
                {
                    SET_OBJECT_ANIM_SPEED( (uParam1^), "OBJ_LONG_IN", "MINI_POOL", 0.00000000 );
                }
            }
            if ((NOT (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_38965( iParam0 ) ))) AND (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_38802( iParam0 ) )))
            {
                if (IS_OBJECT_PLAYING_ANIM( (uParam1^), "OBJ_LONG_IN", "MINI_POOL" ))
                {
                    SET_OBJECT_ANIM_CURRENT_TIME( (uParam1^), "OBJ_LONG_IN", "MINI_POOL", l_U199 );
                }
                else if (PLAY_OBJECT_ANIM( (uParam1^), "OBJ_LONG_IN", "MINI_POOL", 1000.00000000, 0, 1 ))
                {
                    SET_OBJECT_ANIM_SPEED( (uParam1^), "OBJ_LONG_IN", "MINI_POOL", 0.00000000 );
                }
            }
            if (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_51186( iParam0 ) ))
            {
                fVar7 = sub_68644( iParam0, "MINI_POOL", sub_51186( iParam0 ) );
                if ((iParam0 == sub_3014()) AND (l_U73))
                {
                    PRINTSTRING( "PLAYER PLAYING ANIM - LONG_SHOT_END - time = " );
                    PRINTFLOAT( fVar7 );
                    PRINTSTRING( "\n" );
                }
                if (IS_OBJECT_PLAYING_ANIM( (uParam1^), "OBJ_LONG_OUT", "MINI_POOL" ))
                {
                    fVar7 += 0.30000000;
                    if (fVar7 > l_U199)
                    {
                        fVar7 = l_U199;
                    }
                    SET_OBJECT_ANIM_CURRENT_TIME( (uParam1^), "OBJ_LONG_OUT", "MINI_POOL", fVar7 );
                }
                else if (PLAY_OBJECT_ANIM( (uParam1^), "OBJ_LONG_OUT", "MINI_POOL", 1000.00000000, 0, 1 ))
                {
                    SET_OBJECT_ANIM_SPEED( (uParam1^), "OBJ_LONG_OUT", "MINI_POOL", 0.00000000 );
                }
            }
            if (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_33361( iParam0 ) ))
            {
                fVar7 = sub_68644( iParam0, "MINI_POOL", sub_33361( iParam0 ) );
                if ((iParam0 == sub_3014()) AND (l_U73))
                {
                    PRINTSTRING( "PLAYER PLAYING ANIM - XLONG_SHOT_START - time = " );
                    PRINTFLOAT( fVar7 );
                    PRINTSTRING( "\n" );
                }
                if (IS_OBJECT_PLAYING_ANIM( (uParam1^), "OBJ_XLONG_IN", "MINI_POOL" ))
                {
                    if (fVar7 > l_U199)
                    {
                        fVar7 = l_U199;
                    }
                    SET_OBJECT_ANIM_CURRENT_TIME( (uParam1^), "OBJ_XLONG_IN", "MINI_POOL", fVar7 );
                }
                else if (PLAY_OBJECT_ANIM( (uParam1^), "OBJ_XLONG_IN", "MINI_POOL", 1000.00000000, 0, 1 ))
                {
                    SET_OBJECT_ANIM_SPEED( (uParam1^), "OBJ_XLONG_IN", "MINI_POOL", 0.00000000 );
                }
            }
            if (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_39340( iParam0 ) ))
            {
                if (IS_OBJECT_PLAYING_ANIM( (uParam1^), "OBJ_XLONG_IN", "MINI_POOL" ))
                {
                    SET_OBJECT_ANIM_CURRENT_TIME( (uParam1^), "OBJ_XLONG_IN", "MINI_POOL", l_U199 );
                }
                else if (PLAY_OBJECT_ANIM( (uParam1^), "OBJ_XLONG_IN", "MINI_POOL", 1000.00000000, 0, 1 ))
                {
                    SET_OBJECT_ANIM_SPEED( (uParam1^), "OBJ_XLONG_IN", "MINI_POOL", 0.00000000 );
                }
            }
            if ((NOT (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_39175( iParam0 ) ))) AND (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_39175( iParam0 ) )))
            {
                if (IS_OBJECT_PLAYING_ANIM( (uParam1^), "OBJ_XLONG_IN", "MINI_POOL" ))
                {
                    SET_OBJECT_ANIM_CURRENT_TIME( (uParam1^), "OBJ_XLONG_IN", "MINI_POOL", l_U199 );
                }
                else if (PLAY_OBJECT_ANIM( (uParam1^), "OBJ_XLONG_IN", "MINI_POOL", 1000.00000000, 0, 1 ))
                {
                    SET_OBJECT_ANIM_SPEED( (uParam1^), "OBJ_XLONG_IN", "MINI_POOL", 0.00000000 );
                }
            }
            if (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_51308( iParam0 ) ))
            {
                fVar7 = sub_68644( iParam0, "MINI_POOL", sub_51308( iParam0 ) );
                if ((iParam0 == sub_3014()) AND (l_U73))
                {
                    PRINTSTRING( "PLAYER PLAYING ANIM - XLONG_SHOT_END - time = " );
                    PRINTFLOAT( fVar7 );
                    PRINTSTRING( "\n" );
                }
                if (IS_OBJECT_PLAYING_ANIM( (uParam1^), "OBJ_XLONG_OUT", "MINI_POOL" ))
                {
                    fVar7 += 0.30000000;
                    if (fVar7 > l_U199)
                    {
                        fVar7 = l_U199;
                    }
                    SET_OBJECT_ANIM_CURRENT_TIME( (uParam1^), "OBJ_XLONG_OUT", "MINI_POOL", fVar7 );
                }
                else if (PLAY_OBJECT_ANIM( (uParam1^), "OBJ_XLONG_OUT", "MINI_POOL", 1000.00000000, 0, 1 ))
                {
                    SET_OBJECT_ANIM_SPEED( (uParam1^), "OBJ_XLONG_OUT", "MINI_POOL", 0.00000000 );
                }
            }
            if ((NOT (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_50942( iParam0 ) ))) AND ((NOT (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_38056( iParam0 ) ))) AND ((NOT (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_38221( iParam0 ) ))) AND ((NOT (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_32983( iParam0 ) ))) AND ((NOT (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_51066( iParam0 ) ))) AND ((NOT (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_38433( iParam0 ) ))) AND ((NOT (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_38594( iParam0 ) ))) AND ((NOT (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_33111( iParam0 ) ))) AND ((NOT (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_51186( iParam0 ) ))) AND ((NOT (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_38802( iParam0 ) ))) AND ((NOT (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_38965( iParam0 ) ))) AND ((NOT (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_33235( iParam0 ) ))) AND ((NOT (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_51308( iParam0 ) ))) AND ((NOT (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_39175( iParam0 ) ))) AND ((NOT (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_39340( iParam0 ) ))) AND ((NOT (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", sub_33361( iParam0 ) ))) AND (IS_CHAR_PLAYING_ANIM( iParam0, "MINI_POOL", "IDLE" ))))))))))))))))))
            {
                fVar7 = sub_68644( iParam0, "MINI_POOL", "IDLE" );
                if ((iParam0 == sub_3014()) AND (l_U73))
                {
                    PRINTSTRING( "PLAYER PLAYING ANIM - IDLE - time = " );
                    PRINTFLOAT( fVar7 );
                    PRINTSTRING( "\n" );
                }
                if (IS_OBJECT_PLAYING_ANIM( (uParam1^), "OBJ_IDLE", "MINI_POOL" ))
                {
                    if (fVar7 > l_U199)
                    {
                        fVar7 = l_U199;
                    }
                    SET_OBJECT_ANIM_CURRENT_TIME( (uParam1^), "OBJ_IDLE", "MINI_POOL", fVar7 );
                }
                else if (PLAY_OBJECT_ANIM( (uParam1^), "OBJ_IDLE", "MINI_POOL", 1000.00000000, 0, 1 ))
                {
                    SET_OBJECT_ANIM_SPEED( (uParam1^), "OBJ_IDLE", "MINI_POOL", 0.00000000 );
                }
            }
        }
    }
    return;
}

void sub_68644(unknown uParam0, unknown uParam1, unknown uParam2)
{
    unknown Result;

    GET_CHAR_ANIM_CURRENT_TIME( uParam0, uParam1, uParam2, ref Result );
    return Result;
}

