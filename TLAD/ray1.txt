void main()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;

    l_U0 = 86.00000000;
    l_U1 = 274.00000000;
    l_U6 = 0;
    l_U7 = 1;
    l_U8 = 3;
    l_U10 = 0;
    l_U11 = -1;
    l_U12 = 0;
    l_U13 = 0;
    l_U14 = 0;
    l_U15 = 0;
    l_U16 = 0;
    l_U17 = 0;
    l_U18 = 0;
    l_U20 = -1;
    l_U132 = 15.00000000;
    l_U133 = 35.00000000;
    l_U134 = 16.00000000;
    l_U135 = 0.00000000;
    l_U141 = 1000.00000000;
    l_U142 = 7500.00000000;
    l_U151 = 1;
    l_U152 = 30.00000000;
    l_U153 = 30.00000000;
    l_U154 = 2.00000000;
    l_U164 = 0.00000000;
    l_U165 = 0.00000000;
    l_U177 = 1;
    l_U178 = 0;
    l_U179 = -1;
    l_U180 = 1;
    l_U181 = -1;
    l_U182 = -1;
    l_U183 = 15.00000000;
    l_U210 = 0;
    l_U211 = -1949702649;
    l_U212 = 2075870698;
    l_U217 = 0.12000000;
    l_U228 = 1;
    l_U229 = 1;
    l_U354 = 6;
    l_U355 = 0;
    l_U363 = 0;
    l_U364 = 0;
    l_U365 = 0;
    l_U366 = 0;
    l_U367 = 0;
    l_U368 = 1;
    l_U369 = 0;
    l_U370 = 0;
    l_U371 = 0;
    l_U372 = 1;
    l_U373 = 0;
    l_U374 = 0;
    l_U375 = 0;
    l_U376 = 0;
    l_U377 = 0;
    l_U378 = 0;
    l_U379 = 0;
    l_U380 = 0;
    l_U381 = 0;
    l_U382 = 1;
    l_U383 = 0;
    l_U384 = 0;
    l_U385 = 0;
    l_U386 = 0;
    l_U387 = 0;
    l_U388 = 0;
    l_U389 = 0;
    l_U390 = 1;
    l_U391 = 1;
    l_U392 = 0;
    l_U393 = 0;
    l_U394 = 0;
    l_U395 = 0;
    l_U396 = 0;
    l_U397 = 0;
    l_U398 = 0;
    l_U1543 = 90.00000000;
    l_U1544 = 5.00000000;
    l_U1545 = 25.00000000;
    l_U1546 = 15.00000000;
    l_U1547 = 2.00000000;
    l_U1548 = 4.00000000;
    l_U1549 = 0.50000000;
    l_U1550 = 120.00000000;
    l_U1551 = 0.00000000;
    l_U1552 = 0.00000000;
    l_U1554 = 1.00000000;
    l_U1555 = 0.00000000;
    l_U1556 = 1.00000000;
    l_U1557 = 10.00000000;
    l_U1558 = 30.00000000;
    l_U1560 = 1.00000000;
    l_U1562 = 1.00000000;
    l_U1563 = 5.00000000;
    l_U1564 = 1.00000000;
    l_U1565 = 1.00000000;
    l_U1570 = 0.30000000;
    l_U1571 = 0.50000000;
    l_U1572 = 50.00000000;
    l_U1978 = 0;
    l_U1979 = 0;
    l_U1980 = 0;
    l_U1981 = 0;
    l_U1982 = 1;
    l_U1983 = 0;
    l_U1984 = 0;
    l_U1985 = 0;
    l_U1986 = 0;
    l_U1987 = -1;
    l_U1988 = 0;
    l_U1989 = 0;
    l_U1990 = 0;
    l_U1991 = 0;
    l_U1992 = 0;
    l_U1993 = 0;
    l_U1994 = 0;
    l_U3167 = 0;
    l_U3168 = 0;
    l_U3175 = -1616890832;
    l_U3176 = -492470690;
    l_U3177 = -797220459;
    l_U3178 = -1961627517;
    l_U3179 = -1961627517;
    l_U3180 = 1668078208;
    l_U3201 = 1.00000000;
    l_U3202 = 1;
    l_U3203 = {178.58210000, -298.99760000, 11.32000000};
    l_U3206 = {176.54560000, -298.37440000, 11.52000000};
    l_U3209 = {-306.83760000, -39.02170000, 13.60000000};
    l_U3212 = {-308.21510000, -38.85170000, 13.58000000};
    l_U3230 = 0;
    l_U3231 = 0;
    l_U3232 = 0;
    l_U3233 = 0;
    l_U3234 = 0;
    l_U3235 = 0;
    l_U3236 = 0;
    l_U3237 = 0;
    l_U3238 = 0;
    l_U3239 = 0;
    l_U3240 = 0;
    l_U3241 = 1;
    l_U3242 = 1;
    l_U3243 = 0;
    l_U3244 = 0;
    l_U3245 = 0;
    l_U3246 = 0;
    l_U3247 = 0;
    l_U3248 = 0;
    l_U3256 = 1348744438;
    l_U3279 = 1737188996;
    l_U3280 = 1737188996;
    l_U3281 = 802082487;
    l_U3282 = -408052231;
    l_U3527 = {803.43000000, -198.65000000, 8.00000000};
    l_U3530 = -1085774992;
    l_U3564 = 4;
    SET_MISSION_FLAG( 1 );
    SET_WANTED_MULTIPLIER( 0.01000000 );
    GET_MAX_WANTED_LEVEL( ref l_U3255 );
    SET_MAX_WANTED_LEVEL( 1 );
    SET_CAR_DENSITY_MULTIPLIER( 0.70000000 );
    if (HAS_DEATHARREST_EXECUTED())
    {
        sub_1290();
        sub_3464();
    }
    WAIT( 0 );
    LOAD_ADDITIONAL_TEXT( "E1RAY1", 0 );
    sub_10402( "E1R1AUD" );
    LOAD_ADDITIONAL_TEXT( "E1R1AUD", 6 );
    LOAD_COMBAT_DECISION_MAKER( 3, ref l_U3254 );
    SET_DECISION_MAKER_ATTRIBUTE_WEAPON_ACCURACY( l_U3254, 25 );
    SET_DECISION_MAKER_ATTRIBUTE_FIRE_RATE( l_U3254, 2 );
    SET_DECISION_MAKER_ATTRIBUTE_SIGHT_RANGE( l_U3254, 40 );
    SET_DECISION_MAKER_ATTRIBUTE_CAN_CHANGE_TARGET( l_U3254, 1 );
    SET_DECISION_MAKER_ATTRIBUTE_TARGET_INJURED_REACTION( l_U3254, 0 );
    while (true)
    {
        WAIT( 0 );
        sub_10630( ref l_U3336 );
        sub_38056();
        switch (l_U3172)
        {
            case 0:
            if (IS_BIT_SET( g_U10959._fU0, 7 ))
            {
                g_U39149[16] = 0;
            }
            if (g_U39149[16] == 0)
            {
                sub_42250( 500 );
                if (IS_BIT_SET( g_U10959._fU0, 7 ))
                {
                    sub_42376();
                }
                sub_42991();
                CLEAR_AREA( -131.40000000, -253.40000000, 12.00000000, 40.00000000, 1 );
                LOAD_PATH_NODES_IN_AREA( 149.40000000, -416.88000000, 933.00000000, 65143 );
                SET_PLAYER_CONTROL( sub_3898(), 1 );
                sub_44477( 500 );
                while (NOT (sub_44607( 1, "E1R1_CALL1", "E1R1AUD" )))
                {
                    WAIT( 500 );
                }
                sub_47489();
                l_U3172 = 1;
            }
            else if (g_U39149[16] == 1)
            {
                sub_42991();
                l_U3172 = 4;
            }
            break;
            case 1:
            sub_49379();
            break;
            case 3:
            sub_59372();
            break;
            case 4:
            SET_PLAYER_CONTROL( sub_3898(), 0 );
            sub_42250( 500 );
            sub_9777();
            sub_64576();
            while (NOT (sub_69958( ref l_U3531 )))
            {
                WAIT( 0 );
            }
            LOAD_SCENE( 781.23650000, -223.71060000, 4.95870000 );
            SET_PLAYER_CONTROL( sub_3898(), 1 );
            sub_44477( 500 );
            if (NOT (IS_CHAR_INJURED( l_U3198[0] )))
            {
                TASK_LOOK_AT_CHAR( sub_3952(), l_U3198[0], 3500, 0 );
            }
            sub_70250();
            while (NOT (IS_CHAR_PLAYING_ANIM( sub_3952(), "MISSRAYB_1", "point_back_forward" )))
            {
                WAIT( 0 );
                if ((NOT l_U3243) AND (IS_CHAR_IN_ANY_CAR( sub_3952() )))
                {
                    TASK_PLAY_ANIM_UPPER_BODY( sub_3952(), "point_back_forward", "MISSRAYB_1", 8.00000000, 0, 0, 0, 0, 0 );
                    l_U3243 = 1;
                }
            }
            if (sub_38065())
            {
                while (NOT (sub_16034( "E1R1_STAY2", ref l_U3221, 7, 1 )))
                {
                    WAIT( 0 );
                }
            }
            else
            {
                while (NOT (sub_16034( "E1R1_INST", ref l_U3221, 7, 1 )))
                {
                    WAIT( 0 );
                }
            }
            SETTIMERA( 0 );
            if (NOT (IS_CHAR_INJURED( l_U3188 )))
            {
                ADD_BLIP_FOR_CHAR( l_U3188, ref l_U3173 );
            }
            while (sub_17823( l_U3221 ))
            {
                WAIT( 0 );
                sub_81526();
            }
            WAIT( 250 );
            if (NOT (IS_CHAR_INJURED( l_U3188 )))
            {
                PRINT_NOW( "R1_ROCKS", 7500, 0 );
            }
            l_U3172 = 5;
            break;
            case 5:
            sub_84967();
            break;
            case 6:
            sub_103705();
            break;
            case 7:
            sub_104652();
            break;
            case 9:
            sub_104675( ref l_U3257 );
            if ((IS_CHAR_INJURED( l_U3257[0]._fU4[1] )) AND (IS_CHAR_INJURED( l_U3257[0]._fU4[0] )))
            {
                sub_104878( ref l_U3257[0] );
                if (IS_WANTED_LEVEL_GREATER( sub_3898(), 0 ))
                {
                    PRINT_NOW( "R1_WANTED", 7500, 0 );
                    l_U3172 = 8;
                }
                else if ((NOT l_U3231) AND (NOT l_U3230))
                {
                    ADD_BLIP_FOR_OBJECT( l_U3531[0]._fU16, ref l_U3531[0]._fU20 );
                    ADD_BLIP_FOR_OBJECT( l_U3531[2]._fU16, ref l_U3531[2]._fU20 );
                    if (l_U3241 == 1)
                    {
                        PRINT_NOW( "R1_STASH1", 7500, 0 );
                        l_U3241 = 0;
                    }
                }
                else if (NOT l_U3230)
                {
                    ADD_BLIP_FOR_OBJECT( l_U3531[0]._fU16, ref l_U3531[0]._fU20 );
                    SET_ROUTE( l_U3531[0]._fU20, 1 );
                    if (l_U3242 == 1)
                    {
                        PRINT_NOW( "R1_STASH2", 7500, 0 );
                        l_U3242 = 0;
                    }
                }
                else if (NOT l_U3231)
                {
                    ADD_BLIP_FOR_OBJECT( l_U3531[2]._fU16, ref l_U3531[2]._fU20 );
                    SET_ROUTE( l_U3531[2]._fU20, 1 );
                    if (l_U3242 == 1)
                    {
                        PRINT_NOW( "R1_STASH2", 7500, 0 );
                        l_U3242 = 0;
                    }
                };;;
                l_U3172 = 7;;
            }
            break;
            case 8:
            if (NOT (IS_WANTED_LEVEL_GREATER( sub_3898(), 0 )))
            {
                if ((NOT l_U3231) AND (NOT l_U3230))
                {
                    ADD_BLIP_FOR_OBJECT( l_U3531[0]._fU16, ref l_U3531[0]._fU20 );
                    ADD_BLIP_FOR_OBJECT( l_U3531[2]._fU16, ref l_U3531[2]._fU20 );
                    if (l_U3241 == 1)
                    {
                        PRINT_NOW( "R1_STASH1", 7500, 0 );
                        l_U3241 = 0;
                    }
                }
                else if (NOT l_U3230)
                {
                    ADD_BLIP_FOR_OBJECT( l_U3531[0]._fU16, ref l_U3531[0]._fU20 );
                    SET_ROUTE( l_U3531[0]._fU20, 1 );
                    if (l_U3242 == 1)
                    {
                        PRINT_NOW( "R1_STASH2", 7500, 0 );
                        l_U3242 = 0;
                    }
                }
                else if (NOT l_U3231)
                {
                    ADD_BLIP_FOR_OBJECT( l_U3531[2]._fU16, ref l_U3531[2]._fU20 );
                    SET_ROUTE( l_U3531[2]._fU20, 1 );
                    if (l_U3242 == 1)
                    {
                        PRINT_NOW( "R1_STASH2", 7500, 0 );
                        l_U3242 = 0;
                    }
                };;;
                l_U3172 = 7;
            }
            break;
            case 10:
            l_U3172 = 11;
            break;
            case 11:
            sub_110569( 3, "E1R1_DEL", "E1R1AUD", 0 );
            sub_111155();
            UNLOCK_MISSION_NEWS_STORY( 78 );
            sub_117924( 7 );
            sub_119086();
            break;
            case 12:
            PRINT_NOW( "R1_FAIL2", 7500, 0 );
            sub_110569( 3, "E1R1_CAR", "E1R1AUD", 0 );
            sub_121678();
            sub_3464();
            break;
            case 13:
            PRINT_NOW( "R1_FAIL1", 7500, 0 );
            sub_110569( 3, "E1R1_CAR", "E1R1AUD", 0 );
            sub_121678();
            sub_3464();
            break;
            case 14:
            PRINT_NOW( "R1_FAIL4", 7500, 0 );
            sub_110569( 3, "E1R1_CAR", "E1R1AUD", 0 );
            sub_121678();
            sub_3464();
            break;
            case 15:
            PRINT_NOW( "R1_FAIL3", 7500, 0 );
            sub_110569( 3, "E1R1_DIE2", "E1R1AUD", 0 );
            sub_121678();
            sub_3464();
            break;
            case 16:
            sub_110569( 3, "E1R1_DEST", "E1R1AUD", 0 );
            sub_121678();
            sub_3464();
            break;
        }
        if (IS_KEYBOARD_KEY_PRESSED( 31 ))
        {
            UNLOCK_MISSION_NEWS_STORY( 78 );
            sub_117924( 7 );
            sub_111155();
            sub_119086();
        }
        if (IS_KEYBOARD_KEY_PRESSED( 33 ))
        {
            sub_121678();
            sub_3464();
        }
    }
    return;
}

void sub_1290()
{
    sub_1299();
    return;
}

void sub_1299()
{
    int iVar2;

    iVar2 = 5;
    sub_1313( iVar2 );
    sub_2454( iVar2 );
    return;
}

void sub_1313(unknown uParam0)
{
    int iVar3;
    boolean bVar4;
    unknown uVar5;

    iVar3 = g_U14838[uParam0]._fU0._fU56;
    bVar4 = iVar3 == 6;
    if (g_U816)
    {
        sub_1357();
        sub_1565();
        g_U11095 = 1;
    }
    else if (NOT g_U12306[uParam0]._fU12)
    {
        if (NOT bVar4)
        {
            sub_1690();
            sub_1742();
            g_U11095 = 1;
        }
    }
    sub_1835();
    sub_1974();
    uVar5 = sub_2087( uParam0 );
    sub_2363( uVar5, 0 );
    return;
}

void sub_1357()
{
    if (g_U10993)
    {
        return;
    }
    sub_1384( g_U10992 );
    if (NOT (IS_BIT_SET( g_U10959._fU0, 7 )))
    {
        sub_1505();
    }
    return;
}

void sub_1384(int iParam0)
{
    int iVar3;

    if (g_U0)
    {
        return;
    }
    if (iParam0 == -1)
    {
        return;
    }
    if (g_U10993)
    {
        return;
    }
    iVar3 = g_U20913[iParam0]._fU100;
    iVar3--;
    g_U20913[iParam0]._fU100 = iVar3;
    DECREMENT_INT_STAT( 255, 1 );
    return;
}

void sub_1505()
{
    if (g_U0)
    {
        return;
    }
    if (g_U10993)
    {
        return;
    }
    DECREMENT_INT_STAT( 256, 1 );
    return;
}

void sub_1565()
{
    sub_1574();
    return;
}

void sub_1574()
{
    if (g_U0)
    {
        return;
    }
    if (COMPARE_STRING( ref g_U10987, "" ))
    {
        return;
    }
    PLAYSTATS_MISSION_CANCELLED( ref g_U10987 );
    StrCopy( ref g_U10987, "", 16 );
    return;
}

void sub_1690()
{
    if (g_U0)
    {
        return;
    }
    if (g_U10993)
    {
        return;
    }
    INCREMENT_INT_STAT_NO_MESSAGE( 254, 1 );
    return;
}

void sub_1742()
{
    sub_1751();
    return;
}

void sub_1751()
{
    if (g_U0)
    {
        return;
    }
    if (COMPARE_STRING( ref g_U10987, "" ))
    {
        return;
    }
    PLAYSTATS_MISSION_FAILED( ref g_U10987 );
    StrCopy( ref g_U10987, "", 16 );
    return;
}

void sub_1835()
{
    int J;
    int I;

    J = 0;
    for ( J = 0; J < 11; J++ )
    {
        I = 0;
        for ( I = 0; I < 5; I++ )
        {
            if (g_U12306[J]._fU144[I]._fU36)
            {
                g_U12306[J]._fU28 = 1;
            }
            g_U12306[J]._fU144[I]._fU36 = 0;
        }
    }
    return;
}

void sub_1974()
{
    int iVar2;
    int iVar3;

    iVar2 = 0;
    GET_GAME_TIMER( ref iVar2 );
    iVar3 = iVar2 + sub_1996();
    if (iVar3 > g_U38472._fU4)
    {
        g_U38472._fU4 = iVar3;
        g_U38472._fU8 = iVar2;
    }
    return;
}

int sub_1996()
{
    if (g_U15728[0])
    {
        return 27000;
    }
    return 15000;
}

int sub_2087(unknown uParam0)
{
    switch (uParam0)
    {
        case 0: return 0;
        case 1: return 1;
        case 2: return 2;
        case 3: return 3;
        case 4: return 4;
        case 5: return 5;
        case 6: return 6;
        case 7: return 7;
        case 8: return 8;
    }
    PRINTSTRING( "UNKNOWN STRAND ID: " );
    PRINTINT( uParam0 );
    PRINTNL();
    sub_2318( "Flow_public: Return_Contact_From_Strand(): Unknown strand" );
    return 22;
}

void sub_2318(unknown uParam0)
{
    SCRIPT_ASSERT( uParam0 );
    return;
}

void sub_2363(int iParam0, boolean bParam1)
{
    int iVar4;

    if (NOT (iParam0 < 22))
    {
        return;
    }
    iVar4 = 0;
    GET_GAME_TIMER( ref iVar4 );
    g_U20853[iParam0] = iVar4;
    if (bParam1)
    {
        g_U20853[iParam0] += 30000;
    }
    return;
}

void sub_2454(int iParam0)
{
    int iVar3;
    boolean bVar4;

    sub_2463();
    if (g_U0)
    {
        return;
    }
    if (g_U94._fU40 == 0)
    {
        return;
    }
    if (NOT g_U12303)
    {
        return;
    }
    iVar3 = g_U14838[iParam0]._fU0._fU56;
    bVar4 = iVar3 == 6;
    if (bVar4)
    {
        return;
    }
    if (g_U12306[iParam0]._fU12)
    {
        return;
    }
    if (g_U10959._fU4 == -1)
    {
        return;
    }
    if (NOT (g_U10959._fU4 == iParam0))
    {
        return;
    }
    if (NOT sub_3223())
    {
        return;
    }
    if (NOT g_U816)
    {
        sub_3289();
        SET_BIT( ref g_U10959._fU0, 2 );
    }
    return;
}

void sub_2463()
{
    int I;

    for ( I = 0; I <= (g_U572 - 1); I++ )
    {
        if ((g_U572[I]._fU20) AND ((sub_2501( 5, g_U572[I] )) == 1))
        {
            if ((sub_2501( 1, g_U572[I] )) != 0)
            {
                sub_2787( I );
            }
        }
    }
    if (NOT sub_2953())
    {
        SET_MESSAGES_WAITING( 0 );
        g_U94._fU404 = 1000;
    }
    if (g_U94._fU0 == 1015)
    {
        g_U94._fU92 = 1;
    }
    return;
}

int sub_2501(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
    switch (uParam0)
    {
        case 0:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 14, 23 );
        break;
        case 1:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 0, 13 );
        break;
        case 2:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 14, 27 );
        break;
        case 3:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 0, 13 );
        break;
        case 4:
        return GET_BITS_IN_RANGE( uParam1._fU0[1], 24, 27 );
        break;
        case 5:
        return GET_BITS_IN_RANGE( uParam1._fU0[0], 28, 31 );
        break;
        case 6:
        return uParam1._fU0[2];
        break;
    }
    return -1;
}

void sub_2787(int iParam0)
{
    int I;

    if (iParam0 < (g_U572 - 1))
    {
        for ( I = iParam0 + 1; I <= (g_U572 - 1); I++ )
        {
            g_U572[I - 1] = {g_U572[I]};
        }
    }
    sub_2872( g_U572 - 1 );
    return;
}

void sub_2872(unknown uParam0)
{
    g_U572[uParam0]._fU0[0] = -1;
    g_U572[uParam0]._fU0[1] = -1;
    g_U572[uParam0]._fU0[2] = -1;
    return;
}

int sub_2953()
{
    int I;

    for ( I = 0; I <= (g_U572 - 1); I++ )
    {
        if ((sub_2501( 4, g_U572[I] )) == 0)
        {
            return 1;
        }
    }
    return 0;
}

int sub_3223()
{
    if ((g_U10959._fU8 == 1) AND (g_U10959._fU4 == 0))
    {
        return 0;
    }
    return 1;
}

void sub_3289()
{
    CLEAR_BIT( ref g_U10959._fU0, 2 );
    CLEAR_BIT( ref g_U10959._fU0, 3 );
    CLEAR_BIT( ref g_U10959._fU0, 4 );
    CLEAR_BIT( ref g_U10959._fU0, 5 );
    CLEAR_BIT( ref g_U10959._fU0, 6 );
    CLEAR_BIT( ref g_U10959._fU0, 8 );
    CLEAR_BIT( ref g_U10959._fU0, 9 );
    CLEAR_BIT( ref g_U10959._fU0, 10 );
    g_U10959._fU12 = 0;
    return;
}

void sub_3464()
{
    sub_3477( ref l_U3336 );
    sub_4500( 1 );
    sub_4500( 2 );
    sub_4500( 3 );
    sub_4500( 4 );
    sub_4500( 5 );
    sub_5126();
    sub_5292();
    return;
}

void sub_3477(unknown uParam0)
{
    int I;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    boolean bVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;

    for ( I = 0; I < (uParam0^); I++ )
    {
        sub_3508( ref (uParam0^)[I], ref uVar4, ref uVar5 );
        if (NOT (IS_CHAR_INJURED( (uParam0^)[I]._fU0 )))
        {
            bVar7 = true;
            if (NOT (IS_CAR_DEAD( uVar5 )))
            {
                SET_CAR_ONLY_DAMAGED_BY_PLAYER( uVar5, 0 );
                if (sub_3861( (uParam0^)[I]._fU0, uVar5 ))
                {
                    if (IS_PLAYER_PLAYING( sub_3898() ))
                    {
                        TASK_CAR_MISSION_PED_TARGET( (uParam0^)[I]._fU0, uVar5, sub_3952(), 8, 25.00000000, 2, 200, -1 );
                    }
                    else
                    {
                        uVar8 = {sub_4026( (uParam0^)[I]._fU0, 1 )};
                        TASK_CAR_MISSION_COORS_TARGET( (uParam0^)[I]._fU0, uVar5, uVar8._fU0, uVar8._fU4, uVar8._fU8, 8, 25.00000000, 2, 200, -1 );
                    }
                    bVar7 = false;
                }
            }
            if (bVar7)
            {
                OPEN_SEQUENCE_TASK( ref uVar6 );
                if (IS_CHAR_IN_ANY_CAR( (uParam0^)[I]._fU0 ))
                {
                    TASK_PAUSE( 0, 10000 );
                }
                SET_NEXT_DESIRED_MOVE_STATE( 3 );
                TASK_WANDER_STANDARD( 0 );
                CLOSE_SEQUENCE_TASK( uVar6 );
                TASK_PERFORM_SEQUENCE( (uParam0^)[I]._fU0, uVar6 );
                CLEAR_SEQUENCE_TASK( uVar6 );
            }
        }
        sub_4275( ref (uParam0^)[I], 1 );
    }
    return;
}

void sub_3508(int iParam0, unknown uParam1, unknown uParam2)
{
    (uParam1^) = iParam0->_fU0;
    (uParam2^) = iParam0->_fU4;
    iParam0->_fU36 = 0;
    if (NOT (IS_CHAR_INJURED( iParam0->_fU0 )))
    {
        REMOVE_CHAR_FROM_GROUP( iParam0->_fU0 );
        if (IS_VEH_DRIVEABLE( sub_3573( iParam0 ) ))
        {
            SET_DRIVE_TASK_CRUISE_SPEED( iParam0->_fU0, iParam0->_fU28 );
        }
        if (iParam0->_fU0 == g_U11197)
        {
            g_U11197 = nil;
        }
        if (iParam0->_fU0 == g_U11198)
        {
            g_U11198 = nil;
        }
        if ((iParam0->_fU0 != g_U11081[1]) AND (iParam0->_fU0 != g_U11081[0]))
        {
            g_U11114 = 1;
        }
        TASK_STAND_STILL( iParam0->_fU0, -2 );
    }
    return;
}

void sub_3573(int iParam0)
{
    unknown Result;
    int iVar4;

    if (IS_CHAR_IN_ANY_CAR( iParam0->_fU0 ))
    {
        STORE_CAR_CHAR_IS_IN_NO_SAVE( iParam0->_fU0, ref Result );
        if (IS_VEH_DRIVEABLE( Result ))
        {
            GET_DRIVER_OF_CAR( Result, ref iVar4 );
            if (iVar4 == iParam0->_fU0)
            {
                return Result;
            }
        }
    }
    return nil;
}

boolean sub_3861(int iParam0, unknown uParam1)
{
    int iVar4;

    GET_DRIVER_OF_CAR( uParam1, ref iVar4 );
    return iVar4 == iParam0;
}

void sub_3898()
{
    return CONVERT_INT_TO_PLAYERINDEX( GET_PLAYER_ID() );
}

void sub_3952()
{
    unknown Result;

    GET_PLAYER_CHAR( CONVERT_INT_TO_PLAYERINDEX( GET_PLAYER_ID() ), ref Result );
    return Result;
}

void sub_4026(unknown uParam0, boolean bParam1)
{
    unknown Result;
    unknown uVar5;
    unknown uVar6;

    if (IS_CHAR_DEAD( uParam0 ))
    {
        N_1363505769( uParam0, ref Result._fU0, ref Result._fU4, ref Result._fU8 );
    }
    else
    {
        GET_CHAR_COORDINATES( uParam0, ref Result._fU0, ref Result._fU4, ref Result._fU8 );
    }
    if (NOT bParam1)
    {
        Result._fU8 = 0.00000000;
    }
    return Result;
}

void sub_4275(int iParam0, unknown uParam1)
{
    if (DOES_BLIP_EXIST( iParam0->_fU100 ))
    {
        REMOVE_BLIP( iParam0->_fU100 );
    }
    if ((uParam1) AND (DOES_VEHICLE_EXIST( iParam0->_fU4 )))
    {
        MARK_CAR_AS_NO_LONGER_NEEDED( iParam0 + 4 );
    }
    if (DOES_CHAR_EXIST( iParam0->_fU0 ))
    {
        if (NOT (IS_CHAR_INJURED( iParam0->_fU0 )))
        {
            if (IS_PED_IN_GROUP( iParam0->_fU0 ))
            {
                REMOVE_CHAR_FROM_GROUP( iParam0->_fU0 );
            }
            SET_CHAR_KEEP_TASK( iParam0->_fU0, 1 );
        }
        MARK_CHAR_AS_NO_LONGER_NEEDED( iParam0 + 0 );
    }
    iParam0->_fU0 = nil;
    iParam0->_fU4 = nil;
    iParam0->_fU8 = nil;
    iParam0->_fU12 = nil;
    iParam0->_fU36 = 4;
    return;
}

void sub_4500(unknown uParam0)
{
    if (NOT g_U1)
    {
        return;
    }
    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_4523( uParam0 ) );
    return;
}

int sub_4523(unknown uParam0)
{
    int iVar3;
    unknown uVar4;

    iVar3 = sub_4534( uParam0 );
    if (iVar3 == -1)
    {
        return 1439613707;
    }
    uVar4 = g_U38937[iVar3]._fU20;
    switch (uVar4)
    {
        case 0: return 1914397972;
        case 1: return -2138439183;
        case 2: return 1215631816;
        case 3: return 1706970202;
        case 4: return 717510247;
        case 5: return 965080042;
        case 6: return 693982133;
        case 7: return 454735664;
        case 8: return 1409362172;
        case 9: return 767450539;
        case 10: return 1686719296;
        case 11: return 1917871822;
        case 12: return 422524045;
    }
    SCRIPT_ASSERT( "Return_Recurring_Lost_Model: Required arrayPos is greater than number of Recurrign Lost characters" );
    return 1914397972;
}

int sub_4534(int iParam0)
{
    int iVar3;
    int Result;

    iVar3 = 0;
    Result = 0;
    for ( Result = 0; Result < 13; Result++ )
    {
        if ((g_U38937[Result]._fU4) || (g_U38937[Result]._fU0))
        {
            iVar3++;
            if (iVar3 == iParam0)
            {
                return Result;
            }
        }
    }
    SCRIPT_ASSERT( "Get_Recurring_Lost_ArrayPos: Run out of alive Recurring Lost characters" );
    return -1;
}

void sub_5126()
{
    int I;

    I = 0;
    for ( I = 0; I < 13; I++ )
    {
        if (g_U38937[I]._fU4)
        {
            g_U38937[I]._fU0 = 1;
            g_U38937[I]._fU4 = 0;
        }
    }
    for ( I = 0; I < 6; I++ )
    {
        if (g_U39058[I]._fU4)
        {
            g_U39058[I]._fU0 = 1;
            g_U39058[I]._fU4 = 0;
        }
    }
    g_U39102 = 0;
    return;
}

void sub_5292()
{
    sub_3477( ref l_U3336 );
    sub_4275( ref l_U3283[0], 1 );
    sub_4275( ref l_U3283[1], 1 );
    g_U10460 = 1;
    sub_5343( 0 );
    sub_5367();
    sub_9777();
    if (DOES_BLIP_EXIST( l_U3173 ))
    {
        REMOVE_BLIP( l_U3173 );
    }
    if (DOES_BLIP_EXIST( l_U3531[0]._fU20 ))
    {
        REMOVE_BLIP( l_U3531[0]._fU20 );
    }
    if (DOES_BLIP_EXIST( l_U3531[2]._fU20 ))
    {
        REMOVE_BLIP( l_U3531[2]._fU20 );
    }
    DONT_SUPPRESS_CAR_MODEL( l_U3179 );
    sub_9586( ref l_U3183 );
    g_U10454 = 0;
    g_U2771 = 0;
    SET_EVERYONE_IGNORE_PLAYER( sub_3898(), 0 );
    SET_WANTED_MULTIPLIER( 1.00000000 );
    SET_CAR_DENSITY_MULTIPLIER( 1.00000000 );
    SET_MAX_WANTED_LEVEL( l_U3255 );
    SET_CREATE_RANDOM_COPS( 1 );
    SET_PED_IS_BLIND_RAGING( sub_3952(), 0 );
    sub_10185( ref l_U3531 );
    TERMINATE_THIS_SCRIPT();
    return;
}

void sub_5343(unknown uParam0)
{
    g_U11132 = uParam0;
    return;
}

void sub_5367()
{
    unknown uVar2;

    sub_5377( 0 );
    if (DOES_BLIP_EXIST( l_U3173 ))
    {
        REMOVE_BLIP( l_U3173 );
    }
    sub_7906();
    sub_8051();
    sub_8152();
    g_U2771 = 0;
    RELEASE_PATH_NODES();
    if (DOES_CHAR_EXIST( l_U3188 ))
    {
        if (NOT (IS_CHAR_INJURED( l_U3188 )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3188, 0 );
            if (IS_PLAYER_PLAYING( sub_3898() ))
            {
                if (NOT (IS_CHAR_IN_ANY_CAR( l_U3188 )))
                {
                    OPEN_SEQUENCE_TASK( ref uVar2 );
                    TASK_COMBAT_TIMED( 0, sub_3952(), sub_8441( 500, 1700 ) );
                    TASK_SMART_FLEE_CHAR( 0, sub_3952(), 200, -2 );
                    CLOSE_SEQUENCE_TASK( uVar2 );
                    TASK_PERFORM_SEQUENCE( l_U3188, uVar2 );
                    CLEAR_SEQUENCE_TASK( uVar2 );
                }
                SET_CHAR_KEEP_TASK( l_U3188, 1 );
            }
        }
        MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3188 );
    }
    if (DOES_CHAR_EXIST( l_U3189 ))
    {
        if (NOT (IS_CHAR_INJURED( l_U3189 )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3189, 0 );
            if (IS_PLAYER_PLAYING( sub_3898() ))
            {
                if (NOT (IS_CHAR_IN_ANY_CAR( l_U3189 )))
                {
                    OPEN_SEQUENCE_TASK( ref uVar2 );
                    TASK_COMBAT_TIMED( 0, sub_3952(), sub_8441( 500, 1700 ) );
                    TASK_SMART_FLEE_CHAR( 0, sub_3952(), 200, -2 );
                    CLOSE_SEQUENCE_TASK( uVar2 );
                    TASK_PERFORM_SEQUENCE( l_U3189, uVar2 );
                    CLEAR_SEQUENCE_TASK( uVar2 );
                }
                else if (IS_VEH_DRIVEABLE( l_U3187 ))
                {
                    if (sub_8750( l_U3189, l_U3187 ))
                    {
                        TASK_CAR_MISSION_PED_TARGET( l_U3189, l_U3187, sub_3952(), 8, 50.00000000, 2, -1, -1 );
                    }
                }
                SET_CHAR_KEEP_TASK( l_U3189, 1 );
            }
        }
        MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3189 );
    }
    if (DOES_CHAR_EXIST( l_U3190 ))
    {
        if (NOT (IS_CHAR_INJURED( l_U3190 )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3190, 0 );
            if (IS_PLAYER_PLAYING( sub_3898() ))
            {
                if (NOT (IS_CHAR_IN_ANY_CAR( l_U3190 )))
                {
                    OPEN_SEQUENCE_TASK( ref uVar2 );
                    TASK_COMBAT_TIMED( 0, sub_3952(), sub_8441( 500, 1700 ) );
                    TASK_SMART_FLEE_CHAR( 0, sub_3952(), 200, -2 );
                    CLOSE_SEQUENCE_TASK( uVar2 );
                    TASK_PERFORM_SEQUENCE( l_U3190, uVar2 );
                    CLEAR_SEQUENCE_TASK( uVar2 );
                }
                SET_CHAR_KEEP_TASK( l_U3190, 1 );
            }
        }
        MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3190 );
    }
    if (DOES_VEHICLE_EXIST( l_U3187 ))
    {
        if (IS_CAR_DEAD( l_U3187 ))
        {
            MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U3187 );
        }
        else if (((VDIST( sub_9097( l_U3187, 1 ), sub_4026( sub_3952(), 1 ) )) > 300.00000000) || ((NOT (IS_CAR_ON_SCREEN( l_U3187 ))) AND ((VDIST( sub_9097( l_U3187, 1 ), sub_4026( sub_3952(), 1 ) )) > 100.00000000)))
        {
            DELETE_CAR( ref l_U3187 );
        }
        else
        {
            MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U3187 );
        }
    }
    if (DOES_PICKUP_EXIST( l_U3191 ))
    {
        REMOVE_PICKUP( l_U3191 );
    }
    sub_9324();
    sub_9586( ref l_U3183 );
    SET_WANTED_MULTIPLIER( 0.30000000 );
    SET_CREATE_RANDOM_COPS( 1 );
    SET_CAR_DENSITY_MULTIPLIER( 1.00000000 );
    SET_PED_IS_BLIND_RAGING( sub_3952(), 0 );
    REMOVE_CAR_RECORDING( 2297 );
    REMOVE_CAR_RECORDING( 2300 );
    return;
}

void sub_5377(boolean bParam0)
{
    l_U395 = 0;
    sub_5392();
    l_U394 = 1;
    sub_5564();
    if (IS_PLAYER_PLAYING( sub_3898() ))
    {
        FORCE_AIR_DRAG_MULT_FOR_PLAYERS_CAR( sub_3898(), 1.00000000 );
        DONT_DISPATCH_COPS_FOR_PLAYER( sub_3898(), 0 );
        SET_CREATE_RANDOM_COPS( 1 );
    }
    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_5734() );
    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_5763() );
    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_5792() );
    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_5821() );
    if ((NOT bParam0) AND (NOT IS_SCREEN_FADED_OUT()))
    {
        sub_5867();
        sub_6282();
        sub_6468();
    }
    else
    {
        sub_6686();
        sub_7267();
    }
    return;
}

void sub_5392()
{
    FLUSH_SCENARIO_BLOCKING_AREAS();
    SET_ALL_CAR_GENERATORS_BACK_TO_ACTIVE();
    sub_5415();
    OVERRIDE_NUMBER_OF_PARKED_CARS( -1 );
    SWITCH_GARBAGE_TRUCKS( 1 );
    ALLOW_EMERGENCY_SERVICES( 1 );
    SET_CAR_DENSITY_MULTIPLIER( 1.00000000 );
    return;
}

void sub_5415()
{
    int I;

    for ( I = 0; I < 15; I++ )
    {
        if (g_U9261[I]._fU60)
        {
            SWITCH_CAR_GENERATOR( g_U9502[I], 0 );
        }
        else
        {
            SWITCH_CAR_GENERATOR( g_U9502[I], 101 );
        }
    }
    return;
}

void sub_5564()
{
    SWITCH_ROADS_BACK_TO_ORIGINAL( l_U2913._fU0, l_U2913._fU4, l_U2913._fU8, l_U2916._fU0, l_U2916._fU4, l_U2916._fU8 );
    SWITCH_ROADS_BACK_TO_ORIGINAL( l_U2907._fU0, l_U2907._fU4, l_U2907._fU8, l_U2910._fU0, l_U2910._fU4, l_U2910._fU8 );
    return;
}

int sub_5734()
{
    return -2139064254;
}

int sub_5763()
{
    return 1264341792;
}

int sub_5792()
{
    return 2046537925;
}

int sub_5821()
{
    return -183203150;
}

void sub_5867()
{
    int I;

    for ( I = 0; I < 150; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U2919[I] ))
        {
            if (NOT (IS_CAR_DEAD( l_U2919[I] )))
            {
                SET_CAR_COLLISION( l_U2919[I], 1 );
            }
            if (IS_VEH_DRIVEABLE( l_U2919[I] ))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U2919[I] ))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U2919[I] );
                }
            }
            sub_6017( l_U2919[I] );
            sub_6158( l_U2919[I] );
        }
        l_U1724[I] = 0;
    }
    for ( I = 0; I < 150; I++ )
    {
        if (NOT (l_U1995[I] == 0))
        {
            MARK_MODEL_AS_NO_LONGER_NEEDED( l_U1995[I] );
        }
    }
    l_U1988 = 0;
    l_U1978 = 0;
    return;
}

void sub_6017(unknown uParam0)
{
    float fVar3;
    int iVar4;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_DRIVER_OF_CAR( uParam0, ref iVar4 );
        if (DOES_CHAR_EXIST( iVar4 ))
        {
            if (NOT (IS_CHAR_INJURED( iVar4 )))
            {
                if (NOT (iVar4 == sub_3952()))
                {
                    GET_CAR_SPEED( uParam0, ref fVar3 );
                    if (fVar3 < 8.00000000)
                    {
                        fVar3 = 8.00000000;
                    }
                    TASK_CAR_MISSION( iVar4, uParam0, 0, 1, fVar3, 0, 5, 5 );
                }
            }
        }
    }
    return;
}

void sub_6158(unknown uParam0)
{
    MARK_CAR_AS_NO_LONGER_NEEDED( ref uParam0 );
    return;
}

void sub_6282()
{
    int I;

    for ( I = 0; I < 50; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U3079[I] ))
        {
            if (NOT (IS_CAR_DEAD( l_U3079[I] )))
            {
                SET_CAR_COLLISION( l_U3079[I], 1 );
            }
            sub_6158( l_U3079[I] );
        }
    }
    for ( I = 0; I < 50; I++ )
    {
        if (NOT (l_U2146[I] == 0))
        {
            MARK_MODEL_AS_NO_LONGER_NEEDED( l_U2146[I] );
        }
    }
    l_U1990 = 0;
    l_U1981 = 0;
    return;
}

void sub_6468()
{
    int I;

    for ( I = 0; I < 25; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U3130[I] ))
        {
            if (IS_VEH_DRIVEABLE( l_U3130[I] ))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3130[I] ))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U3130[I] );
                }
            }
            sub_6017( l_U3130[I] );
            sub_6158( l_U3130[I] );
        }
        l_U1901[I] = 0;
    }
    for ( I = 0; I < 25; I++ )
    {
        if (NOT (l_U2197[I] == 0))
        {
            MARK_MODEL_AS_NO_LONGER_NEEDED( l_U2197[I] );
        }
    }
    return;
}

void sub_6686()
{
    sub_6695();
    sub_6911();
    sub_7059();
    return;
}

void sub_6695()
{
    int I;

    for ( I = 0; I < 150; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U2919[I] ))
        {
            if (IS_VEH_DRIVEABLE( l_U2919[I] ))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U2919[I] ))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U2919[I] );
                }
            }
            DELETE_CAR( ref l_U2919[I] );
        }
        l_U1724[I] = 0;
    }
    for ( I = 0; I < 150; I++ )
    {
        if (NOT (l_U1995[I] == 0))
        {
            MARK_MODEL_AS_NO_LONGER_NEEDED( l_U1995[I] );
        }
    }
    l_U1988 = 0;
    l_U1978 = 0;
    return;
}

void sub_6911()
{
    int I;

    for ( I = 0; I < 50; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U3079[I] ))
        {
            DELETE_CAR( ref l_U3079[I] );
        }
    }
    for ( I = 0; I < 50; I++ )
    {
        if (NOT (l_U2146[I] == 0))
        {
            MARK_MODEL_AS_NO_LONGER_NEEDED( l_U2146[I] );
        }
    }
    l_U1990 = 0;
    l_U1981 = 0;
    return;
}

void sub_7059()
{
    int I;

    for ( I = 0; I < 25; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U3130[I] ))
        {
            if (IS_VEH_DRIVEABLE( l_U3130[I] ))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3130[I] ))
                {
                    STOP_PLAYBACK_RECORDED_CAR( l_U3130[I] );
                }
            }
            DELETE_CAR( ref l_U3130[I] );
        }
        l_U1901[I] = 0;
    }
    for ( I = 0; I < 25; I++ )
    {
        if (NOT (l_U2197[I] == 0))
        {
            MARK_MODEL_AS_NO_LONGER_NEEDED( l_U2197[I] );
        }
    }
    return;
}

void sub_7267()
{
    int I;

    for ( I = 0; I < 150; I++ )
    {
        l_U2919[I] = nil;
        l_U2223[I] = {0.00000000, 0.00000000, 0.00000000};
        l_U424[I] = 0.00000000;
        l_U575[I] = 0.00000000;
        l_U726[I] = 0.00000000;
        l_U877[I] = 0.00000000;
        l_U1573[I] = 0;
        l_U1028[I] = 0.00000000;
        l_U1724[I] = 0;
        l_U1995[I] = 0;
    }
    for ( I = 0; I < 8; I++ )
    {
        l_U3070[I] = nil;
    }
    l_U1986 = 0;
    l_U1978 = 0;
    l_U1979 = 0;
    for ( I = 0; I < 50; I++ )
    {
        l_U3079[I] = nil;
        l_U2674[I] = {0.00000000, 0.00000000, 0.00000000};
        l_U1339[I] = 0.00000000;
        l_U1390[I] = 0.00000000;
        l_U1441[I] = 0.00000000;
        l_U1492[I] = 0.00000000;
        l_U1927[I] = 0;
        l_U2146[I] = 0;
    }
    for ( I = 0; I < 6; I++ )
    {
        l_U3156[I] = nil;
    }
    l_U1985 = 0;
    l_U1981 = 0;
    for ( I = 0; I < 25; I++ )
    {
        l_U3130[I] = nil;
        l_U2825[I] = {0.00000000, 0.00000000, 0.00000000};
        l_U1183[I] = 0.00000000;
        l_U1209[I] = 0.00000000;
        l_U1235[I] = 0.00000000;
        l_U1261[I] = 0.00000000;
        l_U1875[I] = 0;
        l_U1287[I] = 0.00000000;
        l_U1901[I] = 0;
        l_U2197[I] = 0;
    }
    l_U1980 = 0;
    l_U1988 = 0;
    l_U1992 = 0;
    l_U1993 = 0;
    l_U1994 = 0;
    return;
}

void sub_7906()
{
    if (l_U18)
    {
        PRINTNL();
        PRINTSTRING( "**** CALLED KILL_CHASE_HINT_CAM()" );
    }
    if (IS_HINT_RUNNING())
    {
        HINT_CAM( 0.00000000, 0.00000000, 0.00000000, 0, 0, 0, 0 );
        SET_HINT_TIMES_DEFAULT();
        SET_HINT_FOV( -1 );
    }
    l_U16 = 0;
    l_U15 = 0;
    SET_CINEMATIC_BUTTON_ENABLED( 1 );
    return;
}

void sub_8051()
{
    SWITCH_ROADS_BACK_TO_ORIGINAL( 190.70000000, -423.06000000, 12.93000000, 485.76000000, -388.53000000, 83.48000000 );
    SWITCH_ROADS_BACK_TO_ORIGINAL( 898.50000000, -404.32000000, 16.00000000, 1008.72000000, -364.14000000, 40.00000000 );
    l_U3565 = 0;
    return;
}

void sub_8152()
{
    int I;

    for ( I = 0; I < 2; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U3195[I] ))
        {
            MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U3195[I] );
            l_U3195[I] = nil;
        }
        if (DOES_CHAR_EXIST( l_U3198[I] ))
        {
            if (NOT (IS_CHAR_INJURED( l_U3198[I] )))
            {
                SET_CHAR_KEEP_TASK( l_U3198[I], 1 );
            }
            MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3198[I] );
            l_U3198[I] = nil;
        }
    }
    return;
}

void sub_8441(unknown uParam0, unknown uParam1)
{
    unknown Result;

    GENERATE_RANDOM_INT_IN_RANGE( uParam0, uParam1, ref Result );
    return Result;
}

int sub_8750(int iParam0, unknown uParam1)
{
    int iVar4;

    GET_DRIVER_OF_CAR( uParam1, ref iVar4 );
    if (iVar4 == iParam0)
    {
        return 1;
    }
    return 0;
}

void sub_9097(unknown uParam0, boolean bParam1)
{
    unknown Result;
    unknown uVar5;
    unknown uVar6;

    if (IS_CAR_DEAD( uParam0 ))
    {
        GET_DEAD_CAR_COORDINATES( uParam0, ref Result._fU0, ref Result._fU4, ref Result._fU8 );
    }
    else
    {
        GET_CAR_COORDINATES( uParam0, ref Result._fU0, ref Result._fU4, ref Result._fU8 );
    }
    if (NOT bParam1)
    {
        Result._fU8 = 0.00000000;
    }
    return Result;
}

void sub_9324()
{
    int I;

    for ( I = 0; I < l_U3275; I++ )
    {
        if (DOES_CHAR_EXIST( l_U3275[I] ))
        {
            if (NOT (IS_CHAR_INJURED( l_U3275[I] )))
            {
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3275[I], 0 );
                if (IS_VEH_DRIVEABLE( l_U3274 ))
                {
                    if (sub_8750( l_U3275[I], l_U3274 ))
                    {
                        TASK_CAR_MISSION_PED_TARGET( l_U3275[I], l_U3274, sub_3952(), 8, 50.00000000, 2, -1, -1 );
                    }
                }
                SET_CHAR_KEEP_TASK( l_U3275[I], 1 );
            }
            MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3275[I] );
            l_U3275[I] = nil;
        }
    }
    if (DOES_VEHICLE_EXIST( l_U3274 ))
    {
        MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U3274 );
        l_U3274 = nil;
    }
    return;
}

void sub_9586(unknown uParam0)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
        if (DOES_CHAR_EXIST( (uParam0^)[I] ))
        {
            if (NOT (IS_CHAR_INJURED( (uParam0^)[I] )))
            {
                SET_CHAR_KEEP_TASK( (uParam0^)[I], 1 );
            }
            MARK_CHAR_AS_NO_LONGER_NEEDED( ref (uParam0^)[I] );
            (uParam0^)[I] = nil;
        }
    }
    return;
}

void sub_9777()
{
    sub_7906();
    sub_9791();
    return;
}

void sub_9791()
{
    int iVar2;

    if (DOES_CAM_EXIST( l_U19 ))
    {
        BEGIN_CAM_COMMANDS( ref iVar2 );
        if (iVar2 != 1)
        {
            ;
        }
        else
        {
            ACTIVATE_SCRIPTED_CAMS( 0, 0 );
            SET_CAM_PROPAGATE( l_U19, 0 );
            SET_CAM_ACTIVE( l_U19, 0 );
            DESTROY_CAM( l_U19 );
            l_U19 = nil;
            l_U20 = -1;
            l_U32 = 0;
            if (IS_CONTROL_PRESSED( 0, 51 ))
            {
                GET_GAME_TIMER( ref l_U32 );
            }
            else
            {
                l_U32 = 0;
            }
            SET_GAME_CAMERA_CONTROLS_ACTIVE( 1 );
            SET_CINEMATIC_BUTTON_ENABLED( 1 );
        }
        END_CAM_COMMANDS( ref iVar2 );
    }
    return;
}

void sub_10185(unknown uParam0)
{
    int I;

    sub_10196( uParam0 );
    for ( I = 0; I < (uParam0^); I++ )
    {
        if (DOES_OBJECT_EXIST( (uParam0^)[I]._fU16 ))
        {
            MARK_OBJECT_AS_NO_LONGER_NEEDED( ref (uParam0^)[I]._fU16 );
        }
    }
    return;
}

void sub_10196(unknown uParam0)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
        if (DOES_BLIP_EXIST( (uParam0^)[I]._fU20 ))
        {
            REMOVE_BLIP( (uParam0^)[I]._fU20 );
        }
    }
    return;
}

void sub_10402(unknown uParam0)
{
    StrCopy( ref l_U34._fU0, uParam0, 16 );
    sub_10421();
    return;
}

void sub_10421()
{
    int I;

    for ( I = 0; I <= 8; I++ )
    {
        l_U34._fU16[I]._fU0 = nil;
        StrCopy( ref l_U34._fU16[I]._fU4, "", 32 );
        l_U34._fU344[I] = 0;
    }
    return;
}

void sub_10630(unknown uParam0)
{
    int iVar3;
    int I;

    if ((l_U223 < 0) || (l_U223 >= (uParam0^)))
    {
        l_U223 = 0;
    }
    sub_10669( uParam0 );
    if (NOT (IS_CHAR_INJURED( (uParam0^)[l_U223]._fU0 )))
    {
        sub_11443( ref (uParam0^)[l_U223], 1 );
        if (DOES_CHAR_EXIST( (uParam0^)[l_U223]._fU8 ))
        {
            if (IS_CHAR_INJURED( (uParam0^)[l_U223]._fU8 ))
            {
                iVar3 = sub_37765( uParam0, (uParam0^)[l_U223]._fU8 );
                if (iVar3 >= 0)
                {
                    (uParam0^)[l_U223]._fU8 = (uParam0^)[iVar3]._fU8;
                    (uParam0^)[l_U223]._fU40 = (uParam0^)[iVar3]._fU40;
                    PRINTSTRING( "BIKER_BUDDIES_AI_TICK: Biker " );
                    PRINTINT( l_U223 );
                    PRINTSTRING( " is changing leader to " );
                    PRINTINT( iVar3 );
                    PRINTSTRING( "'s leader\n" );
                }
            }
        }
    }
    l_U223++;
    for ( I = 0; I < (uParam0^); I++ )
    {
        sub_37131( ref (uParam0^)[I] );
    }
    return;
}

void sub_10669(unknown uParam0)
{
    int[5] iVar3;
    int I;
    unknown uVar10;
    unknown uVar11;

    array(ref iVar3, 5);
    for ( I = 0; I < (uParam0^); I++ )
    {
        if (NOT (IS_CHAR_INJURED( (uParam0^)[I]._fU0 )))
        {
            if (IS_CHAR_ON_ANY_BIKE( (uParam0^)[I]._fU0 ))
            {
                STORE_CAR_CHAR_IS_IN_NO_SAVE( (uParam0^)[I]._fU0, ref uVar10 );
                iVar3[sub_10766( uVar10 )] = 1;
            }
        }
    }
    if (IS_CHAR_ON_ANY_BIKE( sub_3952() ))
    {
        STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_3952(), ref uVar10 );
        iVar3[sub_10766( uVar10 )] = 1;
    }
    for ( I = 0; I < iVar3; I++ )
    {
        uVar11 = sub_11110( I );
        if (iVar3[I])
        {
            if (NOT (HAVE_ANIMS_LOADED( uVar11 )))
            {
                REQUEST_ANIMS( uVar11 );
            }
        }
        else if (HAVE_ANIMS_LOADED( uVar11 ))
        {
            REMOVE_ANIMS( uVar11 );
        }
    }
    return;
}

void sub_10766(unknown uParam0)
{
    int Result;
    unknown uVar4;

    Result = 5;
    GET_CAR_MODEL( uParam0, ref uVar4 );
    switch (uVar4)
    {
        case -1830458836:
        case 584879743:
        case -1606187161:
        case -618617997:
        case 301427732:
        case 802082487:
        case -359167535:
        case -159126838:
        case -408052231:
        Result = 0;
        break;
        case -570033273:
        case -571009320:
        case 2006142190:
        case -77769032:
        Result = 1;
        break;
        case 1203311498:
        case -909201658:
        case -1670998136:
        case -1759858085:
        case 1265391242:
        case -255678177:
        case -114291515:
        case -891462355:
        Result = 2;
        break;
        case 788045382:
        Result = 4;
        break;
        case -1842748181:
        Result = 3;
        break;
    }
    return Result;
}

void sub_11110(unknown uParam0)
{
    string Result;

    Result = nil;
    switch (uParam0)
    {
        case 0:
        Result = "MISSBIKE_GESTFREE";
        break;
        case 1:
        Result = "MISSBIKE_GESTCHOP";
        break;
        case 2:
        Result = "MISSBIKE_GESTSPT";
        break;
        case 3:
        Result = "MISSBIKE_GESTSCOT";
        break;
        case 4:
        Result = "MISSBIKE_GESTDIRT";
        break;
    }
    return Result;
}

void sub_11443(int iParam0, boolean bParam1)
{
    unknown uVar4;
    int iVar5;

    if (IS_CHAR_INJURED( iParam0->_fU0 ))
    {
        if (iParam0->_fU92 > 0)
        {
            sub_11490( iParam0->_fU92 );
            iParam0->_fU92 = 0;
        }
        if (DOES_BLIP_EXIST( iParam0->_fU100 ))
        {
            REMOVE_BLIP( iParam0->_fU100 );
        }
        return;
    }
    if (iParam0->_fU36 != 0)
    {
        if ((sub_11709( iParam0 )) == 2)
        {
            return;
        }
        sub_15724( iParam0 );
        if (iParam0->_fU36 != 0)
        {
            sub_18596( iParam0 );
        }
        if (sub_15309( iParam0, 1 ))
        {
            sub_23418( iParam0 + 0, 0 );
        }
        else
        {
            sub_23418( iParam0 + 0, 1 );
        }
        if (NOT (IS_CHAR_INJURED( iParam0->_fU0 )))
        {
            if (IS_CHAR_ON_ANY_BIKE( iParam0->_fU0 ))
            {
                uVar4 = nil;
                STORE_CAR_CHAR_IS_IN_NO_SAVE( iParam0->_fU0, ref uVar4 );
                if (NOT (IS_CAR_DEAD( uVar4 )))
                {
                    if ((NOT (IS_CAR_IN_AIR_PROPER( uVar4 ))) AND (IS_CAR_UPSIDEDOWN( uVar4 )))
                    {
                        CLEAR_CHAR_TASKS_IMMEDIATELY( iParam0->_fU0 );
                    }
                }
            }
        }
    }
    switch (iParam0->_fU36)
    {
        case 2:
        iVar5 = sub_23709( iParam0 );
        if (iVar5 == 1)
        {
            if (sub_15309( iParam0, 32 ))
            {
                sub_24593( iParam0, 3 );
            }
            else if (sub_15309( iParam0, 64 ))
            {
                if (sub_15309( iParam0, 1 ))
                {
                    sub_24593( iParam0, 5 );
                }
                else
                {
                    sub_24593( iParam0, 4 );
                }
            }
        }
        else if (iVar5 == 2)
        {
            ;
        }
        else if ((sub_24694( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_25906( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_27074( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_27188( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_27309( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_27609( iParam0 )) != 0)
        {
            ;
        };;;;;;;;
        break;
        case 3:
        if ((sub_27965( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_24694( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_25906( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_27074( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_27188( iParam0 )) != 0)
        {
            ;
        };;;;;
        break;
        case 1:
        if ((g_U10958 != 0) || (g_U10956 != 0))
        {
            if ((sub_15417( iParam0 )) != 0)
            {
                ;
            }
            else if ((sub_28224( iParam0 )) != 0)
            {
                ;
            }
        }
        else if ((sub_28381( iParam0 )) != 0)
        {
            ;
        }
        break;
        case 4:
        if ((sub_15417( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_24694( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_25906( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_27074( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_27188( iParam0 )) != 0)
        {
            ;
        };;;;;
        break;
        case 5:
        if ((sub_23806( iParam0 )) > 30.00000000)
        {
            sub_37046( iParam0 );
        }
        else if ((sub_28224( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_15231( iParam0, 1, 0 )) != 0)
        {
            ;
        };;;
        break;
        default: break;
    }
    if (NOT bParam1)
    {
        sub_37131( iParam0 );
    }
    return;
}

void sub_11490(unknown uParam0)
{
    int iVar3;

    iVar3 = sub_4534( uParam0 );
    if (iVar3 == -1)
    {
        return;
    }
    if (NOT g_U38937[iVar3]._fU4)
    {
        PRINTSTRING( "Recurring_Lost_Killed: marked as killed but wasn't in use: " );
        PRINTINT( iVar3 );
        PRINTNL();
        return;
    }
    g_U38937[iVar3]._fU0 = 0;
    return;
}

int sub_11709(int iParam0)
{
    int iVar3;
    int iVar4;
    int iVar5;
    int iVar6;
    int iVar7;

    if ((IS_CHAR_SITTING_IN_ANY_CAR( sub_3952() )) || (NOT (IS_CHAR_IN_ANY_CAR( iParam0->_fU0 ))))
    {
        return 0;
    }
    STORE_CAR_CHAR_IS_IN_NO_SAVE( iParam0->_fU0, ref iVar3 );
    GET_CAR_CHAR_IS_USING( sub_3952(), ref iVar4 );
    GET_DRIVER_OF_CAR( iVar3, ref iVar5 );
    if (iVar5 != iParam0->_fU0)
    {
        return 0;
    }
    GET_CAR_DOOR_LOCK_STATUS( iVar3, ref iVar6 );
    if (iVar6 != 1)
    {
        return 0;
    }
    if (iVar4 == iVar3)
    {
        if (NOT (((sub_12800( iVar3 )) == sub_12829()) AND ((sub_11843( iParam0 + 0 )) == 3)))
        {
            if (((NOT (IS_CHAR_GETTING_IN_TO_A_CAR( sub_3952() ))) AND (sub_12917( sub_3952() ))) || (((sub_12875( iParam0->_fU0 )) == (sub_12358( 0 ))) || ((sub_11843( iParam0 + 0 )) != 1)))
            {
                return 0;
            }
            else
            {
                GET_CAR_DOOR_LOCK_STATUS( iVar4, ref iVar7 );
                if (iVar7 != 1)
                {
                    return 0;
                }
            }
        }
        if ((sub_11843( iParam0 + 0 )) == 3)
        {
            sub_13036( iParam0->_fU0, "", sub_3952(), 26 );
        }
        else
        {
            sub_13036( sub_3952(), "", iParam0->_fU0, 37 );
        }
        return sub_15231( iParam0, 1, 1 );
    }
    return 0;
}

void sub_11843(unknown uParam0)
{
    unknown uVar3;
    int Result;

    Result = 0;
    if (NOT (IS_CHAR_INJURED( (uParam0^) )))
    {
        GET_CHAR_MODEL( (uParam0^), ref uVar3 );
        Result = sub_11883( ref uVar3 );
    }
    return Result;
}

void sub_11883(unknown uParam0)
{
    int Result;

    Result = 0;
    switch ((uParam0^))
    {
        case -159126838:
        case 301427732:
        case -570033273:
        case -408052231:
        case 584879743:
        case 802082487:
        case -359167535:
        case 1439613707:
        case 1737188996:
        case -411638179:
        case -2130437771:
        case -1832534792:
        case -1670328242:
        case 188410296:
        case 1414790133:
        case 630267504:
        case 1719115836:
        case 1914397972:
        case -2138439183:
        case 1215631816:
        case 1706970202:
        case 717510247:
        case 965080042:
        case 693982133:
        case 454735664:
        case 1409362172:
        case 767450539:
        case 1686719296:
        case 1917871822:
        case 422524045:
        Result = 1;
        break;
        case -571009320:
        case 2006142190:
        case -1606187161:
        case -77769032:
        case -618617997:
        case 977480632:
        case -1159156463:
        case 479817841:
        case 226415164:
        case 15972646:
        case -2107556865:
        case -150646512:
        case 690697563:
        case -504027408:
        Result = 2;
        break;
        case -114291515:
        case -891462355:
        case -1670998136:
        case -1759858085:
        case 1265391242:
        case -255678177:
        case 236691815:
        case 1590280898:
        Result = 3;
        break;
    }
    if (Result == 0)
    {
        if (((uParam0^) == (sub_12358( 16 ))) || (((uParam0^) == (sub_12358( 13 ))) || (((uParam0^) == (sub_12358( 7 ))) || (((uParam0^) == (sub_12358( 6 ))) || (((uParam0^) == (sub_12358( 1 ))) || ((uParam0^) == (sub_12358( 0 ))))))))
        {
            Result = 1;
        }
        else if (((uParam0^) == (sub_12358( 17 ))) || ((uParam0^) == (sub_12358( 15 ))))
        {
            Result = 3;
        }
    }
    return Result;
}

int sub_12358(unknown uParam0)
{
    switch (uParam0)
    {
        case 0: return -451718857;
        case 1: return 870892404;
        case 2: return -411638179;
        case 3: return -727962858;
        case 4: return -900623157;
        case 5: return 954215094;
        case 6: return 1728056212;
        case 7: return 1825562762;
        case 8: return -411638179;
        case 16: return 170756246;
        case 17: return -73790512;
        case 13: return 349841464;
        case 15: return -239294183;
    }
    sub_2318( "Contacts.sch: Get_Model_For_Contact(): Unknown Contact ID. Tell Keith." );
    return 0;
}

void sub_12800(unknown uParam0)
{
    unknown Result;

    GET_CAR_MODEL( uParam0, ref Result );
    return Result;
}

int sub_12829()
{
    return 301427732;
}

void sub_12875(unknown uParam0)
{
    unknown Result;

    GET_CHAR_MODEL( uParam0, ref Result );
    return Result;
}

boolean sub_12917(unknown uParam0)
{
    return (NOT (IS_CHAR_SITTING_IN_ANY_CAR( uParam0 ))) AND (IS_CHAR_IN_ANY_CAR( uParam0 ));
}

void sub_13036(int iParam0, unknown uParam1, int iParam2, int iParam3)
{
    boolean Result;
    unknown uVar7;
    int iVar8;

    Result = false;
    if (IS_CHAR_INJURED( iParam0 ))
    {
        PRINTSTRING( "PERFORM_BIKER_GESTURE: ped is injured\n" );
        return 0;
    }
    if (IS_STRING_NULL( uParam1 ))
    {
        Result = true;
    }
    else if (COMPARE_STRING( uParam1, "" ))
    {
        Result = true;
    }
    else if (NOT ((IS_CHAR_SITTING_IN_ANY_CAR( iParam0 )) AND (IS_CHAR_ON_ANY_BIKE( iParam0 ))))
    {
        Result = true;
    }
    else
    {
        uVar7 = sub_11110( sub_13196( iParam0 ) );
        if (NOT (IS_STRING_NULL( uVar7 )))
        {
            if (HAVE_ANIMS_LOADED( uVar7 ))
            {
                if (NOT (IS_CHAR_PLAYING_ANIM( iParam0, uVar7, uParam1 )))
                {
                    TASK_PLAY_ANIM_SECONDARY_IN_CAR( iParam0, uParam1, uVar7, 8.00000000, 0, 0, 0, 0, 0 );
                    Result = true;
                }
            }
        }
    };;;
    if (Result)
    {
        l_U175 = iParam0;
        l_U176 = iParam2;
        if (DOES_CHAR_EXIST( iParam2 ))
        {
            if (NOT (IS_PED_LOOKING_AT_PED( iParam0, iParam2 )))
            {
                TASK_LOOK_AT_CHAR( iParam0, iParam2, sub_8441( 2000, 5500 ), 0 );
            }
            if (iParam0 != sub_3952())
            {
                iVar8 = sub_11843( ref iParam0 );
                if ((iParam2 != sub_3952()) AND (iVar8 == 1))
                {
                    if (NOT (IS_PED_LOOKING_AT_PED( sub_3952(), iParam2 )))
                    {
                        TASK_LOOK_AT_CHAR( sub_3952(), iParam2, sub_8441( 2000, 5500 ), 0 );
                    }
                }
                else if (NOT (IS_PED_LOOKING_AT_PED( sub_3952(), iParam0 )))
                {
                    TASK_LOOK_AT_CHAR( sub_3952(), iParam0, sub_8441( 2000, 5500 ), 0 );
                }
            }
        }
        if (iParam3 != 39)
        {
            if ((IS_CHAR_MODEL( iParam0, sub_12358( 0 ) )) AND (iParam3 == 38))
            {
                if (l_U180)
                {
                    SAY_AMBIENT_SPEECH_WITH_VOICE( iParam0, "E1B1_WA", "BILLY", 1, 1, 2 );
                }
            }
            else
            {
                SAY_AMBIENT_SPEECH( iParam0, sub_13647( iParam3 ), 1, 1, 2 );
            }
            l_U174 = iParam3;
        }
        GET_GAME_TIMER( ref l_U173 );
        switch (iParam3)
        {
            case 35: SET_BIT( ref l_U178, 2 );
            case 36: SET_BIT( ref l_U178, 1 );
            case 24:
            SET_BIT( ref l_U178, 0 );
            break;
            case 38:
            SET_BIT( ref l_U178, 6 );
            break;
        }
    }
    return Result;
}

void sub_13196(unknown uParam0)
{
    unknown uVar3;
    int Result;

    Result = 5;
    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (IS_CHAR_IN_ANY_CAR( uParam0 ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( uParam0, ref uVar3 );
            Result = sub_10766( uVar3 );
        }
    }
    return Result;
}

void sub_13647(unknown uParam0)
{
    string Result;

    Result = nil;
    switch (uParam0)
    {
        case 0:
        Result = "ABUSE_COPS";
        break;
        case 1:
        Result = "ABUSE_GENERIC_BIKER_PED";
        break;
        case 2:
        Result = "ABUSE_HOOKER";
        break;
        case 3:
        Result = "ANGELS_OF_DEATH_TAUNT_LOST";
        break;
        case 4:
        Result = "ANGELS_OF_DEATH_TAUNT_LOST_TRUCE";
        break;
        case 5:
        Result = "BIKE_CRASH_DRIVEN";
        break;
        case 6:
        Result = "BIKE_DRIVE_MORE_CAREFUL";
        break;
        case 7:
        Result = "BIKE_HIT_PED";
        break;
        case 8:
        Result = "BIKE_JUMP";
        break;
        case 9:
        Result = "BIKE_ON_FIRE";
        break;
        case 10:
        Result = "BIKE_OVERTAKE";
        break;
        case 11:
        Result = "BIKER_ACHIEVE_MISSION_OBJECTIVE";
        break;
        case 12:
        Result = "BIKER_CLIPS_ANOTHER_BIKE";
        break;
        case 13:
        Result = "BIKER_CLIPS_ANYTHING";
        break;
        case 14:
        Result = "BIKER_FALLING_BEHIND";
        break;
        case 15:
        Result = "BIKER_FALLS_BEHIND";
        break;
        case 16:
        Result = "BIKER_PASSENGER_SHOOT_GENERIC";
        break;
        case 17:
        Result = "BIKER_PLAYER_FALLS_BEHIND";
        break;
        case 18:
        Result = "COME_UNDER_ATTACK";
        break;
        case 19:
        Result = "FOLLOW_ME_GUYS";
        break;
        case 20:
        Result = "GENERIC_CELEBRATION";
        break;
        case 21:
        Result = "GET_A_MOVE_ON";
        break;
        case 22:
        Result = "GET_IN_COVER";
        break;
        case 23:
        Result = "GET_THE_HELL_OUT_OF_HERE";
        break;
        case 24:
        Result = "GET_WANTED_LEVEL";
        break;
        case 25:
        Result = "GREET_JOHNNY";
        break;
        case 26:
        Result = "JACKED_BY_PLAYER_LIKE";
        break;
        case 27:
        Result = "KEEP_SHOOTING";
        break;
        case 28:
        Result = "LOST_TAUNT_ANGELS_OF_DEATH";
        break;
        case 29:
        Result = "LOST_TAUNT_LOST";
        break;
        case 30:
        Result = "LOST_WHOOP";
        break;
        case 31:
        Result = "NEED_BIKE_NOT_CAR";
        break;
        case 32:
        Result = "NEED_SOME_HELP";
        break;
        case 33:
        Result = "NICE_BIKE";
        break;
        case 34:
        Result = "NICE_SHOOTING_JOHNNY";
        break;
        case 35:
        Result = "POLICE_PURSUIT";
        break;
        case 36:
        Result = "SPOT_POLICE";
        break;
        case 37:
        Result = "JACKING_LOST_BIKE";
        break;
        case 38:
        Result = "WAIT_FOR_ME";
        break;
    }
    return Result;
}

int sub_15231(int iParam0, unknown uParam1, boolean bParam2)
{
    unknown uVar5;
    float fVar6;
    int iVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;

    if (IS_CHAR_ON_FOOT( iParam0->_fU0 ))
    {
        return 1;
    }
    else if ((NOT (IS_CHAR_GETTING_IN_TO_A_CAR( iParam0->_fU0 ))) AND (sub_12917( iParam0->_fU0 )))
    {
        return 2;
    }
    else if ((sub_15309( iParam0, 1 )) || (uParam1))
    {
        uVar5 = nil;
        if (IS_CHAR_IN_ANY_CAR( iParam0->_fU0 ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( iParam0->_fU0, ref uVar5 );
        }
        if (IS_VEH_DRIVEABLE( uVar5 ))
        {
            GET_CAR_SPEED( uVar5, ref fVar6 );
            if (fVar6 > 0.20000000)
            {
                return sub_15417( iParam0 );
            }
            GET_SCRIPT_TASK_STATUS( iParam0->_fU0, 31, ref iVar7 );
            if (iVar7 == 7)
            {
                if (bParam2)
                {
                    uVar8 = {sub_4026( sub_3952(), 1 )};
                    GET_OFFSET_FROM_CAR_GIVEN_WORLD_COORDS( uVar5, uVar8._fU0, uVar8._fU4, uVar8._fU8, ref uVar8._fU0, ref uVar8._fU4, ref uVar8._fU8 );
                    TASK_LEAVE_CAR_IN_DIRECTION( iParam0->_fU0, uVar5, uVar8._fU0 > 0.00000000 );
                }
                else
                {
                    TASK_LEAVE_ANY_CAR( iParam0->_fU0 );
                }
            }
            return 2;
        }
    };;;
    return 0;
}

boolean sub_15309(int iParam0, unknown uParam1)
{
    return ((uParam1) AND (iParam0->_fU88)) > 0;
}

int sub_15417(int iParam0)
{
    unknown uVar3;
    int iVar4;

    uVar3 = sub_3573( iParam0 );
    if (IS_VEH_DRIVEABLE( uVar3 ))
    {
        if (IS_CHAR_STOPPED( iParam0->_fU0 ))
        {
            return 1;
        }
        else
        {
            GET_SCRIPT_TASK_STATUS( iParam0->_fU0, 49, ref iVar4 );
            if ((iParam0->_fU96 != 5) || (iVar4 == 7))
            {
                iParam0->_fU96 = 5;
                TASK_CAR_MISSION( iParam0->_fU0, uVar3, 0, iParam0->_fU96, 0.00000000, 2, -1, -1 );
            }
            return 2;
        }
    }
    return 0;
}

void sub_15724(int iParam0)
{
    if (NOT (IS_CHAR_INJURED( iParam0->_fU0 )))
    {
        if (NOT (sub_15755( (iParam0^) )))
        {
            if ((NOT l_U163) AND ((NOT l_U162) AND (sub_15790( (iParam0^) ))))
            {
                if ((NOT sub_15842()) AND (NOT IS_MESSAGE_BEING_DISPLAYED()))
                {
                    if ((IS_CHAR_ON_ANY_BIKE( sub_3952() )) AND (IS_CHAR_ON_ANY_BIKE( iParam0->_fU0 )))
                    {
                        if (LOCATE_CHAR_ANY_MEANS_CHAR_3D( sub_3952(), iParam0->_fU0, l_U152, l_U152, l_U152, 0 ))
                        {
                            if (sub_15941())
                            {
                                if (iParam0->_fU0 == l_U161)
                                {
                                    if (NOT (ref iParam0->_fU44->_fU8))
                                    {
                                        sub_16034( (iParam0 + 44) + 12, ref l_U155, 7, 1 );
                                    }
                                    else
                                    {
                                        sub_16034( (iParam0 + 44) + 28, ref l_U155, 7, 1 );
                                    }
                                    sub_17028( iParam0 );
                                    if (NOT (IS_CHAR_INJURED( sub_3952() )))
                                    {
                                        TASK_LOOK_AT_CHAR( iParam0->_fU0, sub_3952(), -2, 0 );
                                        TASK_LOOK_AT_CHAR( sub_3952(), iParam0->_fU0, -2, 128 );
                                    }
                                    l_U138 = 0;
                                }
                                else
                                {
                                    GET_CHAR_COORDINATES( sub_3952(), ref l_U167._fU0, ref l_U167._fU4, ref l_U167._fU8 );
                                    GET_CHAR_COORDINATES( iParam0->_fU0, ref l_U170._fU0, ref l_U170._fU4, ref l_U170._fU8 );
                                    GET_DISTANCE_BETWEEN_COORDS_3D( l_U167._fU0, l_U167._fU4, l_U167._fU8, l_U170._fU0, l_U170._fU4, l_U170._fU8, ref l_U166 );
                                    if (iParam0->_fU0 == l_U161)
                                    {
                                        l_U165 += 1.00000000 * TIMESTEP();
                                        l_U164 = l_U166;
                                    }
                                    else if ((IS_CHAR_INJURED( l_U161 )) || (l_U166 <= l_U164))
                                    {
                                        l_U161 = iParam0->_fU0;
                                        l_U164 = l_U166;
                                        l_U165 = 0.00000000;
                                    }
                                }
                            }
                            else if (NOT sub_17456())
                            {
                                sub_17484();
                            }
                            else if (sub_17541())
                            {
                                sub_17505();
                            }
                            GET_CHAR_COORDINATES( sub_3952(), ref l_U167._fU0, ref l_U167._fU4, ref l_U167._fU8 );
                            GET_CHAR_COORDINATES( iParam0->_fU0, ref l_U170._fU0, ref l_U170._fU4, ref l_U170._fU8 );
                            GET_DISTANCE_BETWEEN_COORDS_3D( l_U167._fU0, l_U167._fU4, l_U167._fU8, l_U170._fU0, l_U170._fU4, l_U170._fU8, ref l_U166 );
                            if (iParam0->_fU0 == l_U161)
                            {
                                l_U165 += 1.00000000 * TIMESTEP();
                                l_U164 = l_U166;
                            }
                            else if ((IS_CHAR_INJURED( l_U161 )) || (l_U166 <= l_U164))
                            {
                                l_U161 = iParam0->_fU0;
                                l_U164 = l_U166;
                                l_U165 = 0.00000000;
                            };;;;
                        }
                        else if (NOT sub_17805())
                        {
                            sub_18013( (iParam0^) );
                        }
                    }
                    else if (NOT sub_17805())
                    {
                        sub_18013( (iParam0^) );
                    }
                }
                else if (NOT sub_17805())
                {
                    sub_18013( (iParam0^) );
                }
            }
            else if (NOT sub_17805())
            {
                sub_18013( (iParam0^) );
            }
        }
        else if (NOT sub_17805())
        {
            if ((NOT (sub_17823( l_U155 ))) || ((NOT (IS_CHAR_SITTING_IN_ANY_CAR( sub_3952() ))) || ((NOT (IS_CHAR_SITTING_IN_ANY_CAR( iParam0->_fU0 ))) || ((NOT (IS_CHAR_ON_ANY_BIKE( iParam0->_fU0 ))) || ((NOT (IS_CHAR_ON_ANY_BIKE( sub_3952() ))) || (NOT (LOCATE_CHAR_ANY_MEANS_CHAR_3D( sub_3952(), iParam0->_fU0, l_U153, l_U153, l_U153, 0 ))))))))
            {
                sub_18314( iParam0 );
            }
        }
    }
    else if (sub_15755( (iParam0^) ))
    {
        sub_18328( ref l_U155, 0 );
        sub_18314( iParam0 );
    }
    return;
}

void sub_15755(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21, unknown uParam22, unknown uParam23, unknown uParam24, unknown uParam25)
{
    return uParam0._fU44._fU4;
}

void sub_15790(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21, unknown uParam22, unknown uParam23, unknown uParam24, unknown uParam25)
{
    return uParam0._fU44._fU0;
}

void sub_15842()
{
    return IS_SCRIPTED_CONVERSATION_ONGOING();
}

int sub_15941()
{
    if (NOT l_U139)
    {
        if (l_U138)
        {
            return 1;
        }
    }
    return 0;
}

void sub_16034(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    return sub_16057( uParam0, ref l_U34._fU0, uParam1, uParam2, uParam3 );
}

void sub_16057(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    char[16] cVar7;
    char[12] cVar11;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    StrCopy( ref cVar7, uParam1, 16 );
    array(ref cVar11, 2);
    StrCopy( ref cVar11[0], uParam0, 16 );
    StrCopy( ref cVar11[1], "END", 16 );
    return sub_16111( ref cVar11, uParam2, uParam3, 0, 0, 0, 0, ref cVar7, uParam4 );
}

int sub_16111(unknown uParam0, int iParam1, unknown uParam2, boolean bParam3, boolean bParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    int I;
    int iVar12;

    iVar12 = 0;
    iParam1->_fU0 = uParam2;
    if (NOT (sub_16133( iParam1 )))
    {
        return 0;
    }
    l_U34._fU384 = 0;
    iParam1->_fU16 = 0;
    iParam1->_fU20 = uParam5;
    if (bParam3)
    {
        if (iParam1->_fU12)
        {
            iVar12 = iParam1->_fU8;
            iParam1->_fU12 = 0;
        }
    }
    else
    {
        iParam1->_fU12 = 0;
        if (bParam4)
        {
            iVar12 = uParam6;
            iParam1->_fU8 = uParam6;
            iParam1->_fU12 = 0;
        }
        else
        {
            iParam1->_fU8 = 0;
            iParam1->_fU12 = 0;
        }
    }
    iParam1->_fU16 = bParam4;
    for ( I = 0; I <= (g_U9051 - 1); I++ )
    {
        StrCopy( ref g_U9051[I], "END", 16 );
    }
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        g_U9051[I] = {(uParam0^)[I]};
    }
    g_U9045 = {(iParam1^)};
    sub_16825( ref g_U8947, ref l_U34 );
    StrCopy( ref g_U8947._fU0, uParam7, 16 );
    g_U8947._fU388 = uParam8;
    g_U8946 = 1;
    return 1;
}

int sub_16133(int iParam0)
{
    if (IS_MOBILE_PHONE_CALL_ONGOING())
    {
        sub_16210( "\n !!!!! CANT PLAY SPEECH MOBILE PHONE CALL IS PLAYING" );
        return 0;
    }
    if (IS_THREAD_ACTIVE( g_U559[1] ))
    {
        switch (g_U94._fU0)
        {
            case 1010:
            case 1001:
            case 1000: break;
            default:
            sub_16210( "\n !!!!! CANT PLAY SPEECH CALLING SCRIPT IS STILL ACTIVE" );
            return 0;
            break;
        }
    }
    switch (g_U8946)
    {
        case 4:
        case 1:
        case 2:
        return 0;
        break;
    }
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if (g_U8944 > iParam0->_fU0)
        {
            sub_16210( "\n !!!!! CANT PLAY SPEECH CURRENT SPEECH HAS HIGHER PRIORITY" );
            return 0;
        }
        ABORT_SCRIPTED_CONVERSATION( 0 );
    }
    g_U8944 = iParam0->_fU0;
    g_U8945++;
    if (g_U8945 > 100000)
    {
        g_U8945 = 1;
    }
    iParam0->_fU4 = g_U8945;
    return 1;
}

void sub_16210(unknown uParam0)
{
    return;
}

void sub_16825(int iParam0, int iParam1)
{
    int I;

    iParam0->_fU0 = {iParam1->_fU0};
    for ( I = 0; I <= 8; I++ )
    {
        iParam0->_fU16[I] = {iParam1->_fU16[I]};
        iParam0->_fU344[I] = iParam1->_fU344[I];
    }
    iParam0->_fU384 = iParam1->_fU384;
    iParam0->_fU388 = iParam1->_fU388;
    return;
}

void sub_17028(int iParam0)
{
    ref iParam0->_fU44->_fU4 = 1;
    if (ref iParam0->_fU44->_fU8)
    {
        ref iParam0->_fU44->_fU0 = 0;
    }
    else if (COMPARE_STRING( (iParam0 + 44) + 28, "" ))
    {
        ref iParam0->_fU44->_fU0 = 0;
    }
    else
    {
        ref iParam0->_fU44->_fU8 = 1;
    }
    l_U161 = nil;
    l_U165 = 0.00000000;
    l_U162 = 1;
    return;
}

void sub_17456()
{
    return l_U137;
}

void sub_17484()
{
    l_U137 = 1;
    l_U138 = 0;
    sub_17505();
    return;
}

void sub_17505()
{
    l_U139 = 0;
    return;
}

void sub_17541()
{
    return l_U139;
}

void sub_17805()
{
    int Result;

    Result = 0;
    if (sub_17823( l_U145 ))
    {
        Result = 1;
    }
    return Result;
}

int sub_17823(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    if ((g_U8946 == 2) || ((g_U8946 == 1) || (IS_SCRIPTED_CONVERSATION_ONGOING())))
    {
        if (uParam0._fU4 == g_U8945)
        {
            return 1;
        }
        else
        {
            sub_16210( "\n speech is playing, but not from this structure" );
        }
    }
    else
    {
        sub_16210( "\n speech is not playing" );
    }
    return 0;
}

void sub_18013(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21, unknown uParam22, unknown uParam23, unknown uParam24, unknown uParam25)
{
    if (uParam0._fU0 == l_U161)
    {
        l_U161 = nil;
        l_U165 = 0.00000000;
        sub_18054();
    }
    return;
}

void sub_18054()
{
    if (l_U136 == 1)
    {
        l_U140 = 0.00000000;
        l_U139 = 1;
        l_U138 = 0;
    }
    return;
}

void sub_18314(int iParam0)
{
    sub_18328( ref l_U155, 1 );
    ref iParam0->_fU44->_fU4 = 0;
    if (NOT (IS_CHAR_INJURED( iParam0->_fU0 )))
    {
        TASK_CLEAR_LOOK_AT( iParam0->_fU0 );
    }
    if (NOT (IS_CHAR_DEAD( sub_3952() )))
    {
        TASK_CLEAR_LOOK_AT( sub_3952() );
    }
    l_U162 = 0;
    return;
}

void sub_18328(int iParam0, unknown uParam1)
{
    PRINTSTRING( "\n KILL SPEECH CALLED***************************************" );
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if (iParam0->_fU4 == g_U8945)
        {
            ABORT_SCRIPTED_CONVERSATION( uParam1 );
        }
    }
    return;
}

void sub_18596(int iParam0)
{
    unknown uVar3;
    int iVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    int iVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    int iVar15;
    boolean bVar16;
    boolean bVar17;
    boolean bVar18;
    int iVar19;
    int iVar20;
    float fVar21;
    unknown uVar22;
    unknown uVar23;
    int iVar24;
    unknown uVar25;
    float fVar26;

    GET_GAME_TIMER( ref iVar4 );
    if ((iParam0->_fU36 == 0) || (NOT l_U177))
    {
        return;
    }
    if ((sub_15842()) AND (sub_15755( (iParam0^) )))
    {
        if ((IS_VEH_DRIVEABLE( iParam0->_fU4 )) AND (NOT (IS_CHAR_INJURED( iParam0->_fU0 ))))
        {
            if ((IS_CHAR_ON_ANY_BIKE( sub_3952() )) AND ((IS_CHAR_ON_ANY_BIKE( iParam0->_fU0 )) AND (IS_CHAR_SITTING_IN_CAR( iParam0->_fU0, iParam0->_fU4 ))))
            {
                GET_CHAR_COORDINATES( sub_3952(), ref uVar8._fU0, ref uVar8._fU4, ref uVar8._fU8 );
                GET_OFFSET_FROM_CAR_GIVEN_WORLD_COORDS( iParam0->_fU4, uVar8._fU0, uVar8._fU4, uVar8._fU8, ref uVar8._fU0, ref uVar8._fU4, ref uVar8._fU8 );
                if (IS_SCRIPTED_SPEECH_PLAYING( iParam0->_fU0 ))
                {
                    if ((l_U176 != sub_3952()) || (l_U175 != iParam0->_fU0))
                    {
                        sub_13036( iParam0->_fU0, sub_18870( uVar8._fU0 < 0.00000000, sub_10766( iParam0->_fU4 ) ), sub_3952(), 39 );
                        PRINTSTRING( "PERFORM_BIKER_GESTURE(biker.ped, GET_RANDOM_SPEECH_ANIM(TRUE), PLAYER_CHAR_ID())\n" );
                    }
                    return;
                }
                else if (IS_SCRIPTED_SPEECH_PLAYING( sub_3952() ))
                {
                    l_U175 = sub_3952();
                    l_U176 = iParam0->_fU0;
                }
            }
        }
    }
    if (((iVar4 - l_U173) < 33) || ((sub_15755( (iParam0^) )) || (sub_15842())))
    {
        return;
    }
    if (l_U173 <= 0)
    {
        l_U173 = iVar4;
        return;
    }
    if ((IS_VEH_DRIVEABLE( iParam0->_fU4 )) AND (NOT (IS_CHAR_INJURED( iParam0->_fU0 ))))
    {
        iVar11 = nil;
        uVar12 = nil;
        uVar13 = nil;
        uVar14 = nil;
        iVar15 = 39;
        bVar16 = false;
        bVar17 = false;
        bVar18 = false;
        iVar19 = 10000;
        GET_DRIVER_OF_CAR( iParam0->_fU4, ref iVar20 );
        if (iVar20 == iParam0->_fU0)
        {
            uVar12 = iParam0->_fU4;
            bVar16 = true;
        }
        else if (IS_CHAR_IN_ANY_CAR( iParam0->_fU0 ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( iParam0->_fU0, ref uVar12 );
        }
        if (NOT (IS_CAR_DEAD( uVar12 )))
        {
            if (sub_19523( uVar12 ))
            {
                fVar21 = sub_19566( iParam0 );
                if ((iParam0->_fU0 != l_U175) AND (((fVar21 < 15) || ((fVar21 < 19) AND (IS_CHAR_ON_SCREEN( iParam0->_fU0 )))) AND (NOT (sub_15755( (iParam0^) )))))
                {
                    GET_CAR_PITCH( uVar12, ref uVar22 );
                    if ((((sub_8441( 0, 10 )) == 0) || (iParam0->_fU36 != 1)) AND (l_U14))
                    {
                        l_U14 = 0;
                        iVar15 = 17;
                        iVar11 = sub_3952();
                    }
                    else if ((NOT (IS_BIT_SET( l_U178, 6 ))) AND (((sub_11843( iParam0 + 0 )) == 1) AND ((iParam0->_fU36 == 2) AND (sub_19756( iParam0 )))))
                    {
                        iVar15 = 38;
                        uVar13 = sub_19870( bVar16 );
                        iVar11 = sub_3952();
                    }
                    else if ((sub_19958( 8 )) AND (((ABSF( uVar22 )) < 20.00000000) AND (IS_CAR_IN_AIR_PROPER( uVar12 ))))
                    {
                        uVar13 = sub_20212( bVar16 );
                        iVar15 = 8;
                    }
                    else if ((sub_19958( 12 )) AND (HAS_CAR_BEEN_DAMAGED_BY_CHAR( uVar12, sub_3952() )))
                    {
                        uVar13 = sub_19870( bVar16 );
                        iVar11 = sub_3952();
                        iVar15 = 12;
                        bVar17 = true;
                    }
                    else if ((sub_19958( 13 )) AND ((IS_PED_RAGDOLL( iParam0->_fU0 )) || (HAS_CAR_BEEN_DAMAGED_BY_CHAR( uVar12, 0 ))))
                    {
                        uVar13 = sub_19870( bVar16 );
                        iVar11 = nil;
                        iVar15 = 13;
                        bVar17 = true;
                    }
                    else if ((sub_19958( 20 )) AND ((IS_BIT_SET( l_U178, 7 )) AND ((NOT (IS_PLAYER_PRESSING_HORN( sub_3898() ))) AND ((sub_11843( iParam0 + 0 )) == 1))))
                    {
                        if (bVar16)
                        {
                            bVar18 = true;
                            uVar13 = sub_20212( bVar16 );
                        }
                        iVar15 = 20;
                        iVar11 = sub_3952();
                        CLEAR_BIT( ref l_U178, 7 );
                    }
                    else if (((sub_11843( iParam0 + 0 )) == 1) AND ((sub_19958( 24 )) AND ((NOT (IS_BIT_SET( l_U178, 0 ))) AND (IS_WANTED_LEVEL_GREATER( sub_3898(), 0 )))))
                    {
                        iVar15 = 24;
                        iVar11 = sub_3952();
                    }
                    else if (((sub_11843( iParam0 + 0 )) == 1) AND ((sub_19958( 30 )) AND ((IS_BIT_SET( l_U178, 0 )) AND (NOT (IS_WANTED_LEVEL_GREATER( sub_3898(), 0 ))))))
                    {
                        iVar15 = 30;
                    }
                    else
                    {
                        uVar5 = {sub_4026( sub_3952(), 1 )};
                        uVar23 = nil;
                        if (iVar15 == 39)
                        {
                            if (IS_BIT_SET( l_U178, 3 ))
                            {
                                if (NOT (IS_CHAR_ON_ANY_BIKE( sub_3952() )))
                                {
                                    if (IS_PED_RAGDOLL( sub_3952() ))
                                    {
                                        if (sub_19958( 20 ))
                                        {
                                            iVar15 = 20;
                                            iVar11 = sub_3952();
                                            if ((sub_8441( 0, 2 )) == 0)
                                            {
                                                uVar13 = sub_20212( bVar16 );
                                            }
                                            else
                                            {
                                                uVar13 = sub_19870( bVar16 );
                                            }
                                            CLEAR_BIT( ref l_U178, 3 );
                                        }
                                    }
                                    else if (IS_CHAR_ON_FOOT( sub_3952() ))
                                    {
                                        CLEAR_BIT( ref l_U178, 3 );
                                        CLEAR_BIT( ref l_U178, 4 );
                                    }
                                }
                            }
                            else if (IS_CHAR_ON_ANY_BIKE( sub_3952() ))
                            {
                                if (((sub_11843( iParam0 + 0 )) == 1) AND ((NOT (IS_BIT_SET( l_U178, 4 ))) AND (sub_19958( 33 ))))
                                {
                                    STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_3952(), ref uVar23 );
                                    if (DOES_VEHICLE_EXIST( uVar23 ))
                                    {
                                        iVar24 = sub_10766( uVar23 );
                                        if (((iVar24 == 0) || (iVar24 == 1)) AND (NOT (IS_CAR_A_MISSION_CAR( uVar23 ))))
                                        {
                                            iVar15 = 33;
                                            SET_BIT( ref l_U178, 4 );
                                        }
                                    }
                                }
                                SET_BIT( ref l_U178, 3 );
                            }
                            else if (IS_CHAR_SITTING_IN_ANY_CAR( sub_3952() ))
                            {
                                STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_3952(), ref uVar23 );
                                if (DOES_VEHICLE_EXIST( uVar23 ))
                                {
                                    if (((sub_11843( iParam0 + 0 )) == 1) AND ((NOT (IS_BIT_SET( l_U178, 4 ))) AND (sub_19958( 31 ))))
                                    {
                                        if (NOT (IS_CAR_A_MISSION_CAR( uVar23 )))
                                        {
                                            iVar15 = 31;
                                            SET_BIT( ref l_U178, 4 );
                                        }
                                    }
                                }
                                SET_BIT( ref l_U178, 3 );
                            }
                            else if ((NOT (IS_PED_RAGDOLL( sub_3952() ))) AND (IS_CHAR_ON_FOOT( sub_3952() )))
                            {
                                CLEAR_BIT( ref l_U178, 3 );
                                CLEAR_BIT( ref l_U178, 4 );
                            };;;
                            uVar23 = nil;;
                        }
                        if (iVar15 == 39)
                        {
                            BEGIN_CHAR_SEARCH_CRITERIA();
                            SEARCH_CRITERIA_CONSIDER_PEDS_WITH_FLAG_TRUE( 30 );
                            SEARCH_CRITERIA_CONSIDER_PEDS_WITH_FLAG_TRUE( 28 );
                            SEARCH_CRITERIA_CONSIDER_PEDS_WITH_FLAG_TRUE( 26 );
                            END_CHAR_SEARCH_CRITERIA();
                            if (GET_CLOSEST_CHAR( uVar5._fU0, uVar5._fU4, uVar5._fU8, 25.00000000, 1, 1, ref iVar11 ))
                            {
                                if ((iVar11 == l_U176) || (IS_CHAR_INJURED( iVar11 )))
                                {
                                    iVar11 = nil;
                                }
                                else if ((NOT (IS_WANTED_LEVEL_GREATER( sub_3898(), 0 ))) AND (sub_19958( 0 )))
                                {
                                    if (IS_CHAR_ON_SCREEN( iVar11 ))
                                    {
                                        uVar13 = nil;
                                        iVar15 = 0;
                                        bVar18 = (sub_8441( 0, 10 )) == 0;
                                    }
                                }
                                else if ((NOT (IS_BIT_SET( l_U178, 1 ))) AND ((IS_WANTED_LEVEL_GREATER( sub_3898(), 0 )) AND (sub_19958( 36 ))))
                                {
                                    if (IS_CHAR_ON_SCREEN( iVar11 ))
                                    {
                                        uVar13 = nil;
                                        iVar15 = 36;
                                    }
                                }
                                else if ((sub_19958( 23 )) AND (IS_WANTED_LEVEL_GREATER( sub_3898(), 2 )))
                                {
                                    uVar13 = nil;
                                    iVar15 = 23;
                                };;;;
                            }
                        }
                        if ((iVar15 == 39) AND (sub_19958( 2 )))
                        {
                            BEGIN_CHAR_SEARCH_CRITERIA();
                            SEARCH_CRITERIA_REJECT_PEDS_WITH_FLAG_TRUE( 1 );
                            END_CHAR_SEARCH_CRITERIA();
                            ALLOW_SCENARIO_PEDS_TO_BE_RETURNED_BY_NEXT_COMMAND( 1 );
                            if (GET_CLOSEST_CHAR( uVar5._fU0, uVar5._fU4, uVar5._fU8, 25.00000000, 1, 1, ref iVar11 ))
                            {
                                if ((iVar11 == l_U176) || (IS_CHAR_INJURED( iVar11 )))
                                {
                                    iVar11 = nil;
                                }
                                else if ((IS_CHAR_MODEL( iVar11, 996267216 )) || (IS_CHAR_MODEL( iVar11, 552542187 )))
                                {
                                    uVar13 = nil;
                                    iVar15 = 2;
                                    bVar18 = (sub_8441( 0, 100 )) == 0;
                                }
                                else
                                {
                                    iVar11 = nil;
                                }
                            }
                        }
                        if (iVar15 == 39)
                        {
                            if ((NOT (IS_BIT_SET( l_U178, 2 ))) AND (IS_WANTED_LEVEL_GREATER( sub_3898(), 0 )))
                            {
                                if (IS_COP_VEHICLE_IN_AREA_3D_NO_SAVE( uVar5._fU0 - 25.00000000, uVar5._fU4 - 25.00000000, uVar5._fU8 - 25.00000000, uVar5._fU0 + 25.00000000, uVar5._fU4 + 25.00000000, uVar5._fU8 + 25.00000000 ))
                                {
                                    iVar15 = 35;
                                }
                            }
                        }
                        if (iVar15 == 39)
                        {
                            uVar23 = sub_22101( uVar5, 25.00000000, 4 );
                            if (IS_VEH_DRIVEABLE( uVar23 ))
                            {
                                GET_DRIVER_OF_CAR( uVar23, ref iVar11 );
                                if ((iVar11 == l_U176) || (IS_CHAR_INJURED( iVar11 )))
                                {
                                    iVar11 = nil;
                                }
                                else if (NOT (IS_CHAR_ON_SCREEN( iVar11 )))
                                {
                                    iVar11 = nil;
                                }
                                else
                                {
                                    uVar13 = nil;
                                    uVar25 = sub_11843( ref iVar11 );
                                    switch (uVar25)
                                    {
                                        case 2:
                                        if (((sub_11843( iParam0 + 0 )) == 1) AND (sub_19958( 28 )))
                                        {
                                            iVar15 = 28;
                                        }
                                        break;
                                        case 1:
                                        if ((sub_11843( iParam0 + 0 )) == 2)
                                        {
                                            if ((sub_19958( 4 )) AND (sub_19958( 3 )))
                                            {
                                                if (g_U15728[13])
                                                {
                                                    iVar15 = 4;
                                                }
                                                else
                                                {
                                                    iVar15 = 3;
                                                }
                                            }
                                        }
                                        else if ((sub_11843( iParam0 + 0 )) == 1)
                                        {
                                            if (sub_19958( 30 ))
                                            {
                                                uVar13 = sub_22702( bVar16 );
                                                iVar15 = 30;
                                            }
                                        }
                                        break;
                                        default:
                                        if (sub_19958( 1 ))
                                        {
                                            iVar15 = 1;
                                        }
                                        break;
                                    }
                                }
                            }
                        }
                        GET_CHAR_SPEED( sub_3952(), ref fVar26 );
                        if (iVar15 == 39)
                        {
                            if ((fVar26 < 5) AND ((sub_11843( iParam0 + 0 )) == 1))
                            {
                                if ((IS_WANTED_LEVEL_GREATER( sub_3898(), 0 )) AND (sub_19958( 23 )))
                                {
                                    iVar15 = 23;
                                }
                                else if (sub_19958( 21 ))
                                {
                                    iVar15 = 21;
                                }
                            }
                        }
                        if (iVar15 == 39)
                        {
                            if ((fVar26 > 30) AND (NOT (IS_BIT_SET( l_U178, 5 ))))
                            {
                                if (((sub_11843( iParam0 + 0 )) == 1) AND (sub_19958( 30 )))
                                {
                                    iVar15 = 30;
                                }
                                else if (sub_19958( 20 ))
                                {
                                    iVar15 = 20;
                                }
                            }
                        }
                    };;;;;;;;
                    if (bVar18)
                    {
                        SOUND_CAR_HORN( uVar12, sub_8441( 1500, 2500 ) );
                    }
                    if (bVar17)
                    {
                        CLEAR_CAR_LAST_DAMAGE_ENTITY( uVar12 );
                    }
                    if ((NOT (IS_STRING_NULL( uVar13 ))) || (iVar15 != 39))
                    {
                        if (sub_13036( iParam0->_fU0, uVar13, iVar11, iVar15 ))
                        {
                            ;
                        }
                    }
                }
            }
        }
    }
    if ((IS_BIT_SET( l_U178, 6 )) AND ((iVar4 - l_U173) > 10000))
    {
        CLEAR_BIT( ref l_U178, 6 );
    }
    if ((NOT (IS_BIT_SET( l_U178, 7 ))) AND (IS_PLAYER_PRESSING_HORN( sub_3898() )))
    {
        SET_BIT( ref l_U178, 7 );
    }
    if ((l_U175 != nil) AND ((iVar4 - l_U173) > 28000))
    {
        if ((sub_11843( iParam0 + 0 )) == 1)
        {
            sub_13036( iParam0->_fU0, "", sub_3952(), 30 );
        }
        else
        {
            sub_13036( iParam0->_fU0, "", sub_3952(), 20 );
        }
        l_U175 = iParam0->_fU0;
        if (NOT (IS_WANTED_LEVEL_GREATER( sub_3898(), 0 )))
        {
            CLEAR_BIT( ref l_U178, 0 );
            CLEAR_BIT( ref l_U178, 2 );
            CLEAR_BIT( ref l_U178, 1 );
        }
        CLEAR_BIT( ref l_U178, 7 );
    }
    return;
}

void sub_18870(boolean bParam0, int iParam1)
{
    string Result;

    Result = nil;
    if ((iParam1 == 0) || (iParam1 == 1))
    {
        if (bParam0)
        {
            switch (sub_8441( 0, 3 ))
            {
                case 0:
                Result = "chat_left_e";
                break;
                case 1:
                Result = "chat_left_f";
                break;
                default:
                Result = "chat_left_g";
                break;
            }
        }
        else
        {
            switch (sub_8441( 0, 3 ))
            {
                case 0:
                Result = "chat_right_e";
                break;
                case 1:
                Result = "chat_right_f";
                break;
                default:
                Result = "chat_right_g";
                break;
            }
        }
        PRINTSTRING( "Anim used: " );
        PRINTSTRING( Result );
        PRINTNL();
    }
    return Result;
}

void sub_19523(unknown uParam0)
{
    unknown uVar3;

    GET_CAR_MODEL( uParam0, ref uVar3 );
    return IS_THIS_MODEL_A_BIKE( uVar3 );
}

void sub_19566(int iParam0)
{
    return sub_19586( iParam0->_fU0, sub_3952(), 1 );
}

void sub_19586(unknown uParam0, unknown uParam1, unknown uParam2)
{
    return VDIST( sub_4026( uParam0, uParam2 ), sub_4026( uParam1, uParam2 ) );
}

void sub_19756(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( iParam0->_fU4, 0, 11, 0, ref uVar3, ref uVar4, ref uVar5 );
    return LOCATE_CHAR_IN_CAR_3D( sub_3952(), uVar3, uVar4, uVar5, 10, 10, 10, 0 );
}

void sub_19870(boolean bParam0)
{
    string Result;

    Result = nil;
    if (bParam0)
    {
        Result = "gest_damn";
    }
    return Result;
}

boolean sub_19958(int iParam0)
{
    int iVar3;
    int iVar4;

    iVar3 = 10000;
    switch (iParam0)
    {
        case 20:
        iVar3 = 2500;
        break;
        case 8:
        iVar3 = 4500;
        break;
        case 6:
        iVar3 = 2500;
        break;
        case 5:
        iVar3 = 1000;
        break;
        case 33:
        iVar3 = 2000;
        break;
        case 31:
        iVar3 = 2000;
        break;
        case 0:
        iVar3 = 18000;
        break;
        case 1:
        iVar3 = 19000;
        break;
        case 21:
        iVar3 = 25000;
        break;
        case 38:
        iVar3 = 2000;
        break;
    }
    GET_GAME_TIMER( ref iVar4 );
    if (iParam0 == 39)
    {
        return 0;
    }
    return (iVar4 - l_U173) > iVar3;
}

void sub_20212(boolean bParam0)
{
    unknown uVar3;
    string Result;

    Result = nil;
    if (bParam0)
    {
        GENERATE_RANDOM_INT_IN_RANGE( 1, 3, ref uVar3 );
        switch (uVar3)
        {
            case 1:
            Result = "gest_thumbsup";
            break;
            default:
            Result = "gest_thumbsup";
            break;
        }
    }
    else
    {
        GENERATE_RANDOM_INT_IN_RANGE( 0, 7, ref uVar3 );
        switch (uVar3)
        {
            case 0:
            Result = "p_gest_celeb_a";
            break;
            case 1:
            Result = "p_gest_celeb_b";
            break;
            case 2:
            Result = "p_gest_celeb_c";
            break;
            case 3:
            Result = "p_gest_celeb_d";
            break;
            case 5:
            Result = "p_gest_rockin";
            break;
            case 6:
            Result = "p_gest_yes";
            break;
            default:
            Result = "p_gest_yes";
            break;
        }
    }
    return Result;
}

void sub_22101(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    unknown Result;
    int[22] iVar8;
    int I;

    Result = nil;
    array(ref iVar8, 22);
    iVar8[0] = -408052231;
    iVar8[1] = 584879743;
    iVar8[2] = 802082487;
    iVar8[3] = -570033273;
    iVar8[4] = 301427732;
    iVar8[5] = -159126838;
    iVar8[6] = -359167535;
    iVar8[7] = -571009320;
    iVar8[8] = 2006142190;
    iVar8[9] = -1606187161;
    iVar8[10] = -618617997;
    iVar8[11] = -77769032;
    iVar8[12] = 1265391242;
    iVar8[13] = -255678177;
    iVar8[14] = -1670998136;
    iVar8[15] = -1759858085;
    iVar8[16] = -114291515;
    iVar8[17] = -891462355;
    iVar8[18] = 1203311498;
    iVar8[19] = -909201658;
    iVar8[20] = 788045382;
    iVar8[21] = -1842748181;
    for ( I = 0; I < iVar8; I++ )
    {
        Result = GET_CLOSEST_CAR( uParam0, uParam3, iVar8[I], uParam4 );
        if (IS_VEH_DRIVEABLE( Result ))
        {
            return Result;
        }
    }
    return nil;
}

void sub_22702(boolean bParam0)
{
    unknown uVar3;
    string Result;

    Result = nil;
    if (bParam0)
    {
        GENERATE_RANDOM_INT_IN_RANGE( 0, 2, ref uVar3 );
        switch (uVar3)
        {
            case 0:
            Result = "gest_thumbsup";
            break;
            case 1:
            Result = "gest_hey";
            break;
        }
    }
    else
    {
        Result = "p_gest_rockin";
    }
    return Result;
}

void sub_23418(unknown uParam0, unknown uParam1)
{
    if (NOT (IS_CHAR_INJURED( (uParam0^) )))
    {
        if ((sub_11843( uParam0 )) == 1)
        {
            if ((NOT (IS_CHAR_ON_SCREEN( (uParam0^) ))) || (IS_SCREEN_FADED_OUT()))
            {
                if ((uParam1) || (IS_CHAR_ON_ANY_BIKE( (uParam0^) )))
                {
                    GIVE_PED_HELMET_WITH_OPTS( (uParam0^), 1 );
                }
                else
                {
                    REMOVE_PED_HELMET( (uParam0^), 1 );
                }
            }
        }
    }
    return;
}

int sub_23709(int iParam0)
{
    int iVar3;
    float fVar4;
    int iVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;

    if (NOT (IS_VEH_DRIVEABLE( iParam0->_fU4 )))
    {
        return 0;
    }
    else if ((sub_3573( iParam0 )) != iParam0->_fU4)
    {
        if (sub_19523( iParam0->_fU4 ))
        {
            SET_CAR_TRACTION( iParam0->_fU4, 1.00000000 );
        }
        return 0;
    }
    else if ((sub_23806( iParam0 )) < l_U183)
    {
        return 1;
    };;;
    if (sub_19523( iParam0->_fU4 ))
    {
        SET_CAR_TRACTION( iParam0->_fU4, 1.70000000 );
    }
    GET_SCRIPT_TASK_STATUS( iParam0->_fU0, 49, ref iVar3 );
    if (((iParam0->_fU96 != 14) AND (iParam0->_fU96 != 4)) || (iVar3 == 7))
    {
        if (sub_15309( iParam0, 8 ))
        {
            iParam0->_fU96 = 14;
        }
        else
        {
            iParam0->_fU96 = 4;
        }
        if (sub_15309( iParam0, 16 ))
        {
            iVar5 = 4;
        }
        else
        {
            iVar5 = 2;
        }
        if (sub_15309( iParam0, 128 ))
        {
            TASK_CAR_MISSION_COORS_TARGET_NOT_AGAINST_TRAFFIC( iParam0->_fU0, iParam0->_fU4, ref iParam0->_fU16->_fU0, ref iParam0->_fU16->_fU4, ref iParam0->_fU16->_fU8, iParam0->_fU96, iParam0->_fU28, iVar5, l_U182, l_U181 );
        }
        else
        {
            TASK_CAR_MISSION_COORS_TARGET( iParam0->_fU0, iParam0->_fU4, ref iParam0->_fU16->_fU0, ref iParam0->_fU16->_fU4, ref iParam0->_fU16->_fU8, iParam0->_fU96, iParam0->_fU28, iVar5, l_U182, l_U181 );
        }
    }
    else if (sub_15309( iParam0, 64 ))
    {
        fVar4 = (sub_23806( iParam0 )) / 3.00000000;
        if (fVar4 < iParam0->_fU28)
        {
            SET_DRIVE_TASK_CRUISE_SPEED( iParam0->_fU0, fVar4 );
        }
        else
        {
            SET_DRIVE_TASK_CRUISE_SPEED( iParam0->_fU0, iParam0->_fU28 );
        }
    }
    else
    {
        SET_DRIVE_TASK_CRUISE_SPEED( iParam0->_fU0, iParam0->_fU28 );
    }
    if (sub_24334( iParam0->_fU4 ))
    {
        uVar6 = {sub_9097( iParam0->_fU4, 1 )};
        if (GET_RANDOM_CAR_NODE( uVar6, 12.00000000, 1, 0, 0, ref uVar6, ref uVar9 ))
        {
            SET_CAR_COORDINATES( iParam0->_fU4, uVar6._fU0, uVar6._fU4, uVar6._fU8 );
            SET_CAR_ON_GROUND_PROPERLY( iParam0->_fU4 );
        }
    }
    return 2;
}

void sub_23806(int iParam0)
{
    if (NOT (IS_CHAR_INJURED( iParam0->_fU0 )))
    {
        switch (iParam0->_fU36)
        {
            case 1:
            if (NOT (IS_CHAR_INJURED( iParam0->_fU8 )))
            {
                return sub_19586( iParam0->_fU0, iParam0->_fU8, 1 );
            }
            break;
            default:
        }
    }
    return VDIST( sub_4026( iParam0->_fU0, 1 ), iParam0->_fU16 );
}

int sub_24334(unknown uParam0)
{
    if (DOES_VEHICLE_EXIST( uParam0 ))
    {
        if (CHECK_STUCK_TIMER( uParam0, 0, 5000 ))
        {
            return 1;
        }
        else if (CHECK_STUCK_TIMER( uParam0, 3, 60000 ))
        {
            return 1;
        }
        else if (CHECK_STUCK_TIMER( uParam0, 2, 30000 ))
        {
            return 1;
        }
        else if (CHECK_STUCK_TIMER( uParam0, 1, 40000 ))
        {
            return 1;
        };;;;
    }
    return 0;
}

void sub_24593(int iParam0, unknown uParam1)
{
    iParam0->_fU36 = uParam1;
    return;
}

int sub_24694(int iParam0)
{
    unknown uVar3;
    int iVar4;

    if (NOT (sub_15309( iParam0, 2 )))
    {
        return 0;
    }
    uVar3 = sub_3573( iParam0 );
    if (IS_VEH_DRIVEABLE( uVar3 ))
    {
        iParam0->_fU4 = uVar3;
        return 1;
    }
    if (IS_CHAR_IN_ANY_CAR( iParam0->_fU0 ))
    {
        GET_CAR_CHAR_IS_USING( iParam0->_fU0, ref uVar3 );
        if (NOT (IS_CAR_DEAD( uVar3 )))
        {
            if (NOT (IS_CHAR_INJURED( iParam0->_fU8 )))
            {
                if (IS_CHAR_IN_CAR( iParam0->_fU8, uVar3 ))
                {
                    iParam0->_fU4 = uVar3;
                    return 1;
                }
            }
            GET_DRIVER_OF_CAR( uVar3, ref iVar4 );
            if (NOT (IS_CHAR_INJURED( iVar4 )))
            {
                if ((((sub_11843( iParam0 + 0 )) == 1) AND (iVar4 == sub_3952())) || ((sub_11843( ref iVar4 )) == (sub_11843( iParam0 + 0 ))))
                {
                    sub_24919( iParam0, iVar4 );
                    return 2;
                }
            }
        }
    }
    return 0;
}

void sub_24919(int iParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    int iVar6;

    if (IS_CHAR_INJURED( iParam1 ))
    {
        return;
    }
    if (NOT (IS_CHAR_INJURED( iParam0->_fU0 )))
    {
        if (IS_CHAR_IN_ANY_CAR( iParam0->_fU0 ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( iParam0->_fU0, ref uVar4 );
            if (NOT (IS_CAR_DEAD( uVar4 )))
            {
                if (sub_25015( iParam0->_fU0, uVar4 ))
                {
                    if (NOT (IS_CHAR_IN_CAR( iParam1, uVar4 )))
                    {
                        return;
                    }
                }
            }
        }
    }
    if ((iParam1 != sub_3952()) AND (iParam0->_fU8 == sub_3952()))
    {
        if (iParam0->_fU0 == g_U11198)
        {
            g_U11198 = nil;
        }
        if (iParam0->_fU0 == g_U11197)
        {
            g_U11197 = nil;
        }
    }
    if ((iParam0->_fU0 != g_U11081[1]) AND (iParam0->_fU0 != g_U11081[0]))
    {
        if (DOES_CHAR_EXIST( g_U11197 ))
        {
            if ((g_U11197 == g_U11081[1]) || (g_U11197 == g_U11081[0]))
            {
                g_U11197 = nil;
            }
        }
        if (DOES_CHAR_EXIST( g_U11198 ))
        {
            if ((g_U11198 == g_U11081[1]) || (g_U11198 == g_U11081[0]))
            {
                g_U11198 = nil;
            }
        }
        g_U11114 = 1;
    }
    if (((iParam0->_fU36 != 1) || (iParam0->_fU8 != iParam1)) AND (NOT (IS_CHAR_INJURED( iParam0->_fU0 ))))
    {
        TASK_PAUSE( iParam0->_fU0, 30 );
    }
    iParam0->_fU8 = iParam1;
    if (NOT (IS_CHAR_INJURED( iParam0->_fU0 )))
    {
        if (IS_PED_IN_GROUP( iParam0->_fU0 ))
        {
            GET_PED_GROUP_INDEX( iParam0->_fU0, ref uVar5 );
            GET_GROUP_LEADER( uVar5, ref iVar6 );
            if (DOES_GROUP_EXIST( uVar5 ))
            {
                GET_GROUP_LEADER( uVar5, ref iVar6 );
                if (iVar6 != iParam0->_fU8)
                {
                    REMOVE_CHAR_FROM_GROUP( iParam0->_fU0 );
                }
            }
        }
        sub_24593( iParam0, 1 );
        if (NOT (IS_CHAR_INJURED( iParam0->_fU8 )))
        {
            SET_CHAR_DEFENSIVE_AREA_ATTACHED_TO_PED( iParam0->_fU0, iParam0->_fU8, 0, 2, -2, 0, 65516, 5, 20, 1 );
        }
        if (iParam0->_fU8 == sub_3952())
        {
            if (NOT (DOES_CHAR_EXIST( g_U11198 )))
            {
                sub_25567( iParam0, 0 );
            }
            else if (IS_CHAR_INJURED( g_U11198 ))
            {
                sub_25567( iParam0, 0 );
            }
            else if (NOT (g_U11198 == iParam0->_fU0))
            {
                if (NOT (DOES_CHAR_EXIST( g_U11197 )))
                {
                    sub_25567( iParam0, 1 );
                }
                else if (IS_CHAR_INJURED( g_U11197 ))
                {
                    sub_25567( iParam0, 1 );
                }
                else if (NOT (g_U11197 == iParam0->_fU0))
                {
                    sub_25567( iParam0, 2 );
                };;;
            };;;
        }
    }
    return;
}

boolean sub_25015(unknown uParam0, unknown uParam1)
{
    return (NOT (sub_3861( uParam0, uParam1 ))) AND (IS_CHAR_SITTING_IN_CAR( uParam0, uParam1 ));
}

void sub_25567(int iParam0, int iParam1)
{
    if (iParam0->_fU8 == sub_3952())
    {
        if (iParam1 == 1)
        {
            g_U11197 = iParam0->_fU0;
            if (g_U11198 == iParam0->_fU0)
            {
                g_U11198 = nil;
            }
        }
        if (iParam1 == 0)
        {
            g_U11198 = iParam0->_fU0;
            if (g_U11197 == iParam0->_fU0)
            {
                g_U11197 = nil;
            }
        }
    }
    if ((iParam0->_fU0 != g_U11081[1]) AND (iParam0->_fU0 != g_U11081[0]))
    {
        g_U11114 = 1;
    }
    iParam0->_fU40 = iParam1;
    return;
}

int sub_25906(int iParam0)
{
    int iVar3;
    boolean bVar4;
    int iVar5;

    if (NOT (IS_CHAR_INJURED( iParam0->_fU8 )))
    {
        if (sub_25944( iParam0->_fU8, iParam0->_fU0, 0 ))
        {
            return 2;
        }
    }
    if (IS_VEH_DRIVEABLE( iParam0->_fU4 ))
    {
        if (sub_12917( iParam0->_fU0 ))
        {
            return 2;
        }
        if ((sub_3573( iParam0 )) == iParam0->_fU4)
        {
            if (sub_19523( iParam0->_fU4 ))
            {
                SET_BLIP_THROTTLE_RANDOMLY( iParam0->_fU4, 1 );
            }
            return 1;
        }
        if (NOT (sub_19523( iParam0->_fU4 )))
        {
            iParam0->_fU4 = nil;
            return 0;
        }
        iVar3 = nil;
        GET_DRIVER_OF_CAR( iParam0->_fU4, ref iVar3 );
        if (((NOT (IS_CHAR_INJURED( iVar3 ))) AND (iVar3 == iParam0->_fU8)) || (iVar3 == sub_3952()))
        {
            if (IS_CHAR_IN_CAR( iParam0->_fU0, iParam0->_fU4 ))
            {
                return 2;
            }
            else
            {
                return 0;
            }
        }
        else if (NOT (IS_CHAR_INJURED( iVar3 )))
        {
            if ((sub_11843( iParam0 + 0 )) == (sub_11843( ref iVar3 )))
            {
                return 0;
            }
        }
        if (((sub_19586( iParam0->_fU0, sub_3952(), 1 )) < 90.00000000) || ((IS_CAR_ON_SCREEN( iParam0->_fU4 )) || ((IS_CHAR_ON_SCREEN( iParam0->_fU0 )) || (IS_CHAR_IN_CAR( sub_3952(), iParam0->_fU4 )))))
        {
            if (LOCATE_CHAR_ANY_MEANS_CAR_3D( iParam0->_fU0, iParam0->_fU4, 30.00000000, 30.00000000, 30.00000000, 0 ))
            {
                bVar4 = false;
            }
            else
            {
                return 0;
            }
        }
        else
        {
            bVar4 = true;
            if (DOES_CHAR_EXIST( iVar3 ))
            {
                if (NOT (IS_CHAR_DEAD( iVar3 )))
                {
                    if (IS_PED_A_MISSION_PED( iVar3 ))
                    {
                        bVar4 = false;
                    }
                }
                if (bVar4)
                {
                    DELETE_CHAR( ref iVar3 );
                }
            }
        }
        sub_26628( iParam0 );
        if (bVar4)
        {
            CLEAR_CHAR_TASKS_IMMEDIATELY( iParam0->_fU0 );
            SET_CAR_ON_GROUND_PROPERLY( iParam0->_fU4 );
            WARP_CHAR_INTO_CAR( iParam0->_fU0, iParam0->_fU4 );
            if (sub_19523( iParam0->_fU4 ))
            {
                SET_BLIP_THROTTLE_RANDOMLY( iParam0->_fU4, 1 );
            }
            return 1;
        }
        else
        {
            GET_SCRIPT_TASK_STATUS( iParam0->_fU0, 12, ref iVar5 );
            if (iVar5 == 7)
            {
                if (LOCATE_CHAR_ANY_MEANS_CAR_3D( iParam0->_fU0, iParam0->_fU4, 12.00000000, 30.00000000, 30.00000000, 0 ))
                {
                    TASK_ENTER_CAR_AS_DRIVER( iParam0->_fU0, iParam0->_fU4, -1 );
                }
                else
                {
                    TASK_ENTER_CAR_AS_DRIVER( iParam0->_fU0, iParam0->_fU4, -2 );
                }
            }
            return 2;
        }
    }
    return 0;
}

void sub_25944(unknown uParam0, unknown uParam1, unknown uParam2)
{
    unknown[2] uVar5;

    array(ref uVar5, 2);
    uVar5[0] = uParam0;
    uVar5[1] = uParam1;
    return sub_25974( ref uVar5, uParam2 );
}

int sub_25974(unknown uParam0, unknown uParam1)
{
    int I;
    unknown[2] uVar5;

    array(ref uVar5, 2);
    if (NOT (sub_25999( (uParam0^)[0], ref uVar5[0], uParam1 )))
    {
        return 0;
    }
    for ( I = 1; I <= ((uParam0^) - 1); I++ )
    {
        if (sub_25999( (uParam0^)[I], ref uVar5[1], uParam1 ))
        {
            if (uVar5[0] != uVar5[1])
            {
                return 0;
            }
        }
        else
        {
            return 0;
        }
    }
    return 1;
}

int sub_25999(unknown uParam0, unknown uParam1, boolean bParam2)
{
    if (bParam2)
    {
        if (NOT (IS_CHAR_SITTING_IN_ANY_CAR( uParam0 )))
        {
            return 0;
        }
    }
    else if (NOT (IS_CHAR_IN_ANY_CAR( uParam0 )))
    {
        return 0;
    }
    STORE_CAR_CHAR_IS_IN_NO_SAVE( uParam0, uParam1 );
    return 1;
}

int sub_26628(int iParam0)
{
    if (sub_26642( iParam0->_fU0 ))
    {
        ;
    }
    return 1;
}

int sub_26642(unknown uParam0)
{
    int iVar3;
    int iVar4;
    int iVar5;

    if (IS_PED_IN_GROUP( uParam0 ))
    {
        GET_PED_GROUP_INDEX( uParam0, ref iVar3 );
        if (DOES_GROUP_EXIST( iVar3 ))
        {
            GET_GROUP_SIZE( iVar3, ref iVar4, ref iVar5 );
            if (NOT (IS_GROUP_LEADER( uParam0, iVar3 )))
            {
                if ((iVar3 != sub_26728()) AND ((iVar5 < 2) || (iVar4 < 1)))
                {
                    REMOVE_GROUP( iVar3 );
                }
                else
                {
                    REMOVE_CHAR_FROM_GROUP( uParam0 );
                }
                return 1;
            }
            else if ((iVar3 != sub_26728()) AND (iVar5 < 1))
            {
                REMOVE_GROUP( iVar3 );
            }
        }
    }
    return 0;
}

void sub_26728()
{
    unknown Result;

    GET_PLAYER_GROUP( CONVERT_INT_TO_PLAYERINDEX( GET_PLAYER_ID() ), ref Result );
    return Result;
}

int sub_27074(int iParam0)
{
    unknown uVar3;

    if ((IS_VEH_DRIVEABLE( iParam0->_fU4 )) AND (NOT (sub_15309( iParam0, 2 ))))
    {
        return 0;
    }
    uVar3 = sub_22101( sub_4026( iParam0->_fU0, 1 ), 30.00000000, 190 );
    if (IS_VEH_DRIVEABLE( uVar3 ))
    {
        iParam0->_fU4 = uVar3;
        return 1;
    }
    return 0;
}

int sub_27188(int iParam0)
{
    unknown uVar3;

    return 0;
    if ((IS_VEH_DRIVEABLE( iParam0->_fU4 )) AND (NOT (sub_15309( iParam0, 2 ))))
    {
        return 0;
    }
    uVar3 = GET_CLOSEST_CAR( sub_4026( iParam0->_fU0, 1 ), 30.00000000, 0, 190 );
    if (IS_VEH_DRIVEABLE( uVar3 ))
    {
        iParam0->_fU4 = uVar3;
        return 1;
    }
    return 0;
}

int sub_27309(int iParam0)
{
    float fVar3;
    int iVar4;

    if (IS_CHAR_IN_ANY_CAR( iParam0->_fU0 ))
    {
        return 0;
    }
    fVar3 = sub_23806( iParam0 );
    if (fVar3 < 12.00000000)
    {
        return 1;
    }
    else if (fVar3 > 90.00000000)
    {
        return 0;
    }
    else
    {
        switch (iParam0->_fU36)
        {
            case 2:
            GET_SCRIPT_TASK_STATUS( iParam0->_fU0, 27, ref iVar4 );
            if (iVar4 == 7)
            {
                TASK_FOLLOW_NAV_MESH_TO_COORD( iParam0->_fU0, ref iParam0->_fU16->_fU0, ref iParam0->_fU16->_fU4, ref iParam0->_fU16->_fU8, 4, -1, 12.00000000 / 2.00000000 );
            }
            else if ((GET_NAVMESH_ROUTE_RESULT( iParam0->_fU0 )) == 2)
            {
                return 0;
            }
            break;
            case 1:
            GET_SCRIPT_TASK_STATUS( iParam0->_fU0, 21, ref iVar4 );
            if (iVar4 == 7)
            {
                TASK_GO_TO_CHAR( iParam0->_fU0, iParam0->_fU8, -1, 12.00000000 / 2.00000000 );
            }
            break;
            default: break;
        }
    }
    return 2;
}

int sub_27609(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;

    if (iParam0->_fU36 != 2)
    {
        return 0;
    }
    GET_GAME_VIEWPORT_ID( ref uVar3 );
    if ((sub_23806( iParam0 )) < 12.00000000)
    {
        return 1;
    }
    else if (((sub_19586( iParam0->_fU0, sub_3952(), 1 )) > 90.00000000) AND ((NOT (IS_CHAR_ON_SCREEN( iParam0->_fU0 ))) AND ((sub_23806( iParam0 )) > 90.00000000)))
    {
        if (GET_SAFE_POSITION_FOR_CHAR( ref iParam0->_fU16->_fU0, ref iParam0->_fU16->_fU4, ref iParam0->_fU16->_fU8, 0, ref uVar4._fU0, ref uVar4._fU4, ref uVar4._fU8 ))
        {
            if (((VDIST( sub_4026( sub_3952(), 1 ), uVar4 )) < 30.00000000) || ((IS_POINT_OBSCURED_BY_A_MISSION_ENTITY( uVar4._fU0, uVar4._fU4, uVar4._fU8, 2.00000000, 2.00000000, 2.00000000 )) || (CAM_IS_SPHERE_VISIBLE( uVar3, uVar4._fU0, uVar4._fU4, uVar4._fU8, 2.00000000 ))))
            {
                ;
            }
            else if (IS_CHAR_IN_ANY_CAR( iParam0->_fU0 ))
            {
                WARP_CHAR_FROM_CAR_TO_COORD( iParam0->_fU0, uVar4._fU0, uVar4._fU4, uVar4._fU8 );
            }
            else
            {
                SET_CHAR_COORDINATES( iParam0->_fU0, uVar4._fU0, uVar4._fU4, uVar4._fU8 );
            }
            return 2;;
        }
    }
    return 0;
}

int sub_27965(int iParam0)
{
    int iVar3;

    if (NOT (IS_VEH_DRIVEABLE( iParam0->_fU4 )))
    {
        return 0;
    }
    else if ((sub_3573( iParam0 )) != iParam0->_fU4)
    {
        return 0;
    }
    GET_SCRIPT_TASK_STATUS( iParam0->_fU0, 16, ref iVar3 );
    if (iVar3 == 7)
    {
        TASK_CAR_DRIVE_WANDER( iParam0->_fU0, iParam0->_fU4, iParam0->_fU28, 2 );
    }
    SET_DRIVE_TASK_CRUISE_SPEED( iParam0->_fU0, iParam0->_fU28 );
    return 2;
}

int sub_28224(int iParam0)
{
    int iVar3;

    if (NOT (IS_CHAR_IN_ANY_CAR( iParam0->_fU0 )))
    {
        if (NOT (IS_PED_IN_COMBAT( iParam0->_fU0 )))
        {
            GET_SCRIPT_TASK_STATUS( iParam0->_fU0, 34, ref iVar3 );
            if ((NOT (IS_CHAR_FACING_CHAR( iParam0->_fU0, sub_3952(), 45.00000000 ))) AND (iVar3 == 7))
            {
                TASK_LOOK_AT_CHAR( iParam0->_fU0, sub_3952(), -1, 0 );
                TASK_TURN_CHAR_TO_FACE_CHAR( iParam0->_fU0, sub_3952() );
            }
        }
        return 1;
    }
    return 0;
}

int sub_28381(int iParam0)
{
    unknown uVar3;
    int iVar4;
    boolean bVar5;
    boolean bVar6;
    unknown uVar7;
    float fVar8;
    int iVar9;

    if (IS_CHAR_INJURED( iParam0->_fU8 ))
    {
        return 0;
    }
    iVar4 = nil;
    bVar5 = false;
    if (IS_CHAR_IN_ANY_CAR( iParam0->_fU0 ))
    {
        STORE_CAR_CHAR_IS_IN_NO_SAVE( iParam0->_fU0, ref iVar4 );
    }
    if (DOES_VEHICLE_EXIST( iVar4 ))
    {
        if (sub_25015( iParam0->_fU0, iVar4 ))
        {
            bVar5 = true;
            GET_DRIVER_OF_CAR( iVar4, ref uVar3 );
            bVar6 = false;
            if ((NOT (IS_CHAR_GETTING_IN_TO_A_CAR( sub_3952() ))) AND (NOT (IS_CHAR_IN_CAR( sub_3952(), iVar4 ))))
            {
                if (IS_CHAR_INJURED( uVar3 ))
                {
                    bVar6 = true;
                }
            }
            if (IS_CAR_MODEL( iVar4, -960289747 ))
            {
                if (sub_25944( sub_3952(), iParam0->_fU0, 0 ))
                {
                    return 2;
                }
            }
            else if ((sub_11843( iParam0 + 0 )) == 1)
            {
                GET_CAR_CHAR_IS_USING( sub_3952(), ref uVar7 );
                if (DOES_VEHICLE_EXIST( uVar7 ))
                {
                    if (IS_CAR_MODEL( uVar7, 800869680 ))
                    {
                        return 2;
                    }
                }
            }
            if (bVar6)
            {
                return sub_15231( iParam0, 1, 0 );
            }
        }
    }
    if (((sub_23806( iParam0 )) < 30.00000000) AND (sub_15309( iParam0, 1 )))
    {
        SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( iParam0->_fU0, 1 );
        if (IS_PED_IN_COMBAT( iParam0->_fU0 ))
        {
            return 2;
        }
    }
    else
    {
        SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( iParam0->_fU0, 0 );
        if ((NOT bVar5) AND (IS_PED_IN_COMBAT( iParam0->_fU0 )))
        {
            CLEAR_CHAR_TASKS( iParam0->_fU0 );
        }
        if (NOT (IS_CHAR_SITTING_IN_ANY_CAR( iParam0->_fU0 )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( iParam0->_fU0, 1 );
        }
        else
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( iParam0->_fU0, 0 );
        }
    }
    iVar4 = nil;
    GET_CAR_CHAR_IS_USING( sub_3952(), ref iVar4 );
    fVar8 = 20.00000000;
    if (iParam0->_fU8 == sub_3952())
    {
        if ((IS_CHAR_ON_FOOT( sub_3952() )) AND (IS_CHAR_ON_FOOT( iParam0->_fU0 )))
        {
            GET_KEY_FOR_CHAR_IN_ROOM( sub_3952(), ref iVar9 );
            if (iVar9 != 0)
            {
                fVar8 = 100.00000000;
            }
        }
    }
    if ((((sub_19586( iParam0->_fU0, iParam0->_fU8, 1 )) > fVar8) || ((DOES_VEHICLE_EXIST( iVar4 )) || ((IS_CHAR_GETTING_IN_TO_A_CAR( iParam0->_fU8 )) || (IS_CHAR_SITTING_IN_ANY_CAR( iParam0->_fU8 ))))) AND (NOT (IS_CHAR_IN_WATER( iParam0->_fU8 ))))
    {
        if (IS_VEH_DRIVEABLE( iParam0->_fU4 ))
        {
            if ((iParam0->_fU4 == iVar4) || (sub_3861( iParam0->_fU8, iParam0->_fU4 )))
            {
                if ((sub_29067( iParam0 )) != 0)
                {
                    ;
                }
                else if ((sub_24694( iParam0 )) != 0)
                {
                    ;
                }
                else if ((sub_27074( iParam0 )) != 0)
                {
                    ;
                }
                else if ((sub_30134( iParam0 )) != 0)
                {
                    ;
                }
                else if ((sub_31990( iParam0 )) != 0)
                {
                    ;
                }
                else if ((sub_27309( iParam0 )) != 0)
                {
                    ;
                }
                else if ((sub_28224( iParam0 )) != 0)
                {
                    ;
                };;;;;;;
            }
            else if (((sub_11843( iParam0 + 0 )) == 1) AND (sub_3861( sub_3952(), iParam0->_fU4 )))
            {
                if ((sub_24694( iParam0 )) != 0)
                {
                    ;
                }
                else if ((sub_27074( iParam0 )) != 0)
                {
                    ;
                }
                else if ((sub_30134( iParam0 )) != 0)
                {
                    ;
                }
                else if ((sub_31990( iParam0 )) != 0)
                {
                    ;
                }
                else if ((sub_27309( iParam0 )) != 0)
                {
                    ;
                }
                else if ((sub_28224( iParam0 )) != 0)
                {
                    ;
                };;;;;;
            }
            else if ((sub_32816( iParam0 )) != 0)
            {
                ;
            }
            else if ((sub_32965( iParam0 )) != 0)
            {
                ;
            }
            else if ((sub_25906( iParam0 )) != 0)
            {
                ;
            }
            else if ((sub_24694( iParam0 )) != 0)
            {
                ;
            }
            else if ((sub_27074( iParam0 )) != 0)
            {
                ;
            }
            else if ((sub_31990( iParam0 )) != 0)
            {
                ;
            }
            else if ((sub_29067( iParam0 )) != 0)
            {
                ;
            }
            else if ((sub_30134( iParam0 )) != 0)
            {
                ;
            }
            else if ((sub_27309( iParam0 )) != 0)
            {
                ;
            }
            else if ((sub_28224( iParam0 )) != 0)
            {
                ;
            };;;;;;;;;;;;
        }
        else if ((sub_32816( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_25906( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_24694( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_29067( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_27074( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_27188( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_30134( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_31990( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_27309( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_28224( iParam0 )) != 0)
        {
            ;
        };;;;;;;;;;;
    }
    else if (((sub_11843( iParam0 + 0 )) == 1) AND ((iParam0->_fU8 != sub_3952()) AND (sub_25944( sub_3952(), iParam0->_fU0, 1 ))))
    {
        sub_24919( iParam0, sub_3952() );
    }
    if (IS_CHAR_IN_WATER( iParam0->_fU8 ))
    {
        if (IS_CHAR_IN_WATER( iParam0->_fU0 ))
        {
            if ((sub_15417( iParam0 )) != 0)
            {
                ;
            }
            else if ((sub_25906( iParam0 )) != 0)
            {
                ;
            }
            else if ((sub_24694( iParam0 )) != 0)
            {
                ;
            }
            else if ((sub_31990( iParam0 )) != 0)
            {
                ;
            }
            else if ((sub_29406( iParam0 )) != 0)
            {
                ;
            }
            else if ((sub_27309( iParam0 )) != 0)
            {
                ;
            }
            else if ((sub_27074( iParam0 )) != 0)
            {
                ;
            }
            else if ((sub_27188( iParam0 )) != 0)
            {
                ;
            }
            else if ((sub_30134( iParam0 )) != 0)
            {
                ;
            };;;;;;;;;
        }
        else if ((IS_CHAR_IN_ANY_CAR( iParam0->_fU0 )) || (NOT (sub_15309( iParam0, 1 ))))
        {
            if ((sub_15417( iParam0 )) != 0)
            {
                ;
            }
            else if ((sub_25906( iParam0 )) != 0)
            {
                ;
            }
            else if ((sub_24694( iParam0 )) != 0)
            {
                ;
            }
            else if ((sub_31990( iParam0 )) != 0)
            {
                ;
            };;;;
        }
        else if ((sub_32816( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_29406( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_27309( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_28224( iParam0 )) != 0)
        {
            ;
        };;;;;;
    }
    else if ((NOT (IS_CHAR_IN_ANY_CAR( iParam0->_fU8 ))) AND (sub_15309( iParam0, 1 )))
    {
        if ((sub_32816( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_29406( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_27309( iParam0 )) != 0)
        {
            ;
        }
        else if ((sub_15231( iParam0, 0, 0 )) != 0)
        {
            ;
        }
        else if ((sub_15417( iParam0 )) != 0)
        {
            ;
        };;;;;
    }
    else if ((sub_32816( iParam0 )) != 0)
    {
        ;
    }
    else if ((sub_15417( iParam0 )) != 0)
    {
        ;
    }
    else if ((sub_25906( iParam0 )) != 0)
    {
        ;
    }
    else if ((sub_24694( iParam0 )) != 0)
    {
        ;
    }
    else if ((sub_29067( iParam0 )) != 0)
    {
        ;
    }
    else if ((sub_27074( iParam0 )) != 0)
    {
        ;
    }
    else if ((sub_31990( iParam0 )) != 0)
    {
        ;
    }
    else if ((sub_30134( iParam0 )) != 0)
    {
        ;
    }
    else if ((sub_29406( iParam0 )) != 0)
    {
        ;
    }
    else if ((sub_27309( iParam0 )) != 0)
    {
        ;
    }
    else if ((sub_28224( iParam0 )) != 0)
    {
        ;
    };;;;;;;;;;;;;;
    return 2;
}

int sub_29067(int iParam0)
{
    unknown uVar3;
    int iVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    int iVar14;
    int iVar15;

    if (IS_CHAR_INJURED( iParam0->_fU8 ))
    {
        return 0;
    }
    else if (NOT (IS_CHAR_IN_ANY_CAR( iParam0->_fU8 )))
    {
        return 0;
    }
    else
    {
        STORE_CAR_CHAR_IS_IN_NO_SAVE( iParam0->_fU8, ref uVar3 );
        if (NOT (IS_VEH_DRIVEABLE( uVar3 )))
        {
            return 0;
        }
        else if (IS_CHAR_IN_CAR( iParam0->_fU0, uVar3 ))
        {
            return 1;
        }
        else
        {
            iVar4 = sub_29196( uVar3 );
            if (iVar4 < 0)
            {
                return 0;
            }
        }
    }
    uVar5 = {sub_9097( uVar3, 1 )};
    uVar8 = {sub_4026( iParam0->_fU0, 1 )};
    uVar11 = {sub_4026( sub_3952(), 1 )};
    if (IS_PED_IN_GROUP( iParam0->_fU0 ))
    {
        if ((sub_23806( iParam0 )) > 30.00000000)
        {
            sub_26628( iParam0 );
            return 0;
        }
        else
        {
            return 2;
        }
    }
    else if ((sub_23806( iParam0 )) < 12.00000000)
    {
        iVar14 = sub_29406( iParam0 );
        if (iVar14 != 0)
        {
            return 2;
        }
    }
    if (((VDIST( uVar11, uVar8 )) < 30.00000000) || (((VDIST( uVar11, uVar5 )) < 30.00000000) || ((IS_CAR_ON_SCREEN( uVar3 )) || (IS_CHAR_ON_SCREEN( iParam0->_fU0 )))))
    {
        if ((VDIST( uVar8, uVar5 )) > 30.00000000)
        {
            return 0;
        }
        else
        {
            GET_SCRIPT_TASK_STATUS( iParam0->_fU0, 11, ref iVar15 );
            if (iVar15 == 7)
            {
                TASK_ENTER_CAR_AS_PASSENGER( iParam0->_fU0, uVar3, -2, iVar4 );
            }
            return 2;
        }
    }
    else
    {
        CLEAR_CHAR_TASKS( iParam0->_fU0 );
        WARP_CHAR_INTO_CAR_AS_PASSENGER( iParam0->_fU0, uVar3, iVar4 );
        return 1;
    }
    return 0;
}

int sub_29196(unknown uParam0)
{
    int Result;
    int iVar4;

    GET_MAXIMUM_NUMBER_OF_PASSENGERS( uParam0, ref iVar4 );
    for ( Result = 0; Result < iVar4; Result++ )
    {
        if (IS_CAR_PASSENGER_SEAT_FREE( uParam0, Result ))
        {
            return Result;
        }
    }
    return -1;
}

int sub_29406(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    int iVar5;
    unknown uVar6;

    if (IS_CHAR_INJURED( iParam0->_fU8 ))
    {
        if (sub_26642( iParam0->_fU0 ))
        {
            ;
        }
        return 0;
    }
    else if (IS_CHAR_IN_ANY_CAR( iParam0->_fU0 ))
    {
        if (NOT (sub_25944( iParam0->_fU0, iParam0->_fU8, 1 )))
        {
            return 0;
        }
    }
    else if ((sub_19586( iParam0->_fU0, iParam0->_fU8, 1 )) > 12.00000000)
    {
        return 0;
    }
    GET_PED_GROUP_INDEX( iParam0->_fU8, ref uVar3 );
    if (DOES_GROUP_EXIST( uVar3 ))
    {
        if (IS_GROUP_MEMBER( iParam0->_fU0, uVar3 ))
        {
            return 1;
        }
    }
    else
    {
        REMOVE_ALL_INACTIVE_GROUPS_FROM_CLEANUP_LIST();
        CREATE_GROUP( 0, ref uVar3, 1 );
        SET_GROUP_LEADER( uVar3, iParam0->_fU8 );
        PRINTSTRING( "e1_biker_buddy_task: CREATING GROUP with leader" );
        PRINTINT( iParam0->_fU8 );
        PRINTSTRING( " and ped " );
        PRINTINT( iParam0->_fU0 );
        PRINTNL();
    }
    if (DOES_GROUP_EXIST( uVar3 ))
    {
        GET_GROUP_SIZE( uVar3, ref uVar4, ref iVar5 );
        if (iVar5 < 7)
        {
            if (IS_PED_IN_GROUP( iParam0->_fU0 ))
            {
                REMOVE_CHAR_FROM_GROUP( iParam0->_fU0 );
            }
            GET_GROUP_LEADER( uVar3, ref uVar6 );
            if (NOT (IS_CHAR_INJURED( uVar6 )))
            {
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( iParam0->_fU0, 0 );
                SET_GROUP_MEMBER( uVar3, iParam0->_fU0 );
                SET_CHAR_NEVER_LEAVES_GROUP( iParam0->_fU0, 1 );
                return 1;
            }
        }
    }
    return 0;
}

int sub_30134(int iParam0)
{
    int iVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if (NOT (sub_15309( iParam0, 2 )))
    {
        return 0;
    }
    iVar3 = 0;
    if (NOT (IS_CAR_DEAD( iParam0->_fU4 )))
    {
        iVar3 = sub_12800( iParam0->_fU4 );
    }
    else if (HAS_MODEL_LOADED( -408052231 ))
    {
        iVar3 = -408052231;
    }
    else if (HAS_MODEL_LOADED( -570033273 ))
    {
        iVar3 = -570033273;
    }
    else if (HAS_MODEL_LOADED( 584879743 ))
    {
        iVar3 = 584879743;
    }
    else if (HAS_MODEL_LOADED( 802082487 ))
    {
        iVar3 = 802082487;
    }
    else if (HAS_MODEL_LOADED( -1830458836 ))
    {
        iVar3 = -1830458836;
    };;;;;;
    if (iVar3 == 0)
    {
        ;
    }
    else if (((sub_19566( iParam0 )) > 30.00000000) AND (NOT (IS_CHAR_ON_SCREEN( iParam0->_fU0 ))))
    {
        GET_CHAR_COORDINATES( iParam0->_fU0, ref uVar4._fU0, ref uVar4._fU4, ref uVar4._fU8 );
        if (GET_CLOSEST_CAR_NODE_WITH_HEADING( uVar4._fU0, uVar4._fU4, uVar4._fU8, ref uVar7._fU0, ref uVar7._fU4, ref uVar7._fU8, ref uVar10 ))
        {
            uVar11 = sub_30449( uVar4, uVar10, iVar3 );
            WARP_CHAR_INTO_CAR( iParam0->_fU0, uVar11 );
            if (sub_19523( uVar11 ))
            {
                GIVE_PED_HELMET_WITH_OPTS( iParam0->_fU0, 0 );
                SET_BLIP_THROTTLE_RANDOMLY( uVar11, 1 );
            }
            MARK_CAR_AS_NO_LONGER_NEEDED( ref uVar11 );
            return 1;
        }
    }
    return 0;
}

void sub_30449(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    unknown Result;

    CREATE_CAR( uParam4, uParam0._fU0, uParam0._fU4, uParam0._fU8, ref Result, 1 );
    SET_CAR_HEADING( Result, uParam3 );
    sub_30497( Result, uParam4, 9 );
    SET_LOAD_COLLISION_FOR_CAR_FLAG( Result, 1 );
    SET_BLIP_THROTTLE_RANDOMLY( Result, 1 );
    VEHICLE_CAN_BE_TARGETTED_BY_HS_MISSILE( Result, 0 );
    return Result;
}

void sub_30497(unknown uParam0, unknown uParam1, int iParam2)
{
    switch (uParam1)
    {
        case -159126838:
        CHANGE_CAR_COLOUR( uParam0, 106, 106 );
        SET_EXTRA_CAR_COLOURS( uParam0, 127, 0 );
        break;
        case 301427732:
        CHANGE_CAR_COLOUR( uParam0, 69, 112 );
        SET_EXTRA_CAR_COLOURS( uParam0, 112, 0 );
        break;
        case -570033273:
        if (iParam2 == 1)
        {
            TURN_OFF_VEHICLE_EXTRA( uParam0, 1, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 2, 0 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 3, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 4, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 5, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 6, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 7, 0 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 8, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 9, 1 );
            CHANGE_CAR_COLOUR( uParam0, 0, 0 );
            SET_EXTRA_CAR_COLOURS( uParam0, 4, 35 );
        }
        break;
        case -408052231:
        switch (iParam2)
        {
            case 6:
            case 13:
            case 16:
            case 7:
            TURN_OFF_VEHICLE_EXTRA( uParam0, 1, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 2, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 3, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 4, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 5, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 6, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 7, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 8, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 9, 1 );
            if (iParam2 == 6)
            {
                TURN_OFF_VEHICLE_EXTRA( uParam0, 2, 0 );
                TURN_OFF_VEHICLE_EXTRA( uParam0, 7, 0 );
                CHANGE_CAR_COLOUR( uParam0, 78, 37 );
                SET_EXTRA_CAR_COLOURS( uParam0, 81, 1 );
            }
            else if (iParam2 == 13)
            {
                TURN_OFF_VEHICLE_EXTRA( uParam0, 1, 0 );
                TURN_OFF_VEHICLE_EXTRA( uParam0, 6, 0 );
                CHANGE_CAR_COLOUR( uParam0, 37, 90 );
                SET_EXTRA_CAR_COLOURS( uParam0, 129, 1 );
            }
            else if (iParam2 == 16)
            {
                TURN_OFF_VEHICLE_EXTRA( uParam0, 2, 0 );
                TURN_OFF_VEHICLE_EXTRA( uParam0, 7, 0 );
                CHANGE_CAR_COLOUR( uParam0, 69, 88 );
                SET_EXTRA_CAR_COLOURS( uParam0, 125, 1 );
            }
            else if (iParam2 == 7)
            {
                TURN_OFF_VEHICLE_EXTRA( uParam0, 1, 0 );
                TURN_OFF_VEHICLE_EXTRA( uParam0, 6, 0 );
                CHANGE_CAR_COLOUR( uParam0, 70, 78 );
                SET_EXTRA_CAR_COLOURS( uParam0, 1, 1 );
            }
            else
            {
                SCRIPT_ASSERT( "Set_Gang_Bike_Colours: DIABOLUS - missing bike extras and colours for contact" );
            };;;;
            break;
        }
        break;
        case 584879743:
        CHANGE_CAR_COLOUR( uParam0, 78, 66 );
        SET_EXTRA_CAR_COLOURS( uParam0, 90, 0 );
        break;
        case 802082487: break;
        case -359167535:
        CHANGE_CAR_COLOUR( uParam0, 1, 90 );
        SET_EXTRA_CAR_COLOURS( uParam0, 95, 0 );
        break;
        case -571009320:
        CHANGE_CAR_COLOUR( uParam0, 112, 74 );
        SET_EXTRA_CAR_COLOURS( uParam0, 4, 0 );
        break;
        case 2006142190:
        CHANGE_CAR_COLOUR( uParam0, 132, 0 );
        SET_EXTRA_CAR_COLOURS( uParam0, 131, 0 );
        break;
        case -1606187161:
        CHANGE_CAR_COLOUR( uParam0, 85, 0 );
        SET_EXTRA_CAR_COLOURS( uParam0, 82, 0 );
        break;
        case -618617997:
        CHANGE_CAR_COLOUR( uParam0, 33, 0 );
        SET_EXTRA_CAR_COLOURS( uParam0, 5, 0 );
        break;
        case -77769032: break;
        case -1670998136: break;
        case -1759858085:
        if (iParam2 == 15)
        {
            TURN_OFF_VEHICLE_EXTRA( uParam0, 1, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 2, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 3, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 4, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 5, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 6, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 7, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 8, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 9, 1 );
            CHANGE_CAR_COLOUR( uParam0, 132, 1 );
            SET_EXTRA_CAR_COLOURS( uParam0, 112, 112 );
        }
        break;
        case 1265391242: break;
        case -255678177:
        if (iParam2 == 17)
        {
            TURN_OFF_VEHICLE_EXTRA( uParam0, 1, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 2, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 3, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 4, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 5, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 6, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 7, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 8, 1 );
            TURN_OFF_VEHICLE_EXTRA( uParam0, 9, 1 );
            CHANGE_CAR_COLOUR( uParam0, 112, 112 );
            SET_EXTRA_CAR_COLOURS( uParam0, 1, 112 );
        }
        break;
        case -114291515: break;
        case -891462355: break;
    }
    return;
}

int sub_31990(int iParam0)
{
    int iVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    int iVar13;
    int iVar14;
    boolean bVar15;

    if (IS_VEH_DRIVEABLE( iParam0->_fU4 ))
    {
        if (IS_CHAR_SITTING_IN_CAR( iParam0->_fU0, iParam0->_fU4 ))
        {
            GET_DRIVER_OF_CAR( iParam0->_fU4, ref iVar3 );
            if ((IS_CHAR_INJURED( iVar3 )) || (iVar3 == iParam0->_fU0))
            {
                return 0;
            }
            else if (iVar3 != iParam0->_fU8)
            {
                sub_24919( iParam0, iVar3 );
                return 2;
            }
            else
            {
                return 1;
            }
        }
        uVar4 = {sub_4026( sub_3952(), 1 )};
        uVar7 = {sub_4026( iParam0->_fU0, 1 )};
        uVar10 = {sub_9097( iParam0->_fU4, 1 )};
        if (((VDIST( uVar4, uVar7 )) < 30.00000000) || (((VDIST( uVar4, uVar10 )) < 30.00000000) || ((IS_CAR_ON_SCREEN( iParam0->_fU4 )) || (IS_CHAR_ON_SCREEN( iParam0->_fU0 )))))
        {
            if ((VDIST( uVar10, uVar7 )) > 30.00000000)
            {
                return 0;
            }
            GET_SCRIPT_TASK_STATUS( iParam0->_fU0, 11, ref iVar13 );
            if (iVar13 != 7)
            {
                return 2;
            }
            GET_DRIVER_OF_CAR( iParam0->_fU4, ref iVar3 );
            if (IS_CHAR_INJURED( iVar3 ))
            {
                return 0;
            }
            else if (((sub_11843( ref iVar3 )) == (sub_11843( iParam0 + 0 ))) || (iVar3 == sub_3952()))
            {
                iVar14 = sub_29196( iParam0->_fU4 );
                if (iVar14 < 0)
                {
                    return 0;
                }
                else
                {
                    TASK_ENTER_CAR_AS_PASSENGER( iParam0->_fU0, iParam0->_fU4, -2, iVar14 );
                    return 2;
                }
            }
            else
            {
                return 0;
            }
        }
        else
        {
            GET_DRIVER_OF_CAR( iParam0->_fU4, ref iVar3 );
            if (DOES_CHAR_EXIST( iVar3 ))
            {
                if (IS_PED_A_MISSION_PED( iVar3 ))
                {
                    bVar15 = false;
                }
                else
                {
                    DELETE_CHAR( ref iVar3 );
                    bVar15 = true;
                }
            }
            else
            {
                bVar15 = true;
            }
            if (bVar15)
            {
                CLEAR_CHAR_TASKS( iParam0->_fU0 );
                SET_CAR_ON_GROUND_PROPERLY( iParam0->_fU4 );
                WARP_CHAR_INTO_CAR( iParam0->_fU0, iParam0->_fU4 );
                if (sub_19523( iParam0->_fU4 ))
                {
                    GIVE_PED_HELMET_WITH_OPTS( iParam0->_fU0, 0 );
                    SET_BLIP_THROTTLE_RANDOMLY( iParam0->_fU4, 1 );
                }
                return 1;
            }
            else
            {
                return 0;
            }
        }
    }
    iParam0->_fU4 = nil;
    return 0;
}

int sub_32816(int iParam0)
{
    unknown uVar3;
    unknown uVar4;

    if (IS_CHAR_INJURED( iParam0->_fU0 ))
    {
        return 0;
    }
    GET_SCRIPT_TASK_STATUS( iParam0->_fU0, 91, ref uVar3 );
    GET_CHAR_HIGHEST_PRIORITY_EVENT( iParam0->_fU0, ref uVar4 );
    if (((sub_23806( iParam0 )) < 30.00000000) AND ((IS_CHAR_RESPONDING_TO_EVENT( iParam0->_fU0, 115 )) || ((IS_CHAR_RESPONDING_TO_EVENT( iParam0->_fU0, 110 )) || (IS_PED_IN_COMBAT( iParam0->_fU0 )))))
    {
        return 2;
    }
    return 0;
}

int sub_32965(int iParam0)
{
    int iVar3;
    float fVar4;
    float fVar5;
    float fVar6;
    float fVar7;
    int iVar8;
    boolean bVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;

    if (NOT (IS_VEH_DRIVEABLE( iParam0->_fU4 )))
    {
        return 0;
    }
    else if ((sub_3573( iParam0 )) != iParam0->_fU4)
    {
        if (sub_19523( iParam0->_fU4 ))
        {
            SET_CAR_TRACTION( iParam0->_fU4, 1.00000000 );
        }
        return 0;
    }
    else if (NOT (DOES_CHAR_EXIST( iParam0->_fU8 )))
    {
        if (sub_19523( iParam0->_fU4 ))
        {
            SET_CAR_TRACTION( iParam0->_fU4, 1.00000000 );
        }
        return 0;
    };;;
    if (sub_19523( iParam0->_fU4 ))
    {
        SET_CAR_TRACTION( iParam0->_fU4, 2.00000000 );
    }
    if ((NOT (IS_CAR_ON_SCREEN( iParam0->_fU4 ))) AND (CHECK_STUCK_TIMER( iParam0->_fU4, 0, 5000 )))
    {
        SET_CAR_ON_GROUND_PROPERLY( iParam0->_fU4 );
    }
    sub_26628( iParam0 );
    iVar8 = 2;
    if (sub_15309( iParam0, 16 ))
    {
        iVar8 = 4;
    }
    bVar9 = false;
    GET_SCRIPT_TASK_STATUS( iParam0->_fU0, 49, ref iVar3 );
    fVar6 = sub_23806( iParam0 );
    uVar10 = nil;
    if (IS_CHAR_IN_ANY_CAR( iParam0->_fU8 ))
    {
        STORE_CAR_CHAR_IS_IN_NO_SAVE( iParam0->_fU8, ref uVar10 );
    }
    else if ((IS_CHAR_GETTING_IN_TO_A_CAR( sub_3952() )) AND (iParam0->_fU8 == sub_3952()))
    {
        GET_VEHICLE_PLAYER_WOULD_ENTER( sub_3898(), ref uVar10 );
    }
    if (IS_VEH_DRIVEABLE( uVar10 ))
    {
        GET_CAR_MODEL( uVar10, ref uVar11 );
        if (NOT ((IS_THIS_MODEL_A_CAR( uVar11 )) || (IS_THIS_MODEL_A_BIKE( uVar11 ))))
        {
            uVar10 = nil;
        }
    }
    if (IS_VEH_DRIVEABLE( uVar10 ))
    {
        if (PLAYER_IS_INTERACTING_WITH_GARAGE())
        {
            uVar12 = {sub_4026( sub_3952(), 1 )};
            if (GET_NTH_CLOSEST_CAR_NODE( uVar12._fU0, uVar12._fU4, uVar12._fU8, 5, ref uVar12._fU0, ref uVar12._fU4, ref uVar12._fU8 ))
            {
                return sub_33483( iParam0, uVar12 );
            }
            else
            {
                return sub_15417( iParam0 );
            }
        }
        GET_CHAR_SPEED( iParam0->_fU8, ref fVar5 );
        GET_CHAR_SPEED( iParam0->_fU0, ref fVar4 );
        fVar7 = 50.00000000;
        if ((fVar6 < 9.00000000) AND (fVar4 < 2.50000000))
        {
            return sub_15417( iParam0 );
        }
        else if (fVar6 < 15.00000000)
        {
            if (fVar6 < 1.50000000)
            {
                fVar7 = 0.00000000;
            }
            else if (fVar5 < 0.50000000)
            {
                return sub_15417( iParam0 );
            }
            else if (fVar5 < 4.00000000)
            {
                fVar7 = fVar5;
            }
            else
            {
                GET_MODEL_DIMENSIONS( uVar11, ref uVar15, ref uVar18 );
                if (iParam0->_fU8 != sub_3952())
                {
                    if ((fVar6 < 3.00000000) || (((iParam0->_fU40 == 3) AND (fVar6 < 5.00000000)) || ((iParam0->_fU40 == 2) AND (fVar6 < 6.00000000))))
                    {
                        fVar7 = fVar5 - 2.00000000;
                        if (iParam0->_fU40 == 2)
                        {
                            SET_CAR_LANE_SHIFT( iParam0->_fU4, 1.50000000 );
                        }
                    }
                    else
                    {
                        SET_CAR_LANE_SHIFT( iParam0->_fU4, 0.00000000 );
                    }
                }
                else if (sub_33964())
                {
                    if (fVar6 < 5.00000000)
                    {
                        fVar7 = fVar5 - 5.00000000;
                    }
                    else
                    {
                        fVar7 = fVar5;
                    }
                }
                else if ((fVar6 < (((ABSF( uVar15._fU4 )) + uVar18._fU0) + 2.50000000)) AND (IS_THIS_MODEL_A_CAR( uVar11 )))
                {
                    fVar7 = fVar5 - 2.00000000;
                }
                else if ((iParam0->_fU40 == 2) AND (fVar6 < 4.00000000))
                {
                    fVar7 = fVar5 - 5.00000000;
                }
                else if (fVar6 < 2.50000000)
                {
                    fVar7 = fVar5;
                };;;;;
            };;;
        }
        else if (((sub_19566( iParam0 )) >= l_U133) AND ((sub_15309( iParam0, 4 )) || (sub_24334( iParam0->_fU4 ))))
        {
            bVar9 = sub_34234( iParam0, l_U133, l_U134, fVar5 + 4.00000000 );
            if (bVar9)
            {
                if (sub_15309( iParam0, 128 ))
                {
                    TASK_CAR_MISSION_PED_TARGET_NOT_AGAINST_TRAFFIC( iParam0->_fU0, iParam0->_fU4, iParam0->_fU8, iParam0->_fU96, fVar5 + 6.00000000, iVar8, 12, -1 );
                }
                else
                {
                    TASK_CAR_MISSION_PED_TARGET( iParam0->_fU0, iParam0->_fU4, iParam0->_fU8, iParam0->_fU96, fVar5 + 6.00000000, iVar8, 12, -1 );
                }
                return 2;
            }
        };;;
        if (fVar7 < 0.00000000)
        {
            fVar7 = 0.00000000;
        }
        if (((NOT (iParam0->_fU12 == nil)) AND (iParam0->_fU8 != iParam0->_fU12)) || (((iParam0->_fU96 != 11) AND ((iParam0->_fU96 != 12) AND ((iParam0->_fU96 != 10) AND (iParam0->_fU96 != 7)))) || (((iParam0->_fU40 != 3) AND (iParam0->_fU96 == 7)) || (((iParam0->_fU40 != 1) AND (iParam0->_fU96 == 11)) || (((iParam0->_fU40 != 2) AND (iParam0->_fU96 == 12)) || (((iParam0->_fU40 != 0) AND (iParam0->_fU96 == 10)) || (iVar3 == 7)))))))
        {
            switch (iParam0->_fU40)
            {
                case 0:
                iParam0->_fU96 = 10;
                break;
                case 1:
                iParam0->_fU96 = 11;
                break;
                case 2:
                iParam0->_fU96 = 12;
                break;
                default:
                iParam0->_fU96 = 7;
                break;
            }
            if (sub_15309( iParam0, 128 ))
            {
                TASK_CAR_MISSION_PED_TARGET_NOT_AGAINST_TRAFFIC( iParam0->_fU0, iParam0->_fU4, iParam0->_fU8, iParam0->_fU96, fVar7, iVar8, 12, -1 );
            }
            else
            {
                TASK_CAR_MISSION_PED_TARGET( iParam0->_fU0, iParam0->_fU4, iParam0->_fU8, iParam0->_fU96, fVar7, iVar8, 12, -1 );
            }
            return 2;
        }
        SET_DRIVE_TASK_CRUISE_SPEED( iParam0->_fU0, fVar7 );
        return 2;
    }
    else
    {
        GET_CHAR_SPEED( iParam0->_fU0, ref fVar4 );
        if (fVar6 < 12.00000000)
        {
            return sub_15417( iParam0 );
        }
        else if (((NOT (iParam0->_fU12 == nil)) AND (iParam0->_fU8 != iParam0->_fU12)) || (((iParam0->_fU96 != 11) AND ((iParam0->_fU96 != 12) AND ((iParam0->_fU96 != 10) AND (iParam0->_fU96 != 7)))) || (((iParam0->_fU40 != 3) AND (iParam0->_fU96 == 7)) || (((iParam0->_fU40 != 1) AND (iParam0->_fU96 == 11)) || (((iParam0->_fU40 != 2) AND (iParam0->_fU96 == 12)) || (((iParam0->_fU40 != 0) AND (iParam0->_fU96 == 10)) || (iVar3 == 7)))))))
        {
            switch (iParam0->_fU40)
            {
                case 0:
                iParam0->_fU96 = 10;
                break;
                case 1:
                iParam0->_fU96 = 11;
                break;
                case 2:
                iParam0->_fU96 = 12;
                break;
                default:
                iParam0->_fU96 = 7;
                break;
            }
            if (sub_15309( iParam0, 128 ))
            {
                TASK_CAR_MISSION_PED_TARGET_NOT_AGAINST_TRAFFIC( iParam0->_fU0, iParam0->_fU4, iParam0->_fU8, iParam0->_fU96, iParam0->_fU28, iVar8, 12, -1 );
            }
            else
            {
                TASK_CAR_MISSION_PED_TARGET( iParam0->_fU0, iParam0->_fU4, iParam0->_fU8, iParam0->_fU96, iParam0->_fU28, iVar8, 12, -1 );
            }
        }
        fVar7 = fVar6;
        sub_35678( ref fVar7, 5.00000000, 50.00000000 );
        SET_DRIVE_TASK_CRUISE_SPEED( iParam0->_fU0, fVar7 );;
    }
    return 2;
}

void sub_33483(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown Result;

    uVar6 = {iParam0->_fU16};
    iParam0->_fU16 = {uParam1};
    uVar9 = iParam0->_fU88;
    sub_33525( iParam0, 64 );
    Result = sub_23709( iParam0 );
    iParam0->_fU16 = {uVar6};
    iParam0->_fU88 = uVar9;
    return Result;
}

void sub_33525(int iParam0, int iParam1)
{
    iParam0->_fU88 = (iParam1) || (iParam0->_fU88);
    if (iParam1 == 1)
    {
        if (NOT (IS_CHAR_INJURED( iParam0->_fU0 )))
        {
            SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( iParam0->_fU0, 1 );
        }
    }
    return;
}

boolean sub_33964()
{
    return (IS_CONTROL_PRESSED( 0, 45 )) || ((IS_CONTROL_PRESSED( 0, 44 )) || (IS_CONTROL_PRESSED( 0, 41 )));
}

int sub_34234(int iParam0, unknown uParam1, float fParam2, unknown uParam3)
{
    vector vVar6;
    vector vVar9;
    vector vVar12;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    float fVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;

    if (NOT (LOCATE_CHAR_ANY_MEANS_CAR_3D( iParam0->_fU8, iParam0->_fU4, uParam1, uParam1, uParam1, 0 )))
    {
        if (NOT (IS_CAR_ON_SCREEN( iParam0->_fU4 )))
        {
            GET_CAR_COORDINATES( iParam0->_fU4, ref vVar6.x, ref vVar6.y, ref vVar6.z );
            GET_CHAR_COORDINATES( iParam0->_fU8, ref vVar12.x, ref vVar12.y, ref vVar12.z );
            vVar9 = {vVar6 - vVar12};
            vVar9 = {vVar9 * ((fParam2 + (10.00000000 / 2)) / (VMAG( vVar9 )))};
            vVar9 = {vVar9 + vVar12};
            if (GET_CLOSEST_CAR_NODE_WITH_HEADING( vVar9.x, vVar9.y, vVar9.z, ref uVar15._fU0, ref uVar15._fU4, ref uVar15._fU8, ref uVar18 ))
            {
                if (NOT (IS_POINT_OBSCURED_BY_A_MISSION_ENTITY( uVar15._fU0, uVar15._fU4, uVar15._fU8, 4.00000000, 4.00000000, 4.00000000 )))
                {
                    GET_GAME_VIEWPORT_ID( ref uVar19 );
                    if (((VDIST2( uVar15, vVar6 )) > 9.00000000) AND (((VDIST( uVar15, sub_4026( sub_3952(), 1 ) )) > fParam2) AND (NOT (CAM_IS_SPHERE_VISIBLE( uVar19, uVar15._fU0, uVar15._fU4, uVar15._fU8, 6.00000000 )))))
                    {
                        uVar21 = {-SIN( uVar18 ), COS( uVar18 ), 0.00000000};
                        GET_ANGLE_BETWEEN_2D_VECTORS( uVar21._fU0, uVar21._fU4, vVar12.x - uVar15._fU0, vVar12.y - uVar15._fU4, ref fVar20 );
                        if (fVar20 > 90.00000000)
                        {
                            LIMIT_ANGLE( fVar20 + 180.00000000, ref fVar20 );
                            LIMIT_ANGLE( uVar18 + 180.00000000, ref uVar18 );
                        }
                        if ((fVar20 > 315.00000000) || (fVar20 < 45.00000000))
                        {
                            SET_CAR_HEADING( iParam0->_fU4, uVar18 );
                            SET_CAR_COORDINATES( iParam0->_fU4, uVar15._fU0, uVar15._fU4, uVar15._fU8 );
                            SET_CAR_FORWARD_SPEED( iParam0->_fU4, uParam3 );
                            return 1;
                        }
                    }
                }
            }
        }
    }
    return 0;
}

int sub_35678(unknown uParam0, float fParam1, float fParam2)
{
    float fVar5;

    if (fParam2 < fParam1)
    {
        fVar5 = fParam2;
        fParam2 = fParam1;
        fParam1 = fVar5;
    }
    if ((uParam0^) < fParam1)
    {
        (uParam0^) = fParam1;
        return 1;
    }
    else if ((uParam0^) > fParam2)
    {
        (uParam0^) = fParam2;
        return 1;
    }
    return 0;
}

void sub_37046(unknown uParam0)
{
    sub_24593( uParam0, 2 );
    return;
}

void sub_37131(int iParam0)
{
    if (PLAYER_IS_INTERACTING_WITH_GARAGE())
    {
        if (NOT (sub_15309( iParam0, 256 )))
        {
            if (DOES_CHAR_EXIST( iParam0->_fU0 ))
            {
                if (NOT (IS_CHAR_INJURED( iParam0->_fU0 )))
                {
                    if (IS_CHAR_VISIBLE( iParam0->_fU0 ))
                    {
                        if (NOT (sub_25944( sub_3952(), iParam0->_fU0, 1 )))
                        {
                            SET_CHAR_VISIBLE( iParam0->_fU0, 0 );
                            FREEZE_CHAR_POSITION( iParam0->_fU0, 1 );
                            if (NOT (IS_CHAR_IN_ANY_CAR( iParam0->_fU0 )))
                            {
                                SET_CHAR_COLLISION( iParam0->_fU0, 0 );
                            }
                        }
                    }
                }
            }
            if (NOT (IS_CAR_DEAD( iParam0->_fU4 )))
            {
                if (NOT (IS_CHAR_IN_CAR( sub_3952(), iParam0->_fU4 )))
                {
                    SET_CAR_VISIBLE( iParam0->_fU4, 0 );
                    FREEZE_CAR_POSITION( iParam0->_fU4, 1 );
                    SET_CAR_COLLISION( iParam0->_fU4, 0 );
                }
            }
            sub_33525( iParam0, 256 );
        }
    }
    else if (sub_15309( iParam0, 256 ))
    {
        if (DOES_CHAR_EXIST( iParam0->_fU0 ))
        {
            if (NOT (IS_CHAR_ON_SCREEN( iParam0->_fU0 )))
            {
                if (NOT (IS_CHAR_INJURED( iParam0->_fU0 )))
                {
                    if (NOT (IS_CHAR_VISIBLE( iParam0->_fU0 )))
                    {
                        SET_CHAR_VISIBLE( iParam0->_fU0, 1 );
                        FREEZE_CHAR_POSITION( iParam0->_fU0, 0 );
                        if (NOT (IS_CHAR_IN_ANY_CAR( iParam0->_fU0 )))
                        {
                            SET_CHAR_COLLISION( iParam0->_fU0, 1 );
                        }
                    }
                }
                if (NOT (IS_CAR_DEAD( iParam0->_fU4 )))
                {
                    SET_CAR_VISIBLE( iParam0->_fU4, 1 );
                    FREEZE_CAR_POSITION( iParam0->_fU4, 0 );
                    SET_CAR_COLLISION( iParam0->_fU4, 1 );
                }
                sub_37599( iParam0, 256 );
            }
        }
    }
    return;
}

void sub_37599(int iParam0, int iParam1)
{
    if (sub_15309( iParam0, iParam1 ))
    {
        iParam0->_fU88 = (iParam1) XOR (iParam0->_fU88);
    }
    if (iParam1 == 1)
    {
        if (NOT (IS_CHAR_INJURED( iParam0->_fU0 )))
        {
            SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( iParam0->_fU0, 0 );
        }
    }
    return;
}

int sub_37765(unknown uParam0, int iParam1)
{
    int Result;

    for ( Result = 0; Result < (uParam0^); Result++ )
    {
        if ((uParam0^)[Result]._fU0 == iParam1)
        {
            return Result;
        }
    }
    return -1;
}

void sub_38056()
{
    int I;
    int iVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;

    if (sub_38065())
    {
        if ((DOES_CHAR_EXIST( l_U3283[1]._fU0 )) AND (DOES_CHAR_EXIST( l_U3283[0]._fU0 )))
        {
            l_U3248 = 1;
        }
        for ( I = 0; I < 2; I++ )
        {
            sub_11443( ref l_U3283[I], 0 );
            if ((NOT l_U3248) AND ((DOES_CHAR_EXIST( g_U11081[I] )) AND (NOT (DOES_CHAR_EXIST( l_U3283[I]._fU0 )))))
            {
                if (I == 0)
                {
                    iVar3 = 1;
                }
                else
                {
                    iVar3 = 2;
                }
                sub_38265( iVar3 );
                if (sub_38298( iVar3 ))
                {
                    if (sub_38352( iVar3, ref g_U11028[I], ref l_U3283[I] ))
                    {
                        sub_24919( ref l_U3283[I], g_U11081[I] );
                        if (DOES_BLIP_EXIST( l_U3283[I]._fU100 ))
                        {
                            REMOVE_BLIP( l_U3283[I]._fU100 );
                        }
                        sub_37599( ref g_U11028[I], 1 );
                        sub_37599( ref l_U3283[I], 2 );
                        sub_37599( ref l_U3283[I], 1 );
                        SET_CHAR_HEALTH( l_U3283[I]._fU0, 500 );
                        SET_CHAR_RELATIONSHIP_GROUP( l_U3283[I]._fU0, 0 );
                        SET_CHAR_RELATIONSHIP( l_U3283[I]._fU0, 0, 0 );
                        SET_CHAR_RELATIONSHIP( l_U3283[I]._fU0, 5, 27 );
                        SET_COMBAT_DECISION_MAKER( l_U3283[I]._fU0, l_U3254 );
                        SET_CHAR_WILL_ONLY_FIRE_WITH_CLEAR_LOS( l_U3283[I]._fU0, 1 );
                        SET_CHAR_PROVIDE_COVERING_FIRE( l_U3283[I]._fU0, 1 );
                        SET_PED_FALL_OFF_BIKES_WHEN_SHOT( l_U3283[I]._fU0, 0 );
                        TASK_SET_IGNORE_WEAPON_RANGE_FLAG( l_U3283[I]._fU0, 1 );
                        SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( l_U3283[I]._fU0, 0 );
                        SET_CHAR_FIRE_DAMAGE_MULTIPLIER( l_U3283[I]._fU0, 3.00000000 );
                        SET_CHAR_WILL_DO_DRIVEBYS( l_U3283[I]._fU0, 1 );
                        GIVE_WEAPON_TO_CHAR( l_U3283[I]._fU0, 13, 30000, 1 );
                        SET_CHAR_CAN_BE_KNOCKED_OFF_BIKE( l_U3283[I]._fU0, 1 );
                        sub_4500( iVar3 );
                        sub_3508( ref l_U3283[I], ref uVar4, ref uVar5 );
                        if (NOT (IS_PED_IN_GROUP( uVar4 )))
                        {
                            GET_PED_GROUP_INDEX( g_U11081[I], ref uVar6 );
                            if (DOES_GROUP_EXIST( uVar6 ))
                            {
                                SET_GROUP_MEMBER( uVar6, uVar4 );
                            }
                            else
                            {
                                CREATE_GROUP( 0, ref uVar6, 1 );
                                SET_GROUP_LEADER( uVar6, g_U11081[I] );
                                SET_GROUP_MEMBER( uVar6, uVar4 );
                            }
                            SET_CHAR_NEVER_LEAVES_GROUP( uVar4, 1 );
                        }
                    }
                }
            }
            else if ((IS_CHAR_INJURED( l_U3283[I]._fU0 )) AND (DOES_CHAR_EXIST( l_U3283[I]._fU0 )))
            {
                sub_11490( I + 1 );
                l_U3247++;
                MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3283[I]._fU0 );
                l_U3283[I]._fU0 = nil;
            }
        }
    }
    else
    {
        for ( I = 0; I < 2; I++ )
        {
            if (DOES_CHAR_EXIST( l_U3283[I]._fU0 ))
            {
                sub_4275( ref l_U3283[I], 0 );
            }
        }
    }
    return;
}

int sub_38065()
{
    if ((GET_NUMBER_OF_INSTANCES_OF_STREAMED_SCRIPT( "ability_backup" )) > 0)
    {
        return 1;
    }
    return 0;
}

void sub_38265(unknown uParam0)
{
    REQUEST_MODEL( sub_4523( uParam0 ) );
    return;
}

void sub_38298(unknown uParam0)
{
    return HAS_MODEL_LOADED( sub_4523( uParam0 ) );
}

int sub_38352(unknown uParam0, int iParam1, int iParam2)
{
    int iVar5;

    if (NOT (sub_38298( uParam0 )))
    {
        sub_38265( uParam0 );
        PRINTSTRING( "CREATE_RECURRING_LOST_BIKER_AS_PASSENGER: Requesting recurring model...\n" );
        return 0;
    }
    iVar5 = -1;
    if (IS_VEH_DRIVEABLE( iParam1->_fU4 ))
    {
        iVar5 = sub_29196( iParam1->_fU4 );
    }
    else
    {
        PRINTSTRING( "CREATE_RECURRING_LOST_BIKER_AS_PASSENGER: Veh is not driveable!\n" );
    }
    if (iVar5 >= 0)
    {
        sub_38600( uParam0, iParam2 + 0, iParam1->_fU4, iVar5 );
        sub_40559( iParam2 );
        sub_24919( iParam2, iParam1->_fU0 );
        iParam2->_fU4 = iParam1->_fU4;
        iParam2->_fU88 = iParam1->_fU88;
        iParam2->_fU92 = uParam0;
        GIVE_PED_HELMET_WITH_OPTS( iParam2->_fU0, 1 );
        sub_4500( uParam0 );
        return 1;
    }
    else
    {
        PRINTSTRING( "CREATE_RECURRING_LOST_BIKER_AS_PASSENGER: No seats free!\n" );
    }
    sub_4500( uParam0 );
    return 0;
}

void sub_38600(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    int iVar6;

    CREATE_CHAR_AS_PASSENGER( uParam2, 9, sub_4523( uParam0 ), uParam3, uParam1 );
    SET_CHAR_RELATIONSHIP_GROUP( (uParam1^), 6 );
    iVar6 = sub_38646( uParam0, (uParam1^) );
    if (iVar6 == -1)
    {
        return;
    }
    g_U38937[iVar6]._fU4 = 1;
    g_U39102 = 1;
    return;
}

void sub_38646(unknown uParam0, unknown uParam1)
{
    int Result;
    unknown uVar5;

    Result = sub_4534( uParam0 );
    if (Result == -1)
    {
        return -1;
    }
    uVar5 = sub_38679( Result );
    switch (uVar5)
    {
        case 0:
        SET_AMBIENT_VOICE_NAME( uParam1, "M_Y_GLOST_01_FULL_01" );
        break;
        case 1:
        SET_AMBIENT_VOICE_NAME( uParam1, "M_Y_GLOST_01_GANG_01" );
        break;
        case 2:
        SET_AMBIENT_VOICE_NAME( uParam1, "M_Y_GLOST_02_FULL_01" );
        break;
        case 3:
        SET_AMBIENT_VOICE_NAME( uParam1, "M_Y_GLOST_02_GANG_01" );
        break;
        case 4:
        SET_AMBIENT_VOICE_NAME( uParam1, "M_Y_GLOST_03_FULL_01" );
        break;
        case 5:
        SET_AMBIENT_VOICE_NAME( uParam1, "M_Y_GLOST_03_GANG_01" );
        break;
        case 6:
        SET_AMBIENT_VOICE_NAME( uParam1, "M_Y_GLOST_04_FULL_01" );
        break;
        case 7:
        SET_AMBIENT_VOICE_NAME( uParam1, "M_Y_GLOST_04_GANG_01" );
        break;
        case 8:
        SET_AMBIENT_VOICE_NAME( uParam1, "M_Y_GLOST_05_FULL_01" );
        break;
        case 9:
        SET_AMBIENT_VOICE_NAME( uParam1, "M_Y_GLOST_05_GANG_01" );
        break;
        case 10:
        SET_AMBIENT_VOICE_NAME( uParam1, "M_Y_GLOST_06_FULL_01" );
        break;
        case 11:
        SET_AMBIENT_VOICE_NAME( uParam1, "M_Y_GLOST_06_GANG_01" );
        break;
    }
    sub_39406( ref uParam1 );
    sub_39490( uParam1, Result );
    return Result;
}

void sub_38679(unknown uParam0)
{
    int Result;

    Result = g_U38937[uParam0]._fU24;
    if (NOT (Result == -1))
    {
        return Result;
    }
    Result = sub_38718();
    g_U38937[uParam0]._fU24 = Result;
    return Result;
}

void sub_38718()
{
    int Result;
    int iVar3;
    int I;

    Result = g_U39029[0];
    iVar3 = 0;
    for ( I = 1; I < 12; I++ )
    {
        g_U39029[iVar3] = g_U39029[I];
        iVar3++;
    }
    g_U39029[iVar3] = -1;
    if (Result == -1)
    {
        Result = 0;
    }
    return Result;
}

void sub_39406(unknown uParam0)
{
    SET_CHAR_SUFFERS_CRITICAL_HITS( (uParam0^), 0 );
    SET_CHAR_CANT_BE_DRAGGED_OUT( (uParam0^), 1 );
    SET_CHAR_NEVER_TARGETTED( (uParam0^), 1 );
    SET_CHAR_MAX_TIME_IN_WATER( (uParam0^), 10.00000000 );
    SET_CHAR_MAX_TIME_UNDERWATER( (uParam0^), 10.00000000 );
    return;
}

void sub_39490(unknown uParam0, unknown uParam1)
{
    int iVar4;
    int iVar5;
    int iVar6;
    int iVar7;
    int iVar8;
    int iVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;

    iVar4 = g_U38937[uParam1]._fU12;
    iVar5 = FLOOR( 7.00000000 );
    if (iVar4 > iVar5)
    {
        iVar4 = iVar5;
    }
    iVar6 = iVar5 - iVar4;
    iVar7 = 200;
    if (iVar4 < iVar5)
    {
        if (iVar4 == 0)
        {
            iVar7 = 0;
        }
        else
        {
            iVar7 -= (200 / iVar5) * iVar6;
        }
    }
    iVar8 = 250 + iVar7;
    SET_CHAR_MAX_HEALTH( uParam0, iVar8 );
    SET_CHAR_HEALTH( uParam0, iVar8 );
    iVar9 = 50 + (5 * iVar4);
    if (iVar9 > 80)
    {
        iVar9 = 80;
    }
    SET_CHAR_ACCURACY( uParam0, iVar9 );
    PRINTSTRING( "................." );
    uVar10 = {sub_39698( uParam1 )};
    PRINTSTRING( GET_STRING_FROM_TEXT_FILE( ref uVar10 ) );
    PRINTSTRING( " campaigns: " );
    PRINTINT( iVar4 );
    PRINTSTRING( " ---> Health addition = " );
    PRINTINT( iVar7 );
    PRINTSTRING( " ---> Accuracy = " );
    PRINTINT( iVar9 );
    PRINTNL();
    return;
}

void sub_39698(int iParam0)
{
    char[16] Result;
    unknown uVar7;

    StrCopy( ref Result, "ERROR", 16 );
    if (iParam0 == -1)
    {
        return Result;
    }
    uVar7 = g_U38937[iParam0]._fU16;
    return sub_39750( uVar7 );
}

void sub_39750(int iParam0)
{
    int iVar3;
    char[16] Result;
    int iVar8;

    iVar3 = 30;
    StrCopy( ref Result, "RECLOST_", 16 );
    if ((iParam0 >= iVar3) || (iParam0 < 0))
    {
        SCRIPT_ASSERT( "Return_Recurring_Lost_Name_From_NameID: NameID out of range" );
        return Result;
    }
    iVar8 = iParam0;
    if (iVar8 >= 40)
    {
        SCRIPT_ASSERT( "Return_Recurring_Lost_Name_From_NameID: more than 40 Lost Member names?" );
        return Result;
    }
    if (iVar8 >= 30)
    {
        ConcatString(ref Result, "3", 16);
        iVar8 -= 30;
    }
    if (iVar8 >= 20)
    {
        ConcatString(ref Result, "2", 16);
        iVar8 -= 20;
    }
    if (iVar8 >= 10)
    {
        ConcatString(ref Result, "1", 16);
        iVar8 -= 10;
    }
    switch (iVar8)
    {
        case 0:
        ConcatString(ref Result, "0", 16);
        break;
        case 1:
        ConcatString(ref Result, "1", 16);
        break;
        case 2:
        ConcatString(ref Result, "2", 16);
        break;
        case 3:
        ConcatString(ref Result, "3", 16);
        break;
        case 4:
        ConcatString(ref Result, "4", 16);
        break;
        case 5:
        ConcatString(ref Result, "5", 16);
        break;
        case 6:
        ConcatString(ref Result, "6", 16);
        break;
        case 7:
        ConcatString(ref Result, "7", 16);
        break;
        case 8:
        ConcatString(ref Result, "8", 16);
        break;
        case 9:
        ConcatString(ref Result, "9", 16);
        break;
        default: SCRIPT_ASSERT( "Return_Recurring_Lost_Name_From_NameID: array position not in range 0 - 9" );
    }
    return Result;
}

void sub_40559(int iParam0)
{
    int iVar3;

    SET_CHAR_WILL_DO_DRIVEBYS( iParam0->_fU0, 1 );
    ENABLE_PED_HELMET( iParam0->_fU0, 0 );
    iVar3 = sub_11843( iParam0 + 0 );
    if (iVar3 == 1)
    {
        SET_CHAR_RELATIONSHIP_GROUP( iParam0->_fU0, 0 );
        SET_CHAR_RELATIONSHIP( iParam0->_fU0, 0, 0 );
        SET_CHAR_NEVER_TARGETTED( iParam0->_fU0, 1 );
    }
    else if (iVar3 == 3)
    {
        SET_CHAR_RELATIONSHIP_GROUP( iParam0->_fU0, 0 );
        SET_CHAR_RELATIONSHIP( iParam0->_fU0, 1, 0 );
    }
    else if (iVar3 == 2)
    {
        SET_CHAR_RELATIONSHIP_GROUP( iParam0->_fU0, sub_40716( iVar3 ) );
        SET_CHAR_AS_ENEMY( iParam0->_fU0, 1 );
    }
    else
    {
        SET_CHAR_RELATIONSHIP_GROUP( iParam0->_fU0, sub_40716( iVar3 ) );
    };;;
    SET_CHAR_PROOFS( iParam0->_fU0, 0, 0, 0, 1, 0 );
    SET_CHAR_WILL_USE_CARS_IN_COMBAT( iParam0->_fU0, 1 );
    SET_CHAR_WILL_LEAVE_CAR_IN_COMBAT( iParam0->_fU0, 0 );
    SET_PED_FALL_OFF_BIKES_WHEN_SHOT( iParam0->_fU0, 0 );
    iParam0->_fU8 = nil;
    iParam0->_fU12 = nil;
    iParam0->_fU92 = 0;
    iParam0->_fU16 = {0, 0, 0};
    iParam0->_fU28 = 18.00000000;
    iParam0->_fU32 = 0;
    iParam0->_fU36 = 4;
    iParam0->_fU40 = 2;
    iParam0->_fU88 = 12;
    iParam0->_fU96 = 5;
    if (iVar3 == 1)
    {
        if ((GET_NUMBER_OF_INSTANCES_OF_STREAMED_SCRIPT( "ability_backup" )) == 0)
        {
            sub_41003( iParam0 );
        }
        else if ((NOT (IS_CHAR_MODEL( iParam0->_fU0, sub_12358( 7 ) ))) AND (NOT (IS_CHAR_MODEL( iParam0->_fU0, sub_12358( 6 ) ))))
        {
            sub_41003( iParam0 );
        }
    }
    return;
}

int sub_40716(unknown uParam0)
{
    switch (uParam0)
    {
        case 1:
        return 6;
        break;
        case 2:
        return 5;
        break;
    }
    return 22;
}

void sub_41003(int iParam0)
{
    if (l_U151)
    {
        ADD_BLIP_FOR_CHAR( iParam0->_fU0, iParam0 + 100 );
        SET_BLIP_AS_FRIENDLY( iParam0->_fU100, 1 );
        CHANGE_BLIP_PRIORITY( iParam0->_fU100, 0 );
        SET_BLIP_AS_SHORT_RANGE( iParam0->_fU100, 1 );
        CHANGE_BLIP_SCALE( iParam0->_fU100, 0.50000000 );
        CHANGE_BLIP_DISPLAY( iParam0->_fU100, 5 );
    }
    return;
}

void sub_42250(unknown uParam0)
{
    while (IS_SCREEN_FADING_IN())
    {
        WAIT( 0 );
    }
    if ((NOT IS_SCREEN_FADING_OUT()) AND (NOT IS_SCREEN_FADED_OUT()))
    {
        DO_SCREEN_FADE_OUT( uParam0 );
        WAIT( 0 );
    }
    while (IS_SCREEN_FADING_OUT())
    {
        WAIT( 0 );
    }
    return;
}

void sub_42376()
{
    g_U10460 = 0;
    while (NOT (sub_42393( 1, 1 )))
    {
        WAIT( 0 );
    }
    ENABLE_SCENE_STREAMING( 0 );
    SET_CUTSCENE_EXTRA_ROOM_POS( -107.90000000, -265.40000000, 13.40000000 );
    LOAD_ADDITIONAL_TEXT( "E1R1AUD", 6 );
    START_CUTSCENE_NOW( "RB01_AA" );
    while (NOT HAS_CUTSCENE_LOADED())
    {
        WAIT( 0 );
    }
    while (NOT HAS_CUTSCENE_FINISHED())
    {
        WAIT( 0 );
    }
    ENABLE_SCENE_STREAMING( 1 );
    CLEAR_NAMED_CUTSCENE( "RB01_AA" );
    return;
}

int sub_42393(unknown uParam0, boolean bParam1)
{
    unknown uVar4;
    float fVar5;
    unknown uVar6;

    if (bParam1)
    {
        if (IS_CHAR_IN_ANY_CAR( sub_3952() ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_3952(), ref uVar6 );
            if (NOT (IS_CAR_DEAD( uVar6 )))
            {
                GET_CAR_MODEL( uVar6, ref uVar4 );
                if (IS_THIS_MODEL_A_BIKE( uVar4 ))
                {
                    GET_CAR_UPRIGHT_VALUE( uVar6, ref fVar5 );
                    if (fVar5 < 0.80000000)
                    {
                        return 0;
                    }
                    else
                    {
                        bParam1 = false;
                    }
                }
            }
        }
    }
    if (sub_42517( uParam0, bParam1 ))
    {
        return 1;
    }
    return 0;
}

int sub_42517(boolean bParam0, boolean bParam1)
{
    unknown uVar4;
    int iVar5;
    float fVar6;

    if (IS_MINIGAME_IN_PROGRESS())
    {
        return 0;
    }
    if (bParam1)
    {
        if (IS_CHAR_IN_ANY_CAR( sub_3952() ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_3952(), ref uVar4 );
            if (NOT (IS_CAR_DEAD( uVar4 )))
            {
                GET_CAR_UPRIGHT_VALUE( uVar4, ref fVar6 );
                if ((fVar6 > 1.01100000) || (fVar6 < 0.95000000))
                {
                    return 0;
                }
            }
        }
    }
    if (bParam0)
    {
        if (IS_CHAR_IN_ANY_CAR( sub_3952() ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_3952(), ref uVar4 );
            if (NOT (IS_CAR_DEAD( uVar4 )))
            {
                GET_DRIVER_OF_CAR( uVar4, ref iVar5 );
                if (NOT (iVar5 == sub_3952()))
                {
                    return 0;
                }
            }
        }
    }
    if (IS_CHAR_IN_ANY_CAR( sub_3952() ))
    {
        if (NOT (IS_CHAR_SITTING_IN_ANY_CAR( sub_3952() )))
        {
            return 0;
        }
    }
    if (NOT (IS_PLAYER_READY_FOR_CUTSCENE( sub_3898() )))
    {
        return 0;
    }
    if (NOT (CAN_PLAYER_START_MISSION( sub_3898() )))
    {
        return 0;
    }
    return 1;
}

void sub_42991()
{
    REGISTER_SCRIPT_WITH_AUDIO( 0 );
    REQUEST_ANIMS( "MISSRAYB_1" );
    while (NOT (HAVE_ANIMS_LOADED( "MISSRAYB_1" )))
    {
        WAIT( 0 );
    }
    ADD_SCENARIO_BLOCKING_AREA( 654.53010000, -372.51000000, 0.24000000, 813.45000000, -99.21000000, 6.67000000 );
    if (g_U39149[16] == 0)
    {
        if (g_U15728[29])
        {
            while (NOT (sub_43162( ref l_U3272, -126.63160000, -257.29290000, 11.52550000, 1.66370000 )))
            {
                WAIT( 0 );
            }
        }
        else
        {
            while (NOT (sub_43428( ref l_U3272, -126.63160000, -257.29290000, 11.52550000, 1.66370000 )))
            {
                WAIT( 0 );
            }
        }
        SET_CAN_BURST_CAR_TYRES( l_U3272, 0 );
        SET_CHAR_COORDINATES( sub_3952(), -124.15200000, -257.40700000, 11.68380000 );
        SET_CHAR_HEADING( sub_3952(), 90.00000000 );
        CLEAR_CHAR_TASKS_IMMEDIATELY( sub_3952() );
        WARP_CHAR_INTO_CAR( sub_3952(), l_U3272 );
        SET_CAR_ENGINE_ON( l_U3272, 1, 1 );
        SET_CAM_BEHIND_PED( sub_3952() );
        SET_GAME_CAM_HEADING( 0.00000000 );
    }
    if (g_U39149[16] == 1)
    {
        if (g_U15728[29])
        {
            while (NOT (sub_43162( ref l_U3272, -126.63160000, -257.29290000, 11.52550000, 1.66370000 )))
            {
                WAIT( 0 );
            }
        }
        else
        {
            while (NOT (sub_43428( ref l_U3272, -126.63160000, -257.29290000, 11.52550000, 1.66370000 )))
            {
                WAIT( 0 );
            }
        }
        SET_CAN_BURST_CAR_TYRES( l_U3272, 0 );
        SET_CHAR_COORDINATES( sub_3952(), 787.03810000, -246.32060000, 14.30240000 );
        SET_CHAR_HEADING( sub_3952(), 155.79830000 );
        CLEAR_CHAR_TASKS_IMMEDIATELY( sub_3952() );
        WARP_CHAR_INTO_CAR( sub_3952(), l_U3272 );
        SET_CAM_BEHIND_PED( sub_3952() );
        SET_GAME_CAM_HEADING( 0.00000000 );
    }
    sub_44028( 0, sub_3952(), "JOHNNY", 0 );
    sub_44195( ref l_U3531[0], l_U3203, 0.00000000 );
    sub_44195( ref l_U3531[1], l_U3206, 0.00000000 );
    sub_44195( ref l_U3531[2], l_U3209, 0.00000000 );
    sub_44195( ref l_U3531[3], l_U3212, 0.00000000 );
    CREATE_PICKUP_ROTATE( -1758615024, 22, 200, -174.81600000, -294.63900000, 11.83600000, -14.40000000, 7.20000000, 455.04000000, ref l_U3531[0]._fU28 );
    g_U2771 = 1;
    return;
}

void sub_43162(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    unknown uVar7;

    uVar7 = sub_43171();
    return sub_43205( uParam0, uVar7, uParam1, uParam4, 9 );
}

int sub_43171()
{
    return 802082487;
}

int sub_43205(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
    SUPPRESS_CAR_MODEL( uParam1 );
    REQUEST_MODEL( uParam1 );
    if (NOT (HAS_MODEL_LOADED( uParam1 )))
    {
        REQUEST_MODEL( uParam1 );
        return 0;
    }
    CLEAR_AREA( uParam2._fU0, uParam2._fU4, uParam2._fU8, 5.00000000, 0 );
    CREATE_CAR( uParam1, uParam2._fU0, uParam2._fU4, uParam2._fU8, uParam0, 1 );
    SET_CAR_HEADING( (uParam0^), uParam5 );
    SET_CAR_ON_GROUND_PROPERLY( (uParam0^) );
    sub_30497( (uParam0^), uParam1, uParam6 );
    if (g_U1)
    {
        MARK_MODEL_AS_NO_LONGER_NEEDED( uParam1 );
    }
    return 1;
}

int sub_43428(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    unknown uVar7;

    uVar7 = sub_12829();
    SUPPRESS_CAR_MODEL( uVar7 );
    REQUEST_MODEL( uVar7 );
    if (NOT (HAS_MODEL_LOADED( uVar7 )))
    {
        REQUEST_MODEL( uVar7 );
        return 0;
    }
    CLEAR_AREA( uParam1._fU0, uParam1._fU4, uParam1._fU8, 5.00000000, 0 );
    CREATE_CAR( uVar7, uParam1._fU0, uParam1._fU4, uParam1._fU8, uParam0, 1 );
    SET_CAR_HEADING( (uParam0^), uParam4 );
    SET_CAR_ON_GROUND_PROPERLY( (uParam0^) );
    sub_30497( (uParam0^), uVar7, 9 );
    SET_HAS_BEEN_OWNED_BY_PLAYER( (uParam0^), 1 );
    SET_CAN_BURST_CAR_TYRES( (uParam0^), 0 );
    if (g_U1)
    {
        MARK_MODEL_AS_NO_LONGER_NEEDED( uVar7 );
    }
    return 1;
}

void sub_44028(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    l_U34._fU16[uParam0]._fU0 = uParam1;
    StrCopy( ref l_U34._fU16[uParam0]._fU4, uParam2, 32 );
    if (NOT (IS_CHAR_INJURED( uParam1 )))
    {
        BLOCK_CHAR_AMBIENT_ANIMS( uParam1, uParam3 );
    }
    sub_44112( "\n PED NUMBER ", uParam0 );
    sub_44152( " ADDED WITH VOICE ", uParam2 );
    return;
}

void sub_44112(unknown uParam0, unknown uParam1)
{
    return;
}

void sub_44152(unknown uParam0, unknown uParam1)
{
    return;
}

void sub_44195(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    iParam0->_fU24 = 0;
    iParam0->_fU0 = {uParam1};
    iParam0->_fU12 = uParam4;
    if (DOES_BLIP_EXIST( iParam0->_fU20 ))
    {
        REMOVE_BLIP( iParam0->_fU20 );
    }
    return;
}

void sub_44477(unknown uParam0)
{
    while (IS_SCREEN_FADING_OUT())
    {
        WAIT( 0 );
    }
    if ((NOT IS_SCREEN_FADING_IN()) AND (NOT IS_SCREEN_FADED_IN()))
    {
        DO_SCREEN_FADE_IN( uParam0 );
        WAIT( 0 );
    }
    while (IS_SCREEN_FADING_IN())
    {
        WAIT( 0 );
    }
    return;
}

void sub_44607(unknown uParam0, unknown uParam1, unknown uParam2)
{
    char[12] cVar5;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown[2] uVar14;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;

    array(ref cVar5, 2);
    StrCopy( ref cVar5[0], uParam1, 16 );
    StrCopy( ref cVar5[1], "END", 16 );
    array(ref uVar14, 2);
    return sub_44665( uParam0, ref cVar5, uParam2, 0, ref uVar14, ref uVar14, "", 0, 1, 2, 1, 0, 0, 0 );
}

int sub_44665(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, boolean bParam8, unknown uParam9, unknown uParam10, boolean bParam11, unknown uParam12, unknown uParam13)
{
    int I;

    if (g_U94._fU540)
    {
        return 0;
    }
    sub_16210( "\n SETUP_AUDIO_PHONE_CALL has been called" );
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        if (g_U8944 >= 6)
        {
            sub_16210( "\n scripted conversation is ongoing and priority is high" );
            return 0;
        }
    }
    if (NOT (IS_PLAYER_PLAYING( sub_3898() )))
    {
        sub_16210( "\n player is not playing" );
        return 0;
    }
    if ((NOT (IS_CHAR_SITTING_IN_ANY_CAR( sub_3952() ))) AND (IS_CHAR_IN_ANY_CAR( sub_3952() )))
    {
        sub_16210( "\n player is in middle of getting in/out of a car" );
        return 0;
    }
    switch (g_U8946)
    {
        case 4:
        case 1:
        case 2:
        sub_16210( "\n speechControlStatus = SPEECH_CONTROL_STREAMING_MOBILE OR speechControlStatus = SPEECH_CONTROL_STREAMING_CONVERSATION" );
        return 0;
        break;
    }
    switch (uParam9)
    {
        case 0:
        if ((NOT bParam11) AND (NOT sub_45180()))
        {
            return 0;
        }
        g_U94._fU60 = uParam0;
        g_U94._fU48 = 1;
        g_U15862[g_U94._fU60]._fU196._fU24 = 0;
        break;
        case 1:
        if (g_U94._fU368)
        {
            if ((NOT bParam8) || (g_U94._fU372))
            {
                sub_16210( "\n cellphone3Dstructure.missionAnsweredPhone OR (NOT missionCall)" );
                return 0;
            }
        }
        if (g_U94._fU60 != -1)
        {
            if ((g_U15862[g_U94._fU60]._fU196._fU24 != 4) AND (g_U15862[g_U94._fU60]._fU196._fU24 != 5))
            {
                g_U15862[g_U94._fU60]._fU196._fU24 = 0;
            }
        }
        g_U94._fU368 = 1;
        g_U94._fU372 = bParam8;
        uParam0 = g_U94._fU60;
        break;
        case 2:
        if ((NOT bParam11) AND (NOT sub_45180()))
        {
            return 0;
        }
        g_U94._fU60 = uParam0;
        g_U94._fU52 = 1;
        g_U94._fU56 = 1;
        g_U94._fU372 = 1;
        g_U94._fU368 = 1;
        g_U15862[g_U94._fU60]._fU196._fU24 = 0;
        break;
    }
    if (IS_SCRIPTED_CONVERSATION_ONGOING())
    {
        ABORT_SCRIPTED_CONVERSATION( 0 );
    }
    sub_46552( uParam0, ref g_U94._fU176 );
    sub_46948( ref g_U94._fU160 );
    g_U94._fU380 = uParam10;
    g_U94._fU376 = bParam11;
    g_U94._fU420 = uParam12;
    g_U94._fU424 = -1;
    g_U94._fU364 = uParam3;
    StrCopy( ref g_U94._fU144, uParam2, 16 );
    for ( I = 0; I <= (g_U9051 - 1); I++ )
    {
        StrCopy( ref g_U9051[I], "END", 16 );
    }
    for ( I = 0; I <= ((uParam1^) - 1); I++ )
    {
        g_U9051[I] = {(uParam1^)[I]};
        sub_44152( "\n Telling phone we want to play these labels ", ref (uParam1^)[I] );
    }
    for ( I = 0; I <= (g_U94._fU260 - 1); I++ )
    {
        if (I < (uParam4^))
        {
            g_U94._fU260[I] = {(uParam4^)[I]};
        }
        else
        {
            StrCopy( ref g_U94._fU260[I], "", 16 );
        }
    }
    for ( I = 0; I <= (g_U94._fU312 - 1); I++ )
    {
        if (I < (uParam5^))
        {
            g_U94._fU312[I] = {(uParam5^)[I]};
        }
        else
        {
            StrCopy( ref g_U94._fU312[I], "", 16 );
        }
    }
    StrCopy( ref g_U94._fU208, uParam6, 16 );
    g_U94._fU80 = uParam7;
    g_U94._fU384 = 0;
    g_U94._fU532 = uParam13;
    g_U8946 = 4;
    return 1;
}

int sub_45180()
{
    if ((g_U94._fU52) || (g_U94._fU48))
    {
        return 0;
    }
    if (g_U94._fU40 == 0)
    {
        return 0;
    }
    if (NOT sub_45237())
    {
        return 0;
    }
    if (g_U558 == 1)
    {
        return 0;
    }
    return 1;
}

int sub_45237()
{
    boolean bVar2;
    unknown uVar3;

    bVar2 = false;
    if (NOT (IS_PLAYER_PLAYING( sub_3898() )))
    {
        sub_16210( "\n PHONE SCREEN CHECK - player is not playing." );
        return 0;
    }
    if (NETWORK_HAVE_SUMMONS())
    {
        sub_16210( "\n PHONE SCREEN CHECK - player has been summoned into another session." );
        return 0;
    }
    if (g_U94._fU376)
    {
        sub_16210( "\n PHONE CHECK - .cellphone3Dstructure.overrideCellphoneChecks is returning TRUE" );
        return 1;
    }
    if ((g_U94._fU104) || (g_U94._fU100))
    {
        sub_16210( "\n PHONE CHECK - .hideCellphone OR .disableCellphone are returning TRUE." );
        return 0;
    }
    if (NOT (IS_PLAYER_FREE_FOR_AMBIENT_TASK( sub_3898() )))
    {
        if (NOT (IS_CHAR_IN_ANY_CAR( sub_3952() )))
        {
            GET_SCRIPT_TASK_STATUS( sub_3952(), 53, ref uVar3 );
            switch (uVar3)
            {
                case 7:
                case 2:
                sub_16210( "\n PHONE CHECK - player is not free for an ambient task and is not in a car)" );
                return 0;
                break;
                default:
                if (NOT (IS_CHAR_IN_WATER( sub_3952() )))
                {
                    bVar2 = true;
                }
                else
                {
                    sub_16210( "\n PHONE CHECK - player is in water" );
                    return 0;
                }
                break;
            }
        }
    }
    if ((NOT bVar2) AND (CODE_WANTS_MOBILE_PHONE_REMOVED()))
    {
        sub_16210( "\n PHONE CHECK - CODE_WANTS_MOBILE_PHONE_REMOVED() is returning TRUE." );
        return 0;
    }
    if (NOT (IS_PLAYER_SCRIPT_CONTROL_ON( sub_3898() )))
    {
        sub_16210( "\n PHONE CHECK - IS_PLAYER_SCRIPT_CONTROL_ON is returning FALSE." );
        return 0;
    }
    return 1;
}

void sub_46552(unknown uParam0, unknown uParam1)
{
    switch (uParam0)
    {
        case 0:
        StrCopy( (uParam1^), "BILLY", 32 );
        break;
        case 1:
        StrCopy( (uParam1^), "JIM", 32 );
        break;
        case 2:
        StrCopy( (uParam1^), "STUBBS", 32 );
        break;
        case 3:
        StrCopy( (uParam1^), "ASHLEY", 32 );
        break;
        case 4:
        StrCopy( (uParam1^), "ELIZABETA", 32 );
        break;
        case 5:
        StrCopy( (uParam1^), "RAY", 32 );
        break;
        case 6:
        StrCopy( (uParam1^), "TERRY", 32 );
        break;
        case 7:
        StrCopy( (uParam1^), "CLAY", 32 );
        break;
        case 8:
        StrCopy( (uParam1^), "ANGUS", 32 );
        break;
        case 13:
        StrCopy( (uParam1^), "BRIAN", 32 );
        break;
        case 15:
        StrCopy( (uParam1^), "MALC", 32 );
        break;
        case 18:
        StrCopy( (uParam1^), "BERNIE", 32 );
        break;
        case 12:
        StrCopy( (uParam1^), "LAZLOW", 32 );
        break;
        case 11:
        StrCopy( (uParam1^), "FED", 32 );
        break;
        default:
        StrCopy( (uParam1^), "", 32 );
        break;
    }
    return;
}

void sub_46948(unknown uParam0)
{
    StrCopy( (uParam0^), "JOHNNY", 16 );
    return;
}

void sub_47489()
{
    int I;

    sub_38265( 1 );
    sub_38265( 2 );
    sub_38265( 3 );
    sub_38265( 4 );
    sub_38265( 5 );
    REQUEST_MODEL( l_U3280 );
    while ((NOT (HAS_MODEL_LOADED( l_U3280 ))) || ((NOT (sub_38298( 5 ))) || ((NOT (sub_38298( 4 ))) || ((NOT (sub_38298( 3 ))) || ((NOT (sub_38298( 2 ))) || (NOT (sub_38298( 1 ))))))))
    {
        WAIT( 0 );
    }
    while (NOT (sub_47700( 1, 213.44000000 + (sub_47628( -1.00000000, 1.00000000 )), -415.88000000 + (sub_47628( -0.50000000, 0.50000000 )), 14.00000000, 270.28030000, ref l_U3336[0] )))
    {
        WAIT( 0 );
        PRINTSTRING( "model 1" );
    }
    while (NOT (sub_47700( 2, 212.44000000 + (sub_47628( -1.00000000, 1.00000000 )), -418.88000000 + (sub_47628( -0.50000000, 0.50000000 )), 14.00000000, 270.28030000, ref l_U3336[1] )))
    {
        WAIT( 0 );
        PRINTSTRING( "model 2" );
    }
    while (NOT (sub_47700( 3, 213.44000000 + (sub_47628( -1.00000000, 1.00000000 )), -414.88000000 + (sub_47628( -0.50000000, 0.50000000 )), 14.00000000, 270.28030000, ref l_U3336[2] )))
    {
        WAIT( 0 );
        PRINTSTRING( "model 3" );
    }
    while (NOT (sub_47700( 4, 207.44000000 + (sub_47628( -1.00000000, 1.00000000 )), -414.88000000 + (sub_47628( -0.50000000, 0.50000000 )), 14.00000000, 270.28030000, ref l_U3336[3] )))
    {
        WAIT( 0 );
        PRINTSTRING( "model 4" );
    }
    while (NOT (sub_47700( 5, 207.44000000 + (sub_47628( -1.00000000, 1.00000000 )), -418.88000000 + (sub_47628( -0.50000000, 0.50000000 )), 14.00000000, 270.28030000, ref l_U3336[4] )))
    {
        WAIT( 0 );
        PRINTSTRING( "model 5" );
    }
    for ( I = 0; I < l_U3336; I++ )
    {
        if (DOES_VEHICLE_EXIST( l_U3336[I]._fU4 ))
        {
            SET_LOAD_COLLISION_FOR_CAR_FLAG( l_U3336[I]._fU4, 1 );
            SET_CAR_ON_GROUND_PROPERLY( l_U3336[I]._fU4 );
        }
    }
    sub_48465( ref l_U3336[1], l_U3280, ref l_U3336[5] );
    sub_48465( ref l_U3336[4], l_U3280, ref l_U3336[6] );
    PRINTSTRING( "created passengers" );
    sub_48902( ref l_U3336, 1 );
    sub_44028( 2, l_U3336[0]._fU0, "LOST_1", 0 );
    sub_24919( ref l_U3336[1], l_U3336[0]._fU0 );
    l_U3336[1]._fU40 = 0;
    sub_24919( ref l_U3336[2], l_U3336[0]._fU0 );
    l_U3336[2]._fU40 = 1;
    sub_24919( ref l_U3336[3], l_U3336[1]._fU0 );
    l_U3336[3]._fU40 = 2;
    sub_24919( ref l_U3336[4], l_U3336[2]._fU0 );
    l_U3336[4]._fU40 = 2;
    for ( I = 0; I < l_U3336; I++ )
    {
        if (NOT (IS_CHAR_INJURED( l_U3336[I]._fU0 )))
        {
            SET_CHAR_ONLY_DAMAGED_BY_PLAYER( l_U3336[I]._fU0, 1 );
        }
        if (IS_VEH_DRIVEABLE( l_U3336[I]._fU4 ))
        {
            SET_CAR_ONLY_DAMAGED_BY_PLAYER( l_U3336[I]._fU4, 1 );
        }
    }
    MARK_MODEL_AS_NO_LONGER_NEEDED( l_U3279 );
    MARK_MODEL_AS_NO_LONGER_NEEDED( l_U3280 );
    MARK_MODEL_AS_NO_LONGER_NEEDED( l_U3281 );
    MARK_MODEL_AS_NO_LONGER_NEEDED( l_U3282 );
    return;
}

void sub_47628(unknown uParam0, unknown uParam1)
{
    unknown Result;

    GENERATE_RANDOM_FLOAT_IN_RANGE( uParam0, uParam1, ref Result );
    return Result;
}

int sub_47700(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, int iParam5)
{
    if (NOT (sub_38298( uParam0 )))
    {
        sub_38265( uParam0 );
        return 0;
    }
    if (NOT (sub_43162( iParam5 + 4, uParam1, uParam4 )))
    {
        return 0;
    }
    sub_47768( uParam0, iParam5 + 0, iParam5->_fU4 );
    sub_40559( iParam5 );
    GIVE_PED_HELMET_WITH_OPTS( iParam5->_fU0, 1 );
    iParam5->_fU92 = uParam0;
    sub_4500( uParam0 );
    return 1;
}

void sub_47768(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int iVar5;

    CREATE_CHAR_INSIDE_CAR( uParam2, 9, sub_4523( uParam0 ), uParam1 );
    SET_CHAR_RELATIONSHIP_GROUP( (uParam1^), 6 );
    iVar5 = sub_38646( uParam0, (uParam1^) );
    if (iVar5 == -1)
    {
        return;
    }
    g_U38937[iVar5]._fU4 = 1;
    g_U39102 = 1;
    return;
}

void sub_48465(int iParam0, unknown uParam1, int iParam2)
{
    int iVar5;
    vector vVar6;

    if (IS_CHAR_INJURED( iParam0->_fU0 ))
    {
        ;
    }
    else if (NOT (IS_VEH_DRIVEABLE( iParam0->_fU4 )))
    {
        ;
    }
    else
    {
        iVar5 = -1;
        if (IS_VEH_DRIVEABLE( iParam0->_fU4 ))
        {
            iVar5 = sub_29196( iParam0->_fU4 );
        }
        if (iVar5 >= 0)
        {
            vVar6 = {sub_9097( iParam0->_fU4, 1 )};
            sub_48602( vVar6 + (vector( 0.00000000, 0.00000000, 2.00000000)), 0.00000000, uParam1, iParam2 );
            WARP_CHAR_INTO_CAR_AS_PASSENGER( iParam2->_fU0, iParam0->_fU4, iVar5 );
            sub_24919( iParam2, iParam0->_fU0 );
            iParam2->_fU4 = iParam0->_fU4;
            iParam2->_fU88 = iParam0->_fU88;
            GIVE_PED_HELMET_WITH_OPTS( iParam2->_fU0, 1 );
            return;
        }
        else
        {
            return;
        }
    }
    return;
}

void sub_48602(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, int iParam5)
{
    CREATE_CHAR( sub_48617( sub_11883( ref uParam4 ) ), uParam4, uParam0._fU0, uParam0._fU4, uParam0._fU8, iParam5 + 0, 1 );
    SET_CHAR_HEADING( iParam5->_fU0, uParam3 );
    SET_CHAR_RANDOM_COMPONENT_VARIATION( iParam5->_fU0 );
    SET_CHAR_WILL_USE_CARS_IN_COMBAT( iParam5->_fU0, 1 );
    sub_40559( iParam5 );
    return;
}

int sub_48617(unknown uParam0)
{
    switch (uParam0)
    {
        case 1:
        return 9;
        break;
        case 2:
        return 8;
        break;
    }
    return 25;
}

void sub_48902(unknown uParam0, unknown uParam1)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
        sub_48933( ref (uParam0^)[I], uParam1 );
    }
    return;
}

void sub_48933(int iParam0, unknown uParam1)
{
    if (NOT (IS_CHAR_INJURED( iParam0->_fU0 )))
    {
        SET_CHAR_CAN_BE_KNOCKED_OFF_BIKE( iParam0->_fU0, uParam1 );
    }
    return;
}

void sub_49379()
{
    unknown uVar2;
    char[12] cVar3;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    boolean bVar15;
    int I;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    array(ref cVar3, 2);
    if (l_U3238 == 0)
    {
        if (sub_49405( 1 ))
        {
            if (NOT (IS_CAR_DEAD( l_U3272 )))
            {
                if (IS_CHAR_IN_CAR( sub_3952(), l_U3272 ))
                {
                    PRINT_NOW( "R1_MEET", 7500, 0 );
                    l_U3238 = 1;
                    SETTIMERA( 0 );
                }
            }
        }
    }
    else if ((NOT l_U3246) AND (TIMERA() > 4000))
    {
        sub_49774();
        l_U3246 = 1;
    }
    bVar15 = false;
    for ( I = 0; I < l_U3336; I++ )
    {
        if (IS_CHAR_DEAD( l_U3336[I]._fU0 ))
        {
            bVar15 = true;
        }
    }
    if (bVar15)
    {
        l_U3172 = 15;
        REMOVE_BLIP( l_U3174 );
        if (NOT (sub_49405( 0 )))
        {
            sub_51222( 1 );
        }
        sub_9777();
    }
    else if ((sub_51433( l_U3272 )) || (NOT (IS_VEH_DRIVEABLE( l_U3272 ))))
    {
        REMOVE_BLIP( l_U3273 );
        REMOVE_BLIP( l_U3174 );
        if (NOT (sub_49405( 0 )))
        {
            sub_51222( 1 );
        }
        CLEAR_PRINTS();
        l_U3172 = 13;
    }
    else if (sub_52917( l_U3272 ))
    {
        REMOVE_BLIP( l_U3273 );
        REMOVE_BLIP( l_U3174 );
        if (NOT (sub_49405( 0 )))
        {
            sub_51222( 1 );
        }
        CLEAR_PRINTS();
        l_U3172 = 14;
    }
    else
    {
        GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( l_U3336[0]._fU0, 0.00000000, 9.00000000, 0.00000000, ref uVar17._fU0, ref uVar17._fU4, ref uVar17._fU8 );
        if (sub_49405( 1 ))
        {
            if (l_U3233 == 0)
            {
                if (NOT (IS_CAR_DEAD( l_U3272 )))
                {
                    if (NOT (IS_CHAR_IN_CAR( sub_3952(), l_U3272 )))
                    {
                        PRINT_NOW( "R1_BIKE", 7500, 0 );
                        l_U3233 = 1;
                    }
                }
            }
        }
        switch (sub_53341( ref l_U3272, ref l_U3273, "", "" ))
        {
            case 4: break;
            case 5:
            REMOVE_BLIP( l_U3174 );
            break;
            case 2:
            if (NOT l_U3239)
            {
                if ((IS_CHAR_ON_SCREEN( l_U3336[0]._fU0 )) AND ((LOCATE_CHAR_ANY_MEANS_CHAR_3D( sub_3952(), l_U3336[0]._fU0, 80.00000000, 80.00000000, 1.00000000, 0 )) || (LOCATE_CHAR_ANY_MEANS_CHAR_3D( sub_3952(), l_U3336[0]._fU0, 245.00000000, 45.00000000, 1.00000000, 0 ))))
                {
                    REMOVE_BLIP( l_U3174 );
                    sub_53829( 6 );
                    l_U3239 = 1;
                    sub_53883( ref l_U3336[0], 999.96020000, -320.31800000, 20.10350000, 3 );
                    sub_54280( ref l_U3336[0], 5.00000000 );
                    for ( I = 0; I < l_U3336; I++ )
                    {
                        if ((IS_VEH_DRIVEABLE( l_U3336[I]._fU4 )) AND (NOT (IS_CHAR_INJURED( l_U3336[I]._fU0 ))))
                        {
                            if (sub_8750( l_U3336[I]._fU0, l_U3336[I]._fU4 ))
                            {
                                TASK_CAR_TEMP_ACTION( l_U3336[I]._fU0, l_U3336[I]._fU4, 9, 2000 );
                            }
                        }
                    }
                    l_U3237 = 1;
                }
            }
            if (NOT (DOES_BLIP_EXIST( l_U3174 )))
            {
                if (((sub_54486() == 4) AND (NOT (sub_49405( 1 )))) || (sub_49405( 1 )))
                {
                    if (l_U3239)
                    {
                        ADD_BLIP_FOR_CHAR( sub_54536( ref l_U3336[0] ), ref l_U3174 );
                        SET_BLIP_AS_FRIENDLY( l_U3174, 1 );
                    }
                    else
                    {
                        uVar12 = {sub_4026( l_U3336[0]._fU0, 1 )};
                        ADD_BLIP_FOR_COORD( uVar12._fU0, uVar12._fU4, uVar12._fU8, ref l_U3174 );
                        SET_ROUTE( l_U3174, 1 );
                        if (NOT (sub_49405( 1 )))
                        {
                            FLASH_BLIP( l_U3174, 1 );
                        }
                        CHANGE_BLIP_COLOUR( l_U3174, 3 );
                    }
                }
            }
            else if (sub_49405( 1 ))
            {
                FLASH_BLIP( l_U3174, 0 );
            }
            if ((IS_KEYBOARD_KEY_JUST_PRESSED( 36 )) || ((VDIST( uVar17, sub_4026( sub_3952(), 1 ) )) < 8.00000000))
            {
                StrCopy( ref cVar3[0], "E1R1_MEET", 16 );
                StrCopy( ref cVar3[1], "E1R1_MEET2", 16 );
                if (sub_54801( ref cVar3, ref l_U3221, 8, 1 ))
                {
                    sub_9777();
                    sub_54887( ref l_U3336, 12 );
                    sub_48902( ref l_U3336, 3 );
                    if (NOT (sub_49405( 0 )))
                    {
                        sub_51222( 1 );
                    }
                    if (IS_CHAR_IN_ANY_CAR( sub_3952() ))
                    {
                        TASK_PLAY_ANIM_UPPER_BODY( sub_3952(), "follow_me", "MISSRAYB_1", 8.00000000, 0, 0, 0, 0, 0 );
                    }
                    l_U3519[0] = sub_13036( l_U3336[0]._fU0, sub_20212( sub_55054( l_U3336[0]._fU0 ) ), sub_3952(), 39 );
                    sub_53829( 2 );
                    REMOVE_BLIP( l_U3174 );
                    ADD_BLIP_FOR_COORD( l_U3527._fU0, l_U3527._fU4, l_U3527._fU8, ref l_U3173 );
                    SET_ROUTE( l_U3173, 1 );
                    sub_24919( ref l_U3336[0], sub_3952() );
                    sub_25567( ref l_U3336[0], 2 );
                    l_U3172 = 3;
                }
            }
            else if (l_U3239)
            {
                sub_55286( ref l_U3336[0], 4.00000000, 18.00000000, 0, 0 );
                sub_55645( ref l_U3336[0] );
                sub_56320( ref l_U3336, 0, 0 );
                for ( I = 0; I < l_U3336; I++ )
                {
                    if (NOT (IS_CHAR_INJURED( sub_54536( ref l_U3336[I] ) )))
                    {
                        if ((NOT l_U3519[I]) AND ((IS_CHAR_SITTING_IN_ANY_CAR( l_U3336[I]._fU0 )) AND ((sub_19566( ref l_U3336[I] )) < 3.00000000)))
                        {
                            l_U3519[I] = sub_13036( l_U3336[I]._fU0, sub_22702( sub_55054( l_U3336[I]._fU0 ) ), sub_3952(), 25 );
                        }
                    }
                }
                if (NOT l_U3252)
                {
                    if ((sub_19566( ref l_U3336[0] )) < 25.00000000)
                    {
                        PRINT_HELP( "R1H_LEAD" );
                        l_U3252 = 1;
                    }
                }
            }
            break;
        }
    };;;
    return;
}

int sub_49405(boolean bParam0)
{
    unknown uVar3;

    if (g_U94._fU60 != -1)
    {
        switch (g_U15862[g_U94._fU60]._fU196._fU24)
        {
            case 0:
            case 3:
            case 4:
            case 5:
            return 0;
            break;
            default:
            if (g_U94._fU0 != 1000)
            {
                return 0;
            }
            break;
        }
    }
    if (bParam0)
    {
        GET_SCRIPT_TASK_STATUS( sub_3952(), 53, ref uVar3 );
        switch (uVar3)
        {
            case 7:
            case 2:
            return 1;
            break;
            default:
            sub_16210( "\n HAS_PHONE_CALL_ENDED - player is still using the phone" );
            return 0;
            break;
        }
    }
    return 1;
}

void sub_49774()
{
    int iVar2;
    int iVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;

    if (NOT sub_38065())
    {
        array(ref uVar4._fU0._fU0, 3);
        ref uVar4._fU0;
        ref uVar4;
        switch (g_U11134)
        {
            default:
              case 0:
            iVar2 = 1;
            iVar3 = 15;
            break;
            case 1:
            iVar2 = 1;
            iVar3 = 16;
            break;
            case 2:
            iVar2 = 1;
            iVar3 = 17;
            break;
            case 3:
            iVar2 = 1;
            iVar3 = 18;
            break;
        }
        g_U11134++;
        if (g_U11134 > 3)
        {
            g_U11134 = 0;
        }
        sub_49935( iVar2, iVar3, 16383, 16383, ref uVar4 );
        sub_50279( ref uVar4, 1 );
        sub_50307( ref uVar4, 0 );
        sub_50334( ref uVar4 );
    }
    return;
}

void sub_49935(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    iParam4->_fU24 = -1;
    sub_49957( uParam0, 0, iParam4 + 0 );
    sub_49957( uParam1, 1, iParam4 + 0 );
    sub_49957( uParam2, 2, iParam4 + 0 );
    sub_49957( uParam3, 3, iParam4 + 0 );
    sub_49957( 0, 4, iParam4 + 0 );
    sub_49957( 1, 5, iParam4 + 0 );
    sub_49957( -1, 6, iParam4 + 0 );
    ref iParam4->_fU0->_fU20 = 1;
    return;
}

void sub_49957(unknown uParam0, unknown uParam1, int iParam2)
{
    switch (uParam1)
    {
        case 0:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[1], 14, 23, uParam0 );
        break;
        case 1:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[0], 0, 13, uParam0 );
        break;
        case 2:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[0], 14, 27, uParam0 );
        break;
        case 3:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[1], 0, 13, uParam0 );
        break;
        case 4:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[1], 24, 27, uParam0 );
        break;
        case 5:
        SET_BITS_IN_RANGE( ref iParam2->_fU0[0], 28, 31, uParam0 );
        break;
        case 6:
        iParam2->_fU0[2] = uParam0;
        break;
    }
    return;
}

void sub_50279(int iParam0, unknown uParam1)
{
    ref iParam0->_fU0->_fU20 = uParam1;
    return;
}

void sub_50307(int iParam0, unknown uParam1)
{
    ref iParam0->_fU0->_fU16 = uParam1;
    return;
}

int sub_50334(int iParam0)
{
    int I;
    int iVar4;
    char[16] cVar5;
    int iVar9;

    iVar4 = 0;
    StrCopy( ref cVar5, "T1_NAME_", 16 );
    if (g_U94._fU540)
    {
        return 0;
    }
    if ((g_U572[g_U572 - 1]._fU0[0]) != -1)
    {
        if (NOT sub_50404())
        {
            sub_2787( 0 );
        }
    }
    if (iParam0->_fU24 != -1)
    {
        return 0;
    }
    iVar9 = sub_50531( iParam0->_fU0 );
    if (iVar9 != -1)
    {
        sub_2787( iVar9 );
    }
    for ( I = 0; I <= (g_U572 - 1); I++ )
    {
        if (g_U572[I]._fU0[0] == -1)
        {
            g_U572[I] = {iParam0->_fU0};
            iParam0->_fU24 = I;
            I = g_U572;
            iVar4++;
            if (iVar4 > 1)
            {
                SET_PHONE_HUD_ITEM( 1, "UNREAD_MESSAGES", iVar4 );
            }
            else
            {
                ConcatString(ref cVar5, sub_2501( 0, iParam0->_fU0 ), 16);
                SET_PHONE_HUD_ITEM( 1, ref cVar5, iVar4 );
            }
            g_U94._fU520 = 1;
            PLAY_AUDIO_EVENT( "MOBILE_PHONE_SMS_RECIEVE" );
            if (g_U558 == 9)
            {
                g_U94._fU404 = 1016;
            }
            else if (g_U94._fU0 == 1015)
            {
                g_U94._fU92 = 1;
            }
            INCREMENT_INT_STAT_NO_MESSAGE( 300, 1 );
            g_U15728[2] = 1;
        }
        else if ((sub_2501( 4, g_U572[I] )) == 0)
        {
            iVar4++;
        }
    }
    SET_MESSAGES_WAITING( 1 );
    return 1;
}

int sub_50404()
{
    int I;

    for ( I = 0; I <= (g_U572 - 1); I++ )
    {
        if ((g_U572[I]._fU20) AND ((sub_2501( 1, g_U572[I] )) != 0))
        {
            sub_2787( I );
            return 1;
        }
    }
    return 0;
}

int sub_50531(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    int Result;

    for ( Result = 0; Result <= (g_U572 - 1); Result++ )
    {
        if (g_U572[Result]._fU0[0] != -1)
        {
            if (sub_50596( uParam0, g_U572[Result] ))
            {
                return Result;
            }
        }
        else
        {
            Result = g_U572;
        }
    }
    return -1;
}

int sub_50596(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    int iVar14;
    int iVar15;

    if ((uParam0._fU0[2] == uParam6._fU0[2]) AND (uParam0._fU0[0] == uParam6._fU0[0]))
    {
        iVar14 = sub_2501( 0, uParam0 );
        if (iVar14 == (sub_2501( 0, uParam6 )))
        {
            iVar15 = sub_2501( 3, uParam0 );
            if (iVar15 == (sub_2501( 3, uParam6 )))
            {
                return 1;
            }
        }
    }
    return 0;
}

void sub_51222(int iParam0)
{
    if (g_U94._fU60 == iParam0)
    {
        switch (g_U15862[g_U94._fU60]._fU196._fU24)
        {
            case 6:
            case 7:
            case 8: break;
            default:
            g_U15862[g_U94._fU60]._fU196._fU24 = 6;
            if (IS_MOBILE_PHONE_CALL_ONGOING())
            {
                ABORT_SCRIPTED_CONVERSATION( 0 );
            }
            if ((g_U94._fU0 != 1001) AND (g_U94._fU0 != 1000))
            {
                g_U94._fU0 = 1010;
            }
            break;
        }
    }
    return;
}

int sub_51433(unknown uParam0)
{
    if (NOT (IS_CHAR_DEAD( sub_3952() )))
    {
        if (NOT (IS_CAR_DEAD( uParam0 )))
        {
            if (IS_CHAR_IN_CAR( sub_3952(), uParam0 ))
            {
                if (CHECK_STUCK_TIMER( uParam0, 3, 60000 ))
                {
                    return 1;
                }
                if ((NOT (CHECK_STUCK_TIMER( uParam0, 1, 0 ))) AND (CHECK_STUCK_TIMER( uParam0, 2, 30000 )))
                {
                    return 1;
                }
                if (CHECK_STUCK_TIMER( uParam0, 0, 5000 ))
                {
                    return 1;
                }
            }
            if (sub_51577( uParam0 ))
            {
                return 1;
            }
        }
    }
    return 0;
}

int sub_51577(unknown uParam0)
{
    if (NOT (IS_CHAR_DEAD( sub_3952() )))
    {
        if (NOT (IS_CAR_DEAD( uParam0 )))
        {
            if (NOT (IS_CHAR_IN_CAR( sub_3952(), uParam0 )))
            {
                if (LOCATE_CHAR_ANY_MEANS_CAR_3D( sub_3952(), uParam0, 5, 5, 5, 0 ))
                {
                    if (((NOT IS_USING_CONTROLLER()) AND (IS_CONTROL_PRESSED( 2, 3 ))) || ((IS_USING_CONTROLLER()) AND (IS_BUTTON_PRESSED( 0, 15 ))))
                    {
                        if (IS_BUTTON_JUST_PRESSED( 0, 15 ))
                        {
                            l_U356++;
                        }
                        GET_GAME_TIMER( ref l_U357 );
                    }
                    else if (NOT sub_51748())
                    {
                        if (sub_51826( uParam0 ))
                        {
                            if (l_U356 > 2)
                            {
                                if (NOT (IS_CHAR_GETTING_IN_TO_A_CAR( sub_3952() )))
                                {
                                    if (NOT (IS_PED_RAGDOLL( sub_3952() )))
                                    {
                                        GET_GAME_TIMER( ref l_U358 );
                                        l_U359 = l_U358 - l_U357;
                                        if (l_U359 > 1000)
                                        {
                                            PRINTNL();
                                            PRINTSTRING( "*******************************" );
                                            PRINTNL();
                                            PRINTSTRING( "Brenda's Stuck Check has returned true" );
                                            PRINTNL();
                                            PRINTSTRING( "*******************************" );
                                            PRINTNL();
                                            PRINTNL();
                                            PRINTSTRING( "*******************************" );
                                            PRINTNL();
                                            PRINTSTRING( "Brenda's Stuck Check is setting your vehicle on fire" );
                                            PRINTNL();
                                            PRINTSTRING( "*******************************" );
                                            PRINTNL();
                                            SET_PETROL_TANK_HEALTH( uParam0, 65436 );
                                            return 1;
                                        }
                                    }
                                    else
                                    {
                                        GET_GAME_TIMER( ref l_U357 );
                                        l_U356 = 0;
                                    }
                                }
                                else
                                {
                                    GET_GAME_TIMER( ref l_U357 );
                                    l_U356 = 0;
                                }
                            }
                        }
                        else
                        {
                            GET_GAME_TIMER( ref l_U357 );
                            l_U356 = 0;
                        }
                    }
                    else
                    {
                        GET_GAME_TIMER( ref l_U357 );
                        l_U356 = 0;
                    }
                }
                else
                {
                    GET_GAME_TIMER( ref l_U357 );
                    l_U356 = 0;
                }
            }
            else
            {
                GET_GAME_TIMER( ref l_U357 );
                l_U356 = 0;
            }
        }
    }
    return 0;
}

int sub_51748()
{
    int iVar2;
    int iVar3;
    unknown uVar4;
    unknown uVar5;

    GET_POSITION_OF_ANALOGUE_STICKS( 0, ref iVar2, ref iVar3, ref uVar4, ref uVar5 );
    if ((iVar2 < 65516) || (iVar2 > 20))
    {
        return 1;
    }
    if ((iVar3 < 65516) || (iVar3 > 20))
    {
        return 1;
    }
    return 0;
}

int sub_51826(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_COORDINATES( uParam0, ref uVar3._fU0, ref uVar3._fU4, ref uVar3._fU8 );
    }
    if (NOT (IS_CHAR_INJURED( sub_3952() )))
    {
        GET_CHAR_COORDINATES( sub_3952(), ref uVar6._fU0, ref uVar6._fU4, ref uVar6._fU8 );
    }
    GET_HEADING_FROM_VECTOR_2D( uVar3._fU0 - uVar6._fU0, uVar3._fU4 - uVar6._fU4, ref uVar9 );
    if (sub_51944( sub_3952(), uVar9, 90 ))
    {
        return 1;
    }
    return 0;
}

int sub_51944(unknown uParam0, unknown uParam1, unknown uParam2)
{
    float fVar5;
    float fVar6;
    float fVar7;
    float fVar8;
    float fVar9;

    if (NOT (IS_CHAR_DEAD( uParam0 )))
    {
        GET_CHAR_HEADING( uParam0, ref fVar5 );
        fVar6 = uParam1 - uParam2;
        fVar7 = (uParam1 + uParam2) - 1;
        fVar9 = fVar7 - 360;
        fVar8 = fVar6 + 360;
        if ((fVar6 >= 0) AND (fVar7 <= 360))
        {
            if ((fVar5 < fVar7) AND (fVar5 > fVar6))
            {
                l_U355 = 1;
            }
            else
            {
                l_U355 = 0;
            }
        }
        else if (fVar7 > 360)
        {
            if (((fVar5 > fVar6) AND (fVar5 <= 360)) || ((fVar5 >= 0) AND (fVar5 < fVar9)))
            {
                l_U355 = 1;
            }
            else
            {
                l_U355 = 0;
            }
        }
        else if (fVar6 < 0)
        {
            if (((fVar5 < fVar7) AND (fVar5 >= 0)) || ((fVar5 <= 360) AND (fVar5 > fVar8)))
            {
                l_U355 = 1;
            }
            else
            {
                l_U355 = 0;
            }
        };;;
        if (l_U355)
        {
            return 1;
        }
        else
        {
            return 0;
        }
    }
    return 0;
}

int sub_52917(unknown uParam0)
{
    if (NOT (IS_CHAR_DEAD( sub_3952() )))
    {
        if (NOT (IS_CAR_DEAD( uParam0 )))
        {
            if (NOT (IS_CHAR_IN_CAR( sub_3952(), uParam0 )))
            {
                if (NOT (LOCATE_CHAR_ANY_MEANS_CAR_3D( sub_3952(), uParam0, 200.00000000, 200.00000000, 200.00000000, 0 )))
                {
                    return 1;
                }
                if (NOT (LOCATE_CHAR_ANY_MEANS_CAR_3D( sub_3952(), uParam0, 150.00000000, 150.00000000, 150.00000000, 0 )))
                {
                    GET_GAME_TIMER( ref l_U361 );
                    l_U362 = l_U361 - l_U360;
                    if (l_U362 > 180000)
                    {
                        return 1;
                    }
                }
                else
                {
                    GET_GAME_TIMER( ref l_U360 );
                }
            }
        }
    }
    return 0;
}

int sub_53341(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    if (NOT (IS_CAR_DEAD( (uParam0^) )))
    {
        if ((CHECK_STUCK_TIMER( (uParam0^), 0, 5000 )) || ((CHECK_STUCK_TIMER( (uParam0^), 1, 40000 )) || ((CHECK_STUCK_TIMER( (uParam0^), 2, 30000 )) || (CHECK_STUCK_TIMER( (uParam0^), 3, 60000 )))))
        {
            return 1;
        }
        if (IS_CHAR_IN_CAR( sub_3952(), (uParam0^) ))
        {
            if (NOT (l_U354 == 2))
            {
                if (DOES_BLIP_EXIST( (uParam1^) ))
                {
                    REMOVE_BLIP( (uParam1^) );
                }
                if (NOT (COMPARE_STRING( uParam2, "" )))
                {
                    PRINT_NOW( uParam2, 5000, 0 );
                }
                l_U354 = 2;
                return 4;
            }
            return 2;
        }
        else if (NOT (l_U354 == 3))
        {
            if (NOT (DOES_BLIP_EXIST( (uParam1^) )))
            {
                ADD_BLIP_FOR_CAR( (uParam0^), uParam1 );
                SET_BLIP_AS_FRIENDLY( (uParam1^), 1 );
            }
            if (NOT (COMPARE_STRING( uParam3, "" )))
            {
                PRINT_NOW( uParam3, 5000, 0 );
            }
            l_U354 = 3;
            return 5;
        }
        return 3;;
    }
    return 0;
}

void sub_53829(unknown uParam0)
{
    l_U354 = uParam0;
    return;
}

void sub_53883(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    int iVar7;

    if (NOT (IS_CHAR_INJURED( iParam0->_fU0 )))
    {
        if ((VDIST2( uParam1, iParam0->_fU16 )) > 1.00000000)
        {
            TASK_PAUSE( iParam0->_fU0, 30 );
        }
        else if (((VDIST( iParam0->_fU16, sub_4026( iParam0->_fU0, 1 ) )) < 12.00000000) AND (iParam0->_fU36 == 4))
        {
            return;
        }
        else if (iParam0->_fU36 != 2)
        {
            GET_SCRIPT_TASK_STATUS( iParam0->_fU0, 49, ref iVar7 );
            if (iVar7 != 7)
            {
                TASK_PAUSE( iParam0->_fU0, 30 );
            }
        };;;
    }
    if (iParam0->_fU28 < 0.01000000)
    {
        iParam0->_fU28 = 28.00000000;
    }
    iParam0->_fU36 = 2;
    iParam0->_fU16 = {uParam1};
    switch (uParam4)
    {
        case 0:
        sub_37599( iParam0, 32 );
        sub_37599( iParam0, 64 );
        break;
        case 1:
        sub_37599( iParam0, 32 );
        sub_33525( iParam0, 64 );
        sub_33525( iParam0, 1 );
        break;
        case 2:
        sub_37599( iParam0, 32 );
        sub_33525( iParam0, 64 );
        sub_37599( iParam0, 1 );
        break;
        case 3:
        sub_33525( iParam0, 32 );
        sub_37599( iParam0, 64 );
        break;
    }
    return;
}

void sub_54280(int iParam0, unknown uParam1)
{
    iParam0->_fU28 = uParam1;
    return;
}

void sub_54486()
{
    return GET_CURRENT_SCRIPTED_CONVERSATION_LINE();
}

void sub_54536(int iParam0)
{
    return iParam0->_fU0;
}

void sub_54801(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    return sub_54824( uParam0, ref l_U34._fU0, uParam1, uParam2, uParam3 );
}

void sub_54824(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    char[16] cVar7;

    StrCopy( ref cVar7, uParam1, 16 );
    return sub_16111( uParam0, uParam2, uParam3, 0, 0, 0, 0, ref cVar7, uParam4 );
}

void sub_54887(unknown uParam0, unknown uParam1)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
        (uParam0^)[I]._fU88 = uParam1;
    }
    return;
}

int sub_55054(unknown uParam0)
{
    unknown uVar3;

    if (IS_CHAR_IN_ANY_CAR( uParam0 ))
    {
        uVar3 = nil;
        STORE_CAR_CHAR_IS_IN_NO_SAVE( uParam0, ref uVar3 );
        if (NOT (IS_CAR_DEAD( uVar3 )))
        {
            return sub_8750( uParam0, uVar3 );
        }
    }
    return 0;
}

void sub_55286(int iParam0, unknown uParam1, unknown uParam2, boolean bParam3, boolean bParam4)
{
    float fVar7;
    float fVar8;
    float Result;

    if (NOT (IS_CHAR_INJURED( iParam0->_fU0 )))
    {
        if (IS_VEH_DRIVEABLE( sub_3573( iParam0 ) ))
        {
            fVar7 = sub_19586( iParam0->_fU0, sub_3952(), 1 );
            if (IS_CHAR_IN_ANY_CAR( sub_3952() ))
            {
                if (fVar7 > 200.00000000)
                {
                    if (bParam3)
                    {
                        SET_DRIVE_TASK_CRUISE_SPEED( iParam0->_fU0, 0 );
                    }
                    l_U14 = 1;
                }
                else if (fVar7 < 6.00000000)
                {
                    l_U14 = 0;
                }
                if (fVar7 > 75.00000000)
                {
                    fVar7 = 75.00000000;
                    l_U14 = 1;
                }
                fVar7 /= 100.00000000;
                fVar7 += -1.00000000;
                fVar7 *= -1.00000000;
                fVar8 = (fVar7 * (uParam2 - uParam1)) + uParam1;
                Result = (fVar7 * (uParam2 - uParam1)) + uParam1;
                if (NOT bParam4)
                {
                    SET_DRIVE_TASK_CRUISE_SPEED( iParam0->_fU0, Result );
                }
                return Result;;
            }
            else if (fVar7 < 200)
            {
                SET_DRIVE_TASK_CRUISE_SPEED( iParam0->_fU0, uParam1 );
                return uParam1;
                if (fVar7 > 40.00000000)
                {
                    l_U14 = 1;
                }
            }
            else
            {
                SET_DRIVE_TASK_CRUISE_SPEED( iParam0->_fU0, 0 );
                l_U14 = 1;
                return 0.00000000;
            }
        }
    }
    return iParam0->_fU28;
}

void sub_55645(int iParam0)
{
    sub_55658( iParam0 + 0 );
    return;
}

void sub_55658(unknown uParam0)
{
    int iVar3;
    int iVar4;

    if (l_U18)
    {
        PRINTNL();
        PRINTSTRING( "**** CALLED CONTROL_CHASE_HINT_CAM()" );
    }
    GET_FOLLOW_VEHICLE_CAM_SUBMODE( ref iVar3 );
    if ((IS_HINT_RUNNING()) AND (l_U16))
    {
        iVar4 = 0;
        GET_GAME_TIMER( ref iVar4 );
        if (iVar4 > (l_U17 + 500))
        {
            l_U16 = 0;
        }
    }
    if ((iVar3 != 4) AND ((NOT sub_55818()) AND ((NOT (IS_CHAR_DEAD( (uParam0^) ))) AND ((IS_CHAR_IN_ANY_CAR( sub_3952() )) AND (IS_CONTROL_PRESSED( 0, 51 ))))))
    {
        if ((IS_CHAR_IN_ANY_CAR( (uParam0^) )) AND (NOT IS_HINT_RUNNING()))
        {
            if (l_U18)
            {
                PRINTNL();
                PRINTSTRING( "**** LAUNCHING THE HINT_CAM" );
            }
            SET_CINEMATIC_BUTTON_ENABLED( 0 );
            HINT_CAM( 0.00000000, 0.00000000, 0.00000000, (uParam0^), 0, 0, 999999 );
            SET_HINT_TIMES( 500, 0, 0 );
            SET_HINT_FOV( 45.00000000 );
            GET_GAME_TIMER( ref l_U17 );
            l_U16 = 1;
            l_U15 = 0;
        }
    }
    else if (IS_HINT_RUNNING())
    {
        if ((NOT l_U16) AND (NOT l_U15))
        {
            if (l_U18)
            {
                PRINTNL();
                PRINTSTRING( "**** INTERP HINT_CAM BACK" );
            }
            HINT_CAM( 0.00000000, 0.00000000, 0.00000000, 0, 0, 0, 0 );
            HINT_CAM( 0.00000000, 0.00000000, 0.00000000, (uParam0^), 0, 0, 500 );
            SET_HINT_TIMES( 0, 0, 500 );
            SET_HINT_FOV( 45.00000000 );
            l_U15 = 1;
        }
    }
    else if (l_U15)
    {
        if (l_U18)
        {
            PRINTNL();
            PRINTSTRING( "**** DONE INTERP, RESETTING HINT_CAM VARIABLES" );
        }
        SET_CINEMATIC_BUTTON_ENABLED( 1 );
        SET_HINT_TIMES_DEFAULT();
        SET_HINT_FOV( -1 );
        l_U15 = 0;
    };;;
    return;
}

int sub_55818()
{
    if (g_U558 == 9)
    {
        return 0;
    }
    return 1;
}

void sub_56320(unknown uParam0, int iParam1, boolean bParam2)
{
    int I;
    int[10] iVar6;
    boolean bVar17;
    int iVar18;
    int iVar19;
    unknown uVar20;
    unknown[2] uVar21;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown[2] uVar28;
    int[2] iVar31;
    int J;
    float fVar35;
    unknown uVar36;
    unknown uVar37;
    unknown uVar38;
    float[2] fVar39;
    unknown[2] uVar42;
    unknown uVar45;
    unknown uVar46;
    unknown uVar47;
    unknown uVar48;
    int iVar49;
    int iVar50;
    float fVar51;
    unknown[2] uVar52;

    if (l_U135 < 1.20000000)
    {
        l_U135 += 1.00000000 * TIMESTEP();
        return;
    }
    else
    {
        l_U135 = 0.00000000;
    }
    if (iParam1 == -2)
    {
        bParam2 = false;
    }
    array(ref iVar6, 10);
    iVar18 = 0;
    array(ref uVar21, 2);
    array(ref uVar28, 2);
    array(ref iVar31, 2);
    array(ref fVar39, 2);
    array(ref uVar42, 2);
    switch (iParam1)
    {
        case -1:
        return;
        break;
        case -2:
        iVar19 = sub_3952();
        break;
        default:
        iVar19 = (uParam0^)[iParam1]._fU0;
        iVar6[iParam1] = 1;
        iVar18++;
        break;
    }
    if (IS_CHAR_INJURED( iVar19 ))
    {
        return;
    }
    if (IS_CHAR_IN_ANY_CAR( iVar19 ))
    {
        STORE_CAR_CHAR_IS_IN_NO_SAVE( iVar19, ref uVar20 );
        if (NOT (IS_VEH_DRIVEABLE( uVar20 )))
        {
            return;
        }
    }
    else
    {
        return;
    }
    GET_DRIVER_OF_CAR( uVar20, ref iVar50 );
    if (iVar19 != iVar50)
    {
        return;
    }
    GET_CHAR_SPEED( iVar19, ref fVar51 );
    if (fVar51 < 3.00000000)
    {
        return;
    }
    GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( uVar20, -2.50000000, 0.00000000, 0.00000000, ref uVar21[0]._fU0, ref uVar21[0]._fU4, ref uVar21[0]._fU8 );
    GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( uVar20, 2.50000000, 0.00000000, 0.00000000, ref uVar21[1]._fU0, ref uVar21[1]._fU4, ref uVar21[1]._fU8 );
    for ( I = 0; I < (uParam0^); I++ )
    {
        if (NOT iVar6[I])
        {
            if (((uParam0^)[I]._fU36 != 1) || (IS_CHAR_INJURED( (uParam0^)[I]._fU0 )))
            {
                iVar6[I] = 1;
                iVar18++;
            }
            else if ((sub_3573( ref (uParam0^)[I] )) != (uParam0^)[I]._fU4)
            {
                iVar6[I] = 1;
                iVar18++;
            }
        }
    }
    array(ref uVar52, 2);
    for ( I = 0; I < 2; I++ )
    {
        iVar31[I] = -1;
        uVar52[I] = sub_56919( uParam0, ref uVar21[I], ref iVar6, (NOT bParam2) || (bVar17) );
        if (uVar52[I] >= 0)
        {
            fVar39[I] = VDIST( sub_4026( (uParam0^)[uVar52[I]]._fU0, 1 ), uVar21[I] );
        }
        else if (uVar52[I] == -2)
        {
            fVar39[I] = VDIST( sub_4026( sub_3952(), 1 ), uVar21[I] );
        }
    }
    if (uVar52[0] == uVar52[1])
    {
        if (fVar39[0] < fVar39[1])
        {
            J = 0;
        }
        else
        {
            J = 1;
        }
        if (uVar52[J] >= 0)
        {
            iVar31[J] = uVar52[J];
            iVar6[uVar52[J]] = 1;
            iVar18++;
        }
        else if ((bParam2) AND (uVar52[J] == -2))
        {
            iVar31[J] = -2;
            bVar17 = true;
        }
        J = (J + 1) mod 2;
        uVar52[J] = sub_56919( uParam0, ref uVar21[J], ref iVar6, (NOT bParam2) || (bVar17) );
        if (uVar52[J] >= 0)
        {
            fVar39[J] = VDIST( sub_4026( (uParam0^)[uVar52[J]]._fU0, 1 ), uVar21[J] );
            iVar31[J] = uVar52[J];
            iVar6[uVar52[J]] = 1;
            iVar18++;
        }
        else if (uVar52[J] == -2)
        {
            fVar39[J] = VDIST( sub_4026( sub_3952(), 1 ), uVar21[J] );
            iVar31[J] = -2;
            bVar17 = true;
        }
    }
    else
    {
        for ( J = 0; J < 2; J++ )
        {
            if (uVar52[J] >= 0)
            {
                iVar31[J] = uVar52[J];
                iVar6[uVar52[J]] = 1;
                iVar18++;
            }
            else if ((bParam2) AND (uVar52[J] == -2))
            {
                iVar31[J] = -2;
                bVar17 = true;
            }
        }
    }
    if (iVar31[0] >= 0)
    {
        sub_24919( ref (uParam0^)[iVar31[0]], iVar19 );
        (uParam0^)[iVar31[0]]._fU40 = 0;
    }
    if (iVar31[1] >= 0)
    {
        sub_24919( ref (uParam0^)[iVar31[1]], iVar19 );
        (uParam0^)[iVar31[1]]._fU40 = 1;
    }
    while (iVar18 < (uParam0^))
    {
        for ( J = 0; J < 2; J++ )
        {
            if (((iVar31[J] == -2) AND (bParam2)) || (iVar31[J] >= 0))
            {
                fVar39[J] = 99999.00000000;
                iVar49 = -1;
                for ( I = 0; I < (uParam0^); I++ )
                {
                    if (NOT iVar6[I])
                    {
                        uVar36 = {sub_4026( (uParam0^)[I]._fU0, 1 )};
                        if ((iVar31[J] == -2) AND (bParam2))
                        {
                            uVar21[J] = {sub_4026( sub_3952(), 1 )};
                        }
                        else
                        {
                            uVar21[J] = {sub_4026( (uParam0^)[iVar31[J]]._fU0, 1 )};
                        }
                        fVar35 = VDIST( uVar36, uVar21[J] );
                        if (fVar35 < fVar39[J])
                        {
                            fVar39[J] = fVar35;
                            uVar42[J] = {uVar36};
                            iVar49 = I;
                        }
                    }
                }
                if ((NOT bVar17) AND (bParam2))
                {
                    uVar36 = {sub_4026( sub_3952(), 1 )};
                    uVar21[J] = {sub_4026( (uParam0^)[iVar31[J]]._fU0, 1 )};
                    fVar35 = (VDIST( uVar36, uVar21[J] )) - 5.00000000;
                    if (fVar35 < fVar39[J])
                    {
                        fVar39[J] = fVar35;
                        uVar42[J] = {uVar36};
                        iVar49 = -2;
                    }
                }
                if (iVar49 >= 0)
                {
                    uVar28[J] = iVar31[J];
                    iVar31[J] = iVar49;
                    iVar6[iVar49] = 1;
                    iVar18++;
                }
                else if ((iVar49 == -2) AND (bParam2))
                {
                    uVar28[J] = iVar31[J];
                    iVar31[J] = iVar49;
                    bVar17 = true;
                }
                else
                {
                    uVar28[J] = iVar31[J];
                    iVar31[J] = -1;
                }
            }
        }
        if ((((iVar31[1] == -2) || (iVar31[1] >= 0)) AND (((iVar31[0] == -2) || (iVar31[0] >= 0)) AND (bParam2))) || ((iVar31[1] >= 0) AND (iVar31[0] >= 0)))
        {
            if (sub_58706( uVar21[0]._fU0, uVar21[0]._fU4, uVar42[0]._fU0, uVar42[0]._fU4, uVar21[1]._fU0, uVar21[1]._fU4, uVar42[1]._fU0, uVar42[1]._fU4 ))
            {
                J = iVar31[0];
                iVar31[0] = iVar31[1];
                iVar31[1] = J;
            }
        }
        for ( J = 0; J < 2; J++ )
        {
            if (iVar31[J] >= 0)
            {
                if (uVar28[J] >= 0)
                {
                    sub_24919( ref (uParam0^)[iVar31[J]], (uParam0^)[uVar28[J]]._fU0 );
                    (uParam0^)[iVar31[J]]._fU40 = 2;
                }
                else if ((uVar28[J] == -2) AND (bParam2))
                {
                    sub_24919( ref (uParam0^)[iVar31[J]], sub_3952() );
                    (uParam0^)[iVar31[J]]._fU40 = 2;
                }
            }
        }
    }
    return;
}

void sub_56919(unknown uParam0, unknown uParam1, unknown uParam2, boolean bParam3)
{
    int I;
    float fVar7;
    int Result;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    float fVar12;

    fVar7 = 99999.00000000;
    Result = -1;
    for ( I = 0; I < (uParam0^); I++ )
    {
        if (NOT (uParam2^)[I])
        {
            uVar9 = {sub_4026( (uParam0^)[I]._fU0, 1 )};
            fVar12 = VDIST( uVar9, (uParam1^) );
            if (fVar12 < fVar7)
            {
                fVar7 = fVar12;
                Result = I;
            }
        }
    }
    if (NOT bParam3)
    {
        uVar9 = {sub_4026( sub_3952(), 1 )};
        fVar12 = (VDIST( uVar9, (uParam1^) )) - 5.00000000;
        if (fVar12 < fVar7)
        {
            fVar7 = fVar12;
            Result = -2;
        }
    }
    return Result;
}

int sub_58706(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7)
{
    float fVar10;
    float fVar11;
    float fVar12;
    float fVar13;
    float fVar14;

    fVar10 = uParam1 - uParam5;
    fVar11 = uParam0 - uParam4;
    fVar12 = ((uParam2 - uParam0) * (uParam7 - uParam5)) - ((uParam3 - uParam1) * (uParam6 - uParam4));
    if (fVar12 != 0.00000000)
    {
        fVar13 = ((fVar10 * (uParam6 - uParam4)) - (fVar11 * (uParam7 - uParam5))) / fVar12;
        fVar14 = ((fVar10 * (uParam2 - uParam0)) - (fVar11 * (uParam3 - uParam1))) / fVar12;
        if ((fVar14 <= 1.00000000) AND ((fVar14 >= 0.00000000) AND ((fVar13 <= 1.00000000) AND (fVar13 >= 0.00000000))))
        {
            return 1;
        }
    }
    return 0;
}

void sub_59372()
{
    int I;
    unknown uVar3;

    sub_59385( ref l_U3336 );
    for ( I = 0; I < l_U3336; I++ )
    {
        if (IS_CHAR_INJURED( l_U3336[I]._fU0 ))
        {
            l_U3172 = 15;
            return;
        }
    }
    if (sub_49405( 1 ))
    {
        if (l_U3234 == 0)
        {
            if (NOT (IS_CAR_DEAD( l_U3272 )))
            {
                if (NOT (IS_CHAR_IN_CAR( sub_3952(), l_U3272 )))
                {
                    PRINT_NOW( "R1_BIKE", 7500, 0 );
                    l_U3234 = 1;
                }
            }
        }
        else if (l_U3236 == 0)
        {
            if (l_U3240 == 0)
            {
                if (NOT (IS_CAR_DEAD( l_U3272 )))
                {
                    if (IS_CHAR_IN_CAR( sub_3952(), l_U3272 ))
                    {
                        l_U3236 = 1;
                        PRINT_NOW( "R1_BRIEF", 7500, 0 );
                    }
                }
            }
        }
    }
    if (sub_49405( 1 ))
    {
        if (l_U3234 == 0)
        {
            if (l_U3240 == 0)
            {
                if (NOT (sub_17823( l_U3221 )))
                {
                    l_U3240 = 1;
                    PRINT_NOW( "R1H_BRIEF2", 7500, 0 );
                    SETTIMERA( 0 );
                }
            }
        }
    }
    if ((sub_62465( l_U3272 )) || ((sub_51433( l_U3272 )) || ((sub_52917( l_U3272 )) || (NOT (IS_VEH_DRIVEABLE( l_U3272 ))))))
    {
        REMOVE_BLIP( l_U3273 );
        REMOVE_BLIP( l_U3174 );
        if (NOT (sub_49405( 0 )))
        {
            sub_51222( 1 );
        }
        CLEAR_PRINTS();
        l_U3172 = 13;
    }
    switch (sub_53341( ref l_U3272, ref l_U3273, "", "" ))
    {
        case 0:
        REMOVE_BLIP( l_U3273 );
        REMOVE_BLIP( l_U3174 );
        sub_53829( 6 );
        l_U3172 = 13;
        break;
        case 4:
        ADD_BLIP_FOR_COORD( l_U3527._fU0, l_U3527._fU4, l_U3527._fU8, ref l_U3173 );
        SET_ROUTE( l_U3173, 1 );
        sub_62999( ref l_U3336, sub_3952() );
        break;
        case 5:
        REMOVE_BLIP( l_U3173 );
        break;
        case 2:
        sub_56320( ref l_U3336, -2, 0 );
        if ((sub_42393( 1, 1 )) AND ((sub_63312()) || (LOCATE_CHAR_IN_CAR_3D( sub_3952(), l_U3527._fU0, l_U3527._fU4, l_U3527._fU8 + 2.50000000, 2.50000000, 2.50000000, 5.00000000, 1 ))))
        {
            sub_18328( ref l_U3221, 0 );
            l_U3172 = 4;
        }
        else if (l_U3245)
        {
            if ((sub_63492( l_U3221 )) AND (sub_17823( l_U3221 )))
            {
                if (LOCATE_CHAR_ANY_MEANS_CHAR_3D( l_U3336[0]._fU0, sub_3952(), 25, 25, 25, 0 ))
                {
                    if (g_U39239 == 1)
                    {
                        sub_63586( "E1R1_BRIEF", ref l_U3221, 7, 1 );
                    }
                    else
                    {
                        sub_63586( "E1R1_BRIEF2", ref l_U3221, 7, 1 );
                    }
                }
            }
        }
        else if ((LOCATE_CHAR_ANY_MEANS_CHAR_3D( l_U3336[0]._fU0, sub_3952(), 25, 25, 25, 0 )) AND ((NOT (sub_17823( l_U3221 ))) AND ((NOT IS_MESSAGE_BEING_DISPLAYED()) AND (TIMERA() > 10000))))
        {
            if (g_U39239 == 0)
            {
                if (sub_16034( "E1R1_BRIEF", ref l_U3221, 7, 1 ))
                {
                    g_U39239 = 1;
                    l_U3245 = 1;
                }
            }
            else if (sub_16034( "E1R1_BRIEF2", ref l_U3221, 7, 1 ))
            {
                g_U39239 = 0;
                l_U3245 = 1;
            }
        };;;
        if (IS_KEYBOARD_KEY_JUST_PRESSED( 36 ))
        {
            SET_CHAR_COORDINATES( sub_3952(), l_U3527._fU0, l_U3527._fU4, l_U3527._fU8 );
            SET_CHAR_HEADING( sub_3952(), 136.78330000 );
        }
        break;
        case 3:
        if (IS_KEYBOARD_KEY_JUST_PRESSED( 36 ))
        {
            WARP_CHAR_INTO_CAR( sub_3952(), l_U3272 );
        }
        for ( I = 0; I < l_U3336; I++ )
        {
            sub_53883( ref l_U3336[I], sub_9097( l_U3272, 1 ), 2 );
        }
        if ((sub_17823( l_U3221 )) AND ((NOT (sub_63492( l_U3221 ))) AND (l_U3245)))
        {
            sub_64102( ref l_U3221 );
        }
        break;
    }
    return;
}

void sub_59385(unknown uParam0)
{
    int I;
    boolean bVar4;
    boolean bVar5;
    boolean bVar6;
    int iVar7;
    int iVar8;
    int iVar9;
    float fVar10;
    float fVar11;
    int iVar12;
    unknown uVar13;
    int iVar14;

    bVar4 = true;
    bVar5 = false;
    bVar6 = false;
    if (l_U20 < 0)
    {
        bVar4 = false;
    }
    GET_GAME_TIMER( ref iVar7 );
    iVar8 = -1;
    iVar9 = -1;
    fVar10 = 0.00000000;
    if (l_U20 >= 0)
    {
        if (g_U39213)
        {
            if (((uParam0^) > 1) AND (NOT g_U39212))
            {
                if (NOT IS_HELP_MESSAGE_BEING_DISPLAYED())
                {
                    PRINT_HELP( "BKR_CAM_HLP1" );
                    g_U39212 = 1;
                }
            }
        }
        GET_POSITION_OF_ANALOGUE_STICKS( 0, ref uVar13, ref uVar13, ref iVar12, ref uVar13 );
        if (iVar12 == 0)
        {
            GET_MOUSE_INPUT( ref iVar12, ref uVar13 );
        }
        if (l_U21)
        {
            if ((iVar12 > 65456) AND (iVar12 < 80))
            {
                l_U21 = 0;
            }
        }
        else if (iVar12 >= 80)
        {
            iVar9 = sub_59612( uParam0 );
        }
        else if (iVar12 <= 65456)
        {
            iVar9 = sub_60117( uParam0 );
        };;;
    }
    if (IS_CHAR_IN_ANY_CAR( sub_3952() ))
    {
        for ( I = 0; I < (uParam0^); I++ )
        {
            if (sub_59646( uParam0, I ))
            {
                if (iVar9 < 0)
                {
                    fVar11 = sub_19586( (uParam0^)[I]._fU0, sub_3952(), 1 );
                    if (fVar11 > fVar10)
                    {
                        fVar10 = fVar11;
                        iVar8 = I;
                    }
                }
                if (l_U20 == I)
                {
                    bVar5 = true;
                }
            }
        }
    }
    if (bVar5)
    {
        if (iVar9 < 0)
        {
            bVar4 = false;
            sub_60418( ref (uParam0^)[l_U20] );
        }
        else
        {
            iVar8 = iVar9;
            if (DOES_CAM_EXIST( l_U19 ))
            {
                bVar6 = true;
            }
        }
    }
    else if (iVar8 >= 0)
    {
        if (DOES_CAM_EXIST( l_U19 ))
        {
            bVar6 = true;
        }
    }
    if (l_U20 >= 0)
    {
        if ((NOT bVar6) AND ((IS_VEH_DRIVEABLE( (uParam0^)[l_U20]._fU4 )) AND ((l_U32 + 2500) > iVar7)))
        {
            bVar4 = false;
        }
    }
    else if ((l_U32 + 2500) > iVar7)
    {
        bVar4 = true;
    }
    GET_FOLLOW_VEHICLE_CAM_SUBMODE( ref iVar14 );
    if ((NOT bVar4) AND ((iVar8 >= 0) AND ((NOT (iVar14 == 4)) AND ((NOT sub_55818()) AND ((IS_CHAR_ON_ANY_BIKE( sub_3952() )) AND ((NOT (IS_CONTROL_PRESSED( 0, 39 ))) AND ((NOT (IS_CONTROL_PRESSED( 0, 38 ))) AND (IS_CONTROL_PRESSED( 0, 51 )))))))))
    {
        sub_61631( uParam0, iVar8 );
    }
    else
    {
        sub_9791();
        if (bVar6)
        {
            sub_61631( uParam0, iVar8 );
        }
    }
    return;
}

void sub_59612(unknown uParam0)
{
    int I;
    int Result;

    Result = -1;
    for ( I = l_U20; I <= ((uParam0^) - 1); I++ )
    {
        if ((Result < 0) AND ((I != l_U20) AND (sub_59646( uParam0, I ))))
        {
            Result = I;
        }
    }
    if (Result == -1)
    {
        for ( I = 0; I <= l_U20; I++ )
        {
            if ((Result < 0) AND ((I != l_U20) AND (sub_59646( uParam0, I ))))
            {
                Result = I;
            }
        }
    }
    return Result;
}

int sub_59646(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    float fVar10;
    unknown uVar11;

    if ((NOT (IS_CHAR_IN_ANY_POLICE_VEHICLE( sub_3952() ))) AND ((IS_VEH_DRIVEABLE( (uParam0^)[iParam1]._fU4 )) AND (NOT (IS_CHAR_INJURED( (uParam0^)[iParam1]._fU0 )))))
    {
        if ((IS_CHAR_ON_ANY_BIKE( (uParam0^)[iParam1]._fU0 )) AND ((IS_CHAR_IN_CAR( (uParam0^)[iParam1]._fU0, (uParam0^)[iParam1]._fU4 )) AND (NOT (IS_CHAR_IN_CAR( sub_3952(), (uParam0^)[iParam1]._fU4 )))))
        {
            uVar4 = {sub_4026( (uParam0^)[iParam1]._fU0, 1 )};
            uVar7 = {sub_4026( sub_3952(), 1 )};
            fVar10 = VDIST( uVar4, uVar7 );
            if (fVar10 < 4.50000000)
            {
                return 0;
            }
            if (HAS_CHAR_SPOTTED_CHAR_IN_FRONT( (uParam0^)[iParam1]._fU0, sub_3952() ))
            {
                return 1;
            }
            if ((DOES_CAM_EXIST( l_U19 )) AND (iParam1 == l_U20))
            {
                if (IS_CAM_ACTIVE( l_U19 ))
                {
                    if ((fVar10 > 29.00000000) AND (fVar10 < 38.00000000))
                    {
                        GET_GAME_VIEWPORT_ID( ref uVar11 );
                        if (CAM_IS_SPHERE_VISIBLE( uVar11, uVar7._fU0, uVar7._fU4, uVar7._fU8, 0.20000000 ))
                        {
                            return 1;
                        }
                    }
                }
            }
        }
    }
    return 0;
}

void sub_60117(unknown uParam0)
{
    int I;
    int Result;

    Result = -1;
    for ( I = l_U20; I >= 0; I += -1 )
    {
        if ((Result < 0) AND ((I != l_U20) AND (sub_59646( uParam0, I ))))
        {
            Result = I;
        }
    }
    if (Result == -1)
    {
        for ( I = (uParam0^) - 1; I >= l_U20; I += -1 )
        {
            if ((Result < 0) AND ((I != l_U20) AND (sub_59646( uParam0, I ))))
            {
                Result = I;
            }
        }
    }
    return Result;
}

void sub_60418(int iParam0)
{
    vector vVar3;
    vector vVar6;
    float fVar9;
    int iVar10;
    float fVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    vector vVar16;
    float fVar19;
    vector vVar20;
    unknown uVar23;
    vector vVar24;

    vVar3 = {sub_4026( sub_3952(), 1 )};
    vVar6 = {sub_4026( iParam0->_fU0, 1 )};
    fVar9 = VDIST( vVar3, vVar6 );
    GET_GAME_TIMER( ref iVar10 );
    if ((ABSF( fVar9 - l_U22 )) < 3.00000000)
    {
        GENERATE_RANDOM_INT_IN_RANGE( 0, 500, ref l_U25 );
        l_U25 += iVar10;
    }
    if (iVar10 > (l_U25 + 1000))
    {
        if (IS_CHAR_IN_ANY_CAR( sub_3952() ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_3952(), ref uVar12 );
            GET_CAR_SPEED_VECTOR( uVar12, ref uVar13, 0 );
            vVar16 = {vVar3 - vVar6};
            vVar16 = {vVar16 / (VMAG( vVar16 ))};
            fVar11 = ((vVar16.x * uVar13._fU0) + (vVar16.y * uVar13._fU4)) + (vVar16.z * uVar13._fU8);
        }
        l_U22 = fVar9 + ((5.00000000 * fVar11) * TIMESTEP());
    }
    if ((ABSF( l_U23 - l_U22 )) < 2.00000000)
    {
        l_U24 *= 0.70000000;
    }
    else if (l_U22 > l_U23)
    {
        l_U24 += 0.20000000;
    }
    else if (l_U22 < l_U23)
    {
        l_U24 -= 0.20000000;
    };;;
    if (l_U24 > 1.00000000)
    {
        l_U24 = 1.00000000;
    }
    else if (l_U24 < -1.00000000)
    {
        l_U24 = -1.00000000;
    }
    l_U23 += l_U24;
    GET_CHAR_SPEED( iParam0->_fU0, ref fVar19 );
    fVar19 -= 15.00000000;
    if (fVar19 < 0.00000000)
    {
        fVar19 = 0.00000000;
    }
    SET_CAM_FOV( l_U19, sub_60896( l_U23 - fVar19 ) );
    SET_CAM_MOTION_BLUR( l_U19, fVar19 / 185.00000000 );
    vVar20 = {vVar3 - vVar6};
    vVar20 = {vVar20 * (l_U23 / (VMAG( vVar20 )))};
    vVar20 = {vVar20 + vVar6};
    SET_CAM_DOF_FOCUSPOINT( l_U19, vVar20.x, vVar20.y, vVar20.z, 1.50000000 );
    GET_CHAR_SPEED( sub_3952(), ref uVar23 );
    GENERATE_RANDOM_FLOAT_IN_RANGE( -1.00000000, 1.00000000, ref vVar24.x );
    GENERATE_RANDOM_FLOAT_IN_RANGE( (-10.00000000 * uVar23) / fVar9, 0.00000000, ref vVar24.y );
    GENERATE_RANDOM_FLOAT_IN_RANGE( -0.50000000, 0.50000000, ref vVar24.z );
    vVar24 = {vVar24 * (0.00400000 * fVar9)};
    if (fVar9 < 20.00000000)
    {
        vVar24.z += 0.60000000 + ((0.75000000 * fVar9) / 20.00000000);
    }
    else
    {
        vVar24.z += 1.35000000;
    }
    l_U29 = {l_U29 + (((vVar24 - l_U26) * 0.50000000) / fVar9)};
    if ((VMAG2( l_U29 )) > 1.00000000)
    {
        l_U29 = {l_U29 / (VMAG( l_U29 ))};
    }
    else
    {
        l_U29 = {l_U29 * (0.98000000 - (0.10000000 / fVar9))};
    }
    l_U26 = {l_U26 + l_U29};
    SET_CAM_POINT_OFFSET( l_U19, l_U26._fU0, l_U26._fU4, l_U26._fU8 );
    return;
}

void sub_60896(float fParam0)
{
    if (fParam0 < 4.55000000)
    {
        fParam0 = 4.55000000;
    }
    else if (fParam0 > 90.00000000)
    {
        fParam0 = 90.00000000;
    }
    return ATAN2( 6.50000000, fParam0 );
}

void sub_61631(unknown uParam0, unknown uParam1)
{
    int iVar4;
    int iVar5;
    int iVar6;
    unknown uVar7;

    GET_KEY_FOR_CHAR_IN_ROOM( (uParam0^)[uParam1]._fU0, ref iVar4 );
    if (NOT (DOES_CAM_EXIST( l_U19 )))
    {
        GET_KEY_FOR_CHAR_IN_ROOM( sub_3952(), ref iVar6 );
        if (iVar4 != iVar6)
        {
            return;
        }
        BEGIN_CAM_COMMANDS( ref iVar5 );
        if (iVar5 != 1)
        {
            ;
        }
        else
        {
            CREATE_CAM( 14, ref l_U19 );
            ATTACH_CAM_TO_VEHICLE( l_U19, (uParam0^)[uParam1]._fU4 );
            SET_CAM_ATTACH_OFFSET( l_U19, 0.00000000, 0.45000000, 0.70000000 );
            SET_CAM_ATTACH_OFFSET_IS_RELATIVE( l_U19, 1 );
            POINT_CAM_AT_PED( l_U19, sub_3952() );
            SET_CAM_ACTIVE( l_U19, 1 );
            SET_CAM_PROPAGATE( l_U19, 1 );
            ACTIVATE_SCRIPTED_CAMS( 1, 1 );
            l_U33 = 0;
            l_U21 = 1;
            l_U20 = uParam1;
            SET_GAME_CAMERA_CONTROLS_ACTIVE( 0 );
            SET_CINEMATIC_BUTTON_ENABLED( 0 );
            l_U22 = sub_19586( (uParam0^)[l_U20]._fU0, sub_3952(), 1 );
            l_U23 = l_U22;
            l_U24 = 0.00000000;
            l_U26 = {0, 0, 1.35000000};
            if (l_U22 < 20.00000000)
            {
                l_U26._fU8 = 0.60000000 + ((0.75000000 * l_U22) / 20.00000000);
            }
            l_U29 = {0, 0, 0};
            GET_GAME_TIMER( ref l_U25 );
            sub_60418( ref (uParam0^)[l_U20] );
            GET_GAME_TIMER( ref l_U32 );
        }
        END_CAM_COMMANDS( ref iVar5 );
    }
    else if (NOT l_U33)
    {
        GET_GAME_VIEWPORT_ID( ref uVar7 );
        SET_ROOM_FOR_VIEWPORT_BY_KEY( uVar7, iVar4 );
        l_U33 = 1;
    }
    return;
}

int sub_62465(unknown uParam0)
{
    if (NOT (IS_CHAR_DEAD( sub_3952() )))
    {
        if (NOT (IS_CAR_DEAD( uParam0 )))
        {
            if (NOT (IS_CHAR_IN_CAR( sub_3952(), uParam0 )))
            {
                if (NOT (LOCATE_CHAR_ANY_MEANS_CAR_3D( sub_3952(), uParam0, 200.00000000, 200.00000000, 200.00000000, 0 )))
                {
                    return 1;
                }
                if (NOT (LOCATE_CHAR_ANY_MEANS_CAR_3D( sub_3952(), uParam0, 150.00000000, 150.00000000, 150.00000000, 0 )))
                {
                    GET_GAME_TIMER( ref l_U361 );
                    l_U362 = l_U361 - l_U360;
                    if (l_U362 > 180000)
                    {
                        return 1;
                    }
                }
                else
                {
                    GET_GAME_TIMER( ref l_U360 );
                }
                if (sub_51577( uParam0 ))
                {
                    return 1;
                }
            }
            else if (CHECK_STUCK_TIMER( uParam0, 3, 60000 ))
            {
                return 1;
            }
            if ((NOT (CHECK_STUCK_TIMER( uParam0, 1, 0 ))) AND (CHECK_STUCK_TIMER( uParam0, 2, 30000 )))
            {
                return 1;
            }
            if (CHECK_STUCK_TIMER( uParam0, 0, 5000 ))
            {
                return 1;
            }
        }
    }
    return 0;
}

void sub_62999(unknown uParam0, int iParam1)
{
    int I;
    boolean bVar5;
    unknown uVar6;

    for ( I = 0; I < (uParam0^); I++ )
    {
        if (NOT (IS_CHAR_INJURED( (uParam0^)[I]._fU0 )))
        {
            if ((uParam0^)[I]._fU0 != iParam1)
            {
                bVar5 = false;
                if (IS_CHAR_ON_FOOT( (uParam0^)[I]._fU0 ))
                {
                    bVar5 = true;
                }
                else if (sub_25944( (uParam0^)[I]._fU0, iParam1, 1 ))
                {
                    bVar5 = true;
                }
                else if (IS_CHAR_IN_ANY_CAR( (uParam0^)[I]._fU0 ))
                {
                    STORE_CAR_CHAR_IS_IN_NO_SAVE( (uParam0^)[I]._fU0, ref uVar6 );
                    if (sub_3861( (uParam0^)[I]._fU0, uVar6 ))
                    {
                        bVar5 = true;
                    }
                };;;
                if (bVar5)
                {
                    sub_24919( ref (uParam0^)[I], iParam1 );
                }
            }
        }
    }
    return;
}

boolean sub_63312()
{
    return (LOCATE_CHAR_IN_CAR_3D( sub_3952(), l_U3527._fU0, l_U3527._fU4, l_U3527._fU8 + 2.00000000, 2.50000000, 2.50000000, 5.00000000, 0 )) || (IS_CHAR_IN_AREA_3D( sub_3952(), 654.53010000, -372.51000000, 0.24000000, 801.62000000, -184.86000000, 6.12000000, 0 ));
}

void sub_63492(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    return uParam0._fU12;
}

void sub_63586(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    return sub_63609( uParam0, ref l_U34._fU0, uParam1, uParam2, uParam3 );
}

int sub_63609(unknown uParam0, unknown uParam1, int iParam2, unknown uParam3, unknown uParam4)
{
    char[16] cVar7;
    char[12] cVar11;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    StrCopy( ref cVar7, uParam1, 16 );
    array(ref cVar11, 2);
    if (iParam2->_fU12)
    {
        StrCopy( ref cVar11[0], uParam0, 16 );
        StrCopy( ref cVar11[1], "END", 16 );
        return sub_16111( ref cVar11, iParam2, uParam3, 1, 0, 0, 0, ref cVar7, uParam4 );
    }
    return 0;
}

int sub_64102(int iParam0)
{
    if (iParam0->_fU12)
    {
        sub_16210( "\n already paused" );
    }
    else if ((g_U8946 == 2) || ((g_U8946 == 1) || (IS_SCRIPTED_CONVERSATION_ONGOING())))
    {
        if (iParam0->_fU4 == g_U8945)
        {
            iParam0->_fU8 += (ABORT_SCRIPTED_CONVERSATION( 0 )) + 1;
            sub_16210( "\n CONVERSATION PAUSED AT LINE " );
            sub_64258( iParam0->_fU8 );
            iParam0->_fU12 = 1;
            iParam0->_fU16 = 0;
            return 1;
        }
        else
        {
            sub_16210( "\n NOT pausing the line as scripted and global speech id dont match or the speech is already paused" );
        }
    }
    else
    {
        sub_16210( "\n NOT pausing the line as conversation is not playing" );
    }
    if (NOT iParam0->_fU12)
    {
        iParam0->_fU8 = -1;
        sub_16210( "\n reseting paused struct line" );
    }
    return 0;
}

void sub_64258(unknown uParam0)
{
    return;
}

void sub_64576()
{
    int I;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    vector vVar6;
    float fVar9;
    vector vVar10;
    float fVar13;

    sub_64585();
    if (IS_CHAR_IN_ANY_CAR( sub_3952() ))
    {
        SET_CHAR_COORDINATES( sub_3952(), 787.03810000, -246.32060000, 14.30240000 );
        SET_CHAR_HEADING( sub_3952(), 155.79830000 );
        STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_3952(), ref uVar4 );
        if (IS_VEH_DRIVEABLE( uVar4 ))
        {
            SET_CAR_ON_GROUND_PROPERLY( uVar4 );
        }
    }
    else
    {
        GET_PLAYERS_LAST_CAR_NO_SAVE( ref uVar4 );
        if (IS_VEH_DRIVEABLE( uVar4 ))
        {
            if (LOCATE_CAR_3D( uVar4, l_U3527._fU0, l_U3527._fU4, l_U3527._fU8, 30.00000000, 30.00000000, 30.00000000, 0 ))
            {
                GET_DRIVER_OF_CAR( uVar4, ref uVar5 );
                if (NOT (DOES_CHAR_EXIST( uVar5 )))
                {
                    SET_CAR_COORDINATES( uVar4, 787.03810000, -246.32060000, 14.30240000 );
                    SET_CAR_HEADING( uVar4, 155.79830000 );
                    SET_CAR_ON_GROUND_PROPERLY( uVar4 );
                    CLEAR_CHAR_TASKS_IMMEDIATELY( sub_3952() );
                    WARP_CHAR_INTO_CAR( sub_3952(), uVar4 );
                }
            }
            uVar4 = nil;
        }
    }
    ADD_SCENARIO_BLOCKING_AREA( 610.16000000, -333.50000000, -5.50000000, 854.16000000, -97.50000000, 9.50000000 );
    for ( I = 0; I < l_U3336; I++ )
    {
        sub_64954( ref l_U3336[I], 1 );
    }
    CLEAR_AREA( 752.29000000, -227.54000000, 5.31000000, 30.00000000, 1 );
    CLEAR_AREA( 787.29000000, -245.54000000, 15.31000000, 30.00000000, 1 );
    SET_WANTED_MULTIPLIER( 0.00000000 );
    SET_CREATE_RANDOM_COPS( 0 );
    REQUEST_MODEL( l_U3279 );
    REQUEST_MODEL( l_U3281 );
    REQUEST_MODEL( l_U3180 );
    LOAD_ALL_OBJECTS_NOW();
    CREATE_CHAR( 26, l_U3180, 755.01160000, -223.29840000, 4.81850000, ref l_U3183[0], 1 );
    SET_CHAR_HEADING( l_U3183[0], 7.25490000 );
    SET_CHAR_RELATIONSHIP_GROUP( l_U3183[0], 27 );
    CREATE_CHAR( 26, l_U3180, 760.71290000, -214.26550000, 4.83610000, ref l_U3183[1], 1 );
    SET_CHAR_HEADING( l_U3183[1], 107.33250000 );
    SET_CHAR_RELATIONSHIP_GROUP( l_U3183[1], 27 );
    MARK_MODEL_AS_NO_LONGER_NEEDED( l_U3180 );
    if (g_U39149[16] == 0)
    {
        ENABLE_SCENE_STREAMING( 0 );
        LOAD_ADDITIONAL_TEXT( "E1R1AUD", 6 );
        START_CUTSCENE_NOW( "RB01_BA" );
        while (NOT HAS_CUTSCENE_LOADED())
        {
            WAIT( 0 );
        }
        while (NOT HAS_CUTSCENE_FINISHED())
        {
            WAIT( 0 );
        }
        ENABLE_SCENE_STREAMING( 1 );
        CLEAR_NAMED_CUTSCENE( "RB01_BA" );
    }
    g_U39149[16] = 1;
    for ( I = 0; I < l_U3336; I++ )
    {
        sub_64954( ref l_U3336[I], 1 );
    }
    RELEASE_PATH_NODES();
    REMOVE_BLIP( l_U3173 );
    vVar6 = {761.13570000, -209.89050000, 4.86850000};
    fVar9 = 325.16070000;
    vVar10 = {751.94340000, -226.22470000, 4.81850000};
    fVar13 = 175.32020000;
    REQUEST_MODEL( l_U3177 );
    REQUEST_MODEL( l_U3179 );
    REQUEST_MODEL( l_U3256 );
    REQUEST_MODEL( l_U3180 );
    sub_38265( 1 );
    sub_38265( 2 );
    LOAD_ALL_OBJECTS_NOW();
    while ((NOT (HAS_MODEL_LOADED( l_U3180 ))) || ((NOT (HAS_MODEL_LOADED( l_U3256 ))) || ((NOT (HAS_MODEL_LOADED( l_U3179 ))) || (NOT (HAS_MODEL_LOADED( l_U3177 ))))))
    {
        WAIT( 0 );
    }
    if (sub_65887())
    {
        sub_66054( 781.06010000, -218.36310000, 4.85870000, 158.16890000, 784.05690000, -216.00480000, 4.96360000, 167.49250000, 0 );
        while ((NOT (DOES_CHAR_EXIST( g_U11081[1] ))) || (NOT (DOES_CHAR_EXIST( g_U11081[0] ))))
        {
            WAIT( 0 );
        }
        sub_64585();
        sub_62999( ref g_U11028, sub_3952() );
        sub_56320( ref g_U11028, -2, 0 );
    }
    sub_66580( 781.06010000, -218.36310000, 4.85870000, 158.16890000, 0, 781.06010000, -218.36310000, 4.85870000, 158.16890000, 784.05690000, -216.00480000, 4.96360000, 167.49250000, 0, 784.05690000, -216.00480000, 4.96360000, 167.49250000 );
    REQUEST_CAR_RECORDING( 2300 );
    REQUEST_CAR_RECORDING( 2297 );
    REQUEST_CAR_RECORDING( 2298 );
    REQUEST_CAR_RECORDING( 2299 );
    LOAD_ALL_OBJECTS_NOW();
    # -sub_C1FFC0-0xc214c8( 3, ref l_U3192 );
    LOAD_COMBAT_DECISION_MAKER( 1, ref l_U3193 );
    SET_DECISION_MAKER_ATTRIBUTE_WEAPON_ACCURACY( l_U3193, 2 );
    CREATE_CAR( l_U3179, vVar10.x, vVar10.y, vVar10.z, ref l_U3187, 1 );
    SET_CAR_ONLY_DAMAGED_BY_PLAYER( l_U3187, 0 );
    SUPPRESS_CAR_MODEL( l_U3179 );
    SET_CAR_HEADING( l_U3187, fVar13 );
    SET_CAR_CAN_BE_DAMAGED( l_U3187, 0 );
    SET_CAR_PROOFS( l_U3187, 1, 1, 1, 1, 1 );
    SET_VEHICLE_DIRT_LEVEL( l_U3187, 0.00000000 );
    SET_CAR_COLOUR_COMBINATION( l_U3187, 0 );
    if (NOT (IS_CHAR_DEAD( l_U3336[2]._fU0 )))
    {
        TASK_DRIVE_BY( l_U3336[2]._fU0, 0, l_U3187, 0.00000000, 2.00000000, 0.00000000, 200.00000000, 4, 1, 50 );
    }
    CREATE_CHAR_INSIDE_CAR( l_U3187, 26, l_U3180, ref l_U3189 );
    SET_CHAR_RELATIONSHIP_GROUP( l_U3189, 27 );
    SET_CHAR_CANT_BE_DRAGGED_OUT( l_U3189, 1 );
    SET_CHAR_SUFFERS_CRITICAL_HITS( l_U3189, 0 );
    SET_CHAR_INVINCIBLE( l_U3189, 1 );
    SET_CHAR_RELATIONSHIP( l_U3189, 3, 0 );
    SET_CHAR_MONEY( l_U3189, sub_8441( 200, 500 ) );
    CREATE_CHAR_AS_PASSENGER( l_U3187, 26, l_U3177, 2, ref l_U3188 );
    SET_CHAR_RELATIONSHIP_GROUP( l_U3188, 27 );
    SET_CHAR_CANT_BE_DRAGGED_OUT( l_U3188, 1 );
    SET_CHAR_INVINCIBLE( l_U3188, 1 );
    SET_CHAR_RELATIONSHIP( l_U3188, 3, 0 );
    sub_44028( 3, l_U3188, "EVAN", 0 );
    SET_CHAR_AS_ENEMY( l_U3188, 1 );
    SET_CHAR_MONEY( l_U3189, sub_8441( 200, 500 ) );
    if (NOT (IS_CHAR_INJURED( l_U3188 )))
    {
        if (IS_CHAR_IN_ANY_CAR( l_U3188 ))
        {
            WARP_CHAR_FROM_CAR_TO_COORD( l_U3188, 753.21140000, -216.60380000, 4.81850000 );
        }
        else
        {
            SET_CHAR_COORDINATES( l_U3188, 753.21140000, -216.60380000, 4.81850000 );
        }
        SET_CHAR_HEADING( l_U3188, 344.54020000 );
    }
    else
    {
        SCRIPT_ASSERT( "DO_CONVOY_CHASE_CUTSCENE(): Tony or diamond guy is dead!" );
    }
    if ((NOT (IS_CHAR_INJURED( l_U3189 ))) AND ((NOT (IS_CHAR_INJURED( l_U3188 ))) AND (IS_VEH_DRIVEABLE( l_U3187 ))))
    {
        CLEAR_AREA( 744.56680000, -371.18800000, 6.25080000, 20.00000000, 1 );
        SET_CAR_COORDINATES( l_U3187, 748.91180000, -235.45850000, 5.44260000 );
        SET_VEHICLE_QUATERNION( l_U3187, 0.00000000, 0.00010000, 0.97510000, 0.22170000 );
        SET_CAR_CAN_BE_DAMAGED( l_U3187, 1 );
        SET_CAR_PROOFS( l_U3187, 0, 0, 0, 0, 0 );
        SET_CAR_HEALTH( l_U3187, 3200 );
        SET_PETROL_TANK_HEALTH( l_U3187, 3200 );
        SET_ENGINE_HEALTH( l_U3187, 3200 );
        WARP_CHAR_INTO_CAR_AS_PASSENGER( l_U3188, l_U3187, 2 );
        SET_CHAR_INVINCIBLE( l_U3188, 0 );
        SET_CHAR_CANT_BE_DRAGGED_OUT( l_U3188, 0 );
        GIVE_WEAPON_TO_CHAR( l_U3188, 7, 30000, 0 );
        SET_CHAR_CAN_BE_SHOT_IN_VEHICLE( l_U3188, 0 );
        SET_CHAR_FORCE_DIE_IN_CAR( l_U3188, 0 );
        SET_PED_DIES_WHEN_INJURED( l_U3188, 1 );
        SET_CHAR_DECISION_MAKER( l_U3188, l_U3192 );
        SET_COMBAT_DECISION_MAKER( l_U3188, l_U3193 );
        SET_CHAR_PROOFS( l_U3188, 0, 1, 0, 0, 0 );
        SET_CHAR_INVINCIBLE( l_U3189, 0 );
        SET_CHAR_CANT_BE_DRAGGED_OUT( l_U3189, 0 );
        GIVE_WEAPON_TO_CHAR( l_U3189, 7, 30000, 0 );
        SET_CHAR_HEALTH( l_U3189, 350 );
        CREATE_CHAR_AS_PASSENGER( l_U3187, 26, l_U3180, 0, ref l_U3190 );
        SET_CHAR_RELATIONSHIP_GROUP( l_U3190, 27 );
        GIVE_WEAPON_TO_CHAR( l_U3190, 7, 30000, 0 );
        TASK_DRIVE_BY( l_U3190, sub_3952(), 0, 0.00000000, 0.00000000, 0.00000000, 23.00000000, 8, 1, 25 );
        SET_CHAR_RELATIONSHIP( l_U3190, 3, 0 );
        SET_CHAR_MONEY( l_U3189, sub_8441( 200, 500 ) );
        START_PLAYBACK_RECORDED_CAR( l_U3187, 2300 );
        SET_PLAYBACK_SPEED( l_U3187, 0.70000000 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3189, 1 );
        SET_CAR_TRACTION( l_U3187, 2.00000000 );
    }
    CLEAR_CHAR_TASKS( sub_3952() );
    SET_CHAR_COORDINATES( sub_3952(), 781.23650000, -225.71060000, 4.95870000 );
    SET_CHAR_HEADING( sub_3952(), 170.78330000 );
    SET_CAM_BEHIND_PED( sub_3952() );
    SET_GAME_CAM_HEADING( 0.00000000 );
    LOAD_COMBAT_DECISION_MAKER( 2, ref l_U3253 );
    SET_DECISION_MAKER_ATTRIBUTE_WEAPON_ACCURACY( l_U3253, 5 );
    REQUEST_MODEL( l_U3256 );
    LOAD_ALL_OBJECTS_NOW();
    CREATE_CAR( l_U3256, 753.26870000, -292.94640000, 4.98640000, ref l_U3274, 1 );
    SET_CAR_HEADING( l_U3274, 157.03710000 );
    SET_CAR_ON_GROUND_PROPERLY( l_U3274 );
    SET_CAR_COLOUR_COMBINATION( l_U3274, 0 );
    SET_CAR_TRACTION( l_U3274, 2.00000000 );
    SET_CAR_HEALTH( l_U3274, 2500 );
    SET_PETROL_TANK_HEALTH( l_U3274, 2500 );
    SET_ENGINE_HEALTH( l_U3274, 2500 );
    CREATE_CHAR_INSIDE_CAR( l_U3274, 26, l_U3180, ref l_U3275[0] );
    SET_CHAR_CAN_BE_SHOT_IN_VEHICLE( l_U3275[0], 0 );
    SET_CHAR_AS_ENEMY( l_U3275[0], 1 );
    SET_CHAR_COMPONENT_VARIATION( l_U3275[0], 0, 1, 0 );
    SET_CHAR_COMPONENT_VARIATION( l_U3275[0], 1, 1, 0 );
    CREATE_CHAR_AS_PASSENGER( l_U3274, 26, l_U3180, 0, ref l_U3275[1] );
    TASK_DRIVE_BY( l_U3275[1], sub_3952(), 0, 0.00000000, 0.00000000, 0.00000000, 23.00000000, 8, 1, 60 );
    SET_CHAR_AS_ENEMY( l_U3275[1], 1 );
    SET_CHAR_COMPONENT_VARIATION( l_U3275[1], 0, 0, 1 );
    SET_CHAR_COMPONENT_VARIATION( l_U3275[1], 1, 1, 1 );
    CREATE_CHAR_AS_PASSENGER( l_U3274, 26, l_U3180, 1, ref l_U3275[2] );
    SET_CHAR_CAN_BE_SHOT_IN_VEHICLE( l_U3275[2], 0 );
    SET_CHAR_RANDOM_COMPONENT_VARIATION( l_U3275[2] );
    SET_CHAR_AS_ENEMY( l_U3275[2], 1 );
    for ( I = 0; I < l_U3275; I++ )
    {
        SET_CHAR_RELATIONSHIP( l_U3275[I], 5, 0 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3275[I], 1 );
        SET_CHAR_RELATIONSHIP_GROUP( l_U3275[I], 27 );
        SET_CHAR_CANT_BE_DRAGGED_OUT( l_U3275[I], 1 );
        GIVE_WEAPON_TO_CHAR( l_U3275[I], 7, 30000, 1 );
        SET_COMBAT_DECISION_MAKER( l_U3275[I], l_U3253 );
        SET_CHAR_HEALTH( l_U3275[I], 500 );
        SET_CHAR_DIES_INSTANTLY_IN_WATER( l_U3275[I], 1 );
        SET_CHAR_DROWNS_IN_SINKING_VEHICLE( l_U3275[I], 1 );
    }
    START_PLAYBACK_RECORDED_CAR( l_U3274, 2297 );
    SET_PLAYBACK_SPEED( l_U3274, 0.65000000 );
    MARK_MODEL_AS_NO_LONGER_NEEDED( l_U3256 );
    CREATE_CHAR( 26, l_U3180, 754.01160000, -223.29840000, 4.81850000, ref l_U3183[0], 1 );
    SET_CHAR_HEADING( l_U3183[0], 7.25490000 );
    CREATE_CHAR( 26, l_U3180, 754.01160000, -220.29840000, 4.81850000, ref l_U3183[1], 1 );
    SET_CHAR_HEADING( l_U3183[1], 19.68200000 );
    for ( I = 0; I < l_U3183; I++ )
    {
        if (NOT (IS_CHAR_INJURED( l_U3183[I] )))
        {
            SET_CHAR_RELATIONSHIP_GROUP( l_U3275[I], 27 );
            SET_CHAR_RELATIONSHIP( l_U3183[I], 5, 0 );
            SET_COMBAT_DECISION_MAKER( l_U3183[I], l_U3253 );
            GIVE_WEAPON_TO_CHAR( l_U3183[I], 13, 30000, 1 );
            TASK_COMBAT( l_U3183[I], sub_3952() );
        }
    }
    CREATE_CAR( l_U3281, 783.69020000, -231.72450000, 5.41890000, ref l_U3195[0], 1 );
    SET_VEHICLE_QUATERNION( l_U3195[0], 0.00750000, -0.00180000, -0.36790000, 0.92990000 );
    CREATE_CHAR_INSIDE_CAR( l_U3195[0], 26, l_U3279, ref l_U3198[0] );
    START_PLAYBACK_RECORDED_CAR( l_U3195[0], 2298 );
    SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( l_U3195[0], 8.00000000 );
    CREATE_CAR( l_U3281, 783.69150000, -231.72440000, 5.42020000, ref l_U3195[1], 1 );
    SET_VEHICLE_QUATERNION( l_U3195[1], 0.00630000, -0.00000000, -0.36780000, 0.92990000 );
    CREATE_CHAR_INSIDE_CAR( l_U3195[1], 26, l_U3279, ref l_U3198[1] );
    START_PLAYBACK_RECORDED_CAR( l_U3195[1], 2299 );
    SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( l_U3195[1], 7.00000000 );
    for ( I = 0; I < 2; I++ )
    {
        sub_30497( l_U3195[I], l_U3281, 9 );
        SET_CAR_ONLY_DAMAGED_BY_PLAYER( l_U3195[I], 1 );
        SET_CAR_PROOFS( l_U3195[I], 1, 1, 1, 1, 1 );
        LOCK_CAR_DOORS( l_U3195[I], 2 );
        SET_VEHICLE_IS_CONSIDERED_BY_PLAYER( l_U3195[I], 0 );
        SET_CHAR_ONLY_DAMAGED_BY_PLAYER( l_U3198[I], 1 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3198[I], 1 );
        TASK_LOOK_AT_CHAR( l_U3198[I], sub_3952(), 9000, 0 );
        SET_CHAR_STAY_IN_CAR_WHEN_JACKED( l_U3198[I], 1 );
        SET_PLAYBACK_SPEED( l_U3195[I], 250.00000000 );
    }
    for ( I = 0; I < 2; I++ )
    {
        if (IS_VEH_DRIVEABLE( l_U3195[I] ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3195[I] ))
            {
                SET_PLAYBACK_SPEED( l_U3195[I], 1.05000000 );
            }
        }
        if (NOT (IS_CHAR_INJURED( l_U3198[I] )))
        {
            if (IS_CHAR_ON_ANY_BIKE( l_U3198[I] ))
            {
                sub_13036( l_U3198[I], sub_20212( 1 ), sub_3952(), 23 );
            }
        }
    }
    if (NOT (IS_CHAR_DEAD( l_U3198[1] )))
    {
        TASK_LOOK_AT_CHAR( sub_3952(), l_U3198[1], 3500, 0 );
    }
    CLEAR_AREA_OF_COPS( 878.34010000, 65185, 17, 20.00000000 );
    SET_ZONE_NO_COPS( GET_NAME_OF_ZONE( 878.34010000, 65185, 17 ), 1 );
    MARK_MODEL_AS_NO_LONGER_NEEDED( l_U3279 );
    MARK_MODEL_AS_NO_LONGER_NEEDED( l_U3281 );
    REMOVE_CAR_RECORDING( 2300 );
    REMOVE_CAR_RECORDING( 2297 );
    REMOVE_CAR_RECORDING( 2298 );
    REMOVE_CAR_RECORDING( 2299 );
    g_U10454 = 0;
    return;
}

void sub_64585()
{
    g_U11090 = 1;
    return;
}

void sub_64954(int iParam0, boolean bParam1)
{
    int iVar4;

    if (DOES_BLIP_EXIST( iParam0->_fU100 ))
    {
        REMOVE_BLIP( iParam0->_fU100 );
    }
    if ((iParam0->_fU0 != sub_3952()) AND (DOES_CHAR_EXIST( iParam0->_fU0 )))
    {
        DELETE_CHAR( iParam0 + 0 );
    }
    if (DOES_VEHICLE_EXIST( iParam0->_fU4 ))
    {
        if (bParam1)
        {
            iVar4 = nil;
            if (IS_CHAR_IN_ANY_CAR( sub_3952() ))
            {
                STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_3952(), ref iVar4 );
            }
            if (iVar4 == iParam0->_fU4)
            {
                MARK_CAR_AS_NO_LONGER_NEEDED( iParam0 + 4 );
            }
            else
            {
                DELETE_CAR( iParam0 + 4 );
            }
        }
        else
        {
            MARK_CAR_AS_NO_LONGER_NEEDED( iParam0 + 4 );
        }
    }
    iParam0->_fU0 = nil;
    iParam0->_fU4 = nil;
    iParam0->_fU8 = nil;
    iParam0->_fU12 = nil;
    iParam0->_fU36 = 4;
    return;
}

int sub_65887()
{
    if ((sub_65897( 1 )) || (sub_65897( 0 )))
    {
        if (NOT (sub_65897( 0 )))
        {
            sub_65948( 0 );
        }
        if (NOT (sub_65897( 1 )))
        {
            sub_65948( 1 );
        }
        return 1;
    }
    return 0;
}

void sub_65897(unknown uParam0)
{
    return g_U11123[uParam0];
}

void sub_65948(unknown uParam0)
{
    g_U11126[uParam0] = 1;
    return;
}

void sub_66054(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    if (NOT sub_38065())
    {
        sub_66097( uParam0, uParam3, 0, uParam0, uParam3, uParam4, uParam7, 0, uParam4, uParam7, 1 );
        sub_66245( uParam8 );
        sub_66269();
    }
    return;
}

void sub_66097(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18)
{
    g_U11183[0] = {uParam0};
    g_U11159[0] = uParam3;
    g_U11120[0] = uParam4;
    g_U11190[0] = {uParam5};
    g_U11162[0] = uParam8;
    g_U11183[1] = {uParam9};
    g_U11159[1] = uParam12;
    g_U11120[1] = uParam13;
    g_U11190[1] = {uParam14};
    g_U11162[1] = uParam17;
    g_U11097 = uParam18;
    g_U11099 = 1;
    return;
}

void sub_66245(unknown uParam0)
{
    g_U11100 = uParam0;
    return;
}

void sub_66269()
{
    REQUEST_SCRIPT( "ability_backup" );
    while (NOT (HAS_SCRIPT_LOADED( "ability_backup" )))
    {
        REQUEST_SCRIPT( "ability_backup" );
        WAIT( 0 );
    }
    START_NEW_SCRIPT( "ability_backup", 1828 );
    return;
}

void sub_66580(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17)
{
    if (sub_66589())
    {
        g_U11183[0] = {uParam0};
        g_U11159[0] = uParam3;
        g_U11120[0] = uParam4;
        g_U11190[0] = {uParam5};
        g_U11162[0] = uParam8;
        g_U11183[1] = {uParam9};
        g_U11159[1] = uParam12;
        g_U11120[1] = uParam13;
        g_U11190[1] = {uParam14};
        g_U11162[1] = uParam17;
        g_U11102 = 1;
    }
    return;
}

void sub_66589()
{
    if (NOT sub_38065())
    {
        return 0;
    }
    return g_U11090;
}

int sub_69958(unknown uParam0)
{
    int I;

    REQUEST_MODEL( l_U3530 );
    if (HAS_MODEL_LOADED( l_U3530 ))
    {
        for ( I = 0; I < (uParam0^); I++ )
        {
            CREATE_OBJECT( l_U3530, (uParam0^)[I]._fU0._fU0, (uParam0^)[I]._fU0._fU4, (uParam0^)[I]._fU0._fU8, ref (uParam0^)[I]._fU16, 1 );
            SET_OBJECT_HEADING( (uParam0^)[I]._fU16, (uParam0^)[I]._fU12 );
            FREEZE_OBJECT_POSITION( (uParam0^)[I]._fU16, 1 );
        }
        MARK_MODEL_AS_NO_LONGER_NEEDED( l_U3530 );
        return 1;
    }
    return 0;
}

void sub_70250()
{
    sub_70261( 1, 1 );
    SET_PED_IS_BLIND_RAGING( sub_3952(), 1 );
    l_U2223[0] = {770.52040000, -315.94200000, 11.23820000};
    l_U424[0] = 0.06920000;
    l_U575[0] = -0.02310000;
    l_U726[0] = -0.06150000;
    l_U877[0] = 0.99540000;
    l_U1573[0] = 2301;
    l_U1028[0] = 1699.00000000;
    l_U1995[0] = 83136452;
    l_U2223[1] = {773.50160000, -397.02800000, 5.72100000};
    l_U424[1] = 0.01560000;
    l_U575[1] = -0.00130000;
    l_U726[1] = -0.11690000;
    l_U877[1] = 0.99299990;
    l_U1573[1] = 2302;
    l_U1028[1] = 10718.00000000;
    l_U1995[1] = 886934177;
    l_U2223[2] = {771.61250000, -406.77700000, 5.65300000};
    l_U424[2] = 0.00830000;
    l_U575[2] = -0.00090000;
    l_U726[2] = -0.11170000;
    l_U877[2] = 0.99370010;
    l_U1573[2] = 2303;
    l_U1028[2] = 10775.00000000;
    l_U1995[2] = 886934177;
    l_U2223[3] = {876.83700000, -345.55800000, 15.89190000};
    l_U424[3] = -0.02450000;
    l_U575[3] = -0.03130000;
    l_U726[3] = 0.78700000;
    l_U877[3] = 0.61570000;
    l_U1573[3] = 2304;
    l_U1028[3] = 16757.00000000;
    l_U1995[3] = -344943009;
    l_U2223[4] = {943.71140000, -301.44500000, 18.43400000};
    l_U424[4] = -0.01760000;
    l_U575[4] = -0.01760000;
    l_U726[4] = 0.70970000;
    l_U877[4] = 0.70400000;
    l_U1573[4] = 2305;
    l_U1028[4] = 21995.00000000;
    l_U1995[4] = 83136452;
    l_U2223[5] = {931.18270000, -301.43190000, 17.74690000};
    l_U424[5] = -0.01720000;
    l_U575[5] = -0.01690000;
    l_U726[5] = 0.71530000;
    l_U877[5] = 0.69840000;
    l_U1573[5] = 2306;
    l_U1028[5] = 22325.00000000;
    l_U1995[5] = -344943009;
    l_U2223[6] = {937.23930000, -300.85530000, 18.13190000};
    l_U424[6] = -0.01480000;
    l_U575[6] = -0.01470000;
    l_U726[6] = 0.70820000;
    l_U877[6] = 0.70570000;
    l_U1573[6] = 2307;
    l_U1028[6] = 22589.00000000;
    l_U1995[6] = -956048545;
    l_U2223[7] = {982.52210000, -306.19400000, 20.86680000};
    l_U424[7] = 0.01900000;
    l_U575[7] = -0.01910000;
    l_U726[7] = -0.70470000;
    l_U877[7] = 0.70900000;
    l_U1573[7] = 2308;
    l_U1028[7] = 25625.00000000;
    l_U1995[7] = 1075851868;
    l_U2223[8] = {1001.94000000, -310.42260000, 21.18770000};
    l_U424[8] = -0.00480000;
    l_U575[8] = -0.00180000;
    l_U726[8] = 0.02130000;
    l_U877[8] = 0.99980000;
    l_U1573[8] = 2309;
    l_U1028[8] = 25757.00000000;
    l_U1995[8] = 1075851868;
    l_U2674[0] = {1041.75800000, -323.99440000, 19.39710000};
    l_U1339[0] = 0.01050000;
    l_U1390[0] = -0.00050000;
    l_U1441[0] = 0.86350000;
    l_U1492[0] = 0.50420000;
    l_U2146[0] = 1075851868;
    l_U2674[1] = {1063.20600000, -285.99470000, 20.74150000};
    l_U1339[1] = -0.00510000;
    l_U1390[1] = -0.12710000;
    l_U1441[1] = 0.00560000;
    l_U1492[1] = 0.99190000;
    l_U2146[1] = -570033273;
    l_U2223[9] = {1059.06800000, -347.21910000, 22.17420000};
    l_U424[9] = -0.01970000;
    l_U575[9] = -0.05680000;
    l_U726[9] = 0.89360000;
    l_U877[9] = 0.44490000;
    l_U1573[9] = 2310;
    l_U1028[9] = 30058.00000000;
    l_U1995[9] = 0;
    l_U2223[10] = {1049.40100000, -353.38840000, 21.06860000};
    l_U424[10] = -0.03680000;
    l_U575[10] = -0.02360000;
    l_U726[10] = 0.85430010;
    l_U877[10] = 0.51790000;
    l_U1573[10] = 2311;
    l_U1028[10] = 30252.00000000;
    l_U1995[10] = -570033273;
    l_U2674[2] = {1028.17400000, -354.93740000, 19.06520000};
    l_U1339[2] = -0.02480000;
    l_U1390[2] = 0.03820000;
    l_U1441[2] = 0.84750010;
    l_U1492[2] = 0.52890000;
    l_U2146[2] = -344943009;
    l_U2223[11] = {858.68410000, -413.64570000, 37.97280000};
    l_U424[11] = 0.01630000;
    l_U575[11] = -0.01670000;
    l_U726[11] = 0.70860000;
    l_U877[11] = -0.70520000;
    l_U1573[11] = 2312;
    l_U1028[11] = 44301.00000000;
    l_U1995[11] = 1075851868;
    l_U2223[12] = {820.11150000, -413.79760000, 38.79320000};
    l_U424[12] = 0.00200000;
    l_U575[12] = -0.00200000;
    l_U726[12] = 0.70910000;
    l_U877[12] = -0.70510000;
    l_U1573[12] = 2313;
    l_U1028[12] = 45004.00000000;
    l_U1995[12] = -956048545;
    l_U2223[13] = {790.14430000, -413.61150000, 39.43810000};
    l_U424[13] = 0.01000000;
    l_U575[13] = -0.01010000;
    l_U726[13] = 0.70880000;
    l_U877[13] = -0.70529990;
    l_U1573[13] = 2314;
    l_U1028[13] = 47232.00000000;
    l_U1995[13] = -956048545;
    l_U2223[14] = {776.75580000, -413.26030000, 39.54630000};
    l_U424[14] = -0.00430000;
    l_U575[14] = 0.00430000;
    l_U726[14] = 0.70840000;
    l_U877[14] = -0.70580000;
    l_U1573[14] = 2315;
    l_U1028[14] = 48219.00000000;
    l_U1995[14] = 2016857647;
    l_U2223[15] = {768.37350000, -413.44260000, 39.83460000};
    l_U424[15] = 0.00420000;
    l_U575[15] = -0.00400000;
    l_U726[15] = 0.70820000;
    l_U877[15] = -0.70600000;
    l_U1573[15] = 2316;
    l_U1028[15] = 48791.00000000;
    l_U1995[15] = 0;
    l_U2223[16] = {756.63370000, -413.25200000, 40.00510000};
    l_U424[16] = 0.00090000;
    l_U575[16] = -0.00090000;
    l_U726[16] = -0.70620000;
    l_U877[16] = 0.70800000;
    l_U1573[16] = 2317;
    l_U1028[16] = 49428.00000000;
    l_U1995[16] = -956048545;
    l_U2223[17] = {747.45010000, -413.52900000, 40.00710000};
    l_U424[17] = -0.00860000;
    l_U575[17] = 0.00860000;
    l_U726[17] = 0.70770000;
    l_U877[17] = -0.70650000;
    l_U1573[17] = 2318;
    l_U1028[17] = 50086.00000000;
    l_U1995[17] = 2016857647;
    l_U2223[18] = {735.33510000, -413.55450000, 39.94060000};
    l_U424[18] = -0.00340000;
    l_U575[18] = 0.00340000;
    l_U726[18] = -0.70670000;
    l_U877[18] = 0.70750000;
    l_U1573[18] = 2319;
    l_U1028[18] = 50746.00000000;
    l_U1995[18] = -498054846;
    l_U2223[19] = {726.46370000, -413.38900000, 40.40390000};
    l_U424[19] = -0.00110000;
    l_U575[19] = 0.00760000;
    l_U726[19] = -0.70640000;
    l_U877[19] = 0.70770000;
    l_U1573[19] = 2320;
    l_U1028[19] = 51454.00000000;
    l_U1995[19] = 0;
    l_U2223[20] = {719.75020000, -413.53080000, 40.44550000};
    l_U424[20] = 0.00000000;
    l_U575[20] = 0.00180000;
    l_U726[20] = 0.70890000;
    l_U877[20] = -0.70529990;
    l_U1573[20] = 2321;
    l_U1028[20] = 52032.00000000;
    l_U1995[20] = 886934177;
    l_U2223[21] = {711.06780000, -417.38910000, 40.41280000};
    l_U424[21] = 0.00700000;
    l_U575[21] = -0.00720000;
    l_U726[21] = 0.70830000;
    l_U877[21] = -0.70580000;
    l_U1573[21] = 2322;
    l_U1028[21] = 52590.00000000;
    l_U1995[21] = 2016857647;
    l_U2223[22] = {706.57630000, -413.37180000, 40.56420000};
    l_U424[22] = 0.01290000;
    l_U575[22] = -0.01230000;
    l_U726[22] = 0.70880000;
    l_U877[22] = -0.70520000;
    l_U1573[22] = 2323;
    l_U1028[22] = 52651.00000000;
    l_U1995[22] = 886934177;
    l_U2223[23] = {704.03920000, -417.57920000, 40.72240000};
    l_U424[23] = 0.01100000;
    l_U575[23] = -0.01100000;
    l_U726[23] = 0.70820000;
    l_U877[23] = -0.70580000;
    l_U1573[23] = 2324;
    l_U1028[23] = 53045.00000000;
    l_U1995[23] = 1075851868;
    l_U2223[24] = {701.35850000, -413.32980000, 40.27030000};
    l_U424[24] = 0.01300000;
    l_U575[24] = -0.01250000;
    l_U726[24] = 0.70810000;
    l_U877[24] = -0.70580000;
    l_U1573[24] = 2325;
    l_U1028[24] = 53111.00000000;
    l_U1995[24] = -498054846;
    l_U2223[25] = {632.37180000, -417.27320000, 40.59610000};
    l_U424[25] = 0.00040000;
    l_U575[25] = -0.00030000;
    l_U726[25] = 0.70800000;
    l_U877[25] = -0.70620000;
    l_U1573[25] = 2326;
    l_U1028[25] = 56220.00000000;
    l_U1995[25] = 2016857647;
    l_U2223[26] = {613.07860000, -417.14910000, 40.63320000};
    l_U424[26] = 0.00420000;
    l_U575[26] = -0.00480000;
    l_U726[26] = -0.70590000;
    l_U877[26] = 0.70830000;
    l_U1573[26] = 2327;
    l_U1028[26] = 57174.00000000;
    l_U1995[26] = 0;
    l_U2223[27] = {600.58150000, -417.20450000, 40.52690000};
    l_U424[27] = 0.01020000;
    l_U575[27] = -0.01020000;
    l_U726[27] = -0.70470000;
    l_U877[27] = 0.70940000;
    l_U1573[27] = 2328;
    l_U1028[27] = 57762.00000000;
    l_U1995[27] = -956048545;
    l_U2223[28] = {594.94760000, -413.26450000, 40.47200000};
    l_U424[28] = -0.00040000;
    l_U575[28] = -0.00490000;
    l_U726[28] = -0.70630000;
    l_U877[28] = 0.70790000;
    l_U1573[28] = 2329;
    l_U1028[28] = 58018.00000000;
    l_U1995[28] = 886934177;
    l_U2223[29] = {589.25950000, -402.23830000, 40.07830000};
    l_U424[29] = -0.00640000;
    l_U575[29] = -0.00550000;
    l_U726[29] = 0.70850000;
    l_U877[29] = 0.70560000;
    l_U1573[29] = 2330;
    l_U1028[29] = 58150.00000000;
    l_U1995[29] = 0;
    l_U2223[30] = {570.17780000, -417.80450000, 40.07330000};
    l_U424[30] = -0.00180000;
    l_U575[30] = -0.02200000;
    l_U726[30] = -0.69950000;
    l_U877[30] = 0.71430000;
    l_U1573[30] = 2331;
    l_U1028[30] = 59063.00000000;
    l_U1995[30] = -570033273;
    l_U2223[31] = {564.79020000, -413.78220000, 40.11420000};
    l_U424[31] = 0.00610000;
    l_U575[31] = -0.00380000;
    l_U726[31] = -0.70610000;
    l_U877[31] = 0.70810000;
    l_U1573[31] = 2332;
    l_U1028[31] = 59380.00000000;
    l_U1995[31] = 886934177;
    l_U2223[32] = {556.73440000, -413.78430000, 40.12730000};
    l_U424[32] = -0.00290000;
    l_U575[32] = 0.00300000;
    l_U726[32] = 0.70880000;
    l_U877[32] = -0.70540000;
    l_U1573[32] = 2333;
    l_U1028[32] = 59774.00000000;
    l_U1995[32] = 1075851868;
    l_U2223[33] = {550.46940000, -398.78890000, 40.02880000};
    l_U424[33] = -0.00850000;
    l_U575[33] = -0.00910000;
    l_U726[33] = 0.70840000;
    l_U877[33] = 0.70570000;
    l_U1573[33] = 2334;
    l_U1028[33] = 59840.00000000;
    l_U1995[33] = 0;
    l_U2223[34] = {545.95920000, -413.80600000, 39.84250000};
    l_U424[34] = 0.00470000;
    l_U575[34] = -0.00420000;
    l_U726[34] = 0.70850000;
    l_U877[34] = -0.70570000;
    l_U1573[34] = 2335;
    l_U1028[34] = 60170.00000000;
    l_U1995[34] = -956048545;
    l_U2223[35] = {531.90440000, -413.64760000, 39.77130000};
    l_U424[35] = -0.00100000;
    l_U575[35] = 0.00650000;
    l_U726[35] = -0.70520000;
    l_U877[35] = 0.70890000;
    l_U1573[35] = 2336;
    l_U1028[35] = 60693.00000000;
    l_U1995[35] = 675415136;
    l_U2223[36] = {517.42910000, -398.63660000, 39.40460000};
    l_U424[36] = -0.00890000;
    l_U575[36] = -0.00950000;
    l_U726[36] = 0.70730000;
    l_U877[36] = 0.70680000;
    l_U1573[36] = 2337;
    l_U1028[36] = 61538.00000000;
    l_U1995[36] = 0;
    l_U2223[37] = {510.39480000, -402.92120000, 39.24390000};
    l_U424[37] = -0.02070000;
    l_U575[37] = -0.02060000;
    l_U726[37] = 0.70700000;
    l_U877[37] = 0.70660000;
    l_U1573[37] = 2338;
    l_U1028[37] = 61735.00000000;
    l_U1995[37] = 1075851868;
    l_U2223[38] = {501.33030000, -417.31920000, 39.10490000};
    l_U424[38] = -0.00910000;
    l_U575[38] = 0.00990000;
    l_U726[38] = 0.71010000;
    l_U877[38] = -0.70400000;
    l_U1573[38] = 2339;
    l_U1028[38] = 62234.00000000;
    l_U1995[38] = 675415136;
    l_U2223[39] = {501.50650000, -413.48510000, 38.93560000};
    l_U424[39] = 0.00070000;
    l_U575[39] = 0.00490000;
    l_U726[39] = 0.71320000;
    l_U877[39] = -0.70090000;
    l_U1573[39] = 2340;
    l_U1028[39] = 62601.00000000;
    l_U1995[39] = 83136452;
    l_U2223[40] = {494.45180000, -417.18440000, 38.37610000};
    l_U424[40] = 0.00310000;
    l_U575[40] = -0.00470000;
    l_U726[40] = -0.70390000;
    l_U877[40] = 0.71030000;
    l_U1573[40] = 2341;
    l_U1028[40] = 63160.00000000;
    l_U1995[40] = -498054846;
    l_U2223[41] = {477.69950000, -402.80390000, 37.94180000};
    l_U424[41] = -0.01160000;
    l_U575[41] = -0.01160000;
    l_U726[41] = 0.70520000;
    l_U877[41] = 0.70880000;
    l_U1573[41] = 2342;
    l_U1028[41] = 63730.00000000;
    l_U1995[41] = -498054846;
    l_U2223[42] = {478.58640000, -398.80980000, 38.29630000};
    l_U424[42] = -0.00270000;
    l_U575[42] = -0.00270000;
    l_U726[42] = 0.70520000;
    l_U877[42] = 0.70890000;
    l_U1573[42] = 2343;
    l_U1028[42] = 65154.00000000;
    l_U1995[42] = -956048545;
    l_U2223[43] = {457.76790000, -413.69550000, 37.83170000};
    l_U424[43] = -0.00400000;
    l_U575[43] = 0.00630000;
    l_U726[43] = 0.70780000;
    l_U877[43] = -0.70630000;
    l_U1573[43] = 2344;
    l_U1028[43] = 65405.00000000;
    l_U1995[43] = 884422927;
    l_U2223[44] = {461.28080000, -398.42750000, 37.80690000};
    l_U424[44] = 0.00030000;
    l_U575[44] = 0.00120000;
    l_U726[44] = 0.70380000;
    l_U877[44] = 0.71040000;
    l_U1573[44] = 2345;
    l_U1028[44] = 65712.00000000;
    l_U1995[44] = 0;
    l_U2223[45] = {415.07420000, -402.59020000, 36.42930000};
    l_U424[45] = -0.01070000;
    l_U575[45] = -0.00950000;
    l_U726[45] = 0.70490000;
    l_U877[45] = 0.70920000;
    l_U1573[45] = 2346;
    l_U1028[45] = 67244.00000000;
    l_U1995[45] = 0;
    l_U2223[46] = {400.29760000, -402.32410000, 36.07740000};
    l_U424[46] = -0.01990000;
    l_U575[46] = -0.01990000;
    l_U726[46] = 0.70660000;
    l_U877[46] = 0.70710000;
    l_U1573[46] = 2347;
    l_U1028[46] = 67499.00000000;
    l_U1995[46] = 1075851868;
    l_U2223[47] = {409.86420000, -398.69480000, 36.26370000};
    l_U424[47] = -0.01310000;
    l_U575[47] = -0.01210000;
    l_U726[47] = 0.70570000;
    l_U877[47] = 0.70830000;
    l_U1573[47] = 2348;
    l_U1028[47] = 67565.00000000;
    l_U1995[47] = 0;
    l_U2223[48] = {382.46660000, -413.44270000, 35.33920000};
    l_U424[48] = 0.02060000;
    l_U575[48] = -0.02060000;
    l_U726[48] = -0.70640000;
    l_U877[48] = 0.70720000;
    l_U1573[48] = 2349;
    l_U1028[48] = 68158.00000000;
    l_U1995[48] = 675415136;
    l_U2223[49] = {370.78290000, -413.63640000, 34.15030000};
    l_U424[49] = -0.01910000;
    l_U575[49] = 0.01890000;
    l_U726[49] = 0.70740000;
    l_U877[49] = -0.70630000;
    l_U1573[49] = 2350;
    l_U1028[49] = 68750.00000000;
    l_U1995[49] = -498054846;
    l_U2223[50] = {349.52640000, -398.49440000, 33.16580000};
    l_U424[50] = -0.04370000;
    l_U575[50] = -0.04370000;
    l_U726[50] = 0.70580000;
    l_U877[50] = 0.70570000;
    l_U1573[50] = 2351;
    l_U1028[50] = 70004.00000000;
    l_U1995[50] = 675415136;
    l_U2223[51] = {334.14430000, -402.54320000, 31.43690000};
    l_U424[51] = -0.03480000;
    l_U575[51] = -0.03490000;
    l_U726[51] = 0.70620000;
    l_U877[51] = 0.70630000;
    l_U1573[51] = 2352;
    l_U1028[51] = 70598.00000000;
    l_U1995[51] = 83136452;
    l_U2223[52] = {339.74300000, -402.64000000, 31.94590000};
    l_U424[52] = -0.03100000;
    l_U575[52] = -0.03100000;
    l_U726[52] = 0.70640000;
    l_U877[52] = 0.70640000;
    l_U1573[52] = 2353;
    l_U1028[52] = 71258.00000000;
    l_U1995[52] = 886934177;
    l_U2223[53] = {322.85280000, -398.36170000, 30.03790000};
    l_U424[53] = -0.04870000;
    l_U575[53] = -0.04870000;
    l_U726[53] = 0.70550000;
    l_U877[53] = 0.70540000;
    l_U1573[53] = 2354;
    l_U1028[53] = 71984.00000000;
    l_U1995[53] = 0;
    l_U2223[54] = {298.35160000, -402.32710000, 26.47690000};
    l_U424[54] = -0.06370000;
    l_U575[54] = -0.06370000;
    l_U726[54] = 0.70430000;
    l_U877[54] = 0.70420000;
    l_U1573[54] = 2355;
    l_U1028[54] = 72182.00000000;
    l_U1995[54] = 675415136;
    l_U2223[55] = {270.64110000, -402.43590000, 21.95740000};
    l_U424[55] = -0.04470000;
    l_U575[55] = -0.04470000;
    l_U726[55] = 0.70570000;
    l_U877[55] = 0.70570000;
    l_U1573[55] = 2356;
    l_U1028[55] = 73634.00000000;
    l_U1995[55] = 0;
    l_U2223[56] = {262.10100000, -398.46130000, 20.62240000};
    l_U424[56] = -0.05550000;
    l_U575[56] = -0.05550000;
    l_U726[56] = 0.70490000;
    l_U877[56] = 0.70490000;
    l_U1573[56] = 2357;
    l_U1028[56] = 74360.00000000;
    l_U1995[56] = 83136452;
    l_U2223[57] = {143.31790000, -421.47510000, 14.46420000};
    l_U424[57] = 0.00860000;
    l_U575[57] = -0.00000000;
    l_U726[57] = 0.00040000;
    l_U877[57] = 1.00000000;
    l_U1573[57] = 2358;
    l_U1028[57] = 79970.00000000;
    l_U1995[57] = 884422927;
    l_U2674[3] = {107.78400000, -412.94490000, 14.25420000};
    l_U1339[3] = 0.01870000;
    l_U1390[3] = -0.01790000;
    l_U1441[3] = 0.69200000;
    l_U1492[3] = 0.72140000;
    l_U2146[3] = 886934177;
    l_U2223[58] = {109.19650000, -405.21170000, 14.39660000};
    l_U424[58] = -0.00920000;
    l_U575[58] = -0.00830000;
    l_U726[58] = 0.70540000;
    l_U877[58] = 0.70870000;
    l_U1573[58] = 2359;
    l_U1028[58] = 82478.00000000;
    l_U1995[58] = 886934177;
    l_U2223[59] = {98.18680000, -405.75130000, 14.55790000};
    l_U424[59] = -0.00340000;
    l_U575[59] = -0.00340000;
    l_U726[59] = 0.71870000;
    l_U877[59] = 0.69540000;
    l_U1573[59] = 2360;
    l_U1028[59] = 83204.00000000;
    l_U1995[59] = 0;
    l_U2223[60] = {93.47350000, -411.30180000, 14.41090000};
    l_U424[60] = 0.00000000;
    l_U575[60] = 0.00010000;
    l_U726[60] = 0.71580000;
    l_U877[60] = 0.69830000;
    l_U1573[60] = 2361;
    l_U1028[60] = 83336.00000000;
    l_U1995[60] = 0;
    l_U2223[61] = {91.28389000, -405.37750000, 14.40990000};
    l_U424[61] = 0.00030000;
    l_U575[61] = 0.00030000;
    l_U726[61] = 0.70320000;
    l_U877[61] = 0.71100000;
    l_U1573[61] = 2362;
    l_U1028[61] = 83798.00000000;
    l_U1995[61] = -956048545;
    l_U2223[62] = {85.63060000, -410.81190000, 14.55380000};
    l_U424[62] = -0.00000000;
    l_U575[62] = -0.00010000;
    l_U726[62] = 0.70680000;
    l_U877[62] = 0.70740000;
    l_U1573[62] = 2363;
    l_U1028[62] = 84260.00000000;
    l_U1995[62] = 1884962369;
    l_U2223[63] = {84.78790000, -405.51680000, 14.49360000};
    l_U424[63] = 0.00010000;
    l_U575[63] = 0.00010000;
    l_U726[63] = 0.71500000;
    l_U877[63] = 0.69910000;
    l_U1573[63] = 2364;
    l_U1028[63] = 84392.00000000;
    l_U1995[63] = 884422927;
    l_U2223[64] = {78.78390000, -410.32800000, 14.41050000};
    l_U424[64] = -0.00010000;
    l_U575[64] = -0.00020000;
    l_U726[64] = 0.70190000;
    l_U877[64] = 0.71230000;
    l_U1573[64] = 2365;
    l_U1028[64] = 84788.00000000;
    l_U1995[64] = -956048545;
    l_U2674[4] = {20.77130000, -403.51940000, 14.30100000};
    l_U1339[4] = -0.01810000;
    l_U1390[4] = 0.01870000;
    l_U1441[4] = 0.72020000;
    l_U1492[4] = 0.69330000;
    l_U2146[4] = 83136452;
    l_U2674[5] = {12.16360000, -430.46900000, 14.28820000};
    l_U1339[5] = -0.02600000;
    l_U1390[5] = 0.00010000;
    l_U1441[5] = 0.99970000;
    l_U1492[5] = -0.00290000;
    l_U2146[5] = 83136452;
    l_U2223[65] = {-26.03410000, -406.11990000, 14.41310000};
    l_U424[65] = 0.00110000;
    l_U575[65] = 0.00100000;
    l_U726[65] = 0.70710000;
    l_U877[65] = 0.70710000;
    l_U1573[65] = 2366;
    l_U1028[65] = 90860.00000000;
    l_U1995[65] = -956048545;
    l_U2223[66] = {-26.23350000, -410.16920000, 14.41370000};
    l_U424[66] = 0.00100000;
    l_U575[66] = 0.00100000;
    l_U726[66] = 0.70710000;
    l_U877[66] = 0.70710000;
    l_U1573[66] = 2367;
    l_U1028[66] = 90926.00000000;
    l_U1995[66] = -956048545;
    l_U2223[67] = {-41.83580000, -402.45800000, 14.56680000};
    l_U424[67] = 0.00210000;
    l_U575[67] = 0.00000000;
    l_U726[67] = -0.00010000;
    l_U877[67] = 1.00000000;
    l_U1573[67] = 2368;
    l_U1028[67] = 91916.00000000;
    l_U1995[67] = 1884962369;
    l_U2223[68] = {-52.10370000, -419.85530000, 14.40420000};
    l_U424[68] = 0.00000000;
    l_U575[68] = 0.00690000;
    l_U726[68] = 1.00000000;
    l_U877[68] = 0.00000000;
    l_U1573[68] = 2369;
    l_U1028[68] = 92444.00000000;
    l_U1995[68] = 886934177;
    l_U2223[69] = {-57.69710000, -427.61960000, 14.07270000};
    l_U424[69] = 0.00000000;
    l_U575[69] = -0.00220000;
    l_U726[69] = 1.00000000;
    l_U877[69] = -0.00000000;
    l_U1573[69] = 2370;
    l_U1028[69] = 93170.00000000;
    l_U1995[69] = -498054846;
    l_U2674[6] = {-60.19310000, -354.39790000, 14.24660000};
    l_U1339[6] = -0.02540000;
    l_U1390[6] = -0.00010000;
    l_U1441[6] = 0.99960000;
    l_U1492[6] = 0.00750000;
    l_U2146[6] = 886934177;
    l_U2223[70] = {-40.77530000, -337.23840000, 14.61710000};
    l_U424[70] = -0.00450000;
    l_U575[70] = 0.01940000;
    l_U726[70] = -0.03230000;
    l_U877[70] = 0.99930000;
    l_U1573[70] = 2371;
    l_U1028[70] = 98648.00000000;
    l_U1995[70] = 675415136;
    l_U2674[7] = {-38.67900000, -288.75670000, 14.23930000};
    l_U1339[7] = -0.00020000;
    l_U1390[7] = 0.02600000;
    l_U1441[7] = -0.00640000;
    l_U1492[7] = 0.99960000;
    l_U2146[7] = 886934177;
    l_U2674[8] = {-59.91120000, -281.97860000, 14.25410000};
    l_U1339[8] = -0.02600000;
    l_U1390[8] = 0.00480000;
    l_U1441[8] = 0.99960000;
    l_U1492[8] = -0.00680000;
    l_U2146[8] = 886934177;
    l_U2223[71] = {-38.53160000, -261.88650000, 14.10940000};
    l_U424[71] = 0.00370000;
    l_U575[71] = 0.02600000;
    l_U726[71] = 0.00120000;
    l_U877[71] = 0.99970000;
    l_U1573[71] = 2372;
    l_U1028[71] = 102014.00000000;
    l_U1995[71] = -2119578145;
    l_U2825[0] = {775.08980000, -389.63310000, 5.85010000};
    l_U1183[0] = 0.04340000;
    l_U1209[0] = 0.00110000;
    l_U1235[0] = 0.02340000;
    l_U1261[0] = 0.99880000;
    l_U1875[0] = 2375;
    l_U1287[0] = 10000.00000000;
    l_U1313[0] = 1.00000000;
    l_U2197[0] = 1723137093;
    l_U2825[1] = {763.56690000, -317.07990000, 10.67810000};
    l_U1183[1] = -0.03690000;
    l_U1209[1] = -0.04430000;
    l_U1235[1] = 0.99710000;
    l_U1261[1] = -0.04900000;
    l_U1875[1] = 2376;
    l_U1287[1] = 10000.00000000;
    l_U1313[1] = 1.00000000;
    l_U2197[1] = -344943009;
    l_U2825[2] = {921.41240000, -385.38080000, 16.41600000};
    l_U1183[2] = 0.01010000;
    l_U1209[2] = -0.04230000;
    l_U1235[2] = 0.25440000;
    l_U1261[2] = 0.96610000;
    l_U1875[2] = 2377;
    l_U1287[2] = 17000.00000000;
    l_U1313[2] = 1.00000000;
    l_U2197[2] = 1723137093;
    l_U2825[3] = {995.94660000, -286.98790000, 20.95560000};
    l_U1183[3] = -0.01190000;
    l_U1209[3] = -0.01740000;
    l_U1235[3] = 0.99930000;
    l_U1261[3] = -0.03010000;
    l_U1875[3] = 2378;
    l_U1287[3] = 25000.00000000;
    l_U1313[3] = 1.00000000;
    l_U2197[3] = -344943009;
    l_U2825[4] = {966.15970000, -398.91350000, 37.81140000};
    l_U1183[4] = 0.01230000;
    l_U1209[4] = -0.00300000;
    l_U1235[4] = 0.66050000;
    l_U1261[4] = 0.75070000;
    l_U1875[4] = 2379;
    l_U1287[4] = 37000.00000000;
    l_U1313[4] = 1.00000000;
    l_U2197[4] = -713569950;
    return;
}

void sub_70261(boolean bParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;

    l_U382 = 1;
    l_U392 = 0;
    l_U1978 = 0;
    l_U1979 = 0;
    l_U1980 = 0;
    l_U1981 = 0;
    l_U1982 = 1;
    l_U1983 = 0;
    l_U1984 = 0;
    l_U1985 = 0;
    l_U1986 = 0;
    l_U1987 = -1;
    l_U1988 = 0;
    l_U1989 = 0;
    l_U1990 = 0;
    l_U1991 = 0;
    l_U1553 = 0.00000000;
    l_U395 = 0;
    if (IS_PLAYER_PLAYING( sub_3898() ))
    {
        GET_CHAR_COORDINATES( sub_3952(), ref uVar4._fU0, ref uVar4._fU4, ref uVar4._fU8 );
        l_U2907._fU0 = uVar4._fU0 - 100.00000000;
        l_U2907._fU4 = uVar4._fU4 - 100.00000000;
        l_U2907._fU8 = uVar4._fU8 - 100.00000000;
        l_U2910._fU0 = uVar4._fU0 + 100.00000000;
        l_U2910._fU4 = uVar4._fU4 + 100.00000000;
        l_U2910._fU8 = uVar4._fU8 + 100.00000000;
        SWITCH_ROADS_OFF( l_U2907._fU0, l_U2907._fU4, l_U2907._fU8, l_U2910._fU0, l_U2910._fU4, l_U2910._fU8 );
        if (bParam0)
        {
            CLEAR_AREA_OF_CARS( uVar4._fU0, uVar4._fU4, uVar4._fU8, 500.00000000 );
        }
    }
    sub_70602();
    l_U394 = 0;
    if (IS_PLAYER_PLAYING( sub_3898() ))
    {
        DONT_DISPATCH_COPS_FOR_PLAYER( sub_3898(), 1 );
        SET_CREATE_RANDOM_COPS( 0 );
    }
    sub_7267();
    return;
}

void sub_70602()
{
    ADD_SCENARIO_BLOCKING_AREA( -9999.90000000, -9999.90000000, -9999.90000000, 9999.90000000, 9999.90000000, 9999.90000000 );
    SET_CAR_GENERATORS_ACTIVE_IN_AREA( -9999.90000000, -9999.90000000, -9999.90000000, 9999.90000000, 9999.90000000, 9999.90000000, 0 );
    OVERRIDE_NUMBER_OF_PARKED_CARS( 0 );
    SWITCH_GARBAGE_TRUCKS( 0 );
    ALLOW_EMERGENCY_SERVICES( 0 );
    SET_CAR_DENSITY_MULTIPLIER( 0.00000000 );
    return;
}

void sub_81526()
{
    if (NOT (IS_CAR_DEAD( l_U3187 )))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3187 ))
        {
            if ((NOT (IS_CHAR_INJURED( l_U3275[0] ))) AND (NOT (IS_CAR_DEAD( l_U3274 ))))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3274 ))
                {
                    sub_81672( l_U3274, sub_3952(), ref l_U3201, 0.90000000, 7.00000000, 15.00000000, 80.00000000, 2.00000000, 1.00000000, 0.70000000, 1 );
                    SET_PLAYBACK_SPEED( l_U3274, l_U3201 );
                }
            }
            else
            {
                sub_81672( l_U3187, sub_3952(), ref l_U3201, 0.90000000, 9.00000000, 18.00000000, 80.00000000, 2.00000000, 1.00000000, 0.70000000, 1 );
            }
            SET_PLAYBACK_SPEED( l_U3187, l_U3201 );
            l_U3202 = 1;
        }
        else
        {
            sub_5377( 0 );
            l_U3202 = 0;
        }
    }
    else
    {
        sub_5377( 0 );
        l_U3202 = 0;
    }
    return;
}

void sub_81672(unknown uParam0, unknown uParam1, unknown uParam2, float fParam3, float fParam4, float fParam5, float fParam6, unknown uParam7, float fParam8, unknown uParam9, boolean bParam10)
{
    float fVar13;
    float fVar14;
    float fVar15;
    float fVar16;
    float fVar17;
    float fVar18;
    float fVar19;
    float fVar20;
    float fVar21;
    unknown uVar22;
    unknown uVar23;

    if (l_U395 == 0)
    {
        if ((uParam2^) < fParam3)
        {
            (uParam2^) = fParam3;
            l_U395 = 1;
        }
    }
    if (fParam4 < 0.00000000)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist = " );
        PRINTFLOAT( fParam4 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist cannot be less than zero." );
    }
    if (fParam4 >= fParam5)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist = " );
        PRINTFLOAT( fParam4 );
        PRINTSTRING( ", fIdealDist = " );
        PRINTFLOAT( fParam5 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist must be less than fIdealDist" );
    }
    if (fParam4 >= fParam6)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist = " );
        PRINTFLOAT( fParam4 );
        PRINTSTRING( ", fSlowDownDist = " );
        PRINTFLOAT( fParam6 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fMinDist must be less than fSlowDownDist" );
    }
    if (fParam5 < 0.00000000)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fIdealDist = " );
        PRINTFLOAT( fParam5 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fIdealDist cannot be less than zero." );
    }
    if (fParam5 >= fParam6)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fIdealDist = " );
        PRINTFLOAT( fParam5 );
        PRINTSTRING( ", fSlowDownDist = " );
        PRINTFLOAT( fParam6 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fIdealDist must be less than fSlowDownDist" );
    }
    if (fParam6 < 0.00000000)
    {
        PRINTSTRING( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fSlowDownDist = " );
        PRINTFLOAT( fParam6 );
        PRINTSTRING( "\n" );
        SCRIPT_ASSERT( "CALCULATE_NEW_PLAYBACK_SPEED_FROM_CHAR - fSlowDownDist cannot be less than zero." );
    }
    if (fParam8 < 0.00000000)
    {
        fParam8 = l_U1565;
    }
    fVar13 = fParam3 * uParam7;
    if (NOT (fVar13 > fParam3))
    {
        fVar13 = fParam3 + 0.10000000;
    }
    fVar18 = fParam3 * uParam9;
    fVar19 = ((fParam6 - fParam5) * 0.40000000) + fParam5;
    fVar15 = sub_83010( uParam0, uParam1 );
    if (fVar15 < 0.00000000)
    {
        fVar15 *= -1.00000000;
    }
    fVar16 = fVar15;
    if (fVar16 < fParam4)
    {
        fVar16 = fParam4;
    }
    if (fVar16 > fVar19)
    {
        fVar16 = fVar19;
    }
    fVar17 = fParam3;
    if (DOES_CHAR_EXIST( uParam1 ))
    {
        if (NOT (IS_CHAR_DEAD( uParam1 )))
        {
            if (sub_83337( uParam1, uParam0 ))
            {
                if (IS_CHAR_IN_ANY_CAR( uParam1 ))
                {
                    fVar17 = fVar13;
                }
                else if (fVar15 < 50.00000000)
                {
                    fVar17 = fParam3;
                }
                else
                {
                    fVar17 = fVar13;
                }
            }
            else if (fVar15 < fParam5)
            {
                if ((sub_83720( uParam0, uParam1 )) < fParam5)
                {
                    fVar14 = sub_83853( uParam0, uParam1 );
                    fVar14 += -15.00000000;
                    if (fVar14 < 0.00000000)
                    {
                        fVar14 = 0.00000000;
                    }
                    if (fVar14 > 75.00000000)
                    {
                        fVar14 = 75.00000000;
                    }
                    fVar20 = (75.00000000 - fVar14) / 75.00000000;
                }
                else
                {
                    fVar20 = 1.00000000;
                }
                fVar17 = (((((fParam5 - fParam4) - (fVar16 - fParam4)) / (fParam5 - fParam4)) * (fVar13 - fParam3)) * fVar20) + fParam3;
            }
            else if (fVar15 > fParam6)
            {
                fVar17 = fVar18;
                l_U396 = 1;
            }
            else if (l_U396)
            {
                if (fVar15 < fVar19)
                {
                    fVar17 = fParam3;
                    l_U396 = 0;
                }
                else
                {
                    fVar17 = fVar18;
                }
            }
            else
            {
                fVar17 = fParam3;
            };;;;
        }
    }
    fVar14 = fVar17 - (uParam2^);
    if (fVar14 > 0.00000000)
    {
        GET_FRAME_TIME( ref fVar14 );
        fVar21 = (l_U1570 * fParam3) * fVar14;
        fVar14 = fVar17 - (uParam2^);
        if (fVar14 > fVar21)
        {
            fVar14 = fVar21;
        }
        (uParam2^) += fVar14;
    }
    else
    {
        GET_FRAME_TIME( ref fVar14 );
        fVar21 = (l_U1571 * fParam3) * fVar14;
        fVar14 = fVar17 - (uParam2^);
        if (fVar14 < (fVar21 * -1.00000000))
        {
            fVar14 = fVar21 * -1.00000000;
        }
        (uParam2^) += fVar14;
    }
    if (bParam10)
    {
        if (NOT (IS_CHAR_INJURED( uParam1 )))
        {
            if (IS_CHAR_IN_ANY_CAR( uParam1 ))
            {
                STORE_CAR_CHAR_IS_IN_NO_SAVE( uParam1, ref uVar22 );
                if (DOES_VEHICLE_EXIST( uVar22 ))
                {
                    if (NOT (IS_CAR_DEAD( uVar22 )))
                    {
                        GET_CAR_MODEL( uVar22, ref uVar23 );
                        if ((IS_THIS_MODEL_A_BIKE( uVar23 )) || (IS_THIS_MODEL_A_CAR( uVar23 )))
                        {
                            if (IS_VEH_DRIVEABLE( uVar22 ))
                            {
                                fVar14 = fVar17;
                                if (fVar14 < fParam3)
                                {
                                    fVar14 = fParam3;
                                }
                                fVar14 -= fParam3;
                                fVar14 /= fVar13 - fParam3;
                                fVar14 *= fParam8;
                                fVar14 *= l_U1563 - l_U1564;
                                fVar14 += l_U1564;
                                l_U1562 = fVar14;
                                if (l_U1562 < l_U1564)
                                {
                                    l_U1562 = l_U1564;
                                }
                                if (l_U1562 > l_U1563)
                                {
                                    l_U1562 = l_U1563;
                                }
                                FORCE_AIR_DRAG_MULT_FOR_PLAYERS_CAR( sub_3898(), l_U1562 );
                            }
                        }
                    }
                }
            }
        }
    }
    return;
}

float sub_83010(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    vector vVar10;
    vector vVar13;
    float fVar16;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_FORWARD_X( uParam0, ref uVar4._fU0 );
        GET_CAR_FORWARD_Y( uParam0, ref uVar4._fU4 );
        GET_CAR_COORDINATES( uParam0, ref vVar10.x, ref vVar10.y, ref vVar10.z );
    }
    if (NOT (IS_CHAR_DEAD( uParam1 )))
    {
        GET_CHAR_COORDINATES( uParam1, ref vVar13.x, ref vVar13.y, ref vVar13.z );
    }
    uVar7 = {vVar13 - vVar10};
    GET_ANGLE_BETWEEN_2D_VECTORS( uVar7._fU0, uVar7._fU4, uVar4._fU0, uVar4._fU4, ref fVar16 );
    fVar16 += -90.00000000;
    if (fVar16 < 0.00000000)
    {
        fVar16 *= -1.00000000;
    }
    uVar7._fU8 = 0.00000000;
    return (VMAG( uVar7 )) * (SIN( fVar16 ));
}

int sub_83337(unknown uParam0, unknown uParam1)
{
    vector vVar4;
    vector vVar7;
    vector vVar10;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    float fVar19;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        if (NOT (IS_CAR_DEAD( uParam1 )))
        {
            if (IS_CHAR_IN_CAR( uParam0, uParam1 ))
            {
                return 0;
            }
        }
    }
    if (NOT (IS_CHAR_DEAD( uParam0 )))
    {
        GET_CHAR_COORDINATES( uParam0, ref vVar4.x, ref vVar4.y, ref vVar4.z );
    }
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_CAR_COORDINATES( uParam1, ref vVar7.x, ref vVar7.y, ref vVar7.z );
    }
    uVar13 = {vVar7 - vVar4};
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( uParam1, 0.00000000, 5.00000000, 0.00000000, ref vVar10.x, ref vVar10.y, ref vVar10.z );
        uVar16 = {vVar10 - vVar7};
    }
    uVar13._fU8 = 0.00000000;
    uVar16._fU8 = 0.00000000;
    fVar19 = sub_83558( ref uVar13, ref uVar16 );
    if (fVar19 < 0.00000000)
    {
        return 1;
    }
    return 0;
}

float sub_83558(int iParam0, int iParam1)
{
    return ((iParam0->_fU0 * iParam1->_fU0) + (iParam0->_fU4 * iParam1->_fU4)) + (iParam0->_fU8 * iParam1->_fU8);
}

void sub_83720(unknown uParam0, unknown uParam1)
{
    vector vVar4;
    vector vVar7;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown Result;

    if (NOT (IS_CAR_DEAD( uParam0 )))
    {
        GET_CAR_COORDINATES( uParam0, ref vVar4.x, ref vVar4.y, ref vVar4.z );
    }
    if (NOT (IS_CHAR_DEAD( uParam1 )))
    {
        GET_CHAR_COORDINATES( uParam1, ref vVar7.x, ref vVar7.y, ref vVar7.z );
    }
    uVar10 = {vVar7 - vVar4};
    uVar10._fU8 = 0.00000000;
    Result = VMAG( uVar10 );
    return Result;
}

void sub_83853(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    vector vVar7;
    vector vVar10;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown Result;
    unknown uVar17;

    if (NOT (IS_CAR_DEAD( uParam0 )))
    {
        GET_CAR_FORWARD_X( uParam0, ref uVar4._fU0 );
        GET_CAR_FORWARD_Y( uParam0, ref uVar4._fU4 );
    }
    if (NOT (IS_CHAR_DEAD( uParam1 )))
    {
        GET_CHAR_COORDINATES( uParam1, ref vVar7.x, ref vVar7.y, ref vVar7.z );
        if (IS_CHAR_IN_ANY_CAR( uParam1 ))
        {
            STORE_CAR_CHAR_IS_IN_NO_SAVE( uParam1, ref uVar17 );
            GET_CAR_FORWARD_X( uVar17, ref uVar13._fU0 );
            GET_CAR_FORWARD_Y( uVar17, ref uVar13._fU4 );
        }
        else
        {
            GET_OFFSET_FROM_CHAR_IN_WORLD_COORDS( uParam1, 0.00000000, 5.00000000, 0.00000000, ref vVar10.x, ref vVar10.y, ref vVar10.z );
            uVar13 = {vVar10 - vVar7};
        }
    }
    GET_ANGLE_BETWEEN_2D_VECTORS( uVar4._fU0, uVar4._fU4, uVar13._fU0, uVar13._fU4, ref Result );
    return Result;
}

void sub_84967()
{
    unknown uVar2;
    int iVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    float fVar7;
    boolean bVar8;
    float fVar9;
    char[16] cVar10;

    sub_84976();
    sub_85879();
    if (sub_38065())
    {
        l_U3336[5]._fU8 = g_U11081[0];
        l_U3336[6]._fU8 = g_U11081[1];
    }
    else
    {
        sub_3477( ref l_U3336 );
    }
    sub_81526();
    sub_86042( l_U3187, l_U3201 );
    if (l_U3202)
    {
        if (IS_VEH_DRIVEABLE( l_U3187 ))
        {
            if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3187 )))
            {
                l_U3202 = 0;
                sub_5377( 0 );
            }
        }
        else
        {
            l_U3202 = 0;
            sub_5377( 0 );
        }
    }
    if (NOT l_U3202)
    {
        SET_WANTED_MULTIPLIER( 0.30000000 );
        SET_CREATE_RANDOM_COPS( 0 );
    }
    sub_99683();
    sub_100432();
    sub_100617();
    if (IS_CHAR_INJURED( l_U3188 ))
    {
        sub_18328( ref l_U3221, 0 );
        if (NOT l_U3249)
        {
            GET_DEAD_CHAR_PICKUP_COORDS( l_U3188, ref uVar4._fU0, ref uVar4._fU4, ref uVar4._fU8 );
            REMOVE_BLIP( l_U3173 );
            if (NOT (HAS_MODEL_LOADED( 386383936 )))
            {
                PRIORITIZE_STREAMING_REQUEST();
                REQUEST_MODEL( 386383936 );
            }
            else if (LOCATE_CHAR_IN_CAR_3D( sub_3952(), uVar4._fU0, uVar4._fU4, uVar4._fU8, 1.50000000, 1.50000000, 2.50000000, 0 ))
            {
                ;
            }
            else
            {
                bVar8 = GET_WATER_HEIGHT_NO_WAVES( uVar4, ref fVar7 );
                if (bVar8)
                {
                    bVar8 = fVar7 > uVar4._fU8;
                }
                if (bVar8)
                {
                    PRINT_NOW( "R1_FAIL2W", 7500, 0 );
                    sub_5367();
                    l_U3172 = 16;
                }
                else
                {
                    CREATE_PICKUP( 386383936, 22, uVar4._fU0, uVar4._fU4, uVar4._fU8, ref l_U3191, 0 );
                    ADD_BLIP_FOR_PICKUP( l_U3191, ref l_U3173 );
                    CHANGE_BLIP_COLOUR( l_U3173, 2 );
                    PRINT_NOW( "R1_PICKUP", 7500, 0 );
                    l_U3249 = 1;
                }
                MARK_MODEL_AS_NO_LONGER_NEEDED( 386383936 );
            }
        }
        else if (HAS_PICKUP_BEEN_COLLECTED( l_U3191 ))
        {
            REMOVE_BLIP( l_U3173 );
            PLAY_AUDIO_EVENT_FROM_PED( "R1_AMBUSH_DIAMOND_DEAL_PICKUP_DIAMONDS", sub_3952() );
            sub_5367();
            sub_102006( ref l_U3218, 2000 );
            l_U3172 = 6;
        }
        else
        {
            GET_PICKUP_COORDINATES( l_U3191, ref uVar4._fU0, ref uVar4._fU4, ref uVar4._fU8 );
            if (LOCATE_CHAR_IN_CAR_3D( sub_3952(), uVar4._fU0, uVar4._fU4, uVar4._fU8, 1.50000000, 1.50000000, 2.50000000, 0 ))
            {
                REMOVE_BLIP( l_U3173 );
                PLAY_AUDIO_EVENT_FROM_PED( "R1_AMBUSH_DIAMOND_DEAL_PICKUP_DIAMONDS", sub_3952() );
                sub_5367();
                sub_102006( ref l_U3218, 2000 );
                l_U3172 = 6;
            }
        }
        if (NOT l_U3227)
        {
            if ((IS_VEH_DRIVEABLE( l_U3274 )) AND (NOT (IS_CHAR_INJURED( l_U3275[0] ))))
            {
                TASK_CAR_MISSION_PED_TARGET( l_U3275[0], l_U3274, sub_3952(), 8, 45.00000000, 2, -1, -1 );
                l_U3227 = 1;
            }
        }
    }
    else if (((NOT (LOCATE_CHAR_ANY_MEANS_CHAR_3D( sub_3952(), l_U3188, 250.00000000, 250.00000000, 250.00000000, 0 ))) AND ((IS_CHAR_ON_SCREEN( l_U3188 )) AND ((IS_CONTROL_PRESSED( 0, 87 )) || (IS_CONTROL_PRESSED( 0, 6 ))))) || (NOT (LOCATE_CHAR_ANY_MEANS_CHAR_3D( sub_3952(), l_U3188, 190.00000000, 170.00000000, 170.00000000, 0 ))))
    {
        sub_5367();
        l_U3172 = 12;
    }
    else if (IS_CHAR_IN_ANY_CAR( l_U3188 ))
    {
        sub_55658( ref l_U3188 );
        if ((IS_CHAR_INJURED( l_U3189 )) || (sub_99793( l_U3187 )))
        {
            GET_CHAR_SPEED( l_U3188, ref fVar9 );
            if (fVar9 < 2.50000000)
            {
                GET_SCRIPT_TASK_STATUS( l_U3188, 31, ref iVar3 );
                if (iVar3 == 7)
                {
                    TASK_LEAVE_ANY_CAR( l_U3188 );
                }
            }
            SAY_AMBIENT_SPEECH( sub_3952(), "GENERIC_CELEBRATION", 0, 0, 2 );
            sub_102601();
        }
        else if ((NOT (sub_17823( l_U3221 ))) AND (LOCATE_CHAR_IN_CAR_CHAR_3D( sub_3952(), l_U3188, 25.00000000, 25.00000000, 12.00000000, 0 )))
        {
            if (TIMERA() > 12000)
            {
                if (sub_16034( "E1R1_SHOUT", ref l_U3221, 7, 1 ))
                {
                    SETTIMERA( 0 );
                }
            }
            else if ((NOT (IS_CHAR_INJURED( l_U3190 ))) AND ((IS_CAR_DEAD( l_U3274 )) AND (TIMERB() > 5000)))
            {
                if ((LOCATE_CHAR_ANY_MEANS_CHAR_3D( l_U3190, sub_3952(), 25, 25, 12, 0 )) AND (IS_CHAR_IN_CAR( l_U3190, l_U3187 )))
                {
                    if ((IS_CONTROL_PRESSED( 0, 39 )) || (IS_CONTROL_PRESSED( 0, 38 )))
                    {
                        switch (sub_8441( 0, 2 ))
                        {
                            case 0:
                            SAY_AMBIENT_SPEECH( l_U3190, "TARGET", 1, 1, 2 );
                            break;
                            case 1:
                            SAY_AMBIENT_SPEECH( l_U3190, "COVER_ME", 1, 1, 2 );
                            break;
                            default:
                            SAY_AMBIENT_SPEECH( l_U3190, "DUCK", 1, 1, 2 );
                            break;
                        }
                    }
                    else
                    {
                        SAY_AMBIENT_SPEECH( l_U3190, "TARGET", 1, 1, 2 );
                    }
                    SETTIMERB( 0 );
                }
            }
        }
    }
    else
    {
        sub_55658( ref l_U3188 );
        if (NOT l_U3244)
        {
            if ((NOT (IS_AMBIENT_SPEECH_PLAYING( sub_3952() ))) AND ((NOT (IS_AMBIENT_SPEECH_PLAYING( l_U3188 ))) AND (NOT sub_15842())))
            {
                SAY_AMBIENT_SPEECH( l_U3188, "VEHICLE_RAMMED", 0, 0, 2 );
                l_U3244 = 1;
            }
        }
        GET_SCRIPT_TASK_STATUS( l_U3188, 25, ref iVar3 );
        if (iVar3 == 7)
        {
            if (NOT (IS_CHAR_DEAD( sub_3952() )))
            {
                if (NOT (IS_CHAR_DEAD( l_U3188 )))
                {
                    TASK_SMART_FLEE_CHAR_PREFERRING_PAVEMENTS( l_U3188, sub_3952(), 200.00000000, 9999 );
                }
            }
        }
        if ((GET_NAVMESH_ROUTE_RESULT( l_U3188 )) == 2)
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3188, 0 );
        }
        sub_102601();
        if (NOT (IS_CHAR_INJURED( l_U3189 )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3189, 0 );
            sub_100341( l_U3189 );
        }
        if (NOT (IS_CHAR_INJURED( l_U3190 )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3190, 0 );
            sub_100341( l_U3190 );
        }
        if ((NOT l_U3251) AND (LOCATE_CHAR_ANY_MEANS_CHAR_3D( sub_3952(), l_U3188, 25.00000000, 25.00000000, 25.00000000, 0 )))
        {
            switch (sub_8441( 0, 3 ))
            {
                case 0:
                StrCopy( ref cVar10, "E1R1_RUN1", 16 );
                break;
                case 1:
                StrCopy( ref cVar10, "E1R1_RUN2", 16 );
                break;
                case 2:
                StrCopy( ref cVar10, "E1R1_RUN3", 16 );
                break;
            }
            if (sub_16034( ref cVar10, ref l_U3221, 8, 1 ))
            {
                l_U3251 = 1;
                TASK_LOOK_AT_CHAR( l_U3188, sub_3952(), 2500, 0 );
                TASK_LOOK_AT_CHAR( sub_3952(), l_U3188, 5000, 0 );
                TASK_PLAY_ANIM( sub_3952(), "youre_dead", "MISSRAYB_1", 8.00000000, 0, 0, 0, 0, 0 );
            }
        }
    };;;
    if (IS_KEYBOARD_KEY_JUST_PRESSED( 36 ))
    {
        REMOVE_BLIP( l_U3173 );
        sub_5367();
        l_U3172 = 6;
    }
    return;
}

void sub_84976()
{
    int I;
    int iVar3;

    for ( I = 0; I < 2; I++ )
    {
        if ((DOES_CHAR_EXIST( l_U3198[I] )) || (DOES_VEHICLE_EXIST( l_U3195[I] )))
        {
            if (HAS_CHAR_BEEN_DAMAGED_BY_CHAR( l_U3198[I], sub_3952(), 0 ))
            {
                l_U3172 = 15;
                if (NOT (IS_CAR_DEAD( l_U3195[I] )))
                {
                    if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3195[I] ))
                    {
                        STOP_PLAYBACK_RECORDED_CAR( l_U3195[I] );
                    }
                }
            }
            if (NOT (IS_CHAR_DEAD( l_U3198[I] )))
            {
                if (NOT (IS_CAR_DEAD( l_U3195[I] )))
                {
                    if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3195[I] ))
                    {
                        if (NOT (IS_CHAR_IN_CAR( l_U3198[I], l_U3195[I] )))
                        {
                            STOP_PLAYBACK_RECORDED_CAR( l_U3195[I] );
                        }
                    }
                }
            }
            else if (l_U3198[I] == nil)
            {
                ;
            }
            else if (IS_CHAR_DEAD( l_U3198[I] ))
            {
                l_U3172 = 15;
                REMOVE_BLIP( l_U3174 );
                if (NOT (sub_49405( 0 )))
                {
                    sub_51222( 1 );
                }
                sub_9777();
            };;;
            if ((IS_CHAR_INJURED( l_U3198[I] )) || (NOT (IS_VEH_DRIVEABLE( l_U3195[I] ))))
            {
                if (DOES_VEHICLE_EXIST( l_U3195[I] ))
                {
                    MARK_CAR_AS_NO_LONGER_NEEDED( ref l_U3195[I] );
                }
                if (DOES_CHAR_EXIST( l_U3198[I] ))
                {
                    if (NOT (IS_CHAR_INJURED( l_U3198[I] )))
                    {
                        SET_CHAR_KEEP_TASK( l_U3198[I], 1 );
                    }
                    MARK_CHAR_AS_NO_LONGER_NEEDED( ref l_U3198[I] );
                }
                l_U3195[I] = nil;
                l_U3198[I] = nil;
            }
            else if ((NOT (IS_CHAR_ON_SCREEN( l_U3198[I] ))) AND ((VDIST( sub_4026( l_U3198[I], 1 ), sub_4026( sub_3952(), 1 ) )) > 90.00000000))
            {
                if (DOES_CHAR_EXIST( l_U3198[I] ))
                {
                    DELETE_CHAR( ref l_U3198[I] );
                }
                l_U3198[I] = nil;
                if (DOES_VEHICLE_EXIST( l_U3195[I] ))
                {
                    if ((NOT (IS_CAR_ON_SCREEN( l_U3195[I] ))) AND ((VDIST( sub_9097( l_U3195[I], 1 ), sub_4026( sub_3952(), 1 ) )) > 85.00000000))
                    {
                        DELETE_CAR( ref l_U3195[I] );
                    }
                }
                l_U3195[I] = nil;
            }
            else if (IS_VEH_DRIVEABLE( l_U3195[I] ))
            {
                if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3195[I] )))
                {
                    GET_SCRIPT_TASK_STATUS( l_U3198[I], 49, ref iVar3 );
                    if (iVar3 == 7)
                    {
                        TASK_CAR_MISSION_PED_TARGET( l_U3198[I], l_U3195[I], sub_3952(), 8, 50.00000000, 2, -1, -1 );
                        SET_CAR_TRACTION( l_U3195[I], 2.00000000 );
                    }
                }
            };;;
        }
    }
    return;
}

void sub_85879()
{
    if (NOT (LOCATE_CHAR_ANY_MEANS_3D( sub_3952(), l_U3527._fU0, l_U3527._fU4, l_U3527._fU8, 190.00000000, 180.00000000, 180.00000000, 0 )))
    {
        sub_9586( ref l_U3183 );
        RELEASE_PATH_NODES();
    }
    return;
}

void sub_86042(unknown uParam0, float fParam1)
{
    unknown uVar4;
    float fVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    int I;
    int iVar10;

    GET_FRAME_TIME( ref fVar5 );
    fVar5 *= 1000.00000000;
    l_U3169 += fVar5;
    l_U3170 += fVar5;
    l_U3171 += fVar5;
    l_U1561 = fParam1;
    if (NOT l_U385)
    {
        if (l_U384)
        {
            sub_70602();
            l_U394 = 0;
            if (IS_PLAYER_PLAYING( sub_3898() ))
            {
                GET_CHAR_COORDINATES( sub_3952(), ref uVar6._fU0, ref uVar6._fU4, ref uVar6._fU8 );
                CLEAR_AREA( uVar6._fU0, uVar6._fU4, uVar6._fU8, 1000.00000000, 1 );
                PRINTSTRING( "UPDATE_UBER_PLAYBACK - called massive clear area! \n" );
            }
            l_U385 = 1;
        }
    }
    else if (NOT l_U384)
    {
        sub_5392();
        l_U394 = 1;
        l_U385 = 0;
    }
    if (l_U384)
    {
        fParam1 = 1.00000000;
    }
    if (NOT l_U375)
    {
        if (l_U366)
        {
            l_U1556 = 0.00000000;
        }
        else
        {
            l_U1556 = 1.00000000;
        }
        if (IS_VEH_DRIVEABLE( uParam0 ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( uParam0 ))
            {
                if (IS_PLAYER_PLAYING( sub_3898() ))
                {
                    if (sub_83337( sub_3952(), uParam0 ))
                    {
                        l_U383 = 1;
                    }
                    else
                    {
                        l_U383 = 0;
                    }
                }
                l_U1553 = FIND_TIME_POSITION_IN_RECORDING( uParam0 );
                l_U1987 = GET_CURRENT_PLAYBACK_NUMBER_FOR_CAR( uParam0 );
                SET_PLAYBACK_SPEED( uParam0, (fParam1 * l_U1554) * l_U1556 );
                if (l_U370)
                {
                    # -NULL-0xbfc99f( uParam0, 1 );
                }
                else
                {
                    # -NULL-0xbfc99f( uParam0, 0 );
                }
                if (l_U382)
                {
                    if (l_U1559 > 1000.00000000)
                    {
                        sub_86571( uParam0, l_U1553 );
                        sub_87066( uParam0, 100.00000000 );
                        for ( I = 0; I < 3; I++ )
                        {
                            fVar5 = TO_FLOAT( I );
                            fVar5 *= 2000.00000000;
                            fVar5 += l_U1553;
                            fVar5 += 4000.00000000;
                            sub_87292( uParam0, fVar5, l_U1558 );
                        }
                        l_U1559 = 0.00000000;
                    }
                    else
                    {
                        GET_FRAME_TIME( ref fVar5 );
                        fVar5 *= 1000.00000000;
                        l_U1559 += fVar5;
                    }
                }
            }
        }
        iVar10 = 0;
        if (IS_VEH_DRIVEABLE( uParam0 ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( uParam0 ))
            {
                iVar10 = 1;
            }
        }
        if ((IS_SCREEN_FADED_OUT()) || (l_U1553 == 0))
        {
            iVar10 = 1;
        }
        if ((NOT l_U397) AND (iVar10))
        {
            if (NOT l_U363)
            {
                sub_87924( uParam0, (fParam1 * l_U1554) * l_U1556 );
                sub_93383( ref uParam0 );
                sub_93947( ref uParam0 );
            }
            if (l_U368)
            {
                sub_94460( uParam0 );
            }
            if (NOT l_U363)
            {
                sub_95414( uParam0, (fParam1 * l_U1554) * l_U1556 );
            }
        }
        if (l_U377)
        {
            if (IS_PLAYER_PLAYING( sub_3898() ))
            {
                if (IS_CHAR_IN_ANY_CAR( sub_3952() ))
                {
                    STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_3952(), ref l_U3163 );
                    GET_CAR_COORDINATES( l_U3163, ref l_U2901._fU0, ref l_U2901._fU4, ref l_U2901._fU8 );
                    GET_VEHICLE_QUATERNION( l_U3163, ref l_U1179, ref l_U1180, ref l_U1181, ref l_U1182 );
                }
            }
            l_U377 = 0;
        }
        if (l_U376)
        {
            if (DOES_VEHICLE_EXIST( l_U3163 ))
            {
                sub_6158( l_U3164 );
                l_U3164 = l_U3163;
            }
            if (IS_VEH_DRIVEABLE( l_U3164 ))
            {
                SET_CAR_COORDINATES( l_U3164, l_U2901._fU0, l_U2901._fU4, l_U2901._fU8 );
                SET_VEHICLE_QUATERNION( l_U3164, l_U1179, l_U1180, l_U1181, l_U1182 );
            }
            l_U1552 = l_U1555;
            l_U363 = 1;
            l_U376 = 0;
        }
        if (l_U363)
        {
            while (NOT (sub_99138( ref uParam0, l_U1552 )))
            {
                WAIT( 0 );
            }
            l_U366 = 1;
        }
    }
    return;
}

void sub_86571(unknown uParam0, unknown uParam1)
{
    int I;
    unknown uVar5;
    vector vVar6;
    vector vVar9;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;

    vVar6 = {99999.90000000, 99999.90000000, 99999.90000000};
    vVar9 = {-99999.90000000, -99999.90000000, -99999.90000000};
    sub_5564();
    for ( I = 0; I < 15; I++ )
    {
        if (IS_VEH_DRIVEABLE( uParam0 ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( uParam0 ))
            {
                uVar5 = GET_CURRENT_PLAYBACK_NUMBER_FOR_CAR( uParam0 );
                GET_POSITION_OF_CAR_RECORDING_AT_TIME( uVar5, uParam1 + ((TO_FLOAT( I - 1 )) * 2000), ref uVar12 );
                if (uVar12._fU0 < vVar6.x)
                {
                    vVar6.x = uVar12._fU0;
                }
                if (uVar12._fU4 < vVar6.y)
                {
                    vVar6.y = uVar12._fU4;
                }
                if (uVar12._fU8 < vVar6.z)
                {
                    vVar6.z = uVar12._fU8;
                }
                if (uVar12._fU0 > vVar9.x)
                {
                    vVar9.x = uVar12._fU0;
                }
                if (uVar12._fU4 > vVar9.y)
                {
                    vVar9.y = uVar12._fU4;
                }
                if (uVar12._fU8 > vVar9.z)
                {
                    vVar9.z = uVar12._fU8;
                }
            }
        }
    }
    vVar6 = {vVar6 + (vector( l_U1572 * -1.00000000, l_U1572 * -1.00000000, l_U1572 * -1.00000000))};
    vVar9 = {vVar9 + (vector( l_U1572, l_U1572, l_U1572))};
    l_U2913 = {vVar6};
    l_U2916 = {vVar9};
    SWITCH_ROADS_OFF( l_U2907._fU0, l_U2907._fU4, l_U2907._fU8, l_U2910._fU0, l_U2910._fU4, l_U2910._fU8 );
    SWITCH_ROADS_OFF( l_U2913._fU0, l_U2913._fU4, l_U2913._fU8, l_U2916._fU0, l_U2916._fU4, l_U2916._fU8 );
    return;
}

void sub_87066(unknown uParam0, unknown uParam1)
{
    vector vVar4;
    vector vVar7;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;

    if (NOT l_U385)
    {
        if (NOT (IS_CAR_DEAD( uParam0 )))
        {
            if (IS_PLAYER_PLAYING( sub_3898() ))
            {
                GET_CAR_COORDINATES( uParam0, ref vVar4.x, ref vVar4.y, ref vVar4.z );
                GET_CHAR_COORDINATES( sub_3952(), ref vVar7.x, ref vVar7.y, ref vVar7.z );
                uVar10 = {vVar4 - vVar7};
                if ((VMAG2( uVar10 )) > (uParam1 * uParam1))
                {
                    SET_CAR_DENSITY_MULTIPLIER( 1.00000000 );
                }
                else
                {
                    SET_CAR_DENSITY_MULTIPLIER( 0.00000000 );
                }
            }
        }
    }
    return;
}

void sub_87292(unknown uParam0, unknown uParam1, float fParam2)
{
    unknown uVar5;
    vector vVar6;
    vector vVar9;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    float fVar15;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( uParam0 ))
        {
            uVar5 = GET_CURRENT_PLAYBACK_NUMBER_FOR_CAR( uParam0 );
            GET_POSITION_OF_CAR_RECORDING_AT_TIME( uVar5, uParam1, ref vVar6 );
            GET_CAR_COORDINATES( uParam0, ref vVar9.x, ref vVar9.y, ref vVar9.z );
            uVar12 = {vVar9 - vVar6};
            fVar15 = VMAG( uVar12 );
            if (fVar15 > fParam2)
            {
                fVar15 = fParam2;
            }
            sub_87421( vVar6, fVar15 );
        }
    }
    return;
}

void sub_87421(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    boolean bVar6;
    unknown uVar7;

    if (NOT l_U385)
    {
        if (NOT (sub_87451( uParam0, uParam3, 150.00000000 )))
        {
            bVar6 = true;
            if (IS_PLAYER_PLAYING( sub_3898() ))
            {
                GET_PLAYERS_LAST_CAR_NO_SAVE( ref uVar7 );
                if (DOES_VEHICLE_EXIST( uVar7 ))
                {
                    if (NOT (IS_CAR_DEAD( uVar7 )))
                    {
                        if (LOCATE_CAR_3D( uVar7, uParam0._fU0, uParam0._fU4, uParam0._fU8, uParam3, uParam3, uParam3, 0 ))
                        {
                            bVar6 = false;
                        }
                    }
                }
            }
            if (bVar6)
            {
                CLEAR_AREA_OF_CARS( uParam0._fU0, uParam0._fU4, uParam0._fU8, uParam3 );
            }
        }
    }
    return;
}

int sub_87451(vector vParam0, unknown uParam3, float fParam4)
{
    unknown uVar7;
    vector vVar8;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;

    if (NOT IS_SCREEN_FADED_OUT())
    {
        if (NOT l_U385)
        {
            if (NOT l_U363)
            {
                GET_GAME_VIEWPORT_ID( ref uVar7 );
                if (CAM_IS_SPHERE_VISIBLE( uVar7, vParam0.x, vParam0.y, vParam0.z, uParam3 ))
                {
                    if (IS_PLAYER_PLAYING( sub_3898() ))
                    {
                        GET_CHAR_COORDINATES( sub_3952(), ref vVar8.x, ref vVar8.y, ref vVar8.z );
                        uVar11 = {vVar8 - vParam0};
                        if (((VMAG( uVar11 )) - uParam3) < fParam4)
                        {
                            return 1;
                        }
                    }
                }
            }
        }
    }
    return 0;
}

void sub_87924(unknown uParam0, unknown uParam1)
{
    int I;
    int iVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    float fVar14;
    unknown uVar15;
    boolean bVar16;
    boolean bVar17;
    int iVar18;

    l_U1989 = 0;
    iVar5 = 0;
    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        for ( I = 0; I < 150; I++ )
        {
            if (I < l_U1988)
            {
                I = l_U1988;
            }
            if (l_U1724[I] == 0)
            {
                if ((NOT (l_U1995[I] == 0)) AND ((l_U1573[I] < 3000) AND (l_U1573[I] > 0)))
                {
                    if (NOT l_U363)
                    {
                        if (l_U1553 > (l_U1028[I] - (7000.00000000 * uParam1)))
                        {
                            l_U1994++;
                            l_U1724[I]++;
                        }
                        else if (iVar5 > 3)
                        {
                            return;
                        }
                        else
                        {
                            iVar5++;
                        }
                    }
                    else
                    {
                        fVar14 = l_U1553 - l_U1028[I];
                        if (fVar14 >= 0.00000000)
                        {
                            if (fVar14 < (sub_88198( l_U1573[I] )))
                            {
                                l_U1994++;
                                l_U1724[I]++;
                            }
                            else
                            {
                                sub_88324( I, 1090519040 );
                            }
                        }
                    }
                }
                else
                {
                    sub_88324( I, 1090519040 );
                }
            }
            if (l_U1724[I] == 1)
            {
                if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( l_U1573[I] )))
                {
                    REQUEST_CAR_RECORDING( l_U1573[I] );
                }
                else if (l_U1995[I] == sub_5792())
                {
                    if (HAS_MODEL_LOADED( sub_5821() ))
                    {
                        l_U1724[I]++;
                    }
                    else
                    {
                        REQUEST_MODEL( sub_5821() );
                    }
                }
                else if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
                {
                    l_U1724[I]++;
                }
                else if (HAS_MODEL_LOADED( sub_5734() ))
                {
                    l_U1724[I]++;
                }
                else
                {
                    REQUEST_MODEL( sub_5734() );
                };;;;
            }
            if (l_U1724[I] == 2)
            {
                if (HAS_MODEL_LOADED( l_U1995[I] ))
                {
                    if (NOT (DOES_VEHICLE_EXIST( l_U2919[I] )))
                    {
                        bVar16 = false;
                        if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
                        {
                            bVar16 = true;
                        }
                        else if (HAS_MODEL_LOADED( sub_5734() ))
                        {
                            bVar16 = true;
                        }
                        else
                        {
                            REQUEST_MODEL( sub_5734() );
                        }
                        if (bVar16)
                        {
                            bVar17 = false;
                            if ((NOT (sub_89240( l_U2223[I] ))) AND (NOT (sub_87451( l_U2223[I], 5.00000000, 1120403456 ))))
                            {
                                bVar17 = true;
                            }
                            if (l_U389)
                            {
                                bVar17 = true;
                            }
                            if (bVar17)
                            {
                                if (l_U382)
                                {
                                    sub_87421( l_U2223[I], l_U1558 );
                                }
                                CREATE_CAR( l_U1995[I], l_U2223[I]._fU0, l_U2223[I]._fU4, l_U2223[I]._fU8, ref l_U2919[I], 1 );
                                if (l_U1995[I] == sub_5792())
                                {
                                    CREATE_CHAR_INSIDE_CAR( l_U2919[I], 6, sub_5821(), ref uVar6 );
                                    SET_CHAR_RELATIONSHIP_GROUP( uVar6, 23 );
                                    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_5821() );
                                }
                                else if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
                                {
                                    CREATE_RANDOM_CHAR_AS_DRIVER( l_U2919[I], ref uVar6 );
                                }
                                else
                                {
                                    CREATE_CHAR_INSIDE_CAR( l_U2919[I], 4, sub_5734(), ref uVar6 );
                                    SET_CHAR_RANDOM_COMPONENT_VARIATION( uVar6 );
                                    MARK_MODEL_AS_NO_LONGER_NEEDED( sub_5734() );
                                }
                                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( uVar6, 1 );
                                SET_VEHICLE_QUATERNION( l_U2919[I], l_U424[I], l_U575[I], l_U726[I], l_U877[I] );
                                FREEZE_CAR_POSITION( l_U2919[I], 1 );
                                SET_CAR_ONLY_DAMAGED_BY_PLAYER( l_U2919[I], 1 );
                                SET_CAR_COLLISION( l_U2919[I], 0 );
                                MARK_MODEL_AS_NO_LONGER_NEEDED( l_U1995[I] );
                                sub_89764( l_U2919[I] );
                                GET_INTERIOR_FROM_CAR( l_U2919[I], ref iVar18 );
                                if (NOT (iVar18 == nil))
                                {
                                    # -NULL-0xbfc5b5( l_U2919[I] );
                                }
                                l_U1994--;
                                l_U1724[I]++;
                            }
                            else if (l_U1553 > l_U1028[I])
                            {
                                l_U1994--;
                                sub_88324( I, 1090519040 );
                            }
                        }
                    }
                }
                else
                {
                    REQUEST_MODEL( l_U1995[I] );
                }
            }
            if (l_U1724[I] == 3)
            {
                if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( l_U1573[I] )))
                {
                    REQUEST_CAR_RECORDING( l_U1573[I] );
                }
                if (IS_VEH_DRIVEABLE( l_U2919[I] ))
                {
                    if (l_U1553 > l_U1028[I])
                    {
                        if (8 > l_U1978)
                        {
                            if (IS_VEH_DRIVEABLE( uParam0 ))
                            {
                                if (IS_PLAYBACK_GOING_ON_FOR_CAR( uParam0 ))
                                {
                                    l_U1553 = FIND_TIME_POSITION_IN_RECORDING( uParam0 );
                                }
                            }
                            fVar14 = l_U1553 - l_U1028[I];
                            if (HAS_CAR_RECORDING_BEEN_LOADED( l_U1573[I] ))
                            {
                                if (fVar14 < (GET_TOTAL_DURATION_OF_CAR_RECORDING( l_U1573[I] )))
                                {
                                    GET_CAR_COORDINATES( l_U2919[I], ref uVar8._fU0, ref uVar8._fU4, ref uVar8._fU8 );
                                    GET_POSITION_OF_CAR_RECORDING_AT_TIME( l_U1573[I], fVar14, ref uVar11 );
                                    if ((sub_87451( uVar11, 5.00000000, 1120403456 )) AND (NOT (sub_87451( uVar8, 5.00000000, 1120403456 ))))
                                    {
                                        sub_88324( I, 1090519040 );
                                    }
                                    else if (sub_90353( ref l_U2919[I], l_U1573[I], fVar14, 1, 0, 0 ))
                                    {
                                        SET_CAR_COLLISION( l_U2919[I], 1 );
                                        SET_PLAYBACK_SPEED( l_U2919[I], uParam1 );
                                        sub_90719( ref l_U2919[I] );
                                        l_U1978++;
                                        l_U1724[I]++;
                                    }
                                }
                                else
                                {
                                    PRINTSTRING( "Traffic car removed from processing (check A) car = " );
                                    PRINTINT( I );
                                    PRINTSTRING( "/n" );
                                    sub_88324( I, 1090519040 );
                                }
                            }
                        }
                        else
                        {
                            PRINTSTRING( "Traffic car removed from processing (check B) car = " );
                            PRINTINT( I );
                            PRINTSTRING( "/n" );
                            sub_88324( I, 1090519040 );
                        }
                    }
                    else if ((NOT l_U398) AND (l_U383))
                    {
                        PRINTSTRING( "Traffic car removed from processing (check C) car = " );
                        PRINTINT( I );
                        PRINTSTRING( "/n" );
                        sub_88324( I, 1090519040 );
                    }
                }
                else
                {
                    PRINTSTRING( "Traffic car removed from processing (check D) car = " );
                    PRINTINT( I );
                    PRINTSTRING( "/n" );
                    sub_88324( I, 1090519040 );
                }
            }
            if (l_U1724[I] == 4)
            {
                if (IS_VEH_DRIVEABLE( l_U2919[I] ))
                {
                    SET_CAR_COLLISION( l_U2919[I], 1 );
                    if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U2919[I] ))
                    {
                        GET_DRIVER_OF_CAR( l_U2919[I], ref uVar6 );
                        if (DOES_CHAR_EXIST( uVar6 ))
                        {
                            if (NOT (IS_CHAR_INJURED( uVar6 )))
                            {
                                if (IS_PLAYER_PLAYING( sub_3898() ))
                                {
                                    if ((NOT l_U378) AND ((NOT l_U366) AND ((NOT l_U369) AND (IS_CHAR_TOUCHING_VEHICLE( sub_3952(), l_U2919[I] )))))
                                    {
                                        if (IS_CHAR_IN_ANY_CAR( sub_3952() ))
                                        {
                                            bVar16 = false;
                                            STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_3952(), ref uVar7 );
                                            if (NOT (sub_91577( l_U2919[I], uVar7 )))
                                            {
                                                bVar16 = true;
                                            }
                                            if (NOT bVar16)
                                            {
                                                if (sub_91739( uVar7, l_U2919[I] ))
                                                {
                                                    bVar16 = true;
                                                }
                                            }
                                            if (bVar16)
                                            {
                                                sub_91970( l_U2919[I] );
                                                l_U1724[I]++;
                                            }
                                        }
                                    }
                                    else if (sub_91739( l_U2919[I], uParam0 ))
                                    {
                                        SET_PLAYBACK_SPEED( l_U2919[I], uParam1 );
                                    }
                                    else if ((NOT l_U378) AND (sub_92097( uParam0, l_U2919[I] )))
                                    {
                                        sub_91970( l_U2919[I] );
                                        l_U1724[I]++;
                                    }
                                    else
                                    {
                                        SET_PLAYBACK_SPEED( l_U2919[I], uParam1 );
                                    }
                                    if (l_U371)
                                    {
                                        # -NULL-0xbfc99f( l_U2919[I], 1 );
                                    }
                                    else
                                    {
                                        # -NULL-0xbfc99f( l_U2919[I], 0 );
                                    }
                                }
                            }
                            else
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U2919[I] );
                            }
                        }
                        else
                        {
                            STOP_PLAYBACK_RECORDED_CAR( l_U2919[I] );
                        }
                    }
                    else
                    {
                        l_U1724[I]++;
                    }
                }
                else
                {
                    l_U1724[I]++;
                }
            }
            if (l_U1724[I] == 5)
            {
                if (IS_VEH_DRIVEABLE( l_U2919[I] ))
                {
                    if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U2919[I] )))
                    {
                        l_U1724[I]++;
                    }
                    else
                    {
                        GET_DRIVER_OF_CAR( l_U2919[I], ref uVar6 );
                        if (DOES_CHAR_EXIST( uVar6 ))
                        {
                            if (NOT (IS_CHAR_INJURED( uVar6 )))
                            {
                                SET_PLAYBACK_SPEED( l_U2919[I], uParam1 );
                                if (l_U371)
                                {
                                    # -NULL-0xbfc99f( l_U2919[I], 1 );
                                }
                                else
                                {
                                    # -NULL-0xbfc99f( l_U2919[I], 0 );
                                }
                            }
                            else
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U2919[I] );
                            }
                        }
                        else
                        {
                            STOP_PLAYBACK_RECORDED_CAR( l_U2919[I] );
                        }
                        if (HAS_CAR_RECORDING_BEEN_LOADED( l_U1573[I] ))
                        {
                            if (l_U1553 > (l_U1028[I] + (GET_TOTAL_DURATION_OF_CAR_RECORDING( l_U1573[I] ))))
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U2919[I] );
                            }
                        }
                        else
                        {
                            STOP_PLAYBACK_RECORDED_CAR( l_U2919[I] );
                        }
                    }
                }
                else
                {
                    l_U1724[I]++;
                }
            }
            if (l_U1724[I] == 6)
            {
                if (NOT (IS_CAR_DEAD( l_U2919[I] )))
                {
                    GET_CAR_SPEED( l_U2919[I], ref uVar15 );
                }
                sub_93210( ref l_U2919[I] );
                l_U1978--;
                sub_88324( I, uVar15 );
            }
            l_U1989++;
        }
    }
    else
    {
        sub_5867();
    }
    return;
}

void sub_88198(unknown uParam0)
{
    unknown Result;

    REQUEST_CAR_RECORDING( uParam0 );
    while (NOT (HAS_CAR_RECORDING_BEEN_LOADED( uParam0 )))
    {
        WAIT( 0 );
    }
    Result = GET_TOTAL_DURATION_OF_CAR_RECORDING( uParam0 );
    REMOVE_CAR_RECORDING( uParam0 );
    return Result;
}

void sub_88324(int iParam0, float fParam1)
{
    int I;
    unknown uVar5;

    if (NOT (l_U1995[iParam0] == 0))
    {
        MARK_MODEL_AS_NO_LONGER_NEEDED( l_U1995[iParam0] );
    }
    if (DOES_VEHICLE_EXIST( l_U2919[iParam0] ))
    {
        if (IS_VEH_DRIVEABLE( l_U2919[iParam0] ))
        {
            GET_DRIVER_OF_CAR( l_U2919[iParam0], ref uVar5 );
            if (DOES_CHAR_EXIST( uVar5 ))
            {
                if (NOT (IS_CHAR_INJURED( uVar5 )))
                {
                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( uVar5, 0 );
                }
            }
        }
    }
    if (IS_VEH_DRIVEABLE( l_U2919[iParam0] ))
    {
        sub_6017( l_U2919[iParam0] );
        SET_CAR_COLLISION( l_U2919[iParam0], 1 );
        FREEZE_CAR_POSITION( l_U2919[iParam0], 0 );
    }
    if (NOT l_U367)
    {
        if (DOES_CHAR_EXIST( uVar5 ))
        {
            if (NOT (IS_CHAR_INJURED( uVar5 )))
            {
                if (fParam1 < 8.00000000)
                {
                    fParam1 = 8.00000000;
                }
                SET_DRIVE_TASK_CRUISE_SPEED( uVar5, fParam1 );
            }
            sub_88606( uVar5 );
        }
        sub_6158( l_U2919[iParam0] );
    }
    else if (DOES_CHAR_EXIST( uVar5 ))
    {
        DELETE_CHAR( ref uVar5 );
    }
    if (DOES_VEHICLE_EXIST( l_U2919[iParam0] ))
    {
        DELETE_CAR( ref l_U2919[iParam0] );
    }
    if (iParam0 >= l_U1988)
    {
        for ( I = 0; I < 150; I++ )
        {
            if (NOT (l_U1724[I] == 99))
            {
                if (iParam0 == I)
                {
                    if (iParam0 < 149)
                    {
                        l_U1988 = iParam0 + 1;
                    }
                }
                I = 150;
            }
        }
    }
    l_U1724[iParam0] = 99;
    return;
}

void sub_88606(unknown uParam0)
{
    MARK_CHAR_AS_NO_LONGER_NEEDED( ref uParam0 );
    return;
}

int sub_89240(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 8; I++ )
    {
        if (IS_VEH_DRIVEABLE( l_U399[I] ))
        {
            if (LOCATE_CAR_3D( l_U399[I], uParam0._fU0, uParam0._fU4, uParam0._fU8, 4.00000000, 4.00000000, 4.00000000, 0 ))
            {
                return 1;
            }
        }
    }
    return 0;
}

int sub_89764(unknown uParam0)
{
    unknown uVar3;

    if (DOES_VEHICLE_EXIST( uParam0 ))
    {
        if (NOT (IS_CAR_DEAD( uParam0 )))
        {
            GET_CAR_MODEL( uParam0, ref uVar3 );
            if ((IS_THIS_MODEL_A_BIKE( uVar3 )) || (IS_THIS_MODEL_A_CAR( uVar3 )))
            {
                return SET_CAR_ON_GROUND_PROPERLY( uParam0 );
            }
        }
    }
    return 0;
}

int sub_90353(unknown uParam0, int iParam1, unknown uParam2, boolean bParam3, boolean bParam4, unknown uParam5)
{
    unknown uVar8;

    if ((iParam1 < 3000) AND (iParam1 > 0))
    {
        if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( iParam1 )))
        {
            REQUEST_CAR_RECORDING( iParam1 );
        }
        else if (IS_VEH_DRIVEABLE( (uParam0^) ))
        {
            if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( (uParam0^) )))
            {
                FREEZE_CAR_POSITION( (uParam0^), 0 );
                if (bParam4)
                {
                    START_PLAYBACK_RECORDED_CAR_USING_AI( (uParam0^), iParam1 );
                }
                else
                {
                    START_PLAYBACK_RECORDED_CAR( (uParam0^), iParam1 );
                    SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( (uParam0^), uParam2 );
                    return 1;
                }
            }
            else if ((GET_CURRENT_PLAYBACK_NUMBER_FOR_CAR( (uParam0^) )) == iParam1)
            {
                uVar8 = FIND_TIME_POSITION_IN_RECORDING( (uParam0^) );
                SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( (uParam0^), uParam2 - uVar8 );
                if (NOT bParam3)
                {
                    STOP_PLAYBACK_RECORDED_CAR( (uParam0^) );
                    REQUEST_CAR_RECORDING( iParam1 );
                }
                return 1;
            }
            else
            {
                STOP_PLAYBACK_RECORDED_CAR( (uParam0^) );
                FREEZE_CAR_POSITION( (uParam0^), 0 );
                if (bParam4)
                {
                    START_PLAYBACK_RECORDED_CAR_USING_AI( (uParam0^), iParam1 );
                }
                else
                {
                    START_PLAYBACK_RECORDED_CAR( (uParam0^), iParam1 );
                }
                SKIP_TIME_IN_PLAYBACK_RECORDED_CAR( (uParam0^), uParam2 );
                return 1;
            }
        }
    }
    return 0;
}

void sub_90719(unknown uParam0)
{
    int iVar3;

    if (l_U379)
    {
        if (IS_VEH_DRIVEABLE( (uParam0^) ))
        {
            iVar3 = sub_90753();
            if (NOT (iVar3 == -1))
            {
                l_U399[iVar3] = (uParam0^);
                if (IS_VEH_DRIVEABLE( l_U399[iVar3] ))
                {
                    ADD_BLIP_FOR_CAR( l_U399[iVar3], ref l_U408[iVar3] );
                }
            }
        }
    }
    return;
}

int sub_90753()
{
    int Result;

    for ( Result = 0; Result < 8; Result++ )
    {
        if (NOT (DOES_VEHICLE_EXIST( l_U399[Result] )))
        {
            return Result;
        }
    }
    return -1;
}

int sub_91577(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    float fVar10;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_SPEED_VECTOR( uParam0, ref uVar4, 0 );
    }
    else
    {
        return 0;
    }
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_CAR_SPEED_VECTOR( uParam1, ref uVar7, 0 );
    }
    else
    {
        return 0;
    }
    uVar4._fU8 = 0.00000000;
    uVar7._fU8 = 0.00000000;
    fVar10 = sub_83558( ref uVar4, ref uVar7 );
    if (fVar10 < 0.00000000)
    {
        return 0;
    }
    return 1;
}

int sub_91739(unknown uParam0, unknown uParam1)
{
    vector vVar4;
    vector vVar7;
    vector vVar10;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    float fVar19;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_COORDINATES( uParam0, ref vVar4.x, ref vVar4.y, ref vVar4.z );
    }
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_CAR_COORDINATES( uParam1, ref vVar7.x, ref vVar7.y, ref vVar7.z );
    }
    uVar13 = {vVar7 - vVar4};
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( uParam1, 0.00000000, 5.00000000, 0.00000000, ref vVar10.x, ref vVar10.y, ref vVar10.z );
        uVar16 = {vVar10 - vVar7};
    }
    uVar13._fU8 = 0.00000000;
    uVar16._fU8 = 0.00000000;
    fVar19 = sub_83558( ref uVar13, ref uVar16 );
    if (fVar19 < 0.00000000)
    {
        return 1;
    }
    return 0;
}

void sub_91970(unknown uParam0)
{
    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        sub_6017( uParam0 );
        CHANGE_PLAYBACK_TO_USE_AI( uParam0 );
    }
    return;
}

int sub_92097(unknown uParam0, unknown uParam1)
{
    float fVar4;
    float fVar5;

    fVar4 = sub_92110( uParam0, uParam1 );
    fVar5 = sub_92334( uParam0, uParam1 );
    if (fVar4 > fVar5)
    {
        return 1;
    }
    return 0;
}

float sub_92110(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    vector vVar10;
    vector vVar13;
    float fVar16;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_FORWARD_X( uParam0, ref uVar4._fU0 );
        GET_CAR_FORWARD_Y( uParam0, ref uVar4._fU4 );
        GET_CAR_COORDINATES( uParam0, ref vVar10.x, ref vVar10.y, ref vVar10.z );
    }
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_CAR_COORDINATES( uParam1, ref vVar13.x, ref vVar13.y, ref vVar13.z );
    }
    uVar7 = {vVar13 - vVar10};
    GET_ANGLE_BETWEEN_2D_VECTORS( uVar7._fU0, uVar7._fU4, uVar4._fU0, uVar4._fU4, ref fVar16 );
    fVar16 += -90.00000000;
    if (fVar16 < 0.00000000)
    {
        fVar16 *= -1.00000000;
    }
    uVar7._fU8 = 0.00000000;
    return (VMAG( uVar7 )) * (SIN( fVar16 ));
}

float sub_92334(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    vector vVar10;
    vector vVar13;
    float fVar16;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_FORWARD_X( uParam0, ref uVar4._fU0 );
        GET_CAR_FORWARD_Y( uParam0, ref uVar4._fU4 );
        GET_CAR_COORDINATES( uParam0, ref vVar10.x, ref vVar10.y, ref vVar10.z );
    }
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_CAR_COORDINATES( uParam1, ref vVar13.x, ref vVar13.y, ref vVar13.z );
    }
    uVar7 = {vVar13 - vVar10};
    GET_ANGLE_BETWEEN_2D_VECTORS( uVar7._fU0, uVar7._fU4, uVar4._fU0, uVar4._fU4, ref fVar16 );
    fVar16 += -90.00000000;
    if (fVar16 < 0.00000000)
    {
        fVar16 *= -1.00000000;
    }
    uVar7._fU8 = 0.00000000;
    return (VMAG( uVar7 )) * (COS( fVar16 ));
}

void sub_93210(unknown uParam0)
{
    int I;

    for ( I = 0; I < 8; I++ )
    {
        if (l_U399[I] == (uParam0^))
        {
            l_U399[I] = nil;
            if (DOES_BLIP_EXIST( l_U408[I] ))
            {
                REMOVE_BLIP( l_U408[I] );
            }
            return;
        }
    }
    return;
}

void sub_93383(unknown uParam0)
{
    int I;
    int iVar4;
    int iVar5;
    unknown uVar6;

    iVar4 = l_U1988 - 5;
    iVar5 = iVar4 + 15;
    if (l_U3169 > 4000.00000000)
    {
        if (IS_PLAYER_PLAYING( sub_3898() ))
        {
            if (IS_CHAR_IN_ANY_CAR( sub_3952() ))
            {
                STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_3952(), ref uVar6 );
            }
            for ( I = 0; I < 150; I++ )
            {
                if (I < iVar4)
                {
                    I = iVar4;
                }
                if (DOES_VEHICLE_EXIST( l_U2919[I] ))
                {
                    if (IS_VEH_DRIVEABLE( l_U2919[I] ))
                    {
                        if ((sub_93552( l_U2919[I], uVar6 )) || (sub_93552( l_U2919[I], (uParam0^) )))
                        {
                            SOUND_CAR_HORN( l_U2919[I], 3000 );
                            l_U3169 = 0.00000000;
                        }
                    }
                }
                if (I >= iVar5)
                {
                    I = 150;
                }
            }
        }
    }
    return;
}

int sub_93552(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;

    if ((DOES_VEHICLE_EXIST( uParam1 )) AND (DOES_VEHICLE_EXIST( uParam0 )))
    {
        if (IS_VEH_DRIVEABLE( uParam0 ))
        {
            if (IS_VEH_DRIVEABLE( uParam1 ))
            {
                if (NOT (sub_91577( uParam0, uParam1 )))
                {
                    GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( uParam0, 0.00000000, 25.00000000, 0.00000000, ref uVar4._fU0, ref uVar4._fU4, ref uVar4._fU8 );
                    GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( uParam0, 0.00000000, 20.00000000, 0.00000000, ref uVar7._fU0, ref uVar7._fU4, ref uVar7._fU8 );
                    GET_OFFSET_FROM_CAR_IN_WORLD_COORDS( uParam0, 0.00000000, 15.00000000, 0.00000000, ref uVar10._fU0, ref uVar10._fU4, ref uVar10._fU8 );
                    if ((LOCATE_CAR_3D( uParam1, uVar4._fU0, uVar4._fU4, uVar4._fU8, 5.00000000, 5.00000000, 5.00000000, 0 )) || ((LOCATE_CAR_3D( uParam1, uVar4._fU0, uVar4._fU4, uVar4._fU8, 5.00000000, 5.00000000, 5.00000000, 0 )) || (LOCATE_CAR_3D( uParam1, uVar4._fU0, uVar4._fU4, uVar4._fU8, 5.00000000, 5.00000000, 5.00000000, 0 ))))
                    {
                        return 1;
                    }
                }
            }
        }
    }
    return 0;
}

void sub_93947(unknown uParam0)
{
    int I;
    int iVar4;
    int iVar5;
    unknown uVar6;

    iVar4 = l_U1988 - 5;
    iVar5 = iVar4 + 15;
    if (IS_PLAYER_PLAYING( sub_3898() ))
    {
        switch (l_U3167)
        {
            case 0:
            if (l_U3170 > 3000.00000000)
            {
                if (IS_CHAR_IN_ANY_CAR( sub_3952() ))
                {
                    STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_3952(), ref uVar6 );
                }
                for ( I = 0; I < 150; I++ )
                {
                    if (I < iVar4)
                    {
                        I = iVar4;
                    }
                    if (DOES_VEHICLE_EXIST( l_U2919[I] ))
                    {
                        if (IS_VEH_DRIVEABLE( l_U2919[I] ))
                        {
                            if ((sub_93552( l_U2919[I], uVar6 )) || (sub_93552( l_U2919[I], (uParam0^) )))
                            {
                                l_U3166 = l_U2919[I];
                                l_U3170 = 0.00000000;
                                I = 150;
                                l_U3167++;
                            }
                        }
                    }
                    if (I >= iVar5)
                    {
                        I = 150;
                    }
                }
            }
            break;
            case 1:
            if (IS_VEH_DRIVEABLE( l_U3166 ))
            {
                if (l_U3170 < 1000.00000000)
                {
                    if (l_U3171 > 100.00000000)
                    {
                        if (NOT l_U3168)
                        {
                            SET_CAR_LIGHT_MULTIPLIER( l_U3166, 2.00000000 );
                            l_U3168 = 1;
                        }
                        else
                        {
                            SET_CAR_LIGHT_MULTIPLIER( l_U3166, 1.00000000 );
                            l_U3168 = 0;
                        }
                        l_U3171 = 0.00000000;
                    }
                }
                else
                {
                    SET_CAR_LIGHT_MULTIPLIER( l_U3166, 1.00000000 );
                    l_U3167 = 0;
                    l_U3170 = 0.00000000;
                    l_U3168 = 0;
                }
            }
            else
            {
                l_U3167 = 0;
                l_U3170 = 0.00000000;
                l_U3168 = 0;
            }
            break;
        }
    }
    return;
}

void sub_94460(unknown uParam0)
{
    int I;
    int iVar4;

    l_U1991 = 0;
    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        for ( I = 0; I < 50; I++ )
        {
            if (I < l_U1990)
            {
                I = l_U1990;
            }
            if (l_U1927[I] == 0)
            {
                if (NOT (l_U2146[I] == 0))
                {
                    if (LOCATE_CAR_2D( uParam0, l_U2674[I]._fU0, l_U2674[I]._fU4, l_U1550, l_U1550, 0 ))
                    {
                        l_U1992++;
                        l_U1927[I]++;
                    }
                }
                else
                {
                    sub_94642( I );
                }
            }
            if (l_U1927[I] == 1)
            {
                if (6 > l_U1981)
                {
                    if (HAS_MODEL_LOADED( l_U2146[I] ))
                    {
                        if (NOT (DOES_VEHICLE_EXIST( l_U3079[I] )))
                        {
                            if ((l_U389) || ((l_U363) || (NOT (sub_87451( l_U2674[I], 5.00000000, 1120403456 )))))
                            {
                                if (l_U382)
                                {
                                    sub_87421( l_U2674[I], l_U1558 );
                                }
                                CREATE_CAR( l_U2146[I], l_U2674[I]._fU0, l_U2674[I]._fU4, l_U2674[I]._fU8, ref l_U3079[I], 1 );
                                SET_VEHICLE_QUATERNION( l_U3079[I], l_U1339[I], l_U1390[I], l_U1441[I], l_U1492[I] );
                                MARK_MODEL_AS_NO_LONGER_NEEDED( l_U2146[I] );
                                if (IS_CAR_MODEL( l_U3079[I], sub_5792() ))
                                {
                                    SWITCH_CAR_SIREN( l_U3079[I], 1 );
                                }
                                if (IS_CAR_MODEL( l_U3079[I], sub_5763() ))
                                {
                                    CHANGE_CAR_COLOUR( l_U3079[I], 0, 0 );
                                }
                                GET_INTERIOR_FROM_CAR( l_U3079[I], ref iVar4 );
                                if (NOT (iVar4 == nil))
                                {
                                    # -NULL-0xbfc5b5( l_U3079[I] );
                                }
                                l_U1992--;
                                l_U1981++;
                                l_U1927[I]++;
                            }
                        }
                    }
                    else
                    {
                        REQUEST_MODEL( l_U2146[I] );
                    }
                }
            }
            if (l_U1927[I] == 2)
            {
                if (NOT (sub_91739( l_U3079[I], uParam0 )))
                {
                    if (NOT l_U367)
                    {
                        sub_6158( l_U3079[I] );
                    }
                    else
                    {
                        DELETE_CAR( ref l_U3079[I] );
                    }
                    l_U1981--;
                    sub_94642( I );
                }
            }
            l_U1991++;
            if (l_U1991 >= 15)
            {
                return;
            }
        }
    }
    else
    {
        sub_6282();
    }
    return;
}

void sub_94642(int iParam0)
{
    int I;

    if (iParam0 >= l_U1990)
    {
        for ( I = 0; I < 50; I++ )
        {
            if (NOT (l_U1927[I] == 99))
            {
                if (iParam0 == I)
                {
                    if (iParam0 < 49)
                    {
                        l_U1990 = iParam0 + 1;
                    }
                }
                I = 50;
            }
        }
    }
    l_U1927[iParam0] = 99;
    return;
}

void sub_95414(unknown uParam0, unknown uParam1)
{
    int I;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    float fVar13;
    float fVar14;
    boolean bVar15;
    int iVar16;
    int iVar17;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        for ( I = 0; I < 25; I++ )
        {
            if ((NOT (l_U2197[I] == 0)) AND ((l_U1875[I] < 3000) AND (l_U1875[I] > 0)))
            {
                if (l_U1901[I] == 0)
                {
                    if (NOT l_U363)
                    {
                        if (l_U1553 > (l_U1287[I] - (7000.00000000 * uParam1)))
                        {
                            l_U1901[I]++;
                            l_U1993++;
                        }
                    }
                    else
                    {
                        fVar13 = l_U1553 - l_U1287[I];
                        fVar13 *= l_U1313[I];
                        if (fVar13 >= 0.00000000)
                        {
                            if (fVar13 < (sub_88198( l_U1875[I] )))
                            {
                                l_U1901[I]++;
                                l_U1993++;
                            }
                            else
                            {
                                l_U1901[I] = 99;
                            }
                        }
                    }
                }
                if (l_U1901[I] == 1)
                {
                    if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( l_U1875[I] )))
                    {
                        REQUEST_CAR_RECORDING( l_U1875[I] );
                    }
                    else if (l_U2197[I] == sub_5792())
                    {
                        if (HAS_MODEL_LOADED( sub_5821() ))
                        {
                            l_U1901[I]++;
                        }
                        else
                        {
                            REQUEST_MODEL( sub_5821() );
                        }
                    }
                    else if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
                    {
                        l_U1901[I]++;
                    }
                    else if (HAS_MODEL_LOADED( sub_5734() ))
                    {
                        l_U1901[I]++;
                    }
                    else
                    {
                        REQUEST_MODEL( sub_5734() );
                    };;;;
                }
                if (l_U1901[I] == 2)
                {
                    if (HAS_MODEL_LOADED( l_U2197[I] ))
                    {
                        if (NOT (DOES_VEHICLE_EXIST( l_U3130[I] )))
                        {
                            bVar15 = false;
                            if (l_U2197[I] == sub_5792())
                            {
                                if (HAS_MODEL_LOADED( sub_5821() ))
                                {
                                    bVar15 = true;
                                }
                                else
                                {
                                    REQUEST_MODEL( sub_5821() );
                                }
                            }
                            else if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
                            {
                                bVar15 = true;
                            }
                            else if (HAS_MODEL_LOADED( sub_5734() ))
                            {
                                bVar15 = true;
                            }
                            else
                            {
                                REQUEST_MODEL( sub_5734() );
                            };;;
                            if (bVar15)
                            {
                                if ((l_U389) || (NOT (sub_87451( l_U2825[I], 5.00000000, 1120403456 ))))
                                {
                                    CREATE_CAR( l_U2197[I], l_U2825[I]._fU0, l_U2825[I]._fU4, l_U2825[I]._fU8, ref l_U3130[I], 1 );
                                    if (l_U2197[I] == sub_5792())
                                    {
                                        CREATE_CHAR_INSIDE_CAR( l_U3130[I], 6, sub_5821(), ref uVar5 );
                                        SET_CHAR_RELATIONSHIP_GROUP( uVar5, 23 );
                                        MARK_MODEL_AS_NO_LONGER_NEEDED( sub_5821() );
                                    }
                                    else if (CAN_CREATE_RANDOM_CHAR( 0, 0 ))
                                    {
                                        CREATE_RANDOM_CHAR_AS_DRIVER( l_U3130[I], ref uVar5 );
                                        SET_CHAR_RANDOM_COMPONENT_VARIATION( uVar5 );
                                    }
                                    else
                                    {
                                        CREATE_CHAR_INSIDE_CAR( l_U3130[I], 26, sub_5734(), ref uVar5 );
                                        SET_CHAR_RANDOM_COMPONENT_VARIATION( uVar5 );
                                        MARK_MODEL_AS_NO_LONGER_NEEDED( sub_5734() );
                                    }
                                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( uVar5, 1 );
                                    SET_CHAR_ONLY_DAMAGED_BY_PLAYER( uVar5, 1 );
                                    SET_CHAR_SUFFERS_CRITICAL_HITS( uVar5, 0 );
                                    SET_CHAR_WILL_FLY_THROUGH_WINDSCREEN( uVar5, 0 );
                                    sub_88606( uVar5 );
                                    SET_VEHICLE_QUATERNION( l_U3130[I], l_U1183[I], l_U1209[I], l_U1235[I], l_U1261[I] );
                                    FREEZE_CAR_POSITION( l_U3130[I], 1 );
                                    MARK_MODEL_AS_NO_LONGER_NEEDED( l_U2197[I] );
                                    sub_89764( l_U3130[I] );
                                    GET_INTERIOR_FROM_CAR( l_U3130[I], ref iVar16 );
                                    if (NOT (iVar16 == nil))
                                    {
                                        # -NULL-0xbfc5b5( l_U3130[I] );
                                    }
                                    l_U1901[I]++;
                                    l_U1993--;
                                }
                            }
                        }
                    }
                    else
                    {
                        REQUEST_MODEL( l_U2197[I] );
                    }
                }
                if (l_U1901[I] == 3)
                {
                    if (NOT (HAS_CAR_RECORDING_BEEN_LOADED( l_U1875[I] )))
                    {
                        REQUEST_CAR_RECORDING( l_U1875[I] );
                    }
                    if (IS_VEH_DRIVEABLE( l_U3130[I] ))
                    {
                        if (l_U1553 > l_U1287[I])
                        {
                            if (4 > l_U1980)
                            {
                                if (IS_VEH_DRIVEABLE( uParam0 ))
                                {
                                    if (IS_PLAYBACK_GOING_ON_FOR_CAR( uParam0 ))
                                    {
                                        l_U1553 = FIND_TIME_POSITION_IN_RECORDING( uParam0 );
                                    }
                                }
                                fVar13 = l_U1553 - l_U1287[I];
                                fVar13 *= l_U1313[I];
                                if (HAS_CAR_RECORDING_BEEN_LOADED( l_U1875[I] ))
                                {
                                    if (fVar13 < (GET_TOTAL_DURATION_OF_CAR_RECORDING( l_U1875[I] )))
                                    {
                                        GET_CAR_COORDINATES( l_U3130[I], ref uVar7._fU0, ref uVar7._fU4, ref uVar7._fU8 );
                                        GET_POSITION_OF_CAR_RECORDING_AT_TIME( l_U1875[I], fVar13, ref uVar10 );
                                        if ((NOT l_U389) AND ((sub_87451( uVar10, 5.00000000, 1120403456 )) AND (NOT (sub_87451( uVar7, 5.00000000, 1120403456 )))))
                                        {
                                            l_U1980++;
                                            l_U1901[I]++;
                                        }
                                        else if (sub_90353( ref l_U3130[I], l_U1875[I], fVar13, 1, 0, 0 ))
                                        {
                                            SET_PLAYBACK_SPEED( l_U3130[I], uParam1 * l_U1313[I] );
                                            if (IS_VEH_DRIVEABLE( l_U3130[I] ))
                                            {
                                                if (l_U2197[I] == sub_5792())
                                                {
                                                    SWITCH_CAR_SIREN( l_U3130[I], 1 );
                                                }
                                            }
                                            if (l_U380)
                                            {
                                                # -NULL-0xbfc99f( l_U3130[I], 1 );
                                            }
                                            else
                                            {
                                                # -NULL-0xbfc99f( l_U3130[I], 0 );
                                            }
                                            l_U1980++;
                                            l_U1901[I]++;
                                        }
                                    }
                                    else
                                    {
                                        l_U1980++;
                                        l_U1901[I]++;
                                    }
                                }
                            }
                            else
                            {
                                SCRIPT_ASSERT( "Too many set peice cars playing back at once" );
                                l_U1980++;
                                l_U1901[I]++;
                            }
                        }
                    }
                    else
                    {
                        l_U1980++;
                        l_U1901[I]++;
                    }
                }
                if (l_U1901[I] == 4)
                {
                    if (IS_VEH_DRIVEABLE( l_U3130[I] ))
                    {
                        if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3130[I] ))
                        {
                            GET_DRIVER_OF_CAR( l_U3130[I], ref uVar5 );
                            if (DOES_CHAR_EXIST( uVar5 ))
                            {
                                if (NOT (IS_CHAR_INJURED( uVar5 )))
                                {
                                    if (IS_PLAYER_PLAYING( sub_3898() ))
                                    {
                                        if ((NOT l_U366) AND ((NOT l_U369) AND (IS_CHAR_TOUCHING_VEHICLE( sub_3952(), l_U3130[I] ))))
                                        {
                                            if (IS_CHAR_IN_ANY_CAR( sub_3952() ))
                                            {
                                                bVar15 = false;
                                                STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_3952(), ref uVar6 );
                                                if (NOT (sub_97570( l_U3130[I], uVar6, 45.00000000 )))
                                                {
                                                    bVar15 = true;
                                                }
                                                if (NOT bVar15)
                                                {
                                                    if (sub_91739( uVar6, l_U3130[I] ))
                                                    {
                                                        bVar15 = true;
                                                    }
                                                }
                                                if (NOT bVar15)
                                                {
                                                    GET_CAR_SPEED( uVar6, ref fVar14 );
                                                    if (fVar14 < 1.00000000)
                                                    {
                                                        bVar15 = true;
                                                    }
                                                }
                                                if (NOT bVar15)
                                                {
                                                    if (sub_97855( uVar6, l_U3130[I], 15.00000000 ))
                                                    {
                                                        bVar15 = true;
                                                    }
                                                }
                                                if (bVar15)
                                                {
                                                    sub_91970( l_U3130[I] );
                                                    l_U1901[I]++;
                                                }
                                            }
                                        }
                                        else
                                        {
                                            SET_PLAYBACK_SPEED( l_U3130[I], uParam1 * l_U1313[I] );
                                            if (l_U380)
                                            {
                                                # -NULL-0xbfc99f( l_U3130[I], 1 );
                                            }
                                            else
                                            {
                                                # -NULL-0xbfc99f( l_U3130[I], 0 );
                                            }
                                        }
                                    }
                                }
                                else
                                {
                                    STOP_PLAYBACK_RECORDED_CAR( l_U3130[I] );
                                }
                            }
                            else
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U3130[I] );
                            }
                        }
                        else
                        {
                            l_U1901[I]++;
                        }
                    }
                    else
                    {
                        l_U1901[I]++;
                    }
                }
                if (l_U1901[I] == 5)
                {
                    if (IS_VEH_DRIVEABLE( l_U3130[I] ))
                    {
                        if (NOT (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3130[I] )))
                        {
                            l_U1901[I]++;
                        }
                        else
                        {
                            GET_DRIVER_OF_CAR( l_U3130[I], ref uVar5 );
                            if (DOES_CHAR_EXIST( uVar5 ))
                            {
                                if (NOT (IS_CHAR_INJURED( uVar5 )))
                                {
                                    SET_PLAYBACK_SPEED( l_U3130[I], uParam1 * l_U1313[I] );
                                    if (l_U380)
                                    {
                                        # -NULL-0xbfc99f( l_U3130[I], 1 );
                                    }
                                    else
                                    {
                                        # -NULL-0xbfc99f( l_U3130[I], 0 );
                                    }
                                }
                                else
                                {
                                    STOP_PLAYBACK_RECORDED_CAR( l_U3130[I] );
                                }
                            }
                            else
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U3130[I] );
                            }
                            if (HAS_CAR_RECORDING_BEEN_LOADED( l_U1875[I] ))
                            {
                                if (l_U1553 > (l_U1287[I] + (GET_TOTAL_DURATION_OF_CAR_RECORDING( l_U1875[I] ))))
                                {
                                    STOP_PLAYBACK_RECORDED_CAR( l_U3130[I] );
                                }
                            }
                            else
                            {
                                STOP_PLAYBACK_RECORDED_CAR( l_U3130[I] );
                            }
                        }
                    }
                    else
                    {
                        l_U1901[I]++;
                    }
                }
                if (l_U1901[I] == 6)
                {
                    if (NOT (l_U3130[I] == l_U3165))
                    {
                        if (IS_VEH_DRIVEABLE( l_U3130[I] ))
                        {
                            GET_DRIVER_OF_CAR( l_U3130[I], ref uVar5 );
                            if (DOES_CHAR_EXIST( uVar5 ))
                            {
                                if (NOT (IS_CHAR_INJURED( uVar5 )))
                                {
                                    GET_SCRIPT_TASK_STATUS( uVar5, 29, ref iVar17 );
                                    if (iVar17 == 7)
                                    {
                                        GET_CAR_SPEED( l_U3130[I], ref fVar14 );
                                        if (fVar14 < 8.00000000)
                                        {
                                            fVar14 = 8.00000000;
                                        }
                                        SET_DRIVE_TASK_CRUISE_SPEED( uVar5, fVar14 );
                                    }
                                }
                            }
                        }
                        if (NOT l_U367)
                        {
                            sub_6158( l_U3130[I] );
                        }
                        else if (DOES_VEHICLE_EXIST( l_U3130[I] ))
                        {
                            DELETE_CAR( ref l_U3130[I] );
                        }
                    }
                    l_U1980--;
                    l_U1901[I] = 99;
                }
            }
        }
    }
    else
    {
        sub_6468();
    }
    return;
}

int sub_97570(unknown uParam0, unknown uParam1, float fParam2)
{
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    float fVar11;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        GET_CAR_SPEED_VECTOR( uParam0, ref uVar5, 0 );
    }
    else
    {
        return 0;
    }
    if (IS_VEH_DRIVEABLE( uParam1 ))
    {
        GET_CAR_SPEED_VECTOR( uParam1, ref uVar8, 0 );
    }
    else
    {
        return 0;
    }
    uVar5._fU8 = 0.00000000;
    uVar8._fU8 = 0.00000000;
    fVar11 = sub_83558( ref uVar5, ref uVar8 );
    if (fVar11 < 0.00000000)
    {
        return 0;
    }
    GET_ANGLE_BETWEEN_2D_VECTORS( uVar5._fU0, uVar5._fU4, uVar8._fU0, uVar8._fU4, ref fVar11 );
    if (NOT (fVar11 < fParam2))
    {
        return 0;
    }
    return 1;
}

int sub_97855(unknown uParam0, unknown uParam1, float fParam2)
{
    unknown uVar5;
    unknown uVar6;

    if (NOT (IS_CAR_DEAD( uParam0 )))
    {
        GET_CAR_SPEED( uParam0, ref uVar5 );
    }
    if (NOT (IS_CAR_DEAD( uParam1 )))
    {
        GET_CAR_SPEED( uParam1, ref uVar6 );
    }
    if (((uVar5 - uVar6) < (fParam2 * -1.00000000)) || ((uVar5 - uVar6) > fParam2))
    {
        return 1;
    }
    return 0;
}

int sub_99138(unknown uParam0, unknown uParam1)
{
    if (NOT l_U392)
    {
        l_U363 = 1;
        sub_6686();
        if (IS_VEH_DRIVEABLE( (uParam0^) ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( (uParam0^) ))
            {
                STOP_PLAYBACK_RECORDED_CAR( (uParam0^) );
                FIX_CAR( (uParam0^) );
            }
            if (NOT (l_U1987 == -1))
            {
                while (NOT (sub_90353( uParam0, l_U1987, uParam1, 1, 0, 0 )))
                {
                    WAIT( 0 );
                }
                if (NOT l_U374)
                {
                    l_U366 = 1;
                    l_U1556 = 0.00000000;
                    l_U1988 = 0;
                    l_U1990 = 0;
                    l_U1978 = 0;
                    l_U1980 = 0;
                    l_U1981 = 0;
                    l_U1992 = 0;
                    l_U1993 = 0;
                    l_U1994 = 0;
                }
            }
        }
        l_U392 = 1;
    }
    else if (IS_VEH_DRIVEABLE( (uParam0^) ))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_CAR( (uParam0^) ))
        {
            SET_PLAYBACK_SPEED( (uParam0^), (1.00000000 * l_U1554) * l_U1556 );
            sub_90353( uParam0, l_U1987, uParam1, 1, 0, 0 );
        }
    }
    l_U1553 = uParam1;
    sub_95414( (uParam0^), (1.00000000 * l_U1554) * l_U1556 );
    sub_87924( (uParam0^), (1.00000000 * l_U1554) * l_U1556 );
    if ((l_U1994 == 0) AND ((l_U1993 == 0) AND (l_U1992 == 0)))
    {
        l_U366 = 0;
        l_U363 = 0;
        l_U392 = 0;
        return 1;
    }
    return 0;
}

void sub_99683()
{
    int iVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    float fVar9;

    if (IS_VEH_DRIVEABLE( l_U3187 ))
    {
        if (IS_CHAR_INJURED( l_U3189 ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3187 ))
            {
                STOP_PLAYBACK_RECORDED_CAR( l_U3187 );
            }
        }
        else if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3187 ))
        {
            if (NOT l_U3229)
            {
                if ((LOCATE_CAR_3D( l_U3187, -50.42000000, -312.59000000, 14.24000000, 10.00000000, 10.00000000, 10.00000000, 0 )) || (sub_99793( l_U3187 )))
                {
                    CHANGE_PLAYBACK_TO_USE_AI( l_U3187 );
                    l_U3229 = 1;
                }
            }
        }
        else if (IS_CHAR_IN_CAR( l_U3189, l_U3187 ))
        {
            GET_SCRIPT_TASK_STATUS( l_U3189, 49, ref iVar2 );
            if (iVar2 == 1)
            {
                uVar3 = {sub_9097( l_U3187, 1 )};
                uVar6 = {sub_4026( sub_3952(), 1 )};
                fVar9 = VDIST( uVar3, uVar6 );
                if (fVar9 < 17.00000000)
                {
                    SET_DRIVE_TASK_CRUISE_SPEED( l_U3189, 50.00000000 );
                }
                else if (fVar9 < 75.00000000)
                {
                    SET_DRIVE_TASK_CRUISE_SPEED( l_U3189, 32.00000000 );
                }
                else
                {
                    SET_DRIVE_TASK_CRUISE_SPEED( l_U3189, 12.00000000 );
                }
            }
            else if (iVar2 == 7)
            {
                if (NOT (IS_CAR_DEAD( l_U3187 )))
                {
                    if ((GET_MAP_AREA_FROM_COORDS( sub_4026( l_U3189, 1 ) )) != 2)
                    {
                        TASK_CAR_MISSION_COORS_TARGET( l_U3189, l_U3187, 65506, 65128, 15, 4, 35.00000000, 2, 12, -1 );
                    }
                    else
                    {
                        TASK_CAR_MISSION_PED_TARGET( l_U3189, l_U3187, sub_3952(), 8, 35.00000000, 2, -2, -2 );
                    }
                }
            }
        }
        else
        {
            sub_100341( l_U3189 );
        };;;
    }
    else
    {
        sub_100341( l_U3189 );
    }
    return;
}

int sub_99793(unknown uParam0)
{
    int iVar3;

    if (IS_VEH_DRIVEABLE( uParam0 ))
    {
        iVar3 = 0;
        if (IS_CAR_TYRE_BURST( uParam0, 0 ))
        {
            iVar3++;
        }
        if (IS_CAR_TYRE_BURST( uParam0, 1 ))
        {
            iVar3++;
        }
        if (IS_CAR_TYRE_BURST( uParam0, 4 ))
        {
            iVar3++;
        }
        if (IS_CAR_TYRE_BURST( uParam0, 5 ))
        {
            iVar3++;
        }
        if ((NOT (IS_CAR_HEALTH_GREATER( uParam0, 500 ))) AND (iVar3 > 2))
        {
            return 1;
        }
    }
    else
    {
        return 1;
    }
    return 0;
}

void sub_100341(unknown uParam0)
{
    int iVar3;

    if (NOT (IS_CHAR_INJURED( uParam0 )))
    {
        GET_SCRIPT_TASK_STATUS( uParam0, 91, ref iVar3 );
        if (iVar3 == 7)
        {
            TASK_COMBAT( uParam0, sub_3952() );
        }
    }
    return;
}

void sub_100432()
{
    if ((NOT l_U3565) AND (IS_VEH_DRIVEABLE( l_U3187 )))
    {
        if (IS_CAR_IN_AREA_3D( l_U3187, 137.92000000, -434.57000000, 14.36000000, 179.00000000, -384.37000000, 27.91000000, 0 ))
        {
            l_U3565 = 1;
        }
    }
    if (l_U3565)
    {
        SWITCH_ROADS_OFF( 190.70000000, -423.06000000, 12.93000000, 485.76000000, -388.53000000, 83.48000000 );
    }
    SWITCH_ROADS_OFF( 898.50000000, -404.32000000, 16.00000000, 1008.72000000, -364.14000000, 40.00000000 );
    return;
}

void sub_100617()
{
    int I;
    int iVar3;

    if (DOES_VEHICLE_EXIST( l_U3274 ))
    {
        if (NOT (IS_VEH_DRIVEABLE( l_U3274 )))
        {
            for ( I = 0; I < l_U3275; I++ )
            {
                sub_100341( l_U3275[I] );
            }
            sub_9324();
            l_U3227 = 0;
        }
        else if (IS_CHAR_INJURED( l_U3275[0] ))
        {
            for ( I = 0; I < l_U3275; I++ )
            {
                sub_100341( l_U3275[I] );
            }
            sub_9324();
            l_U3227 = 0;
        }
        else if (IS_PLAYBACK_GOING_ON_FOR_CAR( l_U3274 ))
        {
            SET_PLAYBACK_SPEED( l_U3274, l_U3201 );
        }
        else
        {
            GET_SCRIPT_TASK_STATUS( l_U3275[0], 49, ref iVar3 );
            if (iVar3 == 7)
            {
                TASK_CAR_MISSION( l_U3275[0], l_U3274, l_U3187, 12, 40.00000000, 2, 8, -2 );
            }
        }
        if (IS_CHAR_IN_CAR( sub_3952(), l_U3274 ))
        {
            for ( I = 0; I < l_U3275; I++ )
            {
                sub_100341( l_U3275[I] );
            }
            sub_9324();
            l_U3227 = 0;
        }
        else if ((NOT (LOCATE_CHAR_ANY_MEANS_CHAR_3D( l_U3275[0], sub_3952(), 140.00000000, 140.00000000, 140.00000000, 0 ))) AND (l_U3227 == 1))
        {
            sub_9324();
        }
        else if ((NOT (IS_CHAR_INJURED( l_U3275[2] ))) AND (IS_CHAR_INJURED( l_U3275[1] )))
        {
            if (IS_CHAR_IN_CAR( l_U3275[2], l_U3274 ))
            {
                GET_SCRIPT_TASK_STATUS( l_U3275[2], 52, ref iVar3 );
                if (iVar3 == 7)
                {
                    SET_CHAR_CAN_BE_SHOT_IN_VEHICLE( l_U3275[2], 1 );
                    TASK_DRIVE_BY( l_U3275[2], sub_3952(), 0, 0.00000000, 0.00000000, 0.00000000, 23.00000000, 8, 1, 60 );
                }
            }
            else
            {
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U3275[2], 0 );
            }
        };;;
        for ( I = 0; I < l_U3275; I++ )
        {
            if ((NOT (sub_17823( l_U3221 ))) AND (TIMERB() > 4500))
            {
                if (NOT (IS_CHAR_INJURED( l_U3275[I] )))
                {
                    if ((LOCATE_CHAR_ANY_MEANS_CHAR_3D( l_U3275[I], sub_3952(), 25, 25, 12, 0 )) AND (IS_CHAR_IN_CAR( l_U3275[I], l_U3274 )))
                    {
                        if ((IS_CONTROL_PRESSED( 0, 39 )) || (IS_CONTROL_PRESSED( 0, 38 )))
                        {
                            switch (sub_8441( 0, 2 ))
                            {
                                case 0:
                                if (I != 0)
                                {
                                    SAY_AMBIENT_SPEECH( l_U3275[I], "TARGET", 1, 1, 2 );
                                }
                                break;
                                case 1:
                                SAY_AMBIENT_SPEECH( l_U3275[I], "COVER_ME", 1, 1, 2 );
                                break;
                                default:
                                SAY_AMBIENT_SPEECH( l_U3275[I], "DUCK", 1, 1, 2 );
                                break;
                            }
                        }
                        else if (I != 0)
                        {
                            SAY_AMBIENT_SPEECH( l_U3275[I], "TARGET", 1, 1, 2 );
                        }
                        SETTIMERB( 0 );
                    }
                }
            }
        };;;
    }
    return;
}

void sub_102006(int iParam0, int iParam1)
{
    int iVar4;

    GET_GAME_TIMER( ref iVar4 );
    if (iParam1 == 0)
    {
        iParam0->_fU0 = 0;
    }
    else
    {
        iParam0->_fU0 = iVar4 + iParam1;
    }
    iParam0->_fU4 = 0;
    return;
}

void sub_102601()
{
    if (NOT l_U3227)
    {
        if ((IS_VEH_DRIVEABLE( l_U3274 )) AND (NOT (IS_CHAR_INJURED( l_U3275[0] ))))
        {
            TASK_CAR_MISSION_PED_TARGET( l_U3275[0], l_U3274, sub_3952(), 8, 45.00000000, 2, -1, -1 );
            l_U3227 = 1;
        }
    }
    return;
}

void sub_103705()
{
    vector vVar2;

    if (sub_103718( ref l_U3218 ))
    {
        vVar2 = {sub_4026( sub_3952(), 1 )};
        if (IS_WANTED_LEVEL_GREATER( sub_3898(), 0 ))
        {
            if (NOT l_U3250)
            {
                PRINT( "R1_WANTED", 7500, 0 );
                l_U3250 = 1;
            }
            sub_102006( ref l_U3218, 2000 );
        }
        else if (sub_44607( 5, "E1R1_CALL2", "E1R1AUD" ))
        {
            sub_102006( ref l_U3218, 0 );
        }
        else
        {
            sub_102006( ref l_U3218, 500 );
        }
    }
    if (NOT (sub_103945( ref l_U3218 )))
    {
        if ((NOT (IS_WANTED_LEVEL_GREATER( sub_3898(), 0 ))) AND (IS_ANY_CHAR_SHOOTING_IN_AREA( vVar2 - (vector( 30.00000000, 30.00000000, 30.00000000)), vVar2 + (vector( 30.00000000, 30.00000000, 30.00000000)), 0 )))
        {
            sub_102006( ref l_U3218, 1000 );
        }
    }
    else
    {
        switch (sub_104075())
        {
            case 1:
            case 2:
            sub_102006( ref l_U3218, 500 );
            break;
            case 3:
            if (sub_54486() == 6)
            {
                if (NOT (DOES_BLIP_EXIST( l_U3531[0]._fU20 )))
                {
                    ADD_BLIP_FOR_OBJECT( l_U3531[0]._fU16, ref l_U3531[0]._fU20 );
                    FLASH_BLIP( l_U3531[0]._fU20, 1 );
                }
                if (NOT (DOES_BLIP_EXIST( l_U3531[2]._fU20 )))
                {
                    ADD_BLIP_FOR_OBJECT( l_U3531[2]._fU16, ref l_U3531[2]._fU20 );
                    FLASH_BLIP( l_U3531[2]._fU20, 1 );
                }
            }
            else if (DOES_BLIP_EXIST( l_U3531[0]._fU20 ))
            {
                FLASH_BLIP( l_U3531[0]._fU20, 0 );
            }
            if (DOES_BLIP_EXIST( l_U3531[2]._fU20 ))
            {
                FLASH_BLIP( l_U3531[2]._fU20, 0 );
            }
            break;
            case 6:
            if (NOT (DOES_BLIP_EXIST( l_U3531[0]._fU20 )))
            {
                ADD_BLIP_FOR_OBJECT( l_U3531[0]._fU16, ref l_U3531[0]._fU20 );
            }
            FLASH_BLIP( l_U3531[0]._fU20, 0 );
            if (NOT (DOES_BLIP_EXIST( l_U3531[2]._fU20 )))
            {
                ADD_BLIP_FOR_OBJECT( l_U3531[2]._fU16, ref l_U3531[2]._fU20 );
            }
            FLASH_BLIP( l_U3531[2]._fU20, 0 );
            WAIT( 2000 );
            if ((NOT (IS_WANTED_LEVEL_GREATER( sub_3898(), 0 ))) AND (l_U3241 == 1))
            {
                PRINT_NOW( "R1_STASH1", 7500, 0 );
                l_U3241 = 0;
            }
            l_U3172 = 7;
            break;
        }
    }
    return;
}

int sub_103718(int iParam0)
{
    int iVar3;

    if ((iParam0->_fU0 > 0) AND (NOT iParam0->_fU4))
    {
        GET_GAME_TIMER( ref iVar3 );
        if (iVar3 >= iParam0->_fU0)
        {
            iParam0->_fU4 = 1;
            return 1;
        }
    }
    return 0;
}

int sub_103945(int iParam0)
{
    if ((iParam0->_fU0 == 0) AND (NOT iParam0->_fU4))
    {
        return 1;
    }
    return 0;
}

int sub_104075()
{
    if (g_U94._fU60 != -1)
    {
        return g_U15862[g_U94._fU60]._fU196._fU24;
    }
    return 6;
}

void sub_104652()
{
    if (l_U3232)
    {
        sub_104675( ref l_U3257 );
        if (NOT (DOES_VEHICLE_EXIST( l_U3257[0]._fU0 )))
        {
            l_U3232 = 0;
        }
        if ((l_U3231) AND (l_U3230))
        {
            sub_104878( ref l_U3257[0] );
            l_U3172 = 10;
        }
    }
    else if (NOT l_U3230)
    {
        if (LOCATE_CHAR_ANY_MEANS_OBJECT_3D( sub_3952(), l_U3531[0]._fU16, 5.50000000, 5.50000000, 5.50000000, 0 ))
        {
            REMOVE_BLIP( l_U3531[0]._fU20 );
            if (IS_CHAR_IN_ANY_CAR( sub_3952() ))
            {
                sub_105251( ref l_U3531[0] );
            }
            else
            {
                sub_105664();
            }
            if (NOT l_U3231)
            {
                if (l_U3242 == 1)
                {
                    PRINT_NOW( "R1_STASH2", 7500, 0 );
                    l_U3242 = 0;
                }
            }
            l_U3230 = 1;
            if (DOES_PICKUP_EXIST( l_U3531[2]._fU28 ))
            {
                REMOVE_PICKUP( l_U3531[2]._fU28 );
            }
            if (DOES_BLIP_EXIST( l_U3531[2]._fU20 ))
            {
                SET_ROUTE( l_U3531[2]._fU20, 1 );
            }
        }
    }
    if (NOT l_U3231)
    {
        if (LOCATE_CHAR_ANY_MEANS_OBJECT_3D( sub_3952(), l_U3531[2]._fU16, 5.50000000, 5.50000000, 5.50000000, 0 ))
        {
            REMOVE_BLIP( l_U3531[2]._fU20 );
            if (IS_CHAR_IN_ANY_CAR( sub_3952() ))
            {
                sub_105251( ref l_U3531[2] );
            }
            else
            {
                sub_107144();
            }
            if (NOT l_U3230)
            {
                if (l_U3242 == 1)
                {
                    PRINT_NOW( "R1_STASH2", 7500, 0 );
                    l_U3242 = 0;
                }
            }
            l_U3231 = 1;
            if (DOES_PICKUP_EXIST( l_U3531[0]._fU28 ))
            {
                REMOVE_PICKUP( l_U3531[0]._fU28 );
            }
            if (DOES_BLIP_EXIST( l_U3531[0]._fU20 ))
            {
                SET_ROUTE( l_U3531[0]._fU20, 1 );
            }
        }
    }
    if (IS_WANTED_LEVEL_GREATER( sub_3898(), 0 ))
    {
        REMOVE_BLIP( l_U3531[0]._fU20 );
        REMOVE_BLIP( l_U3531[2]._fU20 );
        PRINT_NOW( "R1_WANTED", 7500, 0 );
        l_U3172 = 8;
    }
    if ((l_U3231) AND (l_U3230))
    {
        l_U3172 = 10;
    }
    else if ((l_U3231) || (l_U3230))
    {
        if (sub_103945( ref l_U3215 ))
        {
            REQUEST_MODEL( l_U3256 );
            REQUEST_MODEL( l_U3180 );
            sub_102006( ref l_U3215, 10000 );
        }
    };;;
    if ((l_U3227) AND (sub_103718( ref l_U3215 )))
    {
        if ((NOT (HAS_MODEL_LOADED( l_U3180 ))) || (NOT (HAS_MODEL_LOADED( l_U3256 ))))
        {
            REQUEST_MODEL( l_U3256 );
            REQUEST_MODEL( l_U3180 );
            sub_102006( ref l_U3215, 100 );
        }
        else if ((LOCATE_CHAR_ANY_MEANS_3D( sub_3952(), l_U3531[2]._fU0._fU0, l_U3531[2]._fU0._fU4, l_U3531[2]._fU0._fU8, 120.00000000, 120.00000000, 30.00000000, 0 )) || (LOCATE_CHAR_ANY_MEANS_3D( sub_3952(), l_U3531[0]._fU0._fU0, l_U3531[0]._fU0._fU4, l_U3531[0]._fU0._fU8, 120.00000000, 120.00000000, 30.00000000, 0 )))
        {
            sub_102006( ref l_U3215, 100 );
        }
        else if (NOT (sub_108927( (l_U3531[0]._fU0 + l_U3531[2]._fU0) / 2.00000000, ref l_U3257[0] )))
        {
            sub_102006( ref l_U3215, 100 );
        }
        else
        {
            l_U3232 = 1;
            REMOVE_BLIP( l_U3531[0]._fU20 );
            REMOVE_BLIP( l_U3531[2]._fU20 );
            PRINT_NOW( "R1_CARS", 7500, 0 );
            l_U3172 = 9;
        };;;
    }
    if (IS_KEYBOARD_KEY_JUST_PRESSED( 36 ))
    {
        sub_104878( ref l_U3257[0] );
        l_U3230 = 1;
        l_U3231 = 1;
    }
    return;
}

void sub_104675(unknown uParam0)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
        if ((DOES_CHAR_EXIST( (uParam0^)[I]._fU4[1] )) || (DOES_CHAR_EXIST( (uParam0^)[I]._fU4[0] )))
        {
            if (IS_CHAR_INJURED( (uParam0^)[I]._fU4[0] ))
            {
                REMOVE_BLIP( (uParam0^)[I]._fU16[0] );
            }
            if (IS_CHAR_INJURED( (uParam0^)[I]._fU4[1] ))
            {
                REMOVE_BLIP( (uParam0^)[I]._fU16[1] );
            }
            if ((IS_CHAR_INJURED( (uParam0^)[I]._fU4[1] )) AND (IS_CHAR_INJURED( (uParam0^)[I]._fU4[0] )))
            {
                sub_104878( ref (uParam0^)[I] );
            }
        }
    }
    return;
}

void sub_104878(int iParam0)
{
    int I;

    for ( I = 0; I < 2; I++ )
    {
        if (DOES_CHAR_EXIST( iParam0->_fU4[I] ))
        {
            if (NOT (IS_CHAR_INJURED( iParam0->_fU4[I] )))
            {
                SET_CHAR_KEEP_TASK( iParam0->_fU4[I], 1 );
            }
            MARK_CHAR_AS_NO_LONGER_NEEDED( ref iParam0->_fU4[I] );
            iParam0->_fU4[I] = nil;
        }
    }
    REMOVE_BLIP( iParam0->_fU16[0] );
    REMOVE_BLIP( iParam0->_fU16[1] );
    if (DOES_VEHICLE_EXIST( iParam0->_fU0 ))
    {
        MARK_CAR_AS_NO_LONGER_NEEDED( iParam0 + 0 );
        iParam0->_fU0 = nil;
    }
    return;
}

void sub_105251(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    char[16] cVar6;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;

    uVar3 = {sub_4026( sub_3952(), 1 )};
    StrCopy( ref cVar6, "", 16 );
    uVar10 = sub_13196( sub_3952() );
    switch (uVar10)
    {
        case 1:
        StrCopy( ref cVar6, "chop", 16 );
        break;
        case 0:
        StrCopy( ref cVar6, "free", 16 );
        break;
        case 2:
        StrCopy( ref cVar6, "spt", 16 );
        break;
        case 3:
        StrCopy( ref cVar6, "scot", 16 );
        break;
        case 4:
        StrCopy( ref cVar6, "dirt", 16 );
        break;
        default:
        StrCopy( ref cVar6, "car", 16 );
        break;
    }
    ConcatString(ref cVar6, "_stash_", 16);
    STORE_CAR_CHAR_IS_IN_NO_SAVE( sub_3952(), ref uVar11 );
    if (DOES_VEHICLE_EXIST( uVar11 ))
    {
        GET_OFFSET_FROM_CAR_GIVEN_WORLD_COORDS( uVar11, ref iParam0->_fU0->_fU0, ref iParam0->_fU0->_fU4, ref iParam0->_fU0->_fU8, ref uVar12._fU0, ref uVar12._fU4, ref uVar12._fU8 );
        if ((NOT (sub_19523( uVar11 ))) || (uVar12._fU0 < 0.00000000))
        {
            ConcatString(ref cVar6, "l", 16);
        }
        else
        {
            ConcatString(ref cVar6, "r", 16);
        }
        sub_105564( uVar11 );
        TASK_PLAY_ANIM_SECONDARY_IN_CAR( sub_3952(), ref cVar6, "MISSRAYB_1", 16.00000000, 0, 0, 0, 0, 0 );
    }
    return;
}

void sub_105564(unknown uParam0)
{
    unknown uVar3;

    GET_CAR_MODEL( uParam0, ref uVar3 );
    if (IS_THIS_MODEL_A_CAR( uVar3 ))
    {
        REMOVE_CAR_WINDOW( uParam0, 0 );
    }
    return;
}

void sub_105664()
{
    unknown uVar2;
    unknown uVar3;
    boolean bVar4;
    unknown uVar5;
    unknown uVar6;
    boolean bVar7;
    int iVar8;

    SET_PLAYER_CONTROL_ADVANCED( sub_3898(), 0, 1, 1 );
    sub_42250( 500 );
    SET_WIDESCREEN_BORDERS( 1 );
    HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_3952(), 1 );
    CLEAR_AREA_OF_CHARS( l_U3531[0]._fU0._fU0, l_U3531[0]._fU0._fU4, l_U3531[0]._fU0._fU8, 20.00000000 );
    BEGIN_CAM_COMMANDS( ref uVar2 );
    CREATE_CAM( 14, ref uVar3 );
    SET_CAM_POS( uVar3, 176.96980000, -280.00470000, 12.41969000 );
    SET_CAM_ROT( uVar3, 3.63793500, 0.00000000, -179.86240000 );
    SET_CAM_FOV( uVar3, 24.90005000 );
    SET_CAM_DOF_FOCUSPOINT( uVar3, l_U3531[0]._fU0._fU0, l_U3531[0]._fU0._fU4, l_U3531[0]._fU0._fU8, 1.00000000 );
    SET_CAM_ACTIVE( uVar3, 1 );
    SET_CAM_PROPAGATE( uVar3, 1 );
    ACTIVATE_SCRIPTED_CAMS( 1, 1 );
    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( sub_3952(), 1 );
    bVar4 = false;
    GET_PLAYERS_LAST_CAR_NO_SAVE( ref uVar5 );
    if (NOT (IS_CAR_DEAD( uVar5 )))
    {
        if ((IS_CHAR_SITTING_IN_CAR( sub_3952(), uVar5 )) AND ((sub_10766( uVar5 )) == 0))
        {
            SET_CAR_COORDINATES( uVar5, 178.64060000, -299.65000000, 11.35760000 );
            SET_CAR_HEADING( uVar5, 258.96910000 );
            SET_CAR_ON_GROUND_PROPERLY( uVar5 );
            FREEZE_CAR_POSITION( uVar5, 1 );
            bVar4 = true;
        }
        else if (LOCATE_CAR_3D( uVar5, l_U3531[0]._fU0._fU0, l_U3531[0]._fU0._fU4, l_U3531[0]._fU0._fU8, 1.50000000, 1.50000000, 1.50000000, 0 ))
        {
            SET_CAR_COORDINATES( uVar5, 176.46540000, -302.31470000, 11.52960000 );
            SET_CAR_HEADING( uVar5, 282.02120000 );
            SET_CAR_ON_GROUND_PROPERLY( uVar5 );
            FREEZE_CAR_POSITION( uVar5, 1 );
        }
    }
    CLEAR_AREA_OF_CARS( l_U3531[0]._fU0._fU0, l_U3531[0]._fU0._fU4, l_U3531[0]._fU0._fU8, 2.00000000 );
    if (bVar4)
    {
        OPEN_SEQUENCE_TASK( ref uVar6 );
        TASK_LOOK_AT_OBJECT( 0, l_U3531[0]._fU16, 6000, 0 );
        TASK_PAUSE( 0, 1500 );
        TASK_PLAY_ANIM( 0, "bike_stash", "MISSRAYB_1", 8.00000000, 0, 1, 1, 0, 0 );
        TASK_PAUSE( 0, 500 );
        CLOSE_SEQUENCE_TASK( uVar6 );
        TASK_PERFORM_SEQUENCE( sub_3952(), uVar6 );
        CLEAR_SEQUENCE_TASK( uVar6 );
    }
    else
    {
        OPEN_SEQUENCE_TASK( ref uVar6 );
        TASK_LEAVE_ANY_CAR( 0 );
        TASK_LOOK_AT_OBJECT( 0, l_U3531[0]._fU16, 5000, 0 );
        SET_NEXT_DESIRED_MOVE_STATE( 2 );
        TASK_GO_TO_OBJECT( 0, l_U3531[0]._fU16, 10000, 1.00000000 );
        TASK_LOOK_AT_OBJECT( 0, l_U3531[0]._fU16, 5000, 0 );
        TASK_PLAY_ANIM( 0, "stash", "MISSRAYB_1", 1.00000000, 0, 1, 1, 0, 0 );
        TASK_PAUSE( 0, 500 );
        CLOSE_SEQUENCE_TASK( uVar6 );
        TASK_PERFORM_SEQUENCE( sub_3952(), uVar6 );
        CLEAR_SEQUENCE_TASK( uVar6 );
    }
    DO_SCREEN_FADE_IN( 500 );
    bVar7 = true;
    SETTIMERA( 0 );
    while (bVar7)
    {
        WAIT( 0 );
        GET_SCRIPT_TASK_STATUS( sub_3952(), 29, ref iVar8 );
        if (iVar8 == 7)
        {
            bVar7 = false;
        }
        else if ((sub_106629()) AND (TIMERA() > 500))
        {
            bVar7 = false;
        }
    }
    CLEAR_CHAR_TASKS( sub_3952() );
    if (NOT (IS_CAR_DEAD( uVar5 )))
    {
        FREEZE_CAR_POSITION( uVar5, 0 );
    }
    ACTIVATE_SCRIPTED_CAMS( 0, 0 );
    SET_CAM_PROPAGATE( uVar3, 0 );
    SET_CAM_ACTIVE( uVar3, 0 );
    DESTROY_CAM( uVar3 );
    END_CAM_COMMANDS( ref uVar2 );
    CLEAR_CHAR_TASKS( sub_3952() );
    TASK_CLEAR_LOOK_AT( sub_3952() );
    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( sub_3952(), 0 );
    SET_PLAYER_CONTROL( sub_3898(), 1 );
    SET_WIDESCREEN_BORDERS( 0 );
    HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_3952(), 0 );
    return;
}

int sub_106629()
{
    if (((IS_CONTROL_JUST_PRESSED( 2, 98 )) AND (NOT IS_USING_CONTROLLER())) || (((IS_CONTROL_JUST_PRESSED( 2, 137 )) AND (NOT IS_USING_CONTROLLER())) || ((IS_CONTROL_JUST_PRESSED( 2, 77 )) || (IS_CONTROL_JUST_PRESSED( 0, 77 )))))
    {
        return 1;
        break;
    }
    return 0;
}

void sub_107144()
{
    unknown uVar2;
    unknown uVar3;
    boolean bVar4;
    unknown uVar5;
    unknown uVar6;
    boolean bVar7;

    SET_PLAYER_CONTROL_ADVANCED( sub_3898(), 0, 1, 1 );
    sub_42250( 500 );
    SET_WIDESCREEN_BORDERS( 1 );
    HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_3952(), 1 );
    CLEAR_AREA_OF_CHARS( l_U3531[2]._fU0._fU0, l_U3531[2]._fU0._fU4, l_U3531[2]._fU0._fU8, 20.00000000 );
    BEGIN_CAM_COMMANDS( ref uVar2 );
    CREATE_CAM( 14, ref uVar3 );
    SET_CAM_POS( uVar3, -310.02860000, -32.77399000, 17.50432000 );
    SET_CAM_ROT( uVar3, -17.75631000, -0.00000000, -153.26070000 );
    SET_CAM_DOF_FOCUSPOINT( uVar3, l_U3531[2]._fU0._fU0, l_U3531[2]._fU0._fU4, l_U3531[2]._fU0._fU8, 1.00000000 );
    SET_CAM_ACTIVE( uVar3, 1 );
    SET_CAM_PROPAGATE( uVar3, 1 );
    ACTIVATE_SCRIPTED_CAMS( 1, 1 );
    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( sub_3952(), 1 );
    bVar4 = false;
    GET_PLAYERS_LAST_CAR_NO_SAVE( ref uVar5 );
    if (NOT (IS_CAR_DEAD( uVar5 )))
    {
        if ((IS_CHAR_SITTING_IN_CAR( sub_3952(), uVar5 )) AND ((sub_10766( uVar5 )) == 0))
        {
            SET_CAR_COORDINATES( uVar5, -306.71880000 - 0.10000000, -39.60010000 - 0.05000000, 14.09250000 );
            SET_CAR_HEADING( uVar5, 274.52420000 );
            SET_CAR_ON_GROUND_PROPERLY( uVar5 );
            FREEZE_CAR_POSITION( uVar5, 1 );
            bVar4 = true;
        }
        else if (LOCATE_CAR_3D( uVar5, l_U3531[2]._fU0._fU0, l_U3531[2]._fU0._fU4, l_U3531[2]._fU0._fU8, 1.50000000, 1.50000000, 1.50000000, 0 ))
        {
            SET_CAR_COORDINATES( uVar5, -306.84260000, -41.81030000, 13.56400000 );
            SET_CAR_HEADING( uVar5, 285.02500000 );
            SET_CAR_ON_GROUND_PROPERLY( uVar5 );
            FREEZE_CAR_POSITION( uVar5, 1 );
        }
    }
    CLEAR_AREA_OF_CARS( l_U3531[2]._fU0._fU0, l_U3531[2]._fU0._fU4, l_U3531[2]._fU0._fU8, 2.00000000 );
    if (bVar4)
    {
        OPEN_SEQUENCE_TASK( ref uVar6 );
        TASK_LOOK_AT_OBJECT( 0, l_U3531[2]._fU16, 6000, 0 );
        TASK_PAUSE( 0, 1500 );
        TASK_PLAY_ANIM( 0, "bike_stash", "MISSRAYB_1", 8.00000000, 0, 1, 1, 0, 0 );
        CLOSE_SEQUENCE_TASK( uVar6 );
        TASK_PERFORM_SEQUENCE( sub_3952(), uVar6 );
        CLEAR_SEQUENCE_TASK( uVar6 );
    }
    else
    {
        OPEN_SEQUENCE_TASK( ref uVar6 );
        TASK_LEAVE_ANY_CAR( 0 );
        TASK_LOOK_AT_OBJECT( 0, l_U3531[2]._fU16, 5000, 0 );
        SET_NEXT_DESIRED_MOVE_STATE( 2 );
        TASK_GO_TO_OBJECT( 0, l_U3531[2]._fU16, -1, 1.00000000 );
        TASK_LOOK_AT_OBJECT( 0, l_U3531[2]._fU16, 5000, 0 );
        TASK_PLAY_ANIM( 0, "stash", "MISSRAYB_1", 1.00000000, 0, 1, 1, 0, 0 );
        CLOSE_SEQUENCE_TASK( uVar6 );
        TASK_PERFORM_SEQUENCE( sub_3952(), uVar6 );
        CLEAR_SEQUENCE_TASK( uVar6 );
    }
    DO_SCREEN_FADE_IN( 500 );
    bVar7 = true;
    SETTIMERA( 0 );
    while (bVar7)
    {
        WAIT( 0 );
        if ((NOT (IS_CHAR_PLAYING_ANIM( sub_3952(), "MISSRAYB_1", "bike_stash" ))) AND ((NOT (IS_CHAR_PLAYING_ANIM( sub_3952(), "MISSRAYB_1", "stash" ))) AND (TIMERA() > 6000)))
        {
            bVar7 = false;
        }
        else if ((sub_106629()) AND (TIMERA() > 500))
        {
            bVar7 = false;
        }
    }
    CLEAR_CHAR_TASKS( sub_3952() );
    if (NOT (IS_CAR_DEAD( uVar5 )))
    {
        FREEZE_CAR_POSITION( uVar5, 0 );
    }
    ACTIVATE_SCRIPTED_CAMS( 0, 0 );
    SET_CAM_PROPAGATE( uVar3, 0 );
    SET_CAM_ACTIVE( uVar3, 0 );
    DESTROY_CAM( uVar3 );
    END_CAM_COMMANDS( ref uVar2 );
    CLEAR_CHAR_TASKS( sub_3952() );
    TASK_CLEAR_LOOK_AT( sub_3952() );
    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( sub_3952(), 0 );
    SET_PLAYER_CONTROL( sub_3898(), 1 );
    SET_WIDESCREEN_BORDERS( 0 );
    HIDE_CHAR_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_3952(), 0 );
    return;
}

int sub_108927(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;

    GET_CHAR_COORDINATES( sub_3952(), ref uVar7._fU0, ref uVar7._fU4, ref uVar7._fU8 );
    if (NOT (GET_CLOSEST_CAR_NODE_FAVOUR_DIRECTION( uParam0, uVar7, ref uVar10, ref uVar6 )))
    {
        return 0;
    }
    if (IS_POINT_OBSCURED_BY_A_MISSION_ENTITY( uVar10._fU0, uVar10._fU4, uVar10._fU8, 1.50000000, 1.50000000, 1.50000000 ))
    {
        return 0;
    }
    if (sub_109038( uVar10, 1.50000000 ))
    {
        return 0;
    }
    sub_109113( uVar10, uVar6, uParam3 );
    return 1;
}

int sub_109038(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;

    GET_GAME_VIEWPORT_ID( ref uVar6 );
    if (CAM_IS_SPHERE_VISIBLE( uVar6, uParam0._fU0, uParam0._fU4, uParam0._fU8, uParam3 ))
    {
        return 1;
    }
    return 0;
}

void sub_109113(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    CLEAR_AREA( uParam0._fU0, uParam0._fU4, uParam0._fU8, 1.50000000, 1 );
    CREATE_CAR( l_U3256, uParam0._fU0, uParam0._fU4, uParam0._fU8, iParam4 + 0, 1 );
    SET_CAR_HEADING( iParam4->_fU0, uParam3 );
    SET_CAR_FORWARD_SPEED( iParam4->_fU0, 10.00000000 );
    SET_CAR_COLOUR_COMBINATION( iParam4->_fU0, 0 );
    SET_CAR_ONLY_DAMAGED_BY_PLAYER( iParam4->_fU0, 0 );
    CREATE_CHAR_INSIDE_CAR( iParam4->_fU0, 26, l_U3180, ref iParam4->_fU4[0] );
    SET_CHAR_RELATIONSHIP_GROUP( iParam4->_fU4[0], 27 );
    SET_CHAR_COMPONENT_VARIATION( iParam4->_fU4[0], 0, 1, 1 );
    SET_CHAR_COMPONENT_VARIATION( iParam4->_fU4[0], 1, 1, 0 );
    GIVE_WEAPON_TO_CHAR( iParam4->_fU4[0], 7, 30000, 1 );
    TASK_CAR_MISSION_PED_TARGET( iParam4->_fU4[0], iParam4->_fU0, sub_3952(), 3, 45.00000000, 2, -1, -1 );
    SET_COMBAT_DECISION_MAKER( iParam4->_fU4[0], l_U3253 );
    ADD_BLIP_FOR_CHAR( iParam4->_fU4[0], ref iParam4->_fU16[0] );
    CREATE_CHAR_AS_PASSENGER( iParam4->_fU0, 26, l_U3180, 0, ref iParam4->_fU4[1] );
    SET_CHAR_RELATIONSHIP_GROUP( iParam4->_fU4[1], 27 );
    GIVE_WEAPON_TO_CHAR( iParam4->_fU4[1], 7, 30000, 1 );
    SET_CHAR_COMPONENT_VARIATION( iParam4->_fU4[1], 0, 0, 0 );
    SET_CHAR_COMPONENT_VARIATION( iParam4->_fU4[1], 1, 0, 0 );
    TASK_DRIVE_BY( iParam4->_fU4[1], sub_3952(), 0, 0.00000000, 0.00000000, 0.00000000, 19.00000000, 8, 1, 25 );
    SET_COMBAT_DECISION_MAKER( iParam4->_fU4[1], l_U3253 );
    ADD_BLIP_FOR_CHAR( iParam4->_fU4[1], ref iParam4->_fU16[1] );
    return;
}

void sub_110569(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    char[12] cVar6;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;

    array(ref cVar6, 2);
    StrCopy( ref cVar6[0], uParam1, 16 );
    StrCopy( ref cVar6[1], "END", 16 );
    sub_110613( uParam0, ref cVar6, uParam2, 10000, uParam3, 0 );
    return;
}

void sub_110613(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    unknown uVar36;
    int I;
    int iVar38;

    array(ref uVar8._fU32, 5);
    ref uVar8;
    iVar38 = uVar8._fU32;
    if (NOT (IS_THREAD_ACTIVE( g_U815 )))
    {
        uVar8._fU12 = uParam0;
        if ((uParam1^) > iVar38)
        {
            SCRIPT_ASSERT( "TELL SIMON END CALL ARRAY SIZE NEEDS INCREASING" );
            return;
        }
        for ( I = 0; I <= ((uParam1^) - 1); I++ )
        {
            uVar8._fU32[I] = {(uParam1^)[I]};
        }
        if ((uParam1^) < iVar38)
        {
            StrCopy( ref uVar8._fU32[(uParam1^)], "END", 16 );
        }
        StrCopy( ref uVar8._fU16, uParam2, 16 );
        uVar8._fU0 = uParam3;
        uVar8._fU4 = uParam4;
        uVar8._fU8 = uParam5;
        REQUEST_SCRIPT( "SPcellphoneEndCall" );
        while (NOT (HAS_SCRIPT_LOADED( "SPcellphoneEndCall" )))
        {
            REQUEST_SCRIPT( "SPcellphoneEndCall" );
            WAIT( 0 );
        }
        g_U814 = 1;
        g_U815 = START_NEW_SCRIPT_WITH_ARGS( "SPcellphoneEndCall", ref uVar8, 29, 1024 );
        MARK_SCRIPT_AS_NO_LONGER_NEEDED( "SPcellphoneEndCall" );
    }
    else
    {
        SCRIPT_ASSERT( "MAKE_END_OF_MISSION_CALL() has been called more than once, might be in a loop" );
    }
    return;
}

void sub_111155()
{
    sub_111164();
    return;
}

void sub_111164()
{
    int iVar2;
    int iVar3;
    int iVar4;

    iVar2 = 1;
    iVar3 = 0;
    iVar4 = 0;
    sub_111182();
    sub_111241( iVar2, iVar3, iVar4 );
    return;
}

void sub_111182()
{
    int I;

    I = 0;
    for ( I = 0; I < 5; I++ )
    {
        l_U348[I] = 4;
    }
    return;
}

void sub_111241(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int iVar5;

    iVar5 = 5;
    sub_111273( iVar5, uParam0, uParam1, uParam2, "Contact_6" );
    return;
}

void sub_111273(unknown uParam0, boolean bParam1, boolean bParam2, boolean bParam3, unknown uParam4)
{
    int iVar7;
    int iVar8;
    char[64] cVar9;
    int iVar25;
    int I;
    int iVar27;
    boolean bVar28;
    unknown uVar29;
    unknown uVar30;
    int iVar31;
    boolean bVar32;

    iVar7 = -1;
    iVar8 = -1;
    StrCopy( ref cVar9, "", 64 );
    if (bParam3)
    {
        if (g_U14838[uParam0]._fU80._fU0 == 0)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: friend mission", 64);
            sub_111369( ref cVar9 );
            return;
        }
        if (g_U14838[uParam0]._fU80._fU4 == -1)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: friend missionID", 64);
            sub_111369( ref cVar9 );
            return;
        }
        iVar7 = g_U14838[uParam0]._fU80._fU4;
    }
    else if (bParam2)
    {
        if (NOT g_U14838[uParam0]._fU160._fU80)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: proc mission", 64);
            sub_111369( ref cVar9 );
            return;
        }
        if (g_U14838[uParam0]._fU160._fU76 == -1)
        {
            StrCopy( ref cVar9, uParam4, 64 );
            ConcatString(ref cVar9, " Pass_Stats: proc missionID", 64);
            sub_111369( ref cVar9 );
            return;
        }
        iVar7 = g_U14838[uParam0]._fU160._fU76;
    }
    else if (g_U14838[uParam0]._fU0._fU0 == 0)
    {
        StrCopy( ref cVar9, uParam4, 64 );
        ConcatString(ref cVar9, " Pass_Stats: mission", 64);
        sub_111369( ref cVar9 );
        return;
    }
    if (g_U14838[uParam0]._fU0._fU4 == -1)
    {
        StrCopy( ref cVar9, uParam4, 64 );
        ConcatString(ref cVar9, " Pass_Stats: missionID", 64);
        sub_111369( ref cVar9 );
        return;
    }
    iVar7 = g_U14838[uParam0]._fU0._fU4;
    iVar8 = sub_111946( uParam0, iVar7 );;;
    iVar25 = 0;
    if (bParam1)
    {
        g_U12306[uParam0]._fU24 = iVar7;
    }
    if (bParam2)
    {
        iVar25 = g_U14838[uParam0]._fU160._fU84;
    }
    if (bParam3)
    {
        I = 0;
        for ( I = 0; I < 5; I++ )
        {
            g_U12306[uParam0]._fU144[I]._fU8++;
            if ((g_U12306[uParam0]._fU144[I]._fU8 >= g_U12306[uParam0]._fU144[I]._fU4) AND (NOT g_U12306[uParam0]._fU144[I]._fU12))
            {
                iVar27 = 0;
                GET_GAME_TIMER( ref iVar27 );
                g_U12306[uParam0]._fU144[I]._fU16 = iVar27 + 90000;
            }
        }
    }
    if (NOT (sub_112394( uParam0, iVar7, iVar25, bParam1, bParam2, bParam3 )))
    {
        return;
    }
    if (bParam2)
    {
        g_U14838[uParam0]._fU160._fU84++;
    }
    SET_PLAYER_MOOD_NORMAL( sub_3898() );
    sub_2463();
    bVar28 = true;
    uVar29 = sub_111946( uParam0, iVar7 );
    uVar30 = sub_2087( uParam0 );
    if (bParam1)
    {
        iVar31 = g_U14838[uParam0]._fU0._fU56;
        if ((iVar31 == 6) || (iVar31 == 5))
        {
            bVar28 = false;
        }
        if (NOT g_U0)
        {
            bVar32 = true;
            if (IS_BIT_SET( g_U20913[uVar29]._fU108, 2 ))
            {
                REGISTER_MISSION_PASSED( ref g_U10982 );
                sub_116848( 9, ref g_U14838[uParam0]._fU0._fU24 );
                if ((g_U12303) AND (NOT bVar28))
                {
                    bVar32 = false;
                }
                if (bVar32)
                {
                    sub_117282();
                    g_U10974._fU8 = 1;
                    g_U10974._fU20 = sub_117367( uParam0, iVar7 );
                }
            }
            if (bVar28)
            {
                sub_117446( uParam0 );
                sub_117485( 0 );
                sub_2363( uVar30, 0 );
                g_U11093 = 1;
                g_U39101 = 1;
                g_U11108 = 0;
            }
            g_U12306[uParam0]._fU12 = 1;
        }
        if (bVar28)
        {
            sub_117674();
        }
    }
    if (bParam2)
    {
        sub_117282();
        sub_117773();
        sub_117485( 0 );
        g_U11094 = 1;
        g_U11108 = 0;
    }
    if (bParam3)
    {
        sub_117282();
        sub_117825();
        sub_117485( 0 );
        sub_2363( uVar30, 0 );
    }
    sub_1974();
    return;
}

void sub_111369(unknown uParam0)
{
    PRINTSTRING( "FLOW WARNING: " );
    PRINTSTRING( uParam0 );
    PRINTNL();
    SCRIPT_ASSERT( "FLOW WARNING: Press IGNORE button and look at console window for details" );
    return;
}

int sub_111946(int iParam0, int iParam1)
{
    unknown uVar4;
    int iVar5;
    int Result;

    if ((iParam0 >= 11) || (iParam0 < 0))
    {
        sub_2318( "Main_Missions: Find_Trigger(): Illegal Strand ID" );
    }
    uVar4 = g_U26515[iParam0]._fU0;
    iVar5 = g_U26515[iParam0]._fU4;
    for ( Result = uVar4; Result <= iVar5; Result++ )
    {
        if (g_U20913[Result]._fU4 == iParam1)
        {
            return Result;
        }
    }
    return -1;
}

int sub_112394(unknown uParam0, unknown uParam1, unknown uParam2, boolean bParam3, unknown uParam4, unknown uParam5)
{
    boolean bVar8;
    unknown uVar9;

    bVar8 = false;
    switch (uParam0)
    {
        case 0:
        bVar8 = sub_112490( uParam1 );
        break;
        case 1:
        bVar8 = sub_113185( uParam1 );
        break;
        case 2:
        bVar8 = sub_113918( uParam1 );
        break;
        case 3:
        bVar8 = sub_114155( uParam1 );
        break;
        case 4:
        bVar8 = sub_114321( uParam1 );
        break;
        case 5:
        bVar8 = sub_114520( uParam1 );
        break;
        case 6:
        bVar8 = sub_114715( uParam1 );
        break;
        case 7:
        bVar8 = sub_114920( uParam1 );
        break;
        case 8:
        bVar8 = sub_115125( uParam1 );
        break;
        default:
        PRINTSTRING( "Strand ID: " );
        PRINTINT( uParam0 );
        PRINTNL();
        sub_113533( "Flow_Pass_Stats: Flow_Pass_Strand_Mission(): Unknown strand ID." );
    }
    if (NOT bVar8)
    {
        return 0;
    }
    uVar9 = sub_111946( uParam0, uParam1 );
    if (bParam3)
    {
        sub_115411( uVar9, uParam0 );
    }
    return 1;
}

int sub_112490(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 0;
    bVar4 = false;
    switch (uParam0)
    {
        case 1:
        sub_112587( iVar3, 750, 5, 2, 0, 0 );
        break;
        case 2:
        sub_112587( iVar3, 750, 5, 2, 0, 0 );
        break;
        case 3:
        sub_112587( iVar3, 750, 5, 2, 0, 0 );
        break;
        case 4:
        sub_112587( iVar3, 1000, 5, 2, 0, 0 );
        break;
        case 5:
        sub_112587( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 6:
        sub_112587( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 0:
        case 10: break;
        default:
        sub_113092( "Contact 1", 1 );
        sub_112587( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_113092( "Contact 1", 0 );
        sub_112587( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

void sub_112587(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, int iParam5)
{
    sub_112598( uParam1 );
    sub_112772( uParam0, 0, uParam2 );
    sub_112772( uParam0, 1, uParam3 );
    sub_112772( uParam0, 2, uParam4 );
    ProtectedSet(g_U20902[4], ProtectedGet(g_U20902[4]) + iParam5);
    sub_111182();
    return;
}

void sub_112598(unknown uParam0)
{
    ADD_SCORE( sub_3898(), uParam0 );
    sub_112623( uParam0 );
    return;
}

void sub_112623(int iParam0)
{
    if (g_U0)
    {
        return;
    }
    if (iParam0 < 0)
    {
        sub_2318( "Flow_Achievements_Increase_Cash_From_Missions: negative cash given. Tell Keith." );
    }
    INCREMENT_INT_STAT_NO_MESSAGE( 93, iParam0 );
    return;
}

void sub_112772(unknown uParam0, unknown uParam1, int iParam2)
{
    g_U12306[uParam0]._fU40[uParam1] += iParam2;
    if (g_U12306[uParam0]._fU40[uParam1] < 0)
    {
        g_U12306[uParam0]._fU40[uParam1] = 0;
    }
    if (g_U12306[uParam0]._fU40[uParam1] > 100)
    {
        g_U12306[uParam0]._fU40[uParam1] = 100;
    }
    return;
}

void sub_113092(unknown uParam0, unknown uParam1)
{
    return;
}

int sub_113185(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 1;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_112587( iVar3, 1000, 5, 2, 0, 0 );
        break;
        case 1:
        sub_112587( iVar3, 2000, 5, 2, 0, 0 );
        break;
        case 3:
        sub_112587( iVar3, 2000, 5, 2, 0, 0 );
        break;
        case 2:
        sub_112587( iVar3, 2000, 5, 2, 0, 0 );
        break;
        case 4:
        sub_112587( iVar3, 2000, 5, 2, 0, 0 );
        break;
        case 5:
        case 6:
        case 7:
        case 8:
        case 9:
        case 10:
        case 11:
        case 12:
        sub_112587( iVar3, 0, sub_113411(), sub_113677(), 0, 0 );
        break;
        default:
        sub_113092( "Contact 2", 1 );
        sub_112587( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_113092( "Contact 2", 0 );
        sub_112587( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_113411()
{
    switch (l_U348[0])
    {
        case 0: return 14;
        case 1: return 8;
        case 2: return 6;
        case 3: return 1;
        case 4: return 0;
    }
    sub_113533( "Get_TRUST(): Unknown Friend Pass ID" );
    return 0;
}

void sub_113533(unknown uParam0)
{
    PRINTSTRING( "FLOW ERROR: " );
    PRINTSTRING( uParam0 );
    PRINTNL();
    SCRIPT_ASSERT( "FLOW ERROR: Press IGNORE button and look at console window for details" );
    return;
}

int sub_113677()
{
    switch (l_U348[1])
    {
        case 0: return 10;
        case 1: return 6;
        case 2: return 3;
        case 3: return 1;
        case 4: return 0;
    }
    sub_113533( "Get_LIKE(): Unknown Friend Pass ID" );
    return 0;
}

int sub_113918(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 2;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_112587( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 1:
        sub_112587( iVar3, 5000, 5, 2, 0, 0 );
        break;
        case 3:
        sub_112587( iVar3, 7000, 5, 2, 0, 0 );
        break;
        case 2:
        sub_112587( iVar3, 1000, 3, 1, 0, 0 );
        break;
        case 4: break;
        default:
        sub_113092( "Contact 3", 1 );
        sub_112587( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_113092( "Contact 3", 0 );
        sub_112587( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_114155(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 3;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_112587( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 1:
        sub_112587( iVar3, 0, 5, 2, 0, 0 );
        break;
        default:
        sub_113092( "Friend 4", 1 );
        sub_112587( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_113092( "Friend 4", 0 );
        sub_112587( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_114321(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 4;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_112587( iVar3, 1000, 5, 2, 0, 0 );
        break;
        case 1:
        sub_112587( iVar3, 2000, 5, 2, 0, 0 );
        break;
        case 2:
        sub_112587( iVar3, 3000, 5, 2, 0, 0 );
        break;
        default:
        sub_113092( "Contact 5", 1 );
        sub_112587( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_113092( "Contact 5", 0 );
        sub_112587( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_114520(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 5;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_112587( iVar3, 0, 5, 2, 0, 0 );
        break;
        case 1:
        sub_112587( iVar3, 10000, 5, 2, 0, 0 );
        break;
        case 2:
        sub_112587( iVar3, 0, 5, 2, 0, 0 );
        break;
        default:
        sub_113092( "Contact 6", 1 );
        sub_112587( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_113092( "Contact 6", 0 );
        sub_112587( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_114715(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 6;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        case 1:
        case 2:
        case 3:
        case 4:
        case 5:
        case 6:
        case 7:
        sub_112587( iVar3, 0, sub_113411(), sub_113677(), 0, 0 );
        break;
        default:
        sub_113092( "Friend 7", 1 );
        sub_112587( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_113092( "Friend 7", 0 );
        sub_112587( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_114920(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 7;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        case 1:
        case 2:
        case 3:
        case 4:
        case 5:
        case 6:
        case 7:
        sub_112587( iVar3, 0, sub_113411(), sub_113677(), 0, 0 );
        break;
        default:
        sub_113092( "Friend 8", 1 );
        sub_112587( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_113092( "Friend 8", 0 );
        sub_112587( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

int sub_115125(unknown uParam0)
{
    int iVar3;
    boolean bVar4;

    iVar3 = 8;
    bVar4 = false;
    switch (uParam0)
    {
        case 0:
        sub_112587( iVar3, 0, 3, 1, 0, 0 );
        break;
        default:
        sub_113092( "Contact 9", 1 );
        sub_112587( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    if (bVar4)
    {
        sub_113092( "Contact 9", 0 );
        sub_112587( iVar3, 10, 0, 0, 0, 0 );
        return 0;
    }
    return 1;
}

void sub_115411(int iParam0, int iParam1)
{
    if (g_U0)
    {
        return;
    }
    if (iParam0 == -1)
    {
        return;
    }
    if (iParam1 == -1)
    {
        return;
    }
    if (g_U10993)
    {
        return;
    }
    if (sub_115472( iParam0, iParam1 ))
    {
        INCREMENT_INT_STAT_NO_MESSAGE( 253, 1 );
        sub_116190( iParam1 );
    }
    return;
}

int sub_115472(int iParam0, int iParam1)
{
    int iVar4;
    boolean bVar5;
    int iVar6;

    if (g_U0)
    {
        return 0;
    }
    if (iParam0 == -1)
    {
        return 0;
    }
    if (iParam1 == -1)
    {
        return 0;
    }
    iVar4 = g_U14838[iParam1]._fU0._fU56;
    bVar5 = iVar4 == 6;
    if (bVar5)
    {
        return 0;
    }
    iVar6 = 0;
    if (NOT (IS_BIT_SET( g_U20913[iParam0]._fU108, 3 )))
    {
        iVar6 = g_U20913[iParam0]._fU104;
        if (iVar6 > 0)
        {
            sub_115612( 0, iVar6 );
            g_U14815[iParam1]._fU4 += iVar6;
        }
        SET_BIT( ref g_U20913[iParam0]._fU108, 3 );
        return 1;
    }
    return 0;
}

void sub_115612(unknown uParam0, int iParam1)
{
    g_U26712[uParam0]._fU4 += iParam1;
    if (g_U26712[uParam0]._fU4 > g_U26712[uParam0]._fU0)
    {
        SCRIPT_ASSERT( "Flow_Achievements_Game_Progress_Made: Current Category is over target value" );
        g_U26712[uParam0]._fU4 = g_U26712[uParam0]._fU0;
    }
    sub_115782( 0 );
    return;
}

void sub_115782(boolean bParam0)
{
    float fVar3;
    float fVar4;
    float fVar5;
    float fVar6;
    boolean bVar7;
    int I;

    fVar3 = 0.00000000;
    fVar4 = 0.00000000;
    fVar5 = 0.00000000;
    fVar6 = 0.00000000;
    bVar7 = true;
    I = 0;
    for ( I = 0; I < 8; I++ )
    {
        if (g_U26712[I]._fU4 == g_U26712[I]._fU0)
        {
            fVar4 = g_U26712[I]._fU8;
        }
        else
        {
            bVar7 = false;
            fVar5 = TO_FLOAT( g_U26712[I]._fU0 );
            fVar6 = TO_FLOAT( g_U26712[I]._fU4 );
            fVar4 = (fVar6 / fVar5) * g_U26712[I]._fU8;
        }
        fVar3 += fVar4;
    }
    if (fVar3 > 100.00000000)
    {
        fVar3 = 99.99000000;
    }
    if (bVar7)
    {
        fVar3 = 100.00000000;
    }
    SET_FLOAT_STAT( 133, fVar3 );
    if (bVar7)
    {
        sub_116027();
    }
    if ((NOT (# -NULL-0xc27c84())) AND ((NOT bParam0) AND (bVar7)))
    {
        PRINT_HELP( "GAME100" );
    }
    return;
}

void sub_116027()
{
    ENABLE_MAX_AMMO_CAP( 0 );
    g_U15728[5] = 1;
    return;
}

void sub_116190(int iParam0)
{
    float fVar3;
    float fVar4;
    float fVar5;

    if (g_U0)
    {
        return;
    }
    if (iParam0 == -1)
    {
        return;
    }
    if (g_U14815[iParam0]._fU0 == 0)
    {
        return;
    }
    fVar3 = 0.00000000;
    fVar4 = 0.00000000;
    fVar5 = 0.00000000;
    if (g_U14815[iParam0]._fU4 == g_U14815[iParam0]._fU0)
    {
        fVar3 = 100.00000000;
    }
    else
    {
        fVar4 = TO_FLOAT( g_U14815[iParam0]._fU0 );
        fVar5 = TO_FLOAT( g_U14815[iParam0]._fU4 );
        fVar3 = fVar5 / fVar4;
        fVar3 *= 100.00000000;
    }
    switch (iParam0)
    {
        case 0:
        sub_116421( 121 );
        SET_FLOAT_STAT( 121, fVar3 );
        break;
        case 1:
        sub_116421( 122 );
        SET_FLOAT_STAT( 122, fVar3 );
        break;
        case 2:
        sub_116421( 125 );
        SET_FLOAT_STAT( 125, fVar3 );
        break;
        case 3:
        sub_116421( 126 );
        SET_FLOAT_STAT( 126, fVar3 );
        break;
        case 4:
        sub_116421( 127 );
        SET_FLOAT_STAT( 127, fVar3 );
        break;
        case 5:
        sub_116421( 128 );
        SET_FLOAT_STAT( 128, fVar3 );
        break;
        default: return;
    }
    return;
}

void sub_116421(unknown uParam0)
{
    if ((GET_STAT_FRONTEND_VISIBILITY( uParam0 )) == 0)
    {
        SET_STAT_FRONTEND_VISIBILITY( uParam0, 1 );
    }
    return;
}

void sub_116848(unknown uParam0, unknown uParam1)
{
    sub_116867( uParam0, 0, 0.00000000, uParam1 );
    return;
}

void sub_116867(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;

    switch (uParam0)
    {
        case 0:
        PLAYSTATS_INT( "SPRUNK_BOUGHT", uParam1 );
        break;
        case 1:
        PLAYSTATS_INT( "HOTDOG_BOUGHT", uParam1 );
        break;
        case 2:
        PLAYSTATS_INT( "NUTS_BOUGHT", uParam1 );
        break;
        case 3:
        PLAYSTATS_INT( "BURGERS_BOUGHT", uParam1 );
        break;
        case 7:
        PLAYSTATS_INT( "DONATE_BEGGAR", uParam1 );
        break;
        case 8:
        PLAYSTATS_INT( "DONATE_BUSKER", uParam1 );
        break;
        case 4:
        PLAYSTATS_INT( "BSHOT_BOUGHT", uParam1 );
        break;
        case 5:
        PLAYSTATS_INT( "CBELL_BOUGHT", uParam1 );
        break;
        case 6:
        PLAYSTATS_INT( "CAFE_BOUGHT", uParam1 );
        break;
        case 9: break;
    }
    return;
}

void sub_117282()
{
    g_U10974._fU0 = 1;
    g_U10974._fU4 = 0;
    g_U10974._fU8 = 0;
    g_U10974._fU12 = 0;
    g_U10974._fU16 = 0;
    g_U10974._fU20 = 0;
    g_U10974._fU28 = 6;
    return;
}

int sub_117367(int iParam0, int iParam1)
{
    if (iParam0 == 2)
    {
        if (iParam1 == 3)
        {
            return 1;
        }
    }
    if (iParam0 == 0)
    {
        if (iParam1 == 0)
        {
            return 1;
        }
    }
    return 0;
}

void sub_117446(unknown uParam0)
{
    sub_1835();
    g_U12306[uParam0]._fU116 = 0;
    return;
}

void sub_117485(unknown uParam0)
{
    if (g_U10684)
    {
        g_U10684 = 0;
        return;
    }
    SET_BIT( ref g_U10681._fU0, 1 );
    sub_117536( ref g_U10681._fU0, 2, uParam0 );
    CLEAR_BIT( ref g_U10681._fU0, 3 );
    g_U10681._fU4 = 0;
    g_U10681._fU8 = 0;
    return;
}

void sub_117536(unknown uParam0, unknown uParam1, boolean bParam2)
{
    if (bParam2)
    {
        SET_BIT( uParam0, uParam1 );
        return;
    }
    CLEAR_BIT( uParam0, uParam1 );
    return;
}

void sub_117674()
{
    sub_117683();
    return;
}

void sub_117683()
{
    if (g_U0)
    {
        return;
    }
    if (COMPARE_STRING( ref g_U10987, "" ))
    {
        return;
    }
    PLAYSTATS_MISSION_PASSED( ref g_U10987 );
    StrCopy( ref g_U10987, "", 16 );
    return;
}

void sub_117773()
{
    sub_117683();
    return;
}

void sub_117825()
{
    sub_117683();
    StrCopy( ref g_U10987, "FPASS", 16 );
    return;
}

void sub_117924(int iParam0)
{
    if (iParam0 >= g_U1455)
    {
        SCRIPT_ASSERT( "NEWS STORY ARRAY SIZE NEEDS INCREASING - see simon" );
        return;
    }
    if (sub_118011( iParam0 ))
    {
        sub_119061( iParam0 );
    }
    return;
}

int sub_118011(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;

    if ((IS_BIT_SET( g_U1455[uParam0], 21 )) || (IS_BIT_SET( g_U1455[uParam0], 20 )))
    {
        return 0;
    }
    sub_118068( ref uVar3, 1, 0, 0 );
    sub_118680( uVar3, ref g_U1455[uParam0] );
    SET_BITS_IN_RANGE( ref g_U1455[uParam0], 22, 31, g_U1455[0] );
    g_U1455[0]++;
    SET_BIT( ref g_U1455[uParam0], 20 );
    sub_16210( "\n ----------------------------------------------------------------" );
    sub_44112( "\n  Following block of New Stories has been unlocked NEWS_BLOCK_", uParam0 );
    sub_16210( "\n ----------------------------------------------------------------" );
    return 1;
}

void sub_118068(int iParam0, unknown uParam1, unknown uParam2, boolean bParam3)
{
    GET_CURRENT_DATE( (iParam0 + 0) + 0, (iParam0 + 0) + 4 );
    GET_TIME_OF_DAY( (iParam0 + 8) + 0, (iParam0 + 8) + 4 );
    sub_118121( iParam0, uParam1, uParam2 );
    if (NOT bParam3)
    {
        return;
    }
    if (NOT ((ref iParam0->_fU8->_fU4) == 0))
    {
        if ((ref iParam0->_fU8->_fU4) <= 15)
        {
            ref iParam0->_fU8->_fU4 = 15;
        }
        else if ((ref iParam0->_fU8->_fU4) <= 30)
        {
            ref iParam0->_fU8->_fU4 = 30;
        }
        else if ((ref iParam0->_fU8->_fU4) <= 45)
        {
            ref iParam0->_fU8->_fU4 = 45;
        }
        else
        {
            ref iParam0->_fU8->_fU4 = 0;
            ref iParam0->_fU8->_fU0++;
        };;;
    }
    while ((ref iParam0->_fU8->_fU0) >= 24)
    {
        ref iParam0->_fU8->_fU0 -= 24;
        sub_118253( iParam0 + 0 );
    }
    return;
}

void sub_118121(int iParam0, int iParam1, int iParam2)
{
    ref iParam0->_fU8->_fU4 += iParam2;
    ref iParam0->_fU8->_fU0 += iParam1;
    while ((ref iParam0->_fU8->_fU4) >= 60)
    {
        ref iParam0->_fU8->_fU4 -= 60;
        ref iParam0->_fU8->_fU0++;
    }
    while ((ref iParam0->_fU8->_fU0) >= 24)
    {
        ref iParam0->_fU8->_fU0 -= 24;
        sub_118253( iParam0 + 0 );
    }
    return;
}

void sub_118253(int iParam0)
{
    iParam0->_fU0++;
    if (iParam0->_fU0 > (sub_118284( iParam0->_fU4 )))
    {
        iParam0->_fU0 = 1;
        iParam0->_fU4++;
        if (iParam0->_fU4 > 12)
        {
            iParam0->_fU4 = 1;
        }
    }
    return;
}

int sub_118284(unknown uParam0)
{
    switch (uParam0)
    {
        case 1:
        case 3:
        case 5:
        case 7:
        case 8:
        case 10:
        case 12: return 31;
        case 4:
        case 6:
        case 9:
        case 11: return 30;
        case 2: return 28;
    }
    return 30;
}

void sub_118680(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    SET_BITS_IN_RANGE( uParam4, 0, 4, uParam0._fU0._fU0 );
    SET_BITS_IN_RANGE( uParam4, 5, 8, uParam0._fU0._fU4 );
    SET_BITS_IN_RANGE( uParam4, 9, 13, uParam0._fU8._fU0 );
    SET_BITS_IN_RANGE( uParam4, 14, 19, uParam0._fU8._fU4 );
    return;
}

void sub_119061(unknown uParam0)
{
    return;
}

void sub_119086()
{
    unknown uVar2;
    boolean bVar3;
    int iVar4;

    SWAP_NEAREST_BUILDING_MODEL( 65144, 1784.93000000, 10.75000000, 50.00000000, -1789860138, 1406425043 );
    g_U24 = 82;
    sub_4500( 1 );
    sub_4500( 2 );
    sub_4500( 3 );
    sub_4500( 4 );
    sub_4500( 5 );
    bVar3 = true;
    while (bVar3)
    {
        if (l_U3247 >= 3)
        {
            bVar3 = false;
        }
        else
        {
            iVar4 = sub_119202( l_U3248 );
            if (iVar4 > 0)
            {
                sub_11490( iVar4 );
                l_U3247++;
                PRINTSTRING( "Killing off recurring biker" );
                PRINTINT( iVar4 );
                PRINTNL();
            }
            else
            {
                bVar3 = false;
            }
        }
    }
    sub_119715();
    sub_5292();
    return;
}

void sub_119202(boolean bParam0)
{
    int I;
    int Result;
    int iVar5;
    int iVar6;

    Result = -1;
    iVar5 = 999;
    for ( I = 0; I < 5; I++ )
    {
        if ((NOT bParam0) || ((I > 1) AND (bParam0)))
        {
            iVar6 = sub_119251( I + 1 );
            if ((iVar6 < iVar5) AND (iVar6 >= 0))
            {
                Result = I + 1;
                iVar5 = iVar6;
            }
        }
    }
    PRINTSTRING( "GET_LOST_WITH_LEAST_EXPERIENCE: " );
    PRINTINT( Result );
    PRINTINT( iVar5 );
    PRINTNL();
    return Result;
}

void sub_119251(unknown uParam0)
{
    int iVar3;

    iVar3 = sub_4534( uParam0 );
    if (iVar3 == -1)
    {
        return -1;
    }
    if (NOT g_U38937[iVar3]._fU4)
    {
        PRINTSTRING( "Recurring_Lost_Get_Number_Of_Campaigns: not in use: " );
        PRINTINT( iVar3 );
        PRINTNL();
        return -1;
    }
    if (NOT g_U38937[iVar3]._fU0)
    {
        PRINTSTRING( "Recurring_Lost_Get_Number_Of_Campaigns: not alive: " );
        PRINTINT( iVar3 );
        PRINTNL();
        return -1;
    }
    return g_U38937[iVar3]._fU12;
}

void sub_119715()
{
    int I;
    boolean bVar3;

    I = 0;
    bVar3 = false;
    for ( I = 0; I < 13; I++ )
    {
        if (g_U38937[I]._fU4)
        {
            bVar3 = true;
        }
    }
    if (bVar3)
    {
        sub_119781();
        sub_119866();
        sub_120184();
    }
    bVar3 = false;
    for ( I = 0; I < 6; I++ )
    {
        if (g_U39058[I]._fU4)
        {
            g_U39058[I]._fU4 = 0;
            g_U39058[I]._fU12++;
            g_U39058[I]._fU20 = -2;
            if (sub_121422( g_U39058[I]._fU16 ))
            {
                g_U39104 = 1;
            }
            if (sub_121512( g_U39058[I]._fU16 ))
            {
                g_U39105 = 1;
            }
            bVar3 = true;
        }
    }
    return;
}

void sub_119781()
{
    int I;

    I = 0;
    for ( I = 0; I < 5; I++ )
    {
        g_U39042[I]._fU0 = -1;
        g_U39042[I]._fU4 = 0;
        g_U39042[I]._fU8 = 0;
    }
    return;
}

void sub_119866()
{
    int I;
    int iVar3;

    I = 0;
    iVar3 = 0;
    for ( I = 0; I < 13; I++ )
    {
        if (g_U38937[I]._fU4)
        {
            if (g_U38937[I]._fU0)
            {
                g_U38937[I]._fU12++;
            }
            if (iVar3 >= 5)
            {
                SCRIPT_ASSERT( "Prepare_Recurring_Lost_Stats_For_Display: Trying to store too many sets of display stats" );
                return;
            }
            g_U39042[iVar3]._fU0 = g_U38937[I]._fU16;
            g_U39042[iVar3]._fU4 = g_U38937[I]._fU0;
            g_U39042[iVar3]._fU8 = g_U38937[I]._fU12;
            iVar3++;
            g_U38937[I]._fU4 = 0;
        }
    }
    return;
}

void sub_120184()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    boolean bVar9;
    int iVar10;
    int iVar11;
    int iVar12;

    bVar9 = false;
    iVar10 = 0;
    iVar11 = 0;
    iVar12 = 0;
    while (iVar12 < 13)
    {
        bVar9 = false;
        if (NOT g_U38937[iVar12]._fU0)
        {
            uVar2 = {g_U38937[iVar12]};
            iVar10 = iVar12 + 1;
            iVar11 = iVar12;
            while (iVar10 < 13)
            {
                g_U38937[iVar11] = {g_U38937[iVar10]};
                iVar11++;
                iVar10++;
            }
            g_U38937[iVar11] = {uVar2};
            sub_120349( iVar11 );
            sub_120771( iVar11 );
            bVar9 = true;
        }
        if (NOT bVar9)
        {
            iVar12++;
        }
    }
    return;
}

void sub_120349(unknown uParam0)
{
    int iVar3;
    unknown uVar4;
    unknown uVar5;

    iVar3 = g_U38937[uParam0]._fU20;
    if (g_U38937[uParam0]._fU8)
    {
        iVar3 += 13;
    }
    uVar4 = g_U38937[uParam0]._fU16;
    uVar5 = g_U38937[uParam0]._fU12;
    sub_120433( iVar3, uVar4, uVar5 );
    return;
}

void sub_120433(unknown uParam0, unknown uParam1, unknown uParam2)
{
    unknown uVar5;

    if (g_U9592[uParam1]._fU12 == 0)
    {
        PRINTNL();
        PRINTNL();
        PRINTSTRING( "-------------------------------------------------------------" );
        PRINTNL();
        PRINTSTRING( "Memorial - Keith returned number = " );
        PRINTINT( uParam1 );
        PRINTNL();
        PRINTSTRING( "-------------------------------------------------------------" );
        PRINTNL();
        PRINTNL();
        g_U9592[uParam1]._fU4 = uParam0;
        g_U9592[uParam1]._fU0 = uParam1;
        g_U9592[uParam1]._fU8 = uParam2;
        g_U9592[uParam1]._fU12 = 1;
        return;
    }
    return;
}

void sub_120771(unknown uParam0)
{
    unknown uVar3;

    g_U38937[uParam0]._fU0 = 1;
    g_U38937[uParam0]._fU4 = 0;
    g_U38937[uParam0]._fU12 = 1;
    g_U38937[uParam0]._fU16 = sub_120822();
    uVar3 = g_U38937[uParam0]._fU24;
    g_U38937[uParam0]._fU24 = -1;
    sub_121011( uVar3 );
    if (g_U38937[uParam0]._fU8)
    {
        g_U38937[uParam0]._fU8 = 0;
    }
    else
    {
        g_U38937[uParam0]._fU8 = 1;
    }
    return;
}

void sub_120822()
{
    int Result;
    boolean bVar3;
    int I;

    Result = -1;
    bVar3 = true;
    while (bVar3)
    {
        bVar3 = false;
        if (g_U38936 >= 24)
        {
            g_U38936 = 0;
        }
        Result = g_U38936;
        I = 0;
        for ( I = 0; I < 13; I++ )
        {
            if (NOT bVar3)
            {
                if (g_U38937[I]._fU16 == Result)
                {
                    bVar3 = true;
                }
            }
        }
        g_U38936++;
    }
    return Result;
}

void sub_121011(int iParam0)
{
    int I;

    if (iParam0 == -1)
    {
        SCRIPT_ASSERT( "Reuse_VoiceID: VoiceID being re-used is UNKNOWN" );
        return;
    }
    I = 0;
    for ( I = 0; I < 12; I++ )
    {
        if (g_U39029[I] == -1)
        {
            g_U39029[I] = iParam0;
            return;
        }
    }
    SCRIPT_ASSERT( "Reuse_VoiceID: Failed to find an unused slot for the VoiceID" );
    return;
}

int sub_121422(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;

    uVar3 = {sub_39750( uParam0 )};
    uVar7 = GET_STRING_FROM_TEXT_FILE( ref uVar3 );
    if (COMPARE_STRING( uVar7, "Terry" ))
    {
        return 1;
    }
    return 0;
}

int sub_121512(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;

    uVar3 = {sub_39750( uParam0 )};
    uVar7 = GET_STRING_FROM_TEXT_FILE( ref uVar3 );
    if (COMPARE_STRING( uVar7, "Clay" ))
    {
        return 1;
    }
    return 0;
}

void sub_121678()
{
    sub_121687();
    return;
}

void sub_121687()
{
    int iVar2;

    iVar2 = 5;
    sub_121701( iVar2 );
    sub_2454( iVar2 );
    return;
}

void sub_121701(unknown uParam0)
{
    if (g_U12306[uParam0]._fU12)
    {
        return;
    }
    SET_PLAYER_MOOD_PISSED_OFF( sub_3898(), 150 );
    CLEAR_HELP();
    sub_1313( uParam0 );
    return;
}

